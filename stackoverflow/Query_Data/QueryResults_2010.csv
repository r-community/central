Id,PostTypeId,AcceptedAnswerId,ParentId,CreationDate,DeletionDate,Score,ViewCount,Body,OwnerUserId,OwnerDisplayName,LastEditorUserId,LastEditorDisplayName,LastEditDate,LastActivityDate,Title,Tags,AnswerCount,CommentCount,FavoriteCount,ClosedDate,CommunityOwnedDate,ContentLicense,PostId,TagId,Id,TagName,Count,ExcerptPostId,WikiPostId,IsModeratorOnly,IsRequired
"1989995","1","1990033","","2010-01-01 23:19:03","","4","1351","<p>Can someone point me to a good tutorial for using vectorized programming methods in R.
At the moment it feels very magical to me and I don't really understand what R's doing.
Especially with regards to if statements and addressing values neighboring rows.</p>
","25282","","","","","2014-01-29 16:11:29","Tutorial for R vectorised programming","<r>","2","0","5","2014-08-26 01:14:12","","CC BY-SA 2.5","1989995","4452","4452","r","404559","3625322","3607736","",""
"1995933","1","1995984","","2010-01-03 19:12:47","","78","92769","<p>Is there a standard/common method/formula to calculate the number of months between two dates in R?</p>

<p>I am looking for something that is similar to <a href=""http://www.mathworks.com/access/helpdesk/help/toolbox/finance/months.html"" rel=""noreferrer"">MathWorks months function</a></p>
","205459","","5414452","","2016-01-08 21:25:27","2020-05-06 06:10:51","Number of months between two dates","<r><date>","11","1","19","","","CC BY-SA 3.0","1995933","4452","4452","r","404559","3625322","3607736","",""
"2001441","1","2001492","","2010-01-04 19:01:21","","0","1304","<p>I try this command :</p>

<pre><code>Rscript ""/Users/test/Scripts/arg_test.R"" ""path_in=/Users/test/GR/web-app/Rproject/Inputs/Rmerge/Description.csv"" path_in2=""/Users/test/IdeaProjects/Rproject/Inputs/Rmerge/Template_Auto.csv""
</code></pre>

<p>but I have this error :
Error in parse(text = args[[i]]) : unexpected '/' in ""path_in=/""</p>

<p>Part of Rscript :</p>

<pre><code>args=(commandArgs(TRUE))

if(length(args)==0){
    print(""No arguments supplied."")
}else{
    for(i in 1:length(args)){
         eval(parse(text=args[[i]]))
    }
}


path_out = ""/Users/test/Rproject/Results/""

annotation = read.csv(paste(path_in, sep=""""))

modules = read.csv(paste(path_in2, sep=""""))

merge_output = merge(annotation, modules, by = ""Module"")
</code></pre>

<p>How can I define path_in as argument(args) ?</p>

<p>Thank you.</p>
","103832","","223783","","2010-01-04 19:21:57","2010-01-04 19:21:57","Rscript: Define path file as argument","<bash><shell><r><rscript>","3","0","","","","CC BY-SA 2.5","2001441","4452","4452","r","404559","3625322","3607736","",""
"2001625","1","","","2010-01-04 19:34:24","","0","112","<p>I would like to know what kind of information does an object of class Spatialpolygons has versus an object of class Polygons. </p>
","202190","","","","","2010-10-06 09:27:01","where do I find the definition of class objects in spatstat","<r><spatstat>","1","2","","","","CC BY-SA 2.5","2001625","4452","4452","r","404559","3625322","3607736","",""
"2003465","1","2050558","","2010-01-05 00:59:55","","2","4257","<p>R question: Looking for the fastest way to NUMERICALLY solve a bunch of arbitrary cubics known to have real coeffs and three real roots. The polyroot function in R is reported to use Jenkins-Traub's algorithm 419 for complex polynomials, but for real polynomials the authors refer to their earlier work. What are the faster options for a real cubic, or more generally for a real polynomial? </p>
","182378","","182378","","2010-01-06 13:55:48","2019-10-20 09:38:12","Fastest numerical solution of a real cubic polynomial?","<r><numerical-methods>","7","2","1","","","CC BY-SA 2.5","2003465","4452","4452","r","404559","3625322","3607736","",""
"2003663","1","2003680","","2010-01-05 01:51:01","","17","12944","<p>In <a href=""http://en.wikipedia.org/wiki/R_language"" rel=""noreferrer"">R</a>, how can I import the contents of a multiline text file (containing SQL) to a single string? </p>

<p>The sql.txt file looks like this:</p>

<pre><code>SELECT TOP 100 
 setpoint, 
 tph 
FROM rates
</code></pre>

<p>I need to import that text file into an R string such that it looks like this:</p>

<pre><code>&gt; sqlString
[1] ""SELECT TOP 100 setpoint, tph FROM rates""
</code></pre>

<p>That's so that I can feed it to the RODBC like this</p>

<pre><code>&gt; library(RODBC)
&gt; myconn&lt;-odbcConnect(""RPM"")
&gt; results&lt;-sqlQuery(myconn,sqlString)
</code></pre>

<p>I've tried the readLines command as follows but it doesn't give the string format that RODBC needs.</p>

<pre><code>&gt; filecon&lt;-file(""sql.txt"",""r"")
&gt; sqlString&lt;-readLines(filecon, warn=FALSE)
&gt; sqlString
[1] ""SELECT TOP 100 ""                              ""\t[Reclaim Setpoint Mean (tph)] as setpoint, ""
[3] ""\t[Reclaim Rate Mean (tph)] as tphmean ""       ""FROM [Dampier_RC1P].[dbo].[Rates]""           
&gt; 
</code></pre>
","176995","","176995","","2014-11-27 02:44:05","2017-05-03 14:17:08","Import multiline SQL query to single string","<string><file><r><statistics><rgui>","7","0","11","","","CC BY-SA 3.0","2003663","4452","4452","r","404559","3625322","3607736","",""
"2007464","1","2009944","","2010-01-05 16:33:26","","0","1118","<p>The <code>cast()</code> function is great at calculating margins for aggregate values:</p>

<p><code>cast(df, IDx1+IDx2~IDy1, margins=c('IDx1','IDx2','grand_row'),c(min, mean, max))</code></p>

<p>The problem is that I need to weight my means using a second vector and a custom function. </p>

<p>Of course, <code>ddply()</code> lets me apply custom aggregation functions to my grouped records:</p>

<pre><code>ddply(d, IDx1+IDx2~IDy1 , function(x) 
c(
min(x$value),
MyFancyWeightedHarmonicMeanFunction(x$value,x$weight),
max(x$value)
)
)
</code></pre>

<p>...and this is awesome.</p>

<p>But what would really save the day is the ability to do both things at once, whether by calling the two-vector function in <code>cast()</code> or by faking somehow the <code>margins=()</code> variable in <code>ddply().</code></p>

<p>Is this possible?</p>
","197321","","5414452","","2016-01-08 21:58:06","2016-01-08 21:58:06","Can I do margin calculations in ddply()?","<r><plyr>","1","0","","","","CC BY-SA 2.5","2007464","4452","4452","r","404559","3625322","3607736","",""
"2010641","1","2012798","","2010-01-06 02:42:39","","2","344","<p>Does anyone have any suggestions for a good way to call R from S-Plus?  Ideally I would like to just pass code to R and get data back without having to write anything too elaborate to integrate them.  </p>

<p>I should add that I'm familiar with the <a href=""http://www.omegahat.org/RinS/"" rel=""nofollow noreferrer"">RinS</a> package on Omegahat, but I haven't used it.  I was under the impression that Insightful had made an effort to integrate the environments before Tibco took over.</p>

<p><em>Edit:</em> It turns out that RinS doesn't work on Windows.  I found that the easiest solution was to just use Rscript.  I can call this from S-Plus with the <code>system()</code> command.  For example, here's a simple script:</p>

<pre><code>#! Rscript --vanilla --default-packages=utils
args &lt;- commandArgs(TRUE)
print(args)
print(1:100)
Sys.sleep(2)
res &lt;- ""hello world""
class(res) &lt;- ""try-error""
if(inherits(res, ""try-error"")) q(status=1) else q()
</code></pre>

<p>And calling it from S-Plus:</p>

<pre><code>system(""rscript c://test.rscript 'some text'"")
</code></pre>

<p>Then I just store the results into a text file and import it into S-Plus after the script is run.  </p>
","163053","","163053","","2011-01-12 16:11:46","2011-01-12 16:11:46","Calling R from S-Plus?","<r><s-plus><s>","1","2","","","","CC BY-SA 2.5","2010641","4452","4452","r","404559","3625322","3607736","",""
"2018480","1","2030966","","2010-01-07 05:50:07","","10","2073","<p>I'm looking for a function to dump variables and objects, with human readable explanations of their data types.  For instance, in php <code>var_dump</code> does this.</p>

<pre><code>$foo = array();
$foo[] = 1;
$foo['moo'] = 2;

var_dump($foo);
</code></pre>

<p>Yields:</p>

<pre><code>array(2) {
  [0]=&gt;
  int(1)
  [""moo""]=&gt;
  int(2)
}
</code></pre>
","245292","","680068","user4275591","2019-02-06 14:47:26","2019-02-06 14:47:26","What is the equivalent of var_dump() in R?","<php><r><serialization><dump>","5","0","2","","","CC BY-SA 4.0","2018480","4452","4452","r","404559","3625322","3607736","",""
"2020790","1","2020980","","2010-01-07 14:00:35","","12","1726","<p>Is it possible to determine - from within the script - whether the script is running in the R-GUI (specifically R.app on OS X) or whether it has been called from Terminal/command line (i.e. <code>R --vanilla -f script.R</code>)? If so, how is this possible?</p>

<p>I'm asking because I have a script that can run parallelized (using the <code>doMC</code> library), which should not be used from the GUI. Sometimes I need to further process the data calculated in the script, so I'd like to call the script from the GUI on these occasions.</p>
","148335","","","","","2010-01-07 14:34:45","R Script: Determine whether the script is run in the GUI or from command line","<user-interface><command-line><r><scripting>","2","0","3","","","CC BY-SA 2.5","2020790","4452","4452","r","404559","3625322","3607736","",""
"2030895","1","2034621","","2010-01-08 21:31:14","","0","173","<p>I have asked this question before and received a solution, but my problem is somewhat varied from the original explanation </p>

<p>I have a data frame, like this: </p>

<pre><code>nums&lt;-c(5,7,8,9,10,3,2,1)
text&lt;-c(""Company a"",""Company b"",""Company c"",""Company d"",""Company a 09"",""Company b 09"",""Company c 09"",""Company d 09"")
this &lt;- data.frame()
this &lt;- cbind(text,nums)
</code></pre>

<p>""Company a:d"" = data from 2010, ""Company a 09:d:09"" = data from 2009. I'd like it to be sorted first by the numeric column from greatest to least and then by the string column. The only catch is that the string column has to show the 09' data underneath the 2010 data, like this: </p>

<pre><code>""Company d""   9
""Company d 09"" 1
""Company c""   8
""Company c 09"" 2
""Company b""   7
""Company b 09"" 3
""Company a""   5 
""Company a 09"" 10
</code></pre>

<p>There's been a few suggestions from <a href=""https://stackoverflow.com/questions/1956337/inner-sort-with-r-once-by-numeric-then-by-alpha"">this question</a>, but I can't replicate it for this, somewhat more complicated example. </p>

<p>I've uploaded some <a href=""http://www.bertelsen.ca/R/testdata.csv"" rel=""nofollow noreferrer"">test data</a>.</p>
","170352","","-1","","2017-05-23 10:27:42","2010-01-09 23:00:02","Inner Sort with R - Once by Numeric then by Alpha (V2)","<r>","1","3","3","","","CC BY-SA 2.5","2030895","4452","4452","r","404559","3625322","3607736","",""
"2034255","1","","","2010-01-09 17:40:22","","2","3382","<p>Is there a simple way to make a nice plot of the following data in R, without using many commands?</p>

<pre><code> Region1 Region2
2007 17 55
2008 26 43
2009 53 70
2010 96 58
</code></pre>

<p>I do know how to plot the data, but it uses too many commands and parameters, and the result still looks absolutely terrible (see <a href=""http://i50.tinypic.com/30nklfm.png"" rel=""nofollow noreferrer"">here</a>):</p>

<pre><code>&gt; test &lt;- read.table(""/tmp/data.txt"")
&gt; png(filename=""/tmp/test.png"", height=1000, width=750, bg=""white"", res=300)
&gt; plot(test$Region1, type=""b"", col=""blue"", ylim=c(0,100), lwd=3)
&gt; lines(test$Region2, type=""b"", col=""red"", lwd=3)
&gt; dev.off()
</code></pre>

<p>It took me a while to figure out all the commands, and I still have to get the x axis labels (2007, 2008, ...), using the <code>axis</code> command (but how do I access the <code>test</code> x axis labels?), etc. </p>

<p>In Keynote (or Powerpoint) I can just give it the same table (transposed) and it produces a nice graph from it (see <a href=""http://i45.tinypic.com/b3tw08.jpg"" rel=""nofollow noreferrer"">here</a>).</p>

<p>My question is really: Is there a higher-level command that draws such typical data nicely? Also, how can I separate the drawing logic (draw 2 lines from that specific data, etc.) from the layout (use specific colors and line types for the graph, etc.)? Ideally, I'd hope there were different libraries for different layouts of the graph, e.g. called <code>NiceKeynoteLayout</code>, which I just could use like this (or similar):</p>

<pre><code>&gt; d &lt;- read.table(""/tmp/data.txt"")
&gt; png &lt;- png(filename=""/tmp/test.png"", height=1000, width=750)
&gt; myLayout &lt;- loadPredefinedLayout(""NiceKeynoteLayout"")
&gt; coolplot(d, layout=myLayout, out=png)
</code></pre>
","60628","","","","","2021-04-06 15:09:06","How to plot nice graph using few commands, separating drawing logic from layout?","<graphics><r><plot>","4","0","1","","","CC BY-SA 2.5","2034255","4452","4452","r","404559","3625322","3607736","",""
"2036250","1","2036387","","2010-01-10 05:45:43","","3","2962","<p>I'm trying to import some data into R and not having much luck grouping together rows of related data. </p>

<p>Example:
There a set of problems such as {A, B, C, D}. Each problem has two variables of interest which are being measured: ""x"" and ""y"". 
Each variable is analysed in terms of some simple statistics: min, max, mean, stddev.</p>

<p>So, my input data has the form:</p>

<pre><code>      Min  Max  Mean  StdDev
A
  x   3    10   6.6   2.1 
  y   2    5    3.2   1.7
B
  x   3    10   6.6   2.1 
  y   2    5    3.2   1.7
C
  x   3    10   6.6   2.1 
  y   2    5    3.2   1.7
D
  x   3    10   6.6   2.1 
  y   2    5    3.2   1.7
</code></pre>

<p>Is there any way to preserve the structure of this data in R?
A similar problem is creating groups of columns (flip the table by 90 degrees to the right for example).</p>
","20426","","","","","2010-01-10 06:58:55","Grouping rows or columns of data in R","<r>","1","0","1","","","CC BY-SA 2.5","2036250","4452","4452","r","404559","3625322","3607736","",""
"2039763","1","2039790","","2010-01-11 03:33:18","","6","3870","<p>I've spent a few weeks learning some R and I'm floored at just how slick and powerful it is. I'm using it to plot some data returned from an SQL query, and I'd like to be able to share those plots with others I work with through a web portal. </p>

<p>I realize I can create a cron job to run the R scripts on the webserver to create the plots daily to be viewed from the website as images. But is there any way I can set things up such that the images are created only when the user views the page? That way I could make a web interface that lets the user select date ranges, etc for the SQL query. (and then have R analyse the data and plot it)</p>

<p>Any advice?</p>
","246211","","1315767","","2014-01-01 17:42:51","2014-01-01 17:42:51","Dynamically create R graphics for webpage","<web-applications><graphics><r>","3","0","3","","","CC BY-SA 3.0","2039763","4452","4452","r","404559","3625322","3607736","",""
"2040026","1","","","2010-01-11 05:10:59","","3","3488","<p>I have a text file that I'd like to import into <code>R</code>. Problem is, the file looks like this:</p>

<pre><code>x1,x2,x3,x4,x5,x6,x7,x8,x9,10,x11
   1953.00       7.40000       159565.       16.6680       8883.00    
   47.2000       26.7000       16.8000       37.7000       29.7000    
   19.4000    
   1954.00       7.80000       162391.       17.0290       8685.00    
   46.5000       22.7000       18.0000       36.8000       29.7000    
   20.0000
</code></pre>

<p>and so on.</p>

<p>I tried <code>&gt; data &lt;- read.table(""clipboard"", header=TRUE)</code> but that didn't work.</p>
","247810","","4370109","","2015-12-03 18:54:52","2015-12-03 18:54:52","How to import data with line breaks from text file into R?","<r><input><text-files>","3","3","2","","","CC BY-SA 3.0","2040026","4452","4452","r","404559","3625322","3607736","",""
"2041120","1","","","2010-01-11 10:19:07","","2","396","<p>As a fairly new R programmer I seem to have run into a strange problem - probably my inexperience with R</p>

<p>After reading and merging successive files into a single data frame, I find that order does not sort the data as expected. </p>

<p>I have multiple references in each file but each file refers to measurement data obtained at a different time.</p>

<p>Here's the code</p>

<pre><code>library(reshape)
# Enter file name to Read &amp; Save data
FileName=readline(""Enter File name:\n"")
# Find first occurance of file
for ( round1 in 1 : 6) {
ReadFile=paste(round1,""C_"",FileName,""_Stats.csv"", sep="""")
if (file.exists(ReadFile))
break
}

x = data.frame(read.csv(ReadFile, header=TRUE),rnd=round1)
for ( round2 in (round1+1) : 6) {
#
ReadFile=paste(round2,""C_"",FileName,""_Stats.csv"", sep="""")
if (file.exists(ReadFile)) {
y = data.frame(read.csv(ReadFile, header=TRUE),rnd = round2)
    if (round2 == (round1 +1))
    z=data.frame(merge(x,y,all=TRUE))
    z=data.frame(merge(y,z,all=TRUE))
}
}
ordered = order(z$lab_id)

results = z[ordered,]

res = data.frame( lab=results[,""lab_id""],bw=results[,""ZBW""],wi=results[,""ZWI""],pf_zbw=0,pf_zwi=0,r = results[,""rnd""])


#
# Establish no of samples recorded
nsmpls = length(res[,c(""lab"")])

# Evaluate Z_scores for Between Lab Results
for ( i in 1 : nsmpls) {
if (res[i,""bw""] &gt; 3 | res[i,""bw""] &lt; -3)
res[i,""pf_zbw""]=1
}
# Evaluate Z_scores for Within Lab Results
for ( i in 1 : nsmpls) {
if (res[i,""wi""] &gt; 3 | res[i,""wi""] &lt; -3)
res[i,""pf_zwi""]=1
}

dd = melt(res, id=c(""lab"",""r""), ""pf_zbw"")
b = cast(dd, lab ~ r)
</code></pre>

<p>If anyone could see why the ordering only works for about 55 of 70 records and could steer me in the right direction I would be obliged</p>

<p>Thanks very much</p>
","247946","","172261","","2010-01-11 10:22:47","2010-01-12 02:07:37","Ordering Merged data frames","<r>","1","5","1","","","CC BY-SA 2.5","2041120","4452","4452","r","404559","3625322","3607736","",""
"2043760","1","","","2010-01-11 18:03:32","","1","106","<p>I am attempting to retrieve email addresses of contributing package authors and maintainers to the R-Project.  The function reads as follows:</p>

<pre><code>availpkgs &lt;- available.packages(contriburl = contrib.url(getOption(""repos""), type),
    method, fields = NULL, type = getOption(""pkgType""),
    filters = NULL)
</code></pre>

<p>I've attempted different character values in the <code>fields</code> parameter to retrieve Maintainer and Author info from the 'PACKAGES' files, but have not been had luck.  Does anyone know how I might approach this?  Thank you in advance for your time.</p>
","248275","","","user4275591","2014-12-08 09:26:25","2014-12-08 09:26:25","Using the 'available.packages' Function to Retrieve Emails","<r>","1","3","","","","CC BY-SA 3.0","2043760","4452","4452","r","404559","3625322","3607736","",""
"2045706","1","2050993","","2010-01-11 23:29:16","","1","6113","<p>My script use an access to mysql to get command arguments to launch Rscript.
Its use is as follows : Rscript $RFILE $ARGUMENTS (RFILE corresponding to path to Rscript, and ARGUMENTS corresponding to path file used and agr).</p>

<p>I try, different way, but I still have errors, here a copy of my bash script :</p>

<pre><code>#!/usr/bin/env bash
# Execute R process
# -----------------
### Mysql Setup ###
USER=...
PASS=...
HOST=...
DB=...

# Get Job ID process
# Use to retrieve args in my DB
ID=$1

# Get script name
RFILE=$(mysql -u$USER -p$PASS -e ""SELECT script_name FROM JobProcess WHERE script_run_id=$ID;"" $DB)
SUBSTRING=""script_name""
RFILE=""${RFILE//$SUBSTRING}""

# Get script_args
ARGUMENTS=$(mysql -u$USER -p$PASS -e ""SELECT script_args FROM JobProcess WHERE script_run_id=$ID;"" $DB)
SUBSTRING2=""script_args""
ARGUMENTS=""${ARGUMENTS//$SUBSTRING2}""

RUN=""Rscript $RFILE $ARGUMENTS""

# Try Different execute process
Rscript $RFILE $ARGUMENTS
#eval ""$RUN""
#`Rscript $RFILE $ARGUMENTS`
#$RUN
</code></pre>

<p>I verified my command line (via echo), and if I made a copy-paste to my shell I can run my R script. But from my bash, I can't execute my script (but command line is good).</p>

<p>By using : Rscript $RFILE $ARGUMENTS, <code>Rscript $RFILE $ARGUMENTS</code> and $RUN, I have this error : </p>

<pre><code>Error in parse(text = args[[i]]) : 
  unexpected end of input in """"path_in='/Users/GR/web-app/Rproject/Inputs/Rscript/Gene-level""
Calls: eval -&gt; parse
Execution halted
</code></pre>

<p>By using : eval ""$RUN"", I have this error :</p>

<pre><code>/Users/GR/web-app/Rproject/Scripts/Rscript.sh: line 38: /Users/GR/web-app/Rproject/Scripts/arg_file_test.R: Permission denied
/Users/GR/web-app/Rproject/Scripts/Rscript.sh: line 44: path_in&lt;-""/Users/GR/web-app/Rproject/Inputs/Rscript/Gene-level Description for Modules.csv"": No such file or directory
</code></pre>

<p>If I try this in my shell script, all works fine :</p>

<pre><code>SCRIPT=""/Users/GR/web-app/Rproject/Scripts/arg_file_test.R""
FILE1=""path_in='/Users/GR/web-app/Rproject/Inputs/Rscript/Gene-level Description for Modules.csv'""
FILE2=""path_in2='/Users/GR/web-app/Rproject/Inputs/Rscript/Template_Auto.csv'""
FILES=""\""$FILE1\"" \""$FILE2\""""
ARG=""l=32 w=33""
RUN=""Rscript $SCRIPT $FILES $ARG""
</code></pre>

<p>Someone has an idea ?</p>

<p>Thanks</p>
","103832","","131433","","2010-01-11 23:30:49","2010-01-13 02:31:06","Why my bash can't execute R script?","<bash><shell><scripting><r><rscript>","6","0","1","","","CC BY-SA 2.5","2045706","4452","4452","r","404559","3625322","3607736","",""
"2045837","1","2045974","","2010-01-12 00:03:34","","3","1401","<p>I'd like to save a plot image directly to the database.</p>

<p>Is the best way in R to do this:</p>

<ol>
<li>Write the plot image (png) to the filesystem</li>
<li>Read the file that was written</li>
<li>Send the file to the database via query (RODBC)</li>
</ol>

<p>Ideally I'd like to combine steps 1 and 2 above by simply write the png image to a binary connection.  Does R support this?</p>
","15050","","","","","2010-01-12 19:06:09","How to save R plot image to database?","<database><r><rodbc>","3","0","","","","CC BY-SA 2.5","2045837","4452","4452","r","404559","3625322","3607736","",""
"2046881","1","2127885","","2010-01-12 05:23:52","","12","18000","<p>Is there anyway to run R scripts through Apache and PHP? I would like to be able to pass variables from PHP to R. </p>

<p>Has anyone done something like this? </p>

<p>Essentially, I would like to know if there is a method for passing variables from PHP to R on an apache server. </p>
","170352","","170352","","2010-01-20 02:05:37","2014-04-02 12:41:01","Using R with Apache & PHP","<php><apache><r>","8","0","16","2014-04-02 13:09:27","","CC BY-SA 2.5","2046881","4452","4452","r","404559","3625322","3607736","",""
"2047487","1","","","2010-01-12 07:55:31","","1","6121","<p>I have a dataset in R, which contains the results of a rapid diagnostic test.  The test has a visible line if it is working properly (control line) and a visible line for each of the two parasite species it detects, if they are present in the patient sample.</p>

<p>The dataset contains a logical column for each test line, as follows:
(database is called RDTbase)</p>

<pre><code>   Control  Pf    Pv
1. TRUE     TRUE  FALSE
2. TRUE     FALSE TRUE
3. FALSE    FALSE FALSE
4. TRUE     TRUE  TRUE
5. TRUE     FALSE FALSE
</code></pre>

<p>I would like to add a new column which contains a single result for each rapid test.  The results are designated according to the different logical conditions met by the three lines.  For the example above the new column would look like this:</p>

<pre><code>Control  Pf     Pv     Result
1. TRUE  TRUE   FALSE  Pf
2. TRUE  FALSE  TRUE   Pv
3. FALSE FALSE  FALSE  Invalid
4. TRUE  TRUE   TRUE   Mixed
5. TRUE  FALSE  FALSE  Negative
</code></pre>

<p>I am able to create the new column, but it takes a lot of coding and I think there has to be a much simpler (and shorter) way to do this.</p>

<p>Here is my current (long) method:</p>

<pre><code>R.Pf &lt;- RDTbase[which(Control == ""TRUE"" &amp; Pf == ""TRUE"" &amp; Pv == ""FALSE""),]
R.Pv &lt;- RDTbase[which(Control == ""TRUE"" &amp; Pf == ""FALSE"" &amp; Pv == ""TRUE""),]
R.inv &lt;- RDTbase[which(Control == ""FALSE""),]
R.mix &lt;- RDTbase[which(Control == ""TRUE"" &amp; Pf == ""TRUE"" &amp; Pv == ""TRUE""),]
R.neg &lt;- RDTbase[which(Control == ""TRUE"" &amp; Pf == ""FALSE"" &amp; Pv == ""FALSE""),]

R.Pf$Result &lt;- c(""Pf"")
R.Pv$Result &lt;- c(""Pv"")
R.inv$Result &lt;- c(""Invalid"")
R.mix$Result &lt;- c(""Mixed"")
R.neg$Result &lt;- c(""Negative"")

RDTbase2 &lt;- rbind(R.Pf, R.Pv, R.inv, R.mix, R.neg)
</code></pre>

<p>Any ideas on how to simplify and shorten this code would be greatly appreciated, as I have to do this kind of thing to my databases alot.</p>

<p>Many thanks,
Amy</p>
","248690","","16632","","2010-01-12 13:49:59","2010-01-12 14:22:33","Creating a new variable from a conditional operation on 3 old variables in R","<r><variables><conditional>","3","1","3","","","CC BY-SA 2.5","2047487","4452","4452","r","404559","3625322","3607736","",""
"2048304","1","2049391","","2010-01-12 10:49:24","","9","5020","<p>I'm creating a series of plots in R (I'm using ggplot2, but that's not essential) and I want to be able to save my output so I can then edit it for furthur use, For instance, I might want to move legends about, or adjust colours etc.  I have seen that ggplot2 has a save command but that seems to produce pdf's or bitmaps, neither of which are particularly editable</p>

<p>How do other people do this ?  Any good ideas ?</p>

<p>Here's some sample code to produce a sample plot;</p>

<pre><code>library(ggplot2)
dataframe&lt;-data.frame(fac=factor(c(1:4)),data1=rnorm(400,100,sd=15))
dataframe$data2&lt;-dataframe$data1*c(0.25,0.5,0.75,1)
dataframe
testplot&lt;-qplot(x=fac, y=data2,data=dataframe, colour=fac, geom=c(""boxplot"", ""jitter""))
testplot
</code></pre>

<p>Thanks</p>

<p>Paul.</p>
","74658","","","","","2017-01-24 16:17:06","Create Editable plots from R","<graphics><r><ggplot2>","4","0","8","","2010-01-12 15:07:53","CC BY-SA 2.5","2048304","4452","4452","r","404559","3625322","3607736","",""
"2050610","1","2051017","","2010-01-12 16:46:36","","17","11448","<p>I am using ggplot2 to explore the result of some testing on an agent-based model.  The model can end in one of three rounds per realization, and as such I am interested in how player utilities differ in terms of what round the game ends and their relative position in 2D space.</p>

<p>All this is to say that I have generated a facet_wrap plot to show this for each round, but I would also like to annotate each plot with the cor(x,y) for the subset of data represented in each facet.  Is there a way to tell ggplot2 that I would like the annotation to use the subset of data generated by facet_wrap?  Here is the code I have so far, and what it is producing</p>

<pre><code>library(ggplot2)

# Load data
abm.data&lt;-read.csv(""ABM_results.csv"")

# Create new colun for area of Pareto set
attach(abm.data)
area&lt;-abs(((x3*(y2-y1))+(x2*(y1-y3))+(x1*(y3-y2)))/2)
abm.data&lt;-transform(abm.data,area=area)
detach(abm.data)

# Compare area of Pareto set with player utility
png(""area_p1.png"",res=100,pointsize=20,height=500,width=1600)
area.p1&lt;-ggplot(abm.data,aes(x=area))+geom_point(aes(y=U1_2,colour=""Player 1"",alpha=0.4))+facet_wrap(~round,ncol=3)+
    annotate(""text"",0.375,-1.25,label=paste(""rho="",round(cor(abm.data$area,abm.data$U1_2),2)), parse=TRUE)+
    scale_colour_manual(values=c(""Player 1""=""red""))
area.p1+xlab(""Area of Pareto Set"")+ylab(""Player Utility at Game End"")+
    opts(title=""Final Player 1 Utility by Pareto Set Size and Round Game Ends"",legend.position=""none"")
dev.off()
</code></pre>

<p><a href=""https://i.stack.imgur.com/wCRJF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wCRJF.png"" alt=""area_p1""></a><br>
<sub>(source: <a href=""http://www.drewconway.com/zia/wp-content/uploads/2010/01/area_p1.png"" rel=""nofollow noreferrer"">drewconway.com</a>)</sub>  </p>

<p>As you can see, there are two problems:</p>

<ol>
<li>The \rho value is of the full dataset, rather than the subsets by 'round'.  Is there a way to get the cor(x,y) to print based on only the data shown in each plot?</li>
<li>The annotation should read ""\rho=some_value"" but instead I get ""=(\rho,value);"" is there a way to fix this?  </li>
</ol>
","144537","","4751173","","2019-06-01 10:04:01","2019-06-01 10:04:01","Creating a facet_wrap plot with ggplot2 with different annotations in each plot","<r><graph><ggplot2>","2","0","11","","","CC BY-SA 4.0","2050610","4452","4452","r","404559","3625322","3607736","",""
"2050790","1","2051159","","2010-01-12 17:08:50","","326","206356","<p>Brief background: Many (most?) contemporary programming languages in widespread use have at least a handful of ADTs [abstract data types] in common, in particular,</p>

<ul>
<li><p><strong>string</strong> (a sequence comprised of characters)</p></li>
<li><p><strong>list</strong> (an ordered collection of values), and</p></li>
<li><p><strong>map-based type</strong> (an unordered array that maps keys to values)</p></li>
</ul>

<p>In the R programming language, the first two are implemented as <code>character</code> and <code>vector</code>, respectively.</p>

<p>When I began learning R, two things were obvious almost from the start: <code>list</code> is the most important data type in R (because it is the parent class for the R <code>data.frame</code>), and second, I just couldn't understand how they worked, at least not well enough to use them correctly in my code.</p>

<p>For one thing, it seemed to me that R's <code>list</code> data type was a straightforward implementation of the map ADT (<code>dictionary</code> in Python, <code>NSMutableDictionary</code> in Objective C, <code>hash</code> in Perl and Ruby, <code>object literal</code> in Javascript, and so forth).</p>

<p>For instance, you create them just like you would a Python dictionary, by passing key-value pairs to a constructor (which in Python is <code>dict</code> not <code>list</code>):</p>

<pre><code>x = list(""ev1""=10, ""ev2""=15, ""rv""=""Group 1"")
</code></pre>

<p>And you access the items of an R List just like you would those of a Python dictionary, e.g., <code>x['ev1']</code>. Likewise, you can retrieve just the <em>'keys'</em> or just the <em>'values'</em> by: </p>

<pre><code>names(x)    # fetch just the 'keys' of an R list
# [1] ""ev1"" ""ev2"" ""rv""

unlist(x)   # fetch just the 'values' of an R list
#   ev1       ev2        rv 
#  ""10""      ""15"" ""Group 1"" 

x = list(""a""=6, ""b""=9, ""c""=3)  

sum(unlist(x))
# [1] 18
</code></pre>

<p>but R <code>list</code>s are also <strong><em>unlike</em></strong> other map-type ADTs (from among the languages I've learned anyway). My guess is that this is a consequence of the initial spec for S, i.e., an intention to design a data/statistics DSL [domain-specific language] from the ground-up. </p>

<p><em>three</em> significant differences between R <code>list</code>s and mapping types in other languages in widespread use (e.g,. Python, Perl, JavaScript):</p>

<p><em>first</em>, <code>list</code>s in R are an <em>ordered</em> collection, just like vectors, even though the values are keyed (ie, the keys can be any hashable value not just sequential integers). Nearly always, the mapping data type in other languages is <em>unordered</em>.</p>

<p><em>second</em>, <code>list</code>s can be returned from functions even though you never passed in a <code>list</code> when you called the function, and <em>even though</em> the function that returned the <code>list</code> doesn't contain an (explicit) <code>list</code> constructor (Of course, you can deal with this in practice by wrapping the returned result in a call to <code>unlist</code>):</p>

<pre><code>x = strsplit(LETTERS[1:10], """")     # passing in an object of type 'character'

class(x)                            # returns 'list', not a vector of length 2
# [1] list
</code></pre>

<p>A <em>third</em> peculiar feature of R's <code>list</code>s: it doesn't seem that they can be members of another ADT, and if you try to do that then the primary container is coerced to a <code>list</code>. E.g.,</p>

<pre><code>x = c(0.5, 0.8, 0.23, list(0.5, 0.2, 0.9), recursive=TRUE)

class(x)
# [1] list
</code></pre>

<p>my intention here is not to criticize the language or how it is documented; likewise, I'm not suggesting there is anything wrong with the <code>list</code> data structure or how it behaves. All I'm after is to correct is my understanding of how they work so I can correctly use them in my code. </p>

<p>Here are the sorts of things I'd like to better understand:</p>

<ul>
<li><p>What are the rules which determine when a function call will return a <code>list</code> (e.g., <code>strsplit</code> expression recited above)?</p></li>
<li><p>If I don't explicitly assign names to a <code>list</code> (e.g., <code>list(10,20,30,40)</code>) are the default names just sequential integers beginning with 1?  (I assume, but I am far from certain that the answer is yes, otherwise we wouldn't be able to coerce this type of <code>list</code> to a vector w/ a call to <code>unlist</code>.)</p></li>
<li><p>Why do these two different operators, <code>[]</code>, and <code>[[]]</code>, return the <em>same</em> result?</p>

<p><code>x = list(1, 2, 3, 4)</code></p>

<p>both expressions return ""1"":</p>

<p><code>x[1]</code></p>

<p><code>x[[1]]</code></p></li>
<li><p>why do these two expressions <strong>not</strong> return the same result?</p>

<p><code>x = list(1, 2, 3, 4)</code></p>

<p><code>x2 = list(1:4)</code></p></li>
</ul>

<p>Please don't point me to the R Documentation (<a href=""http://www.inside-r.org/r-doc/base/list"" rel=""noreferrer""><code>?list</code></a>, <a href=""http://cran.r-project.org/doc/manuals/r-devel/R-intro.html#Lists"" rel=""noreferrer""><code>R-intro</code></a>)--I have read it carefully and it does not help me answer the type of questions I recited just above.</p>

<p>(lastly, I recently learned of and began using an R Package (available on CRAN) called <a href=""http://mran.revolutionanalytics.com/packages/info/?hash"" rel=""noreferrer""><code>hash</code></a> which implements <em>conventional</em> map-type behavior via an S4 class; I can certainly recommend this Package.)</p>
","66549","","903061","","2017-10-05 15:03:36","2021-04-27 09:14:15","How to Correctly Use Lists in R?","<r><list><data-structures><language-features><abstract-data-type>","13","3","174","","","CC BY-SA 3.0","2050790","4452","4452","r","404559","3625322","3607736","",""
"2052174","1","","","2010-01-12 20:38:24","","1","4179","<p>I am trying to replace values in a R dataframe by column. I would like to loop though a given list of columns of the dataframe and replace all ""Yes"" values by 1 and all the other values by 0.</p>

<p>I tried to do this using transform() and ifelse() functions with the something like this:</p>

<pre><code># List of selected Columns:
ColumnNames = c(""Frigori"", ""Microond"" , ""Arca"", ""Aspira"")

# Replace Values in dataframe
for(i in 1:length(ColumnNames)){
dataframe &lt;- transform(dataframe, ColumnNames[i] = ifelse(Columnames[i] == ""Yes"", 1, 0))
}
</code></pre>

<p>This piece of code works fine with explicit column names outside the loop, but with the array it will give me the following error:</p>

<pre><code>Error: unexpected '=' in:
""for(i in 1:length(Appliances)){
dataframe &lt;- transform(dataframe, ColumnNames[i] =""
</code></pre>

<p>I don't know what goes wrong here, but the problem has to be related with the variable substitution.</p>
","249238","","1906816","","2013-02-21 02:17:18","2013-02-21 02:17:18","Transform R dataframes using variables in loop","<r><loops><conditional><dataframe>","2","0","2","","","CC BY-SA 2.5","2052174","4452","4452","r","404559","3625322","3607736","",""
"2053397","1","2053457","","2010-01-12 23:56:19","","34","27611","<p>What datatype choices do we have to handle large numbers in R? By default, the size of an integer seems to be 32bit, so bigint numbers from sql server as well as any large numbers passed from python via rpy2 get mangled.</p>

<pre><code>&gt; 123456789123
[1] 123456789123
&gt; 1234567891234
[1] 1.234568e+12
</code></pre>

<p>When reading a bigint value of 123456789123456789 using RODBC, it comes back as 123456789123456784 (see the last digit), and the same number when deserialized via RJSONIO, comes back as -1395630315L (which seems like an additional bug/limitation of RJSONIO).</p>

<pre><code>&gt; fromJSON('[1234567891]')
[1] 1234567891
&gt; fromJSON('[12345678912]')
[1] -539222976
</code></pre>

<p>Actually, I do need to be able to handle large numbers coming from JSON, so with RJSONIO's limitation, I may not have a workaround except for finding a better JSON library (which seems like a non-option right now). I would like to hear what experts have to say on this as well as in general.</p>
","95750","","5414452","","2016-01-09 14:36:14","2017-03-10 00:00:05","long/bigint/decimal equivalent datatype in R","<r><types>","7","0","7","","","CC BY-SA 2.5","2053397","4452","4452","r","404559","3625322","3607736","",""
"2054772","1","2058348","","2010-01-13 06:01:26","","1","499","<p>I am trying to use the <strong>outer</strong> function with <strong>predict</strong> in some classification code in R.  For ease, we will assume in this post that we have two vectors named <strong>alpha</strong> and <strong>beta</strong> each containing ONLY 0 and 1. I am looking for a simple yet efficient way to pass all combinations of <strong>alpha</strong> and <strong>beta</strong> to <strong>predict</strong>.</p>

<p>I have constructed the code below to mimic the lda function from the MASS library, so rather than ""lda"", I am using ""classifier"". It is important to note that the prediction method within <strong>predict</strong> depends on an (<strong>alpha</strong>, <strong>beta</strong>) pair.</p>

<p>Of course, I could use a nested for loop to do this, but I am trying to avoid this method.</p>

<p>Here is what I would like to do ideally:</p>

<pre><code>alpha &lt;- seq(0, 1)
beta &lt;- seq(0, 1)
classifier.out &lt;- classifier(training.data, labels)
outer(X=alpha, Y=beta, FUN=""predict"", classifier.out, validation.data)
</code></pre>

<p>This is a problem because <strong>alpha</strong> and <strong>beta</strong> are not the first two parameters in <strong>predict</strong>.</p>

<p>So, in order to get around this, I changed the last line to</p>

<pre><code>outer(X=alpha, Y=beta, FUN=""predict"", object=classifier.out, data=validation.data)
</code></pre>

<p>Note that my validation data has 40 observations, and also that there are 4 possible pairs of <strong>alpha</strong> and <strong>beta</strong>. I get an error though saying</p>

<pre><code>dims [product 4] do not match the length of object [40]
</code></pre>

<p>I have tried a few other things, some of which work but are far from simple. Any suggestions?</p>
","234233","","","","","2010-01-13 16:25:27","Using outer() with predict()","<r>","2","0","1","","","CC BY-SA 2.5","2054772","4452","4452","r","404559","3625322","3607736","",""
"2055677","1","2071896","","2010-01-13 09:42:16","","0","3413","<p>We want to log the commands and results of a R script into a text report file. The pipe into the text file works well with <code>sink()</code>, but not within a for loop.</p>

<p>The script is called with</p>

<pre><code>source(""myscript.r"",echo=TRUE)
</code></pre>

<p>We need the loop to extract all rows of a <code>data.frame</code> consecutively into a vector and do some vector based analysis with each vector.
Here's a short example:</p>

<pre><code>#pipe output to file
sink(""myfile.txt"",append=TRUE,split=TRUE)
#some data
c1&lt;-rnorm(10,mean=90,sd=10) 
c2&lt;-rnorm(10,mean=75,sd=8)
c3&lt;-rnorm(10,mean=98,sd=12)
#data in a data.frame
cData&lt;-data.frame(c1,c2,c3)
#print data.frame
cData  
#loop over frame 
for (i in 1:ncol(cData))  
{
  #extract vector
  x&lt;-cData[,i]
  #do something with vector
  n = length(x)
  #... more code
  #print result
  print(n)    
}
#close output
sink()
</code></pre>

<p>I tried it with <code>sink()</code> and <code>txtStart()</code> but <code>sink()</code> truncates the commands and puts results after the loop, <code>txtStart()</code> seems to repeat the commands but not the results. </p>

<p>I looked also at brew, but I just need a text file, nothing formatted.</p>
","249670","","402884","","2014-12-08 08:56:57","2014-12-08 08:56:57","Pipe R commands and results from within a for loop to a file","<logging><r><loops><pipe>","3","0","","","","CC BY-SA 3.0","2055677","4452","4452","r","404559","3625322","3607736","",""
"2055947","1","2120961","","2010-01-13 10:30:02","","-3","179","<p>What are the numbers of parameters to be penalized for when using information criterions(BIC or AIC or..) for selecting the best models? Let's say that we have 3 models: 1. Simple exponential smoothing 2. Holt's method(level+trend) 3. Holt Winters(L+T+S), where we have monthly seasonality. How many parameters for penalization does have each model?</p>
","236703","","","","","2010-01-22 22:20:29","Information criterions in exp smoothing models","<r><time-series>","1","1","","","","CC BY-SA 2.5","2055947","4452","4452","r","404559","3625322","3607736","",""
"2061897","1","2062865","","2010-01-14 03:03:22","","94","108958","<p>I am fairly new to R, but the more use it, the more I see how powerful it really is over SAS or SPSS.  Just one of the major benefits, as I see them, is the ability to get and analyze data from the web.  I imagine this is possible (and maybe even straightforward), but I am looking to parse JSON data that is publicly available on the web.  I am not a programmer by any stretch, so any help and instruction you can provide will be greatly appreciated.  Even if you point me to a basic working example, I probably can work through it.</p>
","155406","","5215474","","2018-07-14 19:39:24","2021-03-09 23:24:29","Parse JSON with R","<json><r>","6","0","31","","","CC BY-SA 4.0","2061897","4452","4452","r","404559","3625322","3607736","",""
"2062194","1","2062483","","2010-01-14 04:37:07","","10","6424","<p>Does anyone know of a function that can create an lm object given a dataset and coefficients?</p>

<p>I'm interested in this because I started playing with Bayesian model averaging (BMA) and I'd like to be able to create an lm object out of the results of bicreg.  I'd like to have access to all of the nice generic lm functions like diagnostic plotting, predict, cv.lm etc.</p>

<p>If you are pretty sure such a function doesn't exist that's also very helpful to know!</p>

<pre><code>library(BMA)
mtcars_y &lt;- mtcars[, 1] #mpg
mtcars_x &lt;- as.matrix(mtcars[,-1])
res &lt;- bicreg(mtcars_x, mtcars_y)

summary(res)
res$postmean # bma coefficients

# The approximate form of the function
# I'm looking for
lmObject &lt;- magicFunction(data=mtcars, coefficients=res$postmean)
</code></pre>
","15050","","","","","2010-01-14 10:42:21","Create lm object from data/coefficients","<r><linear-regression>","2","1","3","","","CC BY-SA 2.5","2062194","4452","4452","r","404559","3625322","3607736","",""
"2063821","1","2065483","","2010-01-14 11:52:36","","25","12690","<p>I'm running a monte-carlo simulation and the output is in the form:</p>

<pre><code>&gt; d = data.frame(iter=seq(1, 2), k1 = c(0.2, 0.6), k2=c(0.3, 0.4))
&gt; d
iter  k1   k2
1     0.2  0.3
2     0.6  0.4
</code></pre>

<p>The plots I want to generate are:</p>

<pre><code>plot(d$iter, d$k1)
plot(density(d$k1))
</code></pre>

<p>I know how to do equivalent plots using ggplot2,  convert to data frame</p>

<pre><code>new_d = data.frame(iter=rep(d$iter, 2), 
                   k = c(d$k1, d$k2), 
                   label = rep(c('k1', 'k2'), each=2))
</code></pre>

<p>then plotting is easy. However the number of iterations can be very large and the number of k's can also be large. This means messing about with a very large data frame.</p>

<p>Is there anyway I can avoid creating this new data frame?</p>

<p>Thanks</p>
","203420","","7410069","","2018-05-29 11:11:57","2018-05-29 11:11:57","Can I avoid using data frames in ggplot2?","<r><ggplot2>","4","0","3","","","CC BY-SA 4.0","2063821","4452","4452","r","404559","3625322","3607736","",""
"2067098","1","2067224","","2010-01-14 19:49:38","","34","35680","<p>I'm trying to learn R's <code>XML</code> package. I'm trying to create a data.frame from books.xml sample xml data file. Here's what I get:</p>

<pre><code>library(XML)
books &lt;- ""http://www.w3schools.com/XQuery/books.xml""
doc &lt;- xmlTreeParse(books, useInternalNodes = TRUE)
doc
xpathApply(doc, ""//book"", function(x) do.call(paste, as.list(xmlValue(x))))
xpathSApply(doc, ""//book"", function(x) strsplit(xmlValue(x), "" ""))
xpathSApply(doc, ""//book/child::*"", xmlValue)
</code></pre>

<p>Each of these xpathSApply's don't get me even close to my intention. How should one proceed toward a well formed data.frame?</p>
","184403","","163053","","2010-01-15 15:03:12","2017-11-02 04:55:57","How to transform XML data into a data.frame?","<xml><r><dataframe>","1","0","16","","","CC BY-SA 2.5","2067098","4452","4452","r","404559","3625322","3607736","",""
"2069836","1","2074719","","2010-01-15 06:23:33","","15","13778","<p>I'm having difficulties reading in a .shp (esri shape file) into R. I have tried several options in R, and tried to convert the shape file in ArcMap to something that correctly reads in the shape file but nothing worked yet. (In ArcMap I corrected the geometry, converted from single to multipolygon, etc which was probably not necessary or relevant)</p>

<p>It probably has something to with the fact that my shape file contains 'regions' (multi-polygons) instead of 'polygons'... </p>

<p>How can I read that type of shape file correctly in R for plotting? (it looks like a normal shape in ArcMap)</p>

<p>In ArcMap the shape file looks like this:
<a href=""http://bfast.r-forge.r-project.org/arcmapshape.jpg"" rel=""noreferrer"">http://bfast.r-forge.r-project.org/arcmapshape.jpg</a></p>

<p>(shows a shape file with polygons within other polygons)</p>

<p>In R it looks like this:
<img src=""https://i.stack.imgur.com/jRwBp.jpg"" alt=""enter image description here""></p>

<p>(shows a shape file where some polygons are wrongly filled)</p>

<p>I used the following code in R:</p>

<pre><code>require(maptools)
require(rgdal)

newproj &lt;- ""+proj=utm +zone=55 +south +ellps=GRS80 +units=m""
shape&lt;- readShapeSpatial(pdir, proj4string = CRS(newproj),repair=TRUE,force_ring=T,verbose=TRUE) # without any errors
plot(shape, col=""gray"",border=""blue"", axes=TRUE)

# via rgdal
folder &lt;- c(""spatial"")
lyr &lt;- c(""clipped_forest_mga"")
shp &lt;- readOGR(dsn=folder,layer=lyr)
plot(shp, col=""gray"",border=""blue"", axes=TRUE)
</code></pre>

<p>Both plot() commands give the same R result. No errors occur. only the following message</p>

<pre><code>OGR data source with driver: ESRI Shapefile 
Source: ""P:/Victoria_DSE/BFAST_spatial/vector/PLM_excl_fire03_09_GDA94LL/mgaz94z55/clipped_EG"", layer: ""clipped_forest_mga""
with 1 features and 4 fields
Feature type: wkbMultiPolygon with 2 dimensions
</code></pre>

<p>How can this be solved?</p>
","215244","","2173428","","2013-04-29 18:44:58","2019-11-20 21:45:28","reading and plotting an esri shape file in R","<r><vector><geospatial><plot><esri>","1","1","7","","","CC BY-SA 3.0","2069836","4452","4452","r","404559","3625322","3607736","",""
"2073000","1","2073120","","2010-01-15 16:12:33","","1","504","<p>1) long to wide question:</p>

<p>I have a dataset with 3 columns:
person, event, frequency.
If the frequency is zero, the row is not in the table. Is there a simple way using basic R functions or libraries to convert this table to wide format, with one row per person and one column per event with the frequency as the value in table. </p>

<p>2) rattle question: </p>

<p>On a related note, is this even necessary for Rattle to understand as an input?</p>

<p>I am trying to import some data into R to explore some of Rattle's machine learning algorithms.</p>

<p>Thanks!
Patrick McCann</p>
","251681","","251681","","2010-01-15 22:21:02","2010-01-15 22:21:02","2 questions: 1) long 2 wide data in R, 2) followup re: rattle","<r><statistics>","2","2","","","","CC BY-SA 2.5","2073000","4452","4452","r","404559","3625322","3607736","",""
"2074606","1","2074862","","2010-01-15 20:36:04","","34","11343","<p>I like the plyr syntax. Any time I have to use one of the *apply() commands I end up kicking the dog and going on a 3 day bender. So for the sake of my dog and my liver, what's concise syntax for doing a ddply operation on every row of a data frame?</p>

<p>Here's an example that works well for a simple case:</p>

<pre><code>x &lt;- rnorm(10)
y &lt;- rnorm(10)
df &lt;- data.frame(x,y)
ddply(df,names(df) ,function(df) max(df$x,df$y))
</code></pre>

<p>that works fine and gives me what I want. But if things get more complex this causes plyr to get funky (and not like Bootsy Collins) because plyr is chewing on making ""levels"" out of all those floating point values</p>

<pre><code>x &lt;- rnorm(1000)
y &lt;- rnorm(1000)
z &lt;- rnorm(1000)
myLetters &lt;- sample(letters, 1000, replace=T)
df &lt;- data.frame(x,y, z, myLetters)
ddply(df,names(df) ,function(df) max(df$x,df$y))
</code></pre>

<p>on my box this chews for a few minutes and then returns:</p>

<pre><code>Error: memory exhausted (limit reached?)
In addition: Warning messages:
1: In paste(rep(l, each = ll), rep(lvs, length(l)), sep = sep) :
  Reached total allocation of 1535Mb: see help(memory.size)
2: In paste(rep(l, each = ll), rep(lvs, length(l)), sep = sep) :
  Reached total allocation of 1535Mb: see help(memory.size)
</code></pre>

<p>I think I am totally abusing plyr and I am not saying this is a bug in plyr, but rather abusive behavior by me (liver and dog notwithstanding).</p>

<p>So in short, is there syntax shortcut for using ddply to operate on every row as a substitute for <code>apply(X, 1, ...)</code>?</p>

<p>The workaround I've been using is to create a ""key"" that gives a unique value for every row and then I can join back to it. </p>

<pre><code> x &lt;- rnorm(1000)
 y &lt;- rnorm(1000)
 z &lt;- rnorm(1000)
 myLetters &lt;- sample(letters, 1000, replace=T)
 df &lt;- data.frame(x,y, z, myLetters)
  #make the key
 df$myKey &lt;- 1:nrow(df)
 myOut &lt;- merge(df, ddply(df,""myKey"" ,function(df) max(df$x,df$y)))
  #knock out the key
 myOut$myKey &lt;- NULL
</code></pre>

<p>But I keep thinking that ""There Has to Be a Better Way""</p>

<p>Thanks! </p>
","37751","","","","","2010-01-15 21:17:56","doing a plyr operation on every row of a data frame in R","<r><plyr>","1","7","23","","","CC BY-SA 2.5","2074606","4452","4452","r","404559","3625322","3607736","",""
"2075327","1","","","2010-01-15 23:02:58","","6","2322","<p>I've been trying to dig into what the time-hogs are in some R code I've written, so I'm using <code>Rprof</code>.  The output isn't yet very helpful though:</p>

<pre><code>&gt; summaryRprof()
$by.self
                      self.time self.pct total.time total.pct
""$&lt;-.data.frame""           2.38     23.2       2.38      23.2
""FUN""                      2.04     19.9      10.20      99.6
""[.data.frame""             1.74     17.0       5.54      54.1
""[.factor""                 1.42     13.9       2.90      28.3
...
</code></pre>

<p>Is there some way to dig deeper and find out which specific invocations of <code>$&lt;-.data.frame</code>, and <code>FUN</code> (which is probably from <code>by()</code>), etc. are actually the culprits?  Or will I need to refactor the code and make smaller functional chunks in order to get more fine-grained results?</p>

<p>The only reason I'm resisting refactoring is that I'd have to pass data structures into the functions, and all the passing is by value, so that seems like a step in the wrong direction.</p>

<p>Thanks.</p>
","169947","","","","","2010-01-18 16:19:02","Getting more info from Rprof()","<r><profiling>","3","0","4","","","CC BY-SA 2.5","2075327","4452","4452","r","404559","3625322","3607736","",""
"2076370","1","2078411","","2010-01-16 06:03:53","","179","26126","<p>Histograms and scatterplots are great methods of visualizing data and the relationship between variables, but recently I have been wondering about what visualization techniques I am missing. What do you think is the most underused type of plot?</p>

<p>Answers should:</p>

<ol>
<li>Not be very commonly used in
practice.</li>
<li>Be understandable without a great deal
of background discussion.</li>
<li>Be applicable in many common situations.</li>
<li>Include reproducible code to create
an example (preferably in R). A linked image would be
nice.</li>
</ol>
","160314","","","","","2020-03-23 19:59:48","Most underused data visualization","<graphics><r><visualization><plot><ggplot2>","15","6","190","2011-12-21 14:20:29","2010-01-17 23:58:08","CC BY-SA 2.5","2076370","4452","4452","r","404559","3625322","3607736","",""
"2076450","1","2076500","","2010-01-16 06:40:54","","2","945","<p>I've got a dataset that looks like this...</p>

<blockquote>
<pre><code>mine tonnes week
AA   112    41
AA   114    41
AA   119    41
BB   108    41 
BB   112    41
AA   110    42
AA   109    42
AA   102    43
AA   101    43
</code></pre>
</blockquote>

<p>And I want to create a boxplot in ggplot2 to show the distribution of tonnes for each week. But I only want results from mine AA.</p>

<p>I thought it would work like this....</p>

<pre><code>qplot(factor(week), tonnes[mine == ""AA""], data = sql_results, geom = ""boxplot"")
</code></pre>

<p>But instead, I get this error.</p>

<pre><code>Error in data.frame(x = c(13L, 13L, 13L, 13L, 13L, 13L, 13L, 13L, 13L,  :

  arguments imply differing number of rows: 423100, 109436
</code></pre>

<p>It's probably dead simple, but I'm not having much luck figuring the right way to do this.</p>
","176995","","","","","2010-01-16 07:08:46","R ggplot2 question - working with factors","<r><ggplot2>","1","0","","","","CC BY-SA 2.5","2076450","4452","4452","r","404559","3625322","3607736","",""
"2078468","1","","","2010-01-16 18:32:07","","5","2962","<p>I have some shapefiles I want to plot over Google Maps tiles. What's the most efficient way to do this? One path might be to use the pkg RgoogleMaps, however, it is still unclear to me how to do this. I assume using PlotonStaticMap with some combination of reformatting the shapefile data</p>
","213185","","","","","2016-11-26 14:26:28","Plotting shapefiles on top of Google map tiles","<google-maps><r><mapping><shapefile>","2","0","6","2018-01-14 22:39:05","","CC BY-SA 2.5","2078468","4452","4452","r","404559","3625322","3607736","",""
"2078946","1","2079174","","2010-01-16 21:19:36","","1","1317","<p>I have a guest list that has a last name in one column and then in another column I have the first names or the full names (first space last) of each person in the family. I am wanting to get the other column to just have the first names. </p>

<pre><code>gsub(guest.w$Last.Name,"""",guest.w$Party.Name.s.)
</code></pre>

<p>That would work perfectly if I just had one row but how do it do it for each row in the dataframe. Do I have to write a for loop? Is there a way to do it in parallel similarly to the way pmax() relates to max().</p>

<p>My problem is similar in a way to a <a href=""https://stackoverflow.com/questions/1355355/how-to-avoid-a-loop-in-r-selecting-items-from-a-list"">previously asked question by JD Long</a> but that question was a piece of cake compared to mine. </p>

<h2>Example</h2>

<p>:</p>

<p>Smith;  Joe Smith, Kevin Smith, Jane Smith<br>
Alter; Robert Alter, Mary Alter, Ronald Alter  </p>

<p>Becomes</p>

<p>Smith; Joe, Kevin, Jane<br>
Alter; Robert, Mary, Ronald  </p>
","168139","","-1","","2017-05-23 12:26:46","2012-08-02 01:48:18","Parallel gsub: how does one remove a different string in each element of a vector","<r><replace><gsub>","3","0","2","","","CC BY-SA 2.5","2078946","4452","4452","r","404559","3625322","3607736","",""
"2079772","1","2079816","","2010-01-17 02:33:42","","4","1679","<p>I am reading Elements of Statistical Learning <a href=""http://www-stat.stanford.edu/~tibs/ElemStatLearn/"" rel=""nofollow noreferrer"">ESLII</a> and in chapter 2, they have a gaussian mixture data set to illustrate some learning algorithms. To generate this data set, they first generate 10 means from a bivariate gaussian distribution N((1,0)', I). I am not sure what they mean?</p>

<p>How can you generate 10 means from a bivariate distribution having mean(1,0)?</p>
","220120","","238419","","2010-01-17 02:55:46","2010-01-17 03:01:30","Generating means from a bivariate gaussian distribution","<r><statistics><machine-learning><gaussian>","1","0","2","","","CC BY-SA 2.5","2079772","4452","4452","r","404559","3625322","3607736","",""
"2079784","1","2079799","","2010-01-17 02:43:35","","14","15691","<p>I have a list containing 98 items. But each item contains 0, 1, 2, 3, 4 or 5 character strings.</p>

<p>I know how to get the length of the list and in fact <a href=""https://stackoverflow.com/questions/1740524/r-count-number-of-objects-in-list"">someone has asked the question before</a> and got voted down for presumably asking such an easy question.</p>

<p>But I want a vector that is 98 elements long with each element being an integer from 0 to 5 telling me how many character strings there are in each list item.
I was expecting the following to work but it did not.</p>

<pre><code>lapply(name.of.list,length())
</code></pre>

<p>From my question you will see that I do not really know the nomeclature of lists and items. Feel free to straighten me out.</p>
","168139","","-1","","2017-05-23 12:22:59","2018-03-15 23:00:22","Generating a vector of the number of items in each list item","<list><r>","3","0","","","","CC BY-SA 2.5","2079784","4452","4452","r","404559","3625322","3607736","",""
"2080774","1","2082278","","2010-01-17 11:18:12","","25","24233","<p>Is there a way - other than a for loop - to generate new variables in an R dataframe, which will be all the possible 2-way interactions between the existing ones?
i.e. supposing a dataframe with three numeric variables V1, V2, V3, I would like to generate the following new variables:</p>

<pre><code>Inter.V1V2 (= V1 * V2) 
Inter.V1V3 (= V1 * V3)
Inter.V2V3 (= V2 * V3)
</code></pre>

<p>Example using for loop :</p>

<pre><code>x &lt;- read.table(textConnection('
   V1 V2 V3 V4
1  9   25   18
2  5   20   10
3  4   30   12
4  4   34   16'
), header=TRUE)

dim.init &lt;- dim(x)[2]
for (i in 1: (dim.init - 1) ) {
        for (j in (i + 1) : (dim.init) ) {
                x[dim(x)[2] + 1]    &lt;- x[i] * x[j]
                names(x)[dim(x)[2]] &lt;- paste(""Inter.V"",i,""V"",j,sep="""")

        }
}
</code></pre>
","170792","","170792","","2010-01-17 13:07:16","2016-11-18 15:42:58","Generating interaction variables in R dataframes","<r><dataframe>","3","0","14","","","CC BY-SA 2.5","2080774","4452","4452","r","404559","3625322","3607736","",""
"2082553","1","2123377","","2010-01-17 20:43:54","","1","824","<p>Has anybody used ggplot2 along with rpanel to produce interactive plots. Here is a piece of code that I adapted from rpanel to plot a Poisson distribution and have a slider to change the parameter value.</p>

<p>However, the plot changes too slowly as I change the parameters using the slider. When I change the plot function to use Lattice, it is much faster. Is this a limitation of ggplot2 in terms of speed? Is there a way to overcome this?</p>

<pre><code>poisson.draw = function(panel) {
  with(panel, {
     x = seq(0,n, by = 1)
     library(ggplot2)
     y = dpois(x, lambda)
     d = data.frame(cbind(x,y))
     p1 = ggplot(d, aes(x,y)) + geom_point()
     print(p1)
  })
  panel
}
panel &lt;- rp.control(""Poisson distribution"", n = 30, lambda = 3, 
  ylim = 0.5)
rp.slider(panel, lambda, 1, 30, poisson.draw)
</code></pre>
","235349","","168747","","2011-05-30 08:31:10","2011-05-30 08:31:10","Using ggplot2 and rpanel together","<r><plot><ggplot2>","1","2","1","","","CC BY-SA 2.5","2082553","4452","4452","r","404559","3625322","3607736","",""
"2083333","1","2130159","","2010-01-18 00:57:28","","0","294","<p>I want to submit my submissions to <a href=""http://analyticsx.com/"" rel=""nofollow noreferrer"">this competition</a> automatically from my code. I need to log-in on <a href=""http://analyticsx.com/analyticsx/Login"" rel=""nofollow noreferrer"">this page</a> and then submit a file on <a href=""http://analyticsx.com/analyticsx/Controller?REQUEST_COMMAND=User&amp;REQUEST_SUB_COMMAND=SubmitPred"" rel=""nofollow noreferrer"">this page</a>. I'd like to use cURL since it integrates with both of the languages that I am using (R and Python). </p>

<p>I am just wondering if this procedure is possible in cURL? and my another question is if I can use cURL inside MS Excel?</p>
","55362","","163053","","2010-02-08 19:27:27","2010-02-08 19:27:27","cURL for webpage login","<excel><r><curl>","1","0","","","","CC BY-SA 2.5","2083333","4452","4452","r","404559","3625322","3607736","",""
"2084192","1","","","2010-01-18 06:10:36","","2","3878","<p>Q1: 
I have been trying to get the AUC value for a classification problem and have been trying to use e1071 and ROCR packages in R for this. ROCR has a nice example ""ROCR.simple"" which has prediction values and label values.</p>

<pre><code>library(ROCR)
data(ROCR.simple)
pred&lt;-prediction(ROCR.simpe$predictions, ROCR.simple$labels)
auc&lt;-performance(pred,""auc"")
</code></pre>

<p>This gives the AUC value, no problem.
MY PROBLEM is: How do I get the type of data given by <code>ROCR.simple$predictions</code> in the above example?
I run my analysis like</p>

<pre><code>library(e1071)
data(iris)
y&lt;-Species
x&lt;-iris[,1:2]
model&lt;-svm(x,y)
pred&lt;-predict(model,x)
</code></pre>

<p>Upto here I'm ok. 
Then how do I get the kind of predictions that <code>ROCR.simpe$predictions</code> give?</p>

<p>Q2:</p>

<p>there is a nice example involving <code>ROCR.xvals</code>. This is a problem with 10 cross validations.</p>

<p>They run</p>

<pre><code>pred&lt;-prediction(ROCR.xval$predictions,ROCR.xval$labels)
auc&lt;-performance(pred,""auc"")
</code></pre>

<p>This gives results for all 10 cross validations.</p>

<p>My problem is:</p>

<p>How do I use </p>

<pre><code>model&lt;-svm(x,y,cross=10)     # where x and y are as given in Q1
</code></pre>

<p>and get all 10 results of predictions and labels into a list as given in <code>ROCR.xvals</code>?</p>
","252954","","172261","","2010-01-18 08:36:40","2010-01-18 15:34:52","How do I get a predictions list from running svm in e1071 package","<r>","1","0","4","","","CC BY-SA 2.5","2084192","4452","4452","r","404559","3625322","3607736","",""
"2087735","1","2092513","","2010-01-18 17:03:53","","4","3287","<p>After performing a cluster analysis to my dataset (a dataframe named <em>data.matrix</em>), I added a new column, named <em>cluster</em>, at the end (col 27) containing the cluster name that each instance belongs to.</p>

<p>What I want now, is a representative instance from each cluster. I tried to find the instance having the smallest euclidean distance from the cluster's centroid (and repeat the procedure for each one of my clusters)</p>

<p>This is what I did. Can you think of other -perhaps more elegant- ways? (assume numeric columns with no nulls). </p>

<pre><code>clusters &lt;- levels(data.matrix$cluster)
cluster_col = c(27)

for (j in 1:length(clusters)) {
    # get the subset for cluster j
    data = data.matrix[data.matrix$cluster == clusters[j],]

    # remove the cluster column
    data &lt;- data[,-cluster_col]

    # calculate the centroid
    cent &lt;- mean(data)

    # copy data to data.matrix_cl, attaching a distance column at the end
    data.matrix_cl &lt;- cbind(data, dist = apply(data, 1, function(x) {sqrt(sum((x - cent)^2))}))

    # get instances with min distance
    candidates &lt;- data.matrix_cl[data.matrix_cl$dist == min(data.matrix_cl$dist),]

    # print their rownames
    print(paste(""Candidates for cluster "",j))
    print(rownames(candidates))
}
</code></pre>
","170792","","170792","","2010-01-19 10:34:34","2010-01-19 10:34:34","Most representative instance of a cluster","<r><cluster-analysis><machine-learning><data-mining>","2","1","3","","","CC BY-SA 2.5","2087735","4452","4452","r","404559","3625322","3607736","",""
"2095215","1","","","2010-01-19 16:53:27","","2","465","<p>I'm using Emacs 23.1 with ESS 5.4 to edit an Sweave file.  I'd like to turn off the default AUCTeX indentation behavior in the buffer (to avoid annoyances with code chunks contained in itemized lists), so at the top of the file I have <code>% -*- LaTeX-indent-level: 0; LaTeX-item-indent: 0; -*-</code>.  When I open the buffer and run <code>C-h v LaTeX-indent-level</code>, I get what I wanted:</p>

<pre><code>LaTeX-indent-level is a variable defined in `latex.el'.
Its value is 0
Local in buffer test.Rnw; global value is 2

  This variable is a file local variable.
</code></pre>

<p>However, after I edit a code chunk, it returns to the default behavior. <code>C-h v LaTeX-indent-level</code> now yields:</p>

<pre><code>LaTeX-indent-level is a variable defined in `latex.el'.
Its value is 2
</code></pre>

<p>I tried the fix suggested in <a href=""http://www.cs.tufts.edu/~nr/noweb/FAQ.html#toc6"" rel=""nofollow noreferrer"">the noweb-mode FAQ</a>, which suggests adding</p>

<pre><code>(add-hook 'noweb-select-mode-hook
              '(lambda () (hack-local-variables-prop-line)))
</code></pre>

<p>to my .emacs.  The behavior described above persisted when I did this.</p>

<p>Is there any way I can get buffer-local variables to work in this situation?  I would prefer not to have to change my .emacs to set <code>LaTeX-indent-level</code> to 0 in all Sweave/noweb buffers.</p>
","143383","","","","","2011-06-16 06:44:28","Buffer-local variables with Emacs and Sweave","<emacs><r><sweave>","1","0","","","","CC BY-SA 2.5","2095215","4452","4452","r","404559","3625322","3607736","",""
"2096473","1","2096503","","2010-01-19 19:35:52","","35","7882","<p>Is there a simple way to programmatically determine if an R script is being executed in Windows vs. Linux?</p>
","37751","","331508","","2011-11-26 09:57:40","2018-12-17 15:16:52","R: determine if a script is running in Windows or Linux","<r><multiplatform>","4","2","8","","","CC BY-SA 2.5","2096473","4452","4452","r","404559","3625322","3607736","",""
"2098368","1","2098442","","2010-01-20 01:00:37","","301","324431","<p>If I have a vector of type character, how can I concatenate the values into string? Here's how I would do it with <em>paste()</em>:</p>

<pre><code>sdata = c('a', 'b', 'c')
paste(sdata[1], sdata[2], sdata[3], sep ='')
</code></pre>

<p>yielding <code>""abc""</code>.</p>

<p>But of course, that only works if I know the length of <em>sdata</em> ahead of time.</p>
","5222","","680068","","2018-11-06 10:45:53","2020-09-25 07:39:21","Concatenate a vector of strings/character","<r><string><r-faq>","7","0","58","","","CC BY-SA 3.0","2098368","4452","4452","r","404559","3625322","3607736","",""
"2098590","1","2102108","","2010-01-20 02:03:12","","4","1524","<p>I have a plethora of both short and long pieces of R code that I would like to track as they evolve. </p>

<p>Does anyone have any recommendation or experience using version-control software with R? </p>
","170352","","","","","2010-01-20 14:42:53","Best Versioning System for R","<version-control><r>","5","3","1","2010-01-20 19:56:28","","CC BY-SA 2.5","2098590","4452","4452","r","404559","3625322","3607736","",""
"2102017","1","2102076","","2010-01-20 14:29:28","","7","9427","<p>I have an ultra short question about R</p>

<p>My aim is to assign a common title to a multi-panel plot generated using par, e.g.</p>

<pre><code>par(mfrow=c(1,2))
plot(rnorm(1000))
plot(rnorm(1000))
</code></pre>

<p>So, something like ""main"" for the plot function, but extended to both plots. Is there a canonical way to do this?</p>

<p>Thanks for any answer :-)</p>
","209467","","5414452","","2016-01-09 15:15:45","2016-01-09 15:15:45","Multi-panel titles in R","<r><plot>","1","2","2","","","CC BY-SA 2.5","2102017","4452","4452","r","404559","3625322","3607736","",""
"2103152","1","2103301","","2010-01-20 16:45:27","","5","3219","<p>I have a 16x16 matrix of grayscale values representing handwriting digits. Is there a plot in R that I can use to visualize it?</p>

<p>Matlab has pcolor, I am looking for something along those lines.
<a href=""http://www.mathworks.com/access/helpdesk/help/techdoc/ref/pcolor.html"" rel=""nofollow noreferrer"">pcolor</a></p>
","220120","","","","","2019-06-05 19:04:40","What is the equivalents of matlab's pcolor in R?","<matlab><r><statistics><machine-learning>","2","0","","","","CC BY-SA 2.5","2103152","4452","4452","r","404559","3625322","3607736","",""
"2104483","1","2104532","","2010-01-20 19:57:56","","15","22253","<p>I have filenames named <code>&lt;InputData&gt;.&lt;TestName&gt;.csv</code> and I'd like to make graphs for each test.  The best way I can see to do this is to make one R table for each TestName.  Each test produces the same columns of data, so I'd like to pull in all the data for each test into an R datatable with an extra column for the inputdata.  </p>

<p>I'd like to do:</p>

<pre><code>read.tables(c(""B217.SE.csv"", ""C10.SE.csv""), sep="","")
</code></pre>

<p>produces (for example):</p>

<pre><code>       Filename  col1   col2
1   B217.SE.csv     1      2
2   B217.SE.csv     2      4
3   C10.SE.csv      3      1
4   C10.SE.csv      4      5
</code></pre>

<p>What's the right way to do this?  Some existing function I don't know about?  Writing it out in the R language using a for loop?</p>
","12874","","168747","","2010-01-20 21:17:54","2010-01-20 21:25:42","How to read.table() multiple files into a single table in R?","<r><import>","2","0","9","","","CC BY-SA 2.5","2104483","4452","4452","r","404559","3625322","3607736","",""
"2107665","1","","","2010-01-21 07:53:48","","6","1982","<p>I'm having a strange problem with the output window in RGui (under Win XP). I should see a plot like the one below...</p>

<p><a href=""https://i.stack.imgur.com/JojeO.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/JojeO.png"" alt=""alt text""></a>
</p>

<p>... when I run this script:</p>

<pre><code>library(ggplot2)
x &lt;- rnorm(100,0,1)
y &lt;- rnorm(100,0,1)
z &lt;- data.frame(x,y) 
g &lt;- ggplot(z, aes(x,y)) + geom_point() + theme_gray()
</code></pre>

<p>Instead, in the plot window it shows a white background and white grid lines, like below.</p>

<p><strong>R Plot Window</strong></p>

<p><a href=""https://i.stack.imgur.com/fW2lV.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/fW2lV.png"" alt=""alt text""></a>
</p>

<p>When I export the plot to .png and I ""preview"" it in windows explorer - it doesn't show a background or grid lines. </p>

<p><strong>Png in Windows</strong></p>

<p><a href=""https://i.stack.imgur.com/fW2lV.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/fW2lV.png"" alt=""alt text""></a></p>

<p><strong>Same Png in Gimp</strong></p>

<p><a href=""https://i.stack.imgur.com/JojeO.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/JojeO.png"" alt=""alt text""></a></p>

<p><strong>Same Png uploaded to image hosting</strong></p>

<p><a href=""https://i.stack.imgur.com/JojeO.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/JojeO.png"" alt=""alt text""></a></p>

<p>Any ideas about what's going on? How can I get the plot to display correctly in RGui?</p>
","246211","","4751173","","2019-06-05 22:07:06","2019-06-05 22:07:06","R ggplot2 - no background or grid lines in plot with RGui","<r><ggplot2><rgui>","1","3","0","","","CC BY-SA 4.0","2107665","4452","4452","r","404559","3625322","3607736","",""
"2108174","1","2110380","","2010-01-21 09:42:44","","1","5928","<p>I used the information from this post to create a histogram with logarithmic scale:
<a href=""https://stackoverflow.com/questions/1245273/histogram-with-logarithmic-scale"">Histogram with Logarithmic Scale</a></p>

<p>However, the output from plot looks nothing like the output from hist. Does anyone know how to configure the output from plot to resemble the output from hist? Thanks for the help.</p>
","900119","","-1","","2017-05-23 12:07:05","2010-01-25 11:47:00","change look-and-feel of plot to resemble hist","<r><plot><histogram>","2","0","","","","CC BY-SA 2.5","2108174","4452","4452","r","404559","3625322","3607736","",""
"2108484","1","2108587","","2010-01-21 10:40:23","","32","24420","<p>I have a facetted plot like this:</p>

<pre><code>ggplot(mtcars, aes(x = hp, y = mpg)) +
  geom_point() +
  facet_grid(. ~ carb)
</code></pre>

<p><a href=""https://i.stack.imgur.com/mtmlU.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/mtmlU.png"" alt=""enter image description here""></a>
However, the graph is too wide to be clearly read. </p>

<p>I'd like to be able to take the three rightmost locations and place them under the three leftmost, i.e. the facets should be in three columns * two rows like this.</p>

<blockquote>
<pre><code>1   2   3

4   5   6
</code></pre>
</blockquote>

<p>Is it possible to set the layout of the facets, i.e. to set number of columns (or rows) with <code>facet_grid()</code>?</p>

<p>The documentation on <a href=""http://ggplot2.tidyverse.org/reference/facet_grid.html"" rel=""noreferrer"">facet_grid</a> doesn't seem to indicate that it's possible.</p>

<p>Thanks for the help :-)</p>
","246211","","1851712","","2018-06-10 10:09:31","2021-05-03 20:58:09","Set number of columns (or rows) in a facetted plot","<r><ggplot2>","1","0","6","","","CC BY-SA 4.0","2108484","4452","4452","r","404559","3625322","3607736","",""
"2113855","1","2114270","","2010-01-21 23:39:05","","3","1843","<p>I would like to program a time series class. The idea is that I instantiate an object with an expression and some other time series objects, for instance</p>

<p>(two time series)  </p>

<pre><code>x &lt;- ts(rnorm(10), frequency = 4, start = c(1959, 2))  
y &lt;- ts(rnorm(10), frequency = 4, start = c(1959, 2))  
</code></pre>

<p>(a time series, defined to be the sum of x and y)  </p>

<pre><code>z &lt;- exprTs(""x+y"", parents=list(x=x, y=y)) 
</code></pre>

<p>(get some part of the series)  </p>

<pre><code>window(z, start=1960, end=1960.75)
</code></pre>

<p>The problem is, how can I evaluate the expression? I tried the following:</p>

<pre><code>#(constructor for class)  
exprTs &lt;- function(expr, parents) {  
  res = list(expr=expr, parents=parents)  
  class(res) &lt;- ""exprTs""  
  res  
}  

#(window method)  
window.exprTs &lt;- function(z, ...) {  
  eval(substitute(z$expr, lapply(z$parents, window, ...)))  
  #do.call(z$expr, lapply(z$parents, window, ...))  
}  
</code></pre>

<p>I can not get the window method to work.</p>

<p>If you could guide me to how to use substitute, eval, do.call appropriately, that would be very helpful.</p>
","216064","","5414452","","2016-01-09 16:09:19","2016-01-09 16:09:19","substitute, eval, bquote, do.call ... some guidance for substituting expressions","<r><time-series>","3","2","3","","","CC BY-SA 3.0","2113855","4452","4452","r","404559","3625322","3607736","",""
"2118698","1","2118751","","2010-01-22 16:25:35","","3","4300","<p>I have a data.frame, d1, that has 7 columns, the 5th through 7th column are supposed to be numeric: </p>

<pre><code>str(d1[5])
'data.frame':   871 obs. of  1 variable:
 $ Latest.Assets..Mns.: num  14008 1483 11524 1081 2742 ... 

is.numeric(d1[5])
[1] FALSE

as.numeric(d1[5])
Error: (list) object cannot be coerced to type 'double'
</code></pre>

<p>How can this be? If str identifies it as numeric, how can it not be numeric? I'm importing from CSV. </p>
","170352","","","","","2010-01-22 17:07:28","Numeric Column in data.frame returning ""num"" with str() but not is.numeric()","<r>","3","0","3","","","CC BY-SA 2.5","2118698","4452","4452","r","404559","3625322","3607736","",""
"2118929","1","2118960","","2010-01-22 16:58:18","","2","6526","<p>This is a bit of a shot in the dark, but I have a script that does exactly what I expect it to do, yet, at the very end of the script I get an error like this: </p>

<pre><code>Error in `[&lt;-.data.frame`(`*tmp*`, ""label"", value = c(1L, 0L)) : 
  replacement has 2 rows, data has 0
</code></pre>

<p>In terms of an answer, I'm looking for general suggestions on how to track errors like this in R, best practices for using loops and double checking that they ""made it through"". </p>

<p>Any thoughts, suggestions, or past experiences that could relegate or inform an error message like this? </p>
","170352","","","","","2010-01-22 17:01:49","Error Messages in R after a for loop","<r>","1","0","","","","CC BY-SA 2.5","2118929","4452","4452","r","404559","3625322","3607736","",""
"2119750","1","6660258","","2010-01-22 19:07:17","","5","2348","<p>I have a nearly-boxplot like jitter-plot:</p>
<pre><code>dt &lt;- rbind(se,cb,cb.se)
qplot(ds, size, data=dt, geom=&quot;jitter&quot;, colour=root, facets = test ~ .)
</code></pre>
<p><a href=""https://i.stack.imgur.com/Q0Ycn.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Q0Ycn.png"" alt=""plot"" /></a></p>

<p>I'd love to put a summary label for each group in the middle of the plot - for example the size totals here:</p>
<pre><code> aggregate(list(size=dt$size), list(dt$ds, dt$test), sum)

   Group.1  Group.2   size
1     b217       se   9847
2      c10       se  97296
3     c613       se  21633
4       c7       se 207540
...
</code></pre>
<p>I've tried using <code>+ geom_text(aes(x=ds, y=128, label=sum(size)), size=2)</code> to add labels, but I get the same label on each position - how can I get the sum of just that section of data?</p>
<p><strong>Edit:</strong>
Here's where I'm at now - maybe I'm just going in the wrong direction</p>
<pre><code>data &lt;- rbind(se,cb,cb.se)
labels &lt;-ddply(data, c(&quot;ds&quot;, &quot;test&quot;), function(df) sum(df$size))
ggplot(data=data, aes(x=ds)) +
  geom_jitter(aes(y=size, colour=root)) +
  geom_text(data=labels, aes(x=ds, y=600, label=V1), size=3) +
  facet_wrap(test ~ .)
</code></pre>
<p>This code doesn't work - I get an <code>undefined columns selected</code> error... somewhere.  Maybe it's because of the multiple <code>data=</code> sections?</p>
","12874","","-1","","2020-06-20 09:12:55","2019-06-07 07:06:01","Add subgroup labels to a jitter plot in ggplot2","<r><ggplot2><label>","2","2","2","","","CC BY-SA 4.0","2119750","4452","4452","r","404559","3625322","3607736","",""
"2121484","1","2121496","","2010-01-23 00:30:05","","1","5583","<p>I have a 2-D array in R which represents value data for a grid of rows and columns.  It looks like this:</p>

<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    1    2    1
[2,]    1    5    6    3
[3,]    2    3    2    1
[4,]    1    1    1    1
</code></pre>

<p>I want to ""smooth"" these values.  At this proof-of-concept point, I am fine with using any popular smoothing function.  I am currently attempting to use the <code>smooth.spline</code> function:</p>

<pre><code>smooth.spline(x, y = NULL, w = NULL, df, spar = NULL,
              cv = FALSE, all.knots = FALSE, nknots = NULL,
              keep.data = TRUE, df.offset = 0, penalty = 1,
              control.spar = list())
</code></pre>

<p>by (naively) calling</p>

<pre><code>smoothed &lt;- smooth.spline(myarray)
</code></pre>

<p>When I run this, I get this error:</p>

<blockquote>
  <p>Error in smooth.spline(a) : need at least four unique 'x' values</p>
</blockquote>

<p>My array has four or more unique values in each dimension, so I am thinking that I do not know how to properly format the input data.  Can someone give me some pointers to this kind of thing?  The examples for <code>smooth</code>-like functions seem to work with single-dimension vectors, and I can't seem to extrapolate to the 2-D world.  I am an R novice, so please feel free to correct my misuse of terms here!</p>
","404","","5414452","","2016-01-09 15:32:04","2020-01-14 15:34:16","How can I smooth an array in R?","<r><spline>","3","0","3","","","CC BY-SA 2.5","2121484","4452","4452","r","404559","3625322","3607736","",""
"2123195","1","2123204","","2010-01-23 12:59:26","","0","241","<p>I wish to perform a social network analysis on a bunch of blogs, plotting who is linking to who (not just by their blogroll but also inside their posts). What software can perform such crawling/data-collecting/mapping ?</p>

<p>Thanks!</p>
","256662","","","","","2010-02-08 04:51:04","What's the best way to map the link connection between blogs?","<r><seo><social-networking><blogs><web-crawler>","4","0","","","","CC BY-SA 2.5","2123195","4452","4452","r","404559","3625322","3607736","",""
"2123968","1","2124033","","2010-01-23 17:21:25","","13","13827","<p>In python lists can be sliced like this <code>x[4:-1]</code> to get from the fourth to the last element.</p>

<p>In R something similar can be accomplished for vectors with <code>x[4:length(x)]</code> and for multidimensional arrays with something like <code>x[,,,,4:dim(x)[5],,,]</code>.  Is this more elegant syntax for array slicing for a particular dimension from an element in the middle to the last element?</p>

<p>Thanks    </p>
","198401","","","user8389458","2018-04-27 10:37:17","2018-04-27 10:37:17","R array manipulation","<arrays><r><slice><sub-array>","2","2","2","","","CC BY-SA 2.5","2123968","4452","4452","r","404559","3625322","3607736","",""
"2125231","1","2126956","","2010-01-23 23:39:35","","10","41163","<p>I have a data frame with about 40 columns, the second column, data[2] contains the name of the company that the rest of the row data describes. However, the names of the companies are different depending on the year (trailing 09 for 2009 data, nothing for 2010). </p>

<p>I would like to be able to subset the data such that I can pull in both years at once. Here is an example of what I'm trying to do...</p>

<pre><code>subset(data, data[2] == ""Company Name 09"" | ""Company Name"", drop = T) 
</code></pre>

<p>Essentially, I'm having difficulty using the OR operator within the subset function. </p>

<p>However, I have tried other alternatives:</p>

<pre><code>subset(data, data[[2]] == grep(""Company Name"", data[[2]]))
</code></pre>

<p>Perhaps there's an easier way to do it using a string function? </p>

<p>Any thoughts would be appreicated.</p>
","170352","","5414452","","2016-01-09 15:33:48","2016-01-09 15:33:48","Subsetting in R using OR condition with strings","<r><subset>","2","2","6","","","CC BY-SA 2.5","2125231","4452","4452","r","404559","3625322","3607736","",""
"2126108","1","2126417","","2010-01-24 05:46:06","","5","20797","<p>I have data frame that looks like the following</p>

<pre><code>       models cores     time
1       4     1 0.000365
2       4     2 0.000259
3       4     3 0.000239
4       4     4 0.000220
5       8     1 0.000259
6       8     2 0.000249
7       8     3 0.000251
8       8     4 0.000258
</code></pre>

<p>... etc</p>

<p>I would like to convert it into a table/matrix with #models for rows labels, the #cores for the columns labels and time as the data entries</p>

<p>e.g.</p>

<pre><code>  1 2 3 4 5 6 7 8    
1   time data
4   time data
</code></pre>

<p>currently I'm using for loops to convert it into this structure, though I am wondering if there was a better method?</p>
","196374","","210673","","2012-03-23 15:55:06","2012-03-23 15:55:06","Convert table into matrix by column names","<r><statistics>","3","1","2","2017-07-29 16:14:15","","CC BY-SA 3.0","2126108","4452","4452","r","404559","3625322","3607736","",""
"2126124","1","","","2010-01-24 05:57:33","","1","2037","<p>I used the data, aml in survival package in R and computed a survival function by
""survfit"". Since the result of survfit doesn't show the mean value,
I used the following code to print the mean:</p>

<pre><code>&gt; print(survfit(Surv(aml1$time,aml1$status)~1),show.rmean=T)
</code></pre>

<p>(the data I used is, <code>aml1 &lt;-aml[aml$x=""Maintained"",]</code>)</p>

<p>The code above worked in my friend pc, but not mine.
So, I thought about downloading  some extra package to use <code>print(...show.rmean=T)</code>.
But, ""print"" is basic, so I don't need anything to run  print.
Then why I can't get the mean value?</p>
","257700","","1315767","","2014-01-01 17:44:05","2014-01-01 17:44:05","I can't print the mean value of survfit(...)","<r>","1","1","","","","CC BY-SA 3.0","2126124","4452","4452","r","404559","3625322","3607736","",""
"2127926","1","2142758","","2010-01-24 17:09:28","","8","3482","<p>I want to create a histogram from a number of observations (i.e. d &lt;- c(1,2.1,3.4,4.5) ) and then highlight the bin that a particular observation falls in, such that I have an output that looks like this:
<a href=""https://i.stack.imgur.com/7hsLb.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/7hsLb.png"" alt=""alt text""></a>
</p>

<p>how do I do this in R?</p>
","98080","","4751173","","2019-06-07 22:06:07","2019-06-07 22:06:07","How do I highlight an observation's bin in a histogram in R","<r><histogram>","2","1","3","","","CC BY-SA 4.0","2127926","4452","4452","r","404559","3625322","3607736","",""
"2129952","1","2129970","","2010-01-25 02:52:33","","65","229778","<p>How can I create a new on-screen R plot window with a particular width and height (in pixels, etc.)?</p>
","144278","","144278","","2010-01-25 02:58:18","2020-05-01 19:41:53","Creating a Plot Window of a Particular Size","<r><plot>","4","0","18","","","CC BY-SA 2.5","2129952","4452","4452","r","404559","3625322","3607736","",""
"2134972","1","2137563","","2010-01-25 19:26:49","","1","3099","<p>I have imported data with a five minute interval into a zoo object, where the index is a chron with both date and time:</p>

<pre>
> d
(09/09/09 16:45:10)  13.2  5.8
(09/09/09 16:50:10)   8.3  0.7
(09/09/09 16:55:10)   4.7  0.7
(09/09/09 17:00:10)   6.6  0.7
(09/09/09 17:05:10)   4.6  0.7
</pre>

<p>I am trying to aggregate by quarter hour intervals.</p>

<p>I found way to do so by converting back to a string, but the output is no longer a zoo.</p>

<pre>
> r =data.frame(aggregate(d,trunc(chron(times=substr(as.character(index(d)),11,18)),""00:15:00""), mean)
> r
00:00:00   0.5644444
00:15:00   0.5400000
00:30:00   0.5488889
00:45:00   0.6155556
01:00:00   0.3422222
</pre>

<p>While I can plot this, I was trying to do this natively. I found that aggregate with zoo could do day and hour, but I could not subdivide the hour.</p>
","243588","","1315767","","2014-01-01 17:44:49","2014-01-01 17:44:49","How to split a chron date & time object in zoo for aggregation","<r>","3","0","2","","","CC BY-SA 3.0","2134972","4452","4452","r","404559","3625322","3607736","",""
"2139703","1","","","2010-01-26 13:44:01","","2","1402","<p>One of the most important issues in using factor analysis is its interpretation. Factor analysis often uses factor rotation to enhance its interpretation. After a satisfactory rotation, the rotated factor loading matrix <strong>L'</strong> will have the same ability to represent the correlation matrix and it can be used as the factor loading matrix, instead of the unrotated matrix <strong>L</strong>.</p>

<p>The purpose of rotation is to make the rotated factor loading matrix have some desirable properties. One of the methods used is to rotate the factor loading matrix such that the rotated matrix will have a <strong>simple structure</strong>.</p>

<p>L. L. Thurstone introduced the Principle of Simple Structure, as a general guide for factor rotation:</p>

<h2>Simple Structure Criteria:</h2>

<ol>
<li>Each row of the factor matrix should contain at least one zero</li>
<li>If there are m common factors, each column of the factor matrix should have at least m zeros</li>
<li>For every pair of columns in the factor matrix, there should be several variables for which entries approach zero in the one column but not in the other</li>
<li>For every pair of columns in the factor matrix, a large proportion of the variables should have entries approaching zero in both columns when there are four or more factors</li>
<li>For every pair of columns in the factor matrix, there should be only a small number of variables with nonzero entries in both columns</li>
</ol>

<p>The ideal simple structure is such that:</p>

<ol>
<li>each item has a high, or meaningful, loading on one factor only and</li>
<li>each factor have high, or meaningful, loadings for only some of the items.</li>
</ol>

<p>The problem is that, trying several combinations of rotation methods along with the parameters that each one accepts (especially for oblique ones), the number of candidate matrices increases and it is very difficult to see which one better meets the above criteria.</p>

<p>When I first faced that problem I realized that I was unable to select the best match by merely 'looking' at them, and that I needed an algorithm to help me decide. Under the stress of project's deadlines, the most I could do was to write the following code in MATLAB, which accepts one rotation matrix at a time and returns (under some assumptions) whether each criterion is met or not.
A new version (If I would ever tried to upgrade it) would accept a 3d matrix (a set of 2d matrices) as an argument, and the algorithm should return the one that better fits the above criteria.</p>

<p>I am just asking for your opinions (I also think that there's been criticism over the usefulness of the method by itself) and perhaps better approaches to the rotation matrix selection problem. If someone wants to provide some code, I would prefer R or MATLAB. </p>

<p>P.S. The above <a href=""http://books.google.gr/books?id=5Jyaa2LQWbQC&amp;pg=PA132&amp;lpg=PA132&amp;dq=%22The+criteria+of+simple+structure+was+originally+proposed%22&amp;source=bl&amp;ots=OXsCeU0Nzi&amp;sig=qfiLMUyXsgwPunWBgNdSEeBNm34&amp;hl=el&amp;ei=huZeS5nkApTE4gaC67HsCw&amp;sa=X&amp;oi=book_result&amp;ct=result&amp;resnum=1&amp;ved=0CAcQ6AEwAA#v=onepage&amp;q=%22The%20criteria%20of%20simple%20structure%20was%20originally%20proposed%22&amp;f=false"" rel=""nofollow noreferrer"">Simple Structure Criteria formulation</a> can be found in the book <em>""Making Sense of Factor Analysis""</em> by PETT, M., LACKEY, N., SULLIVAN, J.</p>

<p>P.S.2 (from the same book): <em>""A test of successful factor analysis is the extent to which it can reproduce the original corr matrix. If you also used oblique solutions, among all select the one that generated the greatest number of highest and lowest factor loadings.""</em> 
This sounds like another constraint that the algorithm could use.</p>

<pre><code>function [] = simple_structure_criteria (my_pattern_table)
%Simple Structure Criteria
%Making Sense of Factor Analysis, page 132

disp(' ');
disp('Simple Structure Criteria (Thurstone):');
disp('1. Each row of the factor matrix should contain at least one zero');
disp( '2. If there are m common factors, each column of the factor matrix should have at least m zeros');
disp( '3. For every pair of columns in the factor matrix, there should be several variables for which entries approach zero in the one column but not in the other');
disp( '4. For every pair of columns in the factor matrix, a large proportion of the variables should have entries approaching zero in both columns when there are four or more factors');
disp( '5. For every pair of columns in the factor matrix, there should be only a small number of variables with nonzero entries in both columns');
disp(' ');
disp( '(additional by Pedhazur and Schmelkin) The ideal simple structure is such that:');
disp( '6. Each item has a high, or meaningful, loading on one factor only and');
disp( '7. Each factor have high, or meaningful, loadings for only some of the items.');

disp('')
disp('Start checking...')

%test matrix
%ct=[76,78,16,7;19,29,10,13;2,6,7,8];
%test it by giving: simple_structure_criteria (ct)

ct=abs(my_pattern_table);

items=size(ct,1);
factors=size(ct,2);
my_zero = 0.1;
approach_zero = 0.2;
several = floor(items / 3);
small_number = ceil(items / 4);
large_proportion = 0.30;
meaningful = 0.4;
some_bottom = 2;
some_top = floor(items / 2);

% CRITERION 1
disp(' ');
disp('CRITERION 1');
for i = 1 : 1 : items
    count = 0;
    for j = 1 : 1 : factors
        if (ct(i,j) &lt; my_zero)
            count = count + 1;
            break
        end
    end
    if (count == 0)
        disp(['Criterion 1 is NOT MET for item ' num2str(i)])
    end
end


% CRITERION 2
disp(' ');
disp('CRITERION 2');
for j = 1 : 1 : factors 
    m=0;
    for i = 1 : 1 : items
        if (ct(i,j) &lt; my_zero)
            m = m + 1;
        end
    end
    if (m &lt; factors)
        disp(['Criterion 2 is NOT MET for factor ' num2str(j) '. m = ' num2str(m)]);
    end
end

% CRITERION 3
disp(' ');
disp('CRITERION 3');
for c1 = 1 : 1 : factors - 1
    for c2 = c1 + 1 : 1 : factors
        test_several = 0;
        for i = 1 : 1 : items
            if ( (ct(i,c1)&gt;my_zero &amp;&amp; ct(i,c2)&lt;my_zero) || (ct(i,c1)&lt;my_zero &amp;&amp; ct(i,c2)&gt;my_zero) ) % approach zero in one but not in the other
                test_several = test_several + 1;
            end
        end
        disp(['several = ' num2str(test_several) ' for factors ' num2str(c1) ' and ' num2str(c2)]);
        if (test_several &lt; several)
            disp(['Criterion 3 is NOT MET for factors ' num2str(c1) ' and ' num2str(c2)]);
        end
    end
end

% CRITERION 4
disp(' ');
disp('CRITERION 4');
if (factors &gt; 3)
    for c1 = 1 : 1 : factors - 1
        for c2 = c1 + 1 : 1 : factors
            test_several = 0;
            for i = 1 : 1 : items
                if (ct(i,c1)&lt;approach_zero &amp;&amp; ct(i,c2)&lt;approach_zero) % approach zero in both
                    test_several = test_several + 1;
                end
            end
            disp(['large proportion = ' num2str((test_several / items)*100) '% for factors ' num2str(c1) ' and ' num2str(c2)]);
            if ((test_several / items) &lt; large_proportion)
                pr = sprintf('%4.2g',  (test_several / items) * 100 );
                disp(['Criterion 4 is NOT MET for factors ' num2str(c1) ' and ' num2str(c2) '. Proportion is ' pr '%']);
            end
        end
    end
end

% CRITERION 5
disp(' ');
disp('CRITERION 5');
for c1 = 1 : 1 : factors - 1
    for c2 = c1 + 1 : 1 : factors
        test_number = 0;
        for i = 1 : 1 : items
            if (ct(i,c1)&gt;approach_zero &amp;&amp; ct(i,c2)&gt;approach_zero) % approach zero in both
                test_number = test_number + 1;
            end
        end
        disp(['small number = ' num2str(test_number) ' for factors ' num2str(c1) ' and ' num2str(c2)]);
        if (test_number &gt; small_number)
            disp(['Criterion 5 is NOT MET for factors ' num2str(c1) ' and ' num2str(c2)]);
        end
    end
end

% CRITERION 6
disp(' ');
disp('CRITERION 6');
for i = 1 : 1 : items
    count = 0;
    for j = 1 : 1 : factors
        if (ct(i,j) &gt; meaningful)
            count = count + 1;
        end
    end
    if (count == 0 || count &gt; 1)
        disp(['Criterion 6 is NOT MET for item ' num2str(i)])
    end
end

% CRITERION 7
disp(' ');
disp('CRITERION 7');
for j = 1 : 1 : factors 
    m=0;
    for i = 1 : 1 : items
        if (ct(i,j) &gt; meaningful)
            m = m + 1;
        end
    end
    disp(['some items = ' num2str(m) ' for factor ' num2str(j)]);
    if (m &lt; some_bottom || m &gt; some_top)
        disp(['Criterion 7 is NOT MET for factor ' num2str(j)]);
    end
end
disp('')
disp('Checking completed.')
return
</code></pre>
","170792","","","","","2010-01-27 06:49:23","FA: Choosing Rotation matrix, based on ""Simple Structure Criteria""","<algorithm><matlab><r><factor-analysis>","1","5","","","","CC BY-SA 2.5","2139703","4452","4452","r","404559","3625322","3607736","",""
"2140540","1","2140606","","2010-01-26 15:57:50","","2","1426","<p>I'm using the SQlite package to interface with a database from R. However, I'm running into the issue that the results from exactly the same query are different when I run it in R or from the command-line interface. 
For instance, the minimum value in a column is 0, but R somehow gives the result -2147332296. As I just copy-n-paste the query, I don't think the problem is in the query. The only thing I can think of is that there might be a problem with conversion between datatypes. The maximum value in that same column is 147031553000 and the type of the column is ""integer"". Perhaps this value is too big for the datatype which R uses and this results in the negative value?</p>

<p>However, there is one more problem. For the same query, R reports less results than when I run the query in the command-line interface. Does anyone here have an idea as to why things might be going wrong?</p>
","900119","","12855","","2010-01-26 15:59:30","2010-01-26 16:05:25","SQLite and R interaction","<r><sqlite>","1","0","","","","CC BY-SA 2.5","2140540","4452","4452","r","404559","3625322","3607736","",""
"2140972","1","2141332","","2010-01-26 16:51:39","","3","310","<p>Is there a way, in R, to pop up an error message if a function uses a variable
not declared in the body of the function: i.e, i want someone to flag this type of functions</p>

<pre><code>aha&lt;-function(p){
  return(p+n)
}
</code></pre>

<p>see; if there happens to be a ""n"" variable lying somewhere, aha(p=2) will give me an ""answer"" since R will just take ""n"" from that mysterious place called the ""environment""</p>
","189035","","189035","","2016-01-09 15:22:57","2016-01-09 15:22:57","Can we have more error (messages)?","<r><language-concepts>","3","1","2","","","CC BY-SA 3.0","2140972","4452","4452","r","404559","3625322","3607736","",""
"2144968","1","2148525","","2010-01-27 06:25:36","","11","2500","<p>Among the choices I have for quickly parallelizing simple code (<a href=""http://cran.revolution-computing.com/web/packages/snowfall/index.html"" rel=""noreferrer"">snowfall</a>, <a href=""http://cran.revolution-computing.com/web/packages/foreach/index.html"" rel=""noreferrer"">foreach</a>, and <a href=""http://cran.revolution-computing.com/web/views/HighPerformanceComputing.html"" rel=""noreferrer"">so on</a>), what are my options for showing the progress of all the slave processes?  Do any of the offerings excel in this regard?</p>

<p>I've seen that snowfall 1.70 has <code>sfCat()</code>, but it doesn't seem to cat output to the master R session.  </p>
","84458","","164901","","2010-03-08 02:39:02","2010-03-08 02:39:02","Monitoring Progress/Debugging Parallel R Scripts","<r><foreach>","1","2","2","","","CC BY-SA 2.5","2144968","4452","4452","r","404559","3625322","3607736","",""
"2147084","1","2147797","","2010-01-27 13:22:55","","8","6165","<p>I would like to place the value for each bar in barchart (lattice) at the top of each bar. However, I cannot find any option with which I can achieve this. I can only find options for the axis.</p>
","900119","","900119","","2010-01-27 14:02:53","2014-05-18 18:39:49","add labels to lattice barchart","<r><bar-chart><lattice>","4","0","5","","","CC BY-SA 2.5","2147084","4452","4452","r","404559","3625322","3607736","",""
"2150138","1","2150179","","2010-01-27 20:48:38","","87","46760","<p>How do I use <code>strptime</code> or any other functions to parse time stamps with milliseconds in R?</p>

<pre><code>time[1]
# [1] ""2010-01-15 13:55:23.975""
strptime(time[1], format=""%Y-%m-%d %H:%M:%S.%f"")
# [1] NA
strptime(time[1], format=""%Y-%m-%d %H:%M:%S"")
# [1] ""2010-01-15 13:55:23""`
</code></pre>
","220120","","3576984","","2017-07-29 06:35:40","2019-12-05 05:36:11","How to parse milliseconds?","<r><datetime><time-series><strptime>","2","0","19","","","CC BY-SA 3.0","2150138","4452","4452","r","404559","3625322","3607736","",""
"2151147","1","2152088","","2010-01-27 23:30:08","","21","15089","<p>I have a bunch of Stata .dta files that I would like to use in R.</p>

<p>My problem is that the variable names are not helpful to me as they are like ""q0100,"" ""q0565,"" ""q0500,"" and ""q0202.""  However, they are labelled like ""psu,"" ""number of pregnant,"" ""head of household,"" and ""waypoint.""</p>

<p>I would like to be able to grab the labels (""psu,"" ""waypoint,"" etc. . .) and use them as my variable/column names as those will be easier for me to work with.</p>

<p>Is there a way to do this, either preferably in R, or through Stata itself?  I know of read.dta in library(foreign) but don't know if it can convert the labels into variable names.</p>
","260533","","1493368","","2013-08-25 16:43:39","2019-01-21 00:05:57","Using Stata Variable Labels in R","<r><variables><stata><labels>","5","2","8","","","CC BY-SA 2.5","2151147","4452","4452","r","404559","3625322","3607736","",""
"2151212","1","2154190","","2010-01-27 23:40:22","","286","175565","<p>I've got a R script for which I'd like to be able to supply several command-line parameters (rather than hardcode parameter values in the code itself).  The script runs on Windows.</p>

<p>I can't find info on how to read parameters supplied on the command-line into my R script.  I'd be surprised if it can't be done, so maybe I'm just not using the best keywords in my Google search...</p>

<p>Any pointers or recommendations?</p>
","140823","","","","","2018-05-01 13:17:37","How can I read command line parameters from an R script?","<command-line><r><parameters>","10","1","90","","","CC BY-SA 2.5","2151212","4452","4452","r","404559","3625322","3607736","",""
"2156935","1","","","2010-01-28 18:34:37","","3","922","<p>I always have difficulty in finding all available alternative ways to produce a specific graph, either one that I have already decided to use (looking for different variations) or one that I have not yet thought of.</p>

<p>The <a href=""http://bm2.genes.nig.ac.jp/RGM2/index.php?clear=all"" rel=""nofollow noreferrer"">R Graphical Manual</a> site provides a complete list of samples of R's graphics functions, however it's easier for me to search providing a package name (how else -for example- can I get a resultset including <code>superbarplot</code> function, when I want to look for barplots?. Let alone that the superbarplot graph does not appear in the results even if I try searching for it's package: <code>UsingR</code>)</p>

<p>The <a href=""http://sites.google.com/site/r4statistics/add-on-modules"" rel=""nofollow noreferrer"">R-SAS-SPSS Add-on Module Comparison</a> - and especially on topic <code>Graphics, Static</code> in the table provided - gave me the idea that it would be nice to have a place where all relevant packages are listed by topic.</p>

<p>Do you have any idea about something like that?</p>
","170792","","","","","2010-03-07 14:46:05","How can I find all R packages that include graphics functions?","<graphics><r><manual>","4","0","3","","","CC BY-SA 2.5","2156935","4452","4452","r","404559","3625322","3607736","",""
"2158002","1","","","2010-01-28 21:14:59","","0","694","<p>I'm trying to check for consistency of variance for residuals with boxplots.
But when I ran the following expression in R: </p>

<pre><code>boxplot(split(model$res,parental))
</code></pre>

<p>I get this error:</p>

<pre><code>Error in split.default(model$res, parental) : object 'parental' not found
</code></pre>

<p>What is it about ? </p>
","261368","","10068985","user4275591","2019-02-15 08:53:17","2019-02-15 08:53:17","what does object 'parental' not found in R mean?","<r>","1","3","","","","CC BY-SA 4.0","2158002","4452","4452","r","404559","3625322","3607736","",""
"2158631","1","","","2010-01-28 22:51:59","","0","128","<p>I am searching for a good R package to align multiple spectra.</p>

<p>Thanks.</p>
","261421","","10068985","","2019-02-15 08:41:41","2019-02-15 08:41:41","Packages for multiple allignment of Mass spec Data","<r><bioinformatics>","1","0","","","","CC BY-SA 4.0","2158631","4452","4452","r","404559","3625322","3607736","",""
"2158780","1","2158803","","2010-01-28 23:25:22","","46","34163","<p>How do I write R code that allows me to execute a different path in my code if an error condition happens? I'm using a function that tends to throw an error. When it meets an error condition I would like to execute a different function. Here's a specific example:</p>

<pre><code>require(SuppDists)
parms &lt;- structure(list(gamma = -0.841109044800762, delta = 0.768672140584442, 
    xi = -0.359199299528801, lambda = 0.522761187947026, type = ""SB""), .Names = c(""gamma"", 
""delta"", ""xi"", ""lambda"", ""type""))
pJohnson(.18, parms)
</code></pre>

<p>the pJohnson function should fail with the following error:</p>

<pre><code> Error in pJohnson(0.18, parms) :
 Sb values out of range.
</code></pre>

<p>I can make the error go silent by using:</p>

<pre><code>try( pJohnson(.18, parms), silent=T)
</code></pre>

<p>but what I really want to do is execute the function <code>alternativeFunction()</code> if <code>pJohnson(.18, parms)</code> returns an error. </p>

<p>It seems like the <code>withCallingHandlers()</code> function should help me out, but I can't figure out how to capture the error and make it run the <code>alternativeFunction()</code> only upon an error condition. </p>
","37751","","3671495","","2015-10-25 21:40:31","2015-10-25 21:40:31","catching an error and then branching logic","<r><error-handling>","2","0","16","","","CC BY-SA 3.0","2158780","4452","4452","r","404559","3625322","3607736","",""
"2160224","1","2160463","","2010-01-29 06:09:02","","6","5925","<p>I have some data that looks like the following. It is grouped by variable ""Year"" and I want to extract the percentiles of <em>each</em> observation of Score, with respect to the Year it is from, preferably as a vector.</p>

<pre><code>Year   Score
2001   89
2001   70
2001   72
2001   ...
..........
2004   87
2004   90
</code></pre>

<p>etc.</p>

<p>How can I do this? aggregate will not work, and I do not think apply will work either.</p>
","144278","","144278","","2010-01-29 06:21:21","2017-06-20 08:01:07","Percentile for Each Observation w/r/t Grouping Variable","<r>","7","0","5","","","CC BY-SA 2.5","2160224","4452","4452","r","404559","3625322","3607736","",""
"2161052","1","2161338","","2010-01-29 09:43:52","","11","1900","<p>How can I create a chart like</p>

<p><a href=""http://junkcharts.typepad.com/junk_charts/2010/01/leaving-ink-traces.html"" rel=""noreferrer"">http://junkcharts.typepad.com/junk_charts/2010/01/leaving-ink-traces.html</a></p>

<p>where several time series (one per country) are displayed horizontally as symmetric areas?</p>

<p>I think if I could display one time series in this way, it is easy to generalize to several using mfrow.</p>

<p>Sample data:  </p>

<pre><code>#Solar energy production in Europe, by country (EC),(1 000 toe)  
Country,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007  
Belgium,1,1,1,1,1,1,2,2,3,3,3,5  
Bulgaria,-,-,-,-,-,-,-,-,-,-,-,-  
Czech Republic,0,0,0,0,0,0,0,0,2,2,3,4  
Denmark,6,7,7,8,8,8,9,9,9,10,10,11  
Germany (including ex-GDR from 1991),57,70,83,78,96,150,184,216,262,353,472,580  
Estonia,-,-,-,-,-,-,-,-,-,-,-,-  
Ireland,0,0,0,0,0,0,0,0,0,0,1,1  
Greece,86,89,93,97,99,100,99,99,101,102,109,160  
Spain,26,23,26,29,33,38,43,48,58,65,83,137  
France,15,16,17,18,26,19,19,18,19,22,29,37  
Italy,8,9,11,11,12,14,16,18,21,30,38,56  
Cyprus,32,33,34,35,35,34,35,36,40,41,43,54  
Latvia,-,-,-,-,-,-,-,-,-,-,-,-  
Lithuania,-,-,-,-,-,-,-,-,-,-,-,-  
Luxembourg (Grand-Duch),0,0,0,0,0,0,0,0,1,2,2,2  
Hungary,0,0,0,0,0,1,2,2,2,2,2,3  
Netherlands,6,7,8,10,12,14,16,19,20,22,22,23  
Austria,42,48,55,58,64,69,74,80,86,92,101,108  
Poland,0,0,0,0,0,0,0,0,0,0,0,0  
Portugal,16,16,17,18,18,19,20,21,21,23,24,28  
Romania,0,0,0,0,0,0,0,0,0,0,0,0  
Slovenia,-,-,-,-,-,-,-,-,-,-,-,-  
Slovakia,0,0,0,0,0,0,0,0,0,0,0,0  
Finland,0,0,0,0,1,1,1,1,1,1,1,1  
Sweden,4,4,5,5,5,6,4,5,5,6,6,9  
United Kingdom,6,6,7,7,11,13,16,20,25,30,37,46  
Croatia,0,0,0,0,0,0,0,0,0,0,0,1  
Turkey,159,179,210,236,262,287,318,350,375,385,402,420  
Iceland,-,-,-,-,-,-,-,-,-,-,-,-  
Norway,0,0,0,0,0,0,0,0,0,0,0,0  
Switzerland,18,19,21,23,24,26,23,24,25,26,28,30  
#-='Not applicable' or 'Real zero' or 'Zero by default' :=Not available ""
#Source of Data:,Eurostat, http://spreadsheets.google.com/ccc?key=0Agol553XfuDZdFpCQU1CUVdPZ3M0djJBSE1za1NGV0E&amp;hl=en_GB  
#Last Update:,30.04.2009  
#Date of extraction:,17 Aug 2009 07:41:12 GMT, http://epp.eurostat.ec.europa.eu/tgm/table.do?tab=table&amp;init=1&amp;plugin=1&amp;language=en&amp;pcode=ten00082
</code></pre>
","216064","","121332","","2010-01-30 21:14:13","2015-09-22 18:17:35","How to create an ""inkblot"" chart with R?","<graphics><r>","4","1","10","","","CC BY-SA 2.5","2161052","4452","4452","r","404559","3625322","3607736","",""
"2161152","1","2162068","","2010-01-29 10:03:56","","27","5723","<p>I've recently started using <a href=""http://www.stat.uni-muenchen.de/~leisch/Sweave/"" rel=""noreferrer"">Sweave</a>* for creating reports of analyses run with R, and am now looking to do the same with my python scripts. </p>

<p>I've found references to <a href=""http://romainfrancois.blog.free.fr/index.php?post/2009/01/21/Python-and-Sweave"" rel=""noreferrer"">embedding python in Sweave</a> docs, but that seems like a bit of a hack. Has anyone worked out a better solution, or is there an equivalent for python I'm not aware of?</p>

<p>* <em>Sweave is a tool that allows to embed the R code for complete data analyses in latex documents</em></p>
","30911","","355270","","2011-09-23 14:22:42","2020-05-06 13:24:07","Sweave for python","<python><r><sweave><literate-programming>","10","1","24","","","CC BY-SA 2.5","2161152","4452","4452","r","404559","3625322","3607736","",""
"2161384","1","2162089","","2010-01-29 10:52:49","","5","727","<p>If I have data like this</p>

<pre><code>DF &lt;- data.frame(
  date = seq(Sys.Date()-1000, len=1000, by=""1 day"")[sample(1000, 500)],
  price = runif(500)
)
</code></pre>

<p>How do I plot e.g. mean of price in the function of time, e.g. in months, using ggplot2?</p>
","255564","","","","","2010-01-29 16:39:55","ggplot2: mean in the function on time","<r><ggplot2>","1","1","3","","","CC BY-SA 2.5","2161384","4452","4452","r","404559","3625322","3607736","",""
"2161815","1","2161917","","2010-01-29 12:21:54","","2","1802","<p>Given I have a zoo dataset, I'd like to perform a sliding operation against it with the result being another zoo dataset.</p>

<pre>
> x
                      Y
(09/24/09 08:00:13)   3.1
(09/24/09 08:05:13)   4.2
(09/24/09 08:10:13)   4.5
(09/24/09 08:15:13)   9.4
(09/24/09 08:20:13)   9.8
(09/24/09 08:25:13)   7.7
(09/24/09 08:30:13)  13.3
(09/24/09 08:35:13)   6.5
(09/24/09 08:40:13)  14.7
(09/24/09 08:45:13)  23.5
(09/24/09 08:50:13)  20.9
(09/24/09 08:55:13)   8.5
</pre>

<p>My goal is to produce a ""smooth"" average by iterating through each time interval and obtaining the mean for the set of Y points that are +/- 15 minutes of the current point.</p>

<p>I have a bucketing method of averaging working, but it reduces the resolution of the data. I haven't worked out how to make relative subsets out of zoo with artibrary math, window should help but accessing the index is being difficult.</p>

<p>Thanks.</p>
","243588","","","","","2010-01-29 12:41:21","R zoo series sliding window calculation","<r><time-series>","1","0","4","","","CC BY-SA 2.5","2161815","4452","4452","r","404559","3625322","3607736","",""
"2162131","1","2162215","","2010-01-29 13:16:40","","36","13320","<p>I am a devoted R (r-project.org) user, and love infographics.</p>

<p>I just came across this article:
<a href=""http://www.noupe.com/design/fantastic-information-architecture-resources.html"" rel=""noreferrer"">http://www.noupe.com/design/fantastic-information-architecture-resources.html</a></p>

<p>Giving a long list of resources for information designers.</p>

<p>And it raised in me the desire to do more beautiful (not just informative) R plots.</p>

<p>Do you have any suggestion/resources on how to make this leap?</p>

<p>What books/software/skills do I need to have/develop in order to be able to make beautiful infographics?</p>
","256662","","168868","","2013-10-18 19:35:33","2013-10-18 19:35:33","How can I learn to create beautiful infographics (with connection to my R knowledge)?","<r><visualization><data-visualization>","6","0","53","2013-10-20 08:27:47","","CC BY-SA 3.0","2162131","4452","4452","r","404559","3625322","3607736","",""
"2163108","1","2163548","","2010-01-29 15:52:49","","11","2590","<p>Is it possible to use a TTF font in R?</p>

<p>Is the cairo package intended for this task? How would a minimal example look like?</p>
","216064","","680068","","2015-10-02 15:22:43","2015-10-02 15:22:43","Use Windows (TTF) font?","<r><cairo>","1","2","4","","","CC BY-SA 3.0","2163108","4452","4452","r","404559","3625322","3607736","",""
"2165342","1","2165396","","2010-01-29 21:39:06","","29","33622","<p>I'm trying to alter the functionality of a few commands in a package in R. It's easy enough to see the source of the commands. However the function calls other functions that are in the package namespace. These functions are not exported objects. So how can I access them?</p>

<p>Specific example:</p>

<p>How would I access the asCall() function that is used in copula::rmvdc?</p>

<pre><code>require(copula)
copula::rmvdc
getAnywhere(""asCall"")
</code></pre>

<p>so <code>as.Call()</code> exists in the copula package, but how do I access it? </p>

<pre><code>&gt; copula::asCall
Error: 'asCall' is not an exported object from 'namespace:copula'
</code></pre>
","37751","","680068","","2020-03-03 11:32:59","2020-03-03 11:32:59","Calling a function from a namespace","<r><namespaces>","2","0","10","","","CC BY-SA 4.0","2165342","4452","4452","r","404559","3625322","3607736","",""
"2169118","1","2170161","","2010-01-30 19:28:33","","16","35727","<p>The following R commands will install all CRAN packages:</p>

<pre><code>availablePackages &lt;- available.packages()[,1]
install.packages(availablePackages)
</code></pre>

<p>And the following command will list all installed packages:</p>

<pre><code>installedPackages &lt;- .packages(all.available = TRUE)
</code></pre>

<p>My question is: <b>How do I instruct R to install all CRAN packages that are not already installed?</b></p>
","58394","","","","","2019-10-07 16:57:20","Installing all CRAN packages that are not already installed?","<r><cran>","6","2","7","","","CC BY-SA 2.5","2169118","4452","4452","r","404559","3625322","3607736","",""
"2170043","1","2170103","","2010-01-31 00:14:04","","33","8916","<p>When installing R packages (say <code>mcmcpack</code> in this example) under Ubuntu I have the choice between the following two methods of installation:</p>

<pre><code># Let the distribution's packaging system take care of installation/upgrades
apt-get install r-cran-mcmcpack

# Let R take care of installation/upgrades
install.packages(""mcmcpack"")
</code></pre>

<p>Questions:</p>

<ul>
<li>Is any of the two ways of installing R packages considered ""best practice""?</li>
<li>Assume that I first <code>install.packages(""mcmcpack"")</code> and later on <code>apt-get install r-cran-mcmcpack</code> - should I expect trouble?</li>
<li>Assume that I first <code>apt-get install r-cran-mcmcpack</code> and later on <code>install.packages(""mcmcpack"")</code> - should I expect trouble?</li>
</ul>
","58394","","58394","","2010-02-01 00:26:39","2015-03-08 10:46:23","R: apt-get install r-cran-foo vs. install.packages(""foo"")","<r><ubuntu><debian><cran>","2","0","16","","","CC BY-SA 2.5","2170043","4452","4452","r","404559","3625322","3607736","",""
"2172146","1","2172705","","2010-01-31 15:10:12","","11","1623","<p>How can I view the definition of a S4 function? For instance, I would like to see the definition of TSconnect in package TSdbi. The command</p>

<pre><code>showMethods(""TSconnect"")
</code></pre>

<p>reveals that there is, among others, a function for drv=""histQuoteDriver"", dbname=""character"".</p>

<p>How can I see the definition of this function? If it were a S3 function, there would be only the first argument definable (drv), which could be inspected with print(TSconnect.histQuoteDriver).</p>

<p><strong>Edit</strong>: From r-forge I found out the desired output:</p>

<pre><code>setMethod(""TSconnect"",   signature(drv=""histQuoteDriver"", dbname=""character""),
  definition= function(drv, dbname, user="""", password="""", host="""", ...){
   #  user / password / host  for future consideration
   if (is.null(dbname)) stop(""dbname must be specified"")
   if (dbname == ""yahoo"") {
      con &lt;- try(url(""http://quote.yahoo.com""), silent = TRUE)
      if(inherits(con, ""try-error"")) 
         stop(""Could not establish TShistQuoteConnection to "",  dbname)
      close(con)
      }
   else if (dbname == ""oanda"") {
      con &lt;- try(url(""http://www.oanda.com""),   silent = TRUE)
      if(inherits(con, ""try-error"")) 
         stop(""Could not establish TShistQuoteConnection to "",  dbname)
      close(con)
      }
   else 
      warning(dbname, ""not recognized. Connection assumed working, but not tested."")

   new(""TShistQuoteConnection"", drv=""histQuote"", dbname=dbname, hasVintages=FALSE, hasPanels=FALSE,
        user = user, password = password, host = host ) 
   } )
</code></pre>

<p>Is there a way to get this definition from within an R session?</p>
","216064","","2679518","","2014-04-05 22:53:04","2014-04-05 22:53:04","Inspect S4 methods","<r><s4><code-inspection>","1","1","3","","","CC BY-SA 2.5","2172146","4452","4452","r","404559","3625322","3607736","",""
"2175809","1","2176026","","2010-02-01 09:54:53","","61","132749","<p>my R code ends up containing plethora of statements of the form:</p>

<pre><code>if (!is.null(aVariable)) { 
     do whatever 
}
</code></pre>

<p>But this kind of statement is hard to read because it contains two negations. I would prefer something like: </p>

<pre><code> if (is.defined(aVariable)) { 
      do whatever 
 }
</code></pre>

<p>Does a <code>is.defined</code> type function that does the opposite of !is.null exist standard in R?</p>

<p>cheers,
yannick</p>
","183988","","","","","2019-01-18 10:27:42","alternative to ""!is.null()"" in R","<r>","6","3","9","","","CC BY-SA 2.5","2175809","4452","4452","r","404559","3625322","3607736","",""
"2180235","1","2180273","","2010-02-01 21:32:41","","16","11519","<p>What's the best way to call R functionality from within Java? </p>

<p>I'm looking for a quick, easy and reliable way to make standard 2d scatter plots and histograms in R using my Java applications. I was wondering which packages/interfaces that came up in a quick Google search would be most convenient to use. </p>

<p>I look forward to your suggestions!</p>
","227818","","","","","2018-10-15 09:14:50","R from within Java","<java><r><plot>","5","1","13","","","CC BY-SA 2.5","2180235","4452","4452","r","404559","3625322","3607736","",""
"2181902","1","","","2010-02-02 04:31:41","","46","15912","<p>Is there some way to use a specific small image as a point in a scatterplot with ggplot2.  Ideally I will want to resize the images based on an variable.</p>

<p>Here's an example:</p>

<pre><code>library(ggplot2)
p &lt;- ggplot(mtcars, aes(wt, mpg))
p + geom_point(aes(size = qsec, shape = factor(cyl)))
</code></pre>

<p>So I basically want to know if there is a way to supply a specific image as the shape?</p>
","171249","","3458744","","2018-04-11 16:46:11","2019-06-11 22:06:33","How to use an image as a point in ggplot?","<r><ggplot2><ggproto>","3","0","27","","","CC BY-SA 2.5","2181902","4452","4452","r","404559","3625322","3607736","",""
"2182337","1","2184318","","2010-02-02 06:56:00","","3","4186","<p>I'm using R to call a mySQL statement, where I define the variable outside the statement e.g.</p>

<pre><code>foo = 23;
dbGetQuery(con, ""select surname from names WHERE age = '.foo.' ;"")
</code></pre>

<p>But this returns an empty set, I've googled around and tried'.&amp;foo.'   "".foo.""   '"".&amp;&amp;foo.""' 
 and many different combinations, but none of them work, I think this should be a mysql question rather than an R specific problem I'm having, but not sure.  Normally variables have $values but not in R.</p>
","207258","","1290634","","2012-12-20 04:24:10","2015-05-13 16:09:14","How to use a variable name in a SQL statement?","<mysql><r><variables>","5","2","2","","","CC BY-SA 3.0","2182337","4452","4452","r","404559","3625322","3607736","",""
"2183002","1","2183144","","2010-02-02 09:34:59","","0","318","<p>At some point in my script I like to see the number of <code>missing values</code>
in my <code>data.frame</code> and display them.
In my case I have:</p>

<pre><code>out &lt;- read.csv(file=""...../OUT.csv"", na.strings=""NULL"")

sum(is.na(out$codeHelper))

out[is.na(out$codeHelper),c(1,length(colnames(out)))]
</code></pre>

<p>It works perfectly fine.
However, the last command obviously gives me the whole <code>data.frame</code> where the <code>NA</code> is <code>TRUE</code>, eg:</p>

<pre><code>5561                  Yemen (PDR) &lt;NA&gt;
5562                  Yemen (PDR) &lt;NA&gt;
5563                  Yemen (PDR) &lt;NA&gt;
5564                  Yemen (PDR) &lt;NA&gt;
5565                  Yemen (PDR) &lt;NA&gt;
5566                  Yemen (PDR) &lt;NA&gt;
5567                  Yemen (PDR) &lt;NA&gt;
5568                  Yemen (PDR) &lt;NA&gt;
5601 Zaire (Democ Republic Congo) &lt;NA&gt;
5602 Zaire (Democ Republic Congo) &lt;NA&gt;
5603 Zaire (Democ Republic Congo) &lt;NA&gt;
5604 Zaire (Democ Republic Congo) &lt;NA&gt;
5605 Zaire (Democ Republic Congo) &lt;NA&gt;
</code></pre>

<p>With a big frame and a lot of NAs that looks pretty messy.
Important to me is only where the NA occurs i.e which country 
(in the second column) has a missing value in the third column.</p>

<p>So how can i only display a single row for each country?</p>

<p>It should look something like this:</p>

<pre><code>    1                  Yemen (PDR) &lt;NA&gt;
    2 Zaire (Democ Republic Congo) &lt;NA&gt;
    3                          USA &lt;NA&gt;
    4                     W. Samoa &lt;NA&gt;
</code></pre>
","258334","","5414452","","2016-01-20 13:10:49","2016-01-20 13:10:49","Display only one line for each NA Value","<r><dataframe>","2","1","","","","CC BY-SA 2.5","2183002","4452","4452","r","404559","3625322","3607736","",""
"2185252","1","2185525","","2010-02-02 15:36:12","","189","160789","<p>I have some trouble to convert my <code>data.frame</code> from a wide table to a long table.
At the moment it looks like this:</p>

<pre><code>Code Country        1950    1951    1952    1953    1954
AFG  Afghanistan    20,249  21,352  22,532  23,557  24,555
ALB  Albania        8,097   8,986   10,058  11,123  12,246
</code></pre>

<p>Now I would like to transform this <code>data.frame</code> into a long <code>data.frame</code>.
Something like this:</p>

<pre><code>Code Country        Year    Value
AFG  Afghanistan    1950    20,249
AFG  Afghanistan    1951    21,352
AFG  Afghanistan    1952    22,532
AFG  Afghanistan    1953    23,557
AFG  Afghanistan    1954    24,555
ALB  Albania        1950    8,097
ALB  Albania        1951    8,986
ALB  Albania        1952    10,058
ALB  Albania        1953    11,123
ALB  Albania        1954    12,246
</code></pre>

<p>I have looked at and already tried using the <code>melt()</code> and the <code>reshape()</code> functions
as some people were suggesting in similar questions.
However, so far I only get messy results.</p>

<p>If it is possible I would like to do it with the <code>reshape()</code> function since
it looks a little bit nicer to handle.</p>
","258334","","10323798","","2019-05-15 03:51:07","2020-08-02 13:06:39","Reshaping data.frame from wide to long format","<r><dataframe><reshape><r-faq>","9","3","98","","","CC BY-SA 4.0","2185252","4452","4452","r","404559","3625322","3607736","",""
"2185958","1","","","2010-02-02 16:58:06","","1","1336","<p>I'm working on a project now that's rather unlike anything I've done before.  I have two tests with binary results that will be administered to the same sample, which is drawn from a clustered population (i.e., some subjects will be from the same family).  I'd like to compare proportions of positive test results, but the clustering makes McNemar's test inappropriate so I've been reading up on alternative approaches.  The two main routes seem to be 1) the clustering-adjusted McNemar alternatives by Rao and Scott (1992), Eliasziw and Donner (1991), and Obuchowski (1998), and 2) GEE.</p>

<p>Do you know of any implementations of the Rao-Obuchowski lineage in R (or, I suppose, SAS)?  GEE is easy to find, but have you had a positive or negative experience with any particular packages?  Is there another route to analyzing these data that I'm completely missing?</p>

<p>Thanks in advance for your help - let me know if any clarification is needed.</p>
","143319","","","","","2016-10-26 14:45:01","What R packages are available for binary data that is both correlated and clustered?","<r><statistics><sas>","4","2","","","","CC BY-SA 2.5","2185958","4452","4452","r","404559","3625322","3607736","",""
"2186015","1","6653788","","2010-02-02 17:05:15","","10","5080","<p>In R's <code>DBI</code> package, I'm not finding a facility for using bound variables.  I did find a document (the original vignette from 2002) that says about bound variables, ""Perhaps the DBI could at some point in the future implement this feature"", but it looks like so far that's left undone.</p>

<p>What do people in R use for a substitute?  Just concatenate strings right into the SQL?  That's got some obvious problems for safety &amp; performance.</p>

<p>EDIT:</p>

<p>Here's an example of how placeholders could work:</p>

<pre><code>query &lt;- ""SELECT numlegs FROM animals WHERE color=?""
result &lt;- dbGetQuery(caseinfo, query, bind=""green"")
</code></pre>

<p>That's not a very well-thought-out interface, but the idea is that you can use a value for <code>bind</code> and the driver handles the details of escaping (if the underlying API doesn't handle bound variables natively) without the caller having to reimplement it [badly].</p>
","169947","","169947","","2010-02-02 22:19:56","2011-07-11 17:08:35","Bind variables in R DBI","<database><r>","3","7","3","","","CC BY-SA 2.5","2186015","4452","4452","r","404559","3625322","3607736","",""
"2187448","1","2187775","","2010-02-02 20:29:42","","7","1049","<p>Basically I want an autoincremented id column based on my cohorts - in this case .(kmer, cvCut)</p>

<pre><code>    &gt; myDataFrame
       size kmer cvCut   cumsum
1      8132   23    10     8132
10000   778   23    10 13789274
30000   324   23    10 23658740
50000   182   23    10 28534840
100000   65   23    10 33943283
200000   25   23    10 37954383
250000  584   23    12 16546507
300000  110   23    12 29435303
400000   28   23    12 34697860
600000  127   23     2 47124443
600001  127   23     2 47124570
</code></pre>

<p>I want a column added that has new row names based on the kmer/cvCut group</p>

<pre><code>    &gt; myDataFrame
       size kmer cvCut   cumsum  newID
1      8132   23    10     8132      1
10000   778   23    10 13789274      2
30000   324   23    10 23658740      3
50000   182   23    10 28534840      4
100000   65   23    10 33943283      5 
200000   25   23    10 37954383      6
250000  584   23    12 16546507      1
300000  110   23    12 29435303      2
400000   28   23    12 34697860      3
600000  127   23     2 47124443      1
600001  127   23     2 47124570      2
</code></pre>
","264696","","","","","2010-02-02 21:16:22","How do I use plyr to number rows?","<r><plyr>","3","0","10","","","CC BY-SA 2.5","2187448","4452","4452","r","404559","3625322","3607736","",""
"2187910","1","","","2010-02-02 21:38:33","","1","1384","<p>I have data points that represent a logarithmic function.</p>

<p>Is there an approach where I can just estimate the function that describes this data using R?</p>

<p>Thanks.</p>
","264761","","","","","2010-06-23 19:39:51","How can I estimate the logarithmic form of data points using R?","<r><function><statistics>","2","2","","","","CC BY-SA 2.5","2187910","4452","4452","r","404559","3625322","3607736","",""
"2188414","1","2188498","","2010-02-02 22:56:58","","4","3295","<p>I want to show a block ASCII character  (it's ASCII code is 219), </p>

<p>How can I show it in terminal?</p>

<p>I am using RGui on WinXP</p>
","55362","","680068","","2015-06-30 12:49:41","2015-06-30 12:49:41","Show an ASCII character","<r><ascii>","3","4","","","","CC BY-SA 3.0","2188414","4452","4452","r","404559","3625322","3607736","",""
"2189184","1","","","2010-02-03 02:11:15","","3","1808","<p>I previously asked this <a href=""https://stackoverflow.com/questions/1853703/plotting-functions-in-r"">question</a> which was useful in plotting a function. I want to try and plot twenty functions on the same axes to illustrate how a function varies between two ranges.  I have successfully done this using individually specified functions, but I wanted to do this using a loop.</p>

<p>What I have attempted doing is:</p>

<pre><code>## add ggplot2
library(ggplot2)
library(lattice)

# Declare local variables
inPath = ""D:/R_Analysis/""
inFile = ""sample.txt""

outPath = ""D:/R_Analysis/""
outFile = ""processed_sample.txt""

pdfOutPath = ""D:/R_Analysis/""
pdfOutFile = ""processed_sample.pdf""

# Declare Chart values
y_label = ""x-axis""
x_label = ""y-axis""
chart_title = ""..."" 

#####################################################################
## Read in data;  
analysis &lt;- 
read.table(paste(inPath, inFile, sep=""""), header=TRUE, sep="","", 
na.strings=""NA"",  dec=""."", strip.white=TRUE)

# Setup pdf
pdf(paste(pdfOutPath, pdfOutFile, sep=""""),height=6,width=9)

# make plot object    
p &lt;- qplot(
data = data.frame(x = x, y = y), x, y, xlab = x_label, ylab = y_label, 
enter code herexlim = x_range, main = chart_title  )

# make empty function
eq_dummy = function(x){ 0 }
d = stat_function(fun = eq_dummy)

##############
# LOOP #######

for(i in 1 : 21){                                            

        # Specify Variables
        intercept = analysis[i,2]
        slope = analysis[i,3]    

        # Define Curve    
        eq &lt;- function(x) { slope * log(x) + intercept }

        # Make plot object            
        composite &lt;- stat_function(fun=eq)        
        composite = composite + d       

}

print(p + composite)  

# Show warnings
warnings()

# close the PDF file
dev.off() 
</code></pre>

<p>Any suggestions about syntax improvement, or programming structure would be appreciated. Thank you.</p>
","184010","","-1","","2017-05-23 11:54:22","2010-02-08 11:57:16","Plot multiple functions in R","<r><function><statistics><plot>","2","0","3","","","CC BY-SA 2.5","2189184","4452","4452","r","404559","3625322","3607736","",""
"2190154","1","2191185","","2010-02-03 06:38:34","","3","2010","<p>I've been looking around for some data about naming trends in USA. I managed to get top 1000 names for babies born in 2008. The data is formated in this manor:</p>

<pre><code> male.name n.male female.name n.female
 Jacob 22272 Emma 18587
 Michael 20298 Isabella 18377
 Ethan 20004 Emily 17217
 Joshua 18924 Madison 16853
 Daniel 18717 Ava 16850
 Alexander 18423 Olivia 16845
 Anthony 18158 Sophia 15887
 William 18149 Abigail 14901
 Christopher 17783 Elizabeth 11815
 Matthew 17337 Chloe 11699
</code></pre>

<p>I want to get a <code>data.frame</code> with 2 variables: <code>name</code> and <code>gender</code>.
This can be done with looping, but I consider it rather inefficient way of solving this problem. I reckon that some <code>reshape</code> function will suite my needs.</p>

<p>Let's presuppose that this tab-delimited data is saved into a <code>data.frame</code> named <code>bnames</code>. Looping can be done with function:</p>

<pre><code> tmp &lt;- character()
  for (i in 1:nrow(bnames)) {
  tmp &lt;- c(tmp, rep(bnames[i,1], bnames[i,2]))
 }
</code></pre>

<p>But I want to achieve this with vector-based approach. Any suggestions?</p>
","457898","","","","","2010-02-03 21:27:04","Getting ""raw"" data from frequency table","<r><reshape>","4","0","","","","CC BY-SA 2.5","2190154","4452","4452","r","404559","3625322","3607736","",""
"2190756","1","2191824","","2010-02-03 09:03:38","","172","301647","<p>In R, what is the most efficient/idiomatic way to count the number of <code>TRUE</code> values in a logical vector? I can think of two ways:</p>

<pre><code>z &lt;- sample(c(TRUE, FALSE), 1000, rep = TRUE)
sum(z)
# [1] 498

table(z)[""TRUE""]
# TRUE 
#  498 
</code></pre>

<p>Which do you prefer? Is there anything even better?</p>
","212593","","1851712","","2016-02-26 21:15:13","2021-03-22 12:10:28","How to count TRUE values in a logical vector","<r>","8","0","46","","","CC BY-SA 3.0","2190756","4452","4452","r","404559","3625322","3607736","",""
"2192316","1","2192732","","2010-02-03 13:49:24","","121","98806","<p>I'm trying to extract a number from a string.</p>

<p>And do something like <code>[0-9]+</code> on the string <code>""aaa12xxx""</code> and get <code>""12""</code>.</p>

<p>I thought it would be something like:</p>

<pre><code>&gt; grep(""[0-9]+"", ""aaa12xxx"", value=TRUE)
[1] ""aaa12xxx""
</code></pre>

<p>And then I figured... </p>

<pre><code>&gt; sub(""[0-9]+"", ""\\1"", ""aaa12xxx"")
[1] ""aaaxxx""
</code></pre>

<p>But I got some form of response doing:</p>

<pre><code>&gt; sub(""[0-9]+"", ""ARGH!"", ""aaa12xxx"")
[1] ""aaaARGH!xxx""
</code></pre>

<p>There's a small detail I'm missing.</p>
","12677","","6656269","","2018-03-05 01:29:03","2020-08-09 20:48:39","Extract a regular expression match","<regex><r>","12","0","41","","","CC BY-SA 3.0","2192316","4452","4452","r","404559","3625322","3607736","",""
"2192360","1","2192606","","2010-02-03 13:55:22","","16","1710","<p>is there any way to display a message when a user loads <code>library(myCustomLibrary)</code>?
Upon loading, I want to display a message that tells the user how to run all the test functions.</p>
","183988","","5414452","","2016-01-20 13:11:48","2019-03-20 20:16:43","Library/package development - message when loading","<r><package>","3","0","8","","","CC BY-SA 3.0","2192360","4452","4452","r","404559","3625322","3607736","",""
"2192576","1","","","2010-02-03 14:26:26","","12","1736","<p>The classic and brilliant Programming Perl reference book has a section in which the authors provide a list of advice for how to write Perl that is maximally <em>computationally efficient</em>, followed by a list of advice for how to write Perl that is maximally <em>programmer efficient</em>, followed by more advice for <em>maintainer efficient</em>, <em>porter efficient</em>, and <em>user efficient</em>. The advice is usually completely contradictory. (E.g., ""use globals"", ""don't use globals."")</p>

<p>I thought of this while working on turning some ""programmer efficient"" R code into ""computationally and maintainer efficient"" code.</p>

<p>What are some interesting and useful tips for R style along these lines? What practices are maximally programmer efficient, and what are the equivalent practices that address other notions of efficiency?</p>
","135944","","","user244343","2012-01-31 06:48:46","2012-01-31 06:48:46","Execution Efficiency vs Programmer Efficiency in R","<performance><r>","3","4","2","","2010-02-03 14:26:26","CC BY-SA 2.5","2192576","4452","4452","r","404559","3625322","3607736","",""
"2193742","1","2194154","","2010-02-03 17:02:53","","41","72608","<p>I have some very big delimited data files and <strong>I want to process only certain columns in R</strong> without taking the time and memory to create a <code>data.frame</code> for the whole file.</p>

<p>The only options I know of are <code>read.table</code> which is very wasteful when I only want a couple of columns or <code>scan</code> which seems too low level for what I want.</p>

<p>Is there a better option, either with pure R or perhaps calling out to some other shell script to do the column extraction and then using scan or read.table on it's output? (Which leads to the question how to call a shell script and capture its output in R?).</p>
","148578","","697568","","2013-09-20 18:14:14","2018-01-06 15:47:02","Ways to read only select columns from a file into R? (A happy medium between `read.table` and `scan`?)","<r><data-processing><read.table><delimited>","4","2","21","2014-05-13 04:28:22","","CC BY-SA 3.0","2193742","4452","4452","r","404559","3625322","3607736","",""
"2194516","1","","","2010-02-03 18:47:54","","2","331","<p>I am not sure there are any R users out there, but just in case:</p>

<p>I am a novice at R and was kindly ""handed down"" the following R code snippet:</p>

<pre><code>Beta &lt;- exp(as.matrix(read.table('beta.transpose')))
WordFreq &lt;- read.table('freq-matrix')
WordProbs &lt;- WordFreq$V1 / sum(WordFreq)

infile &lt;- file('freq-matrix')
outfile &lt;- file('doc_topic_prob_matrix', 'w')

open(infile)
open(outfile)

for (i in 1:93049) {
  vec &lt;- t(scan(infile, nlines=1))
  topics &lt;- (vec/WordProbs) %*% Beta
  write.table(topics, outfile, append=T, row.names=F, col.names=F)
  }
</code></pre>

<p>When I tried running this on my dataset, the system thrashed and swapped like crazy. Now I realize that has a simple reason: the file freq-matrix holds a large (22GB) matrix and I was trying to read it into memory.</p>

<p>I have been told to use the <a href=""http://cran.r-project.org/web/packages/Matrix/Matrix.pdf"" rel=""nofollow noreferrer"">Matrix</a> package, because freq-matrix has many, many zeros all over the place and it handles such cases well. Will that help? If so, any hints on how to change this code would be most welcome. I have no R experience and just started reading through the introduction PDF available on the site.</p>

<p>Many thanks</p>

<p>~l</p>
","175029","","175029","","2010-02-03 19:44:12","2011-11-01 21:29:01","converting R code snippet to use the Matrix package?","<math><r><matrix><sparse-matrix>","2","6","","","","CC BY-SA 2.5","2194516","4452","4452","r","404559","3625322","3607736","",""
"2196985","1","2203628","","2010-02-04 02:34:42","","15","7812","<p>I'm looking to create a static dashboard viewable in a web browser. And I'd like to create something like what Stephen Few does in his book <a href=""https://rads.stackoverflow.com/amzn/click/com/0596100167"" rel=""nofollow noreferrer"" rel=""nofollow noreferrer"">Information Dashboard Design</a>. (see example at bottom)</p>

<ol>
<li><strong>Ggplot2</strong>: Shouldn't be any issue producing the graphs below, right?</li>
<li><strong>Dashboard Layout</strong>: Is grid suitable? Or should I lay things out in html/css? </li>
</ol>

<p>If grid can do this easily enough, do you know of any good resources for learning how to us it? I've read the manual but I'm not finding it too helpful. I've seen the LearnR blog's <a href=""http://learnr.wordpress.com/2009/04/09/ggplot2-sales-dashboard/"" rel=""nofollow noreferrer"">ggplot2 sales dashboard</a> (it uses grid) and I'm having trouble understanding the grid and layout part of things. </p>

<p><a href=""http://img251.imageshack.us/img251/1029/fewciodashboard800.png"" rel=""nofollow noreferrer"">dasboard sample http://img251.imageshack.us/img251/1029/fewciodashboard800.png</a></p>
","246211","","134830","","2015-01-14 18:28:43","2015-06-03 22:35:14","Information Dashboards in R with ggplot2","<r><ggplot2><dashboard><r-grid>","4","1","11","","","CC BY-SA 2.5","2196985","4452","4452","r","404559","3625322","3607736","",""
"2200460","1","2200681","","2010-02-04 14:42:28","","32","15776","<p>I'm doing a bit more statistical analysis on some things lately, and I'm curious if there are any programming languages that are particularly good for this purpose.  I know about <a href=""http://www.r-project.org/"" rel=""noreferrer"">R</a>, but I'd kind of prefer something a bit more general-purpose (or is R pretty general-purpose?).</p>

<p>What suggestions do you guys have?  Are there any languages out there whose syntax/semantics are particularly oriented towards this?  Or are there any languages that have exceptionally good libraries?</p>
","2147","","143377","","2010-02-06 01:33:15","2013-02-09 05:07:11","What programming languages are good for statistics?","<programming-languages><r><statistics><libraries>","16","2","13","2013-02-10 11:07:10","","CC BY-SA 2.5","2200460","4452","4452","r","404559","3625322","3607736","",""
"2209258","1","2209371","","2010-02-05 18:01:59","","29","33511","<p>I am trying to <code>merge</code> several <code>data.frames</code> into one <code>data.frame</code>. Since I have a whole list of files I am trying to do it with a loop structure.</p>

<p>So far the loop approach works fine. However, it looks pretty inefficient and I am wondering if there is a faster and easier approach.</p>

<p>Here is the scenario:
I have a directory with several <code>.csv</code> files. Each file contains the same identifier which can be used as the merger variable. Since the files are rather large in size I thought to read each file one at a time into R instead of reading all files at once.
So I get all the files of the directory with <code>list.files</code> and read in the first two files. Afterwards I use <code>merge</code> to get one <code>data.frame</code>.</p>

<pre><code>FileNames &lt;- list.files(path="".../tempDataFolder/"")
FirstFile &lt;- read.csv(file=paste("".../tempDataFolder/"", FileNames[1], sep=""""),
             header=T, na.strings=""NULL"")
SecondFile &lt;- read.csv(file=paste("".../tempDataFolder/"", FileNames[2], sep=""""),
              header=T, na.strings=""NULL"")
dataMerge &lt;- merge(FirstFile, SecondFile, by=c(""COUNTRYNAME"", ""COUNTRYCODE"", ""Year""),
             all=T)
</code></pre>

<p>Now I use a <code>for</code> loop to get all the remaining <code>.csv</code> files and <code>merge</code> them into the already existing <code>data.frame</code>:</p>

<pre><code>for(i in 3:length(FileNames)){ 
ReadInMerge &lt;- read.csv(file=paste("".../tempDataFolder/"", FileNames[i], sep=""""),
               header=T, na.strings=""NULL"")
dataMerge &lt;- merge(dataMerge, ReadInMerge, by=c(""COUNTRYNAME"", ""COUNTRYCODE"", ""Year""),
             all=T)
}
</code></pre>

<p>Even though it works just fine I was wondering if there is a more elegant way to get the job done?</p>
","258334","","","","","2010-02-05 20:12:39","Merge several data.frames into one data.frame with a loop","<r><loops><for-loop>","2","0","27","","","CC BY-SA 2.5","2209258","4452","4452","r","404559","3625322","3607736","",""
"2218395","1","2222103","","2010-02-07 21:23:28","","24","12793","<p>I have two dendrograms which I wish to compare to each other in order to find out how ""similar"" they are. But I don't know of any method to do so (let alone a code to implement it, say, in R).</p>

<p>Any leads ?</p>

<p><strong>UPDATE</strong> (2014-09-13):</p>

<p>Since asking this question, I have written an R package called <a href=""http://cran.r-project.org/web/packages/dendextend/"" rel=""noreferrer"">dendextend</a>, for the visualization, manipulation and <strong>comparison</strong> of dendrogram. This package is on <a href=""http://cran.r-project.org/web/packages/dendextend/"" rel=""noreferrer"">CRAN</a> and comes with a <a href=""http://cran.r-project.org/web/packages/dendextend/vignettes/introduction.html"" rel=""noreferrer"">detailed vignette</a>. It includes functions such as <code>cor_cophenetic</code>, <code>cor_bakers_gamma</code> and <code>Bk</code> / <code>Bk_plot</code>. As well as a <code>tanglegram</code> function for visually comparing two trees.</p>
","256662","","256662","","2014-09-13 09:36:42","2016-06-27 06:46:42","How do you compare the ""similarity"" between two dendrograms (in R)?","<r><tree><statistics><dendrogram><dendextend>","6","2","9","","","CC BY-SA 3.0","2218395","4452","4452","r","404559","3625322","3607736","",""
"2219626","1","","","2010-02-08 04:44:43","","3","9648","<p>Is there a way of plotting a univariate time series of class ""ts"" using ggplot that sets up the time axis automatically? I want something similar to plot.ts() of base graphics.</p>

<p>Also it seems to me that the coarsest time granularity is a day. Is that right? In my work I have to work with monthly and quarterly data and assigning each observation to the beginning/end of the month/quarter would cause the observations to be irregularly spaced horizontally since months/quarters are of unequal length. That may make more sense, but my audience is used to seeing months/quarters regularly spaced.</p>

<p>I know I can solve all of the above by manually setting up the x-axis as a time axis or as a numeric axis with my own labels. I am specifically looking for a method that does this automatically by using the time information in the ts object..</p>
","212593","","","","","2014-08-17 20:11:06","Using ggplot, how to have the x-axis of time series plots set up automatically?","<r><ggplot2>","4","0","6","","","CC BY-SA 2.5","2219626","4452","4452","r","404559","3625322","3607736","",""
"2224196","1","2224237","","2010-02-08 19:17:16","","5","4128","<p>I have a list of character vectors in R that represents sets of cooccuring words. From this, I would like to extract a character vector capturing all the words that appear in the list of character vectors. I think I know how to efficiently go from a character vector of words to a unique character vector of the words that appeared. What I don't know how to do is efficiently collapse the list of character vectors into a single character vector.  Any tips on how to approach this or the overall problem efficiently would be great appreciated! </p>
","218244","","163053","","2010-02-08 19:24:09","2010-02-08 19:24:09","Identifying unique terms from list of character vectors","<r>","1","0","","","","CC BY-SA 2.5","2224196","4452","4452","r","404559","3625322","3607736","",""
"2226526","1","2226767","","2010-02-09 03:16:45","","5","1014","<p>Is there any way to generate a dendrogram where each level of the graph represents a generation and only sons of the same father are connected at each level?</p>

<p>I'm attempting to use R's hclust and plot functions to generate a dendrogram of father-son lineage.  The desired result is a dendrogram where each generation of sons is placed on the same line, under their father.  </p>

<p>I was hoping that hclust and the ""complete"" method would allow me to use the dissimilarity matrix to assign sons of the same father a 0 dissimilarity score and then be placed on the same hierarchical level, exclusive from any other entities in the dataset.  This doesn't work, there are sons of different generations on the same level.</p>

<p>Any help is greatly appreciated!</p>

<p>Here is some example data:</p>

<p>father,son<br>
A,C<br>
A,D<br>
A,E<br>
B,F<br>
B,G<br>
C,H<br>
C,I<br>
F,J<br>
F,K<br>
G,L  </p>

<p>Agent A has three sons: C, D, and E; and two grandsons through C: H and I.</p>

<p>Agent B has two sons: F and G; and a total of three grandsons: J, K, and L.</p>
","43729","","43729","","2010-02-09 15:39:26","2015-03-26 18:10:49","Generating dendrograms from genealogy data in R","<r><visualization><dendrogram>","1","1","2","","","CC BY-SA 2.5","2226526","4452","4452","r","404559","3625322","3607736","",""
"2226867","1","2226880","","2010-02-09 05:04:56","","20","10511","<p>R can read files on a web server using convenient syntax such as</p>

<pre><code>data &lt;- read.delim(""http://remoteserver.com/file.dat"")
</code></pre>

<p>I wonder if there is a way to do something similar with a file on an ssh server with passwordless-ssh already in place?</p>
","143476","","","","","2010-02-09 05:37:55","Can R read from a file through an ssh connection?","<r><ssh>","1","0","8","","","CC BY-SA 2.5","2226867","4452","4452","r","404559","3625322","3607736","",""
"2227734","1","","","2010-02-09 08:40:59","","10","3061","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/9508518/why-are-these-numbers-not-equal"">Why are these numbers not equal?</a>  </p>
</blockquote>



<pre><code>0.9 == 1-0.1 &gt;&gt;&gt; TRUE
0.9 == 1.1-0.2 &gt;&gt;&gt; FALSE
</code></pre>
","269327","","2204410","","2018-05-31 08:00:17","2018-05-31 08:00:17","What is the difference between these two comparisons?","<r><floating-accuracy>","2","0","9","2012-08-09 10:56:11","","CC BY-SA 4.0","2227734","4452","4452","r","404559","3625322","3607736","",""
"2228544","1","32865781","","2010-02-09 11:10:44","","38","6072","<p>I can create a compose operator in R:</p>

<pre><code> `%c%` = function(x,y)function(...)x(y(...)) 
</code></pre>

<p>To be used like this:</p>

<pre><code> &gt; numericNull = is.null %c% numeric
 &gt; numericNull(myVec)
 [2] TRUE FALSE
</code></pre>

<p>but I would like to know if there is an official set of functions to do this kind of thing and other operations such as currying in R.  Largely this is to reduce the number of brackets, function keywords etc in my code.</p>

<p>My curry function:</p>

<pre><code>&gt; curry=function(...){
    z1=z0=substitute(...);z1[1]=call(""list"");
    function(...){do.call(as.character(z0[[1]]),
                          as.list(c(eval(z1),list(...))))}}
&gt; p = curry(paste(collapse=""""))
&gt; p(letters[1:10])
[1] ""abcdefghij""
</code></pre>

<p>This is especially nice for e.g. aggregate:</p>

<pre><code>&gt; df = data.frame(l=sample(1:3,10,rep=TRUE), t=letters[1:10])
&gt; aggregate(df$t,df[""l""],curry(paste(collapse="""")) %c% toupper)
  l    x
1 1  ADG
2 2  BCH
3 3 EFIJ
</code></pre>

<p>Which I find much more elegant and editable than:</p>

<pre><code>&gt; aggregate(df$t, df[""l""], function(x)paste(collapse="""",toupper(x)))
  l    x
1 1  ADG
2 2  BCH
3 3 EFIJ
</code></pre>

<p>Basically I want to know - has this already been done for R?</p>
","121332","","7851","","2010-02-09 14:16:23","2018-04-20 06:32:12","higher level functions in R - is there an official compose operator or curry function?","<r><functional-programming><higher-order-functions>","4","5","26","","","CC BY-SA 2.5","2228544","4452","4452","r","404559","3625322","3607736","",""
"2231993","1","2234366","","2010-02-09 19:41:38","","22","30547","<p><strong>DESCRIPTION</strong> </p>

<p>I have two datasets with information that I need to merge. The only common fields that I have are strings that do not perfectly match and a numerical field that can be substantially different </p>

<p>The only way to explain the problem is to show you the data. Here is <a href=""http://bertelsen.ca/R/a.csv"" rel=""noreferrer"">a.csv</a> and <a href=""http://bertelsen.ca/R/b.csv"" rel=""noreferrer"">b.csv</a>. I am trying to merge B to A.</p>

<p>There are three fields in B and four in A. Company Name (File A Only), Fund Name, Asset Class, and Assets. So far, my focus has been on attempting to match the Fund Names by replacing words or parts of the strings to create exact matches and then using: </p>

<pre><code>a &lt;- read.table(file = ""http://bertelsen.ca/R/a.csv"",header=TRUE, sep="","", na.strings=F, strip.white=T, blank.lines.skip=F, stringsAsFactors=T) 
b &lt;- read.table(file = ""http://bertelsen.ca/R/b.csv"",header=TRUE, sep="","", na.strings=F, strip.white=T, blank.lines.skip=F, stringsAsFactors=T)
merge(a,b, by=""Fund.Name"") 
</code></pre>

<p>However, this only brings me to about 30% matching. The rest I have to do by hand. </p>

<p>Assets is a numerical field that is not always correct in either and can vary wildly if the fund has low assets. Asset Class is a string field that is ""generally"" the same in both files, however, there are discrepancies. </p>

<p>Adding to the complication are the different series of funds, in File B. For example: </p>

<blockquote>
  <p>AGF Canadian Value </p>
  
  <p>AGF Canadian Value-D</p>
</blockquote>

<p>In these cases, I have to choose the one that is not seried, or choose the one that is called ""A"", ""-A"", or ""Advisor"" as the match. </p>

<p><strong>QUESTION</strong></p>

<p>What would you say is the best approach? This excercise is something that I have to do on a monthly basis and matching them manually is incredibly time consuming. Examples of code would be instrumental. </p>

<p><strong>IDEAS</strong></p>

<p>One method that I think may work is normalizing the strings based on the first capitalized letter of each word in the string. But I haven't been able to figure out how to pull that off using R.</p>

<p>Another method I considered was creating an index of matches based on a combination of assets, fund name, asset class and company. But again, I'm not sure how to do this with R. Or, for that matter, if it's even possible.</p>

<p>Examples of code, comments, thoughts and direction are greatly appreciated!   </p>
","170352","","1505120","","2015-11-16 22:24:33","2016-07-27 19:33:47","Merging two Data Frames using Fuzzy/Approximate String Matching in R","<r><fuzzy-search>","4","4","21","","","CC BY-SA 2.5","2231993","4452","4452","r","404559","3625322","3607736","",""
"2232699","1","2237269","","2010-02-09 21:34:52","","53","88742","<p><em>note: this question and the following answers refer to data.table versions &lt; 1.5.3; v. 1.5.3 was released in Feb 2011 to resolve this issue.</em> see more recent treatment (03-2012): <a href=""https://stackoverflow.com/questions/9914734/translating-sql-joins-on-foreign-keys-to-r-data-table-syntax"">Translating SQL joins on foreign keys to R data.table syntax</a></p>

<hr>

<p>I've been digging through the documentation for the <a href=""http://cran.r-project.org/web/packages/data.table/index.html"" rel=""noreferrer"">data.table package</a> (a replacement for data.frame that's much more efficient for certain operations), including <a href=""http://files.meetup.com/1406240/Data%20munging%20with%20SQL%20and%20R.pdf"" rel=""noreferrer"">Josh Reich's presentation on SQL and data.table at the NYC R Meetup</a> (pdf), but can't figure this totally trivial operation out.</p>

<pre><code>&gt; x &lt;- DT(a=1:3, b=2:4, key='a')
&gt; x
     a b
[1,] 1 2
[2,] 2 3
[3,] 3 4
&gt; y &lt;- DT(a=1:3, c=c('a','b','c'), key='a')
&gt; y
     a c
[1,] 1 a
[2,] 2 b
[3,] 3 c
&gt; x[y]
     a b
[1,] 1 2
[2,] 2 3
[3,] 3 4
&gt; merge(x,y)
  a b c
1 1 2 a
2 2 3 b
3 3 4 c
</code></pre>

<p>The docs say ""When [the first argument] is itself a data.table, a join is invoked similar to base::merge but uses binary search on the sorted key."" Clearly this is not the case. Can I get the other columns from y into the result of x[y] with data.tables? It seems like it's just taking the rows of x where the key matches the key of y, but ignoring the rest of y entirely...</p>
","135944","","-1","","2017-05-23 11:55:05","2018-04-30 21:59:54","How to do a data.table merge operation","<r><merge><data.table>","4","1","20","","","CC BY-SA 3.0","2232699","4452","4452","r","404559","3625322","3607736","",""
"2233584","1","2233599","","2010-02-10 00:34:57","","100","26893","<p>a statement that checks if something is true and if not prints a given error message and exits</p>
","142879","","202229","","2015-10-14 10:39:30","2019-09-05 15:23:48","Does R have an assert statement as in python?","<r><assert><language-design><assertions>","3","0","12","","","CC BY-SA 2.5","2233584","4452","4452","r","404559","3625322","3607736","",""
"2237600","1","2240504","","2010-02-10 14:48:03","","6","3341","<p>Using ggplot, is there a way of graphing several functions on the same plot? I want to use parameters from a text file as arguments for my functions and overlay these on the same plot.</p>

<p>I understand <a href=""https://stackoverflow.com/questions/1853703/plotting-functions-in-r/1853866#1853866"">this</a> but I do not know how to add the visualized function together if I loop through.</p>
","258755","","-1","","2017-05-23 12:31:56","2010-02-11 06:43:01","How can I plot multiple functions in R?","<r><ggplot2><plot>","1","1","4","","","CC BY-SA 2.5","2237600","4452","4452","r","404559","3625322","3607736","",""
"2239851","1","2239978","","2010-02-10 19:50:39","","3","251","<p>I'm using R, and I'm a beginner. I have two large lists (30K elements each). One is called <code>descriptions</code> and where each element is (maybe) a tokenized string. The other is called <code>probes</code> where each element is a number. I need to make a dictionary that maps<code>probes</code> to something in <code>descriptions</code>, if that something is there. Here's how I'm going about this:</p>

<pre><code>probe2gene &lt;- list()
for (i in 1:length(probes)){
 strings&lt;-strsplit(descriptions[i]), '//')
 if (length(strings[[1]]) &gt; 1){ 
  probe2gene[probes[i]] = strings[[1]][2]
 }
}
</code></pre>

<p>Which works fine, but seems slow, much slower than the roughly equivalent python:</p>

<pre><code>probe2gene = {}
for p,d in zip(probes, descriptions):
    try:
     probe2gene[p] = descriptions.split('//')[1]
    except IndexError:
     pass
</code></pre>

<p>My question: is there an ""R-thonic"" way of doing what I'm trying to do? The <a href=""http://cran.r-project.org/doc/manuals/R-intro.html#Repetitive-execution"" rel=""nofollow noreferrer"">R manual entry on for loops</a> suggests that such loops are rare. Is there a better solution?</p>

<p>Edit: a typical good ""description"" looks like this:</p>

<pre><code>""NM_009826 // Rb1cc1 // RB1-inducible coiled-coil 1 // 1 A2 // 12421 /// AB070619 // Rb1cc1 // RB1-inducible coiled-coil 1 // 1 A2 // 12421 /// ENSMUST00000027040 // Rb1cc1 // RB1-inducible coiled-coil 1 // 1 A2 // 12421""
</code></pre>

<p>a bad ""description: looks like this</p>

<pre><code>""-----""
</code></pre>

<p>though it can quite easily be some other not-very-helpful string. Each probe is simply a number. The <code>probe</code> and <code>description</code> vectors are the same length, and completely correspond to each other, i.e. <code>probe[i]</code> maps to <code>description[i]</code>.</p>
","270572","","270572","","2010-02-10 21:14:50","2010-02-11 21:51:14","R-thonic replacement for simple for loops containing a condition","<r><for-loop>","4","2","1","","","CC BY-SA 2.5","2239851","4452","4452","r","404559","3625322","3607736","",""
"2241290","1","2243329","","2010-02-11 00:02:43","","4","2155","<p>I ran a Pig job on a Hadoop cluster that crunched a bunch of data down into something R can handle to do a cohort analysis.  I have the following script, and as of the second to last line I have the data in the format:</p>

<pre><code>&gt; names(data)
[1] ""VisitWeek"" ""ThingAge""    ""MyMetric""
</code></pre>

<p>VisitWeek is a Date.  ThingAge and MyMetric are integers.</p>

<p>The data looks like:</p>

<pre><code>2010-02-07     49  12345
</code></pre>

<p>The script I have so far is:</p>

<pre><code># Load ggplot2 for charting 
library(ggplot2);

# Our file has headers - column names
data = read.table('weekly_cohorts.tsv',header=TRUE,sep=""\t"");

# Print the names
names(data)

# Convert to dates
data$VisitWeek = as.Date(data$VisitWeek)
data$ThingCreation = as.Date(data$ThingCreation)

# Fill in the age column
data$ThingAge = as.integer(data$VisitWeek - data$ThingCreation)

# Filter data to thing ages lt 10 weeks (70 days) + a sanity check for gt 0, and drop the creation week column
data = subset(data, data$ThingAge &lt;= 70, c(""VisitWeek"",""ThingAge"",""MyMetric""))
data = subset(data, data$ThingAge &gt;= 0)

print(ggplot(data, aes(x=VisitWeek, y=MyMetric, fill=ThingAge)) + geom_area())
</code></pre>

<p>This last line does not work.  I've tried lots of variations, bars, histograms, but as usual R docs defeat me.</p>

<p>I want it to show a standard Excel style stacked area chart - one time series for each ThingAge stacked across the weeks in the x axis, with the date on the y axis.  An example of this kind of chart is here: <a href=""http://upload.wikimedia.org/wikipedia/commons/a/a1/Mk_Zuwanderer.png"" rel=""nofollow noreferrer"">http://upload.wikimedia.org/wikipedia/commons/a/a1/Mk_Zuwanderer.png</a></p>

<p>I've read the docs here: <a href=""http://had.co.nz/ggplot2/geom_area.html"" rel=""nofollow noreferrer"">http://had.co.nz/ggplot2/geom_area.html</a> and <a href=""http://had.co.nz/ggplot2/geom_histogram.html"" rel=""nofollow noreferrer"">http://had.co.nz/ggplot2/geom_histogram.html</a> and this blog <a href=""http://chartsgraphs.wordpress.com/2008/10/05/r-lattice-plot-beats-excel-stacked-area-trend-chart/"" rel=""nofollow noreferrer"">http://chartsgraphs.wordpress.com/2008/10/05/r-lattice-plot-beats-excel-stacked-area-trend-chart/</a> but I can't quite make it work for me.</p>

<p>How can I achieve this?</p>
","13969","","4370109","","2015-12-03 18:55:14","2019-06-13 16:04:49","Stacked Area Histogram in R","<r><charts><ggplot2>","4","1","2","","","CC BY-SA 2.5","2241290","4452","4452","r","404559","3625322","3607736","",""
"2241369","1","2241505","","2010-02-11 00:16:58","","2","3273","<p>preface: i'm an os x user coming to linux, so excuse my ignorance in advance</p>

<p>I've installed R using synaptic and now i'm trying to install packages.</p>

<p>I open R then try </p>

<pre><code>install.packages(""some_package"")
</code></pre>

<p>system tries to default to <code>/site-library</code>, then tells me it's not writable, then asks about making a personal library?</p>

<p>Should I just make site-library writable? Or is there something more to this?</p>
","142879","","190277","","2015-01-05 00:17:33","2015-01-05 00:17:33","installing R packages on ubuntu 8.10","<r>","4","0","0","","","CC BY-SA 3.0","2241369","4452","4452","r","404559","3625322","3607736","",""
"2241583","1","2241626","","2010-02-11 01:16:10","","2","1214","<p>Say I have a data frame with the contents:</p>

<pre><code>Trial Person Time
1     John   1.2
2     John   1.3
3     John   1.1
1     Bill   2.3
2     Bill   2.5
3     Bill   2.7
</code></pre>

<p>and another data frame with the contents:</p>

<pre><code>Person Offset
John   0.5
Bill   1.0
</code></pre>

<p>and I want to modify the original frame based on the appropriate value from the second. I could do this easily in any other language or in SQL, and I'm sure I could manage using for loops and what, but with everything else I see in R, I'm guessing it has special syntax to do this as a one-liner. So, if so, how? And if not, could you show how it could be done using loops. I haven't actually got around to learning looping in R yet since it has amazing things to simply extract and manipulate whatever values.</p>

<p>For reference, the output would:</p>

<pre><code>Trial Person Time
1     John   0.7
2     John   0.8
3     John   0.6
1     Bill   1.3
2     Bill   1.5
3     Bill   1.7 
</code></pre>
","84378","","881229","","2015-08-07 00:13:50","2015-08-07 00:13:50","Manipulating a data frame with contents from a different data frame similar to a SQL join","<r><dataframe>","2","5","1","","","CC BY-SA 3.0","2241583","4452","4452","r","404559","3625322","3607736","",""
"2243046","1","2253749","","2010-02-11 08:08:58","","7","15721","<p>I'm trying to fit a curve over (the tail of) the following data:</p>

<pre>
 [1]   1   1   1   1   1   1   2   1   2   2   3   2   1   1   4   3   2  11   6   2  16   7  17  36
[25]  27  39  41  33  42  66  92 138 189 249 665 224 309 247 641 777 671 532 749 506 315 292 281 130
[49] 137  91  40  27  34  19   1
</pre>

<p>I'm using the following function in R to accomplish this:</p>

<blockquote>
  <p>nls(y~a<em>x</em>exp(-b*x^2),start=list(a=1,b=1),trace=TRUE)</p>
</blockquote>

<p>However, I'm getting the following error:</p>

<blockquote>
  <p>3650202 :  1 1</p>
  
  <p>Error in numericDeriv(form[[3L]], names(ind), env) :
    Missing value or an infinity produced when evaluating the model</p>
</blockquote>

<p>When using the following, artificial values for x and y, everything works just fine:</p>

<blockquote>
  <p>y=x*exp(-.5*x^2)+rnorm(length(x),0,0.1)</p>
</blockquote>

<pre>
x
  [1] 0.00 0.05 0.10 0.15 0.20 0.25 0.30 0.35 0.40 0.45 0.50 0.55 0.60 0.65 0.70 0.75 0.80 0.85 0.90
 [20] 0.95 1.00 1.05 1.10 1.15 1.20 1.25 1.30 1.35 1.40 1.45 1.50 1.55 1.60 1.65 1.70 1.75 1.80 1.85
 [39] 1.90 1.95 2.00 2.05 2.10 2.15 2.20 2.25 2.30 2.35 2.40 2.45 2.50 2.55 2.60 2.65 2.70 2.75 2.80
 [58] 2.85 2.90 2.95 3.00 3.05 3.10 3.15 3.20 3.25 3.30 3.35 3.40 3.45 3.50 3.55 3.60 3.65 3.70 3.75
 [77] 3.80 3.85 3.90 3.95 4.00 4.05 4.10 4.15 4.20 4.25 4.30 4.35 4.40 4.45 4.50 4.55 4.60 4.65 4.70
 [96] 4.75 4.80 4.85 4.90 4.95 5.00
y
  [1] -0.080214106  0.075247488  0.076355116 -0.020087646  0.181314038  0.075832658  0.248303254
  [8]  0.364244010  0.453655908  0.347854869  0.514373164  0.384051249  0.618584696  0.515684390
 [15]  0.534737770  0.609279111  0.618936091  0.534443863  0.739118585  0.677679546  0.526011452
 [22]  0.645645150  0.578274968  0.589619834  0.476186241  0.621638333  0.601663144  0.535981735
 [29]  0.518434367  0.581735107  0.423872948  0.445335110  0.340884242  0.317121065  0.342683141
 [36]  0.278351104  0.402947372  0.429483276  0.276655872  0.108164828  0.389994138  0.372300257
 [43] -0.057320612  0.131271986  0.226212869  0.131171973  0.245970674  0.009926555  0.173465207
 [50]  0.141220590  0.280616078  0.108515613  0.117697407  0.130700771  0.058540888  0.251613512
 [57]  0.168094899 -0.058382571  0.123306762 -0.048605186 -0.010131767  0.076701962 -0.051982924
 [64]  0.058427540  0.144665070  0.063998841 -0.010495697  0.119868854  0.114447318  0.006759691
 [71]  0.025041761 -0.178145771  0.041547126  0.122084819  0.034283141  0.209140060  0.197024853
 [78] -0.005491966 -0.033260219 -0.028123314 -0.005775553 -0.040781462  0.090024896  0.116390743
 [85] -0.017811031  0.094039200 -0.147064060 -0.057249278  0.211587898 -0.066153592  0.032100332
 [92] -0.092756136 -0.125906598  0.136937364  0.046453010  0.002000336 -0.134047101  0.089748847
 [99] -0.019355567 -0.042158950  0.149594368
</pre>

<p>Can anyone point out what I'm doing wrong? Thanks for your help.</p>
","900119","","900119","","2010-02-11 08:39:54","2010-02-12 17:29:42","Curve fitting in R using nls","<r><curve-fitting><nls>","1","2","2","","","CC BY-SA 2.5","2243046","4452","4452","r","404559","3625322","3607736","",""
"2247045","1","2247574","","2010-02-11 19:17:42","","60","60285","<p>I have an object containing a text string:</p>

<pre><code>x &lt;- ""xxyyxyxy""
</code></pre>

<p>and I want to split that into a vector with each element containing two letters:</p>

<pre><code>[1] ""xx"" ""yy"" ""xy"" ""xy""
</code></pre>

<p>It seems like the <code>strsplit</code> should be my ticket, but since I have no regular expression foo, I can't figure out how to make this function chop the string up into chunks the way I want it. How should I do this?</p>
","37751","","1851712","","2018-06-09 09:08:56","2018-11-07 17:55:53","Chopping a string into a vector of fixed width character elements","<r><strsplit>","12","5","18","","","CC BY-SA 4.0","2247045","4452","4452","r","404559","3625322","3607736","",""
"2247111","1","2247488","","2010-02-11 19:27:18","","3","4572","<p>I'm trying to iteratively generate some functions using a For Loop:</p>

<pre><code># Create a list to hold the functions
funcs &lt;- list()
funcs[]

# loop through to define functions
for(i in 1:21){

    # Make function name
    funcName &lt;- paste( 'func', i, sep = '' )

    # make function
    func = function(x){x * i}

    funcs[[funcName]] = func

    }
</code></pre>

<p>However, it's not working as I hoped as the i value is not being evaluated within each function. I want to try and define the function to equal x * 1; x * 2; etc, but what I end up with is a function that is x * i; where i is 21.</p>

<p>I tried using the eval() function and that just resulted in x * eval(i) being stored.</p>
","258755","","","","","2010-02-19 14:04:07","Evaluating variable within R loop","<function><r><statistics><for-loop>","2","0","3","","","CC BY-SA 2.5","2247111","4452","4452","r","404559","3625322","3607736","",""
"2248261","1","2248533","","2010-02-11 22:28:50","","7","8829","<p>I have a two vectors of numbers of equal length. How do I plot the first vector while using the corresponding element in the second vector as the printing character? (Background: I sorted the first column and the second column holds the original indices. I want to use the indices as the printable character so that I can see which data points are outliers, since each number represents one run of data).</p>

<pre><code> &gt; x
$x
 [1]   25   29   30   34   38  572  700  733  870  879  899  934  982 1054 1135 1258
[17] 1315 1491 1685 1700 2069 2131 2284 3498 3506 4467 4656 5633 6642 8348

$ix
 [1] 23  3 18 30 13  8  4 14 11 17 12 29  9 15 19 16  7  1 20  2  6 28 21 10  5 22 24 26
[29] 25 27
</code></pre>

<p>First vector is x$x, second vector is x$ix (results of calling sort with index.return = TRUE)</p>

<p>I've tried plot(x$x, pch=str(x$ix)) but that treats x$ix numerically. If this were Python I would do something like strings = [str(x) for x in x$ix]. but this is R and I've forgotten most of what I used to know.</p>

<p>I found that you can do as.character(x$ix) in order to get the strings,</p>

<pre><code>&gt; as.character(x$ix)
 [1] ""23"" ""3""  ""18"" ""30"" ""13"" ""8""  ""4""  ""14"" ""11"" ""17"" ""12"" ""29"" ""9""  ""15"" ""19"" ""16""
[17] ""7""  ""1""  ""20"" ""2""  ""6""  ""28"" ""21"" ""10"" ""5""  ""22"" ""24"" ""26"" ""25"" ""27""
</code></pre>

<p>and I can use this as the input to pch.  But only the first character is used (and according to the docs, that's normal).</p>

<p>I know there's a way to do this; I did it in college.  But I can't for the life of me remember how I did it.</p>

<p>Chart without labels:
<a href=""https://i.stack.imgur.com/s7wH2.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/s7wH2.png"" alt=""alt text""></a>
</p>

<p>Chart with labels, but incorrect:
<a href=""https://i.stack.imgur.com/b5du3.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/b5du3.png"" alt=""alt text""></a>
</p>
","155392","","4751173","","2019-06-15 10:05:45","2019-06-15 10:05:45","R - how to use contents of one vector as the symbol in a plot?","<r><plot>","3","0","5","","","CC BY-SA 4.0","2248261","4452","4452","r","404559","3625322","3607736","",""
"2249181","1","2262252","","2010-02-12 01:56:36","","5","1210","<p>I have a plain hashmap with numeric values and would like to retrieve its content, ideally in a list (but that can be worked out). </p>

<p>Can it be done?</p>
","143813","","918414","","2013-02-01 22:40:02","2013-02-01 22:40:02","getting a hashmap in R using rJava","<java><r>","2","0","1","","","CC BY-SA 3.0","2249181","4452","4452","r","404559","3625322","3607736","",""
"2249457","1","2249622","","2010-02-12 03:13:01","","3","9169","<p>I'm using qplot to plot a function and I want to position the legend within the plot. I've used </p>

<pre><code>opts( legend.position = c(0.7,0.7) )
</code></pre>

<p>to move the legend where I want it to be.</p>

<p>However there is a white border around the legend and that shows up on the gray background. </p>

<p>For example:</p>

<pre><code>library(ggplot2)
x = c(1:20)
y = c(1:20)

p &lt;- qplot(x,y, color = ""blue"")

p &lt;- p + scale_colour_identity(""Example"", breaks=c(""blue""), labels=c(""dots""))

p &lt;- p + opts(legend.position = c(0.6, 0.4))

print(p)
</code></pre>

<p>I would like to know how to remove this border from the legend. Thank you.</p>
","258755","","","","","2018-04-24 18:11:41","Is there a way to remove the border of the legend in ggplot2?","<r><statistics><plot><ggplot2>","1","1","1","","","CC BY-SA 2.5","2249457","4452","4452","r","404559","3625322","3607736","",""
"2252144","1","","","2010-02-12 13:46:56","","40","10585","<p>What datasets exist out on the internet that I can run statistical analysis on?</p>
","256662","","1505120","","2015-09-11 08:38:15","2015-09-11 08:38:15","Datasets for Running Statistical Analysis on","<r><statistics><dataset>","17","0","49","2012-10-10 02:03:26","2010-02-13 18:35:26","CC BY-SA 2.5","2252144","4452","4452","r","404559","3625322","3607736","",""
"2253179","1","2291593","","2010-02-12 16:11:31","","5","4472","<p>Using ggplot2 I am plotting several functions and a series of points. I cannot figure out how to represent the points on the legend. I realize I need to use an aes() function, but I don't fully understand how to do this. I apologize that the example is so long, but I don't know how else to illustrate it.</p>

<pre><code>## add ggplot2
library(ggplot2)

# Declare Chart values
y_label = expression(""y_axis""~~bgroup(""("",val / km^{2},"")""))
x_label = ""x_axis""

#############################
## Define functions
# Create a list to hold the functions
funcs &lt;- list()
funcs[]

# loop through to define functions
for(k in 1:21){

# Make function name
funcName &lt;- paste('func', k, sep = '' )

# make function
func = paste('function(x){exp(', k, ') * exp(x*0.01)}', sep = '')

funcs[[funcName]] = eval(parse(text=func))

}

    # Specify values
    yval = c(1:20)                              
    xval = c(1:20)                                

    # make a dataframe
    d = data.frame(xval,yval)

    # Specify Range
    x_range &lt;- range(1,51)

# make plot
p &lt;-qplot(data = d,
        x=xval,y=yval,        
        xlab = x_label, 
        ylab = y_label,
        xlim = x_range
        )+ geom_point(colour=""green"")


for(j in 1:length(funcs)){

p &lt;- p + stat_function(aes(y=0),fun = funcs[[j]], colour=""blue"", alpha=I(1/5))

}

# make one function red
p &lt;- p + stat_function(fun = funcs[[i]], aes(color=""red""), size = 1) +
    scale_colour_identity("""", breaks=c(""red"", ""green"",""blue""),
    labels=c(""Fitted Values"", ""Measured values"",""All values"")) 

# position legend and make remove frame
p &lt;- p + opts(legend.position = c(0.85,0.7), legend.background = theme_rect(col = 0)) 

print(p)     
</code></pre>

<p>Thank you in advance - I have learned I a lot from this community over the last few days.</p>
","258755","","258755","","2010-02-23 01:36:33","2019-07-21 23:51:51","Using ggplot2 how can I represent a dot and a line in the legend","<r><statistics><plot><ggplot2>","3","0","3","","","CC BY-SA 2.5","2253179","4452","4452","r","404559","3625322","3607736","",""
"2254608","1","2254669","","2010-02-12 19:40:56","","3","521","<p>I have 30 runs of data, each stored in a separate CSV file, runi.csv, i = 0:29.</p>

<p>Let's say I want to collect them all into a list.  Best way I know how to do this is</p>

<pre><code>runs = list()
for (i in 1:30) { runs[[i]] = read.csv(paste(""run"", i-1, "".csv"")); }
</code></pre>

<p>Now let's further say that each of these data frames stored in the list has the same column layouts and that I'm interested in the column identified by ""x"" and the column identified by ""y"".</p>

<p>What is the easiest way to plot all 30 runs' worth of (x, y) pairs?  Here's how I would currently do it (and I feel there <em>must</em> be a better way):</p>

<pre><code>xList = list()
yList = list()
for (i in 1:30) { xList[[i]] = runs[[i]]$x; yList[[i]] = runs[[i]]$y; }
matplot(x=as.data.frame(xList), y=as.data.frame(yList))
</code></pre>

<p>This gets even more painful when I'm trying to do transformations to the data; I can't figure out how to apply a function to a specific column of each data frame stored in a list.</p>

<p>Any help here would be extremely helpful.</p>
","155392","","","","","2010-02-12 19:54:59","R - idiomatic way to deal with lists of data frames","<r><idioms>","2","0","1","","","CC BY-SA 2.5","2254608","4452","4452","r","404559","3625322","3607736","",""
"2254701","1","2254757","","2010-02-12 19:56:39","","0","1048","<p>Say I have a data frame with the contents:</p>

<pre><code>Trial Person 
1     John   
2     John   
3     John   
4     John
1     Bill 
2     Bill
3     Bill
4     Bill
</code></pre>

<p>and I want to transform this to</p>

<pre><code>Trial Person Day
1     John   1
2     John   1
3     John   2
4     John   2
1     Bill   1
2     Bill   1
3     Bill   2
4     Bill   2
</code></pre>

<p>I can very easily make it</p>

<pre><code>Trial Person Day
1     John   TRUE
2     John   TRUE
3     John   FALSE
4     John   FALSE
1     Bill   TRUE
2     Bill   TRUE
3     Bill   FALSE
4     Bill   FALSE
</code></pre>

<p>by doing <code>d$day=d$trial&lt;3</code> but how can I get to what I want?</p>
","84378","","881229","","2015-08-07 00:13:38","2015-08-07 00:13:38","Performing binary function to a column in a data frame","<r><dataframe>","4","0","","","","CC BY-SA 3.0","2254701","4452","4452","r","404559","3625322","3607736","",""
"2254986","1","2255187","","2010-02-12 20:41:57","","69","130100","<p>I'm trying to build folders to store data pulls. I want to label the folders with the day of that data in the pull.</p>

<p>Ex. I pull 5 days ago data from mysql i want to name the folder the date from 5 days ago.</p>

<p>MySQL can easily handle date arithmetic. I'm not sure exactly how R does it. Should i just subtract the appropriate number of seconds in POSIXct and then convert to POSIXlt to name the folder MM_DD_YYYY?</p>

<p>Or is there a better way?</p>
","142879","","2204410","","2017-10-23 15:54:48","2017-10-23 15:54:48","How to subtract/add days from/to a date?","<r><date><r-faq>","3","0","13","","","CC BY-SA 3.0","2254986","4452","4452","r","404559","3625322","3607736","",""
"2258092","1","","","2010-02-13 15:40:49","","34","12684","<p>What are some good practices for programming in <code>R</code>? </p>

<p>Since <code>R</code> is a special-purpose language that I don't use all the time, I typically just hack together some quick scripts that do what I need. </p>

<p>But what are some tips for writing clean and efficient <code>R</code> code?</p>
","60628","","","user1228","2013-07-18 19:49:37","2017-04-18 11:44:05","What best practices do you use for programming in R?","<r>","5","1","30","2012-12-22 19:09:23","","CC BY-SA 2.5","2258092","4452","4452","r","404559","3625322","3607736","",""
"2258511","1","2258549","","2010-02-13 18:04:37","","8","7388","<p>I have a process in R that creates a bunch of objects, serializes them, and puts them into plain text files. This seemed like a really good way to handle things since I am working with Hadoop and all output needs to stream through stdin and stdout. </p>

<p>The problem I am left with is how to read these objects out of the text file and back into R on my desktop machine. Here's a working example that illustrates the challenge:</p>

<p>Let's create a tmp file and write a single object into it. This object is just a vector:</p>

<pre><code>outCon &lt;- file(""c:/tmp"", ""w"")
mychars &lt;- rawToChar(serialize(1:10, NULL, ascii=T))
cat(mychars, file=outCon)
close(outCon)
</code></pre>

<p>The mychars object looks like this:</p>

<pre><code>&gt; mychars
[1] ""A\n2\n133633\n131840\n13\n10\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n""
</code></pre>

<p>when written to the text file it looks like this:</p>

<pre><code>A
2
133633
131840
13
10
1
2
3
4
5
6
7
8
9
10
</code></pre>

<p>I'm probably overlooking something terribly obvious, but how do I read this file back into R and unserialize the object? When I try scan() or readLines() both want to treat the new line characters as record delimiters and I end up with a vector where each element is a row from the text file. What I really want is a text string with the whole contents of the file. Then I can unserialize the string. </p>

<p>Perl will read line breaks back into a string, but I can't figure out how to override the way R treats line breaks. </p>
","37751","","37751","","2010-02-13 18:14:09","2010-02-13 18:17:26","R: serialize objects to text file and back again","<r><serialization>","1","0","6","","","CC BY-SA 2.5","2258511","4452","4452","r","404559","3625322","3607736","",""
"2258784","1","4744682","","2010-02-13 19:46:32","","67","27226","<p>After some research I found the way to prevent an uninformative legend from displaying</p>

<pre><code>... + theme(legend.position = ""none"")
</code></pre>

<p>Where can I find all of the available <code>theme</code> options and their default values for ggplot2?</p>
","170792","","935950","","2013-10-02 22:35:13","2016-05-26 16:27:49","List of ggplot2 theme options?","<r><ggplot2>","9","3","34","","","CC BY-SA 3.0","2258784","4452","4452","r","404559","3625322","3607736","",""
"2258844","1","2258924","","2010-02-13 20:02:10","","5","130","<p>In <code>R</code>, how can I overwrite the first values of a long vector with values obtained from a file, where the file contains possibly fewer values?</p>

<p>Example:</p>

<pre><code># fill with n=100 values
vec1 &lt;- runif(100)

# read m values, where m &lt;= n
vec2 &lt;- scan(""myfile"", sep=""\n"")

# now want to set the first m values of vec1 
# to the values in vec2
</code></pre>

<p>I could walk through <code>vec2</code> and copy the values into <code>vec1</code>, but I think there should be a more efficient way?</p>
","60628","","","","","2010-02-13 20:35:11","In R, how do I set the first values of a long vector to the values of a shorter one?","<function><r><vector><copy>","1","0","","","","CC BY-SA 2.5","2258844","4452","4452","r","404559","3625322","3607736","",""
"2260147","1","2260991","","2010-02-14 04:34:37","","8","4137","<p>I have experimental data expressed as dicts of key-value pairs for each experiment. A set of related experiments is serialized as a list of these dicts in JSON. This is parseable in in R via the <code>rjson</code> package, but the data is loaded in a form which is challenging to analyze </p>

<pre><code>data &lt;- fromJSON('[{""k1"":""v1"",""k2"":""v2""}, {""k1"":""v3"",""k2"":""v4""}]')
</code></pre>

<p>yields</p>

<pre><code>[[1]]
[[1]]$k1
[1] ""v1""

[[1]]$k2
[1] ""v2""


[[2]]
[[2]]$k1
[1] ""v3""

[[2]]$k2
[1] ""v4""
</code></pre>

<p>Attempting to turn this into a <code>data.frame</code> directly with <code>as.data.frame(data)</code> yields:</p>

<pre><code>  k1 k2 k1.1 k2.1
1 v1 v2   v3   v4
</code></pre>

<p>clearly viewing the the sequence of key/value pairs across all experiments as a flat 1-dimensional list.</p>

<p>What I want is a more conventional table with a row for each experiment, and a column for each unique key:</p>

<pre><code>  k1 k2
1 v1 v2
2 v3 v4
</code></pre>

<p>How can I cleanly express this transform in R?</p>
","3815","","","","","2010-02-14 17:40:44","Transposing JSON list-of-dictionaries for analysis in R","<json><r>","2","0","8","","","CC BY-SA 2.5","2260147","4452","4452","r","404559","3625322","3607736","",""
"2261079","1","2261149","","2010-02-14 12:44:02","","380","327550","<p>I am having some troubles with leading and trailing white space in a data.frame.</p>
<p>For example, I like to take a look at a specific <code>row</code> in a <code>data.frame</code> based on a certain condition:</p>
 
<pre><code>&gt; myDummy[myDummy$country == c(&quot;Austria&quot;),c(1,2,3:7,19)] 



[1] codeHelper     country        dummyLI    dummyLMI       dummyUMI       

[6] dummyHInonOECD dummyHIOECD    dummyOECD      

&lt;0 rows&gt; (or 0-length row.names)
</code></pre>
<p>I was wondering why I didn't get the expected output since the country Austria obviously existed in my <code>data.frame</code>. After looking through my code history and trying to figure out what went wrong I tried:</p>
<pre><code>&gt; myDummy[myDummy$country == c(&quot;Austria &quot;),c(1,2,3:7,19)]
   codeHelper  country dummyLI dummyLMI dummyUMI dummyHInonOECD dummyHIOECD
18        AUT Austria        0        0        0              0           1
   dummyOECD
18         1
</code></pre>
<p>All I have changed in the command is an additional white space after Austria.</p>
<p>Further annoying problems obviously arise. For example, when I like to merge two frames based on the country column. One <code>data.frame</code> uses <code>&quot;Austria &quot;</code> while the other frame has <code>&quot;Austria&quot;</code>. The matching doesn't work.</p>
<ol>
<li>Is there a nice way to 'show' the white space on my screen so that I am aware of the problem?</li>
<li>And can I remove the leading and trailing white space in R?</li>
</ol>
<p>So far I used to write a simple <a href=""https://en.wikipedia.org/wiki/Perl"" rel=""noreferrer"">Perl</a> script which removes the whites pace, but it would be nice if I can somehow do it inside R.</p>
","258334","","63550","anon","2020-08-23 23:22:42","2021-05-07 12:08:42","How can I trim leading and trailing white space?","<r><whitespace><trim><removing-whitespace><r-faq>","15","2","129","","","CC BY-SA 4.0","2261079","4452","4452","r","404559","3625322","3607736","",""
"2266200","1","2266576","","2010-02-15 13:28:27","","9","1140","<p>I'm using <a href=""http://www.r-project.org/"" rel=""nofollow noreferrer""><strong>R</strong></a> language and the manuals on the R site are really informative. However, I'd like to see some more examples and implementations with R which can help me develop my knowledge faster. Any suggestions?</p>
","192377","","428790","","2012-05-21 09:58:56","2012-05-21 09:58:56","Where can I find useful R tutorials with various implementations?","<r><implementation><r-faq>","4","5","11","","2010-02-15 20:56:53","CC BY-SA 2.5","2266200","4452","4452","r","404559","3625322","3607736","",""
"2266408","1","2268077","","2010-02-15 14:06:12","","2","592","<p>This question is for those of you who happen to use R, on a Mac, in combination with Macromate's [Textmate](http://macromates.com/) text editor and the ""R"" Bundle. All of which are nifty, needless to say, but that's beside the point for now :-)</p>

<p>I've got a .RProfile file sitting in my default ""~"" startup directory, and it's got a number of useful functions in it I like to have access to when writing R scripts. But I also use Textmate for most of my writing, and the cmd-R functionality to to run my scripts within Textmate.</p>

<h3>At the moment, I don't know how to tell Textmate where my .Rprofile is.</h3>

<p>Is there a way--most likely through Textmate's Bundle settings--that I can point Textmate to my .RProfile so I don't have to write my functions into every script on a per-script basis?</p>

<p>OR</p>

<p>Is it actually better to include any custom functions in any script I write, so that anyone with a basic R setup can source and run my scripts?</p>

<p>I feel like I must be missing a dead-easy setting or config file here within either Textmate or the R environment it calls to run my scripts.</p>

<p>Thanks so much in advance!</p>
","180626","","","","","2010-02-22 04:51:03","How can I load my .RProfile using Textmate's R Bundle","<r>","2","0","1","","","CC BY-SA 2.5","2266408","4452","4452","r","404559","3625322","3607736","",""
"2269084","1","2269182","","2010-02-15 21:32:28","","14","37484","<p>I have a 114 row by 16 column data frame where the rows are individuals, and the columns are either their names or NA. For example, the first 3 rows looks like this:</p>

<pre><code>            name name.1      name.2 name.3       name.4 name.5       name.6 name.7       name.8 name.9       name.10 name.11       name.12 name.13        name.14 name.15
1           &lt;NA&gt;   &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;         &lt;NA&gt;   &lt;NA&gt;         &lt;NA&gt;   &lt;NA&gt;         &lt;NA&gt;   &lt;NA&gt;      Aanestad    &lt;NA&gt;      Aanestad    &lt;NA&gt;       Aanestad    &lt;NA&gt;
2           &lt;NA&gt;   &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;         &lt;NA&gt;   &lt;NA&gt;         &lt;NA&gt;   &lt;NA&gt;     Ackerman   &lt;NA&gt;      Ackerman    &lt;NA&gt;      Ackerman    &lt;NA&gt;       Ackerman    &lt;NA&gt;
3           &lt;NA&gt;   &lt;NA&gt;        &lt;NA&gt;   &lt;NA&gt;         &lt;NA&gt;   &lt;NA&gt;      Alarcon   &lt;NA&gt;      Alarcon   &lt;NA&gt;       Alarcon    &lt;NA&gt;       Alarcon    &lt;NA&gt;           &lt;NA&gt;    &lt;NA&gt;
</code></pre>

<p>I want to generate a list (if multiple unique names per row) or vector (if only one unique name per row) of all the unique names, with length 114.</p>

<p>When I try <code>apply(x,1,unique)</code> I get a 2xNcol array where sometimes the first row cell is NA and sometimes the second row cell is NA.</p>

<pre><code>    [,1]       [,2]       [,3]      [,4]     [,5]      [,6]      [,7]    [,8]   [,9]    
[1,] NA         NA         NA        NA       ""Alquist"" NA        ""Ayala"" NA     NA      
[2,] ""Aanestad"" ""Ackerman"" ""Alarcon"" ""Alpert"" NA        ""Ashburn"" NA      ""Baca"" ""Battin""
</code></pre>

<p>When what I'd like is just:</p>

<pre><code>Aanestad
Ackerman
Alarcon
...
</code></pre>

<p>I can't seem to figure out how to apply unique() while ignoring NA. na.rm, na.omit etc don't seem to work. I feel like I'm missing something real simple ...</p>

<p>Thanks!</p>
","170408","","170408","","2010-02-15 21:51:37","2019-07-25 09:59:53","Handling NA values in apply and unique","<r><unique><apply>","2","0","2","","","CC BY-SA 2.5","2269084","4452","4452","r","404559","3625322","3607736","",""
"2270201","1","","","2010-02-16 01:59:23","","4","1687","<p>I'm using ggplot2 to explore the effects of different military operations on murder rates. To show the effect I draw a vertical line when the operation occurred and a smoothed line of the murder rate before and after the operation. </p>

<p>I've written a facet_wrap plot to show this for a whole bunch of counties. It works beautifully, but when converted to a function I get an error when using a local variable to draw the vertical line. </p>

<p>Here's some example code:</p>

<pre><code>drawTS &lt;- function(df, dates, text) {
    p &lt;- ggplot(df, aes(date, murders)) +
      facet_wrap(~ county, ncol = 1,
                 scale=""free_y"") +
      scale_x_date() +
      geom_smooth(aes(group = group), se = FALSE)
    for(i in 1:length(dates)) {
      #If it's not a global variable I get an object not found error
      temp[i] &lt;&lt;- dates[i]
      p &lt;- p + geom_text(aes(x,y), label = text[i],
                  data = data.frame(x = dates[i], y = -10),
                  size = 3, hjust = 1, vjust = 0) +
           #Here's the problem
           geom_vline(xintercept=temp[i], alpha=.4)
    }
    p
}

library(ggplot2)
df &lt;- data.frame(date = rep(seq(as.Date(""2007/1/01""),
                          length=36, by='1 month'),4),
               murders = round(runif(36*4) * 100),
               county = rep(rep(factor(1:4),9),each=4),
               group = rep(c(rep(1,6), rep(2,12),rep(3,18))), each=4)
dates &lt;- c(as.Date(""2007/6/15""), as.Date(""2008/6/15""))
temp &lt;- c()
drawTS(df, dates, c(""Op 1"",""Op 2""))
</code></pre>

<p>There's no error with the global variable, but it looks ugly.</p>

<p>If instead of the <code>temp[i]</code> variable I use <code>dates[i]</code> inside <code>geom_vline()</code>, I get this: </p>

<blockquote>
  <p><em>Error in NextMethod(""["") : object 'i' not found</em></p>
</blockquote>

<p>If I wrap the variable <code>dates[i]</code> in <code>aes()</code>, I get: </p>

<blockquote>
  <p><em>Error in eval(expr, envir, enclos) : object 'county' not found</em></p>
</blockquote>

<p>Anybody know how to fix this?</p>
","191547","","3172092","","2014-12-08 09:10:55","2014-12-08 09:10:55","How to get geom_vline and facet_wrap from ggplot2 to work inside a function","<r><ggplot2>","1","0","","","","CC BY-SA 3.0","2270201","4452","4452","r","404559","3625322","3607736","",""
"2271575","1","2271590","","2010-02-16 08:54:06","","115","89685","<p>I'm using R 2.8.1 and it is possible to use both <code>=</code> and <code>&lt;-</code> as variable assignment operators. What's the difference between them? Which one should I use?</p>
","192377","","1968","","2020-01-24 14:45:46","2020-01-24 14:45:46","What's the difference between `=` and `<-` in R?","<r><assignment-operator><variable-assignment>","2","0","33","2020-01-24 14:45:36","","CC BY-SA 4.0","2271575","4452","4452","r","404559","3625322","3607736","",""
"2274186","1","2274348","","2010-02-16 16:00:14","","3","2320","<p>I have a barplot for which the second half should fit to this formula:
<code>y~a<em>x</em>exp(-b*x^2)</code>. Now I want to plot the entire barplot and display the fitted model over the last part of the barplot as it only holds for that part. However, I cannot find a way to display the line-graph only over the second half. If I just do something like</p>

<pre><code>
submitted=c(1L, 1L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 2L, 3L, 2L, 1L, 1L, 4L, 
3L, 2L, 11L, 6L, 2L, 16L, 7L, 17L, 36L, 27L, 39L, 41L, 33L, 42L, 
66L, 92L, 138L, 189L, 249L, 665L, 224L, 309L, 247L, 641L, 777L, 
671L, 532L, 749L, 506L, 315L, 292L, 281L, 130L, 137L, 91L, 40L, 
27L, 34L, 19L, 1L)
x=seq(0:(length(submitted)-1))
y1=rs$submitted[30:(length(submitted)-1)]
x1=seq(0:(length(y1)-1))
fit1=nls(y1~a*x1*exp(-b*x1^2),start=list(a=500,b=.01),trace=TRUE)
barplot(submitted,names.arg=x, las=2, cex.axis=0.8, cex=0.8)
lines(predict(fit1))
</code></pre>

<p>The line is displayed, but in the wrong position. So how can I control where the line is drawn?</p>
","900119","","900119","","2010-02-17 11:35:40","2010-02-17 15:44:43","plot line over last part of barplot","<r><model><bar-chart>","2","0","","","","CC BY-SA 2.5","2274186","4452","4452","r","404559","3625322","3607736","",""
"2274487","1","","","2010-02-16 16:34:17","","4","3625","<p>I use windows XP and R for my desktop use. And a shared hosting account (at some company) for my web hosting needs.</p>

<p>I wish to create an R web application and I understand that one such way is by using R with Apache through <a href=""http://biostat.mc.vanderbilt.edu/rapache/"" rel=""nofollow noreferrer"">RApache</a> , but since my current shared hosting plan doesn't allow me to install RApache I am a bit stuck.</p>

<p>So... (and here's my question) what would be the easiest/fastest/cost-effective way to get started?</p>

<ul>
<li><p>Buying a more expensive hosting package ?</p></li>
<li><p>Hosting the thing myself? (on windows ?!)</p></li>
<li><p>switch to some other hosting company that permits the use of RApache?</p></li>
</ul>

<p>Any suggestion will be most helpful.</p>
","256662","","","","","2013-07-19 15:26:34","What is the easiest way to install a R web application through RApache?","<apache><web-applications><r><hosting><web-hosting>","3","0","4","","","CC BY-SA 2.5","2274487","4452","4452","r","404559","3625322","3607736","",""
"2275896","1","2276001","","2010-02-16 20:00:04","","156","20863","<p>...regarding execution time and / or memory.</p>

<p>If this is not true, prove it with a code snippet. Note that speedup by vectorization does not count. The speedup must come from <code>apply</code> (<code>tapply</code>, <code>sapply</code>, ...) itself.</p>
","274686","","180892","","2012-08-03 00:46:20","2020-01-01 15:56:13","Is R's apply family more than syntactic sugar?","<r><apply>","5","0","120","","","CC BY-SA 3.0","2275896","4452","4452","r","404559","3625322","3607736","",""
"2277166","1","2277217","","2010-02-16 23:25:27","","3","5840","<p>I am having trouble saving a dotplot to pdf when this command is done inside a function.</p>

<p>It works fine when called normally:</p>

<pre><code>df &lt;- data.frame(a = runif(10), b = runif(10), c = runif(10), x = 1:10)  
pdf(""test.pdf"")  
dotplot(a + b + c ~ x, data = df, type = ""l"", auto.key=TRUE)  
dev.off()
</code></pre>

<p>But if this code is inside a function, it will not work and just makes an empty or blank file:  </p>

<pre><code>plotFunc &lt;- function(model)  
{  
    pdf(""test.pdf"")  
    dotplot(a + b + c ~ x, data = model, type = ""l"", auto.key=TRUE)  
    dev.off()  
}
plotFunc(df)
</code></pre>

<p>However, calling the function without the file commands will successfully print to the graphics window:</p>

<pre><code>plotWinFunc &lt;- function(model)  
{  
    dotplot(a + b + c ~ x, data = model, type = ""l"", auto.key=TRUE)  
}  
plotWinFunc(df)
</code></pre>

<p>This leads me to believe that something goes wrong with dotplot() when it is supposed to output to a file.  And the type of file doesn't matter, I have tried with both bmp and pdf and neither method works.</p>

<p>How can I successfully write a dotplot to a file?  Do I have to use a special command from the lattice package or do I have an error somewhere?</p>

<p>Thanks for any help.</p>
","260533","","","","","2010-02-16 23:34:36","Saving dotplot to pdf in R","<pdf><r><plot><lattice>","1","0","1","2013-02-19 01:45:15","","CC BY-SA 2.5","2277166","4452","4452","r","404559","3625322","3607736","",""
"2278951","1","2284218","","2010-02-17 07:22:28","","4","716","<p>Given data     </p>

<pre><code>s&lt;-c(1,0,0,0,1,0,0,0,0,0,1,1,1,0,0)
</code></pre>

<p>I can count 1s and 0s with table or ftable</p>

<pre><code>ftable(s,row.vars =1:1)
</code></pre>

<p>and the totals of 11s,01s,10s,00s occurred in s with</p>

<pre><code>table(s[-length(s)],s[-1]).
</code></pre>

<p>What would be the clever way to count occurrences of 111s, 011s, ..., 100s, 000s? Ideally, I want a table of counts x like </p>

<pre><code>   0 1
11 x x
01 x x
10 x x
00 x x
</code></pre>

<p>Is there a general way to compute the total occurrences for all possible sub-sequences of length k=1,2,3,4, ... occurred in data?</p>
","182378","","1033581","","2018-11-22 05:38:27","2018-11-22 05:38:27","Frequencies of all subsequences of size 3 in a given 0-1 sequence?","<r><count><sequence>","2","0","1","","","CC BY-SA 4.0","2278951","4452","4452","r","404559","3625322","3607736","",""
"2280276","1","2280284","","2010-02-17 11:46:52","","13","10415","<p>What is the difference between a vector and a data frame in R? Under what circumstances vectors should be converted to data frames?</p>
","192377","","192377","","2010-11-05 09:04:29","2010-11-05 09:42:18","Vector vs. Data frame in R","<r><vector><dataframe>","2","0","6","","","CC BY-SA 2.5","2280276","4452","4452","r","404559","3625322","3607736","",""
"2280724","1","2281246","","2010-02-17 12:57:13","","2","794","<p>I'm using Tinn-R version 2.2.0.2 and I want to upgrade to the latest version 2.3.4.4. I couldn't find any upgrade options in the menus of Tinn-R. So my question is: Is it safe to download and just install the new version? Will it overwrite my current Tinn-R settings?</p>
","192377","","192377","","2010-02-17 21:59:27","2013-11-07 19:27:24","Upgrading Tinn-R","<r><installation><upgrade><tinn-r>","4","0","1","","","CC BY-SA 2.5","2280724","4452","4452","r","404559","3625322","3607736","",""
"2281353","1","2281627","","2010-02-17 14:20:08","","53","194823","<p>Do the following function pairs generate exactly the same results?</p>

<p>Pair 1) <code>names()</code> &amp; <code>colnames()</code>  </p>

<p>Pair 2) <code>rownames()</code> &amp; <code>row.names()</code></p>
","192377","","192377","","2010-09-30 07:00:27","2014-02-25 08:12:53","Row names & column names in R","<r><columnname><rowname>","4","0","12","","","CC BY-SA 2.5","2281353","4452","4452","r","404559","3625322","3607736","",""
"2281561","1","2282132","","2010-02-17 14:46:18","","7","4980","<p>Suppose I have a bivariate discrete distribution, i.e. a table of probability values P(X=i,Y=j), for i=1,...n and j=1,...m. How do I generate a random sample (X_k,Y_k), k=1,...N from such distribution? Maybe there is a ready R function like:</p>

<pre><code>sample(100,prob=biprob)
</code></pre>

<p>where biprob is 2 dimensional matrix? </p>

<p>One intuitive way to sample is the following. Suppose we have a data.frame</p>

<pre><code>dt=data.frame(X=x,Y=y,P=pij)
</code></pre>

<p>Where x and y come from</p>

<pre><code>expand.grid(x=1:n,y=1:m)
</code></pre>

<p>and pij are the P(X=i,Y=j). </p>

<p>Then we get our sample (Xs,Ys) of size N, the following way:</p>

<pre><code>set.seed(1000) 
Xs &lt;- sample(dt$X,size=N,prob=dt$P)
set.seed(1000)
Ys &lt;- sample(dt$Y,size=N,prob=dt$P)
</code></pre>

<p>I use set.seed() to simulate the ""bivariateness"". Intuitively I should get something similar to what I need. I am not sure that this is correct way though. Hence the question :) </p>

<p>Another way is to use Gibbs sampling, marginal distributions are easy to compute. </p>

<p>I tried googling, but nothing really relevant came up.</p>
","144297","","","","","2010-02-17 22:04:36","Random sample from given bivariate discrete distribution","<r><statistics>","2","0","6","","","CC BY-SA 2.5","2281561","4452","4452","r","404559","3625322","3607736","",""
"2282892","1","2282941","","2010-02-17 17:23:43","","6","6428","<p>I am working with NppToR as an extension allowing the use of notepad++ to be an IDE for R.</p>

<p>But there are a few features I didn't yet see implemented (I compiled the list from another IDE solution, which is not open source) :</p>

<p><strong>Object Browser</strong> - Allow users to see all the data and function objects that are available, including those in loaded and installed R packages.  Context menus provide the capability to quickly edit and plot data or load a package.</p>

<p><strong>Full-featured Visual Debugger</strong> - Debug R scripts, with step-in, step-over, and step-out capability, allowing users to inspect and modify R objects as they are debugging</p>

<p><strong>A Visual Solution Explorer</strong> - Organize, view, add, remove, rearrange, and deploy R scripts. Users can create their own Project Templates for automatic creation of a set of customized scripts for a new R project. Dockable, Floating, and Tabbed Tool Windows. for Creating personally customized workspaces.</p>

<p><strong>Enhanced Help</strong> - Complete search capabilities and hover-over tooltips for functions and data objects.</p>

<p><strong>R Code Snippets</strong> - Automatically generate fill-in-the-blank sections of R code for a variety of analyses. Tooltip help gives guidance in filling out the snippet.</p>

<p>Any Idea on how to get some of these already in notepad++ through some other noteps++ extensions or R packages ?</p>

<p>Thanks,
Tal</p>
","256662","","","","","2012-01-26 01:27:20","How can Notepad++ be extended as an IDE for R?","<ide><r><packages><notepad++>","3","2","1","","","CC BY-SA 2.5","2282892","4452","4452","r","404559","3625322","3607736","",""
"2284446","1","2284486","","2010-02-17 21:12:22","","50","22765","<p>All,</p>

<p>I am starting to write object-oriented R code for the first time and anticipate having multiple R files with dependencies in between.  I'm new to R and have not yet wrote anything outside of a single massive script to test ideas.  Are there resources online that give tips on how one ought to organize code?  Short of descriptions on how to build packages, I'm failing to find such guidance.  At this point, I just want to organize the code in such a way that it makes loading and interacting with the collection of routines as straightforward as possible.  </p>

<p>Appreciate any guidance you can provide.  </p>

<p>Chris</p>
","218244","","","","","2017-02-25 21:14:08","Organizing R Source Code","<r>","2","1","63","","","CC BY-SA 2.5","2284446","4452","4452","r","404559","3625322","3607736","",""
"2286085","1","14174547","","2010-02-18 03:22:47","","3","3821","<p>When one wishes to compare (test) multiple groups (as is the case, for example, when doing anova), one is confronted with the issue of multiple comparisons. The same applys if we wish to plot the comparisons.</p>

<p>My question is thus, <strong>what tools (in R) do you know of that allow plotting that reflects multiple comparisons?</strong></p>

<p>Currently, I know of only two (although I am sure there are more):</p>

<ol>
<li>TukeyHSD( ) combined with plot( )</li>
<li>The way boxplot chooses the ""notches""</li>
</ol>
","256662","","190277","","2013-01-05 18:14:47","2013-01-05 18:14:47","Plotting of multiple comparisons?","<r><comparison><plot>","2","0","3","","","CC BY-SA 3.0","2286085","4452","4452","r","404559","3625322","3607736","",""
"2286831","1","2290194","","2010-02-18 06:59:11","","23","5344","<p>I remember coming across R users writing that they use ""Revision control"" (<a href=""https://stackoverflow.com/questions/1056912/source-control-vs-revision-control"">e.g: ""Source control""</a>), and I am curious to know: How do you combine ""Revision control"" with your statistical analysis workflow?</p>

<p>Two (very) interesting discussions talk about how to deal with the workflow. But neither of them refer to the revision control element:</p>

<ul>
<li><a href=""https://stackoverflow.com/questions/1266279/how-to-organize-large-r-programs"">How to organize large R programs?</a></li>
<li><a href=""https://stackoverflow.com/questions/1429907/workflow-for-statistical-analysis-and-report-writing"">Workflow for statistical analysis and report writing</a></li>
</ul>

<p><strong>A Long Update To The Question</strong>: Following some of the people's answers, and Dirk's question in the comment, I would like to direct my question a bit more.</p>

<p>After reading the Wiki article about ""<a href=""http://en.wikipedia.org/wiki/Revision_control"" rel=""nofollow noreferrer"">revision control</a>"" (which I was previously not familiar with), it was clear to me that when using revision control, what one does is to build a <strong>development structure</strong> of his code. This structure either leads to a ""final product"" or to several branches.</p>

<p>When building something like, let's say, a website. There is usually one end product you work towards (the website), with some prototypes along the way.</p>

<p>But when doing a statistical analysis, the work (to my view) is different. Sometimes you know where you want to get to. But more often, you explore. Explore cleaning the dataset. Explore different methods for statistical analysis, and ask various questions of your data (and I am writing this, knowing how Frank Harrell, and other experience statisticians feels about <a href=""http://en.wikipedia.org/wiki/Data_dredging"" rel=""nofollow noreferrer"">Data dredging</a>).</p>

<p>That is why the workflow question with statistical programming is (in my view) a serious and deep question, raising many issues, The simpler ones are technical:</p>

<ul>
<li>Which revision control software do you use (and why) ?</li>
<li>Which IDE do you use(and why) ? 
The more interesting question are about work process:</li>
<li>How do you structure your files?</li>
<li>What do you keep as a separate file and what as a revision? or asking in a different way - What should be a ""branch"" and what should be a ""sub project"" in your code? For example: When starting to explore your data, should a plot be creating and then erased because it didn't lead any where (but kept as a revision) or should there be a backup file of that path?</li>
</ul>

<p>How <strong>you</strong> solve this tension was my initial curiosity. The second question is ""what might I be missing?"". What rules (of thumb) should one follow so to avoid common pitfalls doing statistical programming with version control?</p>

<p>In my <strong>intuition</strong>, I feel that statistical programming is inherently different then software development (I am writing this without being a real expert in statistical programming, and even less so in software development). That's way I am unsure which of the lessons I have read here about version control would be applicable.</p>

<p>Thanks a lot,
Tal</p>
","256662","","-1","","2017-05-23 12:18:27","2012-07-20 06:46:49","How do you combine ""Revision Control"" with ""Workflow"" for R?","<version-control><r><workflow><statistics>","5","4","28","","","CC BY-SA 3.0","2286831","4452","4452","r","404559","3625322","3607736","",""
"2287374","1","2295579","","2010-02-18 09:04:23","","3","2137","<p>I have the following code snippet:</p>

<pre><code>require(lattice)
f.barchart &lt;- function(...) {
    barchart(...,
        panel = function(x, y, ...) {
            panel.barchart(x, y, ...)
        }
    )
}

x &lt;- data.frame(a = c(1,1,2,2), b = c(1,2,3,4), c = c(1,2,2,1))
f.barchart(a ~ b, data = x, groups = c)
</code></pre>

<p>Which results in the following error being thrown:</p>

<pre><code>..3 used in an incorrect context, no ... to look in
</code></pre>

<p>When I use the following definition:</p>

<pre><code>f.barchart &lt;- function(...) {
    substitute(barchart(...,
        panel = function(x, y, ...) {
            panel.barchart(x, y, ...)
        }
    ))
}
</code></pre>

<p>I get:</p>

<pre><code>barchart(a ~ b, data = x, groups = c,
    panel = function(x, y, ...) {
        panel.barchart(x, y, a ~ b, data = x, groups = c)
    })
</code></pre>

<p>I'm not sure if this is the cause of above error but this would mean
that the ellipsis in panel.barchart gets wrongly expanded with the
contents of the arguments given to f.barchart and not the panel
function.</p>

<p>Is there a way to avoid this problem? How can I make the function
work? </p>
","275913","","5414452","","2016-01-20 13:29:51","2016-01-20 13:29:51","Ellipsis expansion in nested functions: Error ""..3 used in an incorrect context, no ... to look in""","<r><function><syntax>","1","1","2","","","CC BY-SA 2.5","2287374","4452","4452","r","404559","3625322","3607736","",""
"2287616","1","2288013","","2010-02-18 09:48:37","","125","253974","<p>There is an option in R to get control over digit display. For example:</p>

<pre><code>options(digits=10)
</code></pre>

<p>is supposed to give the calculation results in 10 digits till the end of R session. In the help file of R, the definition for digits parameter is as follows:</p>

<blockquote>
  <p>digits: controls the number of digits
  to print when printing numeric values.
  It is a suggestion only. Valid values
  are <strong>1...22</strong> with default <strong>7</strong></p>
</blockquote>

<p>So, it says this is a suggestion only. What if I like to always display 10 digits, not more or less?</p>

<p>My second question is, what if I like to display more than 22 digits, i.e. for more precise calculations like 100 digits? Is it possible with base R, or do I need an additional package/function for that?</p>

<p><strong>Edit:</strong> Thanks to jmoy's suggestion, I tried <code>sprintf(""%.100f"",pi)</code> and it gave</p>

<pre><code>[1] ""3.1415926535897931159979634685441851615905761718750000000000000000000000000000000000000000000000000000""
</code></pre>

<p>which has 48 decimals. Is this the maximum limit R can handle?</p>
","192377","","680068","","2019-01-31 08:25:58","2020-02-27 21:56:48","Controlling number of decimal digits in print output in R","<r><precision><digits><r-faq><output-formatting>","3","5","48","","","CC BY-SA 4.0","2287616","4452","4452","r","404559","3625322","3607736","",""
"2288485","1","2293313","","2010-02-18 12:17:58","","285","1077885","<p>How do you convert a data frame column to a numeric type?</p>
","236703","","1863950","","2015-10-10 05:54:38","2020-05-19 02:45:18","How to convert a data frame column to numeric type?","<r><dataframe><type-conversion>","18","0","128","","","CC BY-SA 3.0","2288485","4452","4452","r","404559","3625322","3607736","",""
"2293131","1","","","2010-02-18 23:52:17","","10","19887","<p>I have been using SurveyGizmo which can export data as a CSV file but alas it has two rows for header. The first row specifies the question and the second row contains possible responses that the respondent could have checked off. This seems highly aberrant in the data-read-and-write world but seems quite normal in the survey world. How does one read such a file into R?</p>
<p>SurveyGizmo used to have an &quot;old&quot; export format put everything into one row but it seems that company is not supporting it anymore. In a simple survey an intern who was helping me was able to overcome the problem with the following code. However, with a longer survey with more questions and with the questions being longer (and thus the headers being longer) our brute force method above is not working.</p>
<pre><code>#Read csv file with two rows of headers
#Append the second row to the first row
df &lt;-read.csv(csvfile,skip=1,stringsAsFactors=FALSE) #Read csv without any header
hl=readLines(csvfile, 2)            #Read the two header lines as char strings
hl=strsplit(hl,',')                   #Split headers up by commas
colnames(df)=sub('_$','',paste(hl[[1]],hl[[2]],sep=&quot;&quot;))  #join second row to first row  
</code></pre>
<p>At the end I want a data frame with column headings which I will then merge with another data frame coming from a follow up survey.</p>
<p>Here is an example of the CSV file with two header rows. The 3rd and final row is the first line of data (not real information).</p>
<pre><code>&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;Inclusion Criteria I or my child is a patient with recurrent respiratory papillomatosis (RRP)How do you know that you or your child has RRP? Please check whatever is true.&quot;,&quot;&quot;,&quot;&quot;,&quot;Exclusion Criteria Do any of the following apply? Please put a check next to any condition that is present.In the unlikely event that one of the following conditions apply, then unfortunately we cannot enroll you in this study. You could stop or you could carry on telling us about yourself, whichever you prefer. &quot;,&quot;&quot;,&quot;Confused or have questions?If you are confused about any items or if you want us to clarify something then here is the place that you can express yourself freely. Also, you can call us at (412) 567-7870 or at (888) 887-7729.You are encouraged to review the consent form. You do not have to sign it now but you will need to do so once we enroll you. &quot;,&quot;Please tell us who you are - referring to you, the person completing the form. Different people feel differently about their privacy and about how they are contacted. We will do our utmost to protect your privacy. Please do not give us your e-mail address if you do not want us to use it. Remember that e-mail should be private but is not always so. The safest way to think about it is as if e-mail was similar to a post card. Please do not give us a telephone number you do not want us to contact you on.&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;Who are you? Are you the patient or a parent or someone else?&quot;,&quot;When was the person with RRP born?Enter the date as MM/DD/YYYY&quot;,&quot;Approximately when was RRP diagnosed? This can be very approximate. If you do not remember the date then please put down your best guess. We will use it to work out how old the patient was when he or she was diagnosed. Enter the date as MM/DD/YYYY.&quot;,&quot;Has the patient with RRP ever received Gardasil? Gardasil is a vaccine against HPV 6, 11, 16 and 18 that was approved by the Food and Drug Administration (FDA) for use in females to prevent gynecologic diseases. &quot;,&quot;Please ignore this question. It is for our internal tracking. Are you?&quot;,&quot;gender&quot;,&quot;race&quot;,&quot;Has there been human contact? By e-mail or by telephone or by anything in which we discussed informed consent&quot;,&quot;What is the subject number?&quot;,&quot;Merck Research Laboratory Accession Number?&quot;,&quot;Second Merck  Accession Number?&quot;,&quot;FedEx Tracking Number&quot;,&quot;Date Shipped Out&quot;,&quot;Date EMSI Notified&quot;
&quot;Response ID&quot;,&quot;RespondantKey&quot;,&quot;Edit Link&quot;,&quot;IP&quot;,&quot;Date Started&quot;,&quot;Date Finished&quot;,&quot;Status&quot;,&quot;Linked From&quot;,&quot;Comments&quot;,&quot;histopathconfirm&quot;,&quot;surgeonseaid&quot;,&quot;other&quot;,&quot;cancer&quot;,&quot;none&quot;,&quot;&quot;,&quot;First Name&quot;,&quot;Last Name&quot;,&quot;Street Address&quot;,&quot;Apt/Suite/Office&quot;,&quot;City&quot;,&quot;State&quot;,&quot;Postal Code&quot;,&quot;Country&quot;,&quot;Email Address&quot;,&quot;Phone Number&quot;,&quot;Mobile Phone&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;
&quot;6990181&quot;,&quot;4099941&quot;,&quot;http://s-gtzd7-14166.sgizmo.com/?edit=6770181&amp;cc=e246ecb7095b983xxxxx7ec0a9&quot;,&quot;1991.157.178.134&quot;,&quot;2009-04-30 07:57:24&quot;,&quot;2009-04-15 14:56:01&quot;,&quot;Submitted&quot;,&quot;&quot;,&quot;Spoke to her Thursday, 20 Apr 2009 20:26. No questions ready to go.09/11/2009 consent mailed..mrs accession number 304074333811wp, 01wp SFJB06123 Fedex tracking 865888887357 sent Tues April 29; called her Thurs, 10 May 2009 20:21 she will sign slip&quot;,&quot;histopathconfirm&quot;,&quot;surgeonseaid&quot;,&quot;&quot;,&quot;&quot;,&quot;none&quot;,&quot;&quot;,&quot;Jane&quot;,&quot;Doe&quot;,&quot;23 Hastings Rd&quot;,&quot;29th floor&quot;,&quot;Oranje&quot;,&quot;ny&quot;,&quot;27935&quot;,&quot;USA&quot;,&quot;mystry@gmail.com&quot;,&quot;728-850-7252&quot;,&quot;626-922-2239&quot;,&quot;Patient&quot;,&quot;02/21/1965&quot;,&quot;01/01/1976&quot;,&quot;No&quot;,&quot;Key Person&quot;,&quot;&quot;,&quot;&quot;,&quot;Yes&quot;,&quot;SFJB06123&quot;,&quot;304033385811wp&quot;,&quot;303334485801wp&quot;,&quot;865333807357&quot;,&quot;4/11/2007&quot;,&quot;4/11/2007&quot;
</code></pre>
","168139","","6461462","","2020-09-16 23:16:23","2020-09-16 23:16:23","Reading in files with two rows for header","<r><csv><header>","2","3","6","2013-07-22 23:12:13","","CC BY-SA 4.0","2293131","4452","4452","r","404559","3625322","3607736","",""
"2294163","1","2297157","","2010-02-19 05:01:14","","5","1191","<p>I have a bunch of loglinear models, which, for our purposes will just be <code>glm()</code> objects called <code>mx, my, mz</code>.  I want to get a nicely-formatted <code>xtable</code> of the analysis of deviance, so naturally I would want to perform <code>xtable(anova(mx, my, mz, test = ""Chisq""))</code>.</p>

<p>The vanilla output of <code>xtable</code>, however, doesn't include the model specifications.  I'd like to include those for all the ANOVA tests I'm running, so if there is not a param I'm missing that does this I'll probably just have to hack up my own solution.  But looking over the help page, there doesn't seem to be an easy way to include the model specifications.  </p>

<p>Any thoughts?  Alternatives?</p>

<p>If it helps this was done in 2.9.1 with xtable 1.5-5.</p>
","144601","","1315767","","2014-01-01 17:46:50","2014-01-01 17:46:50","Including model specifications in xtable(anova(...))","<r><xtable>","2","0","2","","","CC BY-SA 3.0","2294163","4452","4452","r","404559","3625322","3607736","",""
"2295389","1","","","2010-02-19 10:02:12","","14","4770","<p>Statistical analysis/programming, is writing code. Whether for descriptive or inferential, You write code to: import data, to clean it, to analyse it and to compile a report.</p>

<p>Analyzing the data can involve many twists and turns of statistical procedures, and angles from which you look at your data. At the end, you have many files, with many lines of code, performing tasks on your data. Some of which is reusable and you capsulate it as a ""good to have"" function.</p>

<p>This process of ""Statistical analysis"" feels to me like ""programming"" But I am not sure it feels the same to everyone.</p>

<p>From the <a href=""http://en.wikipedia.org/wiki/Software_development"" rel=""nofollow noreferrer"">Wikipedia article on Software development</a>:</p>

<blockquote>
  <p>The term software development is often
  used to refer to the activity of
  computer programming, which is the
  process of writing and maintaining the
  source code, whereas the broader sense
  of the term includes all that is
  involved between the conception of the
  desired software through to the final
  manifestation of the software.
  Therefore, software development may
  include research, new development,
  modification, reuse, re-engineering,
  maintenance, or any other activities
  that result in software products.
  For larger software systems, usually
  developed by a team of people, some
  form of process is typically followed
  to guide the stages of production of
  the software.</p>
</blockquote>

<p>According to this simplistic definition (and my humble opinion), this sounds very much like building a statistical analysis. But I imagine it is not that simple.</p>

<p>Which leads me to my question: <strong>what differences can you outline between the two activities?</strong></p>

<p>It can be in terms of the technical aspects, the different strategies or work styles, and what ever else you think is relevant.</p>

<p>This question came to me from the following threads:</p>

<ul>
<li><a href=""https://stackoverflow.com/questions/2286831/how-do-you-combine-revision-control-with-workflow-for-r"">How do you combine &quot;Revision Control&quot; with &quot;Workflow&quot; for R?</a></li>
<li><a href=""https://stackoverflow.com/questions/1266279/how-to-organize-large-r-programs"">How to organize large R programs?</a></li>
<li><a href=""https://stackoverflow.com/questions/1429907/workflow-for-statistical-analysis-and-report-writing"">Workflow for statistical analysis and report writing</a></li>
</ul>
","256662","","-1","","2017-05-23 12:18:08","2010-02-22 10:00:33","How does software development compare with statistical programming/analysis?","<r><statistics>","3","7","5","2014-02-28 03:28:58","","CC BY-SA 2.5","2295389","4452","4452","r","404559","3625322","3607736","",""
"2296325","1","2300956","","2010-02-19 12:50:46","","4","1005","<p>I am creating some graphs which I want to update into a database table. The procedure I am following is:</p>

<ol>
<li>create the graphs as a png/jpeg file.</li>
<li>Read that file as a binary vector</li>
<li>sqlUpdate</li>
</ol>

<p>My code for steps 2 &amp; 3:</p>

<pre><code>pngfile &lt;- file(&lt;filename&gt;, ""rb"")
N &lt;- 1e6
repeat{
  pngfilecontents &lt;- readBin(pngfile, what=""raw"", n=N)
  if(length(pngfilecontents) == N) N &lt;- 5 * N else break
}
close(pngfile)
</code></pre>

<p>There is a table df_DemandPatternMaster in the database with primary key DemandPatternID, with appropriate record in place with NULL value in pngFile field.</p>

<pre><code>update.query &lt;- ""update df_DemandPatternMaster set ""
update.query &lt;- paste( update.query, "" pngFile = '"", serialize(pngfilecontents, NULL) , ""' where DemandPatternID = "", , sep="""")
d &lt;- sqlQuery(connection, update.query)
</code></pre>

<p>I end up inserting only a byte of data. The reason it seems is that paste sees the serialized vector and creates a vector with the prefix &amp; suffix text.
I have also tried passing the png file handle directly</p>

<pre><code>pngfile &lt;- file(&lt;filename&gt;, ""rb"")
update.query &lt;- paste( update.query, "" pngFile = '"", pngfile, ""' where DemandPatternID = "", , sep="""")
</code></pre>

<p>This also fails.</p>

<p>Please advise.</p>
","","user276920","10068985","","2019-02-15 08:55:17","2019-02-15 08:55:17","How to upload an image to SQL Server in R","<r><rodbc>","2","1","2","","","CC BY-SA 4.0","2296325","4452","4452","r","404559","3625322","3607736","",""
"2296451","1","2296889","","2010-02-19 13:11:06","","5","21260","<p>Let's say I have created the following matrix:</p>

<pre><code>&gt; x &lt;- matrix(1:20000,nrow=100)
&gt; x[1:10,1:10]
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]    1  101  201  301  401  501  601  701  801   901
 [2,]    2  102  202  302  402  502  602  702  802   902
 [3,]    3  103  203  303  403  503  603  703  803   903
 [4,]    4  104  204  304  404  504  604  704  804   904
 [5,]    5  105  205  305  405  505  605  705  805   905
 [6,]    6  106  206  306  406  506  606  706  806   906
 [7,]    7  107  207  307  407  507  607  707  807   907
 [8,]    8  108  208  308  408  508  608  708  808   908
 [9,]    9  109  209  309  409  509  609  709  809   909
[10,]   10  110  210  310  410  510  610  710  810   910
</code></pre>

<p>What are the methods in R to change row and column names? For example, I like row names to be <code>SS1, SS2, ..., SS100</code> and column names to be <code>M1, M2, ..., M200</code>. I usually work with data with 1000s of rows and columns, and I need a good method to do that. Some people use something like <code>attributes(x)$dimnames &lt;- list(...)</code> and some use <code>rownames &lt;- paste(...)</code>. What are all possible methods?</p>

<p>My second question is, can I use the same methods after I convert the matrix to a data frame? </p>
","192377","","192377","","2010-11-05 09:03:25","2020-04-10 17:15:53","Changing dimnames of matrices and data frames in R","<r><dimensions><columnname><rowname>","3","0","2","","","CC BY-SA 2.5","2296451","4452","4452","r","404559","3625322","3607736","",""
"2296694","1","5832647","","2010-02-19 13:50:30","","15","3030","<p>Is there Java or .NET version of R?
(like Jython / IronPython for the Python language)</p>

<p>I guess some R-packages which use C or Fortran may not run on Java/.NET version of R, but as long as pure R code can be run, it must be great.</p>
","266819","","40342","","2011-05-18 07:41:13","2018-10-16 13:26:15","Is there an R implementation for Java or .NET?","<java><.net><r>","5","0","2","","","CC BY-SA 3.0","2296694","4452","4452","r","404559","3625322","3607736","",""
"2300629","1","2301569","","2010-02-20 01:09:29","","4","10733","<p>I have a large data set I am plotting in R, and I'd like to have an axis on each side of the graph show the data in two different scales. So for example, on the left vertical axis I'd like to plot the data directly (e.g. plot(y ~ x) ) and on the right axis, I'd like to have a linear scaling of the left axis. (e.g. plot( y*20 ~ x). </p>

<p>So there would only be one data set displayed, but the axes would show different meanings for those data points.</p>

<p>I've tried the following:</p>

<pre><code>plot(x = dataset$x, y = dataset$y)
axis(4, pretty(dataset$y,10) )
</code></pre>

<p>This will correctly print a new right axis with the same scale as the default left axis. (essentially useless, but it works) However, if I make this tiny change:</p>

<pre><code>plot(x = dataset$x, y = dataset$y)
axis(4, pretty(10*dataset$y,10) )
</code></pre>

<p>Suddenly, it refuses to add my new right axis. I suspect this has something to do with R seeing if the axis matches the data set in some way and rejecting it if not. How can I get R to ignore the data set and just print an arbitrary axis of my choosing?</p>
","180718","","","","","2010-02-20 08:20:37","Plotting axes with different scales for one data set in R","<r><statistics><graph><plot>","2","0","1","","2010-02-20 01:09:29","CC BY-SA 2.5","2300629","4452","4452","r","404559","3625322","3607736","",""
"2300767","1","2300915","","2010-02-20 02:16:54","","4","6059","<p>I'm trying to read data from csv file, but instead of e.g. 001000 I get 1000 in my data.<br>
I've tried to set <code>as.is=!stringsAsFactors</code>, but got the following error message:</p>

<pre><code> error: object stringsAsFactors not found.  
</code></pre>

<p>Anybody can help?</p>
","211450","","1315767","","2014-01-01 17:48:05","2014-01-01 17:50:00","read.table as it is","<r><import>","1","0","","","","CC BY-SA 3.0","2300767","4452","4452","r","404559","3625322","3607736","",""
"2307443","1","2307454","","2010-02-21 20:53:13","","9","4165","<p>I have two vectors in R of different size, and I want to add them, but without repeating the shorter one - instead, I want the ""missing"" numbers to be zeroes.</p>

<p>Example:</p>

<pre><code>x&lt;-c(1,2)
y&lt;-c(3,4,5)
z&lt;-x+y 
</code></pre>

<p>Now, <code>z</code> is <code>4 6 6</code>, but I want it only <code>4 6 5</code>.</p>
","101152","","5414452","","2016-01-20 13:53:51","2016-01-20 13:53:51","How to add two vectors WITHOUT repeating in R?","<r><vector>","1","1","","","","CC BY-SA 2.5","2307443","4452","4452","r","404559","3625322","3607736","",""
"2307925","1","2307960","","2010-02-21 23:34:40","","5","2912","<p>What's the most efficient way to sort two vectors in lockstep in R?  The first vector should be sorted in ascending order and the second should be reordered in lockstep such that elements with corresponding indices before the sort still have corresponding indices after the sort.  For example:</p>

<pre><code>foo &lt;- c(1,3,2, 5,4)
bar &lt;- c(2,6,4,10,8)
sort2(foo, bar)

# foo == c(1,2,3,4, 5)
# bar == c(2,4,6,8,10)
</code></pre>

<p>Note:  Efficiency is an absolute must here as I am trying to use this as the basis for creating an O(N log N) implementation of Kendall's Tau to submit as a patch.  I'd like to avoid writing my own special function in C to do this, but would be willing to if it can't be done efficiently within R.</p>
","23903","","","","","2016-03-14 19:54:21","Most efficient way to sort two vectors in lockstep in R?","<sorting><r>","2","0","","","","CC BY-SA 2.5","2307925","4452","4452","r","404559","3625322","3607736","",""
"2308991","1","2309143","","2010-02-22 05:24:29","","4","2592","<p>
    I'm taking my first course in multiple linear regression, so I'm still a beginner in R. We've recently learned a bit about taking slices of bivariate scatterplot data, both horizontally and vertically. What I'd like to know is how to go beyond a basic scatterplot, and take advantage of conditionally grouping data by slices to examine patterns.
    </p>

<p><p>
  As an example, I'm working with high-octane data from a bank where we're regressing employee's current salary <code>csalary</code> onto their beginning salary <code>bsalary</code>. Here's what my dataframe looks like.</p>

<pre>
  <code>
    > str(data)
    'data.frame':   474 obs. of  10 variables:
     $ id     : num  628 630 632 633 635 637 641 649 650 652 ...
     $ bsalary: num  8400 24000 10200 8700 17400 ...
     $ gender : Factor w/ 2 levels ""Male"",""Female"": 1 1 1 1 1 1 1 1 1 1 ...
     $ time   : num  81 73 83 93 83 80 79 67 96 77 ...
     $ age    : num  28.5 40.3 31.1 31.2 41.9 ...
     $ csalary: num  16080 41400 21960 19200 28350 ...
     $ educlvl: num  16 16 15 16 19 18 15 15 15 12 ...
     $ work   : num  0.25 12.5 4.08 1.83 13 ...
     $ jobcat : Factor w/ 7 levels ""Clerical"",""Office Trainee"",..: 4 5 5 4 5 4 1 1 1 3 ...
     $ ethnic : Factor w/ 2 levels ""White"",""Non-White"": 1 1 1 1 1 1 1 1 1 1 ...
  </code>
</pre>

<p>
  To explore the relationship of <code>bsalary</code> and <code>csalary</code> I created a scatterplot using some of the functionality of <code>lattice</code> library. I arbitrarily drew vertical lines at $5000 intervals along <code>bsalary</code>.
</p>

<p>
<pre>
  <code>
    library (lattice)
    # Constructing vertical ""slices"" of our csalary ~ bsalary data
    # First we define a vector with our slice points, in this case 
    # $5,000 bsalary increments
    bslices = seq (from = 5000, to = 30000, by = 5000)
    length (bslices)
    xyplot (csalary ~ bsalary,
        main  = ""Current Bank Employee Salary as Predicted by Beginning Salary"",
        xlab  = ""Beginning Salary ($USD)"",
        ylab  = ""Current Salary ($USD)"",
        panel = function(...){
            panel.abline(v = bslices, col=""red"", lwd=2);
            panel.xyplot(...);
        }
    )
  </code>
</pre>
</p>

<p>
  The above code gets me this.
</p>

<a href=""https://evernote.com/products/skitch"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/MivEl.jpg"" alt=""Rplot002.pdf (1 page)"" /></a><br/><sub>(source: <a href=""http://img.skitch.com/20100222-tkcu613r9cjqc4cs3314hc1i7h.preview.jpg"" rel=""nofollow noreferrer"">skitch.com</a>)</sub><br/><br />

<p>
  Which is fantastic. But I feel like there ought to be a simple way to generate, from my data, graphs that group slice data into boxplots:
</p>

<p><a href=""https://evernote.com/products/skitch"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/iLDM3.jpg"" alt=""01LinReg.pdf (page 3 of 25)"" /></a><br/><sub>(source: <a href=""http://img.skitch.com/20100222-rhjudjw4txnfu43pycuqneuqan.preview.jpg"" rel=""nofollow noreferrer"">skitch.com</a>)</sub><br/><br /></p>

<p><p>
   Or stacked-dot scatterplots, again grouped by slice, like this:
 </p></p>

<p><a href=""https://evernote.com/products/skitch"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/8bz0S.jpg"" alt=""01LinReg.pdf (page 3 of 25)"" /></a><br/><sub>(source: <a href=""http://img.skitch.com/20100222-cgsqwnhnd26k5qhb6gb2sjk1bs.preview.jpg"" rel=""nofollow noreferrer"">skitch.com</a>)</sub><br/><br /></p>

<p><p>
  Ultimately, my question is how to turn raw scatterplot data into conditionally-grouped data. I feel like there are some simple, underlying features of lattice (or even the simpler plot commands that don't require it) that would allow me to start slicing my data to explore for patterns.
 </p></p>

<p><p>
  Thanks in advance for your help!
 </p></p>
","180626","","4751173","","2019-07-22 00:31:16","2019-07-22 00:31:16","How can I generate conditional distributions of data by taking slices of scatterplots?","<r><statistics>","4","3","1","","","CC BY-SA 4.0","2308991","4452","4452","r","404559","3625322","3607736","",""
"2309826","1","2309953","","2010-02-22 09:10:12","","5","2874","<p>My question is how to extract the name of a variable from a function that is called in another function in R?</p>

<p>To illustrate, here is an example: </p>

<pre><code>a &lt;- function(variable) {

    print(deparse(substitute(variable)))

    internala(substitute(variable))

}

internala &lt;- function(variableXX) {

    namex=deparse(substitute(variableXX))

    print(namex)
}
</code></pre>

<p>Calling the function  <code>a</code>  gives the following result:</p>

<pre><code>&gt;a(whatever)

[1] ""whatever""

[1] ""substitute(variable)""
</code></pre>

<p>which means that i can extract the name of the variable <code>whatever</code> from <code>a</code>, but not from <code>internala</code>.</p>

<p>Any thoughts on this?</p>

<p>Any help will be appreciated!</p>

<p>Maria</p>
","278555","","121332","","2010-02-22 13:01:44","2010-02-23 15:38:46","How does one extract the name of a variable in a function that is called from another function in R?","<r><variables><extract>","3","3","5","","","CC BY-SA 2.5","2309826","4452","4452","r","404559","3625322","3607736","",""
"2310409","1","2311498","","2010-02-22 11:03:59","","60","11731","<p>Is it possible to include .R files in the data directory of my package in the roxygen process?</p>

<p>I have put several .R files in the data directory. When they are sourced with data(), they read in raw data files and perform some transformations.</p>
","216064","","680068","","2018-10-04 07:59:10","2018-10-04 07:59:10","How can I document data sets with roxygen?","<r><documentation-generation><r-package><roxygen>","3","0","20","","","CC BY-SA 2.5","2310409","4452","4452","r","404559","3625322","3607736","",""
"2310913","1","2311701","","2010-02-22 12:50:03","","15","13217","<p>I have a dendrogram given to me as images. Since it is not very large, I can construct it ""by hand"" into an R object.</p>

<p>So my question is how do I manually create a dendrogram (or ""hclust"") object when all I have is the dendrogram image?</p>

<p>I see that there is a function called ""as.dendrogram"" But I wasn't able to find an example on how to use it.</p>

<p>(p.s: This post is following my question from <a href=""https://stackoverflow.com/questions/2218395/how-do-you-compare-the-similarity-between-two-dendrograms-in-r"">here</a>)</p>

<p>Many thanks,
Tal</p>
","256662","","3768871","","2019-07-05 19:01:08","2019-07-05 19:01:08","How do I manually create a dendrogram (or ""hclust"") object ? (in R)","<r><cluster-analysis><dendrogram>","2","0","7","","","CC BY-SA 4.0","2310913","4452","4452","r","404559","3625322","3607736","",""
"2312913","1","","","2010-02-22 17:53:52","","13","5509","<p>Many algorithms for clustering are available. A popular algorithm is the K-means where, based on a given number of clusters, the algorithm iterates to find best clusters for the objects. </p>

<p>What method do you use to determine the number of clusters in the data in k-means clustering?</p>

<p>Does any package available in R contain the <code>V-fold cross-validation</code> method for determining the right number of clusters?</p>

<p>Another well used approach is Expectation Maximization (EM) algorithm which assigns a probability distribution to each instance which indicates the probability of it belonging to each of the clusters.</p>

<p>Is this algorithm implemented in R?</p>

<p>If it is, does it have the option to automatically select the optimum number of clusters by cross validation?</p>

<p>Do you prefer some other clustering method instead?</p>
","170792","","3923281","","2017-09-26 12:56:54","2017-09-26 12:56:54","What method do you use for selecting the optimum number of clusters in k-means and EM?","<r><cluster-analysis><data-mining><expectation-maximization>","2","5","7","","","CC BY-SA 2.5","2312913","4452","4452","r","404559","3625322","3607736","",""
"2315601","1","2315622","","2010-02-23 01:41:04","","92","153016","<p>I'm trying to understand how the <code>order()</code> function works.  I was under the impression that it returned a permutation of indices, which when sorted, would sort the original vector.</p>

<p>For instance,</p>

<pre><code>&gt; a &lt;- c(45,50,10,96)
&gt; order(a)
[1] 3 1 2 4
</code></pre>

<p>I would have expected this to return <code>c(2, 3, 1, 4)</code>, since the list sorted would be 10 45 50 96.</p>

<p>Can someone help me understand the return value of this function?</p>
","279153","","5292302","","2019-01-24 21:30:31","2020-01-17 00:08:39","Understanding the order() function","<r><sorting><r-faq>","7","0","42","","","CC BY-SA 3.0","2315601","4452","4452","r","404559","3625322","3607736","",""
"2316356","1","2320066","","2010-02-23 05:36:56","","9","967","<p>I've just started playing around with the <code>roxygen</code> package and I've very happy with the results so far.  However I was wondering, is there a way to specify to <code>roxygen</code> that it should ignore certain functions that are not user-accessible?</p>

<p>Specifically, I'd rather not have a <code>.Rd</code> file pop up because I'm using the <code>.onLoad()</code> hook in my package.  This function is already documented in the <code>base</code> package so there's no reason for me to re-document it.</p>
","135870","","","","","2018-07-19 08:49:26","Can Roxygen ignore non-user functions?","<r><roxygen>","3","0","3","","","CC BY-SA 2.5","2316356","4452","4452","r","404559","3625322","3607736","",""
"2316630","1","2316950","","2010-02-23 08:17:54","","5","4469","<p>I'm trying to change the name of a variable that is included inside a for loop and function call.  In the example below, I'd like column_1 to be passed to the plot function, then column_2 etc.  I've tried using do.call, but it returns ""object 'column_j' not found"".  But object column_j is there, and the plot function works if I hard-code them in.   Help much appreciated.</p>

<pre><code>for (j in 2:12) {
    column_to_plot = paste(""column_"", j, sep = """")
    do.call(""plot"", list(x, as.name(column_to_plot)))
}
</code></pre>
","207258","","","","","2010-02-24 02:18:57","How can I include a variable name in a function call in R?","<r>","4","0","4","","","CC BY-SA 2.5","2316630","4452","4452","r","404559","3625322","3607736","",""
"2317446","1","2318134","","2010-02-23 10:51:59","","7","6061","<p>I'm using the support vector machine from the e1071 package to classify my data and want to visualize how the machine actually does the classification. However, when using the plot.svm function, I get an error that I can't resolve.</p>

<p>Script:</p>

<pre><code>library(""e1071"")

data &lt;-read.table(""2010223_11042_complete"")
names(data) &lt;- c(""Class"",""V1"", ""V2"")

model &lt;- svm(Class~.,data, type = ""C-classification"", kernel = ""linear"")
plot(model,data,fill=TRUE, grid=200, svSymbol=4, dataSymbol=1, color.palette=terrain.colors)
</code></pre>

<p>Output:</p>

<pre><code>plot(model,data,fill=TRUE, grid=200, svSymbol=4, dataSymbol=1, color.palette=terrain.colors)
Error in rect(0, levels[-length(levels)], 1, levels[-1L], col = col) : 
  cannot mix zero-length and non-zero-length coordinates
</code></pre>

<p>Traceback:</p>

<pre><code>traceback()
4: rect(0, levels[-length(levels)], 1, levels[-1L], col = col)
3: filled.contour(xr, yr, matrix(as.numeric(preds), nr = length(xr), 
       byrow = TRUE), plot.axes = {
       axis(1)
       axis(2)
       colind &lt;- as.numeric(model.response(model.frame(x, data)))
       dat1 &lt;- data[-x$index, ]
       dat2 &lt;- data[x$index, ]
       coltmp1 &lt;- symbolPalette[colind[-x$index]]
       coltmp2 &lt;- symbolPalette[colind[x$index]]
       points(formula, data = dat1, pch = dataSymbol, col = coltmp1)
       points(formula, data = dat2, pch = svSymbol, col = coltmp2)
   }, levels = 1:(length(levels(preds)) + 1), key.axes = axis(4, 
       1:(length(levels(preds))) + 0.5, labels = levels(preds), 
       las = 3), plot.title = title(main = ""SVM classification plot"", 
       xlab = names(lis)[2], ylab = names(lis)[1]), ...)
2: plot.svm(model, data, fill = TRUE, grid = 200, svSymbol = 4, 
       dataSymbol = 1, color.palette = terrain.colors)
1: plot(model, data, fill = TRUE, grid = 200, svSymbol = 4, 
       dataSymbol = 1, color.palette = terrain.colors)
</code></pre>

<p>Part of my (4488 lines long) data file:</p>

<pre><code>-1 0 23.532
+1 1 61.1157
+1 1 61.1157
+1 1 61.1157
-1 1 179.03
-1 0 17.0865
-1 0 27.6201
-1 0 17.0865
-1 0 27.6201
-1 1 89.6398
-1 0 42.7418
-1 1 89.6398
</code></pre>

<p>Since I`m just starting with R, I have no idea what this means and how I should deal with it, nor did I find anything useful in other places.</p>
","192380","","192380","","2010-02-23 11:44:56","2010-02-23 12:50:56","Error plotting SVM classification graph","<r><svm>","1","0","1","","","CC BY-SA 2.5","2317446","4452","4452","r","404559","3625322","3607736","",""
"2318368","1","2318409","","2010-02-23 13:19:53","","20","14899","<p>Can a function in R return not one, but two vectors?</p>

<p><em>(I am really beginning with R, so I might be overlooking something simple)</em></p>
","101152","","5414452","","2016-01-20 12:54:02","2017-08-06 01:32:58","Can a function in R return two vectors?","<r><function>","1","1","2","","2010-02-23 13:19:53","CC BY-SA 3.0","2318368","4452","4452","r","404559","3625322","3607736","",""
"2321333","1","2321431","","2010-02-23 20:09:02","","3","3250","<p>I'm trying to read a text file into R so I can use the sqldf functions.  I'm following this example, <a href=""https://stat.ethz.ch/pipermail/r-help/2008-January/152040.html"" rel=""nofollow noreferrer"">https://stat.ethz.ch/pipermail/r-help/2008-January/152040.html</a>, but I have a text file holding my data instead of the data being pasted as the example has it.   My text file is below:</p>

<pre><code>#""test.table.1.0"" file has this contents:
id  Source
1     A10
2     A32
3     A10
4     A25
</code></pre>

<p>I tried this following the example</p>

<pre><code>test_table &lt;- read.table(textConnection(""test.table.1.0""))
</code></pre>

<p>I can see that the problem is that textConnection is supposed to take a character vector, 
and I'm giving it a data.frame, but converting it via as.character also fails.  Ultimately, I want to run a query like this:</p>

<pre><code>sqldf(""select test_table.source from test_table"");
</code></pre>
","207258","","207258","","2010-02-23 21:30:44","2010-02-24 18:03:37","How to read in a text file to R using textConnection and library(sqldf)","<r>","3","1","2","","","CC BY-SA 2.5","2321333","4452","4452","r","404559","3625322","3607736","",""
"2321786","1","","","2010-02-23 21:15:58","","9","8931","<p>I have some mixed-type data that I would like to store in an R data structure of some sort.  Each data point has a set of fixed attributes which may be 1-d numeric, factors, or characters, and also a set of variable length data.  For example:</p>

<pre><code>id  phrase                    num_tokens  token_lengths
1   ""hello world""             2           5 5
2   ""greetings""               1           9
3   ""take me to your leader""  4           4 2 2 4 6
</code></pre>

<p>The actual values are not all computable from one another, but that's the flavor of the data. The operations I'm going to want to do include subsetting the data based on boolean functions (e.g. something like <code>nchar(data$phrase) &gt; 10</code> or <code>lapply(data$token_lengths, length) &gt; 2)</code>.  I'd also like to index and average values in the variable length portion by index. This doesn't work, but something like: <code>mean(data$token_lengths[1], na.rm=TRUE))</code></p>

<p>I've found I can shoehorn ""token_lengths"" into a data.frame by making it an array:</p>

<pre><code>d &lt;- data.frame(id=c(1,2,3), ..., token_lengths=as.array(list(c(5,5), 9, c(4,2,2,4,6)))
</code></pre>

<p>But is this the best way?</p>
","5222","","5222","","2010-02-24 17:24:38","2010-03-04 14:34:12","Best way to store variable-length data in an R data.frame?","<r><dataframe>","5","1","5","","","CC BY-SA 2.5","2321786","4452","4452","r","404559","3625322","3607736","",""
"2326351","1","","","2010-02-24 13:41:06","","1","7225","<p>I am trying to produce plots with a loop.</p>

<pre><code>l1&lt;-factor(rep(letters,4))
n1&lt;-abs(rnorm(104))*10000
b1&lt;-rep(c(""1"",""2"",""3"",""4"",""5"",""6"",""7"",""8""),c(2,2,11,24,11,20,33,1))
k1&lt;-rep((rep(c(""A"",""B"",""C"",""D""),c(2,3,4,4))),8)
my.df&lt;-data.frame(l1,b1,k1,n1)                            #make a dataframe

names(my.df)&lt;-c(""letter"",""branch"",""ltrtype"",""number"")     #factor names
library(ggplot2)

branch.list&lt;-unique(my.df$branch)
sayi&lt;-length(branch.list)                                 # list of factor:letters

for (i in 1:sayi) {

branch.iter&lt;-branch.list[i]
my.df.plot&lt;-subset(my.df,my.df$branch==branch.iter,drop=T)

my.df.plot$branch&lt;-factor(my.df.plot$branch)               #So that unused levels don't show up
my.df.plot$letter&lt;-factor(my.df.plot$letter)               #So that unused levels don't show up
my.df.plot$ltrtype&lt;-factor(my.df.plot$ltrtype)             #So that unused levels don't show up
my.df.plot$number&lt;-as.numeric(as.character(my.df.plot$number))
my.df.plot&lt;-data.frame(my.df.plot)

myfilename&lt;-paste(branch.iter,"".jpeg"",sep="""")
jpeg(file=myfilename)

cizim&lt;-ggplot(my.df.plot,aes(letter,number,fill=ltrtype))
cizim&lt;-cizim + geom_bar(width = 1, position = ""fill"", binwidth = 1) +     facet_grid(ltrtype~.)
cizim&lt;-cizim + opts(title=branch.iter)

print(cizim)
dev.off()

}
</code></pre>

<p>(Q1): When number of levels in x-axis change width of bars change
How can i prevent this and make bar width in every plot same?</p>

<p><a href=""http://img411.imageshack.us/i/95325388.jpg/"" rel=""nofollow noreferrer"">alt text http://img411.imageshack.us/i/95325388.jpg/</a></p>

<p><a href=""http://img411.imageshack.us/i/91510133.jpg/"" rel=""nofollow noreferrer"">alt text http://img411.imageshack.us/i/91510133.jpg/</a></p>

<p>(Q2): when <code>i=7</code> R gives following warning:</p>

<blockquote>
  <p>(data$ymin == 0)) warning(""Filling not well defined when ymin != 0"") :
  missing value where TRUE/FALSE needed</p>
</blockquote>

<p>what can i do about it?</p>

<p>(Q3): Is there an easier way to drop unused levels in such a case so i don't have to use</p>

<pre><code> my.df.plot$branch&lt;-factor(my.df.plot$branch)
</code></pre>

<p>everytime?</p>
","260174","","4983450","","2016-05-15 04:41:35","2016-05-15 04:41:35","bar width in ggplot2 geom_bar","<r><ggplot2>","2","0","","","","CC BY-SA 3.0","2326351","4452","4452","r","404559","3625322","3607736","",""
"2329036","1","2331656","","2010-02-24 19:58:12","","3","9523","<p>I have a data.frame called series_to_plot.df which I created by combining a number of other data.frames together (shown below).  I now want to pull out just the .mm column from each of these, so I can plot them.   So I want to pull out the 3rd column of each data.frame (e.g. p3c3.mm, p3c4.mm etc...), but I can't see how to do this for all data.frames in the object without looping through the name.  Is this possible?</p>

<p>I can pull out just one set: e.g. series_to_plot.df[[3]]   and another by 
series_to_plot.df[[10]] (so it is just a list of vectors..) and I can reference directly with  series_to_plot.df$p3c3.mm, but is there a command to get a vector containing all mm's from each data.frame?  I was expecting an index something like this to work: series_to_plot.df[,3[3]]  but it returns  Error in <code>[.data.frame</code>(series_to_plot.df, , 3[3]) : undefined columns selected</p>

<pre><code>series_to_plot.df
          p3c3.rd         p3c3.day    p3c3.mm      p3c3.sd                 p3c3.n p3c3.noo p3c3.no_NAs
    1     2010-01-04             0    0.1702531    0.04003364              7                1           0
    2     2010-01-06             2    0.1790594    0.04696674              7                1           0
    3     2010-01-09             5    0.1720404    0.03801756              8                0           0

          p3c4.rd         p3c4.day    p3c4.mm      p3c4.sd                 p3c4.n p3c4.noo p3c4.no_NAs
    1     2010-01-04             0    0.1076581   0.006542157              6                2           0
    2     2010-01-06             2    0.1393447   0.066758781              7                1           0
    3     2010-01-09             5    0.2056846   0.047722862              7                1           0

          p3c5.rd         p3c5.day    p3c5.mm      p3c5.sd                 p3c5.n p3c5.noo p3c5.no_NAs
    1     2010-01-04             0   0.07987147   0.006508766              7                1           0
    2     2010-01-06             2   0.11496167   0.046478767              8                0           0
    3     2010-01-09             5   0.40326471   0.210217097              7                1           0
</code></pre>
","207258","","","","","2010-02-25 04:32:39","How to reference columns of a data.frame within a data.frame?","<r><dataframe>","3","2","","","","CC BY-SA 2.5","2329036","4452","4452","r","404559","3625322","3607736","",""
"2329851","1","2330825","","2010-02-24 21:50:24","","32","67328","<p>In ggplot I can add a series to a plot with:</p>

<pre><code>ggplot(diamonds, aes(x = carat, y = price)) + geom_point()
</code></pre>

<p>How do I simply add another series, e.g. plotting the cost of rubies against diamonds.  Assuming rubies was also in the diamonds dataset.  I have tried to lay over the top another layer with the rubies data, but it just plots the rubies and not the diamonds/carat.</p>

<pre><code>ggplot(diamonds, aes(x = carat, y = price)) + geom_point() + aes(x = rubies, y = price)
</code></pre>

<p>I can see that this would be possible by melding all the data together first, ready to plot it, so maybe I should go down that route.   However, just adding another series to a plot like this seems like it should not be too hard, but I can't figure out how to do it.</p>
","207258","","","","","2017-02-16 14:49:00","How can I add another layer / new series to a ggplot?","<r><ggplot2>","1","0","13","","","CC BY-SA 2.5","2329851","4452","4452","r","404559","3625322","3607736","",""
"2330169","1","","","2010-02-24 22:35:10","","1","2046","<p>I created an age-sex-pyramid using gplots. I would like to center a subtitle between the two sides of the pyramid.</p>

<p>However, I can only get the subtitle aligned with one of the two sides of the pyramid:</p>

<pre><code>library(gplots)
agetable &lt;- as.data.frame(cbind (c(2, 4, 7, 8, 10, 8, 6, 4, 2, 1), 
                                 c(1, 3, 5, 9, 11, 6, 4, 1, 0, 1)))
names(agetable) &lt;- c(""Male"", ""Female"")
maxdir &lt;- max(agetable)
subtitle &lt;- ""34% of data are mising age or sex""

agegraph.general.bysex &lt;- function(agetable, maxdir, varname, miss){
agegroups &lt;- 
if (varname=='Male') {
  datavec &lt;- agetable[,'Male']
  lim = c(maxdir,0)
  agelabels = c('0-9','10-19','20-29','30-39','40-49','50-59',
                '60-69','70-79','80-89','90+')
} else {
  datavec &lt;- agetable[,'Female']
  lim = c(0, maxdir)
     agelabels = ''
}
barplot2(
       datavec, horiz=TRUE, space=0, xlab = varname, xlim=lim, col='grey85',
       axisnames=TRUE, cex.axis = 1, cex.names = 1, names.arg=agelabels, 
       plot.grid=TRUE, cex.sub = 0.8, sub = miss)
}


layout(matrix(1:2, ncol=2, nrow=1))
par(las=1, adj=0.5, omi=c(0.1, 0.1, 0.1 ,0.1), cex=0.8 , cex.lab=0.8)
par(mar=c(7,5,0,0))
agegraph.general.bysex(agetable, maxdir, 'Male', subtitle)
par(mar=c(7,0,0,5))
agegraph.general.bysex(agetable, maxdir, 'Female', '')
</code></pre>

<p>I would be grateful for any suggestions!</p>
","280761","","5414452","","2016-01-20 13:47:23","2016-01-20 13:47:23","How do I position a central subtitle in my two-sided gplot-pyramid?","<r><gplots>","1","0","","","","CC BY-SA 2.5","2330169","4452","4452","r","404559","3625322","3607736","",""
"2331070","1","2331322","","2010-02-25 01:59:04","","3","2304","<p>I've written an SQL query that tells me the names of the previous week's top 10 most frequent Alarms. And I've written a query that takes those top 10 alarms and provides a YTD weekly totals for each of those alarms.</p>

<p>Now I'm looking to create a panel of sparklines showing the YTD trend for each of the week's top 10 alarms. </p>

<p>I got something resembling what I'd like, but I now need to make it ""dynamic"". i.e. to make it work without hardcoding the names of the alarms (since these will change with the SQL query every week).</p>

<p>How can I go about changing the R code below to work without hardcoding the names of the alarms? </p>

<p>Does levels(spark$Alarm) have something to do with?</p>

<p>Thanks kindly for the advice :-)</p>

<pre><code>Week = c(rep(1:8,2))
Total = rnorm(16,1000,600)
Alarm = c(rep(""BELTWEIGHER HIGH HIGH"",8), rep(""MICROWAVE LHS"",8))
spark &lt;- data.frame(Week, Alarm, Total)

s &lt;- ggplot(spark, aes(Week, Total)) +
     facet_grid(Alarm ~ ., scales = ""free"", as.table = FALSE) +
     opts(
  panel.background = theme_rect(size = 1, colour = ""lightgray""),
  panel.grid.major = theme_blank(),
  panel.grid.minor = theme_blank(),
  axis.line = theme_blank(),
  axis.text.x = theme_blank(),
  axis.text.y = theme_blank(),
  axis.title.x = theme_blank(),
  axis.title.y = theme_blank(), 
  axis.ticks = theme_blank(),
  strip.background = theme_blank(),
  strip.text.y = theme_text(size = 7, colour = ""red"", angle = 90)
 )

s1 &lt;- s  + geom_line(subset = .(Alarm == ""BELTWEIGHER HIGH HIGH""))
s2 &lt;- s1 + geom_line(subset = .(Alarm == ""MICROWAVE LHS""))
s2
</code></pre>
","246211","","","","","2015-04-12 12:43:28","R & ggplot2: Sparklines from dynamic variables (based on query results)","<r><visualization><ggplot2>","1","1","1","","","CC BY-SA 2.5","2331070","4452","4452","r","404559","3625322","3607736","",""
"2331237","1","","","2010-02-25 02:41:24","","3","171","<p>I have a simple program that breaks a dataset (a CSV file) into 4 chunks, reads each chunk in, does some calculations, and then appends the output together.  Think of it as a simple map-reduce operation.  Processing a single chunk uses about 1GB of memory.  I'm running the program on a quad core PC, with 4GB of ram, running Windows XP.  I happen to have coded it up using R, but I don't think it's relevant.</p>

<p>I coded up two versions.  One version processes each chunk in sequence.  The other version processes chunks two at a time in parallel.  Both versions take nearly the same amount of time to finish.</p>

<p>Under what circumstances would you expect to see this performance result?</p>

<p>My current hypothesis is that the processes are bounded by the memory performance, but I don't know the best way to investigate this further.  Any suggestions or guesses?</p>

<p>Edit: The program is not IO-bound in terms of the disk.  The processing step reads a chunk of a CSV file into memory, churns on it for 5 minutes or so, and then writes the result back out to a file on disk.  The file input and output takes a few seconds at most.</p>
","148621","","148621","","2010-02-25 02:49:32","2010-02-25 03:03:01","When will simple parallization not offer a speedup?","<performance><memory><r><parallel-processing>","4","3","","","","CC BY-SA 2.5","2331237","4452","4452","r","404559","3625322","3607736","",""
"2333436","1","2333860","","2010-02-25 11:01:38","","4","9775","<p>I'm writing an R script to get some database data and then do stuff with it, using the RODBC package.  Currently all my sqlQuery commands are one long string;</p>

<pre><code>stsample&lt;-sqlQuery(odcon, paste""select * from bob.DESIGNSAMPLE T1, bob.DESIGNSUBJECTGROUP T2, bob.DESIGNEVENT T3, bob.CONFIGSAMPLETYPES T4 WHERE T1.SUBJECTGROUPID = T2.SUBJECTGROUPID AND T1.TREATMENTEVENTID = T3.TREATMENTEVENTID AND T1.SAMPLETYPEKEY = T4.SAMPLETYPEKEY AND T1.STUDYID = T2.STUDYID AND T1.STUDYID = T3.STUDYID AND T1.STUDYID = "", chstudid, sep=""""))
head(stsample)
</code></pre>

<p>which looks ugly and is hard to read/update.  I've tried putting them multiline, but then new line characters get in the way, currently my best is this using lots of paste's;</p>

<pre><code>stsample&lt;-sqlQuery(odcon,
    paste(
        ""select "",
            ""* "", 
        ""from "", 
            ""BOB.DESIGNSAMPLE T1, "",
            ""BOB.DESIGNSUBJECTGROUP T2, "",
            ""BOB.DESIGNEVENT T3, "",
            ""BOB.CONFIGSAMPLETYPES T4 "",
        ""WHERE "",
            ""T1.SUBJECTGROUPID = T2.SUBJECTGROUPID "",
            ""AND T1.TREATMENTEVENTID = T3.TREATMENTEVENTID "",
            ""AND T1.SAMPLETYPEKEY = T4.SAMPLETYPEKEY "",
            ""AND T1.STUDYID = T2.STUDYID "",
            ""AND T1.STUDYID = T3.STUDYID "",
            ""AND T1.STUDYID = "",chstudid,
        sep="""")
    )
head(stsample)
</code></pre>

<p>But I don't like having to put quotes around everyline, and getting my whitespace correct.  Is there a better way ?</p>
","74658","","","","","2019-07-02 09:51:29","Is there a better way to code this sqlQuery in R?","<sql><r><formatting><rodbc>","3","3","1","","","CC BY-SA 2.5","2333436","4452","4452","r","404559","3625322","3607736","",""
"2333521","1","2338858","","2010-02-25 11:16:50","","1","611","<p>Trying the ggplot2 examples in the online reference manual, and particularly in <a href=""http://had.co.nz/ggplot2/stat_density2d.html"" rel=""nofollow noreferrer"">this page</a>, I fail to produce all but the first of the second example's plots.</p>

<pre><code>&gt; d + stat_density2d(geom=""tile"", aes(fill = ..density..), contour = FALSE) 
Error in `[&lt;-.data.frame`(`*tmp*`, var, value = list(`NA` = NULL)) : 
  missing values are not allowed in subscripted assignments of data frames
In addition: Warning message:
Removed 34912 rows containing missing values (stat_density2d).
</code></pre>

<p>I have R ver. 2.10.1 and ggplot2 ver. 0.8.6</p>

<p>What is wrong?</p>
","170792","","","","","2010-02-26 01:05:40","Why do I get an error when I run some examples from the online ggplot2 reference manual?","<r><ggplot2>","1","1","","","","CC BY-SA 2.5","2333521","4452","4452","r","404559","3625322","3607736","",""
"2336056","1","2342549","","2010-02-25 17:19:53","","2","5858","<p>I have the following setup to analyse:
We have about 150 subjects, and for each subject we performed a pair of tests (under different conditions) 18 times.
The 18 different conditions of the test are complementary, in such a way so that if we where to average over the tests (for each subject), we would get no correlation between the tests (between subjects).
What we wish to know is the correlation (and P value) between the tests, in within subjects, but over all the subjects.</p>

<p>The way I did this by now was to perform the correlation for each subject, and then look at the distribution of the correlations received so to see if it's mean is different then 0.
But I suspect there might be a better way for answering the same question (someone said to me something about ""geographical correlation"", but a shallow search didn't help).</p>

<p>p.s: I understand there might be a place here to do some sort of mixed model, but I would prefer to present a ""correlation"", and am not sure how to extract such an output from a mixed model.</p>

<p>Also, here is a short dummy code to give an idea of what I am talking about:</p>

<pre><code>attach(longley)
N &lt;- length(Unemployed)
block &lt;- c(
        rep( ""a"", N),
        rep( ""b"", N),
        rep( ""c"", N)
        )

Unemployed.3 &lt;- c(Unemployed + rnorm(1),
                    Unemployed + rnorm(1),
                    Unemployed + rnorm(1))

GNP.deflator.3 &lt;- c(GNP.deflator + rnorm(1),
                    GNP.deflator + rnorm(1),
                    GNP.deflator + rnorm(1))

cor(Unemployed, GNP.deflator)
cor(Unemployed.3, GNP.deflator.3)
cor(Unemployed.3[block == ""a""], GNP.deflator.3[block == ""a""])
cor(Unemployed.3[block == ""b""], GNP.deflator.3[block == ""b""])
cor(Unemployed.3[block == ""c""], GNP.deflator.3[block == ""c""])
(I would like to somehow combine the last three correlations...)
</code></pre>

<p>Any ideas will be welcomed.</p>

<p>Best,
Tal</p>
","256662","","190597","","2010-02-25 17:22:51","2010-02-26 15:11:10","How to do: Correlation with ""blocks"" (or - ""repeated measures"" ?!)?","<r><statistics><correlation>","3","0","2","","","CC BY-SA 2.5","2336056","4452","4452","r","404559","3625322","3607736","",""
"2337018","1","","","2010-02-25 19:37:03","","4","24683","<p>I've been banging my head against <code>rpart</code> for a few days now (trying to make classification trees for this dataset that I have), and I think it's time to ask a lifeline at this point :-)  I'm sure it's something silly that I'm not seeing, but here's what I've been doing:</p>

<pre><code>EuropeWater &lt;- read.csv(file=paste(""/Users/artessaniccola/Documents/"",
                       ""Magic Briefcase/CityTypology/Europe_water.csv"",sep=""""))
library(rpart)
attach(EuropeWater)
names(EuropeWater)
[1] ""City""          ""waterpercapita_m3"" ""water_class""       ""population""       
[5] ""GDPpercapita""  ""area_km2""          ""populationdensity"" ""climate""            
EuropeWater$water_class &lt;- factor(EuropeWater$water_class, levels=1:3, 
                                  labels=c(""Low"", ""Medium"", ""High""))
EuropeWater$climate &lt;- factor(EuropeWater$climate, levels=2:4, 
                              labels=c(""Arid"", ""Warm temperate"", ""Snow""))
EuropeWater_tree &lt;- rpart(EuropeWater$water_class ~ 
               population+GDPpercapita + area_km2 + populationdensity + 
               EuropeWater$climate, 
               data=EuropeWater, method=class)   
Error in as.character(x) : 
          cannot coerce type 'builtin' to vector of type 'character'
</code></pre>

<p>and for the life of me, I can't figure out what the Error is about.</p>
","281537","","85950","","2013-10-24 23:28:04","2020-08-04 07:56:15","What does the rpart ""Error in as.character(x) : cannot coerce type 'builtin' to vector of type 'character' "" message mean?","<r><rpart><cart-analysis>","2","2","","","","CC BY-SA 3.0","2337018","4452","4452","r","404559","3625322","3607736","",""
"2338152","1","2367512","","2010-02-25 22:28:21","","0","1652","<p>I have run two multilevel logistic regressions using the same predictors, but on two different responses:</p>

<pre><code>fruitMLM &lt;- lmer(InsuffFruit ~ Income + HDI + Income:HDI + (1 + Income | Country),family=binomial(link=""logit""))  
fuelMLM &lt;- lmer(Pollution ~ Income + HDI + Income:HDI + (1 + Income | Country),family=binomial(link=""logit""))
</code></pre>

<p><code>Income</code> is discrete with values <code>c(-2,-1,0,1,2)</code>, <code>HDI</code> is continuous between 0 and 1, <code>Country</code> is categorical, and the responses are both 1/0.</p>

<p>To plot confidence bands I run a simulation using the sim() function from the arm package:</p>

<pre><code>sim(fruitMLM,100)  
sim(fuelMLM,100)
</code></pre>

<p>The first one computes fine.  The second one returns the following error:</p>

<pre><code>Error in mvnorm(n.sims, bhat[j,], V.beta) :  
  'Sigma' is not positive definite
</code></pre>

<p>I actually am doing this with 8 different responses.  Six of them worked fine and two of them returned this error.</p>

<p>Does anyone know how to rectify this?</p>
","260533","","4205652","","2016-04-11 20:22:24","2016-04-11 20:22:24","Using sim() with lmer()","<r><variance><sim-card><lme4>","1","3","","","","CC BY-SA 3.0","2338152","4452","4452","r","404559","3625322","3607736","",""
"2338228","1","2347966","","2010-02-25 22:42:29","","11","9599","<p>In R it is easy to turn a matrix into a boxplot</p>

<pre><code>&gt; myMatrix
      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
 [1,]   27   32   31   28   20   28   10   29   15    29
 [2,]   31   33   20   28   21    9   14   21   34    33
 [3,]   27   33   28   23   26   33   19   11   26    30
 [4,]   33   17   10   31   10   32   10   29   31    28
 [5,]   25   10   29   34   32   33   28   32   32    32
 [6,]   32   19   13   32   26   20    9   26   32    33
 [7,]   33   32   18   26   27   28   29   32   24    25
 [8,]   33   34   32   30   27   31   22   32   33    30
 [9,]   32   34   31   22   17   31   11   27   18    23
[10,]   26   10   30   30   27    4    4    4    4     4

&gt; boxplot(as.data.frame(myMatrix))
</code></pre>

<p>How do I accomplish the same thing in ggplot?</p>
","264696","","168747","","2011-05-30 08:30:49","2014-05-19 13:12:53","How do I produce a boxplot in ggplot using a matrix","<r><ggplot2>","1","0","2","","","CC BY-SA 2.5","2338228","4452","4452","r","404559","3625322","3607736","",""
"2339953","1","2340007","","2010-02-26 06:54:28","","5","8804","<p>I have a plot (sample code pasted below) that I am trying to add by own labels for the series information.  Instead of plotting ""p1s1"" ""p1s2"" ""p3s4"", I would like ""treatment 1"" ""treatment 2"" ""treatment 3"".  I have used levels(series_id) to get the unique series names and used a lookup table to get the descriptions.  (I think this gets them in the same order they are plotted?) and I have these descriptions in a vector called treatment_descriptions.   </p>

<p>From the documentation I think that I should be using a scale here, but I can't figure out which one, or how to do it.  Something like:  scale_something(name=""Treatment Descriptions"", breaks=NULL, labels=treatment_descriptions, formatter=NULL)  ?  But where should this go?</p>

<pre><code>library(ggplot2)

# Create a long data.frame to store data...
growth_series = data.frame (""read_day"" = c(0, 3, 9, 0, 3, 9, 0, 2, 8), 
""series_id"" = c(""p1s1"", ""p1s1"", ""p1s1"", ""p1s2"", ""p1s2"", ""p1s2"", ""p3s4"", ""p3s4"", ""p3s4""),
""mean_od"" = c(0.6, 0.9, 1.3, 0.3, 0.6, 1.0, 0.2, 0.5, 1.2),
""sd_od"" = c(0.1, 0.2, 0.2, 0.1, 0.1, 0.3, 0.04, 0.1, 0.3),
""n_in_stat"" = c(8, 8, 8, 8, 7, 5, 8, 7, 2)
)

&gt; # Now gives us some example long form data...
&gt; &gt; growth_series 
&gt;  read_day series_id mean_od sd_od        n_in_stat   
&gt;   1       p1s1     0.6      0.10         8 2       
&gt;   3       p1s1     0.9      0.20         8 3    
&gt;   9       p1s1     1.3      0.20         8 4    
&gt;   0       p1s2     0.3      0.10         8 5    
&gt;   3       p1s2     0.6      0.10         7 6    
&gt;   9       p1s2     1.0      0.30         5 7    
&gt;   0       p3s4     0.2      0.04         8 8    
&gt;   2       p3s4     0.5      0.10         7 9    
&gt;   8       p3s4     1.2      0.30         2 2

# Plot using ggplot...
ggplot(data = growth_series, aes(x = read_day, y = mean_od, group = series_id, color = series_id)) +
geom_line(size = 1.5) +
geom_point(aes(size = n_in_stat)) +
geom_errorbar(aes(ymin = mean_od - sd_od, ymax = mean_od + sd_od), size = 1, width = 0.3) +
xlab(""Days"") + ylab(""Log (O.D. 730 nm)"") +
scale_y_log2() +
scale_colour_hue('my legend', breaks = levels(growth_series$series_id), labels=c('t1', 't2', 't3'))
</code></pre>
","207258","","207258","","2010-02-28 20:59:08","2010-02-28 20:59:08","How to add custom series labels to a legend in R's ggplot?","<r><ggplot2>","1","0","2","","","CC BY-SA 2.5","2339953","4452","4452","r","404559","3625322","3607736","",""
"2342472","1","2342777","","2010-02-26 15:00:55","","11","11987","<p>Each time when I have to recode some set of variables, I have SPSS recode function in mind. I must admit that it's quite straightforward. There's a similar <code>recode</code> function in <code>car</code> package, and it does the trick, but let's presuppose that I want to get things done with <code>factor</code>.</p>

<p>I have <code>data.frame</code> with several variables with value range from 1 to 7. I want to ""reverse"" variable values, hence replacing 1s with 7s, 2s with 6s, 3s with 5s etc. I can utilize <code>factor</code> function:</p>

<pre><code># create dummy factor
set.seed(100)
x &lt;- as.factor(round(runif(100,1,7)))
y &lt;- factor(x, levels = rev(levels(x)))
</code></pre>

<p>And if I run:</p>

<pre><code>&gt; levels(x)
[1] ""1"" ""2"" ""3"" ""4"" ""5"" ""6"" ""7""
&gt; levels(y)
[1] ""7"" ""6"" ""5"" ""4"" ""3"" ""2"" ""1""
</code></pre>

<p>Problem starts when I want to recode factors that do not have equal levels. If some factor, z, has levels <code>c(""1"", ""3"", ""4"", ""6"", ""7"")</code>, is there any chance that I can ""reverse"" levels so 1=7, 2=6, 3=5 etc. by utilizing <code>factor</code> function?</p>

<p>Other efficient recode functions should suffice!</p>
","457898","","1013393","","2013-12-07 10:15:13","2013-12-07 10:15:13","Recode/relevel data.frame factors with different levels","<r><levels>","4","0","9","","","CC BY-SA 2.5","2342472","4452","4452","r","404559","3625322","3607736","",""
"2343783","1","2344686","","2010-02-26 18:11:29","","4","2905","<p>I have several questions:<br>
1. What's the difference between isoMDS and cmdscale?<br>
2. May I use asymmetric matrix?<br>
3. Is there any way to determine optimal number of dimensions (in result)?</p>
","211450","","387076","","2011-09-23 08:32:50","2011-09-23 08:32:50","R : multidimensional scaling","<r><multi-dimensional-scaling>","1","1","2","","","CC BY-SA 2.5","2343783","4452","4452","r","404559","3625322","3607736","",""
"2344368","1","","","2010-02-26 19:48:18","","2","484","<p>I've been trying to get RApache set up properly on my Macbook Pro running OS X 10.5.8.  After installing RApache successfully (I think), I added the following to the httpd.conf file as suggested in the manual.</p>

<pre><code>LoadModule R_module /apache/module/path/mod_R.so 
ROutputErrors
&lt;Location /RApacheInfo&gt; 
    SetHandler r-info 
&lt;/Location&gt; 
</code></pre>

<p>With these additions, I was then able to successfully go to <a href=""http://localhost/RApacheInfo"" rel=""nofollow noreferrer"">http://localhost/RApacheInfo</a> and see the status information. If I add the following additional line, 
REvalOnStartup ""library(brew)"" 
I can no longer load the RApacheInfo page successfully. </p>

<p>I don't know what the issue is here. Without the REvalOnStartup call, I'm seeing the following in the Apache error log. </p>

<pre><code>[Fri Feb 26 11:36:36 2010] [notice] Apache/2.2.13 (Unix) mod_ssl/2.2.13 OpenSSL/0.9.7l DAV/2 mod_R/1.1.8 R/2.10.1 configured -- resuming normal operations
The process has forked and you cannot use this CoreFoundation functionality safely. You MUST exec().
Break on __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_USE_THIS_COREFOUNDATION_FUNCTIONALITY___YOU_MUST_EXEC__() to debug.
The process has forked and you cannot use this CoreFoundation functionality safely. You MUST exec().
Break on __THE_PROCESS_HAS_FORKED_AND_YOU_CANNOT_USE_THIS_COREFOUNDATION_FUNCTIONALITY___YOU_MUST_EXEC__() to debug.
</code></pre>

<p>Not a good sign.  Any thoughts on what might be going on?  Or things to check?  </p>

<p>Chris</p>
","218244","","95353","","2010-11-04 14:38:23","2010-11-04 14:38:23","Problem Configuring RApache on OS X 10.5.8","<apache><macos><r><apache2><rapache>","1","0","","","","CC BY-SA 2.5","2344368","4452","4452","r","404559","3625322","3607736","",""
"2344950","1","2346185","","2010-02-26 21:30:10","","2","621","<p>I would like to lay out graphs (trees) with two types of nodes: boxes and circles.</p>

<p>Is this possible with igraph and how would a minimal example look like?</p>
","216064","","","","","2010-02-27 04:07:22","How can I alter the appearance of nodes in igraph?","<r><igraph>","1","0","0","","","CC BY-SA 2.5","2344950","4452","4452","r","404559","3625322","3607736","",""
"2347410","1","2347548","","2010-02-27 13:09:46","","13","7848","<p>The dataset I want to read in contains numbers with and without a comma as thousand separator:</p>

<pre><code>""Sudan"", ""15,276,000"", ""14,098,000"", ""13,509,000""
""Chad"", 209000, 196000, 190000
</code></pre>

<p>and I am looking for a way to read this data in.</p>

<p>Any hint appreciated!</p>
","216064","","680068","","2020-11-27 21:18:00","2020-11-27 21:18:00","How can I declare a thousand separator in read.csv?","<r><csv>","4","0","2","2020-11-27 21:18:45","","CC BY-SA 2.5","2347410","4452","4452","r","404559","3625322","3607736","",""
"2349205","1","2349320","","2010-02-27 22:38:35","","28","188038","<p>I have a data file with this format:</p>

<pre><code>Weight    Industry Type  
251,787   Kellogg  h  
253,9601  Kellogg  a  
256,0758  Kellogg  h  
....
</code></pre>

<p>I read the data and try to draw an histogram with this commands:</p>

<pre><code> ce &lt;- read.table(""file.txt"", header = TRUE)

 we = ce[,1]
 in = ce[,2]
 ty = ce[,3]

hist(we)
</code></pre>

<p>But I get this error:</p>

<blockquote>
  <p>Error en hist.default(we) : 'x' must be numeric.</p>
</blockquote>

<p>What do I need to do in order to draw histograms for my three variables ?</p>
","157872","","680068","","2018-03-21 13:11:53","2018-03-21 13:13:04","Can't draw Histogram, 'x' must be numeric","<r><histogram>","3","1","5","","","CC BY-SA 3.0","2349205","4452","4452","r","404559","3625322","3607736","",""
"2349511","1","2349531","","2010-02-28 00:19:02","","5","9177","<p>Combining  2 columns into 1 column many times in a very large dataset in R</p>

<p>The clumsy solutions I am working on are not going to be very fast if I can get them to work and the true dataset is ~1500 X 45000 so they need to be fast. I definitely at a loss for 1) at this point although have some code for 2) and 3).</p>

<p>Here is a toy example of the data structure:</p>

<pre><code>pop = data.frame(status = rbinom(n, 1, .42), sex = rbinom(n, 1, .5),
age = round(rnorm(n, mean=40, 10)), disType = rbinom(n, 1, .2),
rs123=c(1,3,1,3,3,1,1,1,3,1), rs123.1=rep(1, n), rs157=c(2,4,2,2,2,4,4,4,2,2),
rs157.1=c(4,4,4,2,4,4,4,4,2,2),  rs132=c(4,4,4,4,4,4,4,4,2,2),
rs132.1=c(4,4,4,4,4,4,4,4,4,4))
</code></pre>

<p>Thus, there are a few columns of basic demographic info and then the rest of the columns are biallelic SNP info.  Ex: rs123 is allele 1 of rs123 and rs123.1 is the second allele of rs123.</p>

<p>1) I need to merge all the biallelic SNP data that is currently in 2 columns into 1 column, so, for example: rs123 and rs123.1 into one column (but within the dataset):</p>

<pre><code>11
31
11
31
31
11
11
11
31
11
</code></pre>

<p>2) I need to identify the least frequent SNP value (in the above example it is 31).</p>

<p>3) I need to replace the least frequent SNP value with 1 and the other(s) with 0.</p>
","282892","","","","","2010-02-28 00:28:06","Combining 2 columns into 1 column many times in a very large dataset in R","<r><merge>","1","0","1","","","CC BY-SA 2.5","2349511","4452","4452","r","404559","3625322","3607736","",""
"2349820","1","2349973","","2010-02-28 02:28:02","","5","3992","<p>Is it possible to run R in Processing through rJava/JRI? If I deployed a Processing app on the web, would the client need R on their system?</p>

<p>I'm looking to create an interactive information dashboard that I can deploy on the web. It seems that Processing is probably my best bet for the interactive/web part of things. Unfortunately, it doesn't look like there are many math/stats functions built-in. And there aren't any libraries for plotting data either. </p>

<p>I've been using R and gpplot2 for a few months and am thrilled (amazed) at how easily it manipulates and plots data. </p>

<p>So I'm wondering now if can get the best of both worlds and run R through a Processing applet.</p>

<p>From the <a href=""http://rosuda.org/JRI/"" rel=""noreferrer"">JRI</a> website:</p>

<blockquote>
  <p>JRI is a Java/R Interface, which allows to run R inside Java
  applications as a single thread.
  Basically it loads R dynamic library
  into Java and provides a Java API to R
  functionality. It supports both simple
  calls to R functions and a full
  running REPL.</p>
  
  <p>In a sense JRI is the inverse of rJava
  and both can be combined (i.e. you can
  run R code inside JRI that calls back
  to the JVM via rJava). The JGR project
  makes the full use of both JRI and
  rJava to provide a full Java GUI for
  R.</p>
  
  <p>JRI uses native code, but it supports
  all platforms where Sun's Java (or
  compatible) is available, including
  Windows, Mac OS X, Sun and Linux (both
  32-bit and 64-bit).</p>
</blockquote>

<p>Thanks for the advice :)</p>
","246211","","","","","2010-11-07 12:51:34","Using R in Processing through rJava/JRI?","<java><r><processing>","3","0","1","","","CC BY-SA 2.5","2349820","4452","4452","r","404559","3625322","3607736","",""
"2351204","1","2351508","","2010-02-28 13:47:03","","2","6053","<p>This may seem as a typical <code>plyr</code> problem, but I have something different in mind.
Here's the function that I want to optimize (skip the <code>for</code> loop).</p>

<pre><code># dummy data
set.seed(1985)
lst &lt;- list(a=1:10, b=11:15, c=16:20)
m &lt;- matrix(round(runif(200, 1, 7)), 10)
m &lt;- as.data.frame(m)


dfsub &lt;- function(dt, lst, fun) {
    # check whether dt is `data.frame`
    stopifnot (is.data.frame(dt))
    # check if vectors in lst are ""whole"" / integer
    # vector elements should be column indexes
    is.wholenumber &lt;- function(x, tol = .Machine$double.eps^0.5)  abs(x - round(x)) &lt; tol
    # fall if any non-integers in list
    idx &lt;- rapply(lst, is.wholenumber)
    stopifnot(idx)
    # check for list length
    stopifnot(ncol(dt) == length(idx))
    # subset the data
    subs &lt;- list()
    for (i in 1:length(lst)) {
            # apply function on each part, by row
            subs[[i]] &lt;- apply(dt[ , lst[[i]]], 1, fun)
    }
    # preserve names
    names(subs) &lt;- names(lst)
    # convert to data.frame
    subs &lt;- as.data.frame(subs)
    # guess what =)
    return(subs)
}
</code></pre>

<p>And now a short demonstration... actually, I'm about to explain what I primarily intended to do. I wanted to subset a <code>data.frame</code> by vectors gathered in <code>list</code> object. Since this is a part of code from a function that accompanies data manipulation in psychological research, you can consider <code>m</code> as a results from personality questionnaire (10 subjects, 20 vars). Vectors in list hold column indexes that define questionnaire subscales (e.g. personality traits). Each subscale is defined by several items (columns in <code>data.frame</code>). If we presuppose that the score on each subscale is nothing more than <code>sum</code> (or some other function) of row values (results on that part of questionnaire for each subject), you could run:</p>

<pre><code>&gt; dfsub(m, lst, sum)
    a  b  c
1  46 20 24
2  41 24 21
3  41 13 12
4  37 14 18
5  57 18 25
6  27 18 18
7  28 17 20
8  31 18 23
9  38 14 15
10 41 14 22
</code></pre>

<p>I took a glance at this function and I must admit that this little loop isn't spoiling the code at all... BUT, if there's an easier/efficient way of doing this, please, let me know!</p>
","457898","","457898","","2010-02-28 13:53:11","2013-08-04 10:45:44","Subset a data.frame by list and apply function on each part, by rows","<list><r><apply><dataframe><lapply>","4","0","2","","","CC BY-SA 2.5","2351204","4452","4452","r","404559","3625322","3607736","",""
"2351744","1","2352006","","2010-02-28 16:48:51","","26","20757","<p>Here is a function I wrote to break a long string into lines not longer than a given length</p>

<pre><code>strBreakInLines &lt;- function(s, breakAt=90, prepend="""") {
  words &lt;- unlist(strsplit(s, "" ""))
  if (length(words)&lt;2) return(s)
  wordLen &lt;- unlist(Map(nchar, words))
  lineLen &lt;- wordLen[1]
  res &lt;- words[1]
  lineBreak &lt;- paste(""\n"", prepend, sep="""")
  for (i in 2:length(words)) {
    lineLen &lt;- lineLen+wordLen[i]
    if (lineLen &lt; breakAt) 
      res &lt;- paste(res, words[i], sep="" "")
    else {
      res &lt;- paste(res, words[i], sep=lineBreak)
      lineLen &lt;- 0
    }
  }
  return(res)
}
</code></pre>

<p>It works for the problem I had; but I wonder if I can learn something here. Is there a shorter or more efficient solution, especially can I get rid of the for loop?</p>
","216064","","","","","2015-07-23 11:28:20","Insert line breaks in long string -- word wrap","<string><r>","4","0","9","","","CC BY-SA 2.5","2351744","4452","4452","r","404559","3625322","3607736","",""
"2352617","1","2354304","","2010-02-28 20:51:13","","37","28653","<p>Under what cases do you create contrasts in your analysis? How is it done and what is it used for?</p>

<p>I checked <code>?contrasts</code> and <code>?C</code> - both lead to ""Chapter 2 of Statistical Models in S"", which is not readily available to me.</p>
","256662","","2675154","","2016-04-11 19:31:34","2016-04-11 19:31:34","How (and why) do you use contrasts?","<r><linear-regression><categorical-data><contrast>","2","1","13","","","CC BY-SA 3.0","2352617","4452","4452","r","404559","3625322","3607736","",""
"2352813","1","2353106","","2010-02-28 21:46:53","","6","16928","<p>I am trying to merge two <code>data.frames</code> together, based on a common column name in each of them called <code>series_id</code>.  Here is my merge statement: </p>

<pre><code>merge(test_growth_series_LUT,  test_growth_series, by = intersect(series_id, series_id))
</code></pre>

<p>The error I'm getting is </p>

<blockquote>
  <p>Error in as.vector(y) : object 'series_id' not found</p>
</blockquote>

<p>The help gives this description, but I can't see why it can't find the <code>series_id</code>.   Example data is below.  </p>

<pre><code>### S3 method for class 'data.frame':
   #merge(x, y, by = intersect(names(x), names(y)),
   #      by.x = by, by.y = by, all = FALSE, all.x = all, all.y = all,
   #      sort = TRUE, suffixes = c("".x"","".y""), ...)



# Create a long data.frame to store data...
test_growth_series = data.frame (""read_day"" = c(0, 3, 9, 0, 3, 9, 0, 2, 8), 
""series_id"" = c(""p1s1"", ""p1s1"", ""p1s1"", ""p1s2"", ""p1s2"", ""p1s2"", ""p3s4"", ""p3s4"", ""p3s4""),
""mean_od"" = c(0.6, 0.9, 1.3, 0.3, 0.6, 1.0, 0.2, 0.5, 1.2),
""sd_od"" = c(0.1, 0.2, 0.2, 0.1, 0.1, 0.3, 0.04, 0.1, 0.3),
""n_in_stat"" = c(8, 8, 8, 8, 7, 5, 8, 7, 2)
)

# Create a name LUT
test_growth_series_LUT = data.frame (""series_id"" = c(""p1s1"", ""p1s2"", ""p3s4"", ""p4s2"", ""p5s2"", ""p6s2"", ""p7s4"", ""p8s4"", ""p9s4""),""description"" = c(""blah1"", ""blah2"", ""blah3"", ""blah4"", ""blah5"", ""blah6"", ""blah7"", ""blah8"", ""blah9"")
)

&gt; test_growth_series
  read_day series_id mean_od sd_od n_in_stat
1        0      p1s1     0.6  0.10         8
2        3      p1s1     0.9  0.20         8
3        9      p1s1     1.3  0.20         8
4        0      p1s2     0.3  0.10         8
5        3      p1s2     0.6  0.10         7
6        9      p1s2     1.0  0.30         5
7        0      p3s4     0.2  0.04         8
8        2      p3s4     0.5  0.10         7
9        8      p3s4     1.2  0.30         2
&gt; test_growth_series_LUT
  series_id description
1      p1s1       blah1
2      p1s2       blah2
3      p3s4       blah3
4      p4s2       blah4
5      p5s2       blah5
6      p6s2       blah6
7      p7s4       blah7
8      p8s4       blah8
9      p9s4       blah9
&gt; 



this is what I'm trying to achieve:  
&gt; new_test_growth_series
  read_day series_id mean_od sd_od n_in_stat        description
1        0      p1s1     0.6  0.10         8        blah1
2        3      p1s1     0.9  0.20         8        blah1
3        9      p1s1     1.3  0.20         8        blah1
4        0      p1s2     0.3  0.10         8        blah2
5        3      p1s2     0.6  0.10         7        blah2
6        9      p1s2     1.0  0.30         5        blah2
7        0      p3s4     0.2  0.04         8        blah3
8        2      p3s4     0.5  0.10         7        blah3
9        8      p3s4     1.2  0.30         2        blah3
</code></pre>
","207258","","1195557","","2016-04-11 19:57:07","2016-04-11 19:57:07","How to merge two data.frames together in R, referencing a lookup table","<r><merge><dataframe>","2","1","3","","","CC BY-SA 3.0","2352813","4452","4452","r","404559","3625322","3607736","",""
"2355727","1","2356283","","2010-03-01 12:32:02","","5","11641","<p>Is there an easy way to do a fixed-effects regression in R when the number of dummy variables leads to a model matrix that exceeds the R maximum vector length? E.g., </p>

<pre><code>&gt; m &lt;- lm(log(bid) ~ after + I(after*score) + id, data = data)
Error in model.matrix.default(mt, mf, contrasts) : 
cannot allocate vector of length 905986769
</code></pre>

<p>where id is a factor (and is the variable causing the problem above). </p>

<p>I know that I could go through and de-mean all the data, but this throws the standard errors off (yes, you could compute the SE's ""by hand"" w/ a df adjustment but I'd like to minimize the probability that I'm introducing new errors). I've looked at the plm package but it seems only designed for classical panel data w/ a time component, which is not the structure of my data.  </p>
","271844","","415864","","2014-08-14 16:00:30","2014-08-14 16:00:30","Fixed effects regression in R (with a very large number of dummy variables)","<r><plm>","1","0","3","","","CC BY-SA 2.5","2355727","4452","4452","r","404559","3625322","3607736","",""
"2359444","1","2366386","","2010-03-01 22:08:01","","1","220","<p>I need to create an object of type ShortReadQ from Bioconductor's ShortRead library.</p>

<pre><code>ShortReadQ 'signature(sread = ""DNAStringSet"", quality =
          ""QualityScore"", id = ""BStringSet"")'
</code></pre>

<p>The quality slot needs to be an object inheriting from QualityScore, of which I can easily determine from another ShortReadQ object that I wish to emulate.</p>

<pre><code>&gt; class(quality(anotherObject))
[1] ""SFastqQuality""
attr(,""package"")
[1] ""ShortRead""
</code></pre>

<p>What is the best way to use that information (""SFastqQuality"") in the contructor argument?</p>

<pre><code>newObject&lt;-ShortReadQ(sread=...,
             quality=SFastqQuality(...), 
             id=...)
</code></pre>
","264696","","2679518","","2014-04-17 00:27:13","2014-04-17 00:27:13","In R, how do I set an S4 class based on another object's class","<r><s4><bioconductor>","3","2","","","","CC BY-SA 2.5","2359444","4452","4452","r","404559","3625322","3607736","",""
"2359723","1","2359839","","2010-03-01 22:52:50","","43","62169","<p>At the end of a ggplot, this works fine:</p>

<pre><code>+ opts(title = expression(""Chart chart_title...""))
</code></pre>

<p>But this does not:</p>

<pre><code>chart_title = ""foo""
+ opts(title = expression(chart_title))
</code></pre>

<p>nor this: </p>

<pre><code>chart_title = ""foo""
+ opts(title = chart_title)
</code></pre>

<p>How can I add a title to a ggplot when the title is a variable name?</p>
","207258","","202229","","2014-03-28 20:28:30","2020-10-18 17:37:17","How to add a title to a ggplot when the title is a variable name?","<r><ggplot2><title>","4","2","14","","","CC BY-SA 2.5","2359723","4452","4452","r","404559","3625322","3607736","",""
"2360490","1","","","2010-03-02 02:12:47","","1","708","<p>I was wondering if anyone could kindly help me on this seemingly easy task.  I'm using nlminb to conduct optimization and compute some statistics by index. Here's an example from nlminb help.</p>

<pre><code>&gt; x &lt;- rnbinom(100, mu = 10, size = 10)
&gt; hdev &lt;- function(par) {
+     -sum(dnbinom(x, mu = par[1], size = par[2], log = TRUE))
+ }
&gt; nlminb(c(9, 12), hdev)
$par
[1] 9.730000 5.954936
$objective
[1] 297.2074
$convergence
[1] 0
$message
[1] ""relative convergence (4)""
$iterations
[1] 10
$evaluations
function gradient
      12       27
</code></pre>

<p>Suppose I generate random variables <code>x, y</code> and <code>z</code> where <code>z</code> acts as an index (from 1 to 3).</p>

<pre><code>&gt; x &lt;- rnbinom(100, mu = 10, size = 10)
&gt; y &lt;- rnbinom(100, mu = 10, size = 10)
&gt; z &lt;- rep(1:3, length=100)
&gt; A &lt;- cbind(x,y,z)
&gt; hdev &lt;- function(par) {
+     -sum(dnbinom(x+y, mu = par[1], size = par[2], log = TRUE))}
</code></pre>

<p>1) How can I apply <code>nlminb(c(9, 12), hdev)</code> to the data set by index <code>z</code>? In other words, I would like to compute <code>nlminb(c(9, 12), hdev)</code> for <code>z=1, z=2</code>, and <code>z=3</code> separately. I tried <code>by(A, z, function(A) nlminb(c(9,12), hdev))</code> and <code>sparseby(A, z, function(A) nlminb(c(9,12), hdev))</code>, but they return exactly the same values for each value of <code>z</code>.</p>

<p>2) I would like to turn each output into a new data frame so that it will become a 3X2 matrix.</p>

<pre><code>[1] Z1_ANSWER_1 Z1_ANSWER_2
[2] Z2_ANSWER_1 Z2_ANSWER_2
[3] Z3_ANSWER_1 Z3_ANSWER_2
</code></pre>

<p>Since nlminb returns the summary of statistics, I needed to use <code>CASEZ1&lt;-nlminb$par, CASEZ2&lt;-nlminb$par, CASEZ3&lt;-nlminb$par</code> and then use cbind to combine them. However, I would like to automate this process as the real data I'm working on has a lot more categories than <code>z</code> presented here.</p>

<p>If I'm not making myself clear, please let me know. I'll see if I can replicate the actual data set and functions I'm working on (I just don't have them on this computer).</p>

<p>Thank you very much in advance.</p>
","","user284061","1315767","","2014-01-01 17:54:33","2014-01-01 17:54:33","Applying nlminb to subsets of data (by index or label) and store what the program returns as a new data frame","<data-structures><r><subset>","1","0","","","","CC BY-SA 3.0","2360490","4452","4452","r","404559","3625322","3607736","",""
"2361557","1","2365350","","2010-03-02 07:43:37","","8","6394","<p>I am trying to add a condition to geom_point size and I've pasted my example below.  I would like geom_point size to be 2 when n_in_stat is 4 or more, and size = 5 when n_in_stat is less than 4.   I tried putting an ifelse statement inside the geom_point, but this failed.  Perhaps I can't include logical operators here and I have to create a new column in the data.frame and set the size to that?</p>

<p>geom_point(size = ifelse(n_in_stat &lt; 4, 5, 2)) +   # trying to set size with an ifelse</p>

<p>geom_point(aes(size = n_in_stat)) +  # original scaled linearly</p>

<pre><code>library(ggplot2)

# Create a long data.frame to store data...
growth_series = data.frame (""read_day"" = c(0, 3, 9, 0, 3, 9, 0, 2, 8), 
""series_id"" = c(""p1s1"", ""p1s1"", ""p1s1"", ""p1s2"", ""p1s2"", ""p1s2"", ""p3s4"", ""p3s4"", ""p3s4""),
""mean_od"" = c(0.6, 0.9, 1.3, 0.3, 0.6, 1.0, 0.2, 0.5, 1.2),
""sd_od"" = c(0.1, 0.2, 0.2, 0.1, 0.1, 0.3, 0.04, 0.1, 0.3),
""n_in_stat"" = c(8, 8, 8, 8, 7, 5, 8, 7, 2)
)

# Plot using ggplot...
ggplot(data = growth_series, aes(x = read_day, y = mean_od, group = series_id, color = series_id)) +
geom_line(size = 1.5) +
geom_point(aes(size = n_in_stat)) +
geom_errorbar(aes(ymin = mean_od - sd_od, ymax = mean_od + sd_od), size = 1, width = 0.3) +
xlab(""Days"") + ylab(""Log (O.D. 730 nm)"") +
scale_y_log2() +
scale_colour_hue('my legend', breaks = levels(growth_series$series_id), labels=c('t1', 't2', 't3'))
</code></pre>
","207258","","135385","","2010-03-02 08:11:47","2010-03-02 17:44:27","How to add a condition to the geom_point size?","<r><size><ggplot2><scale>","2","0","5","","","CC BY-SA 2.5","2361557","4452","4452","r","404559","3625322","3607736","",""
"2363881","1","2364095","","2010-03-02 14:42:25","","4","1944","<p>I'm trying to generate a stacked area plot, but instead, ggplot makes overlapping areas. I've tried other examples that seems analogous to me, but they work and mine doesn't.</p>

<pre><code>&gt; cx
         date type visitors
1  2009-11-23    A        2
2  2010-01-07    A        4
3  2010-01-09    A        6
4  2010-02-07    A        8
5  2009-12-02    B        2
6  2009-12-03    B        4
7  2009-12-11    B        6
8  2010-01-20    B        8
9  2010-01-26    B       10
10 2010-01-30    B       11
11 2010-02-01    B       12
12 2009-12-07   LU        2
13 2009-12-28   LU        4
14 2010-01-27   LU        7
15 2010-02-04    L        1
16 2010-02-22    L        2
17 2009-11-14    O        2
18 2009-11-27    O        4
19 2010-01-11    O        6
20 2010-01-13    O        8
21 2010-02-10    O        9
22 2009-11-24    R        2
23 2009-12-01    R        4
24 2009-12-13    R        6
25 2009-12-14    R        8
26 2010-01-03    R       10
27 2010-01-16    R       12
28 2010-02-06    R       13
29 2010-02-08    R       15
30 2009-11-15    T        2
31 2009-11-19    T        4
32 2009-11-25    T        6
33 2009-11-26    T        8
34 2009-12-09    T       10
35 2009-12-10    T       12
36 2009-12-15    T       14
37 2009-12-19    T       16
38 2009-12-22    T       18
39 2010-02-23    T       19
40 2010-02-24    T       20
41 2010-01-21   Tr        2
42 2010-01-23   Tr        4
43 2010-01-24   Tr        6
44 2010-01-06    U        2
45 2009-11-09    V        2
46 2009-11-18    V        4
47 2009-12-16    V        6
48 2009-12-23    V        8
49 2009-12-25    V       10
50 2010-01-02    V       12
51 2010-01-12    V       14
52 2010-01-14    V       16
53 2010-01-15    V       18
54 2010-01-17    V       20
55 2010-01-19    V       22
56 2010-01-25    V       25
57 2010-02-05    V       26
&gt; ggplot(cx) + geom_area(aes(x=date, y=visitors, fill=type), position=""stack"")
</code></pre>

<p>This gives a plot where each type is plotted as its own area, and these are overlaid instead of stacked. If I sort them right, I then get a series of smaller areas inside larger, but that's not what I'm after.</p>

<p>I've tried different arguments of position, to no avail.</p>

<p>How can I get the stacked areas?</p>
","284485","","","","","2010-03-02 15:09:05","ggplot2 geom_area overlapping instead of stacking","<r><ggplot2>","1","0","0","","","CC BY-SA 2.5","2363881","4452","4452","r","404559","3625322","3607736","",""
"2367328","1","2373917","","2010-03-02 22:26:27","","19","80517","<p>For example. Assume I do:</p>

<pre><code>dev.new(width=5, height=4)
plot(1:20)
</code></pre>

<p>And now I wish to do</p>

<pre><code>plot(1:40)
</code></pre>

<p>But I want a bigger window for it.</p>

<p>I would guess that the way to do it would be (assuming I don't want to open a new window) to do</p>

<pre><code>plot(1:40, width=10, height=4)
</code></pre>

<p>Which of course doesn't work.</p>

<p>The only solution I see to it would be to turn off the window and start a new one. (Which will end my plotting history)</p>

<p>Is there a better way ?</p>

<p>Thanks.</p>
","256662","","","","","2014-02-03 10:49:26","How to change current Plot Window Size (in R)","<graphics><r><window><plot><base>","2","5","5","","","CC BY-SA 2.5","2367328","4452","4452","r","404559","3625322","3607736","",""
"2370094","1","14558026","","2010-03-03 09:45:15","","1","1874","<p>I've encountered a strange behaviour in <code>cast</code>/<code>melt</code> from the <code>reshape</code> package. If I cast a <code>data.frame</code>, and then try to <code>melt</code> it, the <code>melt</code> comes out wrong. Manually unsetting the ""df.melt"" class from the cast <code>data.frame</code> lets it be melted properly.</p>

<p>Does anyone know if this is intended behaviour, and if so, what is the use case when you'd want it?</p>

<p>A small code example which shows the behaviour:</p>

<pre><code>&gt; df &lt;- data.frame(type=c(1, 1, 2, 2, 3, 3), variable=""n"", value=c(71, 72, 68, 80, 21, 20))

&gt; df
  type variable value
1    1        n    71
2    1        n    72
3    2        n    68
4    2        n    80
5    3        n    21
6    3        n    20

&gt; df.cast &lt;- cast(df, type~., sum)
&gt; names(df.cast)[2] &lt;- ""n""

&gt; df.cast
  type   n
1    1 143
2    2 148
3    3  41

&gt; class(df.cast)
[1] ""cast_df""    ""data.frame""

&gt; melt(df.cast, id=""type"", measure=""n"")
         type value value
X.all.      1   143 (all)
X.all..1    2   148 (all)
X.all..2    3    41 (all)

&gt; class(df.cast) &lt;- ""data.frame""
&gt; class(df.cast)
[1] ""data.frame""

&gt; melt(df.cast, id=""type"", measure=""n"")
  type variable value
1    1        n   143
2    2        n   148
3    3        n    41
</code></pre>
","284485","","1270695","","2017-12-14 07:16:52","2017-12-14 07:16:52","Melting a cast data frame gives incorrect output","<r><reshape>","2","2","1","","","CC BY-SA 3.0","2370094","4452","4452","r","404559","3625322","3607736","",""
"2370515","1","","","2010-03-03 10:52:42","","69","361755","<p>Suppose I have a list or data frame in R, and I would like to get the row index, how do I do that? That is, I would like to know how many rows a certain matrix consists of.</p>
","63605","","5414452","","2016-01-20 13:38:52","2021-03-25 13:14:41","How to get row index number in R?","<r><dataframe>","7","2","12","","","CC BY-SA 3.0","2370515","4452","4452","r","404559","3625322","3607736","",""
"2370648","1","2376560","","2010-03-03 11:12:28","","10","2746","<p>I need to modify the <code>lm</code> (or eventually <code>loess</code>) function so I can use it in ggplot2's <code>geom_smooth</code> (or <code>stat_smooth</code>).</p>

<p>For example, this is how <code>stat_smooth</code> is used normally:</p>

<pre><code>&gt; qplot(data=diamonds, carat, price, facets=~clarity) + stat_smooth(method='lm')`
</code></pre>

<p>I would like to define a custom <code>lm2</code> function to use as value for the <code>method</code> parameter in <code>stat_smooth</code>, so I can customize its behaviour.</p>

<pre><code>&gt; lm2 &lt;- function(formula, data, ...)
  {
      print(head(data))
      return(lm(formula, data, ...))
  }
&gt; qplot(data=diamonds, carat, price, facets=~clarity) + stat_smooth(method='lm2')
</code></pre>

<p>Note that I have used <code>method='lm2'</code> as parameter in <code>stat_smooth</code>.
When I execute this code a get the error:</p>

<blockquote>
  <p>Error in eval(expr, envir, enclos) : 'nthcdr' needs a list to CDR down</p>
</blockquote>

<p>Which I don't understand very well. The <code>lm2</code> method works very well when run outside of <code>stat_smooth</code>. I played with this a bit and I have got different types of error, but since I am not comfortable with R's debug tools it is difficult for me to debug them. Honestly, I  don't get what I should put inside the <code>return()</code> call.</p>
","95048","","4205652","","2016-04-11 20:48:47","2016-04-11 20:48:47","modify lm or loess function to use it within ggplot2's geom_smooth","<r><ggplot2><lm>","1","0","2","","","CC BY-SA 3.0","2370648","4452","4452","r","404559","3625322","3607736","",""
"2372992","1","2373503","","2010-03-03 16:26:37","","1","767","<p>I have a data frame with gaps like this:</p>

<pre><code>           Var1    Var2    Var3
1            NA      NA      NA
2            NA      NA      NA
3            NA      NA      NA
4            NA 0.06703      NA
5            NA 0.08639      NA
6            NA 0.19023 0.02322
7            NA 0.31764 0.08058
8            NA 0.44426 0.15081
9            NA 0.37529 0.29595
10           NA 0.40029 0.29274
11           NA 0.33828 0.39168
12      0.01595 0.31432 0.43192
13      0.05217 0.28560 0.48150
14      0.07196 0.32588 0.56065
15      0.08771 0.26301 0.68131
</code></pre>

<p>When I run <code>melt(),</code> I remove the NA cells:
<code>melt(df, na.rm = TRUE)</code>, but I would like to add a new column that contains a row number for each value's position within its <code>variable</code> group.</p>

<p>So my results look like this:</p>

<pre><code>variable    value
    Var1   0.01595
    Var1   0.05217
    Var1   0.07196
    Var1   0.08771
    Var2   0.06703
    Var2   0.08639
...etc
</code></pre>

<p>and I want them to look like this:</p>

<pre><code>variable    value    index
    Var1   0.01595   1
    Var1   0.05217   2
    Var1   0.07196   3
    Var1   0.08771   4
    Var2   0.06703   1
    Var2   0.08639   2
...etc
</code></pre>

<p>What's the best way to generate these internal row numbers, whether before, during, or after the melt process? </p>
","197321","","","","","2010-03-04 15:23:21","Assign group-level indices during or after melt","<r><reshape>","1","0","1","2016-06-04 17:14:25","","CC BY-SA 2.5","2372992","4452","4452","r","404559","3625322","3607736","",""
"2373334","1","2374018","","2010-03-03 17:09:20","","1","1971","<p>It is very straight-forward to plot a tree using igraph in R</p>

<pre><code>library(igraph)
plot(graph.tree(20, 2), layout=layout.reingold.tilford)
</code></pre>

<p>Is it possible to ""turn the graph around"", so that the root (node 0) is at the top of the plot? Or, alternatively, is it possible to put the root to middle left?</p>
","216064","","216064","","2010-03-10 22:20:07","2010-03-10 22:20:07","How can I draw a tree with igraph ""bottom-up""?","<r><tree><igraph>","1","1","","","","CC BY-SA 2.5","2373334","4452","4452","r","404559","3625322","3607736","",""
"2374947","1","2375157","","2010-03-03 21:04:14","","0","1647","<p>I'm having some trouble indexing data.frames in R. I'm an R beginner. I have a <code>data.frame</code> called <code>d</code> which has 35512 columns and 77 rows. I have a list called <code>rd</code> which contains 35512 elements. I'd like all the columns of <code>d</code> which correspond to the items in <code>rd</code> less than 100. Here's what I'm doing:</p>

<pre><code># just to prove I'm not crazy
&gt; length(colnames(d))
[1] 35512
&gt; length(rownames(d))
[1] 77
&gt; length(rd)
[1] 35512
# find all the elements of rd less than 100 (+ unnecessary faffing?)
&gt; i &lt;- unlist(rd&lt;100)
&gt; names(i) &lt;- NULL
# try to extract all the elements of d corresponding to rd &lt; 100
&gt; d &lt;- d[,i]
Error in `[.data.frame`(d, , i) : undefined columns selected
</code></pre>

<p>I don't really want to be doing the <code>unlist</code> and <code>names(i) &lt;- NULL</code> stuff but I'm getting seriously paranoid. Can anyone help with what the hell this error message means?</p>

<p>In case it helps, the <code>rd</code> variable is created using the following:</p>

<pre><code>rd = lapply(lapply(d, range), diff)
</code></pre>

<p>Which hopefully tells me the difference in the range of each column of <code>d</code>.</p>

<p>P.S. bonus awesomeness for anyone who can tell me a command to find the shape of a data.frame other than querying the length of its row and column names.</p>

<p>Edit: Here's what <code>rd</code> looks like:</p>

<pre><code>&gt; rd[1:3]
$`10338001`
[1] 7198.886

$`10338003`
[1] 4748.963

$`10338004`
[1] 3173.046
</code></pre>

<p>and when I've done my faffing, <code>i</code> looks like this:</p>

<pre><code>&gt; i[7:10]
[1] FALSE FALSE FALSE  TRUE
</code></pre>
","270572","","202229","","2011-09-19 10:04:52","2011-09-19 10:04:52","Indexing data.frames using arrays of TRUEs and FALSEs","<r><indexing><dataframe><shape><logical-operators>","2","4","1","","","CC BY-SA 2.5","2374947","4452","4452","r","404559","3625322","3607736","",""
"2375587","1","2375877","","2010-03-03 22:44:57","","136","92635","<p>I have data frame with some numerical variables and some categorical <code>factor</code> variables. The order of levels for those factors is not the way I want them to be. </p>

<pre><code>numbers &lt;- 1:4
letters &lt;- factor(c(""a"", ""b"", ""c"", ""d""))
df &lt;- data.frame(numbers, letters)
df
#   numbers letters
# 1       1       a
# 2       2       b
# 3       3       c
# 4       4       d
</code></pre>

<p>If I change the order of the levels, the letters no longer are with their corresponding numbers (my data is  total nonsense from this point on).</p>

<pre><code>levels(df$letters) &lt;- c(""d"", ""c"", ""b"", ""a"")
df
#   numbers letters
# 1       1       d
# 2       2       c
# 3       3       b
# 4       4       a
</code></pre>

<p>I simply want to change the <em>level</em> order, so when plotting, the bars are shown in the desired order - which may differ from default alphabetical order.</p>
","285812","","1851712","","2016-03-20 11:38:31","2021-05-29 18:24:22","Reorder levels of a factor without changing order of values","<r><levels>","9","1","44","","","CC BY-SA 3.0","2375587","4452","4452","r","404559","3625322","3607736","",""
"2376034","1","2376045","","2010-03-04 00:14:16","","1","3954","<p>I have a scatter plot in R (with ggplot2). The data has a numeric column (let's call it <code>bin</code>) which can contain various integer values or null.</p>

<p>I would like to colour the points with non-null bin values differently from the others. I do not want to one colour per value of bin, that would be too noisy. Just simply, say, red for those with a non-null bin and black for the others.</p>

<p>qplot has a <code>colour</code> attribute, but I don't know how to express a condition like <code>colour = bin != null ? ""red"" : ""black""</code></p>
","277434","","4205652","","2016-04-11 20:09:44","2016-04-11 20:09:44","How to color points in a different color if a data attribute is not null","<r><ggplot2><scatter-plot>","1","1","1","","","CC BY-SA 3.0","2376034","4452","4452","r","404559","3625322","3607736","",""
"2376614","1","2376672","","2010-03-04 03:04:30","","2","1281","<p>I have a large chart with many data points. When I create the qplot in R, the chart is auto-fitted to the window. Even if I maximize the window, the chart is still too small and details are lost. I would like to save it as a large PNG and then look at certain areas at 1:1 resolution with an image viewer (as I cannot zoom in easily in R). Rendering the chart for a range of the values is not really convenient, I'd like to have one PNG and scroll around and discuss it with my peers, rather than pre-generating a bunch of subgraphs.</p>

<p>Is this possible? I kind of expect to be so, but some help would be appreciated (I've recently started with R so am still finding my way around).</p>

<p>Thank you.</p>
","277434","","","","","2010-03-04 07:33:39","Create qplots (with ggplot2) larger than the window?","<r><ggplot2>","2","0","2","","","CC BY-SA 2.5","2376614","4452","4452","r","404559","3625322","3607736","",""
"2379701","1","2380501","","2010-03-04 13:49:43","","3","2030","<p>I've got some data (the output of a ddply function) that I want to present in an xtable for use somewhere else.</p>

<pre><code>calqc_table&lt;-structure(list(RUNID = c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L), ANALYTEINDEX = c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L), ID = structure(1:11, .Label = c(""Cal A"", ""Cal B"", ""Cal C"", 
""Cal D"", ""Cal E"", ""Cal F"", ""Cal G"", ""Cal H"", ""Cal High"", ""Cal Low"", 
""Cal Mid""), class = ""factor""), mean_conc = c(200.619459644855, 
158.264703128903, 102.469121407733, 50.3551544728544, 9.88296440865076, 
4.41727762501703, 2.53494715706024, 1.00602831741361, 199.065054555735, 
2.48063347296935, 50.1499780776199), sd_conc = c(2.3275711264554, 
NA, NA, NA, NA, NA, NA, 0.101636943231162, 0, 0, 0), nrow = c(3, 
1, 1, 1, 1, 1, 1, 3, 2, 2, 2)), .Names = c(""RUNID"", ""ANALYTEINDEX"", 
""ID"", ""mean_conc"", ""sd_conc"", ""nrow""), row.names = c(NA, -11L
), class = ""data.frame"")
calqc_xtable&lt;-xtable(calqc_table)
print(calqc_xtable,type=""html"")
</code></pre>

<p>which gives me the table in html format.  However, I want to Merge together the content of the RUNID and ANALYTEINDEX columns vertically where the values are the same.  Anyone know how to do that via xtable (or some other way ?)</p>
","74658","","","","","2010-03-04 15:36:03","Can you merge cells in an xtable in R","<r><xtable>","1","0","","","","CC BY-SA 2.5","2379701","4452","4452","r","404559","3625322","3607736","",""
"2381618","1","2382067","","2010-03-04 18:13:55","","6","3411","<p>I would like to plot means and standard errors as a horizontal barchart, and I want the mean sorted. </p>

<p>I've found the way to plot horizontal sorted barcharts using lattice, but I do not know how to add error marks. The following are my data and the R code I came up with.</p>

<pre><code>data &lt;- structure(c(0.67, 0.67, 0.76, 0.66, 0.71, 0.6, 0.52, 0.6, 0.71, 0.76, 
0.76, 0.71, 0.6, 0.61, 0.9, 0.5, 0.58, 0.84, 0.68, 0.88,
0.89, 0.96, 1, 0.95, 1, 1, 0.98, 0.78, 0.98, 1, 
1, 0.99, 1, 1, 0.95, 0.92, 1, 0.91, 1, 0.87, 
0.91, 0.72, 0.73, 0.55, 0.82, 0.87, 0.64, 0.75, 0.75, 1, 
0.81, 0.79, 1, 0.74, 0.57, 0.84, 1, 0.95, 0.78, 0.95), .Dim = c(20L, 3L), .Dimnames = list(
    c(""1"", ""2"", ""3"", ""4"", ""5"", ""6"", ""7"", ""8"", ""9"", ""10"", ""11"", 
    ""12"", ""13"", ""14"", ""15"", ""16"", ""17"", ""18"", ""19"", ""20""), c(""A"", 
    ""B"", ""C"")))

means &lt;- apply(data, 2, mean)

errors &lt;- apply(data, 2, sd)

plot.data &lt;- data.frame(colnames(data), means, errors)

colnames(plot.data) &lt;- c(""var"", ""mean"", ""error"")

library(""lattice"")
plot.new()

barchart(reorder(var, mean) ~ mean, plot.data, xlim = c(0, 1))
</code></pre>

<p>Is there any way to add error marks to this chart? If not, any suggestion on how to plot the chart I want in R?</p>

<p>Thank you in advance!</p>
","286496","","172261","","2010-03-04 19:28:41","2019-06-25 22:03:57","How to draw a chart with sorted horizontal error bars (sorted barcharts with error marks)?","<r><plot><lattice>","2","0","2","","","CC BY-SA 2.5","2381618","4452","4452","r","404559","3625322","3607736","",""
"2384517","1","2384621","","2010-03-05 04:10:08","","34","26759","<p>As part of a larger task performed in R run under windows, I would like to copy selected files between directories. Is it possible to give within R a command like <code>cp patha/filea*.csv pathb</code> (notice the wildcard, for extra spice)?</p>
","143813","","3576984","","2016-08-30 00:20:02","2018-12-04 11:54:21","using R to copy files","<r><file><copy>","2","0","12","","","CC BY-SA 3.0","2384517","4452","4452","r","404559","3625322","3607736","",""
"2386086","1","2386142","","2010-03-05 10:45:35","","3","1070","<p>I'm trying to read in a (tab separted) csv file in R. When I want to read the column including a <code>/</code>, I get an error. <p></p>

<pre><code>doSomething &lt;- function(dataset) {
     a &lt;- dataset$data_transfer.Jingle/TCP.total_size_kb
     ...
     }
</code></pre>

<p>The error says, that this object cannot be found. I've tried escaping with backslash but it did not work.</p>

<p>If anybody has got some idea, I'd really appreciate it!</p>
","162154","","162154","","2013-08-20 18:27:38","2013-08-20 18:27:38","How escape or sanatize slash using regex in R?","<r><escaping><backslash><slash>","2","0","0","","","CC BY-SA 3.0","2386086","4452","4452","r","404559","3625322","3607736","",""
"2388974","1","","","2010-03-05 18:18:35","","19","8254","<p>I am trying to write an R package that accesses some data via a REST API. The API, however, doesn't use http authentication, but rather relies on cookies to keep credentials with the session.</p>

<p>Essentially, I'd like to replace the following two lines from a bash script with two R functions: One to perform the login, and store the session cookie, and the second to GET the data.</p>

<pre><code>curl -X POST -c cookies.txt -d""username=xxx&amp;password=yyy"" http://api.my.url/login
curl         -b cookies.txt                               http://api.my.url/data
</code></pre>

<p>I'm clearly not understanding how RCurl works with curl options. My script as it stands has:</p>

<pre><code>library(RCurl)
curl &lt;- getCurlHandle()
curlSetOpt(cookiejar='cookies.txt', curl=curl)
postForm(""http://api.my.url/login"", username='xxx', password='yyy', curl=curl)
getURL('http://api.my.url/data"", curl=curl)
</code></pre>

<p>The final <code>getURL()</code> fails with a ""Not logged in."" message from the server, and after the <code>postForm()</code> no <code>cookies.txt</code> file exists.</p>
","136862","","","","","2013-03-16 15:45:21","How do I use cookies with RCurl?","<r><curl><rcurl>","2","0","16","","","CC BY-SA 2.5","2388974","4452","4452","r","404559","3625322","3607736","",""
"2390338","1","2390389","","2010-03-05 22:19:58","","2","2258","<p>The following script </p>

<pre><code>#!/usr/bin/Rscript --vanilla
x &lt;- c(4.5,6.4,7.2,6.7,8.8,7.8,9.6,7.0,5.9,6.8,5.7,5.2)
fertilizer&lt;- factor(c('A','A','A','A','B','B','B','B','C','C','C','C'))
crop &lt;- factor(c('I','II','III','IV','I','II','III','IV','I','II','III','IV'))
av &lt;- aov(x~fertilizer*crop)
summary(av)
</code></pre>

<p>yields</p>

<pre><code>                Df  Sum Sq Mean Sq
fertilizer       2 13.6800  6.8400
crop             3  2.8200  0.9400
fertilizer:crop  6  6.5800  1.0967
</code></pre>

<p>For other data, <code>aov</code> usually gives the F-statistic and associated p-value. What is wrong/special about this data that causes R to omit the juicy parts?</p>
","190597","","","","","2011-10-15 15:51:12","How can I get aov to show me the F-statistic and p-value?","<r><statistics>","1","0","","","","CC BY-SA 2.5","2390338","4452","4452","r","404559","3625322","3607736","",""
"2391364","1","2392951","","2010-03-06 04:31:47","","5","7174","<p>I'm trying to find a way to convert multiple lines of text into a
data frame.  I'm not sure if there's a way where you can use <code>read.delim()</code>
to read in multiple lines of text and create the following data frame
with something akin to <code>rehape()</code>?.</p>

<p>The data is structured as follows:</p>

<pre><code>A: 1
B: 2
C: 10
A: 34
B: 20
C: 6.7
A: 2
B: 78
C: 35
</code></pre>

<p>I'd like to convert this data to something that looks like the following data frame:</p>

<pre><code>A             B             C
1             2             10
34            20            6.7
2             78            35
</code></pre>

<p>Apologies if there is an obvious way to do this!</p>
","142477","","","","","2010-03-06 21:46:32","converting multiple lines of text into a data frame","<r><dataframe>","4","0","1","","","CC BY-SA 2.5","2391364","4452","4452","r","404559","3625322","3607736","",""
"2391739","1","2391752","","2010-03-06 07:34:24","","4","883","<p>How can I run a OSX terminal command from within R?</p>
","207258","","42346","","2010-03-06 07:39:34","2010-03-06 07:41:13","How can I run a OSX terminal command from within R?","<macos><r>","1","0","1","","","CC BY-SA 2.5","2391739","4452","4452","r","404559","3625322","3607736","",""
"2392017","1","2392026","","2010-03-06 09:30:49","","8","3246","<p>I process a lot of text/data that I exchange between Python, R, and sometimes Matlab.</p>

<p>My go-to is the flat text file, but also use SQLite occasionally to store the data and access from each program (not Matlab yet though). I don't use GROUPBY, AVG, etc. in SQL as much as I do these operations in R, so I don't necessarily require the database operations.</p>

<p>For such applications that requires exchanging data among programs to make use of available libraries in each language, is there a good rule of thumb on which data exchange format/method to use (even XML or NetCDF or HDF5)?</p>

<p>I know between Python -> R there is rpy or rpy2 but I was wondering about this question in a more general sense - I use many computers which all don't have rpy2 and also use a few other pieces of scientific analysis software that require access to the data at various times (the stages of processing and analysis are also separated).</p>
","143476","","20972","","2010-03-06 09:33:44","2010-03-06 10:19:04","SQLite or flat text file?","<python><sql><database><r><file-format>","2","0","5","","","CC BY-SA 2.5","2392017","4452","4452","r","404559","3625322","3607736","",""
"2392216","1","2392343","","2010-03-06 10:57:00","","16","8939","<p>I want to convert variables into factors using <code>apply()</code>:</p>

<pre><code>a &lt;- data.frame(x1 = rnorm(100),
                x2 = sample(c(""a"",""b""), 100, replace = T),
                x3 = factor(c(rep(""a"",50) , rep(""b"",50))))

a2 &lt;- apply(a, 2,as.factor)
apply(a2, 2,class)
</code></pre>

<p>results in:</p>

<pre><code>         x1          x2          x3 
""character"" ""character"" ""character"" 
</code></pre>

<p>I don't understand why this results in character vectors instead of factor vectors.</p>
","256662","","3621464","","2015-12-08 14:22:40","2018-05-02 22:51:38","Why does as.factor return a character when used inside apply?","<r><apply><r-factor>","1","0","11","","","CC BY-SA 3.0","2392216","4452","4452","r","404559","3625322","3607736","",""
"2392915","1","","","2010-03-06 15:11:13","","35","34908","<p>I am sorry if this question has been answered already. Also, this is my first time on stackoverflow. </p>

<p>I have a beginner R question concerning lists , data frames and <code>merge()</code> and/or <code>rbind()</code>. </p>

<p>I started with a Panel that looks like this </p>

<pre><code>COUNTRY YEAR VAR
A         1
A         2
B         1
B         2
</code></pre>

<p>For efficiency purposes, I created a list that consists of one data frame for each country and performed a variety of calculations on each individual <code>data.frame</code>. However, I cannot seem to combine the individual data frames into one large frame again. </p>

<p><code>rbind()</code> and <code>merge()</code> both tell me that only replacement of elements is allowed. </p>

<p>Could someone tell me what I am doing wrong/ and how to actually recombine the data frames?</p>

<p>Thank you</p>
","287778","","","user4275591","2014-12-08 09:48:31","2016-12-07 11:04:59","Recombining a list of Data.frames into a single data frame","<list><r><dataframe>","5","0","12","2017-04-05 19:24:17","","CC BY-SA 3.0","2392915","4452","4452","r","404559","3625322","3607736","",""
"2394902","1","4551018","","2010-03-07 02:08:09","","10","7364","<p>As usual, I got some SPSS file that I've imported into R with <code>spss.get</code> function from <code>Hmisc</code> package. I'm bothered with <code>labelled</code> class that <code>Hmisc::spss.get</code> adds to all variables in <code>data.frame</code>, hence want to remove it.</p>

<p><code>labelled</code> class gives me headaches when I try to run <code>ggplot</code> or even when I want to do some menial analysis! One solution would be to remove <code>labelled</code> class from each variable in <code>data.frame</code>. How can I do that? Is that possible at all? If not, what are my other options?</p>

<p>I really want to bypass reediting variables ""from scratch"" with <code>as.data.frame(lapply(x, as.numeric))</code> and <code>as.character</code> where applicable... And I certainly don't want to run SPSS and remove labels manually (don't like SPSS, nor care to install it)!</p>

<p>Thanks!</p>
","457898","","","","","2020-06-04 13:54:29","Remove variable labels attached with foreign/Hmisc SPSS import functions","<class><r><import><label><spss>","5","0","3","","","CC BY-SA 2.5","2394902","4452","4452","r","404559","3625322","3607736","",""
"2397097","1","","","2010-03-07 17:12:48","","21","20479","<p>I have an R function which produces 95% confidence ellipses for scatterplots. The output looks like this, having a default of 50 points for each ellipse (50 rows):</p>

<pre><code>           [,1]         [,2]
 [1,]  0.097733810  0.044957994
 [2,]  0.084433494  0.050337990
 [3,]  0.069746783  0.054891438
</code></pre>

<p>I would like to superimpose a number of such ellipses for each level of a factor called 'site' on a <code>ggplot2</code> scatterplot, produced from this command:</p>

<pre><code>&gt; plat1 &lt;- ggplot(mapping=aes(shape=site, size=geom), shape=factor(site)); plat1 + geom_point(aes(x=PC1.1,y=PC2.1))
</code></pre>

<p>This is run on a dataset, called <code>dflat</code> which looks like this:</p>

<pre><code>site      geom         PC1.1        PC2.1       PC3.1        PC1.2       PC2.2
1 Buhlen 1259.5649 -0.0387975838 -0.022889782  0.01355317  0.008705276  0.02441577
2 Buhlen  653.6607 -0.0009398704 -0.013076251  0.02898955 -0.001345149  0.03133990
</code></pre>

<p>The result is fine, but when I try to add the ellipse (let's say for this one site, called ""Buhlen""):</p>

<pre><code>&gt; plat1 + geom_point(aes(x=PC1.1,y=PC2.1)) + geom_path(data=subset(dflat, site=""Buhlen""),mapping=aes(x=ELLI(PC1.1,PC2.1)[,1],y=ELLI(PC1.1,PC2.1)[,2]))
</code></pre>

<p>I get an error message: <code>""Error in data.frame(x = c(0.0977338099339815, 0.0844334944904515, 0.0697467834016782,  : 
  arguments imply differing number of rows: 50, 211</code></p>

<p>I've managed to fix this in the past, but I cannot remember how. It seems that geom_path is relying on the same points rather than plotting new ones. Any help would be appreciated.</p>
","288281","","","","","2018-06-03 00:14:31","How can a data ellipse be superimposed on a ggplot2 scatterplot?","<r><ggplot2><ellipse><scatter-plot>","2","6","15","","","CC BY-SA 2.5","2397097","4452","4452","r","404559","3625322","3607736","",""
"2397349","1","2397721","","2010-03-07 18:25:07","","1","981","<p>When using R's <code>rpart</code> function, I can easily fit a model with it. for example:</p>

<pre><code># Classification Tree with rpart
library(rpart)

# grow tree 
fit &lt;- rpart(Kyphosis ~ Age + Number + Start,
     method=""class"", data=kyphosis)

printcp(fit) # display the results 
plotcp(fit) 
summary(fit) # detailed summary of splits

# plot tree 
plot(fit, uniform=TRUE, 
     main=""Classification Tree for Kyphosis"")
text(fit, use.n=TRUE, all=TRUE, cex=.8)
</code></pre>

<p>My question is - 
How can I measure the ""importance"" of each of my three explanatory variables (Age, Number, Start) to the model?</p>

<p>If this was a regression model, I could have looked at p-values from the ""anova"" F-test (between <code>lm</code> models with and without the variable). But what is the equivalence of using ""anova"" on <code>lm</code> to an <code>rpart</code> object?</p>

<p>(I hope I managed to make my question clear)</p>

<p>Thanks.</p>
","256662","","85950","","2013-10-24 23:27:36","2013-10-24 23:27:36","Is there an equivalence of ""anova"" (for lm) to an rpart object?","<r><tree><regression><rpart><cart-analysis>","1","0","","","","CC BY-SA 3.0","2397349","4452","4452","r","404559","3625322","3607736","",""
"2399027","1","2401961","","2010-03-08 02:52:30","","10","25467","<p>I have been struggling to load the rJava package in R. </p>

<p>I get the following messages</p>

<pre><code>&gt; library(rJava)
Error in inDL(x, as.logical(local), as.logical(now), ...) : 
  unable to load shared library \
     'C:/PROGRA~1/R/R-210~1.1/library/rJava/libs/rJava.dll':
  LoadLibrary failure:  The specified module could not be found.


Error : .onLoad failed in 'loadNamespace' for 'rJava'
Error: package/namespace load failed for 'rJava'
</code></pre>

<p>I have tried so many solutions that they are all bamboozeled in my head. 
At some point I even got </p>

<pre><code>&gt; R Console: Rgui.exe - System Error The
&gt; program can't start because
&gt; MSVCR71.dll is is missing from your
&gt; computer. Try reinstalling the program
&gt; to fix this problem.
</code></pre>

<p>I made sure everything I could think of was on the path</p>

<pre><code>&gt; C:\Program Files\R\Rtools\bin;C:\Program Files\R\Rtools\perl\bin;
  C:\Program Files\R\Rtools\MinGW\bin;%SystemRoot%\system32;
  %SystemRoot%;%SystemRoot%\System32\Wbem;
  %SYSTEMROOT%\System32\WindowsPowerShell\v1.0\;
  C:\Program Files\QuickTime\QTSystem\;
  C:\Program Files\R\R-2.10.1\library\rJava\libs\;
  C:\Program Files\R;C:\Program Files\Java\jre6\bin\client  
</code></pre>

<p>What should I try next?</p>

<p>I am running R version 2.10.1 (2009-12-14) and I have also tried R version 2.10.1 Patched (2010-03-03 r51210). It is on a Windows machine running windows 7 enterprise</p>
","168139","","143305","","2010-03-08 03:14:59","2013-06-13 01:52:48","Cannot load rJava because cannot load a shared library","<java><r><path>","6","3","4","","","CC BY-SA 2.5","2399027","4452","4452","r","404559","3625322","3607736","",""
"2402885","1","2403261","","2010-03-08 16:37:21","","1","3578","<p>I want an stacked barplot, or at least two barplots (histogramms) of the data below. But I cant't figure out how. plot(online) is not the solution, Im looking for. Please see below.</p>

<pre><code>          online              offline
1         sehrwichtig             wichtig
2             wichtig           unwichtig
3         sehrwichtig           unwichtig
4         sehrwichtig         sehrwichtig
5         sehrwichtig         sehrwichtig
6         sehrwichtig           unwichtig
7         sehrwichtig           unwichtig
8             wichtig             wichtig
9             wichtig           unwichtig
10        sehrwichtig         sehrwichtig
11        sehrwichtig             wichtig
12        sehrwichtig           unwichtig
13            wichtig         sehrwichtig
14        sehrwichtig             wichtig
</code></pre>

<p><strong>I know I need a step, where the data is aggregated to:</strong></p>

<pre><code>                   online        offline 
   sehrwichtig           6         7 
   unwichtig             0         1 
   wichtig               3         5 
</code></pre>

<p>But how?</p>
","193143","","5414452","","2016-01-20 19:10:07","2016-01-20 19:10:07","Barplot in R, aggregation of sampled data","<r><aggregate><bar-chart>","5","0","1","","","CC BY-SA 2.5","2402885","4452","4452","r","404559","3625322","3607736","",""
"2403466","1","2403674","","2010-03-08 17:59:45","","10","4655","<p>I'm trying to override the text in some ggplot strips to incorporate Greek characters.  Here's some sample data, and the base for the plot.</p>

<pre><code>dfr &lt;- data.frame(
   x = rep(1:10, times = 6),
   y = runif(60),
   fx = rep(c(""foo"", ""bar""), each = 30),
   fy = rep(c(""alpha"", ""beta"", ""gamma""), each = 10, times = 2)
)

p &lt;- ggplot(dfr, aes(x, y)) + geom_point()
</code></pre>

<p>My first attempt at a plot has no Greek in the strip labels.</p>

<pre><code> p + facet_grid(fy ~ fx)
</code></pre>

<p>I gather that I'm supposed to add a labeller argument to <code>facet_grid</code> to override the text.  I presumed that this should spit out an expression to handle the greek characters, but my code just throws an error when the graphic is printed.</p>

<pre><code>lbl &lt;- function(variable, value)
{
   if(variable == ""fy"") parse(text=as.character(value)) else value
}
p + facet_grid(fy ~ fx, labeller = lbl)


Error in aperm(X, c(s.call, s.ans)) : 
  unimplemented type 'expression' in 'aperm'
</code></pre>

<p>How should I be creating the strip labels?</p>
","134830","","","","","2012-01-19 16:38:49","Greek letters in ggplot strip text","<r><ggplot2>","2","0","3","","","CC BY-SA 2.5","2403466","4452","4452","r","404559","3625322","3607736","",""
"2404085","1","2404129","","2010-03-08 19:27:38","","16","16036","<p>I have a data frame where one particular column has a set of specific values (let's say, 1, 2, ..., 23). What I would like to do is to convert from this layout to the one, where the frame would have extra 23 (in this case) columns, each one representing one of the factor values. The data in these columns would be booleans indicating whether a particular row had a given factor value... To show a specific example:</p>

<p>Source frame:</p>

<pre><code>ID       DATE         SECTOR
123      2008-01-01   1
456      2008-01-01   3
789      2008-01-02   5
... &lt;more records with SECTOR values from 1 to 5&gt;
</code></pre>

<p>Desired format:</p>

<pre><code>ID       DATE         SECTOR.1   SECTOR.2   SECTOR.3   SECTOR.4   SECTOR.5
123      2008-01-01      T          F          F          F          F
456      2008-01-01      F          F          T          F          F
789      2008-01-02      F          F          F          F          T
</code></pre>

<p>I have no problem doing it in a loop but I hoped there would be a better way. So far <code>reshape()</code> didn't yield the desired result. Help would be much appreciated.</p>
","3514","","","","","2010-03-08 23:29:04","Reshape data frame to convert factors into columns in R","<r><reshape><factors>","2","0","11","","","CC BY-SA 2.5","2404085","4452","4452","r","404559","3625322","3607736","",""
"2405575","1","2406164","","2010-03-08 23:26:12","","10","10427","<p>I want to plot stacked histograms in R; i.e. stack individual histograms in the third dimension.</p>

<hr>

<p>thank you all for your suggestions, especially the one by Shane.</p>

<p>@hadley, I agree with your points, however, my situation is different: the main point I'm trying to convey by plotting four stacked histograms is that the tails vary significantly....the part that will get obscured is of no consequence in the data I'm presenting....also, being able to read the frequency axis is also not important since I'll be plotting the relative frequencies...</p>
","290765","","1288","","2011-10-07 14:46:05","2011-10-07 14:46:05","How does one plot a 3D stacked histogram in R?","<r><3d><histogram>","2","0","7","","","CC BY-SA 3.0","2405575","4452","4452","r","404559","3625322","3607736","",""
"2409317","1","2409795","","2010-03-09 13:31:41","","12","6187","<p>I am working with a data frame where one of the columns consists of <code>POSIXct</code> date-time values.  I am trying to plot a histogram of these timestamps using <code>ggplot2</code> but I'm having two issues:</p>

<ol>
<li><p>I don't know how to set the binwidth in <code>geom_histogram()</code>.  I'd like to set each bin to a day or a week.  I've tried providing a difftime object, but I get an error.  I also tried <code>binwidth=1</code> but R just hangs.</p></li>
<li><p>How do I set the limits in <code>scale_x_time()</code>?  The only way I could get it to work was by converting my <code>POSIXct</code> timestamps using <code>as.Date()</code>.</p></li>
</ol>
","289692","","1627235","","2014-01-22 19:44:48","2014-01-22 19:44:48","How to adjust time scale axis for ggplot histogram","<r><plot><ggplot2>","1","1","5","","","CC BY-SA 3.0","2409317","4452","4452","r","404559","3625322","3607736","",""
"2409357","1","2410216","","2010-03-09 13:38:56","","42","63274","<p>Using <code>ggplot2</code> I normally use <code>geom_text</code> and something like <code>position=jitter</code> to annotate my plots.</p>

<p>However - for a nice plot I often finds it worthwhile to annotate manually. like below:</p>

<pre><code>data2 &lt;- structure(list(type = structure(c(5L, 1L, 2L, 4L, 3L, 5L, 1L, 
2L, 4L, 3L, 5L, 1L, 2L, 4L, 3L, 5L, 1L, 2L, 4L, 3L), .Label = c(""EDS"", 
""KIU"", ""LAK"", ""MVH"", ""NA*""), class = ""factor""), value = c(0.9, 
0.01, 0.01, 0.09, 0, 0.8, 0.05, 0, 0.15, 0, 0.41, 0.04, 0.03, 
0.52, 0, 0.23, 0.11, 0.02, 0.64, 0.01), time = c(3L, 3L, 3L, 
3L, 3L, 6L, 6L, 6L, 6L, 6L, 15L, 15L, 15L, 15L, 15L, 27L, 27L, 
27L, 27L, 27L), year = c(2008L, 2008L, 2008L, 2008L, 2008L, 2007L, 
2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 
2006L, 2006L, 2006L, 2006L, 2006L)), .Names = c(""type"", ""value"", 
""time"", ""year""), row.names = c(1L, 3L, 4L, 5L, 6L, 7L, 9L, 10L, 
11L, 12L, 13L, 15L, 16L, 17L, 18L, 19L, 21L, 22L, 23L, 24L), class = ""data.frame"")
ggplot(data2, aes(x=time, y=value, group=type, col=type))+
geom_line()+
geom_point()+
theme_bw()+
annotate(""text"", x=6, y=0.9, label=""this is a wrong color"")+
annotate(""text"", x=15, y=0.6, label=""this is a second annotation with a wrong color"")
</code></pre>

<p>The problem is, that I can't get the text annotations color to match the line color. I assume I could fix this with a manual scale, but I hope there is a better way?</p>
","162832","","","user3710546","2016-01-15 03:13:57","2020-07-24 20:55:19","How to nicely annotate a ggplot2 (manual)","<r><ggplot2>","3","1","31","","","CC BY-SA 3.0","2409357","4452","4452","r","404559","3625322","3607736","",""
"2413163","1","2413328","","2010-03-09 22:41:00","","2","1157","<p>I started using Emacs (ESS) as a default R editor (yes, @Dirk, as you've said, I want ESS), and I must admit it's by far <b> the best</b> <code>R</code> editor I've been using so far. However, I cannot manage to get an output of <code>help()</code> function up to web browser. It keeps displaying help page in a separate R buffer, even if <code>options(help_type = ""html"", browser = ""firefox"")</code> are set.</p>

<p>How can I get help back to browser, while using Emacs/ESS?</p>
","457898","","457898","","2010-03-10 07:37:42","2013-03-13 11:28:16","Emacs - help() output in web-browser","<emacs><browser><r><ess>","1","3","","","","CC BY-SA 2.5","2413163","4452","4452","r","404559","3625322","3607736","",""
"2414915","1","2415028","","2010-03-10 06:21:50","","5","446","<p>I'd like to begin thinking about how I can scale up my algorithms that I write for data analysis so that they can be applied to arbitrarily large sets of data. I wonder what are the relevant concepts (threads, concurrency, immutable data structures, recursion) and tools (Hadoop/MapReduce, Terracota, and Eucalyptus) to make this happen, and how specifically these concepts and tools are related to each other. I have a rudimentary background in R, Python, and bash scripting and also C and Fortran programming, though I'm familiar with some basic functional programming concepts also. Do I need to change the way that I program, use a different language (Clojure, Haskell, etc.), or simply (or not so simply!) adapt something like R/Hadoop (HRIPE)... or write wrappers for Python to enable multi-threading or Hadoop access? I understand this would might involve requirements for additional hardware and I would like some basic idea of what the requirements/options available might be. My apologies for this rather large and yet vague question, but just trying to get started - thanks in advance!</p>
","143476","","","","","2010-03-10 06:49:57","Concepts and tools required to scale up algorithms","<python><multithreading><r><concurrency><hadoop>","2","0","4","","","CC BY-SA 2.5","2414915","4452","4452","r","404559","3625322","3607736","",""
"2415946","1","2418799","","2010-03-10 10:03:47","","9","1749","<p>What good resources are there for R idioms, in the same line as there are for Java and Python?</p>
","30911","","30911","","2010-03-10 16:45:38","2015-04-29 00:11:23","Common R idioms","<r>","7","1","12","2015-04-29 06:00:36","","CC BY-SA 2.5","2415946","4452","4452","r","404559","3625322","3607736","",""
"2417623","1","2417768","","2010-03-10 14:30:36","","11","5461","<p>JD Long helped me with this: <a href=""https://stackoverflow.com/questions/2409357/how-to-nicely-annotate-a-ggplot2-manual"">question about manual annotation</a>.</p>

<p>But is it possible to do something similar on a facetted plot, such that the label style corresponds to the linestyle (aestetics) and in a way that I can annotate different facets individually?</p>

<p>Some data: </p>

<pre><code>funny &lt;- structure(list(Institution = structure(c(1L, 1L, 1L, 1L, 2L, 
2L, 2L, 2L, 3L, 3L, 3L, 3L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 3L, 
3L, 3L, 3L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 1L, 
1L, 1L, 1L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L), .Label = c(""Q-branch"", 
""Some-Ville"", ""Spectre""), class = ""factor""), Type = structure(c(5L, 
6L, 1L, 3L, 5L, 6L, 2L, 4L, 5L, 6L, 2L, 4L, 5L, 6L, 2L, 4L, 5L, 
6L, 2L, 4L, 5L, 6L, 2L, 4L, 5L, 6L, 2L, 4L, 5L, 6L, 2L, 4L, 5L, 
6L, 2L, 4L, 5L, 6L, 2L, 4L, 5L, 6L, 2L, 4L, 5L, 6L, 2L, 4L), .Label = c(""Korte videregende uddannelser"", 
""Mammas beer"", ""Mellemlange videregende uddannelser"", ""Tastes good"", 
""Unknown"", ""Your""), class = ""factor""), r = c(2008L, 2008L, 
2008L, 2008L, 2008L, 2008L, 2008L, 2008L, 2008L, 2008L, 2008L, 
2008L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 
2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 
2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2007L, 2006L, 2006L, 
2006L, 2006L, 2006L, 2006L, 2006L, 2006L, 2006L, 2006L, 2006L, 
2006L), Mndr = c(3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
3L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 6L, 15L, 15L, 
15L, 15L, 15L, 15L, 15L, 15L, 15L, 15L, 15L, 15L, 27L, 27L, 27L, 
27L, 27L, 27L, 27L, 27L, 27L, 27L, 27L, 27L), Data = c(159L, 
NA, NA, 23L, 204L, NA, NA, 12L, 256L, NA, NA, 24L, 166L, 6L, 
NA, 43L, 228L, NA, NA, 20L, 196L, 11L, NA, 37L, 99L, 14L, 9L, 
96L, 147L, 7L, 5L, 91L, 100L, 10L, 7L, 126L, 60L, 17L, 6L, 106L, 
78L, 18L, 13L, 140L, 48L, 23L, 5L, 136L)), .Names = c(""Institution"", 
""Type"", ""r"", ""Mndr"", ""Data""), class = ""data.frame"", row.names = c(NA, 
-48L))
</code></pre>

<p>And a facetted plot:</p>

<pre><code>ggplot(funny, aes(Mndr, y=Data, group=Type, col=Type)) +
  geom_line() +
  facet_grid(.~Institution)
</code></pre>

<p>Thanks in advance for your help!</p>
","162832","","2270475","","2017-09-28 16:14:29","2017-09-28 16:14:29","Manual annotate a ggplot with different labels, in different facets","<r><ggplot2>","1","3","8","","","CC BY-SA 3.0","2417623","4452","4452","r","404559","3625322","3607736","",""
"2427279","1","2430551","","2010-03-11 17:41:29","","7","780","<p>I'd like to write an R function that accepts a formula as its first argument, similar to lm() or glm() and friends.  In this case, it's a function that takes a data frame and writes out a file in <a href=""http://svmlight.joachims.org/"" rel=""nofollow noreferrer"">SVMLight</a> format, which has this general form:</p>

<pre><code>&lt;line&gt; .=. &lt;target&gt; &lt;feature&gt;:&lt;value&gt; &lt;feature&gt;:&lt;value&gt; ... &lt;feature&gt;:&lt;value&gt; # &lt;info&gt;
&lt;target&gt; .=. +1 | -1 | 0 | &lt;float&gt; 
&lt;feature&gt; .=. &lt;integer&gt; | ""qid""
&lt;value&gt; .=. &lt;float&gt;
&lt;info&gt; .=. &lt;string&gt;
</code></pre>

<p>for example, the following data frame:</p>

<pre><code>  result qid     f1     f2     f3     f4   f5     f6     f7     f8
1     -1   1 0.0000 0.1253 0.0000 0.1017 0.00 0.0000 0.0000 0.9999
2     -1   1 0.0098 0.0000 0.0000 0.0000 0.00 0.0316 0.0000 0.3661
3      1   1 0.0000 0.0000 0.1941 0.0000 0.00 0.0000 0.0509 0.0000
4     -1   2 0.0000 0.2863 0.0948 0.0000 0.34 0.0000 0.7428 0.0608
5      1   2 0.0000 0.0000 0.0000 0.4347 0.00 0.0000 0.9539 0.0000
6      1   2 0.0000 0.7282 0.9087 0.0000 0.00 0.0000 0.0000 0.0355
</code></pre>

<p>would be represented as follows:</p>

<pre><code>-1 qid:1 2:0.1253 4:0.1017 8:0.9999
-1 qid:1 1:0.0098 6:0.0316 8:0.3661
1  qid:1 3:0.1941 7:0.0509
-1 qid:2 2:0.2863 3:0.0948 5:0.3400 7:0.7428 8:0.0608
1  qid:2 4:0.4347 7:0.9539
1  qid:2 2:0.7282 3:0.9087 8:0.0355
</code></pre>

<p>The function I'd like to write would be called something like this:</p>

<pre><code>write.svmlight(result ~ f1+f2+f3+f4+f5+f6+f7+f8 | qid, data=mydata, file=""out.txt"")
</code></pre>

<p>Or even</p>

<pre><code>write.svmlight(result ~ . | qid, data=mydata, file=""out.txt"")
</code></pre>

<p>But I can't figure out how to use <code>model.matrix()</code> and/or <code>model.frame()</code> to know what columns it's supposed to write.  Are these the right things to be looking at?</p>

<p>Any help much appreciated!</p>
","169947","","","","","2012-06-03 23:27:10","Extract information from conditional formula","<r><formula>","2","0","3","","","CC BY-SA 2.5","2427279","4452","4452","r","404559","3625322","3607736","",""
"2427742","1","2436738","","2010-03-11 18:47:40","","8","3256","<p>From the <a href=""http://docs.ggplot2.org/0.9.2.1/geom_bar.html"" rel=""nofollow noreferrer"">online bar chart guide</a>:</p>

<pre><code>qplot(factor(cyl), data=mtcars, geom=""bar"", fill=factor(gear)) 
</code></pre>

<p><a href=""https://i.stack.imgur.com/T9H6N.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/T9H6N.png"" alt=""barplot using &lt;code&gt;qplot&lt;/code&gt; feature of &lt;code&gt;ggplot2&lt;/code&gt;""></a></p>

<p>How do I get 5 to sit on the bottom, 4 above that, and 3 on top?</p>
","264696","","1840471","","2016-07-18 00:13:15","2016-07-18 00:13:15","How do I change the stacking order in a bar chart in ggplot2?","<r><ggplot2>","3","2","5","","","CC BY-SA 3.0","2427742","4452","4452","r","404559","3625322","3607736","",""
"2434833","1","2437259","","2010-03-12 18:15:44","","8","5363","<p>How can I build a function </p>

<pre><code>slice(x, n) 
</code></pre>

<p>which would return a list of vectors where each vector except maybe the last has size n, i.e.</p>

<pre><code>slice(letters, 10)
</code></pre>

<p>would return</p>

<pre><code>list(c(""a"", ""b"", ""c"", ""d"", ""e"", ""f"", ""g"", ""h"", ""i"", ""j""),
     c(""k"", ""l"", ""m"", ""n"", ""o"", ""p"", ""q"", ""r"", ""s"", ""t""),
     c(""u"", ""v"", ""w"", ""x"", ""y"", ""z""))
</code></pre>

<p>?</p>
","216064","","","","","2010-03-13 04:25:32","How can I partition a vector?","<r><vector>","2","0","4","","","CC BY-SA 2.5","2434833","4452","4452","r","404559","3625322","3607736","",""
"2436129","1","","","2010-03-12 21:49:03","","1","266","<p>I have the following problem.  </p>

<p>First my environment, I have two 24-CPU servers to work with and one big job (resampling a large dataset) to share among them.  I've setup multicore and (a socket) Snow cluster on each. As a high-level interface I'm using foreach.</p>

<p>What is the optimal sharing of the job? Should I setup a Snow cluster using CPUs from both machines and split the job that way (i.e. use doSNOW for the foreach loop). Or should I use the two servers separately and use multicore on each server (i.e. split the job in two chunks, run them on each server and then stich it back together). </p>

<p>Basically what is an easy way to:
 1. Keep communication between servers down (since this is probably the slowest bit).
 2. Ensure that the random numbers generated in the servers are not highly correlated.</p>
","160794","","168747","","2010-03-13 22:19:33","2010-06-23 19:01:17","Optimal Sharing of heavy computation job using Snow and/or multicore","<optimization><r><parallel-processing>","2","0","0","","","CC BY-SA 2.5","2436129","4452","4452","r","404559","3625322","3607736","",""
"2436502","1","2440346","","2010-03-12 23:15:30","","1","7018","<p>Is it possible, in the <code>expr</code> expression of the <code>with()</code> function, to access the <code>data</code> argument directly?  Here's what I mean conceptually:</p>

<pre><code>&gt; print(df)
  result qid     f1     f2     f3
1     -1   1 0.0000 0.1253 0.0000
2     -1   1 0.0098 0.0000 0.0000
3      1   1 0.0000 0.0000 0.1941
4     -1   2 0.0000 0.2863 0.0948
5      1   2 0.0000 0.0000 0.0000
6      1   2 0.0000 0.7282 0.9087
&gt; with(df, subset(.data, select=f1:f3))  # Doesn't work
</code></pre>

<p>Of course the above example is kind of silly, but it would be handy for things like this:</p>

<pre><code>with(subset(df, f2&gt;0), foo(qid, vars=subset(.data, select=f1:f3)))
</code></pre>

<p>I tried to poke around with <code>environment()</code> and <code>parent.frame()</code> etc., but didn't come up with anything that worked.</p>

<p>Maybe this is really a question about <code>eval()</code>, since that's how <code>with.default()</code> is implemented.</p>
","169947","","5414452","","2016-01-20 19:21:46","2016-01-20 19:21:46","Accessing 'data' argument of with() function?","<r><dataframe>","2","0","2","","","CC BY-SA 2.5","2436502","4452","4452","r","404559","3625322","3607736","",""
"2436688","1","2436960","","2010-03-13 00:14:09","","248","304666","<p>If I have some R list <code>mylist</code>, you can append an item <code>obj</code> to it like so:</p>

<pre><code>mylist[[length(mylist)+1]] &lt;- obj
</code></pre>

<p>But surely there is some more compact way.  When I was new at R, I  tried writing <code>lappend()</code> like so:</p>

<pre><code>lappend &lt;- function(lst, obj) {
    lst[[length(lst)+1]] &lt;- obj
    return(lst)
}
</code></pre>

<p>but of course that doesn't work due to R's call-by-name semantics (<code>lst</code> is effectively copied upon call, so changes to <code>lst</code> are not visible outside the scope of <code>lappend()</code>.  I know you can do environment hacking in an R function to reach outside the scope of your function and mutate the calling environment, but that seems like a large hammer to write a simple append function.</p>

<p>Can anyone suggest a more beautiful way of doing this? Bonus points if it works for both vectors and lists.</p>
","5222","","202229","","2016-04-28 18:22:43","2018-11-26 11:23:48","Append an object to a list in R in amortized constant time, O(1)?","<r><performance><list><append><big-o>","17","8","73","","","CC BY-SA 3.0","2436688","4452","4452","r","404559","3625322","3607736","",""
"2436735","1","2437576","","2010-03-13 00:30:55","","3","555","<p>I accidentally managed to get colour names, #HEX, and a colour preview in Emacs. Don't have a bloody idea how, must've pressed some keybinding or menu item... But, now I can't seem to find where's that feature... I'm quite sure I wasn't hallucinating, so it's gotta be there, under some keystroke that I can't reproduce!!! =)</p>
","457898","","164901","","2010-04-04 18:19:36","2010-04-04 18:19:36","Preview colours in Emacs-ESS","<emacs><r><colors><preview>","2","0","2","","","CC BY-SA 2.5","2436735","4452","4452","r","404559","3625322","3607736","",""
"2437312","1","2437619","","2010-03-13 04:56:43","","2","2696","<p>I'm working on visualizing a matrix in R (almost exactly like <a href=""http://reference.wolfram.com/mathematica/ref/MatrixPlot.html"" rel=""nofollow noreferrer"">http://reference.wolfram.com/mathematica/ref/MatrixPlot.html</a>), and I've been using </p>

<pre><code>image(&lt;matrix&gt;,axes=FALSE) 
</code></pre>

<p>to draw the picture. However, I noticed that with the y-axis turned off, the plot isn't centered--the space is still there for the axis ticks + label. I can finagle some centering with </p>

<pre><code>par(oma=c(0,0,0,2.5))
</code></pre>

<p>but this seems inefficient and error-prone (if my matrix were to change dimensions/become non-square). Is there a better way to force the graphic to center?
<a href=""http://img694.imageshack.us/img694/9891/metropolis.png"" rel=""nofollow noreferrer"">Reference image http://img694.imageshack.us/img694/9891/metropolis.png</a></p>

<p>The right hand margin is significantly smaller than the left.</p>
","209536","","209536","","2010-03-13 20:05:25","2010-03-13 20:05:25","How to center an R plot after removing axis labels","<r><margin>","1","1","1","","","CC BY-SA 2.5","2437312","4452","4452","r","404559","3625322","3607736","",""
"2438486","1","2438745","","2010-03-13 13:23:25","","2","2581","<p>I'm looking for some LaTeX template for creating quality output. On R-bloggers I've bumped on Frank Harrel's Rreport package. Due to my quite modest LaTeX abilities, only a user-friendly (and noob-friendly) interface should suffice. Here's a <a href=""http://biostat.mc.vanderbilt.edu/wiki/Main/Rreport"" rel=""nofollow noreferrer"">link</a> to an official website. I'm following the instructions, but I cannot manage to install an app. I use Ubuntu 9.10, R version is 2.10.1 (updated regularly from UCLA's CRAN server), and of course, cvs is installed on my system.</p>

<p>Now, I'd like to know if there is some user-friendly LaTeX template package (Sweave is still to advanced/spartan for me). I'm aware that my question is quite confounding, but a brief glance on examples on Rreport page should give you a hint. I'm aware that LaTeX skills are a must, but just for now I need something that will suit my needs (as a psychological researcher).</p>

<p>Is there any package similar with Rreport?</p>
","457898","","457898","","2010-03-13 20:19:47","2010-03-14 10:33:24","Rreport/LaTeX quality output package","<r><latex><sweave>","3","4","1","","","CC BY-SA 2.5","2438486","4452","4452","r","404559","3625322","3607736","",""
"2441136","1","2441931","","2010-03-14 04:04:24","","5","2567","<p>From a data frame with timestamped rows (strptime results), what is the best method for aggregating statistics for intervals?  </p>

<p>Intervals could be an hour, a day, etc. </p>

<p>There's the <code>aggregate</code> function, but that doesn't help with assigning each row to an interval.  I'm planning on adding a column to the data frame that denotes interval and using that with <code>aggregate</code>, but if there's a better solution it'd be great to hear it.</p>

<p>Thanks for any pointers!</p>

<hr>

<p><strong><em>Example Data</em></strong></p>

<p>Five rows with timestamps divided into 15-minute intervals starting at 03:00.</p>

<p><strong>Interval 1</strong></p>

<ul>
<li>""2010-01-13 03:02:38 UTC"" </li>
<li>""2010-01-13 03:08:14 UTC"" </li>
<li>""2010-01-13 03:14:52 UTC""</li>
</ul>

<p><strong>Interval 2</strong></p>

<ul>
<li>""2010-01-13 03:20:42 UTC""</li>
<li>""2010-01-13 03:22:19 UTC""</li>
</ul>

<hr>

<p><strong><em>Conclusion</em></strong></p>

<p>Using a time series package such as <code>xts</code> should be the solution; however I had no success using them and winded up using <code>cut</code>.  As I presently only need to plot histograms, with rows grouped by interval, this was enough.</p>

<p><code>cut</code> is used liked so:</p>

<pre><code>interv &lt;- function(x, start, period, num.intervals) {
  return(cut(x, as.POSIXlt(start)+0:num.intervals*period))
}
</code></pre>
","43729","","271616","","2013-03-16 15:18:08","2013-03-16 15:18:08","What is an efficient method for partitioning and aggregating intervals from timestamped rows in a data frame?","<r><xts>","3","1","5","","","CC BY-SA 2.5","2441136","4452","4452","r","404559","3625322","3607736","",""
"2441562","1","2441650","","2010-03-14 08:06:26","","4","2785","<p>I am going through one of my .R files and by cleaning it up a little bit I am trying to get more familiar with writing the code the r-ight way. As a beginner, one of my favorite starting points is to get rid of the <code>for()</code> loops and try to transform the expression into a functional programming form.
So here is the scenario:</p>

<p>I am assembling a bunch of <code>data.frames</code> into a <code>list</code> for later usage. </p>

<pre><code>dataList &lt;- list (dataA,
                  dataB,
                  dataC,
                  dataD,
                  dataE
                  )
</code></pre>

<p>Now I like to take a look at each data.frame's column names and substitute certain character strings. Eg I like to substitute each ""foo"" and ""bar"" with ""baz"". At the moment I am getting the job done with a <code>for()</code> loop which looks a bit awkward.</p>

<pre><code>colnames(dataList[[1]])
[1] ""foo""        ""code"" ""lp15""       ""bar""       ""lh15""  
colnames(dataList[[2]])
[1] ""a""        ""code"" ""lp50""       ""ls50""       ""foo""  

matchVec &lt;- c(""foo"", ""bar"")
for (i in seq(dataList)) {
  for (j in seq(matchVec)) {
    colnames (dataList[[i]])[grep(pattern=matchVec[j], x=colnames (dataList[[i]]))] &lt;- c(""baz"")
  }
}
</code></pre>

<p>Since I am working here with a <code>list</code> I thought about the <code>lapply</code> function. My attempts handling the job with the <code>lapply</code> function all seem to look alright but only at first sight. If I write</p>

<pre><code>f &lt;- function(i, xList) {
  gsub(pattern=c(""foo""), replacement=c(""baz""), x=colnames(xList[[i]]))
}
lapply(seq(dataList), f, xList=dataList)
</code></pre>

<p>the last line prints out almost what I am looking for. However, if i take another look at the actual names of the data.frames in dataList:</p>

<pre><code>lapply (dataList, colnames)
</code></pre>

<p>I see that no changes have been made to the initial character strings.</p>

<p>So how can I rewrite the <code>for()</code> loop and transform it into a functional programming form?
And how do I substitute both strings, ""foo"" and ""bar"", in an efficient way? Since the <code>gsub()</code> function takes as its <code>pattern</code> argument only a character vector of length one.</p>
","258334","","","","","2010-03-14 08:59:25","Coding the R-ight way - avoiding the for loop","<r><loops>","1","0","6","","","CC BY-SA 2.5","2441562","4452","4452","r","404559","3625322","3607736","",""
"2443095","1","2448285","","2010-03-14 17:53:25","","1","151","<p>I noticed a strange malfunction in using <code>findFn</code> function (library <code>sos</code>) and I can't find out the source. While it works fine on my Windows XP pc, it does not on my Vista one.</p>

<pre><code>library (sos)

findFn(""randomization test"")
# in both finds 72 results

findFn(""{randomization test}"")
# In XP finds 19 or about so, but in Vista whenever I use {} and more than one word inside, 
# I keep getting the following:

found 0 matches
x has zero rows;  nothing to display.
Warning message:
In findFn(""{randomization test}"") :
  HIT not found in HTML;  processing one page only.
</code></pre>

<p>R ver = 2.10.1 and packages updated.
Any ideas where the problem might be?</p>

<p>Bonus: As it's obvious, I was looking for functions about <code>tests for randomized experiments</code>  </p>
","170792","","","","","2010-03-15 15:36:24","Strange findFn malfunction","<r>","1","6","","","","CC BY-SA 2.5","2443095","4452","4452","r","404559","3625322","3607736","",""
"2443127","1","2444771","","2010-03-14 18:03:23","","10","10398","<p>I have a (somewhat complex) web scraping challenge that I wish to accomplish and would love for some direction (to whatever level you feel like sharing) here goes:</p>

<p>I would like to go through all the ""species pages"" present in this link:</p>

<p><a href=""http://gtrnadb.ucsc.edu/"" rel=""nofollow noreferrer"">http://gtrnadb.ucsc.edu/</a></p>

<p>So for each of them I will go to:</p>

<ol>
<li>The species page link (for example: <a href=""http://gtrnadb.ucsc.edu/Aero_pern/"" rel=""nofollow noreferrer"">http://gtrnadb.ucsc.edu/Aero_pern/</a>)</li>
<li>And then to the ""Secondary Structures"" page link (for example: <a href=""http://gtrnadb.ucsc.edu/Aero_pern/Aero_pern-structs.html"" rel=""nofollow noreferrer"">http://gtrnadb.ucsc.edu/Aero_pern/Aero_pern-structs.html</a>)</li>
</ol>

<p>Inside that link I wish to scrap the data in the page so that I will have a long list containing this data (for example):</p>

<pre><code>chr.trna3 (1-77)    Length: 77 bp
Type: Ala   Anticodon: CGC at 35-37 (35-37) Score: 93.45
Seq: GGGCCGGTAGCTCAGCCtGGAAGAGCGCCGCCCTCGCACGGCGGAGGcCCCGGGTTCAAATCCCGGCCGGTCCACCA
Str: &gt;&gt;&gt;&gt;&gt;&gt;&gt;..&gt;&gt;&gt;&gt;.........&lt;&lt;&lt;&lt;.&gt;&gt;&gt;&gt;&gt;.......&lt;&lt;&lt;&lt;&lt;.....&gt;&gt;&gt;&gt;&gt;.......&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;....
</code></pre>

<p>Where each line will have it's own list (inside the list for each ""trna"" inside the list for each animal)</p>

<p>I remember coming across the packages Rcurl and XML (in R) that can allow for such a task.  But I don't know how to use them.  So what I would love to have is:
1. Some suggestion on how to build such a code.
2. And recommendation for how to learn the knowledge needed for performing such a task.</p>

<p>Thanks for any help,</p>

<p>Tal</p>
","256662","","131433","","2012-10-22 21:05:37","2012-10-22 21:05:37","How can I use R (Rcurl/XML packages ?!) to scrape this webpage?","<r><web-scraping>","3","2","18","","","CC BY-SA 3.0","2443127","4452","4452","r","404559","3625322","3607736","",""
"2443556","1","","","2010-03-14 20:03:38","","-2","6684","<p>How do I specify random factors in R ? </p>

<p>If I have a factor <code>x1</code>  which is supposed to be random , can I try something like this ? </p>

<pre><code>lm(y ~ x1, data = p)
</code></pre>
","293548","","5414452","","2016-01-20 19:53:00","2016-01-20 19:53:00","How do I specify random factors in R?","<r><nlme><random-effects>","3","3","1","","","CC BY-SA 3.0","2443556","4452","4452","r","404559","3625322","3607736","",""
"2444686","1","","","2010-03-15 02:08:44","","2","1762","<p>Im trying to run a model with a response variable p and  3 fixed factors to get ANOVA. this is how my code looks like : </p>

<pre><code>#run it as 3 fixed factor model 
p1=c(37,38,37,41,41,40,41,42,41)
p2=c(42,41,43,42,42,42,43,42,43)
p3=c(30,31,31,31,31,31,29,30,28)
p4=c(42,43,42,43,43,43,42,42,42)
p5=c(28,30,29,29,30,29,31,29,29)
p6=c(42,42,43,45,45,45,44,46,45)
p7=c(25,26,27,28,28,30,29,27,27)
p8=c(40,40,40,43,42,42,43,43,41)
p9=c(37,38,37,41,41,40,41,42,41)
p10=c(35,34,34,35,35,34,35,34,35)
p = cbind(p1,p2,p3,p4,p5,p6,p7,p8,p9,p10)
partnumber=c(rep(1,9),rep(2,9),rep(3,9),rep(4,9),rep(5,9),rep(6,9),rep(7,9),rep(8,9),rep(9,9),rep(10,9))
test=c(rep(c(rep(1:3,3)),10))
inspector = rep(c(rep(1,3),rep(2,3),rep(3,3)),10)
fpartnumber = factor(partnumber)
ftest = factor(test)
finspector = factor(inspector)
model=lm(p~fpartnumber*ftest*finspector)
summary(model)
anova(model)
</code></pre>

<p>but when I run it I get this error : it says my variable length for fpartnumber is different , but when I checked the length of each variable and is 90. What is going on ?</p>

<blockquote>
  <p>model=lm(y~fpartnumber<em>ftest</em>finspector)
      Error in model.frame.default(formula = yang ~ fpartnumber * ftest * finspector,  : 
      variable lengths differ (found for 'fpartnumber')</p>
</blockquote>
","293548","","","","","2012-06-03 17:48:42","ANOVA with 3 fixed factors in R","<r><anova>","1","0","","","","CC BY-SA 2.5","2444686","4452","4452","r","404559","3625322","3607736","",""
"2444973","1","2445058","","2010-03-15 03:45:42","","4","3651","<p>I have a couple of questions regarding facetting in ggplot2...</p>

<p>Let's say I have a query that returns data that looks like this:</p>

<p>(note that it's ordered by Rank asc, Alarm asc and two Alarms have a Rank of 3 because their Totals = 1798 for Week 4, and Rank is set according to Total for Week 4)</p>

<pre><code>   Rank Week                      Alarm Total
      1    1      BELTWEIGHER HIGH HIGH  1000
      1    2      BELTWEIGHER HIGH HIGH  1050
      1    3      BELTWEIGHER HIGH HIGH   900
      1    4      BELTWEIGHER HIGH HIGH  1800
      2    1              MICROWAVE LHS   200
      2    2              MICROWAVE LHS  1200
      2    3              MICROWAVE LHS   400
      2    4              MICROWAVE LHS  1799
      3    1  HI PRESS FILTER 2 CLOG SW  1250
      3    2  HI PRESS FILTER 2 CLOG SW  1640
      3    3  HI PRESS FILTER 2 CLOG SW  1000
      3    4  HI PRESS FILTER 2 CLOG SW  1798
      3    1 LOW PRESS FILTER 2 CLOG SW   800
      3    2 LOW PRESS FILTER 2 CLOG SW  1200
      3    3 LOW PRESS FILTER 2 CLOG SW   800
      3    4 LOW PRESS FILTER 2 CLOG SW  1798
</code></pre>

<p>(duplication code below)</p>

<pre><code>Rank = c(rep(1,4),rep(2,4),rep(3,8))
Week = c(rep(1:4,4))
Total = c(  1000,1050,900,1800,
        200,1200,400,1799,
        1250,1640,1000,1798,
        800,1200,800,1798) 
Alarm = c(rep(""BELTWEIGHER HIGH HIGH"",4),  
        rep(""MICROWAVE LHS"",4), 
        rep(""HI PRESS FILTER 2 CLOG SW"",4), 
        rep(""LOW PRESS FILTER 2 CLOG SW"",4)) 
spark &lt;- data.frame(Rank, Week, Alarm, Total) 
</code></pre>

<p>Now when I do this...</p>

<pre><code>s &lt;- ggplot(spark, aes(Week, Total)) +          
     opts( 
        panel.background = theme_rect(size = 1, colour = ""lightgray""), 
        panel.grid.major = theme_blank(), 
        panel.grid.minor = theme_blank(), 
        axis.line = theme_blank(), 
        axis.text.x = theme_blank(), 
        axis.text.y = theme_blank(), 
        axis.title.x = theme_blank(), 
        axis.title.y = theme_blank(),  
        axis.ticks = theme_blank(), 
        strip.background = theme_blank(), 
        strip.text.y = theme_text(size = 7, colour = ""red"", angle = 0) 
    ) 

s + facet_grid(Alarm ~ .) + geom_line() 
</code></pre>

<p>I get this....</p>

<p><a href=""http://img101.imageshack.us/img101/9103/ss20100315112108.png"" rel=""nofollow noreferrer"">alt text http://img101.imageshack.us/img101/9103/ss20100315112108.png</a></p>

<p>Notice that it's facetted according to Alarm and that the facets are arranged alphabetically. </p>

<p>Two Questions:</p>

<ol>
<li>How can I can I keep it facetted by alarm but displayed in the correct order? (Rank asc, Alarm asc).</li>
</ol>

<p><a href=""http://img17.imageshack.us/img17/6986/ss20100315113243.png"" rel=""nofollow noreferrer"">alt text http://img17.imageshack.us/img17/6986/ss20100315113243.png</a></p>

<ol start=""2"">
<li>Also, how can I keep it facetted by Alarm but show labels from Rank instead of Alarm?</li>
</ol>

<p><a href=""http://img85.imageshack.us/img85/470/ss20100315113529.png"" rel=""nofollow noreferrer"">alt text http://img85.imageshack.us/img85/470/ss20100315113529.png</a></p>

<p>Note that I can't just facet on Rank because ggplot2 would see only 3 facets to plot where there are really 4 different Alarms.</p>
","246211","","1315767","","2014-01-01 17:55:50","2014-01-01 17:55:50","Arrange facet_grid by non-facet column (and labels using non-facet column)","<r><ggplot2><facet>","1","1","1","","","CC BY-SA 3.0","2444973","4452","4452","r","404559","3625322","3607736","",""
"2447454","1","2447474","","2010-03-15 13:35:44","","29","16127","<p>The following code is supposed to create a heatmap in rpy2</p>

<pre><code>import numpy as np
from rpy2.robjects import r
data = np.random.random((10,10))
r.heatmap(data)    
</code></pre>

<p>However, it results in the following error</p>

<pre><code>Traceback (most recent call last):
  File ""z.py"", line 8, in &lt;module&gt;
    labRow=rowNames, labCol=colNames)
  File ""C:\Python25\lib\site-packages\rpy2\robjects\__init__.py"", line 418, in __call__
    new_args = [conversion.py2ri(a) for a in args]
  File ""C:\Python25\lib\site-packages\rpy2\robjects\__init__.py"", line 93, in default_py2ri
    raise(ValueError(""Nothing can be done for the type %s at the moment."" %(type(o))))
ValueError: Nothing can be done for the type &lt;type 'numpy.ndarray'&gt; at the moment.
</code></pre>

<p>From the documentation I learn that r.heatmap expects ""a numeric matrix"". How do I convert np.array to the required data type?</p>
","17523","","17523","","2012-06-04 19:10:54","2020-04-24 09:10:58","Converting python objects for rpy2","<python><r><rpy2>","3","0","16","","","CC BY-SA 3.0","2447454","4452","4452","r","404559","3625322","3607736","",""
"2449083","1","2449441","","2010-03-15 17:22:34","","13","10106","<p>I'm looking for a faster way to calculate GC content for DNA strings read in from a FASTA file. This boils down to taking a string and counting the number of times that the letter 'G' or 'C' appears. I also want to specify the range of characters to consider.  </p>

<p>I have a working function that is fairly slow, and it's causing a bottleneck in my code. It looks like this:</p>

<pre><code>##
## count the number of GCs in the characters between start and stop
##
gcCount &lt;-  function(line, st, sp){
  chars = strsplit(as.character(line),"""")[[1]]
  numGC = 0
  for(j in st:sp){
    ##nested ifs faster than an OR (|) construction
    if(chars[[j]] == ""g""){
      numGC &lt;- numGC + 1
    }else if(chars[[j]] == ""G""){
      numGC &lt;- numGC + 1
    }else if(chars[[j]] == ""c""){
      numGC &lt;- numGC + 1
    }else if(chars[[j]] == ""C""){
      numGC &lt;- numGC + 1
    }
  }
  return(numGC)
}
</code></pre>

<p>Running Rprof gives me the following output:</p>

<pre><code>&gt; a = ""GCCCAAAATTTTCCGGatttaagcagacataaattcgagg""
&gt; Rprof(filename=""Rprof.out"")
&gt; for(i in 1:500000){gcCount(a,1,40)};
&gt; Rprof(NULL)
&gt; summaryRprof(filename=""Rprof.out"")

                   self.time self.pct total.time total.pct
""gcCount""          77.36     76.8     100.74     100.0
""==""               18.30     18.2      18.30      18.2
""strsplit""          3.58      3.6       3.64       3.6
""+""                 1.14      1.1       1.14       1.1
"":""                 0.30      0.3       0.30       0.3
""as.logical""        0.04      0.0       0.04       0.0
""as.character""      0.02      0.0       0.02       0.0

$by.total
               total.time total.pct self.time self.pct
""gcCount""          100.74     100.0     77.36     76.8
""==""                18.30      18.2     18.30     18.2
""strsplit""           3.64       3.6      3.58      3.6
""+""                  1.14       1.1      1.14      1.1
"":""                  0.30       0.3      0.30      0.3
""as.logical""         0.04       0.0      0.04      0.0
""as.character""       0.02       0.0      0.02      0.0

$sampling.time
[1] 100.74
</code></pre>

<p>Any advice for making this code faster?</p>
","152159","","","","","2017-10-16 20:01:47","Faster way to split a string and count characters using R?","<optimization><string><r><bioinformatics>","6","1","9","","","CC BY-SA 2.5","2449083","4452","4452","r","404559","3625322","3607736","",""
"2449226","1","55607862","","2010-03-15 17:46:41","","1","1557","<p>Here is a simple randomized experiment. </p>

<p>In the following code I calculate the p-value under the null hypothesis that two different fertilizers applied to tomato plants have no effect in plants yields.
The first random sample (x) comes from plants where a standard fertilizer has been used, while an ""improved"" one has been used in the plants where the second sample (y) comes from.</p>

<pre><code>x &lt;- c(11.4,25.3,29.9,16.5,21.1)
y &lt;- c(23.7,26.6,28.5,14.2,17.9,24.3)
total &lt;- c(x,y)
first &lt;- combn(total,length(x))
second &lt;- apply(first,2,function(z) total[is.na(pmatch(total,z))])
dif.treat &lt;- apply(second,2,mean) - apply(first,2,mean)
# the first element of dif.treat is the one that I'm interested in 
(p.value &lt;- length(dif.treat[dif.treat &gt;= dif.treat[1]]) / length(dif.treat))
</code></pre>

<p>Do you know of any R function that performs tests like this one?</p>

<p>EDIT</p>

<pre><code># this is the equivalent independent t.test
t.test(x,y,alternative = ""less"",var.equal = T)
</code></pre>
","170792","","170792","","2010-03-22 10:37:59","2019-04-10 08:19:37","Randomized experiments in R","<r><statistics>","2","0","4","","","CC BY-SA 2.5","2449226","4452","4452","r","404559","3625322","3607736","",""
"2451411","1","2451552","","2010-03-16 00:29:14","","0","1097","<p>I'm trying to practice writing better code, so I wanted to validate my input sequence with regex to make sure that the first thing I get is a single letter A to H only, and the second is a number 1 to 12 only.  I'm new to regex and not sure what the expression should look like.  I'm also not sure what type of error R would throw if this is invalidated?</p>

<p>In Perl it would be something like this I think: =~ m/([A-M]?))/)</p>

<p>Here is what I have so far for R:</p>

<pre><code>input_string = ""A1""
first_well_row = unlist(strsplit(input_string, """"))[1]  # get the letter out
first_well_col = unlist(strsplit(input_string, """"))[2]  # get the number out  
</code></pre>
","207258","","","","","2010-03-16 13:41:35","R regex to validate user input is correct","<regex><r>","2","0","","","","CC BY-SA 2.5","2451411","4452","4452","r","404559","3625322","3607736","",""
"2453326","1","53144760","","2010-03-16 09:54:16","","177","215577","<p>R offers max and min, but I do not see a really fast way to find another value in the order, apart from sorting the whole vector and then picking a value x from this vector.</p>
<p>Is there a faster way to get the second highest value, for example?</p>
","235984","","8112247","","2020-07-22 15:16:51","2021-02-28 14:48:42","Fastest way to find second (third...) highest/lowest value in vector or column","<r><vector>","16","4","67","","","CC BY-SA 4.0","2453326","4452","4452","r","404559","3625322","3607736","",""
"2453462","1","","","2010-03-16 10:13:00","","1","997","<p>I want to use R to do string parsing that (I think) is like a simplistic HTML parsing.</p>

<p>For example, let's say we have the following two variables:</p>

<pre><code>Seq &lt;- ""GCCTCGATAGCTCAGTTGGGAGAGCGTACGACTGAAGATCGTAAGGtCACCAGTTCGATCCTGGTTCGGGGCA""
Str &lt;- ""&gt;&gt;&gt;&gt;&gt;&gt;&gt;..&gt;&gt;&gt;&gt;........&lt;&lt;&lt;&lt;.&gt;&gt;&gt;&gt;&gt;.......&lt;&lt;&lt;&lt;&lt;.....&gt;&gt;&gt;&gt;&gt;.......&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;.""
</code></pre>

<p>Say that I want to parse ""Seq"" According to ""Str"", by using the legend here </p>

<pre><code>Seq: GCCTCGATAGCTCAGTTGGGAGAGCGTACGACTGAAGATCGTAAGGtCACCAGTTCGATCCTGGTTCGGGGCA
Str: &gt;&gt;&gt;&gt;&gt;&gt;&gt;..&gt;&gt;&gt;&gt;........&lt;&lt;&lt;&lt;.&gt;&gt;&gt;&gt;&gt;.......&lt;&lt;&lt;&lt;&lt;.....&gt;&gt;&gt;&gt;&gt;.......&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;.
     |     |  |              | |               |     |               ||     |
     +-----+  +--------------+ +---------------+     +---------------++-----+
        |        Stem 1            Stem 2                 Stem 3         |
        |                                                                |
        +----------------------------------------------------------------+
                                Stem 0
</code></pre>

<p>Assume that we always have 4 stems (0 to 3), but that the length of letters before and after each of them can very.</p>

<p>The output should be something like the following list structure:</p>

<pre><code>list(
    ""Stem 0 opening"" = ""GCCTCGA"",
    ""before Stem 1"" = ""TA"",
    ""Stem 1"" = list(opening = ""GCTC"",
                inside = ""AGTTGGGA"",
                closing = ""GAGC""
            ),
    ""between Stem 1 and 2"" = ""G"",
    ""Stem 2"" = list(opening = ""TACGA"",
                inside = ""CTGAAGA"",
                closing = ""TCGTA""
            ),
    ""between Stem 2 and 3"" = ""AGGtC"",
    ""Stem 3"" = list(opening = ""ACCAG"",
                inside = ""TTCGATC"",
                closing = ""CTGGT""
            ),
    ""After Stem 3"" = """",
    ""Stem 0 closing"" = ""TCGGGGC""
)
</code></pre>

<p>I don't have any experience with programming a parser, and would like advices as to what strategy to use when programming something like this (and any recommended R commands to use).</p>

<p>What I was thinking of is to first get rid of the ""Stem 0"", then go through the inner string with a recursive function (let's call it ""seperate.stem"") that each time will split the string into:
1. before stem
2. opening stem
3. inside stem
4. closing stem
5. after stem</p>

<p>Where the ""after stem"" will then be recursively entered into the same function (""seperate.stem"")</p>

<p>The thing is that I am not sure how to try and do this coding without using a loop.</p>

<p>Any advices will be most welcomed.</p>

<p><strong>Update</strong>: someone sent me a bunch of question, here they are.</p>

<p><strong>Q: Does each sequence have the same number of "">>>>"" for the opening sequence as it does for ""&lt;&lt;&lt;&lt;"" on the ending sequence?</strong><br>
A: Yes</p>

<p><strong>Q: Does the parsing always start with a partial stem 0 as your example shows?</strong> 
A: No. Sometimes it will start with a few "".""</p>

<p><strong>Q: Is there a way of making sure you have the right sequences when you start?</strong> 
A: I am not sure I understand what you mean.</p>

<p><strong>Q: Is there a chance of error in the middle of the string that you have to restart from?</strong>
A: Sadly, yes. In which case, I'll need to ignore one of the inner stems...</p>

<p><strong>Q: How long are these strings that you want to parse?</strong> 
A: Each string has between 60 to 150 characters (and I have tens of thousands of them...)</p>

<p><strong>Q: Is each one a self contained sequence like you show in your example, or do they go on for thousands of characters?</strong> 
A: each sequence is self contained.</p>

<p><strong>Q: Is there always at least one '.' between stems?</strong><br>
A: No.</p>

<p><strong>Q: A full set of rules as to how the parsing should be done would be useful.</strong>
A: I agree.  But since I don't have even a basic idea on how to start coding this, I thought first to have some help on the beginning and try to tweak with the other cases that will come up before turning back for help.</p>

<p><strong>Q: Do you have the BNF syntax for parsing?</strong>
A: No. Your e-mail is the first time I came across it (<a href=""http://en.wikipedia.org/wiki/Backus"" rel=""nofollow noreferrer"">http://en.wikipedia.org/wiki/Backus</a>Naur_Form).</p>
","256662","","256662","","2010-03-16 14:04:56","2010-03-16 14:04:56","How to parse a string (by a ""new"" markup) with R?","<string><parsing><r><loops>","1","1","1","","","CC BY-SA 2.5","2453462","4452","4452","r","404559","3625322","3607736","",""
"2456696","1","2460943","","2010-03-16 17:34:44","","4","10197","<p>I have a problem where I have to add thirty-three integer vectors of equal length from a dataset in R. I know the simple solution would be</p>

<pre><code>Vector1 + Vector2 + Vector3 +VectorN
</code></pre>

<p>But I am sure there is a way to code this. Also some vectors have NA in place of integers so I need a way to skip those. I know this may be very basic but I am new to this.</p>
","230849","","255531","","2010-03-17 09:14:35","2019-04-19 17:15:51","Adding multiple vectors in R","<r><vector>","5","1","0","","","CC BY-SA 2.5","2456696","4452","4452","r","404559","3625322","3607736","",""
"2456864","1","2456941","","2010-03-16 18:01:57","","7","7173","<p>In R, how can I print a character list from A to Z?  With integers I can say:</p>

<pre><code>my_list = c(1:10)
&gt; my_list
 [1]  1  2  3  4  5  6  7  8  9 10
</code></pre>

<p>But can I do the same with characters?  e.g. </p>

<pre><code>my_char_list = c(A:Z)
my_char_list = c(""A"":""Z"")
</code></pre>

<p>These don't work, I want the output to be: <code>""A"" ""B"" ""C"" ""D""</code>, or separated by commas.</p>
","207258","","1315767","","2014-01-01 17:58:03","2019-04-04 20:17:40","How to print a character list from A to Z?","<r>","4","0","2","","","CC BY-SA 3.0","2456864","4452","4452","r","404559","3625322","3607736","",""
"2457112","1","2457401","","2010-03-16 18:36:59","","1","935","<p>Is it possible to return a HashMap to R with the rJava extension of R?
E.g. I have a method in Java, which returns a HashMap and I want this HashMap use in R. I tried:</p>

<pre><code>.jcall(javaObj, ""Ljava/util/HashMap"", ""getDbInfoMap"")
</code></pre>

<p>This doesn't work.<br/>
Do I have to put everything into a String[], that I want to pass to R from Java?
Or is there another possibility?</p>

<p>Any help/info on this would be greatly appreciated.</p>
","295037","","","user4275591","2014-12-08 09:44:55","2014-12-08 09:44:55","HashMap as return value from Java method in R?","<java><r>","1","1","","","","CC BY-SA 3.0","2457112","4452","4452","r","404559","3625322","3607736","",""
"2457129","1","2457212","","2010-03-16 18:40:15","","18","12210","<p>Why do I see a difference when I convert a unix timestamp to datetime object in R?</p>

<pre><code>&gt; as.POSIXlt(1268736919, origin=""1970-01-01"", tz=""America/New_York"")
[1] ""2010-03-16 06:55:19 EDT""

&gt; as.POSIXct(1268736919, origin=""1970-01-01"", tz=""America/New_York"")
[1] ""2010-03-16 11:55:19 EDT""
</code></pre>

<p>The result from POSIXlt is actually correct.</p>

<p>Also, is there a way to do this conversion without specifying the origin?</p>

<p>Thanks</p>
","220120","","","","","2010-03-16 18:54:14","Converting unix seconds in milliseconds to POSIXct/POSIXlt","<datetime><r>","1","0","6","","","CC BY-SA 2.5","2457129","4452","4452","r","404559","3625322","3607736","",""
"2457871","1","2458016","","2010-03-16 20:28:05","","1","2859","<p>I want to get the index of a particular letter, e.g. </p>

<pre><code>&gt;  match(LETTERS,""G"")
 [1] NA NA NA NA NA NA  1 NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
</code></pre>

<p>Gives me that the letter exists, but I want it to return 6 in this case for the 6th element of the list.</p>
","207258","","1315767","","2014-01-01 17:57:05","2019-03-07 09:06:55","How to get the index of a letter from a list A-Z?","<r><indexing><letters>","3","0","1","","","CC BY-SA 3.0","2457871","4452","4452","r","404559","3625322","3607736","",""
"2458013","1","2458377","","2010-03-16 20:47:50","","51","39131","<p>Let's say we have the following function:</p>

<pre><code>foo &lt;- function(x)
{
    line1 &lt;- x
    line2 &lt;- 0
    line3 &lt;- line1 + line2
    return(line3)
}
</code></pre>

<p>And that we want to change the second line to be:</p>

<pre><code>    line2 &lt;- 2
</code></pre>

<p>How would you do that?</p>

<p>One way is to use</p>

<pre><code>fix(foo)
</code></pre>

<p>And change the function.</p>

<p>Another way is to just write the function again.</p>

<p>Is there another way? (Remember, the task was to change just the second line)</p>

<p>What I would like is for some way to represent the function as a vector of strings (well, characters), then change one of it's values, and then turn it into a function again.</p>
","256662","","256662","","2010-03-16 21:29:06","2010-11-13 04:15:44","What ways are there to edit a function in R?","<r><function><editing>","5","3","21","","","CC BY-SA 2.5","2458013","4452","4452","r","404559","3625322","3607736","",""
"2462708","1","","","2010-03-17 13:51:40","","5","3077","<p>This is a naive (and likely dumb) question, but I can't seem to get the R syntax highlighting to work with my Linux setup.  </p>

<p>I've downloaded a <code>r.vim</code> file that has improved syntax highlighting, and it works on my Windows gvim setup.  Does this <code>r.vim</code> file need to be in the <code>/usr/share/vim/v70/syntax</code> directory?  Right now, I have it in my home directory and trying out <code>source ~/r.vim</code> in the <code>~/.vimrc</code> file.  However, this doesn't seem to do anything.  Perhaps I'm barking up the wrong tree?</p>
","142477","","","","","2013-02-15 09:01:50","can't get syntax highlighting to work with R code in vim","<linux><vim><r><syntax-highlighting>","4","1","1","","","CC BY-SA 2.5","2462708","4452","4452","r","404559","3625322","3607736","",""
"2463437","1","2463996","","2010-03-17 15:15:43","","21","10924","<p>What is the simplest possible C function for starting the R interpreter, passing in a small expression (eg, 2+2), and getting out the result?  I'm trying to compile with MingW on Windows.</p>
","1432","","754604","","2014-05-10 21:21:58","2014-05-10 21:21:58","R from C -- Simplest Possible Helloworld","<c><windows><r>","4","1","15","","","CC BY-SA 3.0","2463437","4452","4452","r","404559","3625322","3607736","",""
"2464680","1","","","2010-03-17 18:05:28","","4","10059","<p>I am wondering if there exists in R a package/function to perform the: ""Post Hoc Pair-Wise Comparisons for the Chi-Square Test of Homogeneity of Proportions"" (or an equivalent of it) Which is described here: 
<a href=""http://epm.sagepub.com/cgi/content/abstract/53/4/951"" rel=""nofollow noreferrer"">http://epm.sagepub.com/cgi/content/abstract/53/4/951</a></p>

<p>My situation is of just making a chi test, on a 2 by X matrix. I found a difference, but I want to know which of the columns is ""responsible"" for the difference.</p>

<p>Thanks, 
Tal</p>
","256662","","146325","","2010-03-17 21:39:55","2017-10-08 03:38:12","Is there a Pair-Wise PostHoc Comparisons for the Chi-Square Test in R?","<r><statistics><chi-squared><posthoc>","3","4","2","","","CC BY-SA 2.5","2464680","4452","4452","r","404559","3625322","3607736","",""
"2464721","1","2468603","","2010-03-17 18:12:11","","3","15370","<p>I installed/uninstalled java jre/jdk now many times and finally installed the older version 1.6.0_17 which is now located at &quot;C:\Program Files\Java\jre6\bin&quot;. Now after all if I call 'java -version' within R i can see that R is looking for Java at the old path which is now wrong. The question is: Why is R looking for Java at the wrong path even so the windows path is set correctly? There are no double entrys within the windows path as far as I can see and I restarted R as well as Windows more then once since then. Any Ideas where R takes the wrong path from?</p>
<p>On windows shell:</p>
<pre><code>&gt; set
[..]
OS=Windows_NT
Path=C:\Program Files\Java\jre6\bin;
[..]


&gt; java -version
java version &quot;1.6.0_17&quot;
Java(TM) SE Runtime Environment (build 1.6.0_17-b04)
Java HotSpot(TM) 64-Bit Server VM (build 14.3-b01, mixed mode)
</code></pre>
<p>within R:</p>
<pre><code>&gt; system(&quot;java -version&quot;)
Error: could not open `C:\Program Files (x86)\Java\jre6\lib\i386\jvm.cfg'
</code></pre>
","294729","","168747","","2020-10-22 11:09:09","2020-10-22 11:09:09","R looking for the wrong java version","<java><windows><r>","4","2","1","","","CC BY-SA 4.0","2464721","4452","4452","r","404559","3625322","3607736","",""
"2467019","1","2467098","","2010-03-18 01:11:33","","2","397","<p>I have a time series of two indexes, with each row representing the closing price on the same day. I'd like to go to row 30 and lookback over the last 30 'days' and calculate the pearson correlation. And then store that value in a new vector. Then, repeat the calculation for the entire time series. </p>

<p>It is a trivial task in Excel, so I'm convinced it can be done in R. I don't know the method to use though.</p>
","296155","","163053","","2010-03-18 01:43:11","2010-03-18 01:45:34","HT create a new vector in data frame that takes correlation of existing vectors","<r><time-series><correlation>","1","0","1","","","CC BY-SA 2.5","2467019","4452","4452","r","404559","3625322","3607736","",""
"2467329","1","2467499","","2010-03-18 03:05:15","","5","2052","<p>I am somewhat new to R, and i have this piece of code which generates a variable that i don't know the type for. Are there any introspection facility in R which will tell me which type this variable belongs to?</p>

<p>The following illustrates the property of this variable:</p>

<p>I am working on linear model selection, and the resource I have is <code>lm</code> result from another model. Now I want to retrieve the <code>lm</code> call by the command summary(model)$call so that I don't need to hardcode the model structure. However, since I have to change the dataset, I need to do a bit of modification on the ""string"", but apparently it is not a simple string. I wonder if there is any command similar to string.replace so that I can manipulate this variable from the variable $call.</p>

<pre><code>&gt; str&lt;-summary(rdnM)$call
&gt; str
lm(formula = y ~ x1, data = rdndat)
&gt; str[1]
lm()
&gt; str[2]
y ~ x1()
&gt; str[3]
rdndat()
&gt; str[3] &lt;- data
Warning message:
In str[3] &lt;- data :
  number of items to replace is not a multiple of replacement length
&gt; str
lm(formula = y ~ x1, data = c(10, 20, 30, 40))
&gt; str&lt;-summary(rdnM)$call
&gt; str
lm(formula = y ~ x1, data = rdndat)
&gt; str[3] &lt;- 'data'
&gt; str
lm(formula = y ~ x1, data = ""data"")
&gt; str&lt;-summary(rdnM)$call
&gt; type str
Error: unexpected symbol in ""type str""
&gt; 
</code></pre>
","278320","","805808","","2011-10-08 22:55:11","2011-10-08 22:55:11","How to do introspection in R","<r>","1","1","","","","CC BY-SA 3.0","2467329","4452","4452","r","404559","3625322","3607736","",""
"2470248","1","2470277","","2010-03-18 13:51:59","","380","363399","<p>In the R scripting language, how do I write lines of text, e.g. the following two lines</p>

<pre><code>Hello
World
</code></pre>

<p>to a file named ""output.txt""?</p>
","3306","","3306","","2010-04-02 19:53:03","2021-01-28 13:25:15","Write lines of text to a file in R","<file-io><r>","13","0","95","","","CC BY-SA 2.5","2470248","4452","4452","r","404559","3625322","3607736","",""
"2470295","1","2470676","","2010-03-18 13:56:26","","1","124","<p>Say I have an array of number </p>

<p>a &lt;- c(1,2,3,6,7,8,9,10,20)</p>

<p>if there a way to tell R to output just the range of the continuous sequence from ""a""
e.g., the continuous sequences in ""a"" are the following</p>

<p>1,3
6,10
20</p>

<p>Thanks a lot!
Derek</p>
","296564","","","","","2010-03-18 18:51:02","Is there a way to extract continuous feature in an 2D array","<r><arrays><sequence><continue>","3","0","3","","","CC BY-SA 2.5","2470295","4452","4452","r","404559","3625322","3607736","",""
"2470654","1","2470686","","2010-03-18 14:42:01","","1","401","<p>What happens when I call <code>rchisq(100,1:100,1:100)</code>:</p>

<ul>
<li>does R generate 100 numbers with df=1,ncp=1?</li>
<li>or does it generate 100 numbers each with df=k,ncp=k for  k=1...100?</li>
</ul>

<p>What I want to know is whether  df and ncp can be vectors or not. It is not clear in the documentation (when compared with rnorm). I suspect that they can also be vectors and recycling happens if the lengths differ(?) </p>
","279497","","","","","2010-03-18 14:56:20","Calling rchisq with vector parameters","<r>","1","0","","","","CC BY-SA 2.5","2470654","4452","4452","r","404559","3625322","3607736","",""
"2471075","1","2471451","","2010-03-18 15:32:02","","3","2434","<p>I am trying to read a .txt file, with Hebrew column names, but without success.</p>

<p>I uploaded an example file to:
<a href=""http://www.talgalili.com/files/aa.txt"" rel=""nofollow noreferrer"">http://www.talgalili.com/files/aa.txt</a></p>

<p>And am trying the command:</p>

<pre><code>read.table(""http://www.talgalili.com/files/aa.txt"", header = T, sep = ""\t"")
</code></pre>

<p>This returns me with:</p>

<pre><code>  X..... X......... X.......
1      12          97         6
2     123         354        44
3       6           1         3
</code></pre>

<p>Instead of:</p>

<pre><code>    
12  97  6
123 354 44
6   1   3
</code></pre>

<p>My output for:</p>

<pre><code>l10n_info()
</code></pre>

<p>Is:</p>

<pre><code>$MBCS
[1] FALSE

$`UTF-8`
[1] FALSE

$`Latin-1`
[1] TRUE

$codepage
[1] 1252
</code></pre>

<p>And for:</p>

<pre><code>Sys.getlocale()
</code></pre>

<p>Is:</p>

<pre><code>[1] ""LC_COLLATE=English_United States.1252;LC_CTYPE=English_United States.1252;LC_MONETARY=English_United States.1252;LC_NUMERIC=C;LC_TIME=English_United States.1252""
</code></pre>

<p>Can you suggest to me what to try and change to allow me to load the file correctly ?</p>

<p><strong>Update:</strong>
Trying to use:</p>

<pre><code>read.table(""http://www.talgalili.com/files/aa.txt"",fileEncoding =""iso8859-8"")
</code></pre>

<p>Has resulted in:</p>

<pre><code> V1
1  ?
Warning messages:
1: In read.table(""http://www.talgalili.com/files/aa.txt"", fileEncoding = ""iso8859-8"") :
  invalid input found on input connection 'http://www.talgalili.com/files/aa.txt'
2: In read.table(""http://www.talgalili.com/files/aa.txt"", fileEncoding = ""iso8859-8"") :
  incomplete final line found by readTableHeader on 'http://www.talgalili.com/files/aa.txt'
</code></pre>

<p>While also trying this:</p>

<pre><code>Sys.setlocale(""LC_ALL"", ""en_US.UTF-8"")
</code></pre>

<p>Or this:</p>

<pre><code>Sys.setlocale(""LC_ALL"", ""en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8"")
</code></pre>

<p>Get's me this:</p>

<pre><code>[1] """"
Warning message:
In Sys.setlocale(""LC_ALL"", ""en_US.UTF-8"") :
  OS reports request to set locale to ""en_US.UTF-8"" cannot be honored
</code></pre>

<p>Finally, here is the > sessionInfo() </p>

<pre><code>R version 2.10.1 (2009-12-14) 
i386-pc-mingw32 

locale:
[1] LC_COLLATE=English_United States.1255  LC_CTYPE=English_United States.1252    LC_MONETARY=English_United States.1252 LC_NUMERIC=C                          
[5] LC_TIME=English_United States.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
[1] tools_2.10.1
</code></pre>

<p>Any suggestion or clarification will be appreciated.</p>

<p>Best,
Tal</p>
","256662","","73070","","2010-03-31 18:47:40","2014-02-09 11:16:47","How to read.table with ""Hebrew"" column names (in R)?","<r><utf-8><hebrew>","2","1","2","","","CC BY-SA 2.5","2471075","4452","4452","r","404559","3625322","3607736","",""
"2471188","1","2471243","","2010-03-18 15:45:58","","11","14461","<p>Suppose I have a matrix <code>foo</code> as follows:</p>

<pre><code>foo &lt;- cbind(c(1,2,3), c(15,16,17))

&gt; foo
     [,1] [,2]
[1,]    1   15
[2,]    2   16
[3,]    3   17
</code></pre>

<p>I'd like to turn it into a list that looks like</p>

<pre><code>[[1]]
[1]  1 15

[[2]]
[1]  2 16

[[3]]
[1]  3 17
</code></pre>

<p>You can do it as follows:</p>

<p><code>lapply(apply(foo, 1, function(x) list(c(x[1], x[2]))), function(y) unlist(y))</code></p>

<p>I'm interested in an alternative method that isn't as complicated.  Note, if you just do <code>apply(foo, 1, function(x) list(c(x[1], x[2])))</code>, it returns a list within a list, which I'm hoping to avoid.</p>
","142477","","","","","2014-03-26 18:38:39","converting a matrix to a list","<list><r><matrix>","2","0","8","","","CC BY-SA 2.5","2471188","4452","4452","r","404559","3625322","3607736","",""
"2471750","1","","","2010-03-18 16:49:30","","1","650","<p>I am new to R, can anyone help me with boxplot for a dataset like:</p>

<p>file1</p>

<pre><code>     col1 col2     col3     col4  col5
050350005  101   56.625   48.318 RED    
051010002  106   50.625   46.990 GREEN    
051190007   25   65.875   74.545 BLUE    
051191002  246   52.875   57.070 RED    
220050004   55   70       80.274 BLUE    
220150008   75   67.750   62.749 RED    
220170001   77   65.750   54.307 GREEN
</code></pre>

<p>file2</p>

<pre><code>     col1 col2     col3     col4  col5
050350005  101   56.625   57     RED
051010002  106   50.625   77     GREEN    
051190007   25   65.875   51.6   BLUE    
051191002  246   52.875   55.070 RED    
220050004   55   70       32     BLUE    
220150008   75   67.750   32.49  RED
220170001   77   65.750   84.07  GREEN
</code></pre>

<p>for each color (red,green and blue), I need to compare file1 and file2 by making box plot with MB and RMSE for (<code>col4</code>-<code>col3</code>) for file1 and file2 by dividing <code>col2</code> in different group: </p>

<p>if col2&lt;20,20&lt;=col2&lt;50, 50 &lt;= col2 &lt;70, col2 >=70. </p>

<p>That is, for the boxplot, the x is (&lt;20, 20-50,50-70, >70), while y is MB (and RMSE) of the difference of <code>col4</code> and <code>col3</code></p>

<p>I hope I didn't confuse anybody. Thank you so much.</p>
","296746","","9056717","","2018-03-16 15:43:15","2018-03-16 15:43:15","Boxplot on conditioned data in a dataframe","<r><boxplot>","1","0","","","","CC BY-SA 3.0","2471750","4452","4452","r","404559","3625322","3607736","",""
"2472107","1","2472916","","2010-03-18 17:38:13","","3","1170","<p>I have a scientific paper under review, and a referee asked for my R code to be provided as a Sweave document. I've never heard of Sweave before, do you know what's the better way to do it?</p>

<p>Thanks a lot :-)</p>
","209467","","355270","","2011-09-23 14:23:40","2011-09-23 14:23:40","R code in Sweave","<r><sweave><literate-programming>","2","5","2","","","CC BY-SA 2.5","2472107","4452","4452","r","404559","3625322","3607736","",""
"2472599","1","2476134","","2010-03-18 19:00:39","","2","782","<p>I'm running R via Rpy on a redhat linux distribution. Periodically I'll encounter this error message:</p>

<pre><code>*** caught segfault ***
address (nil), cause 'unknown'
</code></pre>

<p>And the entire program dies right there. It usually occurs when I run a lot of regression <code>r.lm()</code>. But by simply running the identical code again, the problem may or may not go away (so not always reproduceable). Does anyone know what might be causing this, and/or how I can prevent it from happening?</p>
","291877","","","","","2011-09-28 06:09:13","R segfault when running via Rpy on linux","<r><segmentation-fault>","1","2","1","","","CC BY-SA 2.5","2472599","4452","4452","r","404559","3625322","3607736","",""
"2472958","1","2473050","","2010-03-18 19:57:42","","0","367","<p>I'm blanking on the best way to paste a list of strings together to go into an SQL statement...  I'm having trouble with the separator bar | printing at the beginning when I don't want it to:</p>

<pre><code>foo = ""blah""
paste_all_together = NULL
for (n in 1:4) {
    paste_together =     paste(foo ,sep = """")
    paste_all_together = paste(paste_all_together, paste_together, sep = ""|"")
    }

&gt; paste_all_together
[1] ""|blah|blah|blah|blah""
</code></pre>

<p>I just want it to print out ""blah|blah|blah|blah"".   Do I need a nested loop, or is there a better itterator in R for doing this?  Or perhaps a better way to input SQL statements?</p>
","207258","","","","","2010-03-22 14:24:40","R: How to separate character output in a loop?","<r><loops><character><separator>","3","0","2","","","CC BY-SA 2.5","2472958","4452","4452","r","404559","3625322","3607736","",""
"2473336","1","2473743","","2010-03-18 21:04:06","","0","956","<p>TRUE/FALSE if clauses are easily and quickly done in R. However, if the argument gets more complex, it also gets ugly very soon.</p>

<p>For instance: 
I might want to execute different operations for a row(foo) dependent on the value in one cell (<code>foo[1]</code>).
Let the intervals be 0:39 and 40:59 and 60:100</p>

<p>Something like does not exit:</p>

<pre><code>(if foo[1] ""in"" 40:60){...
</code></pre>

<p>In fact, I only see ways of at least two if clauses and two else statements and the action for the first interval somewhere at the bottom of the code. With more intervals(or any other condition) it is getting more complex.</p>

<p>Is there a best practice (for this purpose or others) with a simple construction and nice design to read?</p>
","235984","","5414452","","2016-01-23 09:55:16","2016-01-23 09:55:16","Simple and short if clauses for combind statements","<r><if-statement>","2","3","1","","","CC BY-SA 3.0","2473336","4452","4452","r","404559","3625322","3607736","",""
"2473659","1","2473714","","2010-03-18 22:06:29","","3","1073","<p>I have a data.frame from this code:</p>

<pre><code>   my_df = data.frame(""read_time"" = c(""2010-02-15"", ""2010-02-15"", 
                                      ""2010-02-16"", ""2010-02-16"", 
                                       ""2010-02-16"", ""2010-02-17""), 
                      ""OD"" = c(0.1, 0.2, 0.1, 0.2, 0.4, 0.5) )
</code></pre>

<p>which produces this:</p>

<pre><code>&gt; my_df
   read_time  OD
1 2010-02-15 0.1
2 2010-02-15 0.2
3 2010-02-16 0.1
4 2010-02-16 0.2
5 2010-02-16 0.4
6 2010-02-17 0.5
</code></pre>

<p>I want to average the OD column over each distinct read_time (notice some are replicated others are not) and I also would like to calculate the standard deviation, producing a table like this:</p>

<pre><code>&gt; my_df
   read_time  OD        stdev
1 2010-02-15 0.15       0.05
5 2010-02-16 0.3         0.1
6 2010-02-17 0.5         0
</code></pre>

<p>Which are the best functions to deal with concatenating such values in a data.frame?</p>
","207258","","559784","","2013-03-27 23:55:51","2013-03-27 23:55:51","R: What are the best functions to deal with concatenating and averaging values in a data.frame?","<r><dataframe><concatenation><average>","3","0","2","","","CC BY-SA 2.5","2473659","4452","4452","r","404559","3625322","3607736","",""
"2474808","1","2480152","","2010-03-19 03:27:15","","1","6393","<p>I have data that looks like this:</p>

<pre><code>#val  Freq1 Freq2
0.000 178 202
0.001 4611 5300
0.002 99 112
0.003 26 30
0.004 17 20
0.005 15 20
0.006 11 14
0.007 11 13
0.008 13 13
...many more lines..
</code></pre>

<p>Full data can be found here:
<a href=""http://dpaste.com/173536/plain/"" rel=""nofollow noreferrer"">http://dpaste.com/173536/plain/</a></p>

<p>What I intend to do is to have a cumulative graph
with ""val"" as x-axis with ""Freq1"" &amp; ""Freq2"" as
y-axis, plot together in 1 graph.</p>

<p>I have this code. But it creates two plots instead of 1.</p>

<pre><code>dat &lt;- read.table(""stat.txt"",header=F);
val&lt;-dat$V1
freq1&lt;-dat$V2
freq2&lt;-dat$V3

valf1&lt;-rep(val,freq1)
valf2&lt;-rep(val,freq2)

valfreq1table&lt;- table(valf1)
valfreq2table&lt;- table(valf2)
cumfreq1=c(0,cumsum(valfreq1table))
cumfreq2=c(0,cumsum(valfreq2table))

plot(cumfreq1, ylab=""CumFreq"",xlab=""Loglik Ratio"")
lines(cumfreq1)
plot(cumfreq2, ylab=""CumFreq"",xlab=""Loglik Ratio"")
lines(cumfreq2)
</code></pre>

<p>What's the right way to approach this?</p>
","67405","","168747","","2010-03-19 06:21:11","2010-09-23 21:28:13","Howto plot two cumulative frequency graph together","<r><plot>","3","2","3","","","CC BY-SA 2.5","2474808","4452","4452","r","404559","3625322","3607736","",""
"2475511","1","2476834","","2010-03-19 07:01:25","","4","10137","<p>I have no problem plotting the following cumulative <strong>frequency</strong> graph plot
like this.</p>

<pre><code>     library(Hmisc)
     pre.test &lt;- rnorm(100,50,10)
     post.test &lt;- rnorm(100,55,10)
     x &lt;- c(pre.test, post.test)
     g &lt;- c(rep('Pre',length(pre.test)),rep('Post',length(post.test)))
     Ecdf(x, group=g, what=""f"", xlab='Test Results', label.curves=list(keys=1:2))
</code></pre>

<p>But I want to show the graph in forms of the ""reverse"" cumulative frequency of values > x.
(i.e. something equivalent to what=""1-f"").</p>

<p>Is there a way to do it?</p>

<p>Other suggestions in R other than using Hmisc are also very much welcomed.</p>
","67405","","1315767","","2014-01-01 17:58:37","2014-01-01 17:58:37","How to Plot ""Reverse"" Cumulative Frequency Graph With ECDF","<r><statistics>","4","1","3","","","CC BY-SA 3.0","2475511","4452","4452","r","404559","3625322","3607736","",""
"2476946","1","2477726","","2010-03-19 11:53:44","","1","541","<p>I'm trying to create a large XML tree in R. Here's a simplified version of the code:</p>

<pre><code>library(XML)
N = 100000#In practice is larger  10^8/ 10^9
seq = newXMLNode(""sequence"")
pars = as.character(1:N)
for(i in 1:N)
    newXMLNode(""Parameter"", parent=seq, attrs=c(id=pars[i]))
</code></pre>

<p>When N is about N^6 this takes about a minute, N^7 takes about forty minutes. Is there anyway to speed this up?</p>

<p>Using the paste command:</p>

<pre><code>par_tmp = paste('&lt;Parameter id=""', pars, '""/&gt;', sep="""")
</code></pre>

<p>takes less than a second.</p>
","203420","","","","","2019-07-03 04:08:50","Creating large XML Trees in R","<xml><r><performance>","1","0","","","","CC BY-SA 2.5","2476946","4452","4452","r","404559","3625322","3607736","",""
"2477398","1","","","2010-03-19 12:57:32","","2","2443","<p>I created my own new R library (called ""Media""). There is no problem when I try to load it with RGui, and I can call the functions defined in the new package.  This is how I load it:</p>

<pre><code>   &gt; library(Media)
</code></pre>

<p>But, I'm also trying to call that functions from <a href=""http://www.rforge.net/JRI/"" rel=""nofollow noreferrer"">Java/JRI</a> code, and when I load the new R package, Java doesn't seem to find the pacakge, throwing the message ""Error in library(Media) : object 'Media' not found""</p>

<p>This is my current code using JRI:</p>

<pre><code>    REXP rexpSetFolder = re.eval(""setwd('C:/Users/Albert/Documents')"");
    REXP rexpFolder = re.eval(""getwd()"");
    System.out.println(rexpFolder.asString());

    REXP rexpLoad = re.eval(""library(Media)""); // fails
</code></pre>

<p>It also fails without the 'setwd' command, and simple calls to existing R functions work fine.  I'm using R 2.10 and the latest JRI 0.5-0 under Windows.</p>

<p>Any help would be appreciated.
Thank you very much.</p>

<p><strong>Edit:</strong></p>

<p>The parameter <code>lib.loc</code> seems to work, at least this sentence does not return an error:</p>

<pre><code>library(""Media"", lib.loc = ""c:/Users/Albert/Documents"")
</code></pre>

<p>But after that, calling a function in the package with <code>re.eval(""myfunction()"");</code> still fails, as the function is not properly found.</p>
","12388","","168747","","2011-05-31 13:07:29","2011-12-22 01:26:18","Problem loading R own created libraries in Java/JRI code","<java><r><rjava><jri>","3","0","1","","","CC BY-SA 2.5","2477398","4452","4452","r","404559","3625322","3607736","",""
"2478259","1","2478353","","2010-03-19 14:59:19","","0","327","<p>I am wondering if there is a way to transform a matrix of 2 columns into a multimap or list of list.</p>

<p>The first column of the matrix is an id (with possibly duplicated entries) and the 2nd column is some value.</p>

<p>For example,
if I have to following matrix</p>

<pre><code>m &lt;- matrix(c(1,2,1,3,2,4), c(3,2))
</code></pre>

<p>I would like to transform it into the following list</p>

<pre><code>[[1]]
3,4
[[2]]
2
</code></pre>
","296564","","3817004","","2017-03-24 06:55:22","2017-03-24 06:55:22","How to transform a matrix with 2 columns into a multimap like structure?","<list><r><arrays><multimap>","1","0","","","","CC BY-SA 3.0","2478259","4452","4452","r","404559","3625322","3607736","",""
"2478272","1","2483836","","2010-03-19 15:00:12","","13","42312","<p>The standard stats::kruskal.test module allows to calculate the kruskal-wallis test on a dataset:</p>

<pre><code>&gt;&gt;&gt; data(diamonds)
&gt;&gt;&gt; kruskal.test(price~carat, data=diamonds)

Kruskal-Wallis rank sum test

data:  price by carat by color 
Kruskal-Wallis chi-squared = 50570.15, df = 272, p-value &lt; 2.2e-16
</code></pre>

<p>This is correct, it is giving me a probability that all the groups in the data have the same mean.</p>

<p>However, I would like to have the details for each pair comparison, like if diamonds of colors D and E have the same mean price, as some other softwares do (SPSS) when you ask for a Kruskal test.</p>

<p>I have found <a href=""http://bm2.genes.nig.ac.jp/RGM2/R_current/library/pgirmess/man/kruskalmc.html"" rel=""noreferrer"">kruskalmc</a> from the package pgirmess which allows me to do what I want to do:</p>

<pre><code>&gt; kruskalmc(diamonds$price, diamonds$color)
Multiple comparison test after Kruskal-Wallis 
p.value: 0.05 
Comparisons
      obs.dif critical.dif difference
D-E  571.7459     747.4962      FALSE
D-F 2237.4309     751.5684       TRUE
D-G 2643.1778     726.9854       TRUE
D-H 4539.4392     774.4809       TRUE
D-I 6002.6286     862.0150       TRUE
D-J 8077.2871    1061.7451       TRUE
E-F 2809.1767     680.4144       TRUE
E-G 3214.9237     653.1587       TRUE
E-H 5111.1851     705.6410       TRUE
E-I 6574.3744     800.7362       TRUE
E-J 8649.0330    1012.6260       TRUE
F-G  405.7470     657.8152      FALSE
F-H 2302.0083     709.9533       TRUE
F-I 3765.1977     804.5390       TRUE
F-J 5839.8562    1015.6357       TRUE
G-H 1896.2614     683.8760       TRUE
G-I 3359.4507     781.6237       TRUE
G-J 5434.1093     997.5813       TRUE
H-I 1463.1894     825.9834       TRUE
H-J 3537.8479    1032.7058       TRUE
I-J 2074.6585    1099.8776       TRUE
</code></pre>

<p>However, this package only allows for one categoric variable (e.g. I can't study the prices clustered by color and by carat, as I can do with kruskal.test), and I don't know anything about the pgirmess package, whether it is maintained or not, or if it is tested.</p>

<p>Can you recommend me a package to execute the Kruskal-Wallis test which returns details for every comparison? How would you handle the problem?</p>
","95048","","47598","","2011-06-05 00:18:03","2019-07-03 10:04:27","Kruskal-Wallis test with details on pairwise comparisons","<r>","4","4","16","","","CC BY-SA 3.0","2478272","4452","4452","r","404559","3625322","3607736","",""
"2478352","1","2478624","","2010-03-19 15:09:10","","97","73890","<p>check this example:</p>

<pre><code>&gt; a = matrix(1:9, nrow = 3, ncol = 3, dimnames = list(LETTERS[1:3], LETTERS[1:3]))
&gt; a
  A B C
A 1 4 7
B 2 5 8
C 3 6 9
</code></pre>

<p>the table displays correctly. There are two different ways of writing it to file... </p>

<p><code>write.csv(a, 'a.csv')</code> which gives as expected:</p>

<pre><code>"""",""A"",""B"",""C""
""A"",1,4,7
""B"",2,5,8
""C"",3,6,9
</code></pre>

<p>and <code>write.table(a, 'a.txt')</code> which screws up</p>

<pre><code>""A"" ""B"" ""C""
""A"" 1 4 7
""B"" 2 5 8
""C"" 3 6 9
</code></pre>

<p>indeed, an empty tab is missing.... which is a pain in the butt for downstream things.
Is this a bug or a feature?
Is there a workaround? (other than <code>write.table(cbind(rownames(a), a), 'a.txt', row.names=FALSE</code>)</p>

<p>Cheers,
yannick</p>
","183988","","561731","","2016-09-30 19:04:08","2018-04-08 16:15:06","write.table writes unwanted leading empty column to header when has rownames","<r><export-to-csv><write.table>","5","0","32","","","CC BY-SA 3.0","2478352","4452","4452","r","404559","3625322","3607736","",""
"2479059","1","2479179","","2010-03-19 16:51:25","","6","6428","<p>I'm creating a plot in R, and need to add an en dash to some axis labels, as opposed to your everyday hyphen.  </p>

<pre><code>axis(1, at=c(0:2), labels=c(""0-10"",""11-30"",""31-70""))
</code></pre>

<p>I'm running R version 2.8.1 on Linux.</p>
","193210","","","","","2017-01-16 20:51:32","How can I add an en dash to a plot in R?","<r><character>","3","0","1","","","CC BY-SA 2.5","2479059","4452","4452","r","404559","3625322","3607736","",""
"2479689","1","","","2010-03-19 18:28:11","","8","27022","<p>In SPSS, it is (relatively) easy to create a cross tab with multiple variables using the factors (or values) as the table heading.  So, something like the following (made up data, etc.).  Q1, Q2, and Q3 each have either a 1, a 2, or a 3 for each person.  I just left these as numbers, but they could be factors, neither seemed to help solve the problem.</p>

<pre>
                        1 (very Often)   2 (Rarely)   3 (Never)
   Q1. Likes it           12              15             13
   Q2. Recommends it      22              11             10
   Q3. Used it            22              12             9
</pre>

<p>In SPSS, one can even request row, column, or total percentages.</p>

<p>I've tried table(), ftable(), xtab(), CrossTable() from gmodels, and CrossTable() from descr, and none of these can handle (afaik) multiple variables; they mostly seem to handle 1 variable crossed with another variable, and the 3rd creates layers.</p>

<p>Is there a package with some good cross tabbing/table examples that I could use to figure this out?   I'm sure I'm missing something simple, so I appreciate you pointing out what I missed.  Perhaps I have to generate each row as a separate list and then make a dataframe and print the dataframe?</p>

<p>UPDATE: I've now discovered ctab() in package catspec, which is also on the right track.  It's interesting that R has no consistent equivalent to Ctables in SPSS, which is basically a ""tabbing"" tool ala the old tabulate tools used for survey research.   ctab() is trying, and is an admirable 1st step... but you still can't make this table (above) with it.</p>
","297626","","202229","","2015-07-19 23:24:38","2018-05-11 17:16:50","Crosstab with multiple items","<r><crosstab><categorical-data>","7","0","9","","","CC BY-SA 2.5","2479689","4452","4452","r","404559","3625322","3607736","",""
"2480984","1","","","2010-03-19 22:36:34","","5","3160","<p>I have two sparse matrices, <code>m1</code> and <code>m2</code>:</p>

<pre><code>&gt; m1 &lt;- Matrix(data=0,nrow=2, ncol=1, sparse=TRUE, dimnames=list(c(""b"",""d""),NULL))
&gt; m2 &lt;- Matrix(data=0,nrow=2, ncol=1, sparse=TRUE, dimnames=list(c(""a"",""b""),NULL))
&gt; m1[""b"",1]&lt;- 4
&gt; m2[""a"",1]&lt;- 5
&gt; m1
2 x 1 sparse Matrix of class ""dgCMatrix""

b 4
d .
&gt; m2
2 x 1 sparse Matrix of class ""dgCMatrix""

a 5
b .
&gt;
</code></pre>

<p>and I want to <code>cbind()</code> them to make a sparse matrix like:</p>

<pre><code>  [,1] [,2] 
a    .    5
b    4    .
d    .    .
</code></pre>

<p>however <code>cbind()</code> ignores the named rows:</p>

<pre><code>&gt; cbind(m1[,1],m2[,1])
  [,1] [,2]
b    4    5
d    0    0
</code></pre>

<p>is there some way to do this without a brute force loop?</p>
","138470","","202229","","2015-06-13 16:49:31","2015-06-13 16:49:31","In R, when using named rows, can a sparse matrix column be added (concatenated) to another sparse matrix?","<r><matrix><sparse-matrix><cbind>","1","2","2","","","CC BY-SA 3.0","2480984","4452","4452","r","404559","3625322","3607736","",""
"2482125","1","2482190","","2010-03-20 05:56:40","","7","3082","<p>I have what may be a very simple question.  I want to process a column of POSIXct objects from a dataframe and generate a vector of datetime strings.  I tried to use the following sapply call</p>

<pre><code>dt &lt;- sapply(df$datetime, function(x) format(x,""%Y-%m-%dT%H:%M:%S""))
</code></pre>

<p>but to no avail.  I keep getting the following error:</p>

<pre><code>&gt; Error in prettyNum(.Internal(format(x, trim, digits, nsmall, width, 3L,  :
invalid 'trim' argument
</code></pre>

<p>When I apply this function to a single POSIXct object from the column, I have no problem. So I'm stumped at the moment about what the problem is.  Do I need to do something special with POSIXct objects?</p>
","218244","","1315767","","2014-01-01 18:01:36","2014-01-01 18:01:36","Using sapply on vector of POSIXct","<r><posixct><sapply>","1","2","1","","","CC BY-SA 3.0","2482125","4452","4452","r","404559","3625322","3607736","",""
"2485639","1","2485810","","2010-03-21 02:28:39","","5","4096","<p>I am trying to remove an object from the parent environment.</p>

<pre><code>rm_obj &lt;- function(obj){
  a &lt;-deparse(substitute(obj))
  print (a)
  print(ls(envir=sys.frame(-1)))  
  rm(a,envir=sys.frame(-1))
}
&gt; x&lt;-c(1,2,3)
&gt; rm_obj(x)
[1] ""x""

[1] ""rm_obj"" ""x""    
Warning message:
In rm(a, envir = sys.frame(-1)) : object 'a' not found
</code></pre>

<p>This will help clarify my misunderstanding regarding frames.</p>
","151410","","1315767","","2014-01-01 18:00:45","2017-11-17 07:00:52","Removing object from parent environment using rm()","<r>","2","2","1","","","CC BY-SA 3.0","2485639","4452","4452","r","404559","3625322","3607736","",""
"2486130","1","2486383","","2010-03-21 06:02:22","","7","5934","<p>I'm having a bit of a problem programming R for Sweave, and the #rstats twitter group often points here, so I thought I'd put this question to the SO crowd. I'm an analyst- not a programmer- so go easy on my first post. </p>

<p>Here's the problem: I am drafting a survey report in Sweave with R and would like to report the marginal returns in line using <code>\Sexpr{}</code>. For example, rather than saying:</p>

<blockquote>
  <p>Only 14% of respondents said 'X'.</p>
</blockquote>

<p>I want to write the report like this:</p>

<blockquote>
  <p>Only \Sexpr{p.mean(variable)}$\%$ of respondents said 'X'. </p>
</blockquote>

<p>The problem is that Sweave converts the results of the expression in <code>\Sexpr{}</code> to a character string, which means that the output from the expression in R and the output that appears in my document are different. For example, above I use the function 'p.mean':</p>

<blockquote>
<pre><code>p.mean&lt;- function (x) {options(digits=1)  
mmm&lt;-weighted.mean(x, weight=weight, na.rm=T)  
print(100*mmm)  
}
</code></pre>
</blockquote>

<p>In R, the output looks like this:</p>

<blockquote>
<pre><code>p.mean(variable)
&gt;14
</code></pre>
</blockquote>

<p>but when I use <code>\Sexpr{p.mean(variable)}</code>, I get an unrounded character string (in this case: 13.5857142857143) in my document. I have tried to limit the output of my function to <code>digits=1</code> in the global environment, in the function itself, and and in various commands. It only seems to contain what R prints, not the character transformation that is the result of the expression and which eventually prints in the LaTeX file. </p>

<blockquote>
<pre><code>as.character(p.mean(variable))  
&gt;[1] 14  
&gt;[1] ""13.5857142857143""  
</code></pre>
</blockquote>

<p>Does anyone know what I can do to limit the digits printed in the LaTeX file, either by reprogramming the R function or with a setting in Sweave or <code>\Sexpr{}</code>?</p>
","298308","","1026353","","2013-07-29 21:01:23","2017-12-31 11:07:53","Programming R/Sweave for proper \Sexpr output","<r><latex><pdflatex><sweave>","5","0","2","","","CC BY-SA 3.0","2486130","4452","4452","r","404559","3625322","3607736","",""
"2487922","1","2491345","","2010-03-21 17:11:15","","7","16382","<p>That's <code>x \ y</code> using mathematical notation. Suppose</p>

<pre><code>x &lt;- c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,1,1,1,3) 
y &lt;- c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1)
</code></pre>

<p>How can I get a vector with ALL the values in x that are not in y. i.e the result should be:</p>

<pre><code>2,1,1,3
</code></pre>

<p>There is a similar question <a href=""https://stackoverflow.com/questions/1837968/r-how-to-tell-what-is-in-one-vector-and-not-another"">here</a>. However, none of the answers returns the result that I want.</p>
","170792","","-1","","2017-05-23 11:44:22","2014-01-01 17:59:45","How can I get the complement of vector y in vector x","<r><vector>","3","3","5","","","CC BY-SA 3.0","2487922","4452","4452","r","404559","3625322","3607736","",""
"2488853","1","2488872","","2010-03-21 21:44:09","","1","914","<p>I have a data.frame: </p>

<pre><code>df&lt;-data.frame(a=c(""x"",""x"",""y"",""y""),b=c(1,2,3,4))

&gt; df
      a b
    1 x 1
    2 x 2
    3 y 3
    4 y 4
</code></pre>

<p>What's the easiest way to print out each pair of values as a list of strings like this:</p>

<blockquote>
  <p>""x1"", ""x2"", ""y1"", ""y2""</p>
</blockquote>
","207258","","","","","2019-07-05 19:18:41","R: What's the easiest way to print out pairs of values from a data.frame?","<list><r><dataframe>","3","0","1","","","CC BY-SA 2.5","2488853","4452","4452","r","404559","3625322","3607736","",""
"2490860","1","2491434","","2010-03-22 08:49:55","","2","1041","<p>Suppose we have generated a matrix <code>A</code> where each column contains one of the combinations of <code>n</code> elements in groups of <code>k</code>. So, its dimensions will be <code>k,choose(n,k)</code>. Such a matrix is produced giving the command <code>combn(n,k)</code>. What I would like to get is another matrix <code>B</code> with dimensions <code>(n-k),choose(n,k)</code>, where each column <code>B[,j]</code> will contain the excluded <code>n-k</code> elements of <code>A[,j]</code>.  </p>

<p>Here is an example of the way I use tho get table <code>B</code>. Do you think it is a safe method to use? Is there another way?</p>

<pre><code>n &lt;- 5 ; k &lt;- 3
(A &lt;- combn(n,k))
(B &lt;- combn(n,n-k)[,choose(n,k):1])
</code></pre>

<p>Another example</p>

<pre><code>x&lt;-c(0,1,0,2,0,1) ; k&lt;- 4
(A &lt;- combn(x,k))
(B &lt;- combn(x,length(x)-k)[,choose(length(x),k):1])
</code></pre>

<p>That <a href=""https://stackoverflow.com/questions/2487922/r-how-can-i-get-the-complement-of-vector-y-in-vector-x"">previous question</a> of mine is part of this problem.<br>
Thank you.</p>
","170792","","-1","","2017-05-23 12:26:31","2010-03-25 01:27:23","Getting the excluded elements for each of the combn(n,k) combinations","<r><combinations>","3","0","0","","","CC BY-SA 2.5","2490860","4452","4452","r","404559","3625322","3607736","",""
"2492947","1","2493010","","2010-03-22 14:27:39","","34","109634","<p>Does anybody know of a way of generating a boxplot in R with a line (or another symbol) in the value corresponding to the mean?</p>

<p>Thank you!</p>
","299077","","","","","2021-02-24 12:45:14","Boxplot in R showing the mean","<r><plot><boxplot>","5","0","12","","","CC BY-SA 2.5","2492947","4452","4452","r","404559","3625322","3607736","",""
"2494676","1","2495638","","2010-03-22 18:15:12","","2","2143","<p>I know I can use the RODBC library for accessing excel (.xls) docs from within Windows, but is there something similar for the Numbers program that come with iWorks?   If not, what other solutions are there for easily editing a spreadsheet (like a lookup table) and accessing it within R?  I know there the is an internal R editor, but I don't like it very much.</p>
","207258","","881229","","2016-05-11 16:28:00","2016-05-11 16:28:00","Can I access a Mac Numbers (.num) document from within R?","<r><macos><iwork><apple-numbers>","1","3","","","","CC BY-SA 2.5","2494676","4452","4452","r","404559","3625322","3607736","",""
"2497111","1","2497353","","2010-03-23 02:08:14","","11","15030","<p>I'm trying to access $a using the following example: </p>

<pre><code>df&lt;-data.frame(a=c(""x"",""x"",""y"",""y""),b=c(1,2,3,4))

&gt; df
  a b
1 x 1
2 x 2
3 y 3
4 y 4

test_fun &lt;- function (data.frame_in) {
    print (data.frame_in[1])
    }
</code></pre>

<p>I can now access $a if I use an index for the first column:</p>

<blockquote>
  <p>apply(df, 1, test_fun)</p>
</blockquote>

<pre><code>  a 
""x"" 
  a 
""x"" 
  a 
""y"" 
  a 
""y"" 
[1] ""x"" ""x"" ""y"" ""y""
</code></pre>

<p>But I cannot access column $a with the $ notation:  error: ""$ operator is invalid for atomic vectors""</p>

<pre><code>test_fun_2 &lt;- function (data.frame_in) {
    print (data.frame_in$a)
    }

&gt;apply(df, 1, test_fun_2)
Error in data.frame_in$a : $ operator is invalid for atomic vectors
</code></pre>

<p>Is this not possible?</p>
","207258","","207258","","2010-03-23 03:13:21","2013-06-05 13:25:38","R: How can I use apply on rows of a data.frame and get out $column_name?","<r><dataframe>","3","0","4","","","CC BY-SA 2.5","2497111","4452","4452","r","404559","3625322","3607736","",""
"2498285","1","2498975","","2010-03-23 07:47:18","","10","1239","<p>I'm writing an <a href=""http://en.wikipedia.org/wiki/R_%28programming_language%29"" rel=""nofollow noreferrer"">R</a> package that's going to be used by others, so I'm trying to get this one right!  I want to use <a href=""http://cran.r-project.org/web/packages/roxygen/index.html"" rel=""nofollow noreferrer"">roxygen</a> for documentation and <a href=""http://cran.r-project.org/web/packages/RUnit/index.html"" rel=""nofollow noreferrer"">RUnit</a> for unit testing, but I haven't used them before.</p>

<p>What packages exist (either on CRAN or elsewhere) that use either of these tools well?</p>
","74658","","63550","","2010-03-23 09:40:34","2010-03-23 12:00:34","What are good example R packages written using RUnit or roxygen?","<r><roxygen>","2","0","5","","","CC BY-SA 2.5","2498285","4452","4452","r","404559","3625322","3607736","",""
"2500896","1","2501867","","2010-03-23 14:58:40","","14","2083","<p>Is there a way to decode tinyURL links in R so that I can see which web pages they actually refer to?</p>
","300013","","37751","","2010-03-24 15:56:36","2015-03-24 11:43:41","decode tinyurl in R to get full url path?","<url><r>","4","0","5","","","CC BY-SA 2.5","2500896","4452","4452","r","404559","3625322","3607736","",""
"2501369","1","2501502","","2010-03-23 15:50:53","","0","645","<p>I can't install odfWeave - it looks like the problem is with the package XML, which gets as far as ""checking for xml2-config..."" and then cannot find it. :</p>

<pre><code>checking for xml2-config... no Cannot find xml2-config 
ERROR: configuration failed for package XML
* removing /home/andreas/R/i486-pc-linux-gnu-library/2.10/XML
* installing *source* package odfWeave ...
** R
** inst
** preparing package for lazy loading Warning in library(pkg, character.only
= TRUE, logical.return = TRUE, lib.loc = lib.loc) :   there is no package called 'XML' Error : package 'XML'
could not be loaded ERROR: lazy
loading failed for package odfWeave
* removing /home/andreas/R/i486-pc-linux-gnu-library/2.10/odfWeave
</code></pre>
","162832","","233467","","2015-08-06 23:17:31","2015-08-06 23:17:31","Installing odfWeave gets hung up on ""checking for xml2-config...""","<r>","2","1","","","","CC BY-SA 3.0","2501369","4452","4452","r","404559","3625322","3607736","",""
"2501895","1","2501913","","2010-03-23 16:54:42","","16","15656","<p>I would like to suppress output in R when I run my R script from the command prompt. </p>

<p>I tried numerous options including <code>--slave</code> and <code>--vanilla</code>. Those options lessens the amount of text outputted.</p>

<p>I also tried to pipe the output to <code>NUL</code> but that didn't help.</p>
","296564","","680068","","2015-10-02 07:50:35","2015-10-02 07:50:35","How to suppress output","<powershell><r><batch-file>","1","1","4","","","CC BY-SA 3.0","2501895","4452","4452","r","404559","3625322","3607736","",""
"2502485","1","2505163","","2010-03-23 18:14:47","","6","7324","<p>I am starting to use ggplot2. I have some small n (about 30 or so) granular data with lots of overlap. Neither jitter nor alpha (transparency) are suitable. Instead a stripchart with stack and offset do it best but I do not know how to do it in ggplot2. Do you know?</p>

<p>To see what the end result should be click on this <a href=""http://www.biomedcentral.com/1471-2180/7/56/figure/F1"" rel=""noreferrer"">graphic</a>.</p>

<p>Here is the script I used a few years ago.</p>

<pre><code>stripchart(SystData$DayTo1Syst~SystData$strain,vertical=TRUE,method=""stack"",pch=19,offset=.3,xlab=""Strain"",main=""Rapidity of Systemic Disease Onset"",ylab=""Days post inoculation"")
</code></pre>
","168139","","","","","2014-05-16 18:00:00","How does one overcome overlapping points without jitter or transparency in ggplot2","<r><ggplot2><overlap><stripchart>","3","3","5","","","CC BY-SA 2.5","2502485","4452","4452","r","404559","3625322","3607736","",""
"2504543","1","","","2010-03-24 00:10:08","","6","16041","<p>I'm getting some really bizarre stuff while trying to merge multiple data frames. Help!</p>

<p>I need to merge a bunch of data frames by the columns 'RID' and 'VISCODE'. Here is an example of what it looks like:</p>

<pre><code>d1 = data.frame(ID = sample(9, 1:100), RID = c(2, 5, 7, 9, 12),
            VISCODE = rep('bl', 5),
            value1 = rep(16, 5))

d2 = data.frame(ID = sample(9, 1:100), RID = c(2, 2, 2, 5, 5, 5, 7, 7, 7),
            VISCODE = rep(c('bl', 'm06', 'm12'), 3),
            value2 = rep(100, 9))

d3 = data.frame(ID = sample(9, 1:100), RID = c(2, 2, 2, 5, 5, 5, 9,9,9),
            VISCODE = rep(c('bl', 'm06', 'm12'), 3),
            value3 = rep(""a"", 9),
            values3.5 = rep(""c"", 9))

d4 = data.frame(ID =sample(8, 1:100), RID = c(2, 2, 5, 5, 5, 7, 7, 7, 9),
            VISCODE = c(c('bl', 'm12'), rep(c('bl', 'm06', 'm12'), 2), 'bl'),
            value4 = rep(""b"", 9))

dataList = list(d1, d2, d3, d4)
</code></pre>

<p>I looked at the answers to the question titled <a href=""https://stackoverflow.com/questions/2209258/merge-several-data-frames-into-one-data-frame-with-a-loop"">""Merge several data.frames into one data.frame with a loop.""</a> I used the reduce method suggested there as well as a loop I wrote:</p>

<pre><code>try1 = mymerge(dataList)

try2 &lt;- Reduce(function(x, y) merge(x, y, all= TRUE,
by=c(""RID"", ""VISCODE"")), dataList, accumulate=F)
</code></pre>

<p>where dataList is a list of data frames and mymerge is:</p>

<pre><code>mymerge = function(dataList){

L = length(dataList)

mdat = dataList[[1]]

  for(i in 2:L){

    mdat = merge(mdat, dataList[[i]], by.x = c(""RID"", ""VISCODE""),
                                  by.y = c(""RID"", ""VISCODE""), all = TRUE)
  }

mdat
}
</code></pre>

<p>For my test data and subsets of my real data, both of these work fine and produce exactly the same results. However, when I use larger subsets of my data, they both break down and give me the following error: Error in match.names(clabs, names(xi)) : names do not match previous names.</p>

<p>The really weird thing is that using this works:</p>

<pre><code>  dataList = list(demog[1:50,],
            neurobat[1:50,],
            apoe[1:50,],
            mmse[1:50,],
            faq[1:47, ])
</code></pre>

<p>And using this fails:</p>

<pre><code>  dataList = list(demog[1:50,],
            neurobat[1:50,],
            apoe[1:50,],
            mmse[1:50,],
            faq[1:48, ])
</code></pre>

<p>As far as I can tell, there is nothing special about row 48 of faq. Likewise, using this works:</p>

<pre><code>dataList = list(demog[1:50,],
            neurobat[1:50,],
            apoe[1:50,],
            mmse[1:50,],
            pdx[1:47, ])
</code></pre>

<p>And using this fails:</p>

<pre><code>dataList = list(demog[1:50,],
            neurobat[1:50,],
            apoe[1:50,],
            mmse[1:50,],
            pdx[1:48, ])
</code></pre>

<p>Row 48 in faq and row 48 in pdx have the same values for RID and VISCODE, the same value for EXAMDATE (something I'm not matching on) and different values for ID (another thing I'm not matching on). Besides the matching RID and VISCODE, I see anything special about them. They don't share any other variable names. This same scenario occurs elsewhere in the data without problems. </p>

<p>To add icing on the complication cake, this doesn't even work:</p>

<pre><code>dataList = list(demog[1:50,],
            neurobat[1:50,],
            apoe[1:50,],
            mmse[1:50,],
            faq[1:48, 2:3])
</code></pre>

<p>where columns 2 and 3 are ""RID"" and ""VISCODE"". </p>

<p>48 isn't even the magic number because this works:</p>

<pre><code> dataList = list(demog[1:500,],
            neurobat[1:500,],
            apoe[1:500,],
            mmse[1:457,])
</code></pre>

<p>while using mmse[1:458, ] fails. </p>

<p>I can't seem to come up with test data that causes the problem. Has anyone had this problem before? Any better ideas on how to merge?</p>
","300416","","367433","","2018-01-23 03:33:43","2018-01-23 03:33:43","Merge multiple data frames - Error in match.names(clabs, names(xi)) : names do not match previous names","<r><dataframe><merge>","1","7","3","","","CC BY-SA 3.0","2504543","4452","4452","r","404559","3625322","3607736","",""
"2504827","1","2504929","","2010-03-24 01:41:13","","11","25089","<p>I have a vector X that contains positive numbers that I want to bin/discretize.  For this vector, I want the numbers [0, 10) to show up just as they exist in the vector, but numbers [10,&infin;)  to be 10+.  </p>

<p>I'm using:</p>

<pre><code>x &lt;- c(0,1,3,4,2,4,2,5,43,432,34,2,34,2,342,3,4,2)
binned.x &lt;- as.factor(ifelse(x &gt; 10,""10+"",x))
</code></pre>

<p>but this feels klugey to me.  Does anyone know a better solution or a different approach?</p>
","176696","","2204410","","2020-08-28 08:15:04","2020-08-28 08:15:04","Binning a numeric variable","<r><binning>","3","2","5","","2010-03-24 01:46:19","CC BY-SA 4.0","2504827","4452","4452","r","404559","3625322","3607736","",""
"2508897","1","","","2010-03-24 15:21:26","","0","679","<p>I'm running an logit model using the Zelig package. I get the following error...what could be wrong?</p>

<pre><code>anes96two &lt;- zelig(trade962a ~ age962 + education962 + personal962 + economy962 + partisan962 + employment962 + union962 + home962 + market962 + race962 + income962, model=""mlogit"", data=data96)

 #Error in attr(tt, ""depFactors"")$depFactorVar : 
#  $ operator is invalid for atomic vectors
</code></pre>
","300936","","3576984","","2015-07-17 02:41:08","2015-07-17 02:41:08","Zelig: Error message","<r><r-zelig>","1","2","1","","","CC BY-SA 2.5","2508897","4452","4452","r","404559","3625322","3607736","",""
"2513142","1","2513196","","2010-03-25 04:52:05","","9","7321","<p>Suppose you have the following function <code>foo</code>.  When I'm running a <code>for</code> loop, I'd like it to skip the remainder of <code>foo</code> when <code>foo</code> initially returns the value of <code>0</code>.  However, <code>break</code> doesn't work when it's inside a function.  </p>

<p>As it's currently written, I get an error message, <code>no loop to break from, jumping to top level</code>.  </p>

<p>Any suggestions?</p>

<pre><code>foo &lt;- function(x) {
    y &lt;- x-2
    if (y==0) {break} # how do I tell the for loop to skip this
    z &lt;- y + 100
    z
}


for (i in 1:3) {
    print(foo(i))
}
</code></pre>
","142477","","563329","","2011-11-13 07:11:11","2011-11-13 07:11:11","breaking out of for loop when running a function inside a for loop in R","<r><for-loop>","5","1","6","","","CC BY-SA 3.0","2513142","4452","4452","r","404559","3625322","3607736","",""
"2515985","1","2516119","","2010-03-25 13:42:48","","2","2892","<p>I am looking for the way to annotate axis in ggplot2. The example of the problem can be found here: <a href=""http://learnr.wordpress.com/2009/09/24/ggplot2-back-to-back-bar-charts"" rel=""nofollow noreferrer"">http://learnr.wordpress.com/2009/09/24/ggplot2-back-to-back-bar-charts</a>. </p>

<p>The y axis of the chart (example graph in the link) has an annotation: (million euro). Is there a way to create such types of annotations in ggplot2? Looking at the documentation there is no obvious way, since the ggplot does not explicitly let you put objects outside plotting area. But maybe there is some workaround?</p>

<p>One of the possible workarounds I thought about is using scales:</p>

<pre><code>data=data.frame(x=1:10,y=1:10)
qplot(x=x,y=y,data=data)+scale_y_continuous(breaks=10.1,label=""Millions"")
</code></pre>

<p>But then how do I remove the tick? And it seems that since ggplot does not support multiple scales, I will need to grab the output of the scale_y_continuous, when it calculates the scales automaticaly and then add my custom break and label by hand. Maybe there is a better way?</p>
","144297","","","","","2010-03-25 14:00:22","Annotating axis in ggplot2","<r><ggplot2>","1","1","1","","","CC BY-SA 2.5","2515985","4452","4452","r","404559","3625322","3607736","",""
"2516400","1","2516929","","2010-03-25 14:40:14","","7","2469","<p>I want to write some temporary data to disk in an R package, and I want to be sure that it can run on every OS without assuming the user has admin rights.  Is there an existing R function that can provide a path to a temporary directory on all major OS's?  Or a way to reference a user's home directory?  </p>

<p>Otherwise, I was thinking of trying this: </p>

<pre><code>Sys.getenv(""temp"")
</code></pre>

<p>I presume that I can't expect people to have write access to their R locations, otherwise I could reference a path within the package directory: <code>.find.package(""package.name"")</code>.</p>
","163053","","","","","2017-01-17 14:01:56","Writing temporary data from R","<r>","2","0","1","","","CC BY-SA 2.5","2516400","4452","4452","r","404559","3625322","3607736","",""
"2517868","1","2519092","","2010-03-25 17:23:18","","5","951","<p>I'm trying to do a simple genomic track intersection in R, and running into major performance problems, probably related to my use of for loops.  </p>

<p>In this situation, I have pre-defined windows at intervals of 100bp and I'm trying to calculate how much of each window is covered by the annotations in mylist.  Graphically, it looks something like this:</p>

<pre><code>          0    100   200    300    400   500   600  
windows: |-----|-----|-----|-----|-----|-----|

mylist:    |-|   |-----------|
</code></pre>

<p>So I wrote some code to do just that, but it's fairly slow and has become a bottleneck in my code:</p>

<pre><code>##window for each 100-bp segment    
windows &lt;- numeric(6)

##second track
mylist = vector(""list"")
mylist[[1]] = c(1,20)
mylist[[2]] = c(120,320)


##do the intersection
for(i in 1:length(mylist)){
  st &lt;- floor(mylist[[i]][1]/100)+1
  sp &lt;- floor(mylist[[i]][2]/100)+1
  for(j in st:sp){       
    b &lt;- max((j-1)*100, mylist[[i]][1])
    e &lt;- min(j*100, mylist[[i]][2])
    windows[j] &lt;- windows[j] + e - b + 1
  }
}

print(windows)
[1]  20  81 101  21   0   0
</code></pre>

<p>Naturally, this is being used on data sets that are much larger than the example I provide here. Through some profiling, I can see that the bottleneck is in the for loops, but my clumsy attempt to vectorize it using *apply functions resulted in code that runs an order of magnitude more slowly.</p>

<p>I suppose I could write something in C, but I'd like to avoid that if possible. Can anyone suggest another approach that will speed this calculation up? </p>
","152159","","","","","2010-03-26 08:01:45","R optimization: How can I avoid a for loop in this situation?","<optimization><r><intersection><bioinformatics>","5","2","4","","","CC BY-SA 2.5","2517868","4452","4452","r","404559","3625322","3607736","",""
"2520780","1","2520972","","2010-03-26 02:15:08","","15","9185","<p>Imagine you have an object <code>foo</code> that you saved as <code>saved.file.rda</code> as follows:</p>

<pre><code>foo &lt;- 'a'
save(foo, file='saved.file.rda')
</code></pre>

<p>Suppose you load <code>saved.file.rda</code> into an environment with multiple objects but forgot the name of the object that is in <code>saved.file.rda</code>.  Is there a way in R to determine that name?  </p>

<p>You can do it the following way, which seems a little clunky:</p>

<pre><code>bar &lt;- load('saved.file.rda')
eval(parse(text=bar)) # this will pull up the object that was in saved.file.rda
</code></pre>

<p>However, is there a better way of doing this?</p>
","142477","","","","","2014-04-13 22:27:34","determining name of object loaded in R","<r>","3","3","7","","","CC BY-SA 2.5","2520780","4452","4452","r","404559","3625322","3607736","",""
"2521941","1","2532944","","2010-03-26 08:38:55","","2","387","<p>I need to show the values on the horizontal axis (aka abscissa, aka x-axis) converted into other units. Hence the need for a second axis.</p>
","302378","","302378","","2010-03-28 09:26:23","2012-07-19 15:47:46","How can one create a double horizontal axis for a plot in ggplot2?","<r><ggplot2>","1","0","","","","CC BY-SA 2.5","2521941","4452","4452","r","404559","3625322","3607736","",""
"2522396","1","2523208","","2010-03-26 10:13:47","","4","4337","<p>Most functions for generating lognormally distributed random numbers take the mean and standard deviation of the associated normal distribution as parameters.</p>

<p>My problem is that I only know the mean and the coefficient of variation of the lognormal distribution.  It is reasonably straight forward to derive the parameters I need for the standard functions from what I have:</p>

<p>If <code>mu</code> and <code>sigma</code> are the mean and standard deviation of the associated normal distribution, we know that</p>

<pre><code>coeffOfVar^2 = variance / mean^2
             = (exp(sigma^2) - 1) * exp(2*mu + sigma^2) / exp(mu + sigma^2/2)^2
             = exp(sigma^2) - 1
</code></pre>

<p>We can rearrange this to </p>

<pre><code>sigma = sqrt(log(coeffOfVar^2 + 1))
</code></pre>

<p>We also know that</p>

<pre><code>mean = exp(mu + sigma^2/2)
</code></pre>

<p>This rearranges to </p>

<pre><code>mu = log(mean) - sigma^2/2
</code></pre>

<p>Here's my R implementation</p>

<pre><code>rlnorm0 &lt;- function(mean, coeffOfVar, n = 1e6)
{
   sigma &lt;- sqrt(log(coeffOfVar^2 + 1))
   mu &lt;- log(mean) - sigma^2 / 2
   rlnorm(n, mu, sigma)
}
</code></pre>

<p>It works okay for small coefficients of variation</p>

<pre><code>r1 &lt;- rlnorm0(2, 0.5)
mean(r1)                 # 2.000095
sd(r1) / mean(r1)        # 0.4998437
</code></pre>

<p>But not for larger values</p>

<pre><code>r2 &lt;- rlnorm0(2, 50)
mean(r2)                 # 2.048509
sd(r2) / mean(r2)        # 68.55871
</code></pre>

<p>To check that it wasn't an R-specific issue, I reimplemented it in MATLAB. (Uses stats toolbox.)</p>

<pre><code>function y = lognrnd0(mean, coeffOfVar, sizeOut)
if nargin &lt; 3 || isempty(sizeOut)
   sizeOut = [1e6 1];
end
sigma = sqrt(log(coeffOfVar.^2 + 1));
mu = log(mean) - sigma.^2 ./ 2;
y = lognrnd(mu, sigma, sizeOut);
end

r1 = lognrnd0(2, 0.5);
mean(r1)                  % 2.0013
std(r1) ./ mean(r1)       % 0.5008

r2 = lognrnd0(2, 50);
mean(r2)                  % 1.9611
std(r2) ./ mean(r2)       % 22.61
</code></pre>

<p>Same problem.  The question is, why is this happening?  Is it just that the standard deviation is not robust when the variation is that wide?  Or have I screwed up somewhere?</p>
","134830","","134830","","2014-11-19 08:42:28","2014-11-19 08:42:28","Generating lognormally distributed random number from mean, coeff of variation","<matlab><r><statistics>","1","4","2","","","CC BY-SA 3.0","2522396","4452","4452","r","404559","3625322","3607736","",""
"2526305","1","","","2010-03-26 19:53:16","","1","1057","<p>I have a system set up that's been happily running R from a java servlet, spawning processed &amp; hooking into the process's stdin, stdout, and stderr streams, as in the second andwer to <a href=""https://stackoverflow.com/questions/2180235/r-from-within-java"">this question</a>.  </p>

<p>After a system upgrade (that included glibc), the input is no longer reaching the R process.*  </p>

<p>Until now, 'R --vanilla --slave -f [file] ...' was working fine for me.  I also have no swing dependencies right now, so I'm somewhat reluctant to add them. (I may actually not be <em>able</em> to add swing dependencies; am I right that using REngine automatically brings swing in?  The examples import all of swing.)</p>

<p>Are there advantages to switching to JRI?  What changes would I need to make to my R script?  (It currently reads from stdin and writes to stdout).  I'm not finding the provided examples terribly helpful for how to use JRI in this situation. </p>

<p>Thanks for your help &amp; comments.</p>

<p>*I can't even tell if the problem is data being written too soon or too late, but that's a separate issue/question; if I move to JRI I'm hoping it all becomes moot.</p>
","226041","","-1","","2017-05-23 12:03:30","2010-03-26 20:40:44","R from java with no graphics: is it worth moving to JRI","<java><r><jri>","1","0","","","","CC BY-SA 2.5","2526305","4452","4452","r","404559","3625322","3607736","",""
"2527713","1","","","2010-03-27 00:46:29","","7","2555","<p>A recurring analysis paradigm I encounter in my research is the need to subset based on all different group id values, performing statistical analysis on each group in turn, and putting the results in an output matrix for further processing/summarizing.</p>
<p>How I typically do this in R is something like the following:</p>
<pre><code>data.mat &lt;- read.csv(&quot;...&quot;)  
groupids &lt;- unique(data.mat$ID)  #Assume there are then 100 unique groups
  
results &lt;- matrix(rep(&quot;NA&quot;,300),ncol=3,nrow=100)  

for(i in 1:100) {  
  tempmat &lt;- subset(data.mat,ID==groupids[i])  

  # Run various stats on tempmat (correlations, regressions, etc), checking to  
  # make sure this specific group doesn't have NAs in the variables I'm using  
  # and assign results to x, y, and z, for example.  

  results[i,1] &lt;- x  
  results[i,2] &lt;- y  
  results[i,3] &lt;- z  
}
</code></pre>
<p>This ends up working for me, but depending on the size of the data and the number of groups I'm working with, this can take up to three days.</p>
<p>Besides branching out into parallel processing, is there any &quot;trick&quot; for making something like this run faster? For instance, converting the loops into something else (something like an apply with a function containing the stats I want to run inside the loop), or eliminating the need to actually assign the subset of data to a variable?</p>
<h3>Edit:</h3>
<p>Maybe this is just common knowledge (or sampling error), but I tried subsetting with brackets in some of my code rather than using the subset command, and it seemed to provide a slight performance gain which surprised me. I have some code I used and output below using the same object names as above:</p>
<pre><code>system.time(for(i in 1:1000){data.mat[data.mat$ID==groupids[i],]})  
</code></pre>
<blockquote>
<pre><code>   user  system elapsed  
 361.41   92.62  458.32
</code></pre>
</blockquote>
<pre><code>system.time(for(i in 1:1000){subset(data.mat,ID==groupids[i])})  
</code></pre>
<blockquote>
<pre><code>   user  system elapsed   
 378.44  102.03  485.94
</code></pre>
</blockquote>
<h3>Update:</h3>
<p>In one of the answers, jorgusch suggested that I use the data.table package to speed up my subsetting. So, I applied it to a problem I ran earlier this week. In a dataset with a little over 1,500,000 rows, and 4 columns (ID,Var1,Var2,Var3), I wanted to calculate two correlations in each group (indexed by the &quot;ID&quot; variable). There are slightly more than 50,000 groups. Below is my initial code (which is very similar to the above):</p>
<pre><code>data.mat &lt;- read.csv(&quot;//home....&quot;)  
groupids &lt;- unique(data.mat$ID)
  
results &lt;- matrix(rep(&quot;NA&quot;,(length(groupids) * 3)),ncol=3,nrow=length(groupids))  

for(i in 1:length(groupids)) {  
  tempmat &lt;- data.mat[data.mat$ID==groupids[i],] 

  results[i,1] &lt;- groupids[i]  
  results[i,2] &lt;- cor(tempmat$Var1,tempmat$Var2,use=&quot;pairwise.complete.obs&quot;)  
  results[i,3] &lt;- cor(tempmat$Var1,tempmat$Var3,use=&quot;pairwise.complete.obs&quot;)    

}  
</code></pre>
<p>I'm re-running that right now for an exact measure of how long that took, but from what I remember, I started it running when I got into the office in the morning and it finished sometime in mid-afternoon. Figure 5-7 hours.</p>
<p>Restructuring my code to use data.table....</p>
<pre><code>data.mat &lt;- read.csv(&quot;//home....&quot;)  
data.mat &lt;- data.table(data.mat)  
  
testfunc &lt;- function(x,y,z) {  
  temp1 &lt;- cor(x,y,use=&quot;pairwise.complete.obs&quot;)  
  temp2 &lt;- cor(x,z,use=&quot;pairwise.complete.obs&quot;)  
  res &lt;- list(temp1,temp2)  
  res  
}  

system.time(test &lt;- data.mat[,testfunc(Var1,Var2,Var3),by=&quot;ID&quot;])  
</code></pre>
<blockquote>
<pre><code> user  system  elapsed  
16.41    0.05    17.44  
</code></pre>
</blockquote>
<p>Comparing the results using data.table to the ones I got from using a for loop to subset all IDs and record results manually, they seem to have given me the same answers(though I'll have to check that a bit more thoroughly). That looks to be a pretty big speed increase.</p>
<h3>Update 2:</h3>
<p>Running the code using subsets finally finished up again:</p>
<blockquote>
<pre><code>   user     system   elapsed  
17575.79  4247.41   23477.00
</code></pre>
</blockquote>
<h3>Update 3:</h3>
<p>I wanted to see if anything worked out differently using the plyr package that was also recommended. This is my first time using it, so I may have done things somewhat inefficiently, but it still helped substantially compared to the for loop with subsetting.</p>
<p>Using the same variables and setup as before...</p>
<pre><code>data.mat &lt;- read.csv(&quot;//home....&quot;)  
system.time(hmm &lt;- ddply(data.mat,&quot;ID&quot;,function(df)c(cor(df$Var1,df$Var2,  use=&quot;pairwise.complete.obs&quot;),cor(df$Var1,df$Var3,use=&quot;pairwise.complete.obs&quot;))))  
</code></pre>
<blockquote>
<pre><code>  user  system elapsed  
250.25    7.35  272.09  
</code></pre>
</blockquote>
","302970","","-1","","2020-06-20 09:12:55","2018-05-29 10:06:55","What's the higher-performance alternative to for-loops for subsetting data by group-id?","<r><performance><loops><data.table><subset>","4","3","3","","","CC BY-SA 4.0","2527713","4452","4452","r","404559","3625322","3607736","",""
"2531372","1","2531417","","2010-03-27 23:45:54","","56","9750","<p><code>ess-mode</code> is ""Emacs speaks statistics."" This mode is useful for editing programs for R or Splus (two separate statistics packages).</p>

<p>In my buffer, when ever I type <code>_</code> the character is replaced with <code>&lt;-</code>, which is very frustrating.  Is there an emacs lisp statement to turn off this behavior?</p>

<p>emacs: 22.1.1
ess-mode release (unknown)</p>
","30636","","","user1131435","2013-11-18 06:22:35","2019-07-30 09:56:46","How to stop emacs from replacing underbar with <- in ess-mode","<r><emacs><ess>","6","2","9","","","CC BY-SA 3.0","2531372","4452","4452","r","404559","3625322","3607736","",""
"2531402","1","2542668","","2010-03-28 00:02:00","","9","2929","<h3>Background</h3>

<p>Right now, I'm creating a multiple-predictor linear model and generating diagnostic plots to assess regression assumptions. (It's for a multiple regression analysis stats class that I'm loving at the moment :-)</p>

<p>My textbook (Cohen, Cohen, West, and Aiken 2003) recommends plotting each predictor against the residuals to make sure that:</p>

<ol>
<li>The residuals don't systematically covary with the predictor</li>
<li>The residuals are homoscedastic with respect to each predictor in the model</li>
</ol>

<p>On point (2), my textbook has this to say:</p>

<blockquote>
  <p>Some statistical packages allow the analyst to plot lowess fit lines at the mean of the residuals (0-line), 1 standard deviation above the mean, and 1 standard deviation below the mean of the residuals....In the present case {their example}, the two lines {mean + 1sd and mean - 1sd} remain roughly parallel to the lowess {0} line, consistent with the interpretation that the variance of the residuals does not change as a function of X. (p. 131)</p>
</blockquote>

<h3>How can I modify loess lines?</h3>

<p>I know how to generate a scatterplot with a ""0-line,"":</p>

<pre><code>    # First, I'll make a simple linear model and get its diagnostic stats
    library(ggplot2)
    data(cars)
    mod &lt;- fortify(lm(speed ~ dist, data = cars))
    attach(mod)
    str(mod)

    # Now I want to make sure the residuals are homoscedastic
    qplot (x = dist, y = .resid, data = mod) + 
    geom_smooth(se = FALSE) # ""se = FALSE"" Removes the standard error bands
</code></pre>

<p>But does anyone know how I can use <code>ggplot2</code> and <code>qplot</code> to generate plots where the 0-line, ""mean + 1sd"" AND ""mean - 1sd"" lines would be superimposed? Is that a weird/complex question to be asking?</p>
","180626","","180626","","2010-03-29 03:14:07","2010-03-30 03:19:12","How can I superimpose modified loess lines on a ggplot2 qplot?","<r><statistics><ggplot2>","3","6","5","","","CC BY-SA 2.5","2531402","4452","4452","r","404559","3625322","3607736","",""
"2531489","1","2532018","","2010-03-28 00:40:23","","11","26905","<p>Can you tell me what is returned by <strong>glm$residuals</strong> and <strong>resid(glm)</strong> where glm is a quasipoisson object.  e.g. How would I create them using glm$y and glm$linear.predictors. </p>

<p><strong>glm$residuals</strong></p>

<pre><code>     n missing  unique    Mean     .05     .10   .25  .50     .75     .90     .95

 37715   10042    2174 -0.2574 -2.7538 -2.2661 -1.4480 -0.4381  0.7542  1.9845  2.7749



lowest : -4.243 -3.552 -3.509 -3.481 -3.464
highest:  8.195  8.319  8.592  9.089  9.416
</code></pre>

<p><strong>resid(glm)</strong></p>

<pre><code>        n    missing     unique       Mean        .05        .10        .25
    37715          0       2048 -2.727e-10    -1.0000    -1.0000    -0.6276
      .50        .75        .90        .95
  -0.2080     0.4106     1.1766     1.7333

lowest : -1.0000 -0.8415 -0.8350 -0.8333 -0.8288
highest:  7.2491  7.6110  7.6486  7.9574 10.1932
</code></pre>
","303400","","303400","","2018-08-03 13:37:46","2018-08-03 13:37:46","Understanding glm$residuals and resid(glm)","<r><glm>","2","0","18","","","CC BY-SA 4.0","2531489","4452","4452","r","404559","3625322","3607736","",""
"2535234","1","2540172","","2010-03-29 00:44:56","","28","53471","<p>I'm wondering if there is a built in function in R that can find the cosine similarity (or cosine distance) between two arrays?</p>

<p>Currently, I implemented my own function, but I can't help but think that R should already come with one.</p>
","296564","","202229","user3710546","2017-03-30 21:00:15","2020-12-03 17:53:07","Find cosine similarity between two arrays","<arrays><r><distance><similarity><trigonometry>","7","3","22","","","CC BY-SA 3.0","2535234","4452","4452","r","404559","3625322","3607736","",""
"2535740","1","","","2010-03-29 04:06:31","","3","5715","<p>I have high frequency commodity price data that I need to analyze. My objective is to not assume any seasonal component and just identify a trend. Here is where I run into problems with R. There are two main functions that I know of to analyze this time series: decompose() and stl(). The problem is that they both take a ts object type with a frequency parameter greater than or equal to 2. Is there some way I can assume a frequency of 1 per unit time and still analyze this time series using R? I'm afraid that if I assume frequency greater than 1 per unit time, and seasonality is calculated using the frequency parameter, then my forecasts are going to depend on that assumption. </p>

<pre><code>names(crude.data)=c('Date','Time','Price')
names(crude.data)
freq = 2
win.graph()
plot(crude.data$Time,crude.data$Price, type=""l"")
crude.data$Price = ts(crude.data$Price,frequency=freq) 
</code></pre>

<p>I want frequency to be 1 per unit time but then decompose() and stl() don't work!</p>

<pre><code>dim(crude.data$Price)
decom = decompose(crude.data$Price)
win.graph()
plot(decom$random[2:200],type=""line"")
acf(decom$random[freq:length(decom$random-freq)])
</code></pre>

<p>Thank you.</p>
","","user303922","144157","","2010-03-29 09:13:38","2010-03-29 09:13:38","Avoiding seasonality assumption for stl() or decompose() in R","<r><time-series>","1","1","3","","","CC BY-SA 2.5","2535740","4452","4452","r","404559","3625322","3607736","",""
"2540129","1","","","2010-03-29 17:58:12","","70","55456","<p>I'm trying to put multiple lattice plots in one window using <code>levelplot</code> by setting <code>par(mfrow=c(2,1))</code> but it seems to be ignoring this.</p>

<p>Is there a particular function for setting multiple plots in <code>lattice</code>?</p>
","304454","","","","","2016-11-19 11:19:41","Lattice: multiple plots in one window?","<r><lattice>","3","1","28","","","CC BY-SA 2.5","2540129","4452","4452","r","404559","3625322","3607736","",""
"2540232","1","","","2010-03-29 18:16:46","","5","5467","<p>For example, if I need that the user specifies the number of rows and columns of a matrix:</p>

<p>PROMPT: Number of rows?: </p>

<p>USER INPUT: [a number]</p>

<p>I need that R 'waits' for the input. Then save [a number] into a variable v1. Next, </p>

<p>PROMPT: Number of columns?: </p>

<p>USER INPUT: [another number]</p>

<p>Also save [another number] into a variable v2. At the end, I will have two variables (v1, v2) that will be used in the rest of the code.</p>

<p>""readline"" only works for one input at a time. I can't run the two lines together</p>

<pre><code>v1 &lt;- readline(""Number of rows?: "")
v2 &lt;- readline(""Number of columns?: "")
</code></pre>

<p>Any ideas or suggestions?</p>

<p>Thank you in advance</p>
","304468","","","","","2010-03-29 19:26:36","How to allow multiple inputs from user using R?","<r><user-input>","2","0","2","","","CC BY-SA 2.5","2540232","4452","4452","r","404559","3625322","3607736","",""
"2545228","1","2545548","","2010-03-30 12:48:04","","77","175715","<p>I have a dataframe with numeric entries like this one</p>

<pre><code>test &lt;- data.frame(x = c(26, 21, 20), y = c(34, 29, 28))
</code></pre>

<p>How can I get the following vector?</p>

<pre><code>&gt; 26, 34, 21, 29, 20, 28
</code></pre>

<p>I was able to get it using the following, but I guess there should be a much more elegant way</p>

<pre><code>X &lt;- test[1, ]
for (i in 2:dim(test)[ 1 ]){
   X &lt;- cbind(X, test[i, ])
   } 
</code></pre>
","299077","","680068","","2019-04-04 06:55:23","2019-07-31 03:12:16","Convert a dataframe to a vector (by rows)","<r><dataframe><vector><r-faq>","3","0","26","","","CC BY-SA 4.0","2545228","4452","4452","r","404559","3625322","3607736","",""
"2545668","1","2546589","","2010-03-30 13:46:03","","1","1826","<p>I am trying to convert a 120mb XML database of terrorist incidents (the first file for download available here <a href=""http://wits.nctc.gov/Export.do"" rel=""nofollow noreferrer"">http://wits.nctc.gov/Export.do</a>) to spreadsheet form so I can merge it with other data and do statistical analysis.</p>

<p>So far I have worked with Stata, which is useless now because it wont read XML. the site offers smaller files by month which can be opened via excel, but excel does not display them in the form I want and there ought to be a better way to transform the complete file rather than opening over a hundred single files, manually saving them as tab separated and then merging them.</p>

<p>I am looking for a way to convert the complete WITS.xml file to a spreadsheet where one row represents a single terrorist incident, and no info from the xml should be missing. even a differently structured XML is probably fine. I have tried converters but they are either not free, do not perform in the way I want them to or the file size is too large, and I have no idea how to use xslt. I am studying economics, and my programming knowledge is virtually nonexistent, which is increasingly becoming a drawback. I have seen that there is a package for R that I could use, maybe now is the right moment to start learning R or some other language. However, if there is a quick and easy way to do it, I'd sure prefer it.</p>
","278616","","4370109","","2015-12-03 18:57:51","2015-12-03 18:57:51","Creating a spreadsheet from an XML file","<xml><r><statistics><stata>","2","0","0","","","CC BY-SA 3.0","2545668","4452","4452","r","404559","3625322","3607736","",""
"2545879","1","2546227","","2010-03-30 14:13:37","","30","25165","<p>What if one wants to <code>apply</code> a functon i.e. to each row of a matrix, but also wants to use as an argument for this function the number of that row. As an example, suppose you wanted to get the n-th root of the numbers in each row of a matrix, where n is the row number. Is there another way (using <code>apply</code> only) than column-binding the row numbers to the initial matrix, like this?</p>

<pre><code>test &lt;- data.frame(x=c(26,21,20),y=c(34,29,28))

t(apply(cbind(as.numeric(rownames(test)),test),1,function(x) x[2:3]^(1/x[1])))
</code></pre>

<p>P.S. Actually if <em>test</em> was really a matrix :  <code>test &lt;- matrix(c(26,21,20,34,29,28),nrow=3)</code>  , rownames(test) doesn't help :(
Thank you.</p>
","299077","","","","","2017-10-18 11:59:56","Row/column counter in 'apply' functions","<r><apply>","5","2","11","","","CC BY-SA 2.5","2545879","4452","4452","r","404559","3625322","3607736","",""
"2546016","1","2548085","","2010-03-30 14:33:16","","8","14129","<p>I have the following simple data</p>

<pre><code>data &lt;- structure(list(status = c(9, 5, 9, 10, 11, 10, 8, 6, 6, 7, 10, 
10, 7, 11, 11, 7, NA, 9, 11, 9, 10, 8, 9, 10, 7, 11, 9, 10, 9, 
9, 8, 9, 11, 9, 11, 7, 8, 6, 11, 10, 9, 11, 11, 10, 11, 10, 9, 
11, 7, 8, 8, 9, 4, 11, 11, 8, 7, 7, 11, 11, 11, 6, 7, 11, 6, 
10, 10, 9, 10, 10, 8, 8, 10, 4, 8, 5, 8, 7), statusgruppe = c(0, 
0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, NA, 0, 1, 0, 1, 
0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 
1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 
1, 0, 1, 1, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0)), .Names = c(""status"", 
""statusgruppe""), class = ""data.frame"", row.names = c(NA, -78L
))
</code></pre>

<p>from that I'd like to make a histogram:</p>

<pre><code>ggplot(data, aes(status))+
geom_histogram(aes(y=..density..),
     binwidth=1, colour = ""black"",
     fill=""white"")+
theme_bw()+
scale_x_continuous(""Staus"", breaks=c(min(data$status,na.rm=T), median(data$status, na.rm=T), max(data$status, na.rm=T)),labels=c(""Low"", ""Middle"", ""High""))+
scale_y_continuous(""Percent"", formatter=""percent"")
</code></pre>

<p>Now - i'd like for the bins to take colou according to value - e.g. bins with value > 9 gets  dark grey - everything else should be light grey.</p>

<p>I have tried with <code>fill=statusgruppe</code>, <code>scale_fill_grey(breaks=9)</code> etc. - but I can't get it to work. Any ideas?</p>
","162832","","457898","","2011-03-25 09:29:37","2011-03-25 09:29:37","how to define fill colours in ggplot histogram?","<r><ggplot2>","3","0","3","","","CC BY-SA 2.5","2546016","4452","4452","r","404559","3625322","3607736","",""
"2547306","1","2547919","","2010-03-30 17:40:06","","35","5718","<p>I'd like to spawn several graphics windows from within a function in R using ggplot graphics...</p>

<pre><code>testf &lt;- function(a, b) {
  devAskNewPage(TRUE)
  qplot(a, b);
  # grid.newpage(recording = TRUE)
  dev.new()
  qplot(a, a+a);
  # grid.newpage(recording = TRUE)
  dev.new()
  qplot(b, b+b);
}

library(ggplot2)

x &lt;- rnorm(50)
y &lt;- rnorm(50)
testf(x, y)
</code></pre>

<p>However, neither dev.new() nor grid.newpage() seems to flush the preceding plot.</p>

<p>I know that, in R, functions normally only produce the last thing they evaluate, but I'd like to understand the process better and to learn of any possible workarounds. </p>

<p>Thoughts?</p>
","165787","","636656","","2012-09-22 21:09:59","2012-09-22 21:09:59","Generate multiple graphics from within an R function","<r><ggplot2><r-faq>","1","5","6","","","CC BY-SA 2.5","2547306","4452","4452","r","404559","3625322","3607736","",""
"2547402","1","8189441","","2010-03-30 17:55:07","","428","308397","<p>In R, <code>mean()</code> and <code>median()</code> are standard functions which do what you'd expect.  <code>mode()</code> tells you the internal storage mode of the object, not the value that occurs the most in its argument. But is there is a standard library function that implements the statistical mode for a vector (or list)?</p>
","5222","","903061","","2020-08-20 13:47:20","2021-02-08 14:22:57","How to find the statistical mode?","<r><statistics><r-faq>","36","2","123","","","CC BY-SA 4.0","2547402","4452","4452","r","404559","3625322","3607736","",""
"2547447","1","2552083","","2010-03-30 18:02:07","","47","3365","<p><a href=""http://en.wikipedia.org/wiki/R_%28programming_language%29"" rel=""noreferrer"">R</a> is a statistics programming language.  Part of R is the use of Packages, which themselves are written in the R language.  Programming best practice includes the use of unit-testing to test the functions within these packages while they are being written and when they are used.</p>

<p>I am aware of a few packages for unit testing within R, these being</p>

<ul>
<li><a href=""http://cran.r-project.org/web/packages/RUnit/index.html"" rel=""noreferrer"">RUnit</a></li>
<li><a href=""http://cran.r-project.org/web/packages/svUnit/index.html"" rel=""noreferrer"">Svunit</a></li>
<li><a href=""http://cran.r-project.org/web/packages/testthat/index.html"" rel=""noreferrer"">Testthat</a></li>
</ul>

<p>I'm interested to know;</p>

<p>Are there any other packages out there ?
Given peoples experience, do these packages excel at different things ?
What's the current state of the art in unit testing for R ?</p>
","74658","","164901","","2010-04-01 01:59:28","2016-10-06 05:59:40","What is the current state of Unit testing support in the R language","<unit-testing><r>","2","0","13","","","CC BY-SA 2.5","2547447","4452","4452","r","404559","3625322","3607736","",""
"2548815","1","2548871","","2010-03-30 21:16:37","","165","89270","<p>Is there a way to extract the file name from the file full path (part of a file path) without the hassle of manipulating string?</p>

<p>The equivalent in Java would be:</p>

<pre><code>File f = new File (""C:/some_dir/a"")
f.getName() //output a
f.getFullAbsolutePath() //output c:/some_dir/a
</code></pre>
","296564","","680068","","2016-09-30 08:15:28","2020-02-19 09:19:41","Find file name from full file path","<file><r><path>","2","0","24","","","CC BY-SA 3.0","2548815","4452","4452","r","404559","3625322","3607736","",""
"2551921","1","2553324","","2010-03-31 10:00:59","","19","13757","<p>I'm trying to display frequencies within barplot ... well, I want them <strong>somewhere</strong> in the graph: under the bars, within bars, above bars or in the legend area. And I recall (I may be wrong) that it can be done in <code>ggplot2</code>. This is probably an easy one... at least it seems easy. Here's the code:</p>

<pre><code>p &lt;- ggplot(mtcars)
p + aes(factor(cyl)) + geom_bar()
</code></pre>

<p>Is there any chance that I can get frequencies embedded in the graph?</p>
","457898","","","","","2019-01-16 23:03:57","Show frequencies along with barplot in ggplot2","<r><ggplot2><frequency>","5","0","8","","","CC BY-SA 2.5","2551921","4452","4452","r","404559","3625322","3607736","",""
"2553108","1","2554412","","2010-03-31 13:07:38","","4","3046","<p>I have a dataframe which contains (among other things) a numeric column with a concentration, and a factor column with a status flag.  This status flag contains NA's.</p>

<p>Here's an example</p>

<pre><code>df&lt;-structure(list(conc = c(101.769, 1.734, 62.944, 92.697, 25.091, 27.377, 24.343, 55.084, 0.335, 23.280), status = structure(c(NA, NA, NA, NA, NA, NA, 2L, NA, 1L, NA), .Label = c(""&lt;LLOQ"", ""NR""), class = ""factor"")), .Names = c(""conc"", ""status""), row.names = c(NA, -10L), class = ""data.frame"")
</code></pre>

<p>I want to replace the concentration column with a string for some values of the flag column, or with the concentration value formatted to a certain number of significant digits.</p>

<p>When I try this</p>

<pre><code>ifelse(df$status==""NR"",""NR"",df$conc)
</code></pre>

<p>The NA's in the status flag don't trigger either the true or false condition (and return NA) - as the documentation suggests it will.  I could loop over the rows and use IF then else on each one but this seems inefficient.</p>

<p>Am I missing something ?  I've tried as.character(df$status) as well which doesn't work.  My mojo must be getting low....</p>
","74658","","5414452","","2016-01-23 11:03:42","2016-01-23 11:03:42","Replace values in a dataframe based on another factor which contains NA's in R","<r><dataframe>","3","0","3","","","CC BY-SA 2.5","2553108","4452","4452","r","404559","3625322","3607736","",""
"2557863","1","2567869","","2010-04-01 02:51:15","","20","23967","<p>Are there any R packages for the calculation of Kendall's tau-b and tau-c, and their associated standard errors?  My searches on Google and Rseek have turned up nothing, but surely someone has implemented these in R.</p>
","143383","","202229","","2015-07-14 09:10:18","2018-07-13 05:34:36","Measures of association in R -- Kendall's tau-b and tau-c","<r><statistics><distribution>","9","1","18","","","CC BY-SA 2.5","2557863","4452","4452","r","404559","3625322","3607736","",""
"2558191","1","2558354","","2010-04-01 04:49:36","","14","17329","<p>I need to summarize a data frame by some variables, ignoring the others. This is sometimes referred to as collapsing. E.g. if I have a dataframe like this:  </p>

<pre><code>Widget Type Energy  
egg 1 20  
egg 2 30  
jap 3 50  
jap 1 60
</code></pre>

<p>Then collapsing by Widget, with Energy the dependent variable,   Energy~Widget, would yield  </p>

<pre><code>Widget Energy  
egg  25  
jap  55  
</code></pre>

<p>In Excel the closest functionality might be ""Pivot tables"" and I've worked out how to do it in python ( <a href=""http://alexholcombe.wordpress.com/2009/01/26/summarizing-data-by-combinations-of-variables-with-python/"" rel=""noreferrer"">http://alexholcombe.wordpress.com/2009/01/26/summarizing-data-by-combinations-of-variables-with-python/</a>), and here's an example with R using doBy library to do something very related ( <a href=""http://www.mail-archive.com/r-help@r-project.org/msg02643.html"" rel=""noreferrer"">http://www.mail-archive.com/r-help@r-project.org/msg02643.html</a>), but is there an easy way to do the above?  And even better is there anything built into the ggplot2 library to create plots that collapse across some variables?</p>
","302378","","415864","","2014-07-31 18:19:35","2014-07-31 18:19:35","How can I collapse a dataframe by some variables, taking mean across others","<r><ggplot2><pivot-table>","3","0","7","","","CC BY-SA 3.0","2558191","4452","4452","r","404559","3625322","3607736","",""
"2560431","1","","","2010-04-01 12:53:59","","1","4998","<p>I would like to create, in a function, a loop to create a data.frame with a variable number of columns.</p>

<p>With something like :</p>

<pre><code>a = c(""a"",""b"")
b = c(list(1,2,3), list(4,5,6))
data.frame(a,b)
</code></pre>

<p>I would like to get a data-frame like :</p>

<pre><code>a 1 2 3
b 4 5 6
</code></pre>

<p>Instead of I obtain:</p>

<pre><code>a  1  2  3  4  5  6
b  1  2  3  4  5  6
</code></pre>

<p>Thank you!</p>

<p>PS : I also tried with rbind, but it doesn't work...</p>
","306879","","8753669","","2018-09-27 19:54:43","2018-09-27 19:54:43","How to create a data.frame with a unknown number of columns?","<r><dataframe>","4","1","1","","","CC BY-SA 4.0","2560431","4452","4452","r","404559","3625322","3607736","",""
"2563511","1","2563683","","2010-04-01 20:37:56","","3","240","<p>I am looking for a function that will tell me, for a list of packages, which of them is up to date and which is not (I need it so to trace back an R crash).</p>

<p>Thanks,</p>

<p>Tal</p>
","256662","","","","","2010-04-01 21:08:45","In R: How can I know if my packages are up to date?","<function><r><packages>","1","1","1","","","CC BY-SA 2.5","2563511","4452","4452","r","404559","3625322","3607736","",""
"2563824","1","","","2010-04-01 21:30:44","","17","67439","<p>I'm trying to write from a loop to a data frame in R, for example a loop like this></p>

<pre><code>for (i in 1:20) {
print(c(i+i,i*i,i/1))}
</code></pre>

<p>and to write each line of 3 values to a data frame with three columns, so that each iteration takes on a new row. I've tried using matrix, with ncol=3 and filled by rows, but only get the last item from the loop.</p>

<p>Thanks.</p>
","253579","","271616","","2010-10-17 01:45:00","2018-05-17 16:35:07","writing to a dataframe from a for-loop in R","<r><for-loop><dataframe>","4","0","10","","","CC BY-SA 2.5","2563824","4452","4452","r","404559","3625322","3607736","",""
"2564141","1","2570241","","2010-04-01 22:45:11","","1","384","<p>I am installing Matrix on a Linux x86_64 multicore system. I receive a message:</p>

<pre><code>Warning message:
In install.packages(""Matrix"", dependencies = TRUE) :
  package 'Matrix' is not available
</code></pre>

<p>Sure enough, there are not many details on package troubleshooting. It appears that Matrix is available for x86_64, but it's not available in any repository. How come?</p>
","143813","","135944","","2010-04-02 20:20:49","2010-04-03 04:39:05","Problem installing packages","<linux><r><installation>","1","4","","","","CC BY-SA 2.5","2564141","4452","4452","r","404559","3625322","3607736","",""
"2564258","1","2564276","","2010-04-01 23:28:14","","628","1528170","<p>I would like to plot y1 and y2 in the same plot.</p>

<pre><code>x  &lt;- seq(-2, 2, 0.05)
y1 &lt;- pnorm(x)
y2 &lt;- pnorm(x, 1, 1)
plot(x, y1, type = ""l"", col = ""red"")
plot(x, y2, type = ""l"", col = ""green"")
</code></pre>

<p>But when I do it like this, they are not plotted in the same plot together.</p>

<p>In Matlab one can do <code>hold on</code>, but does anyone know how to do this in R?</p>
","256439","","1851712","","2018-03-16 08:01:41","2019-11-25 03:29:49","Plot two graphs in same plot in R","<r><plot><ggplot2><r-faq>","16","2","174","","","CC BY-SA 3.0","2564258","4452","4452","r","404559","3625322","3607736","",""
"2564275","1","2564421","","2010-04-01 23:32:50","","0","511","<p>This is strange - I think?</p>

<pre><code>library(ggplot2)
tf &lt;- which(sapply(diamonds, is.factor))
diamonds.tf &lt;- diamonds[,tf]
</code></pre>

<p>So far so good. But next comes the trouble:</p>

<pre><code>pl.f &lt;- ggplot(diamonds.tf, aes(x=diamonds.tf[,i]))+
geom_bar()+
xlab(names(diamonds.tf[i]))

for (i in 1:ncol(diamonds.tf)) {
ggsave(paste(""plot.f"",i,"".png"",sep=""""), plot=pl.f, height=3.5, width=5.5)
}
</code></pre>

<p>This saves the plots in my working directory - but with the wrong x-label. I think this is strange since calling ggplot directly produces the right plot:</p>

<pre><code>i &lt;- 2
ggplot(diamonds, aes(x=diamonds[,i]))+geom_bar()+xlab(names(diamonds)[i])
</code></pre>

<p>I don't really know how to describe this as a fitting title - suggestions as to a more descriptive question-title is most welcome.</p>

<p>Thanks in advance</p>
","162832","","","","","2010-04-02 00:16:02","for (i in xxx) ggplot problem","<r><ggplot2>","1","2","1","","","CC BY-SA 2.5","2564275","4452","4452","r","404559","3625322","3607736","",""
"2564765","1","2565380","","2010-04-02 02:42:16","","14","11400","<p>I'm using by() to evaluate a function by factors in my dataframe, but I need to use the results in a table form.</p>

<p>I've seen a use of as.data.frame.table to get a ""By"" class object into a data frame, but I'm not sure if this only works when the number of factors employed in the by() function is the same as the length of the ""by"" output. Using as.data.frame.table I get the following error</p>

<p>""...arguments imply differing number of rows: 10, 33""</p>

<p>Is there another way of doing this? 
Can tapply be used instead of by() to get a different output class?</p>

<p>btw, I'm using by() to convert my data into a frequency table and then regroup by standard bins</p>

<pre><code>BT_by &lt;- by(BT_H, BT_H$Tax_pp, function(BT_H) hist(rep.int(BT_H$Altitude, BT_H$Count), breaks = seq(0,6600,200), plot = FALSE)$counts)
</code></pre>

<p>Any help would be appreciated. </p>
","253579","","271616","","2010-10-17 01:44:35","2010-10-17 01:44:35","class ""By"" into dataframe in R","<r><dataframe>","1","1","3","","","CC BY-SA 2.5","2564765","4452","4452","r","404559","3625322","3607736","",""
"2566128","1","8610156","","2010-04-02 10:21:34","","17","2830","<p>The default value of a parameter of my function contains a ""%"". This seems to be a problem for roxygen, it produces a lot of warnings and R CMD check fails when trying to build latex documentation.</p>

<p>How can I make this function (and its documentation) work? Using %% or \% instead of % does not help.</p>

<pre><code>#' Test escape \% from in-source documentation (roxygen).
#'
#' What happens when parameters contain special latex characters? 
#'
#' @param x unsuspicious parameter 
#' @param format sprintf format string (default ""\%5.0f"")
#'
#' @return formatted string
#' @export
#' @author Karsten Weinert
testroxy &lt;- function(x, format = ""%5.0f"") {
  sprintf(format,x)
}
</code></pre>
","216064","","216064","","2010-04-02 10:51:24","2016-06-22 14:44:01","How to escape % in roxygen literate programming?","<r><literate-programming><roxygen>","2","4","3","","","CC BY-SA 2.5","2566128","4452","4452","r","404559","3625322","3607736","",""
"2566766","1","41851693","","2010-04-02 13:06:16","","7","6197","<p>If you have 2 cross classifying variables you can use <code>rowSums</code> and <code>colSums</code> to produce margin totals on an <code>xtabs</code> output. But how can it be done if you have 3 classifying variables (ie margin totals in each sub table)?</p>
","269476","","","","","2017-01-25 12:28:56","Margin totals in xtabs","<r>","5","0","5","","","CC BY-SA 2.5","2566766","4452","4452","r","404559","3625322","3607736","",""
"2568234","1","2568363","","2010-04-02 17:50:19","","12","66843","<p>In R, given a vector</p>

<pre><code>casp6 &lt;- c(0.9478638, 0.7477657, 0.9742675, 0.9008372, 0.4873001, 0.5097587, 0.6476510, 0.4552577, 0.5578296, 0.5728478, 0.1927945, 0.2624068, 0.2732615)
</code></pre>

<p>and a factor:</p>

<pre><code>trans.factor &lt;- factor (rep (c(""t0"", ""t12"", ""t24"", ""t72""), c(4,3,3,3)))
</code></pre>

<p>I want to create a plot where the data points are grouped as defined by the factor. So the categories should be on the x-axis, values in the same category should have the same x coordinate.</p>

<p>Simply doing <code>plot(trans.factor, casp6)</code> does almost what I want, it produces a boxplot, but I want to see the individual data points.</p>
","3306","","1315767","","2014-01-01 18:03:29","2021-02-18 16:40:37","How to plot data grouped by a factor, but not as a boxplot","<r><plot>","7","4","7","","","CC BY-SA 3.0","2568234","4452","4452","r","404559","3625322","3607736","",""
"2568840","1","2568882","","2010-04-02 19:50:20","","7","3726","<p>Suppose I have a dataframe like this one:</p>

<pre><code>df &lt;- data.frame (id = c(""a"", ""b"", ""a"", ""c"", ""e"", ""d"", ""e""), n=1:7)
</code></pre>

<p>and a vector with ids like this one:</p>

<pre><code>v &lt;- c(""a"", ""b"")
</code></pre>

<p>How can I select the rows of the dataframe that match the ids in v? I can't use the id column for rownames because they are not unique. When I try that, I get:</p>

<pre><code> rownames(df) &lt;- df[[""id""]]
Error in `row.names&lt;-.data.frame`(`*tmp*`, value = c(1L, 2L, 1L, 3L, 5L,  : 
  duplicate 'row.names' are not allowed
In addition: Warning message:
non-unique values when setting 'row.names': a, e 
</code></pre>
","3306","","1315767","","2014-01-01 18:03:13","2014-01-01 18:03:13","Select subset of dataframe by non-unique ids","<r><selection>","2","0","1","","","CC BY-SA 3.0","2568840","4452","4452","r","404559","3625322","3607736","",""
"2572001","1","2572339","","2010-04-03 17:17:08","","3","4165","<p>Okay, I'm fairly new to R and I've tried to search the documentation for what I need to do but here is the problem.</p>

<p>I have a data.frame called heeds.data in the following form (some columns omitted for simplicity)
eval.num, eval.count, ... fitness, fitness.mean, green.h.0, green.v.0, offset.0, green.h.1, green.v.1,...green.h.7, green.v.7, offset.7...</p>

<p>And I have selected a row meeting the following criteria:</p>

<pre><code>best.fitness &lt;- min(heeds.data$fitness.mean[heeds.data$eval.count &gt;= 10])
best.row &lt;- heeds.data[heeds.data$fitness.mean == best.fitness]
</code></pre>

<p>Now, what I want are all of the other rows with that have columns green.h.0 to offset.7 (a contiguous section of columns) equal to the best.row</p>

<p>I was thinking this might work</p>

<pre><code>heeds.best &lt;- heeds.data$fitness[
  heeds.data$green.h.0 == best.row$green.h.0 &amp; ...
]
</code></pre>

<p>But with 24 columns it seems like a stupid method.  Looking for something a bit simpler with less manual typing.</p>

<p>Here is a short data sample to show what I want</p>

<pre><code>eval.num, eval.count, fitness, fitness.mean, green.h.0, green.v.0, offset.0
1         1           1500     1500          100        120        40
2         2           1000     1250          100        120        40
3         3           1250     1250          100        120        40
4         4           1000     1187.5        100        120        40
5         1           2000     2000          200        100        40
6         1           3000     3000          150        90         10
7         1           2000     2000          90         90         100
8         2           1800     1900          90         90         100
</code></pre>

<p>Should select the ""best"" as row 4
Then I want to grab the results as follows</p>

<pre><code>eval.num, eval.count, fitness, fitness.mean, green.h.0, green.v.0, offset.0
1         1           1500     1500          100        120        40
2         2           1000     1250          100        120        40
3         3           1250     1250          100        120        40
4         4           1000     1187.5        100        120        40
</code></pre>

<p>Data isn't actually sorted and there are many more columns but that is the concept</p>

<p>Thanks!</p>
","308375","","271616","","2010-10-17 01:45:20","2010-10-17 01:45:20","R selecting duplicate rows","<r><select><statistics><duplicates><dataframe>","1","2","1","","","CC BY-SA 2.5","2572001","4452","4452","r","404559","3625322","3607736","",""
"2572330","1","2578741","","2010-04-03 19:06:07","","2","1261","<p>I'm not sure how to do this without getting an error.  Here is a simplified example of my problem.</p>

<p>Say I have this data frame DF</p>

<pre><code>a   b  c  d
1   2  3  4
2   3  4  5
3   4  5  6
</code></pre>

<p>Then I have a variable</p>

<pre><code>x &lt;- min(c(1,2,3))
</code></pre>

<p>Now I want do do the following</p>

<pre><code>y &lt;- DF[a == x]
</code></pre>

<p>But when I try to refer to some variable like ""x"" I get an error because R is looking for a column ""x"" in my data frame. I get the ""undefined columns selected"" error</p>

<p>How can I do what I am trying to do in R?</p>
","308375","","271616","","2010-10-17 01:45:48","2010-10-17 01:45:48","R data frame select by global variable","<r><global-variables><dataframe>","2","0","","","","CC BY-SA 2.5","2572330","4452","4452","r","404559","3625322","3607736","",""
"2572559","1","","","2010-04-03 20:25:14","","3","12743","<p>I have data in the following format called DF (this is just a made up simplified sample):</p>

<pre><code>eval.num, eval.count, fitness, fitness.mean, green.h.0, green.v.0, offset.0 random
1         1           1500     1500          100        120        40       232342
2         2           1000     1250          100        120        40       11843
3         3           1250     1250          100        120        40       981340234
4         4           1000     1187.5        100        120        40       4363453
5         1           2000     2000          200        100        40       345902
6         1           3000     3000          150        90         10       943
7         1           2000     2000          90         90         100      9304358
8         2           1800     1900          90         90         100      284333
</code></pre>

<p>However, the eval.count column is incorrect and I need to fix it.  It should report the number of rows with the same values for (green.h.0, green.v.0, and offset.0) by only looking at the previous rows.</p>

<p>The example above uses the expected values, but assume they are incorrect.</p>

<p>How can I add a new column (say ""count"") which will count all previous rows which have the same values of the specified variables?</p>

<p>I have gotten help on a similar problem of just selecting all rows with the same values for specified columns, so I supposed I <em>could</em> just write a loop around that, but it seems inefficient to me.</p>
","308375","","271616","","2010-10-17 01:46:20","2011-02-16 16:36:43","R counting the occurrences of similar rows of data frame","<r><count><duplicates><dataframe>","3","1","1","","","CC BY-SA 2.5","2572559","4452","4452","r","404559","3625322","3607736","",""
"2573132","1","2661971","","2010-04-04 00:25:43","","12","4052","<p>I am using Python 3.1.1 on Mac OS X 10.6.2 and need an interface to R. When browsing the internet I found out about RPy. Is this the right choice? </p>

<p>Currently, a program in Python computes a distance matrix and, stores it in a file. I invoke R separately in an interactive way and read in the matrix for cluster analysis. In order to
simplify computation one could prepare a script file for R then call it from Python and read back the results. Since I am new to Python, I would not like to go back to 2.6. </p>
","293037","","293037","","2010-04-05 07:50:05","2013-02-14 07:45:37","What is the best interface from Python 3.1.1 to R?","<python><r><interface><python-3.x>","3","1","2","","","CC BY-SA 2.5","2573132","4452","4452","r","404559","3625322","3607736","",""
"2573250","1","2573486","","2010-04-04 01:27:26","","20","3764","<p>Is there an R package that connects to the Google Analytics API? Does anyone have any pointers otherwise?</p>
","142879","","","","","2014-09-07 06:12:27","R - Google Analytics Package","<r><google-analytics-api>","11","0","10","2014-09-07 14:33:34","","CC BY-SA 2.5","2573250","4452","4452","r","404559","3625322","3607736","",""
"2576876","1","2576897","","2010-04-05 04:07:56","","11","30510","<p>I need to use a function on a vector that does not take a ts object. I'm trying to convert it to a plain old vector but I just can't seem to figure it out. I googled around but mostly people are trying to convert data types into ts object. I want to go the other way. Any help would be appreciated. </p>
","","user308883","66549","","2010-04-05 13:34:58","2013-10-08 20:37:12","Converting a ts (Time Series) object to a Vector in R","<data-structures><r><time-series>","1","0","4","","","CC BY-SA 2.5","2576876","4452","4452","r","404559","3625322","3607736","",""
"2577636","1","","","2010-04-05 09:11:56","","2","188","<p>I've been using R v2.8.1 for a long time. Normally I would upgrade it to the latest version but something keeps me away from the builds later than 2.8.1:</p>

<p>I use </p>

<p><code>read.table(file=file.choose(),header=TRUE)</code></p>

<p>frequently in my libraries. After upgrading to 2.9.0, R started not to remember the latest directory used while selecting file. I downgraded to 2.8.1 and now R can remember again the last directory used. I don't know why they changed that behavior in this direction but this is absolutely crucial for me. It wastes my time in v2.9.0 every time I try to find a specific directory when R cannot remember it. </p>

<p>Now R 2.10.1 is released. I don't know if they have corrected this issue. Should I upgrade or is it just enough to continue using v2.8.1? Will I miss something if I stick at 2.8.1?</p>
","192377","","192377","","2010-04-06 08:09:52","2010-04-06 14:35:58","Should I continue using R v2.8.1?","<r><version>","1","6","","","","CC BY-SA 2.5","2577636","4452","4452","r","404559","3625322","3607736","",""
"2578961","1","","","2010-04-05 14:46:15","","9","5798","<p>I often have to make stacked barplots to compare variables, and because I do all my stats in R, I prefer to do all my graphics in R with ggplot2. I would like to learn how to do two things:</p>

<p>First, I would like to be able to add proper percentage tick marks for each variable rather than tick marks by count. Counts would be confusing, which is why I take out the axis labels completely.</p>

<p>Second, there must be a simpler way to reorganize my data to make this happen. It seems like the sort of thing I should be able to do natively in ggplot2 with plyR, but the documentation for plyR is not very clear (and I have read both the ggplot2 book and the online plyR documentation. </p>

<p>My best graph looks like this, the code to create it follows:</p>

<p><img src=""https://farm5.static.flickr.com/4016/4493625638_bb46924571_d.jpg"" alt=""example graph""></p>

<p>The R code I use to get it is the following:</p>

<pre><code>library(epicalc)  

### recode the variables to factors ###
recode(c(int_newcoun, int_newneigh, int_neweur, int_newusa, int_neweco, int_newit, int_newen, int_newsp, int_newhr, int_newlit, int_newent, int_newrel, int_newhth, int_bapo, int_wopo, int_eupo, int_educ), c(1,2,3,4,5,6,7,8,9, NA), 
c('Very Interested','Somewhat Interested','Not Very Interested','Not At All interested',NA,NA,NA,NA,NA,NA))

### Combine recoded variables to a common vector
Interest1&lt;-c(int_newcoun, int_newneigh, int_neweur, int_newusa, int_neweco, int_newit, int_newen, int_newsp, int_newhr, int_newlit, int_newent, int_newrel, int_newhth, int_bapo, int_wopo, int_eupo, int_educ)


### Create a second vector to label the first vector by original variable ###  
a1&lt;-rep(""News about Bangladesh"", length(int_newcoun))
a2&lt;-rep(""Neighboring Countries"", length(int_newneigh))
[...]
a17&lt;-rep(""Education"", length(int_educ))


Interest2&lt;-c(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16, a17)

### Create a Weighting vector of the proper length ###
Interest.weight&lt;-rep(weight, 17)

### Make and save a new data frame from the three vectors ###
Interest.df&lt;-cbind(Interest1, Interest2, Interest.weight)
Interest.df&lt;-as.data.frame(Interest.df)

write.csv(Interest.df, 'C:\\Documents and Settings\\[name]\\Desktop\\Sweave\\InterestBangladesh.csv')

### Sort the factor levels to display properly ###

Interest.df$Interest1&lt;-relevel(Interest$Interest1, ref='Not Very Interested')
Interest.df$Interest1&lt;-relevel(Interest$Interest1, ref='Somewhat Interested')
Interest.df$Interest1&lt;-relevel(Interest$Interest1, ref='Very Interested')

Interest.df$Interest2&lt;-relevel(Interest$Interest2, ref='News about Bangladesh')
Interest.df$Interest2&lt;-relevel(Interest$Interest2, ref='Education')
[...]
Interest.df$Interest2&lt;-relevel(Interest$Interest2, ref='European Politics')

detach(Interest)
attach(Interest)

### Finally create the graph in ggplot2 ###

library(ggplot2)
p&lt;-ggplot(Interest, aes(Interest2, ..count..))
p&lt;-p+geom_bar((aes(weight=Interest.weight, fill=Interest1)))
p&lt;-p+coord_flip()
p&lt;-p+scale_y_continuous("""", breaks=NA)
p&lt;-p+scale_fill_manual(value = rev(brewer.pal(5, ""Purples"")))
p
update_labels(p, list(fill='', x='', y=''))
</code></pre>

<p>I'd very much appreciate any tips, tricks or hints. </p>
","298308","","-1","","2017-02-08 14:23:24","2015-12-03 18:59:06","How to better create stacked bar graphs with multiple variables from ggplot2?","<r><graphics><ggplot2><plyr>","5","4","5","","","CC BY-SA 3.0","2578961","4452","4452","r","404559","3625322","3607736","",""
"2579995","1","2580113","","2010-04-05 17:54:33","","127","317525","<p>In R, the <code>plot()</code> function takes a <code>pch</code> argument that controls the appearance of the points in the plot.  I'm making scatterplots with tens of thousands of points and prefer a small, but not too small dot.  Basically, I find <code>pch='.'</code> to be too small, but <code>pch=19</code> to be too fat.  Is there something in the middle or some way to scale the dots down somehow?</p>
","5222","","4685471","","2019-02-26 21:58:24","2019-02-26 21:58:24","Control the size of points in an R scatterplot?","<r><plot><scatter-plot>","3","5","20","","","CC BY-SA 2.5","2579995","4452","4452","r","404559","3625322","3607736","",""
"2581698","1","2582028","","2010-04-05 23:04:10","","11","8831","<p>I have this data frame:</p>

<pre><code>structure(list(month_num = 1:24, founded_month = c(4L, 5L, 6L, 
7L, 8L, 9L, 10L, 11L, 12L, 1L, 2L, 3L, 4L, 5L, 6L, 7L, 8L, 9L, 
10L, 11L, 12L, 1L, 2L, 3L), founded_year = c(2008L, 2008L, 2008L, 
2008L, 2008L, 2008L, 2008L, 2008L, 2008L, 2009L, 2009L, 2009L, 
2009L, 2009L, 2009L, 2009L, 2009L, 2009L, 2009L, 2009L, 2009L, 
2010L, 2010L, 2010L), count = c(270L, 222L, 256L, 250L, 277L, 
268L, 246L, 214L, 167L, 408L, 201L, 225L, 203L, 220L, 230L, 225L, 
177L, 207L, 166L, 135L, 116L, 122L, 69L, 42L), month_abb = c(""Apr"", 
""May"", ""Jun"", ""Jul"", ""Aug"", ""Sep"", ""Oct"", ""Nov"", ""Dec"", ""Jan"", 
""Feb"", ""Mar"", ""Apr"", ""May"", ""Jun"", ""Jul"", ""Aug"", ""Sep"", ""Oct"", 
""Nov"", ""Dec"", ""Jan"", ""Feb"", ""Mar""), short_year = c(""08"", ""08"", 
""08"", ""08"", ""08"", ""08"", ""08"", ""08"", ""08"", ""09"", ""09"", ""09"", ""09"", 
""09"", ""09"", ""09"", ""09"", ""09"", ""09"", ""09"", ""09"", ""10"", ""10"", ""10""
), proj = c(282, 246, 292, 298, 337, 340, 330, 310, 275, 528, 
333, 369, 359, 388, 410, 417, 381, 423, 394, 375, 368, 386, 345, 
330), label = c(""Apr"", ""May"", ""Jun"", ""Jul"", ""Aug"", ""Sep"", ""Oct"", 
""Nov"", ""Dec"", ""Jan\n09"", ""Feb"", ""Mar"", ""Apr"", ""May"", ""Jun"", ""Jul"", 
""Aug"", ""Sep"", ""Oct"", ""Nov"", ""Dec"", ""Jan\n10"", ""Feb"", ""Mar"")), .Names = c(""month_num"", 
""founded_month"", ""founded_year"", ""count"", ""month_abb"", ""short_year"", 
""proj"", ""label""), row.names = c(NA, -24L), class = ""data.frame"")
</code></pre>

<p>and i've got all of this done (I know the code's a bit ugly looking, pointers appreciated):</p>

<pre><code>p &lt;- ggplot(m_summary2, aes(x = month_num, y = count))
p + 
geom_line(colour = rgb(0/255, 172/255, 0/255)) + geom_point(colour = rgb(0/255, 172/255,          
    0/255)) + 
geom_line(aes(x = m_summary2$month_num, y = m_summary2$proj), 
    colour = rgb(18/255, 111/255, 150/255)) + 
geom_point(aes(x = m_summary2$month_num, y = m_summary2$proj), colour = rgb(18/255,   
    111/255, 150/255)) +     
scale_x_continuous(""Month"", breaks = m_summary2$month_num, labels = m_summary2$label) + 
scale_y_continuous(""# Startups Founded"") + 
opts(title = paste(""# Startups Founded:"", m_summary2$month_abb[1], 
    m_summary2$short_year[1], ""-"", m_summary2$month_abb[nrow(m_summary2)],  
    m_summary2$short_year[nrow(m_summary2)]))
</code></pre>

<p>Now I would like to add a legend to clarify that the blue line is a projection and the green line is the current data. I would like to make the changes without altering the dataframe if possible.</p>

<p>Thanks in advance!</p>
","142879","","142879","","2010-04-06 01:21:50","2017-08-12 06:13:51","How to manually add a legend to a ggplot object","<r><ggplot2>","3","0","1","","","CC BY-SA 2.5","2581698","4452","4452","r","404559","3625322","3607736","",""
"2582150","1","2582252","","2010-04-06 01:33:21","","11","18622","<p>In batch script, I can run an R script with the following syntax:</p>

<pre><code>Rterm.exe --quiet --slave --vanilla &lt; ""C:\some_script.R""
</code></pre>

<p>However, Powershell seems to have reserved ""&lt;"" for future expansion. I am wondering if there is a direct way to run R script within another Powershell script. </p>
","296564","","3826372","","2016-04-27 03:23:36","2016-04-27 03:23:36","Run R script from Powershell","<r><windows><powershell>","2","0","5","","","CC BY-SA 3.0","2582150","4452","4452","r","404559","3625322","3607736","",""
"2584806","1","2584990","","2010-04-06 12:37:54","","3","169","<p>I have a data frame in R that has come about from running some stats on the result of a melt/cast operation.  I want to add a row into this dataframe containing a Nominal value.  That Nominal Value is present in the names for each column</p>

<pre><code>df&lt;-as.data.frame(cbind(x=c(1,2,3,4,5),`Var A_100`=c(5,4,3,2,1),`Var B_5`=c(9,8,7,6,5)))
&gt; df
  x Var A_100 Var B_5
1 1         5       9
2 2         4       8
3 3         3       7
4 4         2       6
5 5         1       5
</code></pre>

<p>So, I want to create a new row, that contains '100' in the column Var A_100 and '5' in Var B_5.  Currently this is what I'm doing but I'm sure there must be a better, vectorised way to do this.</p>

<pre><code>temp_nom&lt;-NULL
for (l in 1:length(names(df))){
 temp_nom[l]&lt;-strsplit(names(df),""_"")[[l]][2]
 }
temp_nom
[1] NA    ""100"" ""5""  
df[6,]&lt;-temp_nom
&gt; df
     x Var A_100 Var B_5
1    1         5       9
2    2         4       8
3    3         3       7
4    4         2       6
5    5         1       5
6 &lt;NA&gt;       100       5
rm(temp_nom)
</code></pre>

<p>Typically I'd have 16-24 columns. Any ideas?</p>
","74658","","172261","","2010-04-06 13:10:14","2010-04-06 13:11:07","Is there a better (i.e vectorised) way to put part of a column name into a row of a data frame in R","<r><vectorization>","1","0","","","","CC BY-SA 2.5","2584806","4452","4452","r","404559","3625322","3607736","",""
"2585583","1","2585634","","2010-04-06 14:29:49","","1","426","<p>(second question today - must be a bad day)</p>
<p>I have a dataframe with various columns, including a concentration column (numeric), a flag highlighting invalid results (boolean) and a description of the problem (character)</p>
<pre><code>df &lt;- structure(list(x = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10), rawconc = c(77.4, 
52.6, 86.5, 44.5, 167, 16.2, 59.3, 123, 1.95, 181), reason = structure(c(NA, 
NA, 2L, NA, NA, NA, 2L, 1L, NA, NA), .Label = c(&quot;Fails Acceptance Criteria&quot;, 
&quot;Poor Injection&quot;), class = &quot;factor&quot;), flag = c(&quot;False&quot;, &quot;False&quot;, 
&quot;True&quot;, &quot;False&quot;, &quot;False&quot;, &quot;False&quot;, &quot;True&quot;, &quot;True&quot;, &quot;False&quot;, &quot;False&quot;
)), .Names = c(&quot;x&quot;, &quot;rawconc&quot;, &quot;reason&quot;, &quot;flag&quot;), row.names = c(NA, 
-10L), class = &quot;data.frame&quot;)
</code></pre>
<p>I can create a column with the numeric level of the reason column</p>
<pre><code>df$level&lt;-as.numeric(df$reason)
df
    x rawconc                    reason  flag level
1   1   77.40                      &lt;NA&gt; False    NA
2   2   52.60                      &lt;NA&gt; False    NA
3   3   86.50            Poor Injection  True     2
4   4   44.50                      &lt;NA&gt; False    NA
5   5  167.00                      &lt;NA&gt; False    NA
6   6   16.20                      &lt;NA&gt; False    NA
7   7   59.30            Poor Injection  True     2
8   8  123.00 Fails Acceptance Criteria  True     1
9   9    1.95                      &lt;NA&gt; False    NA
10 10  181.00                      &lt;NA&gt; False    NA
</code></pre>
<p>and here's what I want to do to create a column with 'level' many stars, but it fails</p>
<pre><code>df$stars&lt;-paste(rep(&quot;*&quot;,df$level)sep=&quot;&quot;,collapse=&quot;&quot;)
Error: unexpected symbol in &quot;df$stars&lt;-paste(rep(&quot;*&quot;,df$level)sep&quot;

df$stars&lt;-paste(rep(&quot;*&quot;,df$level),sep=&quot;&quot;,collapse=&quot;&quot;)
Error in rep(&quot;*&quot;, df$level) : invalid 'times' argument

rep(&quot;*&quot;,df$level)
Error in rep(&quot;*&quot;, df$level) : invalid 'times' argument

df$stars&lt;-paste(rep(&quot;*&quot;,pmax(df$level,0,na.rm=TRUE)),sep=&quot;&quot;,collapse=&quot;&quot;)
Error in rep(&quot;*&quot;, pmax(df$level, 0, na.rm = TRUE)) : 
  invalid 'times' argument
</code></pre>
<p>It seems that rep needs to be fed one value at a time.  I feel that this should be possible (and my gut says 'use lapply' but my apply fu is v. poor)</p>
<p>Any one want to try ?</p>
","74658","","15106851","","2021-04-15 20:38:10","2021-04-15 20:38:10","How to create a column containing a string of stars to indicate levels of a factor in a data frame in R","<r><lapply>","2","0","0","","","CC BY-SA 4.0","2585583","4452","4452","r","404559","3625322","3607736","",""
"2588130","1","2588478","","2010-04-06 20:39:35","","4","141","<p>Is there any way, given a function passed as a parameter, to alter its input parameter string before evaluating it?  </p>

<p>Here's pseudo-code for what I'm hoping to achieve:</p>

<pre><code>test.func &lt;- function(a, b) {
    # here I want to alter the b expression before evaluating it:
    b(..., val1=a)
}
</code></pre>

<p>Given the function call passed to <code>b</code>, I want to add in <code>a</code> as another parameter without needing to always specify <code>...</code> in the <code>b</code> call.  So the output from this <code>test.func</code> call should be:</p>

<pre><code>test.func(a=""a"", b=paste(1, 2))
""1""  ""2""  ""a""
</code></pre>

<p><em>Edit</em>: </p>

<p>Another way I could see doing something like this would be if I could assign the additional parameter within the scope of the parent function (again, as pseudo-code); in this case <code>a</code> would be within the scope of t1 and hence t2, but not globally assigned:</p>

<pre><code>t2 &lt;- function(...) {
  paste(a=a, ...)
}

t1 &lt;- function(a, b) {
  local( { a &lt;&lt;- a; b } )
}

t1(a=""a"", b=t2(1, 2))
</code></pre>

<p>This is somewhat akin to currying in that I'm nesting the parameter within the function itself.</p>

<p><em>Edit 2</em>:</p>

<p>Just to add one more comment to this: I realize that one related approach could be to use ""<a href=""http://en.wikipedia.org/wiki/Prototype-based_programming"" rel=""nofollow noreferrer"">prototype-based programming</a>"" such that things would be inherited (which could be achieved with <a href=""http://cran.r-project.org/web/packages/proto/index.html"" rel=""nofollow noreferrer"">the proto package</a>).  But I was hoping for a easier way to simply alter the input parameters before evaluating in R.</p>
","163053","","163053","","2010-04-06 21:23:04","2010-04-06 21:29:17","Alter a function as a parameter before evaluating it in R?","<r><functional-programming><lazy-evaluation>","2","1","2","","","CC BY-SA 2.5","2588130","4452","4452","r","404559","3625322","3607736","",""
"2589275","1","2589367","","2010-04-07 00:35:58","","43","23623","<p>I have an example function below that reads in a date as a string and returns it as a date object.  If it reads a string that it cannot convert to a date, it returns an error.</p>

<pre><code>testFunction &lt;- function (date_in) {
    return(as.Date(date_in))
    }

testFunction(""2010-04-06"")  # this works fine
testFunction(""foo"")  # this returns an error
</code></pre>

<p>Now, I want to use lapply and apply this function over a list of dates:</p>

<pre><code>dates1 = c(""2010-04-06"", ""2010-04-07"", ""2010-04-08"")
lapply(dates1, testFunction)  # this works fine
</code></pre>

<p>But if I want to apply the function over a list when one string in the middle of two good dates returns an error, what is the best way to deal with this?   </p>

<pre><code>dates2 = c(""2010-04-06"", ""foo"", ""2010-04-08"")
lapply(dates2, testFunction)
</code></pre>

<p>I presume that I want a try catch in there, but is there a way to catch the error for the ""foo"" string whilst asking lapply to continue and read the third date?</p>
","207258","","680068","","2016-11-02 19:26:08","2020-07-31 01:18:25","How to tell lapply to ignore an error and process the next thing in the list?","<r><error-handling><try-catch><lapply>","4","1","20","","","CC BY-SA 3.0","2589275","4452","4452","r","404559","3625322","3607736","",""
"2590043","1","2590833","","2010-04-07 04:40:14","","2","708","<p>I have a simple two vector dataframe (length=30) that looks something like this:  </p>

<pre><code>&gt; mDF
    Param1 w.IL.L
1   AuZgFw    0.5
2   AuZfFw      2
3   AuZgVw   74.3
4   AuZfVw  20.52
5   AuTgIL   80.9
6   AuTfIL  193.3
7   AuCgFL    0.2
8   ...
</code></pre>

<p>I'd like to use each of the rows to form 30 single value numeric vectors with the name of the vector taken from <code>mDF$Param1</code>, so that:  </p>

<pre><code>&gt; AuZgFw       
[1] 0.5     
</code></pre>

<p>etc  </p>

<p>I've tried melting and casting, but I suspect there may be an easier way? </p>
","310608","","4370109","","2015-12-03 18:59:48","2015-12-03 18:59:48","Creating a series of vectors from a vector","<r><vector><dataframe>","1","0","","","","CC BY-SA 3.0","2590043","4452","4452","r","404559","3625322","3607736","",""
"2591795","1","2592681","","2010-04-07 11:00:09","","4","753","<p>I am trying:</p>

<pre><code>install.packages(""RGoogleDocs"", repos = ""http://www.omegahat.org/R"")
</code></pre>

<p>As suggested <a href=""https://stackoverflow.com/questions/1794318/rgoogledocs-and-now-rgoogledata"">here</a>, but it doesn't work.</p>

<p>I ended up manually downloading the file from <a href=""http://www.omegahat.org/R/bin/windows/contrib/R-2.9/"" rel=""nofollow noreferrer"">here</a>.</p>

<p>What other ways are there for me to get to the file directly?</p>

<p>Thanks,
Tal</p>
","256662","","-1","","2017-05-23 12:13:31","2015-10-07 14:54:33","Downloading RGoogleDocs for R (it fails)","<r><download><packages><google-docs>","1","2","2","","","CC BY-SA 2.5","2591795","4452","4452","r","404559","3625322","3607736","",""
"2593412","1","2593445","","2010-04-07 14:47:20","","2","1601","<p>I have several .csv files with similar filenames except a numeric month (i.e. 03_data.csv, 04_data.csv, 05_data.csv, etc.) that I'd like to read into R.</p>

<p>I have two questions:</p>

<ul>
<li>Is there a function in R similar to
MATLAB's varname and assignin that
will let me create/declare a variable name
within a function or loop that will allow me to 
read the respective .csv file - i.e.
03_data.csv into 03_data data.frame,
etc.? I want to write a quick loop to
do this because the filenames are
similar.</li>
<li>As an alternative, is it better to
create one dataframe with the first
file and then append the rest using a
for loop? How would I do that?</li>
</ul>
","142068","","","","","2010-04-07 15:12:09","Writing a script for reading many .csv files with similar filenames","<matlab><r>","2","0","3","","","CC BY-SA 2.5","2593412","4452","4452","r","404559","3625322","3607736","",""
"2593643","1","2593999","","2010-04-07 15:16:12","","5","4675","<p>I just came a cross <a href=""https://web.archive.org/web/20130331022610/http://addictedtor.free.fr:80/graphiques/graphcode.php?graph=137"" rel=""nofollow noreferrer"">this nice code</a> that makes this scatter matrix plot:</p>

<p><a href=""https://i.stack.imgur.com/PMq31.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/PMq31.png"" alt=""alt text""></a><br>
<sub>(source: <a href=""http://addictedtor.free.fr/graphiques/graphiques/graph_137.png"" rel=""nofollow noreferrer"">free.fr</a>)</sub>  </p>

<p>And wanted to implement it to a likret scale variables (integers of 1 to 5) by making the dot's sizes/colors (in the lower triangle) differ according to how many options of that type occurs (like the effect the jitter might have given me).</p>

<p>Any idea on how to do this on the base plotting mechanism ?</p>

<p>Update:</p>

<p>I made the following function, but don't know how to have the scale of the dots always be ""good"", what do you think ?</p>

<pre><code>panel.smooth2 &lt;- function (x, y, col = par(""col""), bg = NA, pch = par(""pch""), 
                    cex = 1, col.smooth = ""red"", span = 2/3, iter = 3, ...) 
{
    require(reshape)
    z &lt;- merge(data.frame(x,y), melt(table(x ,y)),sort =F)$value
    z &lt;- z/ (4*max(z)) 

    symbols( x, y,  circles = z,#rep(0.1, length(x)), #sample(1:2, length(x), replace = T) ,
            inches=F, bg=""blue"", fg = bg, add = T)

    # points(x, y, pch = pch, col = col, bg = bg, cex = cex)
    ok &lt;- is.finite(x) &amp; is.finite(y)
    if (any(ok)) 
        lines(stats::lowess(x[ok], y[ok], f = span, iter = iter), 
            col = col.smooth, ...)
}



a1 &lt;- sample(1:5, 100, replace = T)
a2 &lt;- sample(1:5, 100, replace = T)
a3 &lt;- sample(1:5, 100, replace = T)
aa &lt;- data.frame(a1,a2,a3)


pairs(aa , lower.panel=panel.smooth2)
</code></pre>
","256662","","4751173","","2019-07-22 04:19:03","2019-07-22 04:19:03","Correlation Scatter-matrix plot with different point size (in R)","<r><matrix><plot><scatter-plot>","2","0","3","","","CC BY-SA 4.0","2593643","4452","4452","r","404559","3625322","3607736","",""
"2597062","1","2597078","","2010-04-08 01:49:26","","5","2274","<p>I have three vectors in an xts R object. Call them V1, V2, V3. After merging, the order of them left to right is V2, V3, V1. How do I re-arrange them so they read (from left to right) as V1, V2, V3?</p>
","296155","","271616","","2012-08-31 02:37:15","2017-11-07 15:20:53","How do you re-arrange vector order in R?","<r><xts>","2","0","1","","","CC BY-SA 2.5","2597062","4452","4452","r","404559","3625322","3607736","",""
"2597310","1","","","2010-04-08 02:59:15","","7","7727","<p>If the factor variable is Climate, with 4 possible values: Tropical, Arid, Temperate, Snow, and a node in my <code>rpart</code> tree is labeled as ""Climate:ab"", what is the split?</p>
","281537","","85950","","2013-10-24 23:28:23","2013-10-24 23:28:23","How do I interpret rpart splits on factor variables when building classification trees in R?","<r><rpart><cart-analysis>","1","6","2","","","CC BY-SA 3.0","2597310","4452","4452","r","404559","3625322","3607736","",""
"2600640","1","2601177","","2010-04-08 14:20:30","","3","11572","<p>I've a question about using sqlSave. How does R map RODBC data in the data frame to the database table columns?</p>

<p>If I've a table with columns X and Y and a data frame with columns X and Y, RODBC puts X into X and Y into Y (I found out by trail-and-error). But can I explicitly tell R how to map data.frame columns to database table columns, like put A in X and B in Y.</p>

<p>I'm rather new to R and think the RODBC manual is a bit cryptic. Nor can I find an example on the internet.</p>
","293843","","293843","","2013-02-08 08:04:38","2014-05-28 13:05:50","RODBC sqlSave() and mapping column names","<r><rodbc>","3","0","1","","","CC BY-SA 3.0","2600640","4452","4452","r","404559","3625322","3607736","",""
"2602583","1","25555105","","2010-04-08 18:49:53","","111","84812","<p>I tried to find a built-in for geometric mean but couldn't.</p>

<p>(Obviously a built-in isn't going to save me any time while working in the shell, nor do I suspect there's any difference in accuracy; for scripts I try to use built-ins as often as possible, where the (cumulative) performance gain is often noticeable.</p>

<p>In case there isn't one (which I doubt is the case) here's mine. </p>

<pre><code>gm_mean = function(a){prod(a)^(1/length(a))}
</code></pre>
","66549","","202229","","2019-01-12 15:55:33","2020-03-12 07:47:35","Geometric Mean: is there a built-in?","<r><statistics><built-in><geometric-mean>","9","3","30","","","CC BY-SA 3.0","2602583","4452","4452","r","404559","3625322","3607736","",""
"2603184","1","2603318","","2010-04-08 20:23:37","","69","55520","<p>Can you pass by reference with ""R"" ?
for example, in the following code:</p>

<pre><code>setClass(""MyClass"",
    representation(
    name=""character""
    ))


instance1 &lt;-new(""MyClass"",name=""Hello1"")
instance2 &lt;-new(""MyClass"",name=""Hello2"")

array = c(instance1,instance2)

instance1
array

instance1@name=""World!""

instance1
array
</code></pre>

<p>the output is</p>

<pre><code>&gt; instance1
An object of class MyClass
Slot ""name"":
[1] ""World!""

&gt; array
[[1]]
An object of class MyClass
Slot ""name"":
[1] ""Hello1""


[[2]]
An object of class MyClass
Slot ""name"":
[1] ""Hello2""
</code></pre>

<p>but I wish it was</p>

<pre><code>&gt; instance1
An object of class MyClass
Slot ""name"":
[1] ""World!""

&gt; array
[[1]]
An object of class MyClass
Slot ""name"":
[1] ""World!""


[[2]]
An object of class MyClass
Slot ""name"":
[1] ""Hello2""
</code></pre>

<p>is it possible ?</p>
","58082","","3001626","","2018-05-01 10:45:40","2018-05-01 10:45:40","Can you pass-by-reference in R?","<r><oop><parameter-passing><pass-by-reference>","9","2","27","","","CC BY-SA 3.0","2603184","4452","4452","r","404559","3625322","3607736","",""
"2607221","1","","","2010-04-09 12:11:15","","2","197","<p>I am using ESS in Windows XP. I have noticed that <code>shell.exec</code> is much slower with ESS than with RGui (the problem occurs when I try <code>help(ls)</code> for example, the help is displayed much faster in RGui, I tracked it down and it is due to <code>shell.exec</code>). Is there any reason for this? How can I fix it? My default browser is Firefox.</p>
","279497","","","","","2010-04-09 12:11:15","R: ESS shell.exec speed","<r><ess>","0","1","","","","CC BY-SA 2.5","2607221","4452","4452","r","404559","3625322","3607736","",""
"2609647","1","2609660","","2010-04-09 17:51:31","","1","730","<p>Here is some example data:</p>

<pre><code>data = data.frame(series = c(""1a"", ""1b"", ""1e""), reading = c(0.1, 0.4, 0.6))

&gt; data
  series reading
1     1a     0.1
2     1b     0.4
3     1e     0.6
</code></pre>

<p>Which I can pull out selective single rows using subset:</p>

<pre><code>&gt; subset (data, series == ""1a"")
  series reading
1     1a     0.1
</code></pre>

<p>And pull out multiple rows using a logical OR</p>

<pre><code>&gt; subset (data, series == ""1a"" | series  == ""1e"")
  series reading
1     1a     0.1
3     1e     0.6
</code></pre>

<p>But if I have a long list of series expressions, this gets really annoying to input, so I'd prefer to define them in a better way, something like this: </p>

<pre><code>series_you_want = c(""1a"", ""1e"")  (although even this sucks a little)
</code></pre>

<p>and be able to do something like this,  </p>

<pre><code>subset (data, series == series_you_want)
</code></pre>

<p>The above obviously fails, I'm just not sure what the best way to do this is? </p>
","207258","","","","","2010-04-09 17:54:20","R: How to pass a list of selection expressions (strings in this case) to the subset function?","<r><subset><logical-operators>","1","0","1","","","CC BY-SA 2.5","2609647","4452","4452","r","404559","3625322","3607736","",""
"2610521","1","2610610","","2010-04-09 20:00:31","","5","1392","<p>I have a timeseries of samples in R:</p>

<pre><code>&gt; str(d)
 'data.frame': 5 obs. of  3 variables:
 $ date: POSIXct, format: ""2010-03-04 20:47:00"" ""2010-03-04 21:47:00"" ...
 $ x   : num  0 10 11 15.2 20
 $ y   : num  0 5 7.5 8.4 12.5
&gt; d
                 date    x    y
1 2010-03-04 20:47:00  0.0  0.0
2 2010-03-04 21:47:00 10.0  5.0
3 2010-03-04 22:47:00 11.0  7.5
4 2010-03-04 23:47:00 15.2  8.4
5 2010-03-05 00:47:00 20.0 12.5
</code></pre>

<p>In this example samples for x and y are taken every hour (but the time delta is not fix). 
The x and y values are always growing (like a milage counter in a car). I need the deltas,
how much was the growth in between, something like this:</p>

<pre><code>1 2010-03-04 20:47:00  0.0  0.0
2 2010-03-04 21:47:00 10.0  5.0
3 2010-03-04 22:47:00 1.0   2.5
4 2010-03-04 23:47:00 4.2   0.9
5 2010-03-05 00:47:00 4.8   4.1
</code></pre>

<p>And I also need the deltas per time (x and y delta, divided by the time - delta per hour)</p>

<p>How would I do this in R?</p>
","313145","","5414452","","2016-01-23 10:10:37","2016-01-23 10:10:37","R: Calculating deltas in a timeseries","<r><time-series>","1","0","1","","","CC BY-SA 3.0","2610521","4452","4452","r","404559","3625322","3607736","",""
"2612495","1","2613329","","2010-04-10 06:27:03","","6","7231","<p>I have the following data set that I am trying to plot with ggplot2, it is a time series of three experiments A1, B1 and C1 and each experiment had three replicates.  </p>

<p>I am trying to add a stat which detects and removes outliers before returning a smoother (mean and variance?).  I have written my own outlier function (not shown) but I expect there is already a function to do this, I just have not found it.  </p>

<p>I've looked at stat_sum_df(""median_hilow"", geom = ""smooth"") from some examples in the ggplot2 book, but I didn't understand the help doc from Hmisc to see if it removes outliers or not.  </p>

<p>Is there a function to remove outliers like this in ggplot, or where would I amend my code below to add my own function?</p>

<p>EDIT: I just saw this (<a href=""https://stackoverflow.com/questions/1444306/how-to-use-outlier-tests-in-r-code"">How to use Outlier Tests in R Code</a>) and notice that Hadley recommends using a robust method such as rlm.   I am plotting bacterial growth curves, so I don't think a linear model is best, but any advice on  other models or using or using robust models in this situation would be appreciated.</p>

<pre><code>library (ggplot2)  

data = data.frame (day = c(1,3,5,7,1,3,5,7,1,3,5,7,1,3,5,7,1,3,5,7,1,3,5,7,1,3,5,7,1,3,5,7,1,3,5,7), od = 
c(
0.1,1.0,0.5,0.7
,0.13,0.33,0.54,0.76
,0.1,0.35,0.54,0.73
,1.3,1.5,1.75,1.7
,1.3,1.3,1.0,1.6
,1.7,1.6,1.75,1.7
,2.1,2.3,2.5,2.7
,2.5,2.6,2.6,2.8
,2.3,2.5,2.8,3.8), 
series_id = c(
""A1"", ""A1"", ""A1"",""A1"",
""A1"", ""A1"", ""A1"",""A1"",
""A1"", ""A1"", ""A1"",""A1"",
""B1"", ""B1"",""B1"", ""B1"",
""B1"", ""B1"",""B1"", ""B1"",
""B1"", ""B1"",""B1"", ""B1"",
""C1"",""C1"", ""C1"", ""C1"",
""C1"",""C1"", ""C1"", ""C1"",
""C1"",""C1"", ""C1"", ""C1""),
replicate = c(
""A1.1"",""A1.1"",""A1.1"",""A1.1"",
""A1.2"",""A1.2"",""A1.2"",""A1.2"",
""A1.3"",""A1.3"",""A1.3"",""A1.3"",
""B1.1"",""B1.1"",""B1.1"",""B1.1"",
""B1.2"",""B1.2"",""B1.2"",""B1.2"",
""B1.3"",""B1.3"",""B1.3"",""B1.3"",
""C1.1"",""C1.1"",""C1.1"",""C1.1"",
""C1.2"",""C1.2"",""C1.2"",""C1.2"",
""C1.3"",""C1.3"",""C1.3"",""C1.3""))

&gt; data
   day   od series_id replicate
1    1 0.10        A1      A1.1
2    3 1.00        A1      A1.1
3    5 0.50        A1      A1.1
4    7 0.70        A1      A1.1
5    1 0.13        A1      A1.2
6    3 0.33        A1      A1.2
7    5 0.54        A1      A1.2
8    7 0.76        A1      A1.2
9    1 0.10        A1      A1.3
10   3 0.35        A1      A1.3
11   5 0.54        A1      A1.3
12   7 0.73        A1      A1.3
13   1 1.30        B1      B1.1
... etc...
</code></pre>

<p>This is what I have so far and is working nicely, but outliers are not removed:</p>

<pre><code>r &lt;- ggplot(data = data, aes(x = day, y = od))
r + geom_point(aes(group = replicate, color = series_id)) + # add points
   geom_line(aes(group = replicate, color = series_id)) + # add lines
   geom_smooth(aes(group = series_id))  # add smoother, average of each replicate
</code></pre>

<p>EDIT: I just added two charts below showing examples of the outlier problems that I'm having from the real data rather than the example data above.</p>

<p>The first plots shows series p26s4 and around day 32 something really weird went on in two of the replicates, showing 2 outliers.</p>

<p>The second plots shows series p22s5 and on day 18, something weird went on with the reading that day, likely machine error I think.</p>

<p>At the moment I am eye-balling the data, to check that the growth curves look OK.  After taking Hadley's advice and setting family = ""symmetric"", I am confident that the loess smoother does a decent job of ignoring the outliers.</p>

<p><a href=""https://i.stack.imgur.com/koquF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/koquF.png"" alt=""p26s4 shows around day 32 something really weird went on in two of the replicates, showing 2 outliers""></a>

<a href=""https://i.stack.imgur.com/EnuaV.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/EnuaV.png"" alt=""p22s5 shows that on day 18, something weird went on with the reading that day, likely machine error I think""></a>
</p>

<p>@Peter/@hadley, the next thing I'd like to do is to try and fit a logistic, gompertz or richard's growth curve to this data instead of a loess and calculate the growth rate in the exponential stage.  Eventually I plan to use the grofit package in R (<a href=""http://cran.r-project.org/web/packages/grofit/index.html"" rel=""nofollow noreferrer"">http://cran.r-project.org/web/packages/grofit/index.html</a>), but for now I'd like to plot these manually using ggplot2 if possible.  If you have any pointers then it would be much appreciated.</p>
","207258","","4751173","","2019-07-22 11:09:26","2019-07-22 11:09:26","R: How to remove outliers from a smoother in ggplot2?","<r><ggplot2><statistics><outliers>","2","0","2","","","CC BY-SA 4.0","2612495","4452","4452","r","404559","3625322","3607736","",""
"2613420","1","2613832","","2010-04-10 12:52:47","","26","35074","<p>As you would expect from a DSL aimed at data analysis, R handles missing/incomplete data very well, for instance:</p>

<p>Many R functions have an <strong><em>na.rm</em></strong> flag that when set to <em>TRUE</em>, remove the NAs:</p>

<pre><code>&gt;&gt;&gt; v = mean( c(5, NA, 6, 12, NA, 87, 9, NA, 43, 67), na.rm=T)
&gt;&gt;&gt; v
      (5, 6, 12, 87, 9, 43, 67)
</code></pre>

<p>But if you want to deal with NAs <em>before</em> the function call, you need to do something like this:</p>

<p>to remove each 'NA' from a vector:</p>

<pre><code>vx = vx[!is.na(a)]
</code></pre>

<p>to remove each 'NA' from a vector and replace it w/ a '0':</p>

<pre><code>ifelse(is.na(vx), 0, vx)
</code></pre>

<p>to remove entire each row that contains 'NA' from a data frame:</p>

<pre><code>dfx = dfx[complete.cases(dfx),]
</code></pre>

<p>All of these functions permanently <em>remove</em> 'NA' or rows with an 'NA' in them.</p>

<p>Sometimes this isn't quite what you want though--making an 'NA'-excised copy of the data frame might be necessary for the next step in the workflow but in subsequent steps you often want those rows back (e.g., to calculate a column-wise statistic for a column that has missing rows caused by a prior call to 'complete cases' yet that column has no 'NA' values in it).</p>

<p>to be as clear as possible about what i'm looking for: python/numpy has a class, <em>masked array</em>, with a <em>mask</em> method, which lets you <strong>conceal</strong>--but not remove--NAs during a function call. Is there an analogous function in R?</p>
","66549","","4370109","","2015-12-03 19:00:22","2015-12-03 19:00:22","Handling missing/incomplete data in R--is there function to mask but not remove NAs?","<r><missing-data><data-processing>","3","0","9","","","CC BY-SA 3.0","2613420","4452","4452","r","404559","3625322","3607736","",""
"2614400","1","2614710","","2010-04-10 18:17:24","","9","8801","<p>Suppose that I have a data frame with a column whose name is stored in a variable. Accessing this column using the variable is easy using bracket notation:</p>

<pre><code>df &lt;- data.frame(A = rep(1, 10), B = rep(2, 10))
column.name &lt;- 'B'

df[,column.name]
</code></pre>

<p>But it is not obvious how to access an arbitrary column using a call to <code>with()</code>. The naive approach</p>

<pre><code>with(df, column.name)
</code></pre>

<p>effectively evaluates <code>column.name</code> in the caller's environment. How can I delay evaluation sufficiently that <code>with()</code> will provide the same results that brackets give?</p>
","313564","","5414452","","2016-01-23 10:04:53","2016-01-23 10:04:53","Accessing Arbitrary Columns from an R Data Frame using with()","<r><dataframe>","2","0","6","","","CC BY-SA 2.5","2614400","4452","4452","r","404559","3625322","3607736","",""
"2614767","1","2614785","","2010-04-10 20:02:10","","11","26426","<p>I am interested in analyzing balance sheets and income statements using R. I have seen that there are R packages that pull information from Yahoo and Google Finance, but all the examples I have seen concern historical stock price information. Is there a way I can pull historical information from balance sheets and income statements using R?</p>
","235349","","","","","2020-10-15 18:33:54","Using R to Analyze Balance Sheets and Income Statements","<r><finance>","11","2","12","","","CC BY-SA 2.5","2614767","4452","4452","r","404559","3625322","3607736","",""
"2614949","1","2615437","","2010-04-10 20:58:16","","3","1161","<p>This is a ""big"" question, that I don't know how to start, so I hope some of you can give me a direction.  And if this is not a ""good"" question, I will close the thread with an apology.</p>

<p>I wish to go through the database of Wikipedia (let's say the English one), and do statistics.  For example, I am interested in how many active editors (which should be defined) Wikipedia had at each point of time (let's say in the last 2 years).</p>

<p>I don't know how to build such a database, how to access it, how to know which types of data it has and so on.  So my questions are:</p>

<ol>
<li>What tools do I need for this (besides basic R) ? MySQL on my computer? RODBC database connection?</li>
<li>How do you start planning for such a project?</li>
</ol>
","256662","","","","","2014-06-19 06:48:25","How to analyse Wikipedia article's data base with R?","<sql><mysql><r><database><wikipedia>","3","2","2","","","CC BY-SA 2.5","2614949","4452","4452","r","404559","3625322","3607736","",""
"2615128","1","2615147","","2010-04-10 21:46:20","","228","235248","<p>The <code>install.packages()</code> function in R is the automatic unzipping utility that gets and install packages in R.</p>

<ol>
<li><p>How do I find out what directory R has chosen to store packages?</p></li>
<li><p>How can I change the directory in which R stores and accesses packages?</p></li>
</ol>
","296155","","2831353","","2015-05-29 14:26:55","2018-10-29 08:24:32","Where does R store packages?","<r><packages>","4","0","64","","","CC BY-SA 3.0","2615128","4452","4452","r","404559","3625322","3607736","",""
"2615907","1","2616928","","2010-04-11 03:05:37","","6","3219","<p>I've got a data frame in R, and I'd like to perform a calculation on all pairs of rows. Is there a simpler way to do this than using a nested for loop?</p>

<p>To make this concrete, consider a data frame with ten rows, and I want to calculate the difference of scores between all (45) possible pairs. </p>

<pre><code>&gt; data.frame(ID=1:10,Score=4*10:1)
   ID Score
1   1    40
2   2    36
3   3    32
4   4    28
5   5    24
6   6    20
7   7    16
8   8    12
9   9     8
10 10     4
</code></pre>

<p>I know I could do this calculation with a nested for loop, but is there a better (more R-ish) way to do it? </p>
","742","","","","","2010-04-11 17:46:55","Operate on pairs of rows of a data frame","<r>","4","0","5","","","CC BY-SA 2.5","2615907","4452","4452","r","404559","3625322","3607736","",""
"2617600","1","2617823","","2010-04-11 15:54:39","","174","240655","<p>Is there a way to import data from a JSON file into R? More specifically, the file is an array of JSON objects with string fields, objects, and arrays. The RJSON Package isn't very clear on how to deal with this <a href=""http://cran.r-project.org/web/packages/rjson/rjson.pdf"" rel=""noreferrer"">http://cran.r-project.org/web/packages/rjson/rjson.pdf</a>.</p>
","313967","","","","","2019-07-15 06:03:50","Importing data from a JSON file into R","<json><r>","7","3","57","2020-11-16 16:49:31","","CC BY-SA 2.5","2617600","4452","4452","r","404559","3625322","3607736","",""
"2617842","1","2618021","","2010-04-11 16:59:25","","3","391","<p>I am trying to make a faceted plot in ggplot2 of the coefficients on the regressors from 
two linear models with the same predictors. The data frame I constructed is this:  </p>

<pre><code>r.together&gt;
          reg         coef        se      y
1  (Intercept)  5.068608671 0.6990873 Labels
2     goodTRUE  0.310575129 0.5228815 Labels
3    indiaTRUE -1.196868662 0.5192330 Labels
4    moneyTRUE -0.586451273 0.6011257 Labels
5     maleTRUE -0.157618168 0.5332040 Labels
6  (Intercept)  4.225580743 0.6010509  Bonus
7     goodTRUE  1.272760149 0.4524954  Bonus
8    indiaTRUE -0.829588862 0.4492838  Bonus
9    moneyTRUE -0.003571476 0.5175601  Bonus
10    maleTRUE  0.977011737 0.4602726  Bonus
</code></pre>

<p>The ""y"" column is a label for the model, reg are the regressors and coef and se are what you would think. </p>

<p>I want to plot:</p>

<pre><code>g &lt;- qplot(reg, coef, facets=.~y, data = r.together) + coord_flip() 
</code></pre>

<p>But when I try to display the plot, I get: </p>

<pre><code>&gt; print(g)
Error in names(df) &lt;- output : 
'names' attribute [2] must be the same length as the vector [1]
</code></pre>

<p>What's strange is that </p>

<pre><code>qplot(reg, coef, colour=y, data = r.together) + coord_flip()
</code></pre>

<p>plots as you would expect. </p>
","271844","","","","","2010-04-11 17:58:09","Error when trying to create a faceted plot in ggplot2","<r><ggplot2>","2","0","1","","","CC BY-SA 2.5","2617842","4452","4452","r","404559","3625322","3607736","",""
"2618248","1","2618462","","2010-04-11 18:48:48","","21","38513","<p>I have a data.frame in R that looks like this:</p>

<pre><code>      score    rms  template   aln_id       description
1  -261.410  4.951 2f22A.pdb  2F22A_1 S_00001_0000002_0
2  -231.987 21.813 1wb9A.pdb  1WB9A_4 S_00002_0000002_0
3  -263.722  4.903 2f22A.pdb  2F22A_3 S_00003_0000002_0
4  -269.681 17.732 1wbbA.pdb  1WBBA_6 S_00004_0000002_0
5  -258.621 19.098 1rxqA.pdb  1RXQA_3 S_00005_0000002_0
6  -246.805  6.889 1rxqA.pdb 1RXQA_15 S_00006_0000002_0
7  -281.300 16.262 1wbdA.pdb 1WBDA_11 S_00007_0000002_0
8  -271.666  4.193 2f22A.pdb  2F22A_2 S_00008_0000002_0
9  -277.964 13.066 1wb9A.pdb  1WB9A_5 S_00009_0000002_0
10 -261.024 17.153 1yy9A.pdb  1YY9A_2 S_00001_0000003_0
</code></pre>

<p>I can calculate summary statistics on the data.frame like this:</p>

<pre><code>&gt; tapply( d$score, d$template, mean )
1rxqA.pdb 1wb9A.pdb 1wbbA.pdb 1wbdA.pdb 1yy9A.pdb 2f22A.pdb 
-252.7130 -254.9755 -269.6810 -281.3000 -261.0240 -265.5993 
</code></pre>

<p>Is there an easy way that I coerce this output back into a data.frame? I'd like for it to have these two columns:</p>

<pre><code>d$template
mean
</code></pre>

<p>I love tapply, but right now I'm cutting and pasting the results from tapply into a text file and hacking it up a bit to get the summary statistics that I want with appropriate names. This feels very wrong, and I'd like to do something better!</p>
","57458","","","","","2018-01-19 20:10:05","How can I make the output from tapply() into a data.frame","<r><statistics>","3","0","13","","","CC BY-SA 2.5","2618248","4452","4452","r","404559","3625322","3607736","",""
"2619069","1","","","2010-04-11 23:09:39","","2","3241","<p>I'm trying to create a stacked bar graph with variable coloring in each stacked bar; that is, one bar has say blue on top of red, the next one red on top of purple, etc. I also wanted to preserve the ability to stack graphs. Thank you so much guys.</p>

<p>Adam</p>
","314121","","252704","","2010-04-11 23:12:16","2010-04-12 01:15:44","R programming: creating a stacked bar graph, with variable colors for each stacked bar","<r><colors><bar-chart>","1","0","1","","","CC BY-SA 2.5","2619069","4452","4452","r","404559","3625322","3607736","",""
"2619346","1","2619439","","2010-04-12 00:51:56","","2","3594","<p>Why is my legend faded in these examples below?  Notice how the colours in the legend are not as vivid as the colours in the plot:  </p>

<pre><code>library(ggplot2)
r &lt;- ggplot(data = diamonds, aes(x = carat, y = price, color = cut, group = cut))
r + geom_smooth() #(left)
r + geom_smooth(size = 2)  #(right)
</code></pre>

<p><a href=""https://i.stack.imgur.com/sfPoU.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/sfPoU.png"" alt=""alt text""></a>
</p>

<p>EDIT: added a close-up
<a href=""http://img163.imageshack.us/img163/4715/screenshot20100411at725.png"" rel=""nofollow noreferrer"">alt text http://img163.imageshack.us/img163/4715/screenshot20100411at725.png</a></p>
","207258","","4751173","","2019-07-22 17:08:35","2019-07-22 17:08:35","R: ggplot2, why does my legend show faded colors?","<r><ggplot2><legend>","1","0","2","","","CC BY-SA 4.0","2619346","4452","4452","r","404559","3625322","3607736","",""
"2619400","1","2619430","","2010-04-12 01:16:19","","3","981","<pre><code>library(ggplot2)
</code></pre>

<p>This code produces a nice looking plot:</p>

<pre><code>qplot(cty, hwy, data = mpg, colour = displ) +
scale_y_log2() + 
labs(x=""x axis"") + 
labs(y=""y axis"") +
opts(title = ""my title"")
</code></pre>

<p>But I want to setup variables to try and to reduce code repetition:</p>

<pre><code>log_scale &lt;- scale_y_log2()
xscale &lt;-   labs(x=""x axis"")
yscale &lt;-   labs(y=""y axis"") 
title &lt;- opts(title = ""my title"")
my_scales &lt;- c(log_scale, xscale, yscale, title) 
# make a variable to hold the scale info changes above
</code></pre>

<p>So that I can do this and add a bunch of things at the same time: </p>

<pre><code>qplot(cty, hwy, data = mpg, colour = displ) + my_scales  
# add these to your plot.   
</code></pre>

<p>but I get this error: </p>

<pre><code>Error in object$class : $ operator is invalid for atomic vectors
</code></pre>

<p>I realize that the things going into my_scales need to be layers / different types of objects, but I don't see what they should be.</p>
","207258","","","","","2010-04-12 01:35:36","R: ggplot2, how to add a number of layers to a plot at once to reduce code","<r><ggplot2>","1","0","4","","","CC BY-SA 2.5","2619400","4452","4452","r","404559","3625322","3607736","",""
"2619543","1","2619620","","2010-04-12 02:23:53","","42","21418","<p>Is there a constant that stores the machine epsilon in R?</p>
","239923","","29","","2010-04-12 02:39:40","2015-02-05 22:00:54","How do I obtain the machine epsilon in R?","<r><numerical-methods>","3","0","6","","","CC BY-SA 2.5","2619543","4452","4452","r","404559","3625322","3607736","",""
"2619618","1","2640533","","2010-04-12 02:48:08","","17","13547","<p>I'm using the ""by"" function in R to chop up a data frame and apply a function to different parts, like this:</p>

<pre><code>pairwise.compare &lt;- function(x) {
Nright &lt;- ...
Nwrong &lt;- ...
Ntied &lt;- ...
return(c(Nright=Nright, Nwrong=Nwrong, Ntied=Ntied))
}
Z.by &lt;- by(rankings, INDICES=list(rankings$Rater, rankings$Class), FUN=pairwise.compare)
</code></pre>

<p>The result (Z.by) looks something like this:</p>

<pre><code>: 4 
: 357 
Nright Nwrong Ntied
     3      0     0
------------------------------------------------------------
: 8 
: 357 
NULL
------------------------------------------------------------
: 10 
: 470 
Nright Nwrong Ntied
     3      4     1 
------------------------------------------------------------ 
: 11 
: 470 
Nright Nwrong Ntied
    12      4     1
</code></pre>

<p>What I would like is to have this result converted into a data frame (with the NULL entries not present) so it looks like this:</p>

<pre><code>  Rater Class Nright Nwrong Ntied
1     4   357      3      0     0
2    10   470      3      4     1
3    11   470     12      4     1
</code></pre>

<p>How do I do that? </p>
","742","","5414452","","2016-01-23 10:50:43","2020-04-10 14:08:46","Convert a ""by"" object to a data frame in R","<r><dataframe><aggregate>","5","0","10","","","CC BY-SA 2.5","2619618","4452","4452","r","404559","3625322","3607736","",""
"2622777","1","2623382","","2010-04-12 14:26:28","","99","71667","<p>Does anyone have examples/tutorials of exception handling in R? The official documentation is very terse. </p>
","143813","","","","","2016-03-10 00:46:43","Exception handling in R","<r><exception-handling>","5","2","35","2016-03-10 04:07:03","","CC BY-SA 2.5","2622777","4452","4452","r","404559","3625322","3607736","",""
"2624164","1","2624510","","2010-04-12 17:53:47","","5","448","<p>I have a nested loop that I'm using foreach, DoSNOW, and a SNOW socket cluster to solve for. How should I go about profiling the code to make sure I'm not doing something grossly inefficient.</p>

<p>Also is there anyway to measure the data flows going between the master and nodes in a Snow cluster?</p>

<p>Thanks,</p>

<p>James</p>
","160794","","","","","2010-04-12 18:46:58","How to Profile R Code that Includes SNOW Cluster","<r><parallel-processing><distributed-computing>","1","0","2","","","CC BY-SA 2.5","2624164","4452","4452","r","404559","3625322","3607736","",""
"2624688","1","2627636","","2010-04-12 19:15:01","","8","6250","<p>Is <code>aov</code> appropriate for unbalanced datasets. According to help <code>...provides a wrapper to lm for fitting linear models to balanced or unbalanced experimental designs</code>. But later on it says <code>aov is designed for balanced designs, and the results can be hard to interpret without balance</code>.</p>

<p>How should I perform a 2-way anova on an unbalanced dataset in R? </p>

<p>I would like to reproduce the different results for type I and type III sum of squares of <code>SAS</code> output (when using <code>proc glm</code>). I remember we were using <code>type III sum of squares</code> for unbalanced datasets.</p>

<p>Thank you in advance.</p>
","299077","","","","","2015-04-16 12:54:34","2-way anova on unbalanced dataset","<r><anova>","1","2","5","","","CC BY-SA 2.5","2624688","4452","4452","r","404559","3625322","3607736","",""
"2624791","1","2624814","","2010-04-12 19:28:45","","12","23496","<p>I have a list (tmpList), which looks like this:</p>

<pre><code>$op
[1] ""empty""

$termset
$termset$field
[1] ""entry""

$termset[[2]]
$termset[[2]]$explode
[1] ""Y""
</code></pre>

<p>This is a list with a list inside.
If I add this list to a vector</p>

<pre><code>theOneVector = c(theOneVector, tmpList)
</code></pre>

<p>Now the resulting vector is of the length 2, because the first entry (""op"") of the list is separated from the tmpList.
Is it possible to append the complete tmpList into this vector?
<br>
I already tried it with</p>

<pre><code>theOneVector = c(theOneVector, list(tmpList))
</code></pre>

<p>which gives a vector with the length of 1, but it is very cumbersome to access the elements of the list with this extra list around the list. (Too much list in one sentence I think.)<br></p>

<p></p>

<p>Any help would be appreciated,<br>
Martin</p>
","295037","","5414452","","2016-02-02 13:24:16","2017-12-13 18:48:53","How to create a vector of lists in R?","<r><list><vector>","3","0","0","","","CC BY-SA 2.5","2624791","4452","4452","r","404559","3625322","3607736","",""
"2626236","1","2626305","","2010-04-13 00:14:16","","18","10115","<pre><code>df &lt;- data.frame(age=c(10,10,20,20,25,25,25),veg=c(0,1,0,1,1,0,1))
g=ggplot(data=df,aes(x=age,y=veg))
g=g+stat_summary(fun.y=mean,geom=""point"")
</code></pre>

<p>Points reflect mean of veg at each age, which is what I expected and want to preserve after changing axis limits with the command below.</p>

<pre><code>g=g+ylim(0.2,1)
</code></pre>

<p>Changing axis limits with the above command unfortunately causes veg==0 subset to be dropped from the data, yielding </p>

<blockquote>
  <p>""Warning message: Removed 4 rows containing missing values (stat_summary)""</p>
</blockquote>

<p>This is bad because now the data plot (stat_summary mean) omits the veg==0 points. How can this be prevented? I simply want to avoid showing the empty part of the plot- the ordinate from 0 to .2, but not drop the associated data from the stat_summary calculation.</p>
","302378","","","","","2010-04-13 00:37:56","Changing ylim (axis limits) drops data falling outside range. How can this be prevented?","<r><ggplot2>","1","0","2","","","CC BY-SA 2.5","2626236","4452","4452","r","404559","3625322","3607736","",""
"2626567","1","2626576","","2010-04-13 02:17:18","","22","20241","<p>I'm trying to collapse a data frame by removing all but one row from each group of rows with identical values in a particular column. In other words, the first row from each group.</p>

<p>For example, I'd like to convert this</p>

<pre><code>&gt; d = data.frame(x=c(1,1,2,4),y=c(10,11,12,13),z=c(20,19,18,17))
&gt; d
  x  y  z
1 1 10 20
2 1 11 19
3 2 12 18
4 4 13 17
</code></pre>

<p>Into this:</p>

<pre><code>    x  y  z
1   1 11 19
2   2 12 18
3   4 13 17
</code></pre>

<p>I'm using aggregate to do this currently, but the performance is unacceptable with more data:</p>

<pre><code>&gt; d.ordered = d[order(-d$y),]
&gt; aggregate(d.ordered,by=list(key=d.ordered$x),FUN=function(x){x[1]})
</code></pre>

<p>I've tried split/unsplit with the same function argument as here, but unsplit complains about duplicate row numbers.</p>

<p>Is rle a possibility? Is there an R idiom to convert rle's length vector into the indices of the rows that start each run, which I can then use to pluck those rows out of the data frame?</p>
","315062","","5414452","","2016-01-23 10:35:32","2019-03-20 11:47:11","Collapsing data frame by selecting one row per group","<r><dataframe>","4","0","8","","","CC BY-SA 3.0","2626567","4452","4452","r","404559","3625322","3607736","",""
"2627431","1","","","2010-04-13 06:31:06","","0","2035","<pre><code>&gt; D &lt;- read.csv(""sample1.csv"", header = FALSE, sep = "","")

&gt; D
        V1     V2     V3     V4
1 20100316 109825 352120 239065
2 20100317 108625 352020 239000
3 20100318 109125 352324 241065

&gt; D[,1]
[1] 20100316 20100317 20100318
</code></pre>

<p>In the above example how do I get the data in <code>D[,1]</code> to be read, and stored as date values: 2010-03-16, 2010-03-17, 2010-03-18? I have lots of data files in this format.</p>

<p>TIA,</p>
","313558","","168747","","2010-09-14 08:43:05","2010-09-14 08:43:05","Reading numeric Date value from CSV file to data.frame in ""R""","<r><csv><formatting><dataframe>","1","0","","","","CC BY-SA 2.5","2627431","4452","4452","r","404559","3625322","3607736","",""
"2628621","1","2630222","","2010-04-13 10:04:46","","150","62857","<p>I just finished reading about <a href=""http://cran.r-project.org/doc/manuals/R-intro.html#Scope"" rel=""noreferrer"">scoping in the R intro</a>, and am very curious about the <code>&lt;&lt;-</code> assignment.</p>

<p>The manual showed one (very interesting) example for <code>&lt;&lt;-</code>, which I feel I understood. What I am still missing is the context of when this can be useful.</p>

<p>So what I would love to read from you are examples (or links to examples) on when the use of <code>&lt;&lt;-</code> can be interesting/useful.  What might be the dangers of using it (it looks easy to loose track of), and any tips you might feel like sharing.</p>
","256662","","4099593","","2016-03-15 14:43:59","2019-12-07 22:10:05","How do you use ""<<-"" (scoping assignment) in R?","<r><scoping><lexical-scope><r-faq>","6","1","96","","","CC BY-SA 3.0","2628621","4452","4452","r","404559","3625322","3607736","",""
"2628680","1","2629278","","2010-04-13 10:14:35","","7","2754","<p>I want to import the contents of a csv file into R, the csv file contains multiple sections of data vertically, seperated by blank lines and asterisks.  For example</p>

<pre><code>********************************************************
* SAMPLE DATA ******************************************
********************************************************
Name, DOB, Sex
Rod, 1/1/1970, M
Jane, 5/7/1980, F
Freddy, 9.12,1965, M

*******************************************************
*  Income Data ****************************************
*******************************************************
Name, Income
Rod, 10000
Jane, 15000
Freddy, 7500
</code></pre>

<p>I would like to import this into R as two seperate dataframes.  Currently I'm manually cutting the csv file up into smaller files, but I think I could do it using read.csv and the skip and nrows settings of read.csv, If I could work out where the secion breaks are.</p>

<p>This gives me a logical TRUE for every blank line</p>

<pre><code>ifelse(readLines(""DATA.csv"")=="""",TRUE,FALSE)
</code></pre>

<p>I'm hoping someone has already solved this problem.</p>
","74658","","74658","","2010-04-13 10:33:37","2010-04-13 11:59:51","How to Import a CSV file containing multiple sections into R?","<file><r><csv><import>","2","2","1","","","CC BY-SA 2.5","2628680","4452","4452","r","404559","3625322","3607736","",""
"2630333","1","2638525","","2010-04-13 14:29:07","","3","1669","<p>EDIT: I have realized the source of my problem. I only have count information for the counties which I have data for, which is less than the number of counties in the area I'm plotting against.</p>

<p>It stands to reason that the problem lines of code are here:</p>

<pre><code>mapnames &lt;- map(""county"",plot=FALSE)[4]$names
colorsmatched &lt;- d$colorBuckets [na.omit(match(mapnames ,d$stcon))]
</code></pre>

<p>Does anyone have advice on how to generate a vector of the appropriate length that would match the # of counties in NY, NJ, CT, and PA from the maps library? I want to merge the count data I have and include zeros for the counties I don't have information on.</p>

<p>I am trying to follow the tutorial described here: <a href=""http://www.thisisthegreenroom.com/2009/choropleths-in-r/"" rel=""nofollow noreferrer"">http://www.thisisthegreenroom.com/2009/choropleths-in-r/</a></p>

<p>The below code executes, but it is either not matching my dataset with the maps_counties data properly, or it isn't plotting it in the order I would expect. For example, the resulting areas for the greater NYC area show no density while random counties in PA show the highest density.</p>

<p>The general format of my data table is:</p>

<pre><code>county state count
fairfield connecticut 17
hartford connecticut 6
litchfield connecticut 3
new haven connecticut 12
...
...
westchester new york 70
yates new york 1
luzerne pennsylvania 1
</code></pre>

<p>Note this data is in order by state and then county and includes data for CT, NJ, NY, &amp; PA. </p>

<p>First, I read in my data set:</p>

<pre><code>library(maps)
library(RColorBrewer)
d &lt;- read.table(""gissum.txt"", sep=""\t"", header=TRUE)

#Concatenate state and county info to match maps library
d$stcon &lt;- paste(d$state, d$county, sep="","")

#Color bins
colors = brewer.pal(5, ""PuBu"")
d$colorBuckets &lt;- as.factor(as.numeric(cut(d$count,c(0,10,20,30,40,50,300))))
</code></pre>

<p>Here is my matching</p>

<pre><code>mapnames &lt;- map(""county"",plot=FALSE)[4]$names
colorsmatched &lt;- d$colorBuckets [na.omit(match(mapnames ,d$stcon))]
</code></pre>

<p>Plotting:</p>

<pre><code>map(""county""
  ,c(""new york"",""new jersey"", ""connecticut"", ""pennsylvania"")
  ,col = colors[d$colorBuckets[na.omit(match(mapnames ,d$stcon))]]
  ,fill = TRUE
  ,resolution = 0
  ,lty = 0
  ,lwd= 0.5
)
map(""state""
  ,c(""new york"",""new jersey"", ""connecticut"", ""pennsylvania"")
  ,col = ""black""
  ,fill=FALSE
  ,add=TRUE
  ,lty=1
  ,lwd=2
)

map(""county""
   ,c(""new york"",""new jersey"", ""connecticut"", ""pennsylvania"")
   ,col = ""black""
   ,fill=FALSE
   ,add=TRUE
  , lty=1
  , lwd=.5
)
title(main=""Respondent Home ZIP Codes by County"")
</code></pre>

<p>I am sure I am missing something basic re: the order in which the maps function plots items - but I can't seem to figure it out. Thanks for the help. Please let me know if you need any more information.</p>
","415635","","415635","","2010-04-14 01:31:08","2010-04-14 15:08:14","Choropleth mapping issue in R","<r><mapping><plot>","1","0","1","","","CC BY-SA 2.5","2630333","4452","4452","r","404559","3625322","3607736","",""
"2630541","1","2630708","","2010-04-13 14:54:03","","5","858","<p>Given an <code>environment</code> object <code>e</code>:</p>

<pre><code>&gt; e
&lt;environment: 0x10f0a6e98&gt;
&gt; class(e)
[1] ""environment""
</code></pre>

<p>How do you access the variables inside the environment?</p>

<p>Just in case you're curious, I have found myself with this <code>environment</code> object. I didn't make it, a package in Bioconductor made it. You can make it, too, using these commands:</p>

<pre><code>library('GEOquery')
eset &lt;- getGEO(""GSE4142"")[[1]]
e &lt;- assayData(eset)
</code></pre>
","270572","","5414452","","2016-02-02 13:23:01","2016-02-02 13:23:01","R: getting ""inside"" environments","<r><namespaces>","1","3","2","","","CC BY-SA 2.5","2630541","4452","4452","r","404559","3625322","3607736","",""
"2631057","1","2631122","","2010-04-13 15:54:19","","0","5360","<p>Say I have a vector which has thousands of elements. What is the R code necessary if I want to make the elements at indices between 100-200 become 0?</p>

<p>Additionally how would I count the length between two different values, for example if I want  to know the length of time when the 'share price' is between 30-40?</p>
","315640","","190277","","2016-02-02 13:22:08","2016-02-02 13:58:13","Change elements of a vector","<r><vector>","1","1","","","","CC BY-SA 3.0","2631057","4452","4452","r","404559","3625322","3607736","",""
"2631141","1","2631394","","2010-04-13 16:05:49","","0","612","<p>I am trying to manipulate a conditional string outputted from SAS into the right format for a conditional statement in R.  Here is an example of the conditional outputted from SAS:</p>

<pre><code>. &lt; var1_a&lt;=80 and var2_a&gt;50.8
</code></pre>

<p>I've written a function that handles some of the transformation necessary:</p>

<pre><code>conditonalsub &lt;- function(x) {
subnew &lt;- gsub(""&lt;="", "" &lt;= "", x)
subnew &lt;- gsub(""&gt;="", "" &gt;= "", subnew)
subnew &lt;- gsub(""&gt;"", "" &gt; "", subnew)
subnew &lt;- gsub(""and"", ""&amp;"", subnew)
subnew &lt;- gsub(""\\.\\s"", ""NA "", subnew)
return(subnew)
</code></pre>

<p>which produces the following string:</p>

<pre><code>NA &lt; var1_a &lt;= 80 &amp; var2_a &gt; 50.8
</code></pre>

<p>I am using these conditional statements to subset the observations of a data frame.  So in this example I want R to select all observations with var1_a values that are either missing or less than or equal to 80 AND have var2_a greater than 50.8.  How can I modify the above function so that I get a conditional statement that is able to take missing values like the var1_a portion of the conditional statement above?  My guess is the format of the new conditional statement would look something like this?</p>

<pre><code>(var1_a == NA | var1_a &lt;= 80) &amp; (var2_a &gt; 50.8) 
</code></pre>
","315664","","","","","2010-04-13 16:40:12","Manipulate conditional statement using regex in R","<regex><r>","1","0","","","","CC BY-SA 2.5","2631141","4452","4452","r","404559","3625322","3607736","",""
"2631780","1","2633773","","2010-04-13 17:35:54","","32","26588","<pre><code>library(ggplot2)

my_title = ""This is a really long title of a plot that I want to nicely wrap \n and fit onto the plot without having to manually add the backslash n, but at the moment it does not""

r &lt;- ggplot(data = cars, aes(x = speed, y = dist))
r + geom_smooth() + #(left) 
opts(title = my_title)
</code></pre>

<p>can I set the plot title to wrap around and shrink the text to fit the plot?</p>
","207258","","","","","2020-09-01 12:28:19","R: ggplot2, can I set the plot title to wrap around and shrink the text to fit the plot?","<r><ggplot2><title><word-wrap>","3","0","8","","","CC BY-SA 2.5","2631780","4452","4452","r","404559","3625322","3607736","",""
"2632441","1","2632557","","2010-04-13 19:08:34","","5","8472","<p>I am reading, on my own (not for HW) about programming, and one exercise involved programming Pascal's triangle in R.  My first idea was to make a list and then append things to it, but that didn't work too well.  Then I thought of starting with a vector, and making a list out of that, at the end.  Then I thought of making a matrix, and making a list out of that at the end.</p>

<p>Not sure which way to even approach this.</p>

<p>Any hints?</p>

<p>thanks</p>
","228220","","5414452","","2016-01-23 10:41:16","2016-01-23 10:41:16","How would you program Pascal's triangle in R?","<r><math><combinatorics>","2","1","","","","CC BY-SA 2.5","2632441","4452","4452","r","404559","3625322","3607736","",""
"2633595","1","2633643","","2010-04-13 22:16:00","","3","466","<p>I have a large data.frame displaying some weird properties when plotted.  I'd like to ask a question about it on Stackoverflow, to do that I'd like to write the data.frame out in a form that I can paste it into SO and somebody else can easily run it and have it back into a data.frame object again.  Is there an easy way to accomplish this?  Also, if it is really long, should I use paste bin instead of directly paste it here?</p>
","207258","","","","","2019-07-05 19:26:13","R: How to write out a data.frame so that I can paste it into SO for others to read?","<r><dataframe>","4","0","","","","CC BY-SA 2.5","2633595","4452","4452","r","404559","3625322","3607736","",""
"2634386","1","2634688","","2010-04-14 01:54:55","","1","82","<p>From hard experience I've found it useful to occasionally save the state of my long computations to disk to start them up later if something fails.  Can I do this in a distributed computation package in R (like SNOW or multicore)?<br>
It does not seem clear how this could be done since the master is collecting things from the slaves in a non-transparent way.</p>
","160794","","166686","","2010-04-14 01:56:54","2010-04-14 03:25:07","How do you save the state of a computation in while using SNOW (or Multicore or ...)","<r><parallel-processing><distributed-computing>","1","0","1","","","CC BY-SA 2.5","2634386","4452","4452","r","404559","3625322","3607736","",""
"2634512","1","2636423","","2010-04-14 02:28:35","","5","717","<p>My question is about avoiding namespace pollution when writing modules in R.</p>

<p>Right now, in my R project, I have <code>functions1.R</code> with <code>doFoo()</code> and <code>doBar()</code>, <code>functions2.R</code> with other functions, and <code>main.R</code> with the main program in it, which first does <code>source('functions1.R'); source('functions2.R')</code>, and then calls the other functions.</p>

<p>I've been starting the program from the R GUI in Mac OS X, with <code>source('main.R')</code>.  This is fine the first time, but after that, the variables that were defined the first time through the program are defined for the second time <code>functions*.R</code> are sourced, and so the functions get a whole bunch of extra variables defined.</p>

<p>I don't want that!  I want an ""undefined variable"" error when my function uses a variable it shouldn't!  Twice this has given me very late nights of debugging!</p>

<p>So how do other people deal with this sort of problem?  Is there something like <code>source()</code>, but that makes an independent namespace that doesn't fall through to the main one?  Making a package seems like one solution, but it seems like a big pain in the butt compared to e.g. Python, where a source file is automatically a separate namespace.</p>

<p>Any tips?  Thank you!</p>
","88198","","88198","","2010-04-14 02:41:35","2010-04-15 03:11:22","R: disentangling scopes","<r><scope>","4","2","2","","","CC BY-SA 2.5","2634512","4452","4452","r","404559","3625322","3607736","",""
"2635938","1","2636182","","2010-04-14 08:36:52","","0","1834","<p>I am using ggplot2 to plot a figure that contains nine facets. Each facet represents the relationship between two variables and I would like to annotate the facets that display statistically significant results with a star '<em>'. This would result in only two of the nine facets with a '</em>'. However, I end up with all nine facets displaying the annotation.</p>

<p>How can I fix this?</p>

<pre><code>library(ggplot2)

Sig&lt;-c("""",""*"","""","""","""","""","""",""*"","""") # Only the second and the second to last facets should receive significance stars.
Data.annot&lt;-data.frame(unique(Aspects),Sig)

qplot(Labels,Es,data=Data1) + geom_pointrange(aes(x=Labels,y=Es,ymin=Low,ymax=Up)) + geom_hline(yintercept=0, linetype=""dashed"") + coord_flip() + facet_wrap(~Aspects, scales=""free"") + geom_text(data=Data.annot, aes(x= 0.5, y= 1, label = Sig)) + scale_y_continuous(""Correlation coefficient\n(effect size)"",limits=c(-0.5,1),breaks=c(-0.5,0,0.5,1.0)) + scale_x_discrete("""")
</code></pre>
","235630","","","","","2010-04-14 09:15:38","Creating a facet_wrap plot with ggplot2 with less annotations than plots","<r><graph><ggplot2><facet-wrap>","1","2","","","","CC BY-SA 2.5","2635938","4452","4452","r","404559","3625322","3607736","",""
"2637594","1","2639682","","2010-04-14 13:13:48","","1","775","<p>I am using R. I want to run <code>prcomp</code> on a matrix. The code works fine with one installation of R on a Linux box but breaks on another identical (or so I thought) installation of R on a different Linux box. The codes are</p>

<pre><code>dataf = read.table(""~/data/testdata.txt"")
pca = prcomp(dataf)
</code></pre>

<p>The error msg on the bad instance is</p>

<pre><code>&gt; dataf = read.table(""~/data/testdata.txt"")
&gt; pca = prcomp(dataf)
Error in La.svd(x, nu, nv) :
  BLAS/LAPACK routine 'DGESDD' gave error code -12
</code></pre>

<p>Both instances of R has <code>R version 2.9.2 (2009-08-24)</code> and, as far as I can tell, all the R libraries and environmental variables are configured in identical ways as well. </p>

<p>So does anyone have suggestions on what might be wrong? What does that error code mean? (I searched internet and found nothing helpful...) Thanks a lot in advance!</p>
","291877","","","","","2010-04-14 17:45:16","prcomp error in R","<r><blas>","1","0","","","","CC BY-SA 2.5","2637594","4452","4452","r","404559","3625322","3607736","",""
"2639430","1","2640087","","2010-04-14 17:07:45","","16","2297","<p>I'm interested in making a plot with a least squares regression line and line segments connecting the datapoints to the regression line as illustrated here in the graphic called perpendicular offsets:
<a href=""http://mathworld.wolfram.com/LeastSquaresFitting.html"" rel=""nofollow noreferrer"">http://mathworld.wolfram.com/LeastSquaresFitting.html</a>
<a href=""https://i.stack.imgur.com/bH6SM.gif"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/bH6SM.gif"" alt=""alt text""></a><br>
<sub>(from MathWorld - A Wolfram Web Resource: <a href=""http://mathworld.wolfram.com/images/eps-gif/LeastSquaresOffsets_1000.gif"" rel=""nofollow noreferrer"">wolfram.com</a>)</sub>  </p>

<p>I have the plot and regression line done here:</p>

<pre><code>## Dataset from http://www.apsnet.org/education/advancedplantpath/topics/RModules/doc1/04_Linear_regression.html

## Disease severity as a function of temperature

# Response variable, disease severity
diseasesev&lt;-c(1.9,3.1,3.3,4.8,5.3,6.1,6.4,7.6,9.8,12.4)

# Predictor variable, (Centigrade)
temperature&lt;-c(2,1,5,5,20,20,23,10,30,25)

## For convenience, the data may be formatted into a dataframe
severity &lt;- as.data.frame(cbind(diseasesev,temperature))

## Fit a linear model for the data and summarize the output from function lm()
severity.lm &lt;- lm(diseasesev~temperature,data=severity)

# Take a look at the data
plot(
 diseasesev~temperature,
        data=severity,
        xlab=""Temperature"",
        ylab=""% Disease Severity"",
        pch=16,
        pty=""s"",
        xlim=c(0,30),
        ylim=c(0,30)
)
abline(severity.lm,lty=1)
title(main=""Graph of % Disease Severity vs Temperature"")
</code></pre>

<p>Should I use some kind of for loop and segments <a href=""http://www.iiap.res.in/astrostat/School07/R/html/graphics/html/segments.html"" rel=""nofollow noreferrer"">http://www.iiap.res.in/astrostat/School07/R/html/graphics/html/segments.html</a> to do the perpendicular offsets?  Is there a more efficient way?  Please provide an example if possible.</p>
","255312","","4751173","","2019-07-23 01:22:24","2019-07-23 01:22:24","Graphing perpendicular offsets in a least squares regression plot in R","<r><statistics><plot><linear-regression><least-squares>","1","0","13","","","CC BY-SA 4.0","2639430","4452","4452","r","404559","3625322","3607736","",""
"2640525","1","2641235","","2010-04-14 19:49:18","","4","840","<p>I have switched to using emacs-ess for my R code development and it is working great. I would like to be able to write some small R code I am using for debugging my R script into the scratch buffer, and be able to execute the scratch buffer code in the R process buffer. I've found how I could change the scratch buffer's mode to text by putting the following in the .emacs file:</p>

<pre><code>(setq initial-major-mode 'text-mode)
</code></pre>

<p>Is there a similar statement I can put in my .emacs file that would make the scratch buffer have the ess-mode?  I tried the following which results in an error about wrong type argument:</p>

<pre><code>(setq initial-major-mode 'ess-mode)
</code></pre>
","315664","","","","","2011-12-06 01:55:24","Enable scratch buffer to execute R code in emacs-ess","<emacs><r><ess>","1","2","2","","","CC BY-SA 2.5","2640525","4452","4452","r","404559","3625322","3607736","",""
"2641653","1","2641674","","2010-04-14 23:04:18","","140","139391","<p>I'm trying to write a function to accept a data.frame (<code>x</code>) and a <code>column</code> from it. The function performs some calculations on x and later returns another data.frame. I'm stuck on the best-practices method to pass the column name to the function.</p>

<p>The two minimal examples <code>fun1</code> and <code>fun2</code> below produce the desired result, being able to perform operations on <code>x$column</code>, using <code>max()</code> as an example. However, both rely on the seemingly (at least to me) inelegant </p>

<ol>
<li>call to <code>substitute()</code> and possibly <code>eval()</code> </li>
<li>the need to pass the column name as a character vector. </li>
</ol>

<p></p>

<pre><code>fun1 &lt;- function(x, column){
  do.call(""max"", list(substitute(x[a], list(a = column))))
}

fun2 &lt;- function(x, column){
  max(eval((substitute(x[a], list(a = column)))))
}

df &lt;- data.frame(B = rnorm(10))
fun1(df, ""B"")
fun2(df, ""B"")
</code></pre>

<p>I would like to be able to call the function as <code>fun(df, B)</code>, for example. Other options I have considered but have not tried:</p>

<ul>
<li>Pass <code>column</code> as an integer of the column number. I think this would avoid <code>substitute()</code>. Ideally, the function could accept either.</li>
<li><code>with(x, get(column))</code>, but, even if it works, I think this would still require <code>substitute</code> </li>
<li>Make use of <code>formula()</code> and <code>match.call()</code>, neither of which I have much experience with.</li>
</ul>

<p><em>Subquestion</em>: Is <code>do.call()</code> preferred over <code>eval()</code>?</p>
","168137","","4099593","","2016-03-15 14:37:45","2020-11-18 14:33:35","Pass a data.frame column name to a function","<r><dataframe><r-faq>","7","0","74","","","CC BY-SA 3.0","2641653","4452","4452","r","404559","3625322","3607736","",""
"2642783","1","2643203","","2010-04-15 04:43:10","","2","531","<p>I have a data frame in R that looks like this:</p>

<pre><code>&gt; TimeOffset, Source, Length 
&gt; 0         1           1500
&gt; 0.1       1           1000    
&gt; 0.2       1           50
&gt; 0.4       2           25
&gt; 0.6       2           3
&gt; 1.1       1           1500
&gt; 1.4       1           18
&gt; 1.6       2           2500
&gt; 1.9       2           18
&gt; 2.1       1           37
&gt; ...
</code></pre>

<p>and I want to convert it to</p>

<pre><code>&gt; TimeOffset, Source, Length
&gt; 0.2         1       2550
&gt; 0.6         2       28
&gt; 1.4         1       1518
&gt; 1.9         2       2518
&gt; ...
</code></pre>

<p>Trying to put this into English, I want to group consecutive records with the same 'Source' together, then printing out a single record per group showing the highest time offset in that group, the source, and the sum of the lengths in that group.</p>

<p>The TimeOffset values will always increase.</p>

<p>I suspect this is possible in R, but I really don't know where to start.  In a pinch I could export the data frame out and do it in e.g. Python, but I'd prefer to stay within R if possible.</p>

<p>Thanks in advance for any assistance you can provide</p>
","140823","","2204410","","2017-10-06 19:00:06","2017-10-06 19:00:06","Summarising grouped records in a dataframe","<r><select><dataframe>","3","0","2","","","CC BY-SA 3.0","2642783","4452","4452","r","404559","3625322","3607736","",""
"2643719","1","2643882","","2010-04-15 08:23:32","","1","1048","<p>I have a numeric vector, it contains patches of elements that are repeating, something like:</p>

<pre><code>R&gt; data &lt;- c(1,1,1,2,2,2,3,3,2,2,2,2,2,3,3,1,1,1,1,1)
R&gt; data
 [1] 1 1 1 2 2 2 3 3 2 2 2 2 2 3 3 1 1 1 1 1
R&gt; 
</code></pre>

<p>I need to extract contiguous patches of elements equals to a specific value...  but I'm only interested in the patch around a specific position.  so, my input is: (1) the numeric vector, (2) the desired value, (3) the position.  I want to return a logic vector indicating which positions satisfy the request.</p>

<p>if at that position the data does not equal the value, I return all <code>FALSE</code>.</p>

<p>possible outcomes that are not all <code>F</code> would be:</p>

<pre><code> [1] 1 1 1 2 2 2 3 3 2 2 2 2 2 3 3 1 1 1 1 1

 [1] T T T F F F F F F F F F F F F F F F F F
 [2] F F F T T T F F F F F F F F F F F F F F
 [3] F F F F F F T T F F F F F F F F F F F F
 [4] F F F F F F F F T T T T T F F F F F F F
 [5] F F F F F F F F F F F F F T T F F F F F
 [6] F F F F F F F F F F F F F F F T T T T T
</code></pre>
","78912","","","","","2010-04-15 09:00:45","find contiguous stretches of equal data in a vector","<r>","1","2","","","","CC BY-SA 2.5","2643719","4452","4452","r","404559","3625322","3607736","",""
"2643939","1","2644009","","2010-04-15 08:59:52","","168","123565","<p>I'm having trouble with a data frame and couldn't really resolve that issue myself:<br>
The <b>dataframe</b> has arbitrary <b>properties as columns</b> and <b>each row</b> represents one <b>data set</b>.<p>
The question is:<br>
How to <b>get rid of columns where for <i>ALL</i> rows the value is NA</b>?</p>
","162154","","180892","","2015-03-05 05:21:02","2021-01-06 19:06:01","Remove columns from dataframe where ALL values are NA","<r><apply><dataframe>","12","0","54","","","CC BY-SA 3.0","2643939","4452","4452","r","404559","3625322","3607736","",""
"2645578","1","2647578","","2010-04-15 13:20:27","","2","704","<p>(I tried to ask this question earlier today, but later realised I over-simplified the question; the answers I received were correct, but I couldn't use them because of my over-simplification of the problem in the original question.  Here's my 2nd attempt...)</p>

<p>I have a data frame in R that looks like:</p>

<pre><code>""Timestamp"", ""Source"", ""Target"", ""Length"", ""Content""
0.1        , P1      , P2      , 5       , ""ABCDE""
0.2        , P1      , P2      , 3       , ""HIJ""
0.4        , P1      , P2      , 4       , ""PQRS""
0.5        , P2      , P1      , 2       , ""ZY""
0.9        , P2      , P1      , 4       , ""SRQP""
1.1        , P1      , P2      , 1       , ""B""
1.6        , P1      , P2      , 3       , ""DEF""
2.0        , P2      , P1      , 3       , ""IJK""
...
</code></pre>

<p>and I want to convert this to:</p>

<pre><code>""StartTime"", ""EndTime"", ""Duration"", ""Source"", ""Target"", ""Length"", ""Content""
0.1        , 0.4      , 0.3       , P1      , P2      , 12      , ""ABCDEHIJPQRS""
0.5        , 0.9      , 0.4       , P2      , P1      , 6       , ""ZYSRQP""
1.1        , 1.6      , 0.5       , P1      , P2      , 4       , ""BDEF""
...
</code></pre>

<p>Trying to put this into English, I want to group consecutive records with the same 'Source' and 'Target' together, then print out a single record per group showing the StartTime, EndTime &amp; Duration (=EndTime-StartTime) for that group, along with the sum of the Lengths for that group, and a concatenation of the Content (which will all be strings) in that group.</p>

<p>The TimeOffset values will always increase throughout the data frame.</p>

<p>I had a look at melt/recast and have a feeling that it could be used to solve the problem, but couldn't get my head around the documentation.  I suspect it's possible to do this within R, but I really don't know where to start. In a pinch I could export the data frame out and do it in e.g. Python, but I'd prefer to stay within R if possible.</p>

<p>Thanks in advance for any assistance you can provide</p>
","140823","","","","","2010-04-15 17:28:23","Summarising grouped records in a dataframe in R (...again)","<select><r><statistics><dataframe>","3","0","4","","","CC BY-SA 2.5","2645578","4452","4452","r","404559","3625322","3607736","",""
"2646402","1","2646517","","2010-04-15 14:55:53","","3","3750","<p>Following the recent discussions here (e.g. <a href=""https://stackoverflow.com/questions/2628621/how-do-you-use-scoping-assignment-in-r"">1</a>, <a href=""https://stackoverflow.com/questions/2630541/r-getting-inside-environments"">2</a> ) I am now using environments in some of my code. My question is, how do I create functions that modify environments according to its arguments? For example:</p>

<pre><code>y &lt;- new.env()
with(y, x &lt;- 1)
f &lt;- function(env,z) {
    with(env, x+z)
}
f(y,z=1)
</code></pre>

<p>throws</p>

<pre><code>Error in eval(expr, envir, enclos) : object 'z' not found
</code></pre>

<p>I am using environments to keep concurrently two sets of simulations apart (without refactoring my code, which I wrote for a single set of experiments). </p>
","143377","","-1","","2017-05-23 11:58:11","2011-02-09 10:21:17","Using functions and environments","<r><scope>","3","6","5","","","CC BY-SA 2.5","2646402","4452","4452","r","404559","3625322","3607736","",""
"2647639","1","2647944","","2010-04-15 17:36:23","","9","19992","<p>I have a dataframe with a column of integers that I would like to use as a reference to make a new categorical variable.  I want to divide the variable into three groups and set the ranges myself (ie 0-5, 6-10, etc).  I tried <code>cut</code> but that divides the variable into groups based on a normal distribution and my data is right skewed.  I have also tried to use if/then statements but this outputs a true/false value and I would like to keep my original variable.  I am sure that there is a simple way to do this but I cannot seem to figure it out.  Any advice on a simple way to do this quickly?</p>

<p>I had something in mind like this:</p>

<pre><code>x   x.range
3   0-5
4   0-5
6   6-10
12  11-15
</code></pre>
","163809","","903061","","2018-01-08 23:04:17","2018-10-05 22:39:33","Create categorical variable in R based on range","<r><r-faq>","3","0","4","","","CC BY-SA 2.5","2647639","4452","4452","r","404559","3625322","3607736","",""
"2651497","1","2652934","","2010-04-16 08:05:12","","1","1220","<p>I am trying to transform my data.frame by calculating the <code>log-differences</code> of each column
and controlling for the rows <code>id</code>. So <strong>basically I like to calculate the growth rates for each id's variable</strong>.
So here is a random df with an id column, a time period colum p and three variable columns:</p>

<pre><code>df &lt;- data.frame (id = c(""a"",""a"",""a"",""c"",""c"",""d"",""d"",""d"",""d"",""d""),
                  p = c(1,2,3,1,2,1,2,3,4,5),
                  var1 = rnorm(10, 5),
                  var2 = rnorm(10, 5),
                  var3 = rnorm(10, 5)
                  )
df
     id p     var1     var2     var3
1     a 1 5.375797 4.110324 5.773473
2     a 2 4.574700 6.541862 6.116153
3     a 3 3.029428 4.931924 5.631847
4     c 1 5.375855 4.181034 5.756510
5     c 2 5.067131 6.053009 6.746442
6     d 1 3.846438 4.515268 6.920389
7     d 2 4.910792 5.525340 4.625942
8     d 3 6.410238 5.138040 7.404533
9     d 4 4.637469 3.522542 3.661668
10    d 5 5.519138 4.599829 5.566892
</code></pre>

<p>Now I have written a function which does exactly what I want BUT I had to take a detour which is possibly unnecessary and can be removed. However, somehow I am not able to locate
the shortcut.
Here is the function and the output for the posted data frame:</p>

<pre><code>fct.logDiff &lt;- function (df) {
df.log &lt;- dlply (df, ""code"", function(x) data.frame (p = x$p, log(x[, -c(1,2)])))
list.nalog &lt;- llply (df.log, function(x) data.frame (p = x$p, rbind(NA, sapply(x[,-1], diff))))
ldply (list.nalog, data.frame)
}

 fct.logDiff(df)
     id p        var1        var2        var3
1     a 1          NA          NA          NA
2     a 2 -0.16136569  0.46472004  0.05765945
3     a 3 -0.41216720 -0.28249264 -0.08249587
4     c 1          NA          NA          NA
5     c 2 -0.05914281  0.36999681  0.15868378
6     d 1          NA          NA          NA
7     d 2  0.24428771  0.20188025 -0.40279188
8     d 3  0.26646102 -0.07267311  0.47041227
9     d 4 -0.32372771 -0.37748866 -0.70417351
10    d 5  0.17405309  0.26683625  0.41891802
</code></pre>

<p>The trouble is due to the added <code>NA</code>-rows. I don't want to collapse the frame and reduce it, which would be automatically done by the <code>diff()</code> function. So I had 10 rows in my original frame and am keeping the same amount of rows after the transformation. In order to keep the same length I had to add some <code>NAs</code>. I have taken a detour by transforming the data.frame into a list, add the <code>NAs</code> to each id's first line, and afterwards transform the list back into a data.frame. That looks tedious. </p>

<p>Any ideas to avoid the data.frame-list-data.frame class transformation and optimize the function?</p>
","258334","","258334","","2010-04-16 09:16:56","2010-04-16 12:36:56","Calculating Growth-Rates by applying log-differences","<optimization><r><logging><transformation>","1","0","","","","CC BY-SA 2.5","2651497","4452","4452","r","404559","3625322","3607736","",""
"2653035","1","2653806","","2010-04-16 12:52:55","","2","1446","<p>Does anyone know of a way to control the font size/color/weight of the row and column names when plotting a correspondence plot with the ca package?</p>

<p>The following code will produce a very nice looking chart, though if there were more attributes (very heavy, super heavy, something more than super heavy) or more classes of workers (peons, underlings, etc) then the graph will get a little cluttered and hard to tell what was what.</p>

<p>It would be nice if you could list all the attributes in a separate color than the categories of workers.</p>

<pre><code>library(ca)
data(""smoke"")

plot(ca(smoke)
  , map = ""symmetric""
  , what =c(""active"",""active"")
  , mass = c(T,T)
  , contrib = ""absolute""
  , col = c(""red"",""blue"")
  , pch = c(15,17,15,17)
  , labels = c(2,2)
  , arrows = c(T,F)
)
</code></pre>

<p>Alternatively, does anyone know if there is a way to reproduce something along these lines with ggplot2? I didn't find anything on the website that seemed comparable, but I don't know much about the package.</p>

<p>Thanks,
-Chase</p>
","415635","","429846","","2013-01-02 09:49:23","2014-01-20 22:15:42","ca plotting text attributes","<graphics><r><ggplot2><plot>","2","0","2","","","CC BY-SA 3.0","2653035","4452","4452","r","404559","3625322","3607736","",""
"2654397","1","2655063","","2010-04-16 15:59:17","","5","386","<p>I am impressed by what I have seen of <a href=""http://yeroon.net/ggplot2/"" rel=""noreferrer"">yeroon.net/ggplot2</a> which is a web interface for Hadley Wickham's R package ggplot2. I want to try it out on my own data. The part that has me very excited is that one can use data stored in one's own Google spreadsheet as the data. One just signs into their Google Account so that yeroon.net/ggplot2 can access the spreadsheet list. I have been hesitant to do it. If I sign in whilst on yeroon.net am I handing over my username and password to a third party? It would not be wise of me to divulge my google password to third parties since Google is fast becoming my repository of everything. </p>

<p>How do I know if Jeroon's application is using <a href=""http://code.google.com/apis/accounts/docs/AuthForInstalledApps.html"" rel=""noreferrer"">ClientLogin</a> or <a href=""http://code.google.com/apis/accounts/docs/OAuthForInstalledApps.html#"" rel=""noreferrer"">OAuth</a>? My understanding is very basic and may be wrong but nevertheless here it is. OAuth would be better since it does not actually pass the password onto the third party application. </p>
","168139","","168139","","2010-04-16 17:17:40","2012-01-04 09:36:11","How safe am I signing into Google Spreadsheets with yeroon.net/ggplot2","<authentication><r><passwords><ggplot2><google-sheets>","1","1","2","","","CC BY-SA 2.5","2654397","4452","4452","r","404559","3625322","3607736","",""
"2654967","1","2655330","","2010-04-16 17:26:11","","2","10626","<p>I know it's not a programming question but I'm in a hurry to choose a netbook like <a href=""http://www.gigabyte.com.tw/Products/Notebook/Products_Overview.aspx?ProductID=2506"" rel=""nofollow noreferrer"">this</a> and I haven't been able to find the minimum system requirements for an R installation (e.g. minimum RAM). I am interested in a small netbook so as to be able to use it in class. Has anybody used R in a netbook that would recommend for that use? </p>
","299077","","1849664","","2015-04-22 21:26:58","2015-04-22 21:26:58","R in a netbook - system requirements for using R","<r>","3","0","3","2014-08-05 09:59:07","2010-04-16 17:26:11","CC BY-SA 2.5","2654967","4452","4452","r","404559","3625322","3607736","",""
"2656529","1","","","2010-04-16 22:59:15","","6","14205","<p>I want to upgrade the package ggplot2:</p>

<pre><code>library(ggplot2)
packageDescription(""ggplot2"")[""Version""]
&gt; 0.8.3
</code></pre>

<p>But the current version is 0.8.7.</p>

<p>I tried update.packages(), which seemed to work OK.  But it still returned older version 0.8.3.</p>

<p>So I downloaded and installed the package source from Cran, which says 0.8.7 in the download page.
I then install it via the GUI menu in R.  It returns </p>

<pre><code>** building package indices ...
* DONE (ggplot2)
</code></pre>

<p>I then run:</p>

<pre><code>packageDescription(""ggplot2"")[""Version""]
&gt; 0.8.3
</code></pre>

<p>And still I have the older version!</p>

<p>I don't know why this is not working, what's more I had already come across this problem before and solved it (I can't remember exactly what) but now it has gone back to the older version!  What's the easiest way to keep packages like this updated automatically and not have them refer back to older packages?</p>
","207258","","967840","","2013-03-30 17:52:22","2013-03-30 17:52:22","Update a package and keep it from reverting to the original","<r><packages><ggplot2>","2","1","2","","","CC BY-SA 3.0","2656529","4452","4452","r","404559","3625322","3607736","",""
"2656731","1","2662089","","2010-04-17 00:22:21","","3","4955","<p>Assume that I have sources of data X and Y that are indexable, say matrices. And I want to run a set of independent regressions and store the result. My initial approach would be</p>

<pre><code>results = matrix(nrow=nrow(X), ncol=(2))
for(i in 1:ncol(X)) {
        matrix[i,] = coefficients(lm(Y[i,] ~ X[i,])

}
</code></pre>

<p>But, loops are bad, so I could do it with lapply as</p>

<pre><code>out &lt;- lapply(1:nrow(X), function(i) { coefficients(lm(Y[i,] ~ X[i,])) } )
</code></pre>

<p>Is there a better way to do this?</p>
","318976","","37751","","2010-04-17 14:50:58","2010-04-18 11:41:16","What is the best way to run a loop of regressions in R?","<r><apply>","3","1","1","","","CC BY-SA 2.5","2656731","4452","4452","r","404559","3625322","3607736","",""
"2656792","1","2657002","","2010-04-17 00:48:39","","15","6623","<p>I often want to do essentially the following:</p>

<pre><code>mat &lt;- matrix(0,nrow=10,ncol=1)
lapply(1:10, function(i) { mat[i,] &lt;- rnorm(1,mean=i)})
</code></pre>

<p>But, I would expect that mat would have 10 random numbers in it, but rather it has 0. (I am not worried about the rnorm part. Clearly there is a right way to do that. I am worry about affecting mat from within an anonymous function of lapply) Can I not affect matrix mat from inside lapply? Why not? Is there a scoping rule of R that is blocking this?</p>
","318976","","5414452","","2016-02-02 13:33:18","2016-02-02 13:33:18","can lapply not modify variables in a higher scope","<r><function><lapply>","3","0","5","","","CC BY-SA 2.5","2656792","4452","4452","r","404559","3625322","3607736","",""
"2657434","1","2657461","","2010-04-17 05:57:34","","3","289","<p>In R, what is the most efficient way to count the length between 2 values. for example, i have vector x , which are all randomly choose from 1 to 100, how can i find out the length between the first""2"" and first""40"", 
x=(1,2,<strong>3,4,5,6,7</strong>,40,1,2,<strong>3,21,4,1,23,4</strong>,43,23,4,12,3,43,5,36,3,45,12,31,3,4,23,41,23,5,53,45,3,7,6,36)
for this vector, the answer should be 5 and 6</p>
","319081","","5414452","","2016-02-02 13:30:15","2016-02-02 13:30:15","length between 2 values","<r><vector>","1","0","","","","CC BY-SA 2.5","2657434","4452","4452","r","404559","3625322","3607736","",""
"2658338","1","2835988","","2010-04-17 12:33:58","","0","726","<p>I am trying to build a data processing program. Currently I use a double matrix to represent the data table, each row is an instance, each column represents a feature. I also have an extra vector as the target value for each instance, it is of double type for regression, it is of integer for classification. </p>

<p>I want to make it more general. I am wondering what kind of structure R uses to store a dataset, i.e. the internal implementation in R. </p>
","183828","","183828","","2010-04-17 12:42:02","2010-05-14 16:52:09","The internal implementation of R's dataset","<r>","2","5","1","","","CC BY-SA 2.5","2658338","4452","4452","r","404559","3625322","3607736","",""
"2658752","1","","","2010-04-17 14:53:03","","1","2586","<p>I wanted to do matrix multiplication in Java, and the speed needs to be very good.</p>
<p>I was thinking of calling R through java to achieve this.</p>
<p>I had a couple of Qs though:</p>
<ol>
<li><p>Is calling R using Java a good idea? If yes, are there any code samples that can be shared?</p>
</li>
<li><p>What are the other ways that can be considered to do matrix multiplication in Java?</p>
</li>
</ol>
<h3>Update:</h3>
<p>My colleague who quit the firm was a C# programmer, who was forced to write Java code that involved matrix multiplication.</p>
<p>-- He has written his own DataTable class in Java, in order to be able to</p>
<p>a) create indexes to sort and join with other DataTables</p>
<p>b) matrix multiplication.</p>
<p>So, I want to essentially clean up the code, and thought using something like R within Java will help me focus on business logic rather than sorting, joining, matrix multiplication, etc.</p>
","319262","","-1","","2020-06-20 09:12:55","2014-10-07 19:29:57","Matrix multiplication in java","<java><r><matrix-multiplication>","5","2","","","","CC BY-SA 2.5","2658752","4452","4452","r","404559","3625322","3607736","",""
"2659308","1","2663175","","2010-04-17 17:27:34","","0","267","<p>When editing .Rnw files with emacs, sometimes it gets confused as to if I am in math mode or not. Then, the syntax highlighting gets messed up, and C-f-i inserts \textit{} and \mathit{} opposite to how it normally should. Is seems like there is some bool storing the state of math mode or not, and it gets inadvertently flipped. Is there a way I can manually flip it back?</p>
","318976","","","","","2010-04-18 17:28:06","editing Rnw in Emacs, gets confused if in math mode or not","<emacs><r><ess>","1","0","1","","","CC BY-SA 2.5","2659308","4452","4452","r","404559","3625322","3607736","",""
"2659337","1","","","2010-04-17 17:34:33","","2","1599","<p>I have a few hundred thousand measurements where the dependent
variable is a probability, and would like to use logistic regression.
However, the covariates I have are all categorical, and worse, are all
nested. By this I mean that if a certain measurement has ""city -
Phoenix"" then obviously it is certain to have ""state - Arizona"" and
""country - U.S."" I have four such factors - the most granular has
some 20k levels, but if need be I could do without that one, I think.
I also have a few non-nested categorical covariates (only four or so,
with maybe three different levels each).
What I am most interested in
is prediction - given a new observation in some city, I would like to
know the relevant probability/dependent variable. I am not interested
as much in the related inferential machinery - standard deviations,
etc - at least as of now. I am hoping I can afford to be sloppy.
However, I would love to have that information unless it requires
methods that are more computationally expensive.
Does anyone have any advice on how to attack this? I have looked into
mixed effects, but am not sure it is what I am looking for.</p>
","319337","","","","","2014-01-23 06:23:59","regressions with many nested categorical covariates","<r><regression>","2","1","3","","","CC BY-SA 2.5","2659337","4452","4452","r","404559","3625322","3607736","",""
"2659609","1","2659698","","2010-04-17 19:03:01","","2","3592","<p>I am sure this is easy - but I can't figure it out right now.</p>

<p>Basically: I have a long vector of variables:</p>

<pre><code>names &lt;- c(""first"",""second"", ""third"")
</code></pre>

<p>I have some data, and I now need to add the variables. I could do:</p>

<pre><code>data$first &lt;- NA
</code></pre>

<p>But since I have a long list, and I would like an automated solution. <strong>This doesn't work</strong>.</p>

<pre><code>for (i in 1:length(names)) (paste(""data$"", names[i],sep="""") &lt;- NA)
</code></pre>

<p>The reason I want this, is that I need to vertically merge to dataframes, where one doesn't have all the variables it should have.</p>

<p>Thanks in advance</p>
","162832","","5414452","","2016-02-02 13:26:45","2016-02-02 13:26:45","add several variables to dataframe, based on vector","<r><dataframe>","2","0","1","","","CC BY-SA 2.5","2659609","4452","4452","r","404559","3625322","3607736","",""
"2661402","1","2661490","","2010-04-18 06:57:44","","30","8030","<p>Given a set of real numbers drawn from a unknown continuous univariate distribution (let's say is is one of beta, Cauchy, chi-square, exponential, F, gamma, Laplace, log-normal, normal, Pareto, Student's t, uniform and Weibull) ..</p>

<pre><code>x &lt;- c(7.7495976,12.1007857,5.8663491,9.9137894,11.3822335,7.4406175,8.6997212,9.4456074,11.8370711,6.4251469,9.3597039,8.7625700,10.3171063,8.0983110,11.7564283,11.7583461,7.3760516,14.5713098,14.3289690,12.8436795,7.1834376,12.2530520,8.9362235,11.8964391,5.4378782,7.8083060,0.1356370,14.9341847,6.8625143,9.0285873,10.2251998,10.3348486,7.7518365,2.8757024,9.2676577,10.6879259,11.7623207,14.0745924,9.3478318,7.6788852,9.7491924,14.9409955,11.0297640,8.5541261,8.6129808,9.2192320,12.3507414,8.9156903,11.6892831,10.2571897,11.1673235,10.5883741,8.2396129,7.3505839,3.4437525,8.3660082,10.5779227,8.5382177,13.6647484,9.0712034,4.1090454,13.4238382,16.1965937,14.2539891,14.6498816,6.9662381,12.3282141,10.9628268,10.8859495,11.6742822,12.0469869,9.1764119,4.2324549,12.6665295,10.7467579,6.4153703,10.3090806,12.0267082,9.2375369,13.8011813,13.0457227,14.0147179,6.9224316,7.1164269,10.7577799,8.0965571,13.3371566,14.6997535,8.8248384,8.0634834,10.2226001,8.5112199,8.1701147,8.1970784,10.5432878,5.9603389,6.6287037,13.3417943,3.1122822,10.4241008,11.4281520,9.4647825,10.5480176,14.2357819,9.4220778,9.7012755,10.9251006,5.3073151,10.8228672,12.0936384,8.5146227,8.4115865,7.7244591,7.2801474,7.3412563,4.5385940,7.8822841,12.7327836,11.5509252,13.0300876,10.0458138,11.3862972,11.3644867,12.6585391,5.8567192,9.8764841,7.6447620,8.7806429,9.2089114,9.1961781,7.2400724,14.7575303,8.6874476,4.6276043,14.0592724,10.3519708,8.2222625,8.7710501,8.5724602,11.4279232,9.6734741,12.1972490,10.1250074,4.8571327,8.0019245,9.8036286,17.7386541,10.8935339,4.7258581,14.2681556,7.4236474,9.4520797,9.2066764,7.7805317,0.4938756,13.0306624,8.0225287,11.1801478,8.7481126,16.5873192,6.0404763,9.5674318,10.8915023,13.2473727,5.5877557,1.4474869,10.9504070,10.8879749,10.7765684,9.1501230,11.0798794,10.0961631,9.5913525,14.0855129,7.3918195,16.6303158,9.1436327,11.9848346,11.4691572,16.0934172,13.1431040,8.2455786,10.7388841,13.7107201,9.6223990,7.6363513,9.5731838,7.0150930,14.1341888,7.5834625,13.8362695,12.9790060,10.4156690,6.4108920,6.3731019,6.3302824,8.4924571,11.2175143,11.6346609,6.0958761,12.8728176,10.2689647,9.7923411,11.3962741,7.3723701,8.1169299,9.7926014,8.7266379,10.7350973,12.7639103,7.4425159,15.9422109,9.9073852,6.2421614,5.2925668,9.9822059,13.9768971,9.3481404,6.8102106,12.6482884,9.8595946,12.8946675,6.3519119,9.2698768,4.9538608,13.8062408,14.7438135,8.5583994,12.4232260,9.4205371,13.6507205,11.7807767,10.9747222,15.9299602,10.0202244,11.9209419,12.8159324,7.0107459,7.8076222,8.0086965,14.7694984,6.4810687,6.6833260,3.9660939,16.2414479,9.3474497,10.2626126,11.7672786,10.1245905,2.3416774,9.2548226,12.3498943,9.1731074,8.6703280,3.8079927,12.0858349,11.1027140,11.9034505,11.1981903,9.5554276,11.5333311,4.1374535,7.9397446,10.6732513,5.4928081,5.9026714,7.1902350,7.3516027,9.5251792,12.8827838,8.6051567,9.9074448,4.7244414,9.4681156,17.4316786,15.0770196,7.4215510,7.2839984,8.2040354,11.2938556,12.2308244,17.2933409,5.7154747,9.9383524,7.9912142,10.2087560,13.0489301,10.2092634,11.4029668,10.3103281,10.2810316,8.9487624,14.2699307,12.8538251,10.7545354,18.0638133,7.2115769,7.4020585,7.9737234,13.1687588,13.7186238,9.6881618,4.2991770,11.4829896,8.0113006,10.0285544,8.3325591,8.8476239,9.3618137,11.0913308,10.2702207,12.0215701,11.8083744,8.1575837,10.0413629,11.7291752,13.8315537,12.4823312,13.3289096,8.5874403,9.8624401,7.0444818,13.9701389,10.0250634,14.3841966,17.4074390,13.1290358,8.3764673,7.8796107,6.4597773,12.4989708,11.3617236,5.0730931,13.5990536,9.4800716,11.1247161,12.6283343,12.5711367,10.8075848,13.2183856,12.4566869,17.0046899,9.9132293,13.8912393,10.4806343,6.7550983,18.4982020,4.6835563,4.6068688,8.4304188,7.8747286,9.4440702,12.1033704,10.7397568,12.4483258,12.0952273,9.4609549,16.1755646,13.2110564,12.5244792,14.5511670,14.9365263,6.6852081,14.6988321,9.8833093,11.1549852,14.4090081,6.2565184,8.3488705,10.8509966,7.6795679,13.5814813,10.1733942,12.1773482,4.7032686,9.9248308,17.7067155,8.2378404,12.8208154,12.7675305,9.0907063,9.5720411,4.5536981,5.2252539,10.7393508,8.1761239,7.8011878,10.8517959,12.8793471,10.1738281,9.0522516,9.7020267,8.5743543,7.1063673,9.4366173,7.5154902,9.2420952,13.7275687,8.2097051,12.4686117,8.6426135,10.6854081,14.8617929,14.2631291,11.1449327,8.4807248,5.9399190,6.7772300,7.2566033,10.3215210,9.2483564,10.8592844,13.8227188,5.8955118,6.8936159,11.4641992,8.6535466,14.1301887,10.2194653,9.3929177,11.8592296,9.3153675,10.8574024,9.5293558,14.1394531,7.1224090,5.6785198,13.1351723,7.1031658,7.6344684,8.6918016,6.8426780,8.6902514,9.9025967,6.1603559,6.3995948,6.7157089,14.9359341,13.1275476,11.2493476,10.7684760,8.5263731,5.1711855,10.2432689,6.7908688,9.2634794,5.6242460,7.7319788,13.7579540,10.5344149,11.2123002,9.5503450,11.3042249,6.6581916,13.0363709,9.0141363,6.8815546,8.6309000,9.4825677,6.9816465,9.4836443,8.5629547,12.5643187,13.2918150,4.9542483,3.8941388,12.0723769,14.6818075,6.2067566,8.6538934,11.4860264,9.6481396,12.7096758,7.8361298,12.0167492,9.2011051,6.7472607,13.5725275,15.0862343,12.5248807,10.8804527,12.7291198,7.7527975,7.8537703,10.5257599,11.2615216,5.2586963,9.3935784,4.8959811,14.9649019,9.7550081,9.0961317,3.0822901,10.4690830,11.4116176,11.8268286,9.6303294,12.6595176,10.3003485,10.6738841,7.1545388,13.1700952,8.8394611,11.7666496,5.3739818,12.5156287,10.5998309,7.9280247,11.3985509,9.3435626,9.1445783,7.5190392,10.5207065,5.5194295,14.4021779,7.9815022,7.3148241,5.0131517,12.1867856,3.4892615,14.7278153,10.0177503,9.0080577,6.2549383,11.5792232,10.0743671,4.6603495,9.1943305,10.0549778,13.3946923,11.0435648,11.9903902,7.5212459,6.9752799,9.7793759,3.0074422,9.9630136,8.2949444,14.4448033,8.8767257,10.4919437,12.8309614,11.9987884,9.4450733,7.1909711,7.7836130,12.0111407,7.8110426,8.8857522,7.2070115,6.1091037,15.5397454,12.4138856,11.0948175,10.3384724,4.0731303,11.9523302,11.7543732,8.6845056,11.3963952,9.1248950,9.8663549,14.4536098,10.5610537,9.6523570,9.9533877,10.1019772,12.0909679,12.1466894,9.8986813,14.2406526,10.1251599,13.5607593,8.3409267,7.3538062,9.2187909,8.3878572,9.6934979,6.8270478,6.9754722,14.7438670,6.2118150,4.3408116,11.4874280,12.9580969,9.5487183,10.2743684,11.2433385,14.4445854,10.3395096,5.7534609,10.5550234,10.9322053,10.2105928,11.3020951,12.9484069,6.5904212,8.4368601,11.3280691,8.6031823,7.6938566,11.3733151,12.3900593,11.7711757,11.2307516,13.4915701,10.7228153,7.3886924,8.4401787,10.2753493,8.4389663,12.1972728,10.4918743,10.6289742,10.5594228,6.7236908,11.2358099,8.5938861,12.3906280,14.4511787,7.4746119,15.8803774,2.5522927,9.6801286,8.5697501,10.8271935,13.5280438,10.6818935,13.5646711,3.5187030,10.4440143,9.8327296,9.7382627,14.1669606,6.9083257,3.8266181,13.6244062,11.0284378,9.5523319,8.9891586,9.9055215,8.3856238,8.7478998,6.6987620,14.7248918,9.2529918,10.2082195,4.9534370,9.2030317,5.2269606,8.0661516,13.1779369,5.2971835,15.0037013,7.2702621,6.9997505,9.6490126,13.9149660,10.7425870,9.7558964,12.5752855,10.5098261,20.2689637,9.8681830,7.8259004,9.4911900,9.6024895,7.6085691,12.0086596,6.6780724,8.2764670,8.9880572,15.9231426,5.9905542,13.5816388,8.9839322,9.5235545,10.1314783,13.1174616,8.1648447,12.5653484,12.4941364,10.5916275,12.7761500,9.8608664,8.1374522,10.6055768,6.5465219,11.7945966,7.0397647,4.4046833,12.4284773,0.4180241,12.0268339,10.0441325,5.3276329,8.4208769,8.5484829,9.8222639,9.4951750,9.3263556,13.7433301,10.1112279,12.3558939,10.8694158,9.7864777,5.5161601,7.0906274,14.5786803,12.9236138,8.9206195,7.0104273,5.8283839,7.6944516,6.2924265,10.0766522,10.3576597,8.5793193,11.2022858,4.9360148,6.5907700,13.0853471,9.5498965,10.8132248,7.3545704,9.3583861,10.5726301,6.8032692,9.5914570,6.1383186,7.0176580,16.8026498,6.7959168,9.2745414,7.7390857,12.5977623,8.6116698,13.6735060,10.8476068,9.6710713,10.1086791,9.6101003,11.2849373,14.3841286,10.0175111,5.9766042,9.2654916,12.3336237,11.0695365,9.4801954,6.6405542,11.7110714,9.2962742,4.5557592,7.9725970,10.3105591,9.1068024,8.1585631,14.9021906,9.2015137,15.0472571,9.1225965,13.9551835,15.1033478,10.6360240,12.0867865,15.6969704,9.5818060,8.1641150,8.2950194,8.6544478,7.9130456,8.8904450,13.9381998,8.9913977,14.0155779,6.2856039,10.7923301,8.8070441,11.2657258,10.7901363,9.1724396,6.6433443,9.5172255,12.3402514,2.7254577,12.4006210,13.2697124,10.0670987,15.3858112,8.2044828,10.7534955,7.9282064,10.9170642,12.8222748,18.2680638,9.0601854,13.2616197,7.0193571,12.2447467,5.3729936,14.8064727,10.5359554,10.4851627,11.8312380,13.3435483,10.5894537,5.0047413,7.5532502,11.9171854,12.1777692,7.6730359,5.5515027,12.3027227,10.1575062,14.8505769,9.6526219,11.2016182,10.7898901,13.6303578,12.8561220,13.3002161,9.0945849,4.9117132,8.0514791,8.3684288,4.7461608,6.3118847,14.3888758,15.8801467,11.6563489,7.9043481,6.1992280,10.4055679,6.4948166,11.8656277,3.8399970,9.5901581,8.6379262,7.4541442,7.1135626,7.9164363,9.6439593,15.6259631,7.3244170,8.4635798,12.0317526,17.1847365,12.5357554,6.0369018,12.9830581,11.2712555,12.3488084,9.3935706,8.1248854,11.4523131,9.6710694,9.5978474,15.1563587,7.5582530,10.8587757,13.5890062,10.1390991,8.1443215,16.1032757,6.5988579,9.6915113,7.6946942,10.5688193,7.9222074,6.0964578,7.0383112,11.5956154,6.6059072,13.5679685,15.1021379,10.2625096,10.2202339,15.7814051,16.3342713,6.1339245,0.9275113,15.8169582,11.0888355,7.8822788,15.2039942,9.6944328,11.7292036,11.6230714,8.4657438,7.6462181,7.1888162,8.1788400,13.7221572,12.4793501,10.4488461,8.9233659,8.9305724,7.4913262,12.5882791,10.6825315,10.8527571,12.1660301,12.4390247,13.8529219,8.5372836,11.2575812,6.4922496,9.5404721,10.7082122,11.2365487,10.2713802,14.8685632,10.7735798,10.6526134,4.8455022,8.3135583,10.8120056,7.2903999,7.0497880,4.9958942,5.9730174,9.8642732,11.5609671,10.1178216,6.6279774,9.2441754,9.9419299,13.4710469,6.0601435,8.2095239,7.9456672,12.7039825,7.4197810,9.5928275,8.2267352,2.8314614,11.5653497,6.0828073,11.3926117,10.5403929,14.9751607,11.7647580,8.2867261,10.0291522,7.7132033,6.3337642,14.6066222,11.3436587,11.2717791,10.8818323,8.0320657,6.7354041,9.1871676,13.4381778,7.4353197,8.9210043,10.2010750,11.9442048,11.0081195,4.3369520,13.2562675,15.9945674,8.7528248,14.4948086,14.3577443,6.7438382,9.1434984,15.4599419,13.1424011,7.0481925,7.4823108,10.5743730,6.4166006,11.8225244,8.9388744,10.3698150,10.3965596,13.5226492,16.0069239,6.1139247,11.0838351,9.1659242,7.9896031,10.7282936,14.2666492,13.6478802,10.6248561,15.3834373,11.5096033,14.5806570,10.7648690,5.3407430,7.7535042,7.1942866,9.8867927,12.7413156,10.8127809,8.1726772,8.3965665)
</code></pre>

<p>.. is there some easy way in R to <b>programmatically and automatically</b> find the most likely distribution and the estimated distribution parameters?</p>

<p>Please note that the distribution identification code will be part of an automated process, so manual intervention in the identification won't be possible.</p>
","58394","","190277","","2012-05-04 21:36:09","2016-10-27 21:08:03","Given a set of random numbers drawn from a continuous univariate distribution, find the distribution","<r><statistics>","6","0","26","","","CC BY-SA 3.0","2661402","4452","4452","r","404559","3625322","3607736","",""
"2662364","1","2662919","","2010-04-18 13:25:01","","1","1338","<p>Could anyone please tell me what is wrong with the R code below:</p>

<pre><code>i = 1.001
#make SAV and STO become vector
SAV = c()
STO = c()
#set the initial values for the vector
SAV[1] = 0
STO[1] = 100


for (t in 2:1000) {
if ((price[t]&gt;9.9)&amp;price[t]&lt;10.1&amp;(SAV[t-1]!=0))
      SAV[t]=SAV[t-1]*i 
      STO[t]=0 
}

for (t in 2:1000) {
if ((price[t]&gt;9.9)&amp;price[t]&lt;10.1&amp;(SAV[t-1]=0))
      STO[t] = STO [t-1]
      SAV[t] = 0
}

SAV
STO
</code></pre>

<p>What I am trying to do is to find vector for both SAV and STO.</p>
","319081","","76217","","2010-04-18 13:26:40","2010-04-18 16:14:48","in R, the arguments of ""for loop""","<r>","3","1","1","","","CC BY-SA 2.5","2662364","4452","4452","r","404559","3625322","3607736","",""
"2664655","1","2789902","","2010-04-19 00:58:19","","4","644","<p>I like the idea of making research available at multiple levels of detail i.e., abstract for the casually curious, full text for the more interested, and finally the data and code for those working in the same area/trying to reproduce your results. In between the actual text and the data/code level, I'd like to insert another layer. Namely, I'd like to create a kind of automatically generated appendix that contains the full regression output, diagnostic plots, exploratory graphs data profiles etc. from the analysis, regardless of 
whether those plots/regressions etc. made it into the final paper.  </p>

<p>One idea I had was to write a script that would examine the .Rnw file and automatically: </p>

<ul>
<li>Profile all data sets that are loaded (sort of like the Hmisc(?) package)  </li>
<li>Summarize all regressions - i.e., run summary(model) for all models </li>
<li>Present all plots (regardless of whether they made it in the final version) </li>
</ul>

<p>The idea is to make this kind of a low-effort, push-button sort of thing as opposed to a formal appendix written like the rest of a paper. What I'm looking for is some ideas on how to do this in R in a relatively simple way. My hunch is that there is some way of going through the namespace, figuring out what something is and then dumping into a PDF. </p>

<p>Thoughts? Does something like this already exist? </p>
","271844","","","","","2011-08-15 16:44:41","Sweave/R - Automatically generating an appendix that contains all the model summaries/plots/data profiles from an analysis","<r><sweave>","2","0","3","","","CC BY-SA 2.5","2664655","4452","4452","r","404559","3625322","3607736","",""
"2665499","1","","","2010-04-19 06:21:35","","2","351","<pre><code>library(ca)
# Loading required package: rgl
library(Rcmdr)
# R Commander starts

# When trying to close R Commander window
Error in unloadNamespace(""rgl"") : name space 'rgl' is still used by: 'ca'
</code></pre>

<p>What is the suggested way to close R Commander in such a situation?</p>
","170792","","172261","","2011-11-25 14:24:57","2011-11-25 14:24:57","Error closing R commander when package rgl is loaded","<r><libraries><r-commander>","1","0","","","","CC BY-SA 3.0","2665499","4452","4452","r","404559","3625322","3607736","",""
"2665532","1","2665698","","2010-04-19 06:30:19","","26","5098","<p>I'm using R for data analysis, and I'm sharing some data with collaborators via Google docs. Is there a simple interface that I can use to access a R data.frame object to and from a Google Docs spreadsheet? If not, is there a similar API in other languages? </p>
","57458","","","","","2017-03-28 15:21:44","Is there a good R API for accessing Google Docs?","<r><statistics><google-docs>","6","0","10","","","CC BY-SA 2.5","2665532","4452","4452","r","404559","3625322","3607736","",""
"2666799","1","","","2010-04-19 11:01:40","","2","1105","<p>How can I extract what the parameters that the loess function fitted for the polynomial function it uses, for a particular x of my data?</p>

<p>For example, in:</p>

<pre><code> cars.lo &lt;- loess(dist ~ speed, cars)
 cars.lo
</code></pre>

<p>What did it fit for when cars.lo$x == 5 ?</p>

<p><strong>Update</strong>: I want the parameters of the polynomial function, not the prediction (predict) of the loess.</p>

<p>I am asking for it to get an estimate of the slope in that point.</p>

<p>Thanks,
Tal</p>
","256662","","256662","","2010-04-19 11:25:53","2010-04-20 13:45:28","Extracting the fitted terms in the local polynomial function of a loess (in R) (NOT predict())","<r><loess>","3","0","","","","CC BY-SA 2.5","2666799","4452","4452","r","404559","3625322","3607736","",""
"2666805","1","2667343","","2010-04-19 11:02:52","","3","1487","<p>Using <code>stat_smooth</code>, I can fit models to data. E.g.</p>

<pre><code>g=ggplot(tips,aes(x=tip,y=as.numeric(unclass(factor(tips$sex))-1))) +facet_grid(time~.) 
g=g+ stat_summary(fun.y=mean,geom=""point"") 
g=g+ stat_smooth(method=""glm"", family=""binomial"")
</code></pre>

<p>I would like to know the coefficients of the glm binomial fits. I could re-do the fit with <code>dlply</code> and get the coefficients with <code>ldply</code>, but I'd like to avoid such duplication.</p>

<p>Calling <code>str(g)</code> reveals the hierarchy of objects that <code>ggplot2</code> creates, perhaps there's some way to get to the coefficients through that?</p>
","302378","","10323798","","2019-10-01 06:15:53","2019-10-01 06:15:53","Can one extract model fit parameters after a ggplot stat_smooth call?","<r><ggplot2><glm>","1","1","1","","","CC BY-SA 4.0","2666805","4452","4452","r","404559","3625322","3607736","",""
"2667478","1","2668158","","2010-04-19 12:49:56","","2","4834","<p>In R , when I use ""print"", I can see all the values, but how can I save this as a vector?
   For example, in a 'for' loop: 
   <code>for(i in 1:10)</code>, I would like the value of A , when i= 1,2,3,4..... but if I use <code>x=A</code>, it only saves the final value of A which is the value when i = 10. So, how can I save the values in print(A)?
    Additionally, I use more than one 'for' loop e.g.:</p>

<pre><code>for (i in 1:9) {
  for (k in 1:4) {
  }
}
</code></pre>

<p>Consequently, x[i]=A..does not work very well here.</p>
","319081","","5414452","","2016-02-02 13:44:08","2016-02-02 13:44:08","R - how can I save the value of ""print""?","<r><for-loop>","3","0","1","","","CC BY-SA 3.0","2667478","4452","4452","r","404559","3625322","3607736","",""
"2667673","1","2667843","","2010-04-19 13:21:25","","124","384952","<p>How can I select the first 4 rows of a <code>data.frame</code>:</p>

<pre><code>              Weight Response
1   Control     59      0.0
2 Treatment     90      0.8
3 Treatment     47      0.1
4 Treamment    106      0.1
5   Control     85      0.7
6 Treatment     73      0.6
7   Control     61      0.2
</code></pre>
","320366","","2320823","","2016-01-19 01:29:46","2017-11-20 20:16:28","Select first 4 rows of a data.frame in R","<r><dataframe>","5","0","18","","","CC BY-SA 3.0","2667673","4452","4452","r","404559","3625322","3607736","",""
"2668938","1","2669034","","2010-04-19 16:03:48","","2","360","<p>I am using the twitteR package in R to update my twitter status with results from analysis. The static tweet function works:</p>

<pre><code>library(twitteR)

sess = initSession('username','password')

tweet = tweet('I am a tweet', sess)
</code></pre>

<p>However, when I add a variable to display some specific results I get an error. </p>

<pre><code>library(twitteR)

sess = initSession('username','password')

res = c(3,5,8)
msg = cat('Results are: ', res, ', that is nice right?')

tweet = tweet(msg, sess)
</code></pre>

<p>Results in:</p>

<pre><code>Error in twFromJSON(rawToChar(out)) : 
  Error: Client must provide a 'status' parameter with a value.
</code></pre>

<p>Any suggestions are appreciated. </p>
","302274","","","","","2010-04-19 16:26:39","How to insert variables in R twitteR updates?","<r><twitter>","1","0","","","","CC BY-SA 2.5","2668938","4452","4452","r","404559","3625322","3607736","",""
"2669137","1","2670971","","2010-04-19 16:35:16","","7","4175","<p>say i have 5 summary for 5 sets of data. how can i get those number out or combine the summary in to 1 rather than 5</p>

<pre><code>       V1               V2               V3               V4        
 Min.   : 670.2   Min.   : 682.3   Min.   : 690.7   Min.   : 637.6  
 1st Qu.: 739.9   1st Qu.: 737.2   1st Qu.: 707.7   1st Qu.: 690.7  
 Median : 838.6   Median : 798.6   Median : 748.3   Median : 748.3  
 Mean   : 886.7   Mean   : 871.0   Mean   : 869.6   Mean   : 865.4  
 3rd Qu.:1076.8   3rd Qu.:1027.6   3rd Qu.:1070.0   3rd Qu.: 960.8  
 Max.   :1107.8   Max.   :1109.3   Max.   :1131.3   Max.   :1289.6  
       V5        
 Min.   : 637.6  
 1st Qu.: 690.7  
 Median : 748.3  
 Mean   : 924.3  
 3rd Qu.: 960.8  
 Max.   :1584.3  
</code></pre>

<p>how can i have 1 table looks like</p>

<pre><code>        v1  v2 v3 v4 v5
  Min.   :   
 1st Qu.:   
 Median : 
 Mean   :   
 3rd Qu.:   
 Max.   :  
</code></pre>

<p>or how to save those number as vector so i can use matrix to generate a table</p>
","319081","","5414452","","2016-02-02 13:41:42","2016-02-02 13:41:42","IN r, how to combine the summary together","<r><summary>","2","2","4","","","CC BY-SA 2.5","2669137","4452","4452","r","404559","3625322","3607736","",""
"2669427","1","2673594","","2010-04-19 17:18:19","","7","5288","<p>I have a data.frame in R. It contains a lot of data : gene expression levels from many (125) arrays. I'd like the data in Python, due mostly to my incompetence in R and the fact that this was supposed to be a 30 minute job.</p>

<p>I would like the following code to work. To understand this code, know that the variable <code>path</code> contains the full path to my data set which, when loaded, gives me a variable called <code>immgen</code>. Know that <code>immgen</code> is an object (a Bioconductor <code>ExpressionSet</code> object) and that <code>exprs(immgen)</code> returns a data frame with 125 columns (experiments) and tens of thousands of rows (named genes). (Just in case it's not clear, this is Python code, using robjects.r to call R code)</p>

<pre><code>import numpy as np
import rpy2.robjects as robjects
# ... some code to build path
robjects.r(""load('%s')""%path) # loads immgen
e = robjects.r['data.frame'](""exprs(immgen)"")
expression_data = np.array(e)
</code></pre>

<p>This code runs, but <code>expression_data</code> is simply <code>array([[1]])</code>. </p>

<p>I'm pretty sure that <code>e</code> doesn't represent the data frame generated by <code>exprs()</code> due to things like:</p>

<pre><code>In [40]: e._get_ncol()
Out[40]: 1

In [41]: e._get_nrow()
Out[41]: 1
</code></pre>

<p>But then again who knows? Even if <code>e</code> did represent my data.frame, that it doesn't convert straight to an array would be fair enough - a data frame has more in it than an array (rownames and colnames) and so maybe life shouldn't be this easy. However I still can't work out how to perform the conversion. The documentation is a bit too terse for me, though my limited understanding of the headings in the docs implies that this should be possible.</p>

<p>Anyone any thoughts?</p>
","270572","","270572","","2010-04-19 17:51:34","2015-10-29 07:49:30","rpy2: Converting a data.frame to a numpy array","<python><r><numpy><bioconductor><rpy2>","2","0","4","","","CC BY-SA 2.5","2669427","4452","4452","r","404559","3625322","3607736","",""
"2669598","1","","","2010-04-19 17:44:26","","5","9782","<p>Is there a way to call an R-Script within C-Code? </p>

<p>I did find the R Api for C (chaper 6. of the 'Writing R Extensions' manual), but as far as I understood this does ""only"" allow to call the C-Implementation of R. Of cause I could call the R-Script via shell, but that's no solution for me, since this does not allow proper passing of data (at least no if I don't what to write the data into a Csv-File or something like this). </p>

<p>Is there a easy way of using the R to C parser beforehand?</p>
","320602","","331473","","2011-11-26 02:38:24","2017-06-05 08:00:32","Calling R Script from within C-Code","<c++><c><r><interface>","2","0","1","","","CC BY-SA 3.0","2669598","4452","4452","r","404559","3625322","3607736","",""
"2673504","1","2675402","","2010-04-20 08:01:37","","0","825","<p>I am looking for a solution that allows me to keep a track of a multitude of R scripts that I create for various projects and purposes. Some scripts are easily tracked to specific projects, whereas others are ""convenience"" functions created to serve a set of tasks.</p>

<p>Is there a way I can create a central DB and query it to find which scripts match most appropriately?
I could create a system using a DBMS manually, but are users aware of anything in general or specific to R, that comes in the form of a software tool (maybe FOSS) ?</p>

<p>EDIT: Thank you for the responses. My current system is just a set of scripts with comments that allow me to identify their intended task. Though I use StatET with SVN, I would like a search utility along the lines of the ""sos"" package. </p>
","177390","","177390","","2010-04-21 21:16:05","2010-04-21 21:16:05","Document/Scripts management for R code","<r><content-management-system>","3","1","1","","","CC BY-SA 2.5","2673504","4452","4452","r","404559","3625322","3607736","",""
"2675502","1","2675532","","2010-04-20 13:38:19","","14","14565","<p>I came across this in the following context from B. Pfaff's ""Analysis of Integrated and Cointegrated Time Series in R""</p>

<pre><code>## Impulse response analysis of SVAR Atype model 1
args (vars ::: irf.svarest) 2
irf.svara &lt; irf (svar.A, impulse = y1  , 3
response = y2  , boot = FALSE) 4
args (vars ::: plot.varirf) 5
plot (irf.svara)
</code></pre>
","296155","","5414452","","2016-02-02 13:39:07","2016-02-02 13:39:07","What does the symbol ::: mean in R","<r><syntax>","1","1","","","","CC BY-SA 2.5","2675502","4452","4452","r","404559","3625322","3607736","",""
"2675517","1","2675572","","2010-04-20 13:40:21","","2","968","<p>I'm trying to add a Row to my data.frame to spit out the average of the column.</p>

<p><strong>This is my data frame:</strong></p>

<pre><code>              Weight Response
1   Control     59      0.0
2 Treatment     90      0.8
3 Treatment     47      0.1
4 Treamment    106      0.1
5   Control     85      0.7
6 Treatment     73      0.6
7   Control     61      0.2
</code></pre>

<p><strong>I'd like it to become:</strong></p>

<pre><code>              Weight Response
1   Control     59      0.0
2 Treatment     90      0.8
3 Treatment     47      0.1
4 Treamment    106      0.1
5   Control     85      0.7
6 Treatment     73      0.6
7   Control     61      0.2
8 AVERAGES      74      0.3
</code></pre>

<p>Thanks!</p>
","320366","","","","","2010-04-20 21:59:18","In R, How to add Row for Information:","<r><statistics>","1","0","","","","CC BY-SA 2.5","2675517","4452","4452","r","404559","3625322","3607736","",""
"2676554","1","2676611","","2010-04-20 15:49:24","","97","392400","<p>Is there any command to find the standard error of the mean in R?</p>
","319081","","5414452","","2016-02-02 13:38:13","2020-10-06 17:32:32","In R, how to find the standard error of the mean?","<r><statistics>","10","0","21","","","CC BY-SA 3.0","2676554","4452","4452","r","404559","3625322","3607736","",""
"2676926","1","2677121","","2010-04-20 16:36:51","","0","240","<pre><code>a = matrix(1:25,5,5)
B = capture.output(for (X in 1:5){
    A = c(min(a[,X]),quantile(a[,X],0.25),median(a[,X]),quantile(a[,X],0.75),max(a[,X]),mean(a[,X]),sd(a[,X])/m^(1/2),var(a[,X]))
    cat(A,""\n"")
})

matrix(B,8,5)
</code></pre>

<p>What I was trying to do is to generate a table which each column has those element in A and in that order. I try to use the matrix, but seems like it doesn't really work here. Can anyone help?</p>

<pre><code>               |  1  |  2  |  3  |  4  |  5  |
|---------------------------------------------
| min          |     |     |     |     |     |
|---------------------------------------------
| 1st quartile |     |     |     |     |     |
|---------------------------------------------
| median       |     |     |     |     |     |
|---------------------------------------------
| SEM          |     |     |     |     |     |
|---------------------------------------------
| VAR          |     |     |     |     |     |
</code></pre>

<p>The above is what I want the table to look like.</p>
","319081","","139010","","2010-04-20 16:50:15","2010-04-21 14:18:24","in R, question about generate table","<r>","3","0","","","","CC BY-SA 2.5","2676926","4452","4452","r","404559","3625322","3607736","",""
"2678141","1","2680870","","2010-04-20 19:47:55","","84","68064","<p>I am building a bar chart for which bars suffice as indications of horizontal (x) placement, so I'd like to avoid drawing the superfluous vertical gridlines.</p>

<p>I understand how to style the minor and major gridlines in opts(), but I can't for the life of me figure out how to suppress just the vertical gridlines.</p>

<pre><code>library(ggplot2)

data &lt;- data.frame(x = 1:10, y = c(3,5,2,5,6,2,7,6,5,4))

ggplot(data, aes(x, y)) +
  geom_bar(stat = 'identity') +
  opts(
    panel.grid.major = theme_line(size = 0.5, colour = '#1391FF'),
    panel.grid.minor = theme_line(colour = NA),
    panel.background = theme_rect(colour = NA),
    axis.ticks = theme_segment(colour = NA)
  )
</code></pre>

<p>At this point, it's looking like I'm going to have to suppress all of the gridlines and then draw them back in with geom_hline(), which seems like kind of a pain (also, it's not entirely clear how I can find the tick/major gridline positions to feed to geom_hline().)</p>

<p>Any thoughts would be appreciated!</p>
","154697","","","","","2020-11-19 20:28:05","How can I suppress the vertical gridlines in a ggplot2 plot?","<r><ggplot2>","5","0","13","","","CC BY-SA 2.5","2678141","4452","4452","r","404559","3625322","3607736","",""
"2679193","1","2679289","","2010-04-20 22:38:26","","102","104006","<p>Is it possible to create new variable names on the fly?</p>

<p>I'd like to read data frames from a list into new variables with numbers at the end. Something like orca1, orca2, orca3...</p>

<p>If I try something like</p>

<pre><code>paste(""orca"",i,sep="""")=list_name[[i]]
</code></pre>

<p>I get this error</p>

<pre><code>target of assignment expands to non-language object
</code></pre>

<p>Is there another way around this?</p>
","313163","","4099593","","2016-10-27 19:47:38","2018-07-05 16:17:58","How to name variables on the fly?","<r><assign><r-faq>","6","1","56","","","CC BY-SA 3.0","2679193","4452","4452","r","404559","3625322","3607736","",""
"2679830","1","2710467","","2010-04-21 01:57:29","","7","573","<p>Has anyone connected the R package to QuickBooks?  I know there is an ODBC driver than can be bought.  Just wondering if anyone has already gone down this road.</p>

<p>Any insight will be much appreciated!</p>

<p>~ Brock</p>
","155406","","168747","","2010-04-23 09:42:01","2019-05-15 10:22:34","Connect R to Quickbooks","<r><quickbooks>","1","1","1","2019-05-15 11:12:57","","CC BY-SA 2.5","2679830","4452","4452","r","404559","3625322","3607736","",""
"2681227","1","","","2010-04-21 08:08:29","","6","2353","<p>I'm interesting in evolutionary algorithms. I have tested genetic algorithms with R but has someone tried with genetic programming? Do you know, if there are code somewhere written in R. </p>
","130272","","14343","","2010-07-16 19:18:48","2020-07-15 08:50:52","Is there any Genetic Programming code written R","<r><genetic-programming>","3","2","3","2015-12-27 20:23:26","","CC BY-SA 2.5","2681227","4452","4452","r","404559","3625322","3607736","",""
"2682144","1","12956923","","2010-04-21 10:40:18","","37","15416","<p>R has a useful function <code>pairs</code> that provides nice matrix of plots of pairwise connections between variables in a data set. The resulting plot looks similar to the following figure, copied from <a href=""http://statisticsr.blogspot.com/2009/12/r-pairs-plot.html"" rel=""noreferrer"">this blog post</a>:</p>

<p><img src=""https://2.bp.blogspot.com/_xLDEmoNB_RM/SzRINMDPNbI/AAAAAAAAFDc/N5gUwj7JHWA/s640/screenshot_001.png"" alt=""pairs""></p>

<p>Is there any ready to use function based on python's matplolib? I have searched its <a href=""http://matplotlib.sourceforge.net/gallery.html"" rel=""noreferrer"">gallery</a>, but couldn't find anything that resembles what I need.  Technically, this should be a simple task, but proper handling of all the possible cases, labels, titles, etc is very tedious.</p>

<p><strong>UPDATE</strong> see below my answer with a quick and dirty approximation.</p>
","17523","","-1","","2017-02-08 14:24:13","2018-07-17 10:52:29","matplotlib analog of R's `pairs`","<python><r><matplotlib>","6","1","17","","","CC BY-SA 2.5","2682144","4452","4452","r","404559","3625322","3607736","",""
"2682514","1","","","2010-04-21 11:40:44","","0","1612","<p>I heard R is the ""de facto"" language amongst statistical software developers, and I'm giving it a try. I already know the basics, but it still looks ""weird"" to me (a C developer). I think it would be very useful to see a working example to see how a real R program is built.
I thought that an R solution for any of the mlbench problems would be optimal, because I'm already familiar with it and it would allow me to compare it to other languages, but any other ""toy problem"" example is welcome.</p>

<p>The <code>mlbench</code> package is pointed out in the answers below, but it seems that it provides only sample data and functions to generate sample data, with the exception of a generic bayes classifier. I'm searching for solutions of any of the mlbench data problems (DNA, Glass, Ionosphere, etc.). Maybe I'm missing something?</p>
","322233","","190277","","2012-10-27 16:05:51","2012-10-27 16:05:51","mlbench example","<r><sample>","1","0","","","","CC BY-SA 3.0","2682514","4452","4452","r","404559","3625322","3607736","",""
"2682629","1","2682919","","2010-04-21 12:00:43","","6","2029","<p>I'm creating a GUI in R using <code>gWidgets</code> (more specifically <code>gWidgetstcltk</code>).  I'd like to know how to update the contents of selection-type widgets, such as <code>gdroplist</code> and <code>gtable</code>.  I currently have a rather hackish method of deleting the widget and re-creating it.  I'm sure there's a better way.</p>

<p>This simple example displays all the variables in the global environment.</p>

<pre><code>library(gWidgets)
library(gWidgetstcltk)

create.widgets &lt;- function()
{
  grp &lt;- ggroup(container = win)
  ddl &lt;- gdroplist(ls(envir = globalenv()), 
    container = grp)
  refresh &lt;- gimage(""refresh"", 
    dirname   = ""stock"",
    container = grp,
    handler   = function(h, ...)
    {
      if(exists(""grp"") &amp;&amp; !is.null(grp)) 
      {
        delete(win, grp)
      }
      create.widgets()   
    }
  )
}

win &lt;- gwindow()
create.widgets()
</code></pre>
","134830","","134830","","2010-05-14 15:29:36","2011-10-27 09:12:42","How do you refresh the contents of an R gWidget?","<r><gwidgets>","3","0","2","","","CC BY-SA 2.5","2682629","4452","4452","r","404559","3625322","3607736","",""
"2684361","1","2684705","","2010-04-21 15:38:51","","4","741","<p>I'm writing a Sweave document, and I want to include a small section that details the R and package versions, platofrms and how long ti took to evalute the doucment, however, I want to put this in the middle of the document !</p>

<p>I was using a \Sexpr{elapsed} to do this (which didn't work), but thought if I put the code printing elapsed in a chunk that evaluates at the end, I could then include the chunk half way through, which also fails.</p>

<p>My document looks something like this </p>

<pre><code>% 
\documentclass[a4paper]{article}
\usepackage[OT1]{fontenc}
\usepackage{longtable}
\usepackage{geometry}
\usepackage{Sweave}
\geometry{left=1.25in, right=1.25in, top=1in, bottom=1in}
\begin{document}

&lt;&lt;label=start, echo=FALSE, include=FALSE&gt;&gt;=
startt&lt;-proc.time()[3]
@ 
Text and Sweave Code in here
% 
This document was created on \today, with \Sexpr{print(version$version.string)} running
 on a \Sexpr{print(version$platform)} platform. It took approx sec to process.
&lt;&lt;&gt;&gt;=
    &lt;&lt;elapsed&gt;&gt;
@ 
More text and Sweave code in here
&lt;&lt;label=bye, include=FALSE, echo=FALSE&gt;&gt;= 
odbcCloseAll()
endt&lt;-proc.time()[3]
elapsedtime&lt;-as.numeric(endt-startt)
@ 
&lt;&lt;label=elapsed, include=FALSE, echo=FALSE&gt;&gt;=
print(elapsedtime)
@ 
\end{document}
</code></pre>

<p>But this doesn't seem to work (amazingly !)</p>

<p>Does anyone know how I could do this ?</p>

<p>Thanks</p>

<p>Paul.</p>
","74658","","","","","2010-04-23 08:13:35","Is it possible to include a Sexpr before the expression has been evaluated in Sweave / R?","<r><latex><sweave>","3","0","","","","CC BY-SA 2.5","2684361","4452","4452","r","404559","3625322","3607736","",""
"2684479","1","2686816","","2010-04-21 15:54:11","","15","15940","<p>I am trying to explain to myself the forecasting result from applying an ARIMA model to a time-series dataset. The data is from the M1-Competition, the series is MNB65. I am trying to fit the data to an ARIMA(1,0,0) model and get the forecasts. I am using R. Here are some output snippets:</p>

<pre><code>&gt; arima(x, order = c(1,0,0))
Series: x 
ARIMA(1,0,0) with non-zero mean 
Call: arima(x = x, order = c(1, 0, 0)) 
Coefficients:
         ar1  intercept
      0.9421  12260.298
s.e.  0.0474    202.717

&gt; predict(arima(x, order = c(1,0,0)), n.ahead=12)
$pred
Time Series:
Start = 53 
End = 64 
Frequency = 1 
[1] 11757.39 11786.50 11813.92 11839.75 11864.09 11887.02 11908.62 11928.97 11948.15 11966.21 11983.23 11999.27
</code></pre>

<p>I have a few questions:</p>

<p>(1) How do I explain that although the dataset shows a clear downward trend, the forecast from this model trends upward? This also happens for ARIMA(2,0,0), which is the best ARIMA fit for the data using <code>auto.arima</code> (forecast package) and for an ARIMA(1,0,1) model.</p>

<p>(2) The intercept value for the ARIMA(1,0,0) model is 12260.298. Shouldn't the intercept satisfy the equation: <code>C = mean * (1 - sum(AR coeffs))</code>, in which case, the value should be <code>715.52</code>. I must be missing something basic here.</p>

<p>(3) This is clearly a series with non-stationary mean. Why is an AR(2) model still selected as the best model by <code>auto.arima</code>? Could there be an intuitive explanation?</p>

<p>Thanks.</p>
","194742","","3768871","","2019-07-05 19:32:17","2019-07-06 09:38:43","Explaining the forecasts from an ARIMA model","<r><time-series><forecasting>","1","1","14","","","CC BY-SA 4.0","2684479","4452","4452","r","404559","3625322","3607736","",""
"2684715","1","2684771","","2010-04-21 16:24:58","","3","525","<p>I have a data.frame in R; it's called <code>p</code>. Each element in the data.frame is either True or False. My variable <code>p</code> has, say, <em>m</em> rows and <em>n</em> columns. For every row there is strictly only one <code>TRUE</code> element.</p>

<p>It also has column names, which are strings. What I would like to do is the following:</p>

<ol>
<li>For every row in <code>p</code> I see a <code>TRUE</code> I would like to replace with the name of the corresponding column</li>
<li>I would then like to collapse the data.frame, which now contains <code>FALSE</code>s and column names, to a single vector, which will have <em>m</em> elements.</li>
<li>I would like to do this in an R-thonic manner, so as to continue my enlightenment in R and contribute to a world without for-loops.</li>
</ol>

<p>I can do step 1 using the following for loop:</p>

<pre><code>for (i in seq(length(colnames(p)))) {
    p[p[,i]==TRUE,i]=colnames(p)[i]
}
</code></pre>

<p>but theres's no beauty here and I have totally subscribed to this for-loops-in-R-are-probably-wrong mentality. Maybe wrong is too strong but they're certainly not great.</p>

<p>I don't really know how to do step 2. I kind of hoped that the sum of a string and <code>FALSE</code> would return the string but it doesn't. I kind of hoped I could use an OR operator of some kind but can't quite figure that out (Python responds to <code>False or 'bob'</code> with <code>'bob'</code>). Hence, yet again, I appeal to you beautiful Rstats people for help!</p>
","270572","","","","","2010-04-21 17:23:57","R: manipulating data.frames containing strings and booleans","<r>","2","0","1","","","CC BY-SA 2.5","2684715","4452","4452","r","404559","3625322","3607736","",""
"2684966","1","2685964","","2010-04-21 17:02:58","","12","10496","<p>This is a follow-on from <a href=""https://stackoverflow.com/questions/2678141/how-can-i-suppress-the-vertical-gridlines-in-a-ggplot2-plot"">this question, in which I was trying to suppress the vertical gridlines</a>.</p>

<p>The solution, as provided by learnr, was to add scale_x_continuous(breaks = NA), but this had the side effect of also suppressing the x-axis labels, as well.  I am totally happy to write the labels back in by hand, but it's not clear to me how to figure out where the labels should go.</p>

<p>The other option is to suppress all gridlines (using opts( panel.grid.major = theme_blank()) or some such) and then drawing back in just the major horizontal gridlines.  Again, the problem here is how to figure out what the breaks are in the plot to supply to geom_hline().</p>

<p>So, essentially, my options are:</p>

<ol>
<li>Suppress vertical gridlines and x-axis labels (using scale_x_continuous(breaks = NA) ) and add the x-axis labels back in.</li>
<li>Suppress all gridlines (using opts( panel.grid.major = theme_blank()) ) and add the major horizontal gridlines back in using geom_hline().</li>
</ol>

<p>Here are the two options:</p>

<pre><code>library(ggplot2)

data &lt;- data.frame(x = 1:10, y = c(3,5,2,5,6,2,7,6,5,4))

# suppressing vertical gridlines and x-axis labels
# need to re-draw x-axis labels
ggplot(data, aes(x, y)) +
  geom_bar(stat = 'identity') +
  scale_x_continuous(breaks = NA) +
  opts(
    panel.grid.major = theme_line(size = 0.5, colour = '#1391FF'),
    panel.grid.minor = theme_blank(),
    panel.background = theme_blank(),
    axis.ticks = theme_blank()
  )

# suppressing all gridlines
# need to re-draw horizontal gridlines, probably with geom_hbar() 
ggplot(data, aes(x, y)) +
  geom_bar(stat = 'identity') +
  scale_x_continuous(breaks = NA) +
  opts(
    panel.grid.major = theme_blank(),
    panel.grid.minor = theme_blank(),
    panel.background = theme_blank(),
    axis.ticks = theme_blank()
  )
</code></pre>
","154697","","-1","","2017-05-23 11:47:38","2020-07-17 14:46:42","How can I suppress the vertical gridlines in a ggplot2 plot while retaining the x-axis labels?","<r><ggplot2>","5","1","2","","","CC BY-SA 2.5","2684966","4452","4452","r","404559","3625322","3607736","",""
"2685127","1","","","2010-04-21 17:25:34","","0","849","<p>I'm a student working on an epidemiology model in R, using maximum likelihood methods. I created my negative log likelihood function. It's sort of gross looking, but here it is:</p>

<pre><code>NLLdiff = function(v1, CV1, v2, CV2, st1 = (czI01 - czV01), st2 = (czI02 - czV02), st01 = czI01, st02 = czI02, tt1 = czT01, tt2 = czT02) { 
    prob1 = (1 + v1 * CV1 * tt1)^(-1/CV1)
    prob2 = ( 1 + v2 * CV2 * tt2)^(-1/CV2) 
    -(sum(dbinom(st1, st01, prob1, log = T)) + sum(dbinom(st2, st02, prob2, log = T)))
 }
</code></pre>

<p>The reason the first line looks so awful is because most of the data it takes is input there. <code>czI01</code>, for example, is already declared. I did this simply so that my later calls to the function don't all have to have awful vectors in them.</p>

<p>I then optimized for CV1, CV2, v1 and v2 using mle2 (library bbmle). That's also a bit gross looking, and looks like:</p>

<pre><code>ml.cz.diff = mle2 (NLLdiff, start=list(v1 = vguess, CV1 = cguess, v2 = vguess, CV2 = cguess), method=""L-BFGS-B"", lower = 0.0001)
</code></pre>

<p>Now, everything works fine up until here. ml.cz.diff gives me values that I can turn into a plot that reasonably fits my data. I also have several different models, and can get AICc values to compare them. However, when I try to get confidence intervals around v1, CV1, v2 and CV2 I have problems. Basically, I get a negative bound on CV1, which is impossible as it actually represents a square number in the biological model as well as some warnings.</p>

<p>Is there a better way to get confidence intervals? Or, really, a way to get confidence intervals that make sense here? </p>

<p>What I see happening is that, by coincidence, my hessian matrix is singular for some values in the optimization space. But, since I'm optimizing over 4 variables and don't have overly extensive programming knowledge, I can't come up with a good method of optimization that doesn't rely on the hessian. I have googled the problem - it suggested that my model's bad, but I'm reconstructing some work done before which suggests that my model's really not awful (the plots I make using the ml.cz.diff look like the plots of the original work). I have also read the relevant parts of the manual as well as Bolker's book <em>Ecological Models in R</em>. I have also tried different optimization methods, which resulted in a longer run time but the same errors. The ""SANN"" method didn't finish running within an hour, so I didn't wait around to see the result.</p>

<p>In a nutshell: my confidence intervals are bad.  Is there a relatively straightforward way to fix them in R?</p>

<p>My vectors are: </p>

<pre><code>czT01 = c(5, 5, 5, 5, 5, 5, 5, 25, 25, 25, 25, 25, 25, 25, 50, 50, 50, 50, 50, 50, 50)
czT02 = c(5, 5, 5, 5, 5, 10, 10, 10, 10, 10, 25, 25, 25, 25, 25, 50, 50, 50, 50, 50, 75, 75, 75, 75, 75)
czI01 = c(25, 24, 22, 22, 26, 23, 25, 25, 25, 23, 25, 18, 21, 24, 22, 23, 25, 23, 25, 25, 25)
czI02 = c(13, 16, 5, 18, 16, 13, 17, 22, 13, 15, 15, 22, 12, 12, 13, 13, 11, 19, 21, 13, 21, 18, 16, 15, 11)
czV01 = c(1, 4, 5, 5, 2, 3, 4, 11, 8, 1, 11, 12, 10, 16, 5, 15, 18, 12, 23, 13, 22)
czV02 = c(0, 3, 1, 5, 1, 6, 3, 4, 7, 12, 2, 8, 8, 5, 3, 6, 4, 6, 11, 5, 11, 1, 13, 9, 7)
</code></pre>

<p>and I get my guesses by:</p>

<pre><code>v = -log((c(czI01, czI02) - c(czV01, czV02))/c(czI01, czI02))/c(czT01, czT02)
vguess = mean(v)
cguess = var(v)/vguess^2
</code></pre>

<p>It's also possible that I'm doing something else completely wrong, but my results seem reasonable so I haven't caught it.</p>
","322525","","1079354","","2016-01-20 23:56:42","2016-01-20 23:56:42","How do I get confidence intervals without inverting a singular Hessian matrix in R?","<r><statistics><confidence-interval>","1","0","","","","CC BY-SA 3.0","2685127","4452","4452","r","404559","3625322","3607736","",""
"2685707","1","","","2010-04-21 18:52:14","","4","146","<p>Not sure what I'm doing wrong here. I have this plot: </p>

<pre><code>ggplot(data.PE5, aes(ybands,fill=factor(decide))) + geom_bar(position=""dodge"") 
</code></pre>

<p>which produces: 
<img src=""https://dl.dropbox.com/u/420874/colored.png""></p>

<p>Then I want to facet by a factor, creating two stacked plots w/ dodged, colored bars</p>

<pre><code>ggplot(data.PE5, aes(ybands,fill=factor(decide))) + geom_bar(position=""dodge"") + 
facet_grid(~group_label) 
</code></pre>

<p>However, I lose the factor-based coloring, which I want to keep: </p>

<p><img src=""https://dl.dropbox.com/u/420874/non_colored.png""></p>
","271844","","-1","","2017-02-08 14:24:16","2010-04-21 20:16:36","Trying to keep filled bars in a faceted plot","<r><ggplot2>","1","1","","","","CC BY-SA 2.5","2685707","4452","4452","r","404559","3625322","3607736","",""
"2686320","1","2687142","","2010-04-21 20:28:58","","18","7442","<p>I have a dataframe that I am putting into a <a href=""http://www.stat.uni-muenchen.de/~leisch/Sweave/"" rel=""noreferrer"">sweave</a> document using xtable, however one of my column names is quite long, and I would like to break it over two lines to save space</p>

<pre><code>calqc_table&lt;-structure(list(RUNID = c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L), ANALYTEINDEX = c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L), ID = structure(1:11, .Label = c(""Cal A"", ""Cal B"", ""Cal C"", 
""Cal D"", ""Cal E"", ""Cal F"", ""Cal G"", ""Cal H"", ""Cal High"", ""Cal Low"", 
""Cal Mid""), class = ""factor""), mean_conc = c(200.619459644855, 
158.264703128903, 102.469121407733, 50.3551544728544, 9.88296440865076, 
4.41727762501703, 2.53494715706024, 1.00602831741361, 199.065054555735, 
2.48063347296935, 50.1499780776199), sd_conc = c(2.3275711264554, 
NA, NA, NA, NA, NA, NA, 0.101636943231162, 0, 0, 0), nrow = c(3, 
1, 1, 1, 1, 1, 1, 3, 2, 2, 2)), .Names = c(""Identifier of the Run within the Study"", ""ANALYTEINDEX"", 
""ID"", ""mean_conc"", ""sd_conc"", ""nrow""), row.names = c(NA, -11L
), class = ""data.frame"")
calqc_xtable&lt;-xtable(calqc_table)
</code></pre>

<p>I have tried putting a newline into the name, but this didn't seem to work</p>

<pre><code>names(calqc_table)[1]&lt;-""Identifier of the \nRun within the Study""
</code></pre>

<p>Is there a way to do this ?  I have seen someone suggest using the latex function from the <a href=""http://cran.r-project.org/web/packages/Hmisc/index.html"" rel=""noreferrer"">hmisc</a> package to manually iterate over the table and write it out in latex manually, including the newline, but this seems like a bit of a faf !</p>
","74658","","135870","","2010-04-23 15:35:16","2015-05-26 23:22:23","How to put a newline into a column header in an xtable in R","<r><latex><tex><sweave><xtable>","2","2","11","","","CC BY-SA 2.5","2686320","4452","4452","r","404559","3625322","3607736","",""
"2686437","1","11268379","","2010-04-21 20:46:55","","2","1849","<p>I have attempted to email the author of this package without success,
just wondering if anybody else has experienced this.</p>

<p>I am having an using <code>rpart</code> on 4000 rows of data with 13 attributes.
I can run the same test on 300 rows of the same data with no issue.
When I run on 4000 rows, Rgui.exe runs consistently at 50% CPU and the
UI hangs; it will stay like this for at least 4-5hours if I let it
run, and never exit or become responsive.</p>

<p>here is the code I am using both on the 300 and 4000 size subset:</p>

<pre><code>train &lt;- read.csv(""input.csv"", header=T)
y &lt;- train[, 18]
x &lt;- train[, 3:17]
library(rpart)
fit &lt;- rpart(y ~ ., x)
</code></pre>

<p>Is this a known limitation of <code>rpart</code>, am I doing something wrong?
potential workarounds?</p>
","322676","","172261","","2013-01-29 09:05:03","2013-01-29 09:05:03","R problems using rpart with 4000 records and 13 attributes","<r><rpart>","2","3","1","","","CC BY-SA 3.0","2686437","4452","4452","r","404559","3625322","3607736","",""
"2686438","1","2686607","","2010-04-21 20:47:01","","4","1554","<p>I have a big Sweave file with a variable called ""specialty"" near the top. The rest of this file is Latex and R, and uses this variable.</p>

<p>How can I loop over various values for ""specialty""?</p>

<p>Two possibilities are:</p>

<ol>
<li>Make the file be one big loop (and convert the Latex parts to R).</li>
<li>Write a script that copies the Sweave file, replace the value of ""specialty"", and run Sweave on each copy.</li>
</ol>

<p>Can you comment on these ideas, or suggest better ones?</p>
","249487","","","","","2011-11-07 18:35:20","how do you loop over a global variable in Sweave","<r><sweave>","4","0","2","","","CC BY-SA 2.5","2686438","4452","4452","r","404559","3625322","3607736","",""
"2687212","1","2687554","","2010-04-21 23:21:17","","7","3534","<p>I need to colour datapoints that are outside of the the confidence bands on the plot below differently from those within the bands.  Should I add a separate column to my dataset to record whether the data points are within the confidence bands?  Can you provide an example please?</p>
<p><img src=""https://lh3.ggpht.com/_NlGxmxSBXvU/S8-GODJ7j8I/AAAAAAAAAe0/2NME354m3lE/confidenceBands.jpg"" alt=""Plot with confidence bands"" /></p>
<h1>Example dataset:</h1>
<pre><code>## Dataset from http://www.apsnet.org/education/advancedplantpath/topics/RModules/doc1/04_Linear_regression.html

## Disease severity as a function of temperature

# Response variable, disease severity
diseasesev&lt;-c(1.9,3.1,3.3,4.8,5.3,6.1,6.4,7.6,9.8,12.4)

# Predictor variable, (Centigrade)
temperature&lt;-c(2,1,5,5,20,20,23,10,30,25)

## For convenience, the data may be formatted into a dataframe
severity &lt;- as.data.frame(cbind(diseasesev,temperature))

## Fit a linear model for the data and summarize the output from function lm()
severity.lm &lt;- lm(diseasesev~temperature,data=severity)

# Take a look at the data
plot(
  diseasesev~temperature,
  data=severity,
  xlab=&quot;Temperature&quot;,
  ylab=&quot;% Disease Severity&quot;,
  pch=16,
  pty=&quot;s&quot;,
  xlim=c(0,30),
  ylim=c(0,30)
)
title(main=&quot;Graph of % Disease Severity vs Temperature&quot;)
par(new=TRUE) # don't start a new plot

## Get datapoints predicted by best fit line and confidence bands
## at every 0.01 interval
xRange=data.frame(temperature=seq(min(temperature),max(temperature),0.01))
pred4plot &lt;- predict(
                        lm(diseasesev~temperature),
                        xRange,
                        level=0.95,
                        interval=&quot;confidence&quot;
                    )

## Plot lines derrived from best fit line and confidence band datapoints
matplot(
  xRange,
  pred4plot,
  lty=c(1,2,2),   #vector of line types and widths
  type=&quot;l&quot;,       #type of plot for each column of y
  xlim=c(0,30),
  ylim=c(0,30),
  xlab=&quot;&quot;,
  ylab=&quot;&quot;
)
</code></pre>
","255312","","-1","","2020-06-20 09:12:55","2013-03-29 09:28:28","Conditionally colour data points outside of confidence bands in R","<r><statistics><plot><linear-regression><confidence-interval>","3","0","7","","","CC BY-SA 2.5","2687212","4452","4452","r","404559","3625322","3607736","",""
"2687547","1","2687628","","2010-04-22 00:53:54","","6","2289","<p>I have two small data frames, <code>this_tx</code> and <code>last_tx</code>.  They are, in every way that I can tell, completely identical.  <code>this_tx</code> == <code>last_tx</code> results in a frame of identical dimensions, all <code>TRUE</code>.  <code>this_tx %in% last_tx</code>, two <code>TRUEs</code>.  Inspected visually, clearly identical.  But when I call</p>

<p><code>identical(this_tx, last_tx)</code></p>

<p>I get a <code>FALSE</code>.  Hilariously, even</p>

<p><code>identical(str(this_tx), str(last_tx))</code></p>

<p>will return a <code>TRUE</code>.  If I set <code>this_tx &lt;- last_tx</code>, I'll get a <code>TRUE</code>.</p>

<p>What is going on?  I don't have the deepest understanding of R's internal mechanics, but I can't find a single difference between the two data frames.  If it's relevant, the two variables in the frames are both factors - same levels, same numeric coding for the levels, both just subsets of the same original data frame.  Converting them to character vectors doesn't help.</p>

<p>Background (because I wouldn't mind help on this, either): I have records of drug treatments given to patients.  Each treatment record essentially specifies a person and a date.  A second table has a record for each drug and dose given during a particular treatment (usually, a few drugs are given each treatment).  I'm trying to identify contiguous periods during which the person was taking the same combinations of drugs at the same doses.</p>

<p>The best plan I've come up with is to check the treatments chronologically.  If the combination of drugs and doses for treatment[i] is identical to the combination at treatment[i-1], then treatment[i] is a part of the same phase as treatment[i-1].  Of course, if I can't compare drug/dose combinations, that's right out.</p>
","143319","","4370109","","2015-12-03 19:00:48","2015-12-03 19:00:48","What makes these two R data frames not identical?","<r><dataframe><comparison>","2","3","2","","","CC BY-SA 2.5","2687547","4452","4452","r","404559","3625322","3607736","",""
"2689900","1","","","2010-04-22 10:16:00","","2","445","<p>Is there a way to pass commands (from a shell) to an already running R-runtime/R-GUI, without copy and past.</p>

<p>So far I only know how to call R via shell with the <code>-f</code> or <code>-e</code> options, but in both cases a new R-Runtime will process the R-Script or R-Command I passed to it.</p>

<p>I rather would like to have an open R-Runtime waiting for commands passed to it via whatever connection is possible. </p>
","320602","","680068","","2015-06-15 11:04:34","2016-01-08 08:46:11","Pass commands to a running R-Runtime","<r>","3","2","1","","","CC BY-SA 3.0","2689900","4452","4452","r","404559","3625322","3607736","",""
"2696341","1","2699222","","2010-04-23 05:08:45","","8","4498","<p>I'm posting this question to ask for advice on how to optimize the use of multiple processors from R on a Windows XP machine.</p>

<p>At the moment I'm creating 4 scripts (each script with e.g. for (i in 1:100) and (i in 101:200), etc) which I run in 4 different R sessions at the same time. This seems to use all the available cpu.</p>

<p>I however would like to do this a bit more efficient. One solution could be to use the ""doMC"" and the ""foreach"" package but this is not possible in R on a Windows machine.</p>

<p>e.g.</p>

<pre><code>library(""foreach"")
library(""strucchange"")
library(""doMC"") # would this be possible on a windows machine?
registerDoMC(2)  # for a computer with two cores (processors)
## Nile data with one breakpoint: the annual flows drop in 1898
## because the first Ashwan dam was built
data(""Nile"")
plot(Nile)

## F statistics indicate one breakpoint
fs.nile &lt;- Fstats(Nile ~ 1)
plot(fs.nile)
breakpoints(fs.nile)     # , hpc = ""foreach"" --&gt; It would be great to test this.
lines(breakpoints(fs.nile))
</code></pre>

<p>Any solutions or advice?</p>
","215244","","215244","","2011-02-02 14:42:13","2011-02-02 14:42:52","multi-core processing in R on windows XP - via doMC and foreach","<windows><r><parallel-processing><multicore>","3","0","4","","","CC BY-SA 2.5","2696341","4452","4452","r","404559","3625322","3607736","",""
"2698269","1","","","2010-04-23 12:03:40","","30","131276","<p>Due to the new R 2.11 release, I want to implement Dirk's suggestion <a href=""https://stackoverflow.com/questions/1401904/painless-way-to-install-a-new-version-of-r"">here</a>.</p>

<p>So for that I am asking - How can I (permanently) change R's library path?  (The best solution would be one that can be run from within R)</p>
","256662","","-1","","2017-05-23 11:47:14","2015-10-24 11:17:12","How do you change library location in R?","<r><installation>","4","8","20","2016-11-15 20:46:19","","CC BY-SA 3.0","2698269","4452","4452","r","404559","3625322","3607736","",""
"2703517","1","2704698","","2010-04-24 06:47:15","","2","532","<p>My program takes a data.frame and crunches the numbers. At one point, values from j-th column are multiplied by a predefined values that depends on the column name (species name, actually - it's en ecological index). So far, I've been providing these values via a second data.frame by matching column names. What would be an efficient way of integrating fixed variable values within a function? I would like my program to be as portable as possible, without the need for a second data.frame file.</p>

<p><em>EDIT</em></p>

<p>This is the function. I'm trying to improve the second line (index &lt;- read.table...) so that it would not depend on the outside source.</p>

<pre><code>macroIndex &lt;- function(obj, index) {
    index &lt;- read.table(""conv.csv"", header=T, dec="","")
    a &lt;- c()
    b &lt;- names(obj)
    for (i in 2:length(obj)) {
        obj[i] &lt;- obj[i] * index[which(index==b[i]), 2]
    }
    obj
}
</code></pre>

<p>Another solution I tried, while it may not seem pretty, it gets the job done. I use dput(index) and create a permanent object which I then insert into my function.</p>
","322912","","322912","","2010-04-24 20:19:05","2010-04-25 08:32:03","stored values within a custom function","<function><r><dataframe>","4","2","2","","","CC BY-SA 2.5","2703517","4452","4452","r","404559","3625322","3607736","",""
"2708994","1","2714055","","2010-04-25 16:46:42","","0","2535","<p>I am sorry for the non-informative title. </p>

<pre><code>&gt; y=read.csv(textConnection(scan("""",sep=""\n"",what=""raw"")))
"""",""org"",""art"",""type"",""length""
""191"",""gk"",""Finish"",""short"",4
""147"",""ik"",""Attending"",""short"",7
""175"",""gl"",""Finish"",""long"",11
""192"",""il"",""Attending"",""long"",95
""144"",""gm"",""Finish"",""between"",5
""161"",""im"",""Attending"",""between"",15
""164"",""tu"",""Something"",""young"",8
""190"",""tv"",""Something"",""old"",4

&gt; decompress=function(x)x[rep(1:nrow(x),x$length),-ncol(x)]
&gt; exstatus=decompress(y)
</code></pre>

<p>and then the plot</p>

<pre><code>ggplot(exstatus, aes(x=type, fill=art))+
geom_bar(aes(y=..count../sum(..count..)),position=""dodge"")
</code></pre>

<p>The problem is that the two rightmost bars (""young"", ""old"") are too thick - ""something"" takes up the whole width - which is not what I intended. </p>

<p><a href=""http://www.imagechicken.com/uploads/1272295176088679800.png"" rel=""nofollow noreferrer"">alt text http://www.imagechicken.com/uploads/1272295176088679800.png</a></p>

<p>I am sorry that I can not explain it better. </p>
","162832","","3817004","","2017-03-05 23:48:31","2017-03-05 23:48:31","ggplot geom_bar - bars too wide","<r><ggplot2>","1","6","","","","CC BY-SA 3.0","2708994","4452","4452","r","404559","3625322","3607736","",""
"2710442","1","2710510","","2010-04-25 23:53:55","","18","2495","<p>In ESS when I am evaluating chunks of code in a .R file using C-c C-j or C-c C-r (to send the line or region to a running R process), how can I get the R buffer to scroll down automatically, such that after evaluating a region the cursor is at the bottom, at the prompt?</p>

<p>Thanks.</p>
","318976","","","","","2019-04-27 12:23:34","In ESS/Emacs, how can I get the R process buffer to scroll to the bottom after a C-c C-j or C-c C-r","<emacs><r><ess>","3","0","10","","","CC BY-SA 2.5","2710442","4452","4452","r","404559","3625322","3607736","",""
"2710609","1","","","2010-04-26 01:04:57","","2","15919","<p>I am trying to calculate the necessary sample size for a 2x2 factorial design. I have two questions.</p>

<p>1) I am using the package pwr and the one way anova function to calculate the necessary sample size using the following code  </p>

<pre><code>pwr.anova.test(k = , n = , f = , sig.level = , power = )
</code></pre>

<p>However, I would like to look at two way anova, since this is more efficient at estimating group means than one way anova.  There is no two-way anova function that I could find.  Is there a package or routine in [R] to do this?</p>

<p>2) Moreover, am I safe in assuming that since I am using a one-way anova power calculations, that the sample size will be more conservative (i.e. larger)?</p>
","325630","","","","","2010-04-26 11:20:00","Power Analysis in [R] for Two-Way Anova","<r><analysis><anova>","2","1","2","2010-04-27 01:46:35","","CC BY-SA 2.5","2710609","4452","4452","r","404559","3625322","3607736","",""
"2712121","1","2716789","","2010-04-26 08:50:17","","3","233","<p>Having installed canvas from here <a href=""http://www.rforge.net/canvas/files/"" rel=""nofollow noreferrer"">http://www.rforge.net/canvas/files/</a></p>

<p>I try to plot:</p>

<pre><code>&gt; canvas('test.js')
&gt; qplot(rnorm(100), geom='histogram')
stat_bin: binwidth defaulted to range/30. Use 'binwidth = x' to adjust this.
Error in grid.Call.graphics(""L_setviewport"", pvp, TRUE) : 
  Non-finite location and/or size for viewport
&gt; 
</code></pre>
","325800","","","","","2010-04-26 20:53:15","Can ggplot2 work with R's canvas backend","<r><canvas><ggplot2>","1","0","2","","","CC BY-SA 2.5","2712121","4452","4452","r","404559","3625322","3607736","",""
"2712421","1","2715569","","2010-04-26 09:46:43","","160","42638","<p>Many data analysts that I respect use version control.
For example: </p>

<ul>
<li><a href=""http://github.com/hadley/"" rel=""noreferrer"">http://github.com/hadley/</a></li>
<li>See comments on <a href=""http://permut.wordpress.com/2010/04/21/revision-control-statistics-bleg/"" rel=""noreferrer"">http://permut.wordpress.com/2010/04/21/revision-control-statistics-bleg/</a></li>
</ul>

<p>However, I'm evaluating whether adopting a version control system such as git would be worthwhile.</p>

<p><b>A brief overview:</b>
I'm a social scientist who uses R to analyse data for research publications.
I don't currently produce R packages.
My R code for a project typically includes a few thousand lines of code for data input, cleaning, manipulation, analyses, and output generation.
Publications are typically written using LaTeX.</p>

<p>With regards to version control there are many benefits which I have read about, yet they seem to be less relevant to the solo data analyst.</p>

<ul>
<li><b>Backup:</b> I have a backup system already in place. </li>
<li><b>Forking and rewinding:</b> I've never felt the need to do this, 
   but I can see how it could be useful (e.g., you are preparing multiple 
  journal articles based on the same dataset; you are preparing a report 
  that is updated monthly, etc)</li>
<li><b>Collaboration:</b> Most of the time I am
analysing data myself, thus, I
wouldn't get the collaboration
benefits of version control.</li>
</ul>

<p>There are also several potential costs involved with adopting version control:</p>

<ul>
<li>Time to evaluate and learn a version control system</li>
<li>A possible increase in complexity over my current file management system</li>
</ul>

<p>However, I still have the feeling that I'm missing something.
General guides on version control seem to be addressed more towards computer scientists than data analysts.</p>

<p>Thus, specifically <b>in relation to data analysts</b> in circumstances similar to those listed above:</p>

<ol>
<li>Is version control worth the effort?</li>
<li>What are the main pros and cons of adopting version control? </li>
<li>What is a good strategy for getting started with version control
 for data analysis with R (e.g., examples, workflow ideas, software, links to guides)?</li>
</ol>
","180892","","180892","","2010-04-26 13:03:55","2012-07-20 05:36:06","R and version control for the solo data analyst","<git><version-control><r>","13","6","120","","","CC BY-SA 2.5","2712421","4452","4452","r","404559","3625322","3607736","",""
"2714159","1","2714208","","2010-04-26 14:18:05","","5","630","<p>Say I have a function handed to me that I cannot change and must use as is. This function takes several objects in the form of</p>

<pre><code>oldFunction( object1, object2, object3, ...)
</code></pre>

<p>where ... are other arguments. I want to write a wrapper to take a list of objects. My idea was this.</p>

<pre><code>sjb.ListWrapper &lt;- function(myList,...) {
  lLen &lt;- length(myList)
  myStr &lt;- """"
  for( i in 1:lLen) {
    myStr &lt;- paste(myStr, ""myList[["", i , ""]],"",sep="""")
  }

  myCode &lt;- paste(""oldFunction("", myStr, ""...)"")
  eval({myCode})
}
</code></pre>

<p>However, the issue is that I want to use this from Sweave and I need the output of oldFunction to be printed. What is the right way to do this?</p>

<p>Thanks.</p>
","318976","","","","","2010-04-26 14:24:33","how to wrap a function that only takes individual elements to make it take a list","<r>","1","0","2","2013-03-10 18:38:50","","CC BY-SA 2.5","2714159","4452","4452","r","404559","3625322","3607736","",""
"2714851","1","","","2010-04-26 15:53:24","","4","5425","<p>In <strong>R</strong>, I'm looking for a memory-efficient way to create a summary of tabular data as follows.</p>

<p>Take for example the <code>data.frame</code> <code>foo</code> which I've used <code>table()</code> to summarize, followed by <code>as.data.frame()</code> to obtain the frequency counts.</p>

<pre><code>foo &lt;- data.frame(x= c('a', 'a', 'a', 'b', 'b', 'b'), y=c('ab', 'ac', 'ad', 'ae', 'fx', 'fy'))
bar &lt;- as.data.frame(table(foo), stringsAsFactors=F)
</code></pre>

<p>This results in the following frequency count for <code>bar</code></p>

<pre><code>   x  y Freq
1  a ab    1
2  b ab    0
3  a ac    1
4  b ac    0
5  a ad    1
6  b ad    0
7  a ae    0
8  b ae    1
9  a fx    0
10 b fx    1
11 a fy    0
12 b fy    1
</code></pre>

<p>The problem I'm running into is when there are many levels of <code>x</code> and <code>y</code>, it starts using up significant amounts of memory >64 GB.  I was wondering if there was an alternative way of doing this kind of frequency count.  As a first step, I set <code>stringsAsFactors=F</code>, however this doesn't completely solve the problem.</p>
","142477","","4370109","","2017-04-15 21:26:44","2017-04-15 21:26:44","as.data.frame of table() to summarize frequencies","<r><dataframe>","3","0","3","","","CC BY-SA 3.0","2714851","4452","4452","r","404559","3625322","3607736","",""
"2717757","1","2717853","","2010-04-26 23:46:11","","26","44495","<p>I'm using the quantmod package to import financial series data from Yahoo.</p>

<pre><code>library(quantmod)
getSymbols(""^GSPC"")
[1] ""GSPC""
</code></pre>

<p>I'd like to change the name of object ""GSPC"" to ""SPX"". I've tried the rename function in the reshape package, but it only changes the variable names. The ""GSPC"" object has vectors GSPC.Open, GSPC.High, etc. I'd like my renaming of ""GSPC"" to ""SPX"" to also change GSPC.Open to SPX.Open and so on.</p>
","296155","","680068","","2019-09-06 10:57:12","2020-07-03 05:53:54","How do I rename an R object?","<r><rename><quantmod>","1","0","11","","","CC BY-SA 2.5","2717757","4452","4452","r","404559","3625322","3607736","",""
"2719295","1","2719476","","2010-04-27 06:57:51","","1","350","<p>I am trying to get around the strange overlap of <code>stats::reorder</code> vs <code>Hmisc::reorder</code>.</p>

<p>Without <code>Hmisc</code> loaded I get the result I want, i.e. an unordered factor:</p>

<pre><code>&gt; with(InsectSprays, reorder(spray, count, median))
 [1] A A A A A A A A A A A A B B B B B B B B B B B B C C C C C C C C C C C C D D
[39] D D D D D D D D D D E E E E E E E E E E E E F F F F F F F F F F F F
attr(,""scores"")
   A    B    C    D    E    F 
14.0 16.5  1.5  5.0  3.0 15.0 
Levels: C E D A F B
</code></pre>

<p>Now after loading <code>Hmisc</code> the result is an ordered factor:</p>

<pre><code>&gt; library(Hmisc)
Loading required package: survival
Loading required package: splines

Attaching package: 'Hmisc'

The following object(s) are masked from 'package:survival':

    untangle.specials

The following object(s) are masked from 'package:base':

    format.pval, round.POSIXt, trunc.POSIXt, units

&gt; with(InsectSprays, reorder(spray, count, median))
 [1] A A A A A A A A A A A A B B B B B B B B B B B B C C C C C C C C C C C C D D
[39] D D D D D D D D D D E E E E E E E E E E E E F F F F F F F F F F F F
Levels: C &lt; E &lt; D &lt; A &lt; F &lt; B
</code></pre>

<p>In calling <code>stats::reorder</code> directly, I now for some reason get an ordered factor.</p>

<pre><code>&gt; with(InsectSprays, stats::reorder(spray, count, median))
 [1] A A A A A A A A A A A A B B B B B B B B B B B B C C C C C C C C C C C C D D
[39] D D D D D D D D D D E E E E E E E E E E E E F F F F F F F F F F F F
Levels: C &lt; E &lt; D &lt; A &lt; F &lt; B
</code></pre>

<p>Specifying, that I would need an unordered factor results in an error suggesting that <code>stats::reorder</code> is not used?</p>

<pre><code>&gt; with(InsectSprays, stats::reorder(spray, count, median, order = FALSE))
Error in FUN(X[[1L]], ...) : unused argument(s) (order = FALSE)
</code></pre>

<p>So the question really is <strong>how do I get an unordered factor with Hmisc loaded?</strong></p>
","168168","","1900149","","2014-07-30 10:28:11","2014-07-30 10:28:11","stats::reorder vs Hmisc::reorder","<r><r-factor>","1","0","2","","","CC BY-SA 2.5","2719295","4452","4452","r","404559","3625322","3607736","",""
"2723034","1","2723115","","2010-04-27 16:30:44","","94","114827","<p>I'm looking to suppress the output of <strong>one</strong> command (in this case, the <code>apply</code> function).</p>

<p>Is it possible to do this without using <code>sink()</code>?  I've found the described solution below, but would like to do this in one line if possible.</p>

<p><a href=""https://stackoverflow.com/questions/2501895/how-to-suppress-output-in-r"">How to suppress output</a></p>
","245292","","1851712","","2020-06-14 13:01:17","2020-06-14 13:01:17","Suppress output of a function","<r>","8","4","16","","","CC BY-SA 4.0","2723034","4452","4452","r","404559","3625322","3607736","",""
"2723730","1","2723841","","2010-04-27 18:04:57","","0","356","<p>I just installed R 2.11.0-x64 onto my Windows 7 Professional machine.</p>

<p>With my previous installations of R (2.10.1 32 bit was the most recent) the little icon that appeared in the title bar and in the taskbar at the bottom of windows was the R ""R.""  Now however, the icon almost looks like a small windows Task Manager.</p>

<p>I know this isn't a code issue, but it affects me as I flip between windows.</p>

<p>Is there a way to put the ""R"" icon back in there?  Would it be an R setting or a Windows setting?</p>
","260533","","","","","2010-04-27 18:20:02","How to change the icon in the title bar in R?","<user-interface><r><statistics><icons><titlebar>","1","2","","","","CC BY-SA 2.5","2723730","4452","4452","r","404559","3625322","3607736","",""
"2727446","1","2729319","","2010-04-28 07:13:09","","1","2802","<p>I'm going to use the sample code from <a href=""http://gettinggeneticsdone.blogspot.com/2009/11/split-apply-and-combine-in-r-using-plyr.html"" rel=""nofollow noreferrer"">http://gettinggeneticsdone.blogspot.com/2009/11/split-apply-and-combine-in-r-using-plyr.html</a> for this example.  So, first, let's copy their example data:</p>

<pre><code>mydata=data.frame(X1=rnorm(30), X2=rnorm(30,5,2),
SNP1=c(rep(""AA"",10), rep(""Aa"",10), rep(""aa"",10)),
SNP2=c(rep(""BB"",10), rep(""Bb"",10), rep(""bb"",10)))
</code></pre>

<p>I am going to ignore SNP2 in this example and just pretend the values in SNP1 denote group membership.  So then, I may want some summary statistics about each group in SNP1: ""AA"", ""Aa"", ""aa"".</p>

<p>Then if I want to calculate the means for each variable, it makes sense (modifying their code slightly) to use:</p>

<pre><code>&gt; ddply(mydata, c(""SNP1""), function(df)
data.frame(meanX1=mean(df$X1), meanX2=mean(df$X2)))
  SNP1      meanX1   meanX2
1   aa  0.05178028 4.812302
2   Aa  0.30586206 4.820739
3   AA -0.26862500 4.856006
</code></pre>

<p>But what if I want the sample covariance matrix for each group? Ideally, I would like a 3D array, where the I have the covariance matrix for each group, and the third dimension denotes the corresponding group. I tried a modified version of the previous code and got the following results that have convinced me that I'm doing something wrong.</p>

<pre><code>&gt; daply(mydata, c(""SNP1""), function(df) cov(cbind(df$X1, df$X2)))
, ,  = 1


SNP1         1          2
  aa 1.4961210 -0.9496134
  Aa 0.8833190 -0.1640711
  AA 0.9942357 -0.9955837

, ,  = 2


SNP1          1        2
  aa -0.9496134 2.881515
  Aa -0.1640711 2.466105
  AA -0.9955837 4.938320
</code></pre>

<p>I was thinking that the dim() of the 3rd dimension would be 3, but instead, it is 2. Really this is a sliced up version of the covariance matrix for each group.  If we manually compute the sample covariance matrix for aa, we get:</p>

<pre><code>           [,1]       [,2]
[1,]  1.4961210 -0.9496134
[2,] -0.9496134  2.8815146
</code></pre>

<p>Using plyr, the following gives me what I want in list() form:</p>

<pre><code>&gt; dlply(mydata, c(""SNP1""), function(df) cov(cbind(df$X1, df$X2)))
$aa
           [,1]       [,2]
[1,]  1.4961210 -0.9496134
[2,] -0.9496134  2.8815146

$Aa
           [,1]       [,2]
[1,]  0.8833190 -0.1640711
[2,] -0.1640711  2.4661046

$AA
           [,1]       [,2]
[1,]  0.9942357 -0.9955837
[2,] -0.9955837  4.9383196

attr(,""split_type"")
[1] ""data.frame""
attr(,""split_labels"")
  SNP1
1   aa
2   Aa
3   AA
</code></pre>

<p>But like I said earlier, I would really like this in a 3D array. Any thoughts on where I went wrong with daply() or suggestions? Of course, I could typecast the list from dlply() to a 3D array, but I'd rather not do this because I will be repeating this process many times in a simulation.</p>

<p>As a side note, I found one method (<a href=""http://www.mail-archive.com/r-help@r-project.org/msg86328.html"" rel=""nofollow noreferrer"">http://www.mail-archive.com/r-help@r-project.org/msg86328.html</a>) that provides the sample covariance matrix for each group, but the outputted object is bloated. </p>

<p>Thanks in advance.</p>
","234233","","","","","2010-04-28 12:21:34","Calculating a Sample Covariance Matrix for Groups with plyr","<r>","2","0","1","","","CC BY-SA 2.5","2727446","4452","4452","r","404559","3625322","3607736","",""
"2730490","1","2730811","","2010-04-28 14:45:32","","6","1579","<p>I want to have a sweave document that will include a variable number of tables in.  I thought the example below would work, but it doesn't.  I want to loop over the list foo and print each element as it's own table.</p>

<pre><code>% 
\documentclass[a4paper]{article}
\usepackage[OT1]{fontenc}
\usepackage{longtable}
\usepackage{geometry}
\usepackage{Sweave}
\geometry{left=1.25in, right=1.25in, top=1in, bottom=1in}
\listfiles
\begin{document}

&lt;&lt;label=start, echo=FALSE, include=FALSE&gt;&gt;=
startt&lt;-proc.time()[3]
library(RODBC)
library(psych)
library(xtable)
library(plyr)
library(ggplot2)
options(width=80)

#Produce some example data, here I'm creating some dummy dataframes and putting them in a list
foo&lt;-list()
foo[[1]]&lt;-data.frame(GRP=c(rep(""AA"",10), rep(""Aa"",10), rep(""aa"",10)), X1=rnorm(30), X2=rnorm(30,5,2))
foo[[2]]&lt;-data.frame(GRP=c(rep(""BB"",10), rep(""bB"",10), rep(""BB"",10)), X1=rnorm(30), X2=rnorm(30,5,2))
foo[[3]]&lt;-data.frame(GRP=c(rep(""CC"",12), rep(""cc"",18)), X1=rnorm(30), X2=rnorm(30,5,2))
foo[[4]]&lt;-data.frame(GRP=c(rep(""DD"",10), rep(""Dd"",10), rep(""dd"",10)), X1=rnorm(30), X2=rnorm(30,5,2))
@ 

\title{Docuemnt to test putting a variable number of tables into a sweave Document}
\author{""Paul Hurley""}
\maketitle

\section{Text}

This document was created on \today, with \Sexpr{print(version$version.string)} running
 on a \Sexpr{print(version$platform)} platform. It took approx \input{time} sec to process.

&lt;&lt;label=test, echo=FALSE, results=tex&gt;&gt;= 
cat(""Foo"")
@ 
that was a test, so is this
&lt;&lt;label=table1test, echo=FALSE, results=tex&gt;&gt;=
print(xtable(foo[[1]]))
@ 
\newpage

\subsection{Tables}

&lt;&lt;label=Tables, echo=FALSE, results=tex&gt;&gt;=
for(i in seq(foo)){
    cat(""\n"")
    cat(paste(""Table_"",i,sep=""""))
    cat(""\n"")
    print(xtable(foo[[i]]))
    cat(""\n"")
    }
#cat(""&lt;&lt;label=endofTables&gt;&gt;= "")
@ 


&lt;&lt;label=bye, include=FALSE, echo=FALSE&gt;&gt;= 
endt&lt;-proc.time()[3]
elapsedtime&lt;-as.numeric(endt-startt)
@ 
&lt;&lt;label=elapsed, include=FALSE, echo=FALSE&gt;&gt;=
fileConn&lt;-file(""time.tex"", ""wt"") 
writeLines(as.character(elapsedtime), fileConn) 
close(fileConn) 
@ 

\end{document}
</code></pre>

<p>Here, the table1test chunk works as expected, and produced a table based on the dataframe in foo[[1]], however the loop only produces Table(underscore)1....</p>
","74658","","1033581","","2017-09-06 11:16:47","2017-09-06 11:16:47","How to include multiple tables programmatically into a Sweave document using R","<r><latex><sweave><xtable>","1","1","1","","","CC BY-SA 3.0","2730490","4452","4452","r","404559","3625322","3607736","",""
"2731299","1","","","2010-04-28 16:20:39","","3","9076","<p>I have a list called <code>cols</code> with column names in it:</p>

<p><code>cols &lt;- c('Column1','Column2','Column3')</code></p>

<p>I'd like to reproduce this command, but with a call to the list:</p>

<p><code>data.frame(Column1=rnorm(10))</code></p>

<p>Here's what happens when I try it:</p>

<p><code>&gt; data.frame(cols[1]=rnorm(10))</code></p>

<p><code>Error: unexpected '=' in ""data.frame(I(cols[1])=""</code></p>

<p>The same thing happens if I wrap <code>cols[1]</code> in <code>I()</code> or <code>eval()</code>.</p>

<p>How can I feed that item from the vector into the <code>data.frame()</code> command?</p>

<p><strong>Update:</strong></p>

<p>For some background, I have defined a function <code>calc.means()</code> that takes a data frame and a list of variables and performs a large and complicated ddply operation, summarizing at the level specified by the variables. </p>

<p>What I'm trying to do with the <code>data.frame()</code> command is walk back up the aggregation levels to the very top, re-running <code>calc.means()</code> at each step and using <code>rbind()</code> to glue the results onto one another. I need to add dummy columns with 'All' values in order to get the rbind to work properly. </p>

<p>I'm rolling <code>cast</code>-like margin functionality into ddply, basically, and I'd like to not retype the column names for each run. Here's the full code:</p>

<pre><code>cols &lt;- c('Col1','Col2','Col3')
rbind ( calc.means(dat,cols),
    data.frame(cols[1]='All', calc.means(dat, cols[2:3])),
    data.frame(cols[1]='All', cols[2]='All', calc.means(dat, cols[3]))
)
</code></pre>
","197321","","197321","","2010-04-28 17:40:25","2014-10-31 22:55:22","Specifying column names from a list in the data.frame command","<r><dataframe><plyr>","4","0","2","","","CC BY-SA 2.5","2731299","4452","4452","r","404559","3625322","3607736","",""
"2731754","1","2733112","","2010-04-28 17:26:32","","2","848","<p>Why do these two cases behave differently?</p>

<pre><code>&gt;substitute(c1&lt;-100,list(c1=100))
100 &lt;- 100
</code></pre>

<p>vs</p>

<pre><code>&gt; substitute(c1=100,list(c1=100))
[1] 100
</code></pre>
","275455","","16632","","2010-04-29 00:37:24","2010-04-29 00:37:24","R substitute on expression with assignment","<r>","2","0","1","","","CC BY-SA 2.5","2731754","4452","4452","r","404559","3625322","3607736","",""
"2732397","1","","","2010-04-28 19:05:41","","6","2335","<pre><code>data &lt;- read.delim(""C:\\test.txt"", header = FALSE, sep = ""$$$$$"")
Error in scan(file, what = """", sep = sep, quote = quote, nlines = 1, quiet = TRUE,  : 
  invalid 'sep' value: must be one byte
</code></pre>

<p>Why there is a restriction like this? Can I overcome it?</p>
","170792","","","","","2010-04-28 22:23:31","Why the field separator character must be only one byte?","<text><r><delimiter>","1","0","4","","","CC BY-SA 2.5","2732397","4452","4452","r","404559","3625322","3607736","",""
"2735537","1","2738316","","2010-04-29 07:44:27","","3","2150","<p>A tab-delimited text file, which is actually an export (using bcp) of a database table, is of that form (first 5 columns):</p>

<pre><code>102 1   01  e113c   3224.96     12  
102 1   01  e185    101127.25   12
102 2   01  e185    176417.90   12
102A   3    01  e185    26261.03    12
</code></pre>

<p>I tried to import it in R with a command like </p>

<pre><code>data &lt;- read.delim(""C:\\test.txt"", header = FALSE, sep = ""\t"")
</code></pre>

<p>The problem is that the 3rd column which is actually a varchar field (alphanumeric) is mistakenly read as integer (as there are no letters in the entire column) and the leading zeros disappeared. The same thing happened when I imported the data directly from the database, using odbcConnect. Again that column was read as integer.</p>

<pre><code>str(data)
$ code: int  1 1 1 1 1 1 6 1 1 8 ...
</code></pre>

<p>How can I import such a dataset in R correctly, so as to be able to safely populate that db table again, after doing some data manipulations?</p>

<p><strong>EDIT</strong></p>

<p>I did it adding the following parameter in read.delim</p>

<pre><code> colClasses = c(""factor"",""integer"",""factor"",""factor"",""numeric"",""character"",""factor"",""factor"",""factor"",""factor"",""integer"",""character"",""factor"")
</code></pre>

<ul>
<li><p>Would you suggest ""character"" or ""factor"" for varchar fields?</p></li>
<li><p>Is it ok to use ""character"" for datetime ones?</p></li>
<li><p>What should I do in order to be able to read a numeric field like this 540912.68999999994 exactly as is and not as 540912.69?</p></li>
</ul>

<p>I would like an -as automatic as possible- creation of that <code>colClasses</code> vector, depending on the datatypes defined in the relevant table's schema. </p>
","170792","","170792","","2010-04-29 13:13:21","2010-04-29 15:56:44","Reading correctly (alpha)numeric fields into R","<r>","2","5","2","","","CC BY-SA 2.5","2735537","4452","4452","r","404559","3625322","3607736","",""
"2736631","1","2737241","","2010-04-29 10:44:07","","1","9570","<p>Suppose I have a named vector, <code>bar</code>:</p>

<pre><code>bar=c()
bar[""1997-10-14""]=1
bar[""2001-10-14""]=2
bar[""2007-10-14""]=1
</code></pre>

<p>How can I select from <code>bar</code> all values for which the index is within a specific date range? So, if I look for all values between <code>""1995-01-01""</code> and <code>""2000-06-01""</code>, I should get <code>1</code>. And similarly for the period between <code>""2001-09-01""</code> and <code>""2007-11-04""</code>, I should get <code>2</code> and <code>1</code>.</p>
","900119","","271616","","2012-08-31 02:36:24","2012-08-31 02:36:24","Select values from vector using Date as index","<r><xts>","3","1","4","","","CC BY-SA 3.0","2736631","4452","4452","r","404559","3625322","3607736","",""
"2737680","1","","","2010-04-29 13:29:02","","31","1588","<p>I'm writing a R package (<a href=""https://r-forge.r-project.org/projects/delftfews/"" rel=""nofollow noreferrer""><code>delftfews</code></a>) here at office.  we are using <a href=""https://r-forge.r-project.org/projects/sciviews"" rel=""nofollow noreferrer""><code>svUnit</code></a> for unit testing. </p>

<p>our process for describing new functionality: we define new unit tests, initially marked as <code>DEACTIVATED</code>; one block of tests at a time we activate them and implement the function described by the tests.  almost all the time we have a small amount of DEACTIVATED tests, relative to functions that might be dropped or will be implemented.</p>

<p>my problem/question is: can I alter the <a href=""http://rwiki.sciviews.org/doku.php?id=developers:runit#another_approach_using_svunit"" rel=""nofollow noreferrer"">doSvUnit.R</a> so that <code>R CMD check pkg</code> emits a NOTE (i.e. a custom message ""NOTE"" instead of ""OK"") in case there are DEACTIVATED tests?  </p>

<p>as of now, we see only that the active tests don't give error:</p>

<pre><code>.
.
* checking for unstated dependencies in tests ... OK
* checking tests ...
  Running doSvUnit.R
 OK
* checking PDF version of manual ... OK
</code></pre>

<p>which is all right if all tests succeed, but less all right if there are skipped tests and definitely wrong if there are failing tests.  In this case, I'd actually like to see a NOTE or a WARNING like the following:</p>

<pre><code>.
.
* checking for unstated dependencies in tests ... OK
* checking tests ...
  Running doSvUnit.R
 NOTE
6 test(s) were skipped.
 WARNING
1 test(s) are failing.
* checking PDF version of manual ... OK
</code></pre>

<p>As of now, we have to open the <code>doSvUnit.Rout</code> to check the real test results.</p>

<hr>

<p>I contacted two of the maintainers at r-forge and CRAN and they pointed me to the <a href=""https://svn.r-project.org/R/trunk/"" rel=""nofollow noreferrer"">sources of R</a>, in particular the <a href=""https://svn.r-project.org/R/trunk/src/library/tools/R/testing.R"" rel=""nofollow noreferrer""><code>testing.R</code></a> script.</p>

<p>if I understand it correctly, to answer this question we need patching the <code>tools</code> package: </p>

<ul>
<li>scripts in the tests directory are called using a <code>system</code> call,</li>
<li>output (stdout and stderr) go to one single file,</li>
<li>there are two possible outcomes: <strong>ok</strong> or <strong>not ok</strong>,</li>
</ul>

<p>so I opened a <a href=""https://bugs.r-project.org/bugzilla3/show_bug.cgi?id=14702"" rel=""nofollow noreferrer"">change request</a> on R, proposing something like bit-coding the return status, bit-0 for ERROR (as it is now), bit-1 for WARNING, bit-2 for NOTE.  </p>

<p>with my modification, it would be easy producing this output:</p>

<pre><code>.
.
* checking for unstated dependencies in tests ... OK
* checking tests ...
  Running doSvUnit.R
 NOTE - please check doSvUnit.Rout.
 WARNING - please check doSvUnit.Rout.
* checking PDF version of manual ... OK
</code></pre>

<hr>

<p>Brian Ripley replied ""There are however several packages with properly written unit tests
that do signal as required. Please do take this discussion elsewhere: R-bugs is not the place to ask
questions."" and closed the change request.</p>

<hr>

<p>anybody has hints?</p>
","78912","","78912","","2011-10-20 09:18:14","2011-11-14 09:46:56","How can a test script inform R CMD check that it should emit a custom message?","<unit-testing><r><cran>","2","6","3","","","CC BY-SA 3.0","2737680","4452","4452","r","404559","3625322","3607736","",""
"2738322","1","2738578","","2010-04-29 14:52:39","","7","1308","<p>In Emacs, I'm working with a file that is a hybrid of two languages.</p>

<p><strong>Question 1: Is there a simple way to write a major mode file that combines two major modes?</strong></p>

<p>Details:</p>

<ul>
<li><p>The language is called ""brew"" (not the ""BREW"" of ""Binary Runtime Environment for Wireless"").</p></li>
<li><p>brew is made up of the languages R and Latex, whose modes are R-mode and latex-mode.</p></li>
<li><p>The R code appears between the tags &lt;% and %>. Everything else is Latex.</p></li>
<li><p>How can I write a brew-mode.el file? (Or is one already available?)</p></li>
</ul>

<p>One idea, which I got from this <a href=""http://mail-archives.apache.org/mod_mbox/perl-modperl/200002.mbox/%3CNDBBIDIMBKMLMLLCGCNAEEFPCBAA.jreid@ocireland.com%3E"" rel=""nofollow noreferrer"">posting</a>, is to use Latex mode, and treat the code of the form  &lt;% ... %> as a comment.</p>
","249487","","1364726","","2012-10-27 19:06:17","2012-10-27 19:06:17","What is a simple way to combine two Emacs major modes, or to change an existing mode?","<r><emacs><latex><dot-emacs>","1","2","","","","CC BY-SA 3.0","2738322","4452","4452","r","404559","3625322","3607736","",""
"2740004","1","2740044","","2010-04-29 19:00:45","","2","259","<p>checkException will validate if meeting a stop() call, but not a warning() call. 
Is there a workaround or hack to check for warnings? (and make them silent during testing)</p>

<p>thanks </p>
","183988","","","","","2010-04-29 19:06:48","Is there an RUnit checkException for warning()?","<unit-testing><r>","1","0","","","","CC BY-SA 2.5","2740004","4452","4452","r","404559","3625322","3607736","",""
"2743204","1","2744572","","2010-04-30 08:26:37","","8","749","<p>Dear StackOverFlowers (flowers in short),</p>

<p>I have a list of data.frames (walk.sample) that I would like to collapse into a single (giant) data.frame. While collapsing, I would like to mark (adding another column) which rows have came from which element of the list. This is what I've got so far.</p>

<p>This is the data.frame that needs to be collapsed/stacked.</p>

<pre><code>&gt; walk.sample
[[1]]
     walker        x         y
1073      3 228.8756 -726.9198
1086      3 226.7393 -722.5561
1081      3 219.8005 -728.3990
1089      3 225.2239 -727.7422
1032      3 233.1753 -731.5526

[[2]]
     walker        x         y
1008      3 205.9104 -775.7488
1022      3 208.3638 -723.8616
1072      3 233.8807 -718.0974
1064      3 217.0028 -689.7917
1026      3 234.1824 -723.7423

[[3]]
[1] 3

[[4]]
     walker        x         y
546       2 629.9041  831.0852
524       2 627.8698  873.3774
578       2 572.3312  838.7587
513       2 633.0598  871.7559
538       2 636.3088  836.6325
1079      3 206.3683 -729.6257
1095      3 239.9884 -748.2637
1005      3 197.2960 -780.4704
1045      3 245.1900 -694.3566
1026      3 234.1824 -723.7423
</code></pre>

<p>I have written a function to add a column that denote from which element the rows came followed by appending it to an existing data.frame.</p>

<pre><code>collapseToDataFrame &lt;- function(x) { # collapse list to a dataframe with a twist
    walk.df &lt;- data.frame()
    for (i in 1:length(x)) {
        n.rows &lt;- nrow(x[[i]])
        if (length(x[[i]])&gt;1) {
            temp.df &lt;- cbind(x[[i]], rep(i, n.rows))
            names(temp.df) &lt;- c(""walker"", ""x"", ""y"", ""session"")
            walk.df &lt;- rbind(walk.df, temp.df)
        } else {
            cat(""Empty list"", ""\n"")
        }
    }
    return(walk.df)
}


&gt; collapseToDataFrame(walk.sample)
Empty list 
Empty list 
     walker         x          y session
3         1 -604.5055 -123.18759       1
60        1 -562.0078  -61.24912       1
84        1 -594.4661  -57.20730       1
9         1 -604.2893 -110.09168       1
43        1 -632.2491  -54.52548       1
1028      3  240.3905 -724.67284       1
1040      3  232.5545 -681.61225       1
1073      3  228.8756 -726.91980       1
1091      3  209.0373 -740.96173       1
1036      3  248.7123 -694.47380       1
</code></pre>

<p>I'm curious whether this can be done more elegantly, with perhaps do.call() or some other more generic function?</p>
","322912","","","","","2010-04-30 16:48:14","improve my code for collapsing a list of data.frames","<list><r><dataframe>","2","1","3","","","CC BY-SA 2.5","2743204","4452","4452","r","404559","3625322","3607736","",""
"2743466","1","2744434","","2010-04-30 09:15:37","","7","235","<p>Is there a way to determine if a function generates a figure in <strong>R</strong>?</p>

<p>For example, if we have functions <em>f</em> and <em>g</em></p>

<pre><code>f = function(x,y){plot(x,y)}
g = function(x,y){mean(x*y)}
</code></pre>

<p>I would like able to run </p>

<pre><code>createFigure(f(x,y))#Returns TRUE
createFigure(g(x,y))#Returns FALSE
</code></pre>

<p>Thanks</p>
","203420","","","","","2011-07-25 14:16:02","How can I determine if a function generates a graph","<graphics><r>","2","3","4","","","CC BY-SA 2.5","2743466","4452","4452","r","404559","3625322","3607736","",""
"2748381","1","2748573","","2010-05-01 00:27:56","","4","859","<p>I have a data.frame with 3 time series in it, shown below. When I plot them with a smoother time series, I want to be able to get the parameters of the linear model that I plot, but I can't see how to do that?  </p>

<pre><code>&gt; data
day   od series_id
1    1 0.10        A1
2    3 1.00        A1
3    5 0.50        A1
4    7 0.70        A1
5    1 1.70        B1
6    3 1.60        B1
7    5 1.75        B1
8    7 1.70        B1
9    1 2.10        C1
10   3 2.30        C1
11   5 2.50        C1
12   7 2.70        C1

data = data.frame (day = c(1,3,5,7,1,3,5,7,1,3,5,7), 
od = c(0.1,1.0,0.5,0.7 ,1.7,1.6,1.75,1.7 ,2.1,2.3,2.5,2.7), 
series_id = c(""A1"", ""A1"", ""A1"",""A1"", ""B1"", ""B1"",""B1"", ""B1"", ""C1"",""C1"", ""C1"", ""C1""))

r &lt;- ggplot(data = data, aes(x = day, y = od))
r + stat_smooth(aes(group = series_id, color = series_id),method=""lm"")
</code></pre>
","207258","","10607772","","2019-08-04 11:18:02","2019-08-04 11:18:02","How to get the parameters from a plotted linear model smoother?","<r><ggplot2><plot>","1","2","1","","","CC BY-SA 4.0","2748381","4452","4452","r","404559","3625322","3607736","",""
"2748725","1","2748879","","2010-05-01 03:04:42","","36","16491","<p>I'm looking for something similar in form to <code>weighted.mean()</code>. I've found some solutions via search that write out the entire function but would appreciate something a bit more user friendly.</p>
","325113","","190277","","2019-05-27 14:10:10","2020-05-19 15:24:17","Is there a weighted.median() function?","<r>","8","0","6","","","CC BY-SA 4.0","2748725","4452","4452","r","404559","3625322","3607736","",""
"2749390","1","2749565","","2010-05-01 09:11:50","","24","16220","<p>Is there any IDE -from the ones supporting R-, that gives access to the command history (at least to the current session's commands)? Or is there a way to get a (character or expression) vector with those commands in R?  </p>

<p>For those of you that have been using MATLAB, I mean something like the <a href=""http://www.mathworks.com/access/helpdesk/help/techdoc/matlab_env/command_history_overview.gif"" rel=""noreferrer"">Command History</a> window there..</p>

<p>Thank you </p>
","299077","","","","","2015-11-11 11:25:15","Command history in R","<ide><r>","6","0","6","","","CC BY-SA 2.5","2749390","4452","4452","r","404559","3625322","3607736","",""
"2751035","1","2756073","","2010-05-01 18:14:58","","3","1830","<p>I am trying to create a huge matrix in ff, and I know that ff is good for this sort of thing. </p>

<p>But, there is a major problem. The dimensions of the matrix exceed .Machine$max_integer! I am running on a 64 bit machine, using 64bit R and 64bit ff. </p>

<p>Is there any way to get around this problem? </p>

<p>It's been suggested that R is using the MAXINT value from stdint.h. Is there any way to fix this without changing that file and possibly breaking build?</p>

<pre><code>&gt; ffMatrix &lt;- ff(vmode=""boolean"", dim=c(300000,300000))
Error in if (length &lt; 0 || length &gt; .Machine$integer.max) stop(""length must be between 1 and .Machine$integer.max"") : 
  missing value where TRUE/FALSE needed
In addition: Warning message:
In ff(vmode = ""boolean"", dim = c(300000, 300000)) :
  NAs introduced by coercion

&gt; 300000**2 &gt; .Machine$integer.max
[1] TRUE
</code></pre>
","144278","","144278","","2010-05-01 18:42:21","2011-08-16 06:46:05","Creating a Large Matrix in ff","<r>","1","6","0","","","CC BY-SA 2.5","2751035","4452","4452","r","404559","3625322","3607736","",""
"2751065","1","2751201","","2010-05-01 18:23:40","","104","64685","<p>I'm wondering how I can manipulate the size of strip text in facetted plots. My question
is similar to <a href=""https://stackoverflow.com/questions/2631780/r-ggplot2-can-i-set-the-plot-title-to-wrap-around-and-shrink-the-text-to-fit-th"">a question on plot titles</a>, but I'm specifically concerned with
manipulating not the plot title but the text that appears in facet titles (strip_h).</p>

<p>As an example, consider the mpg dataset.</p>

<pre><code>    library(ggplot2) 
    qplot(hwy, cty, data = mpg) + facet_grid( . ~ manufacturer)
</code></pre>

<p>The resulting <a href=""http://skitch.com/capbri/dbx1n/quartz-2"" rel=""noreferrer"">output</a> produces some facet titles that don't fit in the strip.</p>

<p>I'm thinking there must be a way to use <code>grid</code> to deal with the strip text. But I'm
still a novice and wasn't sure from the <code>grid</code> appendix in <a href=""https://rads.stackoverflow.com/amzn/click/com/0387981403"" rel=""noreferrer"" rel=""nofollow noreferrer"">Hadley's book</a> how,
precisely, to do it. Also, I was afraid if I did it wrong it would break my washing
machine, since I believe all technology is connected through The Force :-(</p>

<p>Many thanks in advance.</p>
","180626","","-1","","2017-05-23 11:47:14","2016-02-25 15:16:11","How can I manipulate the strip text of facet_grid plots?","<r><ggplot2>","3","0","28","","","CC BY-SA 3.0","2751065","4452","4452","r","404559","3625322","3607736","",""
"2752323","1","2752353","","2010-05-02 03:16:31","","35","65368","<p>I'm trying to produce a single variable which is a concatenation of two chars  e.g to go from ""p30s4"" ""p28s4"" to ""p30s4 p28s4"".   I've tried cat and paste as shown below.  Both return empty variables.  What am I doing wrong?</p>

<pre><code>&gt; blah = c(""p30s4"",""p28s4"")
&gt; blah
[1] ""p30s4"" ""p28s4""

&gt; foo = cat(blah)
p30s4 p28s4
&gt; foo
NULL

&gt; foo = paste(cat(blah))
p30s4 p28s4
&gt; foo
character(0)
</code></pre>
","207258","","680068","","2018-11-06 10:45:35","2018-11-06 10:45:35","How can I concatenate a vector?","<r><vector><concatenation>","4","1","9","2016-03-19 00:02:43","","CC BY-SA 4.0","2752323","4452","4452","r","404559","3625322","3607736","",""
"2754469","1","3133374","","2010-05-02 18:23:39","","8","17887","<p>I am looking for something like the 'msm' package, but for discrete Markov chains. For example, if I had a transition matrix defined as such</p>
<pre><code>Pi &lt;- matrix(c(1/3,1/3,1/3,
0,2/3,1/6,
2/3,0,1/2))
</code></pre>
<p>for states A,B,C. How can I simulate a Markov chain according to that transition matrix?</p>
","318976","","8239061","","2020-10-26 14:57:07","2020-10-26 14:57:07","R library for discrete Markov chain simulation","<r><markov-chains>","3","1","7","","","CC BY-SA 4.0","2754469","4452","4452","r","404559","3625322","3607736","",""
"2754658","1","2759202","","2010-05-02 19:21:48","","11","23487","<p>The x-axis is time broken up into time intervals.  There is an <em>interval</em> column in the data frame that specifies the time for each row.  The column is a factor, where each interval is a different factor level.</p>

<p>Plotting a histogram or line using geom_histogram and geom_freqpoly works great, but I'd like to have a line, like that provided by geom_freqpoly, with the area filled.</p>

<p>Currently I'm using geom_freqpoly like this:</p>

<pre><code>ggplot(quake.data, aes(interval, fill=tweet.type)) + geom_freqpoly(aes(group = tweet.type, colour = tweet.type)) + opts(axis.text.x=theme_text(angle=-60, hjust=0, size = 6))
</code></pre>

<p><img src=""https://i.stack.imgur.com/ZFSUV.png"" alt=""plots""></p>

<p>I would prefer to have a filled area, such as provided by <code>geom_density</code>, but without smoothing the line:</p>

<p><img src=""https://i.stack.imgur.com/JKCj5.png"" alt=""smoooth""></p>

<p>The <code>geom_area</code> has been suggested, is there any way to use a ggplot2-generated statistic, such as ..count.., for the geom_area's y-values?  Or, does the count aggregation need to occur prior to using ggplot2?</p>

<hr>

<p>As stated in the answer, geom_area(..., stat = ""bin"") is the solution: </p>

<pre><code>ggplot(quake.data, aes(interval)) + geom_area(aes(y = ..count.., fill = tweet.type, group = tweet.type), stat = ""bin"") + opts(axis.text.x=theme_text(angle=-60, hjust=0, size = 6))
</code></pre>

<p>produces:</p>

<p><img src=""https://i.stack.imgur.com/leK6T.png"" alt=""desired""> </p>
","43729","","","user3717023","2015-08-20 13:30:58","2018-04-20 08:34:09","What is the simplest method to fill the area under a geom_freqpoly line?","<r><ggplot2>","4","5","2","","","CC BY-SA 3.0","2754658","4452","4452","r","404559","3625322","3607736","",""
"2755716","1","2759668","","2010-05-03 01:18:57","","2","1178","<p>My apologies if this is more of a statistics question than an R question. I am trying to estimate the following model in R.</p>

<p>y_t = mu0 (1 - S_t) + mu1 S_t + e_t    e_t ~ N(0, sigma_t^2)
sigma_t^2 = sigma_0^2 (1 - S_t) + sigma_1^2 S_t</p>

<p>where mu_t = mu0 if S_t = 0, mu_t = mu1 if S_t = 1, and S_t is a Markov process, either 0 or 1, with transition probabilities P(S_t = 1 | S_t-1 = 1 ) = p and P(S_t = 0 | S_t-1 = 0 ) = q.</p>

<p>Would 'flexmix' be a good library to use for this? I am new to this kind of statistics so any pointer to the right library would be appreciated.</p>

<p>Thanks,</p>
","318976","","97160","","2013-07-05 12:19:27","2013-07-05 12:19:27","using R to estimate finite mixture model with underlying Markov process","<r><statistics><markov-chains><mixture-model>","1","1","1","","","CC BY-SA 2.5","2755716","4452","4452","r","404559","3625322","3607736","",""
"2756886","1","2758429","","2010-05-03 08:27:37","","4","9729","<p>Say I make a scatterplot with thousands of points:</p>

<pre><code>ggplot(head(data, n=2000), aes(length, coverage))+ 
    geom_point(alpha = 0.5, color = 'navyblue')  + coord_trans(x='log', y='log')
</code></pre>

<p><a href=""http://fourmidable.unil.ch/temp/scatterplot.png"" rel=""nofollow noreferrer"">alt text http://fourmidable.unil.ch/temp/scatterplot.png</a></p>

<p>I want to add the labels of ""the 20 or so most extreme points"" (in the upper right and bottom right corners). They are easy to identify visually. But getting at them programatically seems a bit of a burden. (requiring many if statements).</p>

<p>Is there any way I can click on R's graphic output to obtain their precise coordinates?</p>

<p>Thanks,
yannick</p>
","183988","","","","","2020-06-26 20:43:55","Click to get scatterplot coordinates","<r><ggplot2>","3","0","4","","","CC BY-SA 2.5","2756886","4452","4452","r","404559","3625322","3607736","",""
"2756929","1","2757001","","2010-05-03 08:38:41","","3","1677","<p>Can someone explain why levels() shows three factor levels, while you can see that the vector has only two?</p>

<pre><code>&gt; str(walk.df)
'data.frame':   10 obs. of  4 variables:
 $ walker : Factor w/ 3 levels ""1"",""2"",""3"": 1 1 1 1 1 2 2 2 2 2

&gt; walk.df$walker
 [1] 1 1 1 1 1 2 2 2 2 2
Levels: 1 2 3
</code></pre>

<p>I would like to extract a vector of levels, and I thought this was the proper way, but as you can see, a three sneaks in there which is messing up my function.</p>

<pre><code>&gt; as.numeric(levels(walk.df$walker))
[1] 1 2 3
</code></pre>
","322912","","322912","","2010-05-04 09:01:23","2010-05-04 09:01:23","unexpected behavior when extracting factor levels","<r><levels>","2","4","","","","CC BY-SA 2.5","2756929","4452","4452","r","404559","3625322","3607736","",""
"2757657","1","2758343","","2010-05-03 11:22:57","","0","627","<p>Is it possible to use the R package 'RGL' in x64 Windows?</p>

<p><a href=""http://r-forge.r-project.org/R/?group_id=234"" rel=""nofollow noreferrer"">RGL Website</a></p>
","15985","","","","","2017-11-04 13:27:27","R: Is it possible to use RGL in x64 Windows?","<windows><r><64-bit><windows-7-x64><rgl>","2","0","","","","CC BY-SA 2.5","2757657","4452","4452","r","404559","3625322","3607736","",""
"2758559","1","2759000","","2010-05-03 14:02:04","","1","335","<p>I'd like to export plotting symbols form R as a png graphic. But I haven't found a perfect way yet.</p>

<p>Using </p>

<pre><code>png(""symbol.png"",width=20, height=20, bg=""transparent"")
par(mar=c(0,0,0,0))
plot.new()
symbols(1, 1, circles=0.3, bg=2, inches=FALSE, lwd=2, bty=""n"")
dev.off()
</code></pre>

<p>creates a little border around the symbol (I'd like it to be transparent) and the symbol isn't filling the whole space.</p>

<p><a href=""https://i.stack.imgur.com/hf4gQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hf4gQ.png"" alt=""symbol""></a>
</p>

<p>Is there a more specific way of doing this ?</p>
","171659","","4751173","","2019-07-25 07:06:46","2019-07-25 07:06:46","Export symbol as png","<r>","1","0","0","","","CC BY-SA 4.0","2758559","4452","4452","r","404559","3625322","3607736","",""
"2759394","1","2759436","","2010-05-03 16:05:57","","12","22027","<p>I have a big dataframe with columns such as:</p>

<pre><code>ID, time, OS, IP
</code></pre>

<p>Each row of that dataframe corresponds to one entry. Within that dataframe for some <b>IDs</b> several entries (rows) exist. I would like to get rid of those multiple rows (obviously the other attributes will differ for the same ID). Or put different: I only want one single entry (row) for each ID.</p>

<p>When I use <code>unique</code> on the ID column, I only receive the levels (or each unique ID), but I want to keep the other attributes as well.
I have tried to use <code>apply(x,2,unique(data$ID))</code>, but this does not work either.</p>
","262085","","759866","","2014-02-02 14:08:10","2014-02-02 14:08:10","Get rid of rows with duplicate attributes in R","<r><duplicates><dataframe>","2","2","7","","","CC BY-SA 3.0","2759394","4452","4452","r","404559","3625322","3607736","",""
"2759556","1","21253174","","2010-05-03 16:30:29","","22","14060","<p>R: What are the pros and cons of using Lattice versus ggplot2?</p>
","15985","","","","","2015-02-03 17:06:05","R: What are the pros and cons of using Lattice versus ggplot2?","<r><plot><ggplot2><visualization><lattice>","3","0","15","2015-02-03 22:16:49","","CC BY-SA 2.5","2759556","4452","4452","r","404559","3625322","3607736","",""
"2760702","1","2761565","","2010-05-03 19:39:23","","3","1572","<p>I am working with a large list of points (each point has three dimensions x,y,z).</p>

<p>I am pretty new with R, so I would like to know what is the best way to represent that kind of information.  As far as I know, an array allows me to represent any multidimensional data, so currently I am using:</p>

<pre><code>&gt; points&lt;-array( c(1,2,0,1,3,0,2,4,0,2,5,0,2,7,0,3,8,0), dim=c(3,6) )
&gt; points
     [,1] [,2] [,3] [,4] [,5] [,6]
[1,]    1    1    2    2    2    3  -- x dim
[2,]    2    3    4    5    7    8  -- y dim
[3,]    0    0    0    0    0    0  -- z dim
</code></pre>

<p>The aim is to perform some computations to calculate the euclidean distance between two sets of points such as:</p>

<pre><code>points1&lt;-array( c(1,2,0,1,3,0,2,4,0,2,5,0,2,7,0,3,8,0), dim=c(3,6) )
points2&lt;-array( c(2,2,0,1,4,0,2,3,0,2,4,0,2,6,0,2,8,0), dim=c(3,6) )
</code></pre>

<p>(any hint in this sense would also be highly appreciated)</p>
","12388","","12388","","2010-05-03 21:16:01","2010-05-03 22:12:30","How to represent a list of points in R","<data-structures><r>","4","0","1","","","CC BY-SA 2.5","2760702","4452","4452","r","404559","3625322","3607736","",""
"2760898","1","2761134","","2010-05-03 20:13:21","","7","10805","<p>I have 40 subjects, of two groups, over 15 weeks, with some measured variable (Y).</p>

<p>I wish to have a plot where: x = time, y = T, lines are by subjects and colours by groups.</p>

<p>I found it can be done like this:</p>

<pre><code>TIME &lt;- paste(""week"",5:20)
ID &lt;- 1:40
GROUP &lt;- sample(c(""a"",""b""),length(ID), replace = T)
group.id &lt;- data.frame(GROUP, ID)
a &lt;- expand.grid(TIME, ID)
colnames(a) &lt;-c(""TIME"", ""ID"")
group.id.time &lt;- merge(a, group.id)
Y &lt;- rnorm(dim(group.id.time)[1], mean = ifelse(group.id.time$GROUP ==""a"",1,3) )
DATA &lt;- cbind(group.id.time, Y)
qplot(data = DATA,
        x=TIME, y=Y, 
        group=ID,       
        geom = c(""line""),colour = GROUP) 
</code></pre>

<p>But now I wish to add to the plot something to show the difference between the two groups (for example, a trend line for each group, with some CI shadelines) - how can it be done?</p>

<p>I remember once seeing the ggplot2 can (easily) do this with geom_smooth, but I am missing something about how to make it work.</p>

<p>Also, I wondered at maybe having the lines be like a boxplot for each group (with a line for the different quantiles and fences and so on).  But I imagine answering the first question would help me resolve the second.</p>

<p>Thanks.</p>
","256662","","","","","2010-05-03 21:02:54","Adding trend lines/boxplots (by group) in ggplot2","<r><plot><ggplot2>","1","0","1","","","CC BY-SA 2.5","2760898","4452","4452","r","404559","3625322","3607736","",""
"2764760","1","2773704","","2010-05-04 11:20:32","","4","1544","<p>I've been using <code>ggplot2</code> for a while now, and I can't find a way to get formula from <code>ggplot</code> object. Though I can get basic info with <code>summary(&lt;ggplot_object&gt;)</code>, in order to get complete formula, usually I was combing up and down through <code>.Rhistory</code> file. And this becomes frustrating when you experiment with new graphs, especially when code gets a bit lengthy... so searching through history file isn't quite convenient way of doing this... Is there a more efficient way of doing this? Just an illustration:</p>

<pre><code>p &lt;- qplot(data = mtcars, x = factor(cyl), geom = ""bar"", fill = factor(cyl)) + 
     scale_fill_manual(name = ""Cylinders"", value = c(""firebrick3"", ""gold2"", ""chartreuse3"")) + 
     stat_bin(aes(label = ..count..), vjust = -0.2, geom = ""text"", position = ""identity"") + 
     xlab(""# of cylinders"") + ylab(""Frequency"") + 
     opts(title = ""Barplot: # of cylinders"")
</code></pre>

<p>I can get some basic info with <code>summary</code>:</p>

<pre><code>&gt; summary(p)
data: mpg, cyl, disp, hp, drat, wt, qsec, vs, am, gear, carb [32x11]
mapping:  fill = factor(cyl), x = factor(cyl)
scales:   fill 
faceting: facet_grid(. ~ ., FALSE)
-----------------------------------
geom_bar:  
stat_bin:  
position_stack: (width = NULL, height = NULL)

mapping: label = ..count.. 
geom_text: vjust = -0.2 
stat_bin: width = 0.9, drop = TRUE, right = TRUE 
position_identity: (width = NULL, height = NULL)
</code></pre>

<p>But I want to get code I typed in to get the graph. I reckon that I'm missing something essential here... it's seems impossible that there's no way to get call from <code>ggplot</code> object!</p>
","457898","","457898","","2010-05-04 18:50:42","2014-12-16 11:36:33","Return call from ggplot object","<r><ggplot2>","2","6","","","","CC BY-SA 2.5","2764760","4452","4452","r","404559","3625322","3607736","",""
"2765374","1","2766019","","2010-05-04 12:52:55","","6","2468","<p>I recently posted this question on the r-help mailing list but got no answers, so I thought I would post it here as well and see if there were any suggestions.</p>

<p>I am trying to calculate the cumulative standard deviation of a matrix. I want a function that accepts a matrix and returns a matrix of the same size where output cell (i,j) is set to the standard deviation of input column j between rows 1 and i. NAs should be ignored, unless cell (i,j) of the input matrix itself is NA, in which case cell (i,j) of the output matrix should also be NA.</p>

<p>I could not find a built-in function, so I implemented the following code. Unfortunately, this uses a loop that ends up being somewhat slow for large matrices. Is there a faster built-in function or can someone suggest a better approach?</p>

<pre><code>cumsd &lt;- function(mat)
{
    retval &lt;- mat*NA
    for (i in 2:nrow(mat)) retval[i,] &lt;- sd(mat[1:i,], na.rm=T)
    retval[is.na(mat)] &lt;- NA
    retval
}
</code></pre>

<p>Thanks.</p>
","233446","","170792","","2010-05-14 18:56:13","2010-05-14 18:56:13","Efficient calculation of matrix cumulative standard deviation in r","<r><statistics>","2","0","3","","","CC BY-SA 2.5","2765374","4452","4452","r","404559","3625322","3607736","",""
"2767219","1","2767490","","2010-05-04 16:47:06","","13","72846","<p>I'm trying to replace elements of a data.frame containing ""#N/A"" with ""NULL"", and I'm running into problems: </p>

<pre><code>foo &lt;- data.frame(""day""= c(1, 3, 5, 7), ""od"" = c(0.1, ""#N/A"", 0.4, 0.8))

indices_of_NAs &lt;- which(foo == ""#N/A"") 

replace(foo, indices_of_NAs, ""NULL"")
</code></pre>

<p>Error in <code>[&lt;-.data.frame</code>(<code>*tmp*</code>, list, value = ""NULL"") : 
  new columns would leave holes after existing columns</p>

<p>I think that the problem is that my index is treating the data.frame as a vector, but that the replace function is treating it differently somehow, but I'm not sure what the issue is?</p>
","207258","","","","","2017-09-22 11:29:55","R: How to replace elements of a data.frame?","<r><replace><dataframe>","3","0","8","","","CC BY-SA 2.5","2767219","4452","4452","r","404559","3625322","3607736","",""
"2768300","1","2773741","","2010-05-04 19:18:22","","0","475","<p>I am playing with the ""stars"" ({graphics}) function to create a segment of flowers.</p>

<p>I wish to plot a flower of segments, for example in way the following command will produce:</p>

<pre><code>stars1(mtcars[, 1:7],
  draw.segments = T,
        main = ""Motor Trend Cars : stars(*, full = F)"", full = T, col.radius = 1:8)
</code></pre>

<p>But, I want the segments to not have equal angles, but smaller angles (and between the flowers there could be space).</p>

<p>The goal I am striving for is to be able to give each flower ""weight"" so that some aspects are more important (larger weight) and some are less (and thus, will have a smaller angle).</p>

<p>I understand this can be changes in the following part of the stars command:</p>

<pre><code>   if (draw.segments) {
        aangl &lt;- c(angles, if (full) 2 * pi else pi)
        for (i in 1L:n.loc) {
            px &lt;- py &lt;- numeric()
            for (j in 1L:n.seg) {
                k &lt;- seq.int(from = aangl[j], to = aangl[j + 
                  1], by = 1 * deg)
                px &lt;- c(px, xloc[i], s.x[i, j], x[i, j] * cos(k) + 
                  xloc[i], NA)
                py &lt;- c(py, yloc[i], s.y[i, j], x[i, j] * sin(k) + 
                  yloc[i], NA)
            }
            polygon(px, py, col = col.segments, lwd = lwd, lty = lty)
        }
</code></pre>

<p>But I am unsure as to how to manipulate it in order to achieve my task (of weighted flowers, by different angles)</p>
","256662","","881229","","2013-09-16 21:43:54","2013-09-16 21:43:54","How to get the stars command to have segments of different angles ? (in R)","<r><plot>","2","0","","","","CC BY-SA 3.0","2768300","4452","4452","r","404559","3625322","3607736","",""
"2769510","1","2769822","","2010-05-04 22:55:48","","49","29012","<p>I'm trying to compare two numbers in R as a part of a if-statement condition:</p>

<p><code>(a-b) &gt;= 0.5</code></p>

<p>In this particular instance, a = 0.58 and b = 0.08... and yet <code>(a-b) &gt;= 0.5</code> is false.  I'm aware of the dangers of using <code>==</code> for exact number comparisons, and this seems related:</p>

<p><code>(a - b) == 0.5)</code> is false, while </p>

<p><code>all.equal((a - b), 0.5)</code> is true.</p>

<p>The only solution I can think of is to have two conditions: <code>(a-b) &gt; 0.5 | all.equal((a-b), 0.5)</code>.  This works, but is that really the only solution?  Should I just swear off of the <code>=</code> family of comparison operators forever?</p>

<p><strong>Edit for clarity:</strong> I know that this is a floating point problem.  More fundamentally, what I'm asking is: what should I do about it?  What's a sensible way to deal with greater-than-or-equal-to comparisons in R, since the <code>&gt;=</code> can't really be trusted?</p>
","143319","","967840","","2012-11-28 22:03:44","2019-05-20 15:56:30","Numeric comparison difficulty in R","<r><floating-point><comparison><comparison-operators><r-faq>","7","2","5","","","CC BY-SA 2.5","2769510","4452","4452","r","404559","3625322","3607736","",""
"2769688","1","2771180","","2010-05-04 23:43:35","","3","920","<p>I'm struggling with how to best structure categorical data that's messy, and comes from a <a href=""http://docs.google.com/leaf?id=0BypDSvtB33v7MjQ0OTBmYjQtMjBlYy00MDJjLWJmZmQtMjkxM2VhMDNmMGFl&amp;hl=en"" rel=""nofollow noreferrer"">dataset</a> I'll need to clean. </p>

<h3>The Coding Scheme</h3>

<p>I'm analyzing data from a university science course exam. We're looking at patterns in
student responses, and we developed a coding scheme to represent the kinds of things
students are doing in their answers. A subset of the coding scheme is shown below.</p>

<p><a
href=""http://picasaweb.google.com/lh/photo/0tut3kR-JFoB0cP_0uFBZg?feat=embedwebsite"" rel=""nofollow noreferrer""><img
src=""http://lh5.ggpht.com/_TvbgXH78cQc/S-CknUrDwuI/AAAAAAAACGo/0umklpa2968/s400/StackOverflowQuestion20100504.001.png""
/></a></p>

<p>Note that within each major code (1, 2, 3) are nested non-unique sub-codes (a, b, ...).</p>

<h3>What the Raw Data Looks Like</h3>

<p>I've created an anonymized, raw subset of my actual data which you can view <a href=""http://docs.google.com/leaf?id=0BypDSvtB33v7MjQ0OTBmYjQtMjBlYy00MDJjLWJmZmQtMjkxM2VhMDNmMGFl&amp;hl=en"" rel=""nofollow noreferrer"">here</a>.
Part of my problem is that those who coded the data noticed that some students displayed
multiple patterns. The coders' solution was to create enough columns (<code>reason1</code>, <code>reason2</code>,
...) to hold students with multiple patterns. That becomes important because the order
(<code>reason1</code>, <code>reason2</code>) is arbitrary--two students (like student 41 and student 42 in my
<a href=""http://docs.google.com/leaf?id=0BypDSvtB33v7MjQ0OTBmYjQtMjBlYy00MDJjLWJmZmQtMjkxM2VhMDNmMGFl&amp;hl=en"" rel=""nofollow noreferrer"">dataset</a>) who correctly applied ""dependency"" should both register in an analysis, regardless of
whether <code>3a</code> appears in the <code>reason</code> column or the <code>reason2</code> column.</p>

<h3>How Can I Best Structure Student Data?</h3>

<p>Part of my problem is that in the <a href=""http://docs.google.com/leaf?id=0BypDSvtB33v7MjQ0OTBmYjQtMjBlYy00MDJjLWJmZmQtMjkxM2VhMDNmMGFl&amp;hl=en"" rel=""nofollow noreferrer"">raw data</a>, not all students display the same
patterns, or the same number of them, in the same order. Some students may do just one
thing, others may do several. So, an abstracted representation of example students might
look like this:</p>

<p><a
href=""http://picasaweb.google.com/lh/photo/sQgGKgseA07Z_lKxRe4fkQ?feat=embedwebsite"" rel=""nofollow noreferrer""><img
src=""http://lh3.ggpht.com/_TvbgXH78cQc/S-CknlLcnqI/AAAAAAAACGs/M5oK9nMELvc/s400/StackOverflowQuestion20100504.002.png""
/></a></p>

<p>Note in the example above that <code>student002</code> and <code>student003</code> both are coded as ""1b"", although I've deliberately shown the order as different to reflect the reality of <a href=""http://docs.google.com/leaf?id=0BypDSvtB33v7MjQ0OTBmYjQtMjBlYy00MDJjLWJmZmQtMjkxM2VhMDNmMGFl&amp;hl=en"" rel=""nofollow noreferrer"">my data</a>.</p>

<h3>My (Practical) Questions</h3>

<ol>
<li>Should I concatenate <code>reason1</code>, <code>reason2</code>, <code>...</code> into one column?</li>
<li>How can I (re)code the <code>reason</code>s in R to reflect the multiplicity for some students?</li>
</ol>

<h3>Thanks</h3>

<p>I realize this question is as much about good data conceptualization as it is about specific features of R, but I thought it would be appropriate to ask it here. If you feel it's inappropriate for me to ask the question, please let me know in the comments, and stackoverflow will automatically flood my inbox with sadface emoticons. If I haven't been specific enough, please let me know and I'll do my best to be clearer.</p>
","180626","","180626","","2010-05-06 04:18:20","2010-05-06 04:18:20","How can I structure and recode messy categorical data in R?","<r><statistics><plyr>","3","1","1","","","CC BY-SA 2.5","2769688","4452","4452","r","404559","3625322","3607736","",""
"2770030","1","2770354","","2010-05-05 01:24:41","","3","2322","<p>I have 4 reasonably complex r scripts that are used to manipulate csv and xml files.  These were created by another department where they work exclusively in r.  </p>

<p>My understanding is that while r is very fast when dealing with data, it's not really optimised for file manipulation.  Can I expect to get significant speed increases by converting these scripts to python?  Or is this something of a waste of time?</p>
","329365","","","","","2010-05-09 16:35:23","R or Python for file manipulation","<python><file><r><performance>","6","0","","","","CC BY-SA 2.5","2770030","4452","4452","r","404559","3625322","3607736","",""
"2770523","1","4767110","","2010-05-05 03:57:35","","27","2550","<p>I often run long R scripts when I start my R environment. I would like to be able to load / run the R script in Emacs / ESS and continue other work in another buffer. </p>

<p>When I press C-g or C-c C-c the process is interrupted, and I must restart the script.</p>

<p>What is the best way to background the R process in ESS / Emacs?</p>

<p>EDIT: Thank you for your answers and comments, but none of them address the fact that Emacs freezes when you load / run a large script and you can't change buffer.</p>

<p>I suppose my question is a little more general - can Emacs background a process to let you keep working?</p>
","77298","","21234","","2011-01-12 14:54:39","2017-06-25 09:07:21","How can I background the R process in ESS / Emacs?","<r><emacs><ess>","3","1","10","","","CC BY-SA 2.5","2770523","4452","4452","r","404559","3625322","3607736","",""
"2771178","1","2771264","","2010-05-05 07:03:32","","5","1568","<p>I know that R is statistical pkg, but probably there is library to work with graphs and find shortest path btw 2 nodes.</p>

<p>PS actually, I've found igraph and e1071, which one is better?
Thank you</p>
","211450","","66549","","2012-10-10 16:36:46","2012-10-10 16:41:07","Are there any R Packages for Graphs (shortest path, etc.)?","<r><graph><graph-theory><shortest-path>","1","0","1","","","CC BY-SA 3.0","2771178","4452","4452","r","404559","3625322","3607736","",""
"2772573","1","2775320","","2010-05-05 11:07:37","","4","553","<p>This is not really a programming question, but I try here none the less.</p>

<p>I once used latex for my reports. But the people I work with needs to make small edits and do not have latex skillz. Openoffice is then the way to go. But saving ggplot images with dpi >100 makes for really ugly graphs. dpi = 600 is a no go (e.g. huge legend). So what to do?</p>

<p>I currently save (still via ggsave) to eps - which openoffice can import. But performance is not good at all.</p>

<p>Googling I found a bug for the poor eps performance in OOo, and also talk about a non-implemented svg feature. But none helps me right now.</p>

<p>If you work with ggplot2 and OOo - What do you do? I have been unsuccesfull with pdf conversion for some reason. </p>
","162832","","","","","2010-05-05 18:58:04","from ggplot2 to OOo workflow?","<r><openoffice.org><ggplot2>","2","2","4","","","CC BY-SA 2.5","2772573","4452","4452","r","404559","3625322","3607736","",""
"2775231","1","2776705","","2010-05-05 16:58:17","","8","1539","<p>First off, this may be the wrong Forum for this question, as it's pretty darn R+Bioconductor specific. Here's what I have:</p>

<pre><code>library('GEOquery')
GDS = getGEO('GDS785')
cd4T = GDS2eSet(GDS)
cd4T &lt;- cd4T[!fData(cd4T)$symbol == """",]
</code></pre>

<p>Now cd4T is an ExpressionSet object which wraps a big matrix with 19794 rows (probesets) and 15 columns (samples). The final line gets rid of all probesets that do not have corresponding gene symbols. Now the trouble is that most genes in this set are assigned to more than one probeset. You can see this by doing</p>

<pre><code>gene_symbols = factor(fData(cd4T)$Gene.symbol)
length(gene_symbols)-length(levels(gene_symbols))
[1] 6897
</code></pre>

<p>So only 6897 of my 19794 probesets have unique probeset -> gene mappings. I'd like to somehow combine the expression levels of each probeset associated with each gene. I don't care much about the actual probe id for each probe. I'd like very much to end up with an ExpressionSet containing the merged information as all of my downstream analysis is designed to work with this class. </p>

<p>I think I can write some code that will do this by hand, and make a new expression set from scratch. However, I'm assuming this can't be a new problem and that code exists to do it, using a statistically sound method to combine the gene expression levels. I'm guessing there's a proper name for this also but my googles aren't showing up much of use. Can anyone help?</p>
","270572","","","","","2012-12-16 09:42:39","R + Bioconductor : combining probesets in an ExpressionSet","<r><bioconductor>","2","4","1","","","CC BY-SA 2.5","2775231","4452","4452","r","404559","3625322","3607736","",""
"2776135","1","2776192","","2010-05-05 19:22:53","","10","14724","<p>I wish to implement a &quot;Last Observation Carried Forward&quot; for a data set I am working on which has missing values at the end of it.</p>
<p>Here is a simple code to do it (question after it):</p>
<pre><code>LOCF &lt;- function(x)
{
    # Last Observation Carried Forward (for a left to right series)
    LOCF &lt;- max(which(!is.na(x))) # the location of the Last Observation to Carry Forward
    x[LOCF:length(x)] &lt;- x[LOCF]
    return(x)
}


# example:
LOCF(c(1,2,3,4,NA,NA))
LOCF(c(1,NA,3,4,NA,NA))
</code></pre>
<p>Now this works great for simple vectors. But if I where to try and use it on a data frame:</p>
<pre><code>a &lt;- data.frame(rep(&quot;a&quot;,4), 1:4,1:4, c(1,NA,NA,NA))
a
t(apply(a, 1, LOCF)) # will make a mess
</code></pre>
<p>It will turn my data frame into a character matrix.</p>
<p>Can you think of a way to do LOCF on a data.frame, without turning it into a matrix? (I could use loops and such to correct the mess, but would love for a more elegant solution)</p>
","256662","","6461462","","2020-08-05 02:32:14","2020-08-05 02:32:14","Last Observation Carried Forward In a data frame?","<r><matrix><apply><dataframe>","7","0","5","2018-01-16 16:15:57","","CC BY-SA 4.0","2776135","4452","4452","r","404559","3625322","3607736","",""
"2777053","1","","","2010-05-05 21:51:12","","13","6088","<p>Here's my code:</p>

<pre><code>#data
sites &lt;- 
  structure(list(site = c(928L, 928L, 928L, 928L, 928L, 928L, 928L,
                          928L, 928L, 928L, 928L, 928L, 928L, 928L,
                          928L, 928L, 928L, 928L, 928L, 928L, 928L,
                          928L, 928L, 928L, 928L, 928L), 
                 date = c(13493L, 13534L, 13566L, 13611L, 13723L,
                          13752L, 13804L, 13837L, 13927L, 14028L,
                          14082L, 14122L, 14150L, 14182L, 14199L,
                          16198L, 16279L, 16607L, 16945L, 17545L,
                          17650L, 17743L, 17868L, 17941L, 18017L, 18092L),
                 y = c(7L, 7L, 17L, 18L, 17L, 17L, 10L, 3L, 17L, 24L, 
                       11L, 5L, 5L, 3L, 5L, 14L, 2L, 9L, 9L, 4L, 7L,
                       6L, 1L, 0L, 5L, 0L)), 
            .Names = c(""site"", ""date"", ""y""),
            class = ""data.frame"", row.names = c(NA, -26L))

#convert to date
x&lt;-as.Date(sites$date, origin=""1960-01-01"") 

#plot smooth, line goes below zero!
qplot(data=sites, x, y, main=""Site 349"") 
(p &lt;- qplot(data = sites, x, y, xlab = """", ylab = """"))
(p1 &lt;- p + geom_smooth(method = ""loess"",span=0.5, size = 1.5))
</code></pre>

<p>Some of the <code>LOESS</code> lines and confidence intervals go below zero, I would like to restrict the graphics to 0 and positive numbers (because negative do not make sense).
<img src=""https://i.stack.imgur.com/CeiDZ.jpg"" alt=""enter image description here""></p>

<p>How can I do this?</p>
","333902","","680068","","2014-08-12 09:28:00","2017-11-20 04:48:55","In ggplot restrict y to be >0 in LOESS","<r><plot><ggplot2><axis>","2","0","6","","","CC BY-SA 3.0","2777053","4452","4452","r","404559","3625322","3607736","",""
"2778039","1","2778060","","2010-05-06 02:18:48","","26","9466","<p>Is there a <a href=""https://en.wikipedia.org/wiki/Natural_sort_order"" rel=""noreferrer"">natural sort</a> for R?</p>

<p>Say I had a character vector like so:</p>

<pre><code>seq.names &lt;- c('abc21', 'abc2', 'abc1', 'abc01', 'abc4', 'abc201', '1b', '1a')
</code></pre>

<p>I'd like to sort it aphanumerically, so I get back this:</p>

<pre><code>c('1a', '1b', 'abc1', 'abc01', 'abc2', 'abc4', 'abc21', 'abc201')
</code></pre>

<p>Does this exist somewhere, or should I start coding?</p>
","199166","","903061","","2020-12-03 18:18:42","2020-12-13 16:34:09","How to perform natural (lexicographic) sorting in R?","<r><sorting><natural-sort><r-faq>","2","0","9","2020-12-03 20:43:18","","CC BY-SA 4.0","2778039","4452","4452","r","404559","3625322","3607736","",""
"2778510","1","2780455","","2010-05-06 04:43:57","","14","42936","<p>I'm implementing an algorithm that involves lots of adding and removing things from sets. In R, this is slow because as far as I know, adding or removing things from a vector is slow, since the entire vector has to be re-allocated. Is there a way do do it more efficiently?</p>

<p>Edit: My current solution is to use a boolean vector of the same length as the list of things that can be in the set, and using that as a membership table.</p>
","125921","","125921","","2010-05-06 05:18:43","2018-07-07 21:47:13","Efficiently adding or removing elements to a vector or list in R?","<r><vector><performance>","4","3","4","","","CC BY-SA 2.5","2778510","4452","4452","r","404559","3625322","3607736","",""
"2781652","1","2782004","","2010-05-06 14:05:55","","1","3355","<p>In R, I have a data frame with columns for Seat (factor), Party (factor) and Votes (numeric). I want to create a summary data frame with columns for Seat, Winning party, and Vote share. For example, from the data frame</p>

<pre><code>df &lt;- data.frame(party=rep(c('Lab','C','LD'),times=4),
                 votes=c(1,12,2,11,3,10,4,9,5,8,6,15),
                 seat=rep(c('A','B','C','D'),each=3))
</code></pre>

<p>I want to get the output</p>

<pre><code>  seat winner voteshare
1    A      C 0.8000000
2    B    Lab 0.4583333
3    C      C 0.5000000
4    D     LD 0.5172414
</code></pre>

<p>I can figure out how to achieve this. But I'm sure there must be a better way, probably a cunning one-liner using Hadley Wickham's <a href=""http://had.co.nz/reshape/"" rel=""nofollow noreferrer""><code>reshape</code></a> package. Any suggestions?</p>

<p>For what it's worth, my solution uses a function from my package
<a href=""http://www.cs.ucl.ac.uk/staff/d.wischik/Teach/NP/Handouts/djwutils_2.10.zip"" rel=""nofollow noreferrer""><code>djwutils_2.10.zip</code></a> and is invoked as follows. But there are all sorts of special cases it doesn't deal with, so I'd rather rely on someone else's code.</p>

<pre><code>aggregateList(df, by=list(seat=seat),
              FUN=list(winner=function(x) x$party[which.max(x$votes)],
                       voteshare=function(x) max(x$votes)/sum(x$votes)))
</code></pre>
","180219","","","","","2010-05-06 17:40:19","Using reshape + cast to aggregate over multiple columns","<r><reshape>","3","1","3","","","CC BY-SA 2.5","2781652","4452","4452","r","404559","3625322","3607736","",""
"2784896","1","","","2010-05-06 22:18:06","","0","179","<p>I am looking at whether or not certain 'systems' for betting really do work as claimed, namely, that they have a positive expectation. One such system is based on the rebate on loss. You basically have a large master pot, say $1 million. Your bankroll for each game is $50k.</p>

<p>The way it works, is as follows:
1) Start with $50k, always bet on banker
2) If you win, add the money to the master pot. Then play again with $50k.
3) If you lose(now you're at $30k) play till you either: 
(a) hit 0, you get a rebate of 10%. Begin playing again with $50k+5k=$55k.
(b) If you win more than the initial bankroll, add the money to the master pot. Then play again with $50k.
4) Continue until you double the master pot.</p>

<p>I just cant find an easy way of programming out the possible cases in R, since you can eventually go down an improbable path.</p>

<p>For example, you start at 50k, lose 20, win 19, now you're at 49, now you lose 20, lose 20, now youre at 9, you either lose 9 and get back 5k or you win and this cycle continues until you either end up with more than 50k or hit 0 and get the rebate on the 50k and start again with $50k +5k.</p>

<p>Here's some code i started, but i havent figured out a good way of handling the cases where you get stuck and keeping track of the number of games played. Thanks again for your help. Obviously, I understand you may be busy and not have time.</p>

<pre><code>p.loss &lt;- .4462466
p.win &lt;- .4585974
p.tie &lt;- 1 - (p.win+p.loss)

prob &lt;- c(p.win,p.tie,p.loss)


bet&lt;-20
x &lt;- c(19,0,-20)

r &lt;- 10 # rebate = 20%

br.i &lt;- 50
br&lt;-200


#for(i in 1:100){
# cbr.i&lt;-0
y &lt;- sample(x,1,replace=T,prob)

cbr.i&lt;-y+br.i

if(cbr.i &gt; br.i){

    br&lt;-br+(cbr.i-br.i);
    cbr.i&lt;-br.i;

    }else{       

      y &lt;- sample(x,2,replace=T,prob);
      if( sum(y)&lt; cbr.i ){ cbr.i&lt;-br.i+(1/r)*br.i; br&lt;-br-br.i}
      cbr.i&lt;-y+
      }else{

      cbr.i&lt;- sum(y) + cbr.i;

      }if(cbr.i &lt;= bet){

        y &lt;- sample(x,1,replace=T,prob)

        if(abs(y)&gt;cbr.i){  cbr.i&lt;-br.i+(1/r)*br.i  }  }
</code></pre>
","334898","","","","","2010-05-07 09:46:06","Getting caught in loops - R","<r>","1","2","","","","CC BY-SA 2.5","2784896","4452","4452","r","404559","3625322","3607736","",""
"2785998","1","2786105","","2010-05-07 03:24:30","","19","24701","<pre><code>test1 &lt;- as.matrix(c(1, 2, 3, 4, 5))
row.names(test1) &lt;- c(""a"", ""d"", ""c"", ""b"", ""e"") 

test2 &lt;- as.matrix(c(6, 7, 8, 9, 10))
row.names(test2) &lt;- c(""e"", ""d"", ""c"", ""b"", ""a"") 

  test1
  [,1]
a    1
d    2
c    3
b    4
e    5

 test2
  [,1]
e    6
d    7
c    8
b    9
a   10
</code></pre>

<p>How can I reorder test2 so that the rows are in the same order as test1? e.g.</p>

<pre><code> test2
  [,1]
a    10
d    7
c    8
b    9
e    6
</code></pre>

<p>I tried to use the reorder function with: reorder (test1, test2) but I could not figure out the correct syntax. I see that reorder takes a vector, and I'm here using a matrix. My real data has one character vector and another as a data.frame. I figured that the data structure would not matter too much for this example above, I just need help with the syntax and can adapt it to my real problem.</p>
","207258","","10607772","","2019-03-03 18:55:42","2019-03-03 18:55:42","How can I reorder the rows of a matrix, data.frame or vector according to another one","<r><dataframe><matrix><vector>","2","0","6","","","CC BY-SA 4.0","2785998","4452","4452","r","404559","3625322","3607736","",""
"2786557","1","","","2010-05-07 06:13:20","","0","511","<p>Apologies for the re-post; the earlier time I'd posted I did not have all the details.</p>

<p>My colleague, who quit the firm was a C# programmer, was forced to write Java code that involved (large, dense) matrix multiplication.</p>

<p>He's coded his own DataTable class in Java, in order to be able to</p>

<p>a) create indexes to sort and join with other DataTables</p>

<p>b) do matrix multiplication.</p>

<p>The code in its current form is NOT maintainable/extensible.
I want to clean up the code, and thought using something like R within Java will help me focus on business logic rather than sorting, joining, matrix multiplication, etc. </p>

<p>Plus, I'm very new to the concept of DataTable; I just want to replace the DataTable with 2D arrays, and let R handle the rest.</p>

<p>(I currently do not know how to join 2 large datasets in java very efficiently</p>

<p>Please let me know what you think. Also, are there any simple examples that I can take a look at?</p>
","333167","","","","","2010-05-07 19:07:33","Matrix multiplication in java (RE-POST)","<java><r>","3","2","","","","CC BY-SA 2.5","2786557","4452","4452","r","404559","3625322","3607736","",""
"2789916","1","2790552","","2010-05-07 15:59:13","","2","148","<p>I have the results of a test taken by a number of individuals at as many as four time periods.  Here's a sample:</p>

<pre><code>dat &lt;- structure(list(Participant_ID = c(""A"", ""A"", ""A"", ""A"", ""B"", ""B"", 
""B"", ""B"", ""C"", ""C"", ""C"", ""C""), phase = structure(c(1L, 2L, 3L, 
4L, 1L, 2L, 3L, 4L, 1L, 2L, 3L, 4L), .Label = c(""base"", ""sixmos"", 
""twelvemos"", ""eighteenmos""), class = ""factor""), result = c(""Negative"", 
""Negative"", ""Negative"", ""Negative"", ""Negative"", ""Positive"", ""Negative"", 
NA, ""Positive"", ""Indeterminate"", ""Negative"", ""Negative"")), .Names = c(""Participant_ID"", 
""phase"", ""result""), row.names = c(1L, 2L, 3L, 4L, 97L, 98L, 99L, 
100L, 9L, 10L, 11L, 12L), class = c(""cast_df"", ""data.frame""))
</code></pre>

<p>which looks like:</p>

<pre><code>    Participant_ID       phase        result
1                A        base      Negative
2                A      sixmos      Negative
3                A   twelvemos      Negative
4                A eighteenmos      Negative
97               B        base      Negative
98               B      sixmos      Positive
99               B   twelvemos      Negative
100              B eighteenmos          &lt;NA&gt;
9                C        base      Positive
10               C      sixmos Indeterminate
11               C   twelvemos      Negative
12               C eighteenmos      Negative
</code></pre>

<p>I'd like to add an identifier to each test to note whether that test was a conversion from the previous status (negative to positive), a reversion (positive to negative), or stable.  The catch is that I'm not just comparing the base test to the six months test, six months to twelve months, etc. - in cases like C, the sixmos test should be marked as stable or inconclusive (the exact term for that is ambiguous), and (more importantly) the twelvemos test should then be compared to the base test and marked as a reversion.  Conversely, if someone had a sequence of ""Negative"", ""Indeterminate"", ""Negative"", that should be stable.</p>

<p>It's the latter part that I'm stuck on; if it were just a sequence of comparisons per participant, I'd be all right, but I'm having trouble thinking about how to elegantly deal with these variable comparison pairs.  Your help is, as always, much appreciated.</p>
","143319","","","","","2010-05-07 17:50:12","Comparing values longitudinally in R... with a twist","<r><comparison><iteration>","1","0","","","","CC BY-SA 2.5","2789916","4452","4452","r","404559","3625322","3607736","",""
"2792215","1","2792241","","2010-05-07 23:18:48","","2","1630","<p>I am using a dataset with variables that have very similar names. I have to apply the same functions to all 13 variables at a time and I'm trying to shorten the code, instead of doing each variable individually.</p>

<pre><code>q01a.F=factor(q01a)
q01b.F=factor(q01b)
q01c.F=factor(q01c)
q01d.F=factor(q01d)
q01e.F=factor(q01e)
q01f.F=factor(q01f)
q01g.F=factor(q01g)
q01h.F=factor(q01h)
q01i.F=factor(q01i)
q01j.F=factor(q01j)
q01k.F=factor(q01k)
q01l.F=factor(q01l)
q01m.F=factor(q01m)
</code></pre>

<p>Suggestions?</p>
","335897","","5436877","","2019-05-06 13:57:30","2019-05-06 13:57:30","Creating a loop in R to apply the same functions to many similarly named variables","<r><loops>","2","0","1","","","CC BY-SA 4.0","2792215","4452","4452","r","404559","3625322","3607736","",""
"2792467","1","2792872","","2010-05-08 00:45:28","","1","874","<p>I'd like to plot this vs. time, with the actual dates (years actually, 1997,1998...2010).  The dates are in a raw format, ala SAS, days since 1960 (hence as.date conversion).  If I convert the dates using as.date to variable x, and do the GAM plot, I get an error.  It works fine with the raw day numbers.  But I want the plot to display the years (data are not equally spaced).  </p>

<pre><code>structure(list(site = c(928L, 928L, 928L, 928L, 928L, 928L, 928L, 
928L, 928L, 928L, 928L, 928L, 928L, 928L, 928L, 928L, 928L, 928L, 
928L, 928L, 928L, 928L, 928L, 928L, 928L, 928L), date = c(13493L, 
13534L, 13566L, 13611L, 13723L, 13752L, 13804L, 13837L, 13927L, 
14028L, 14082L, 14122L, 14150L, 14182L, 14199L, 16198L, 16279L, 
16607L, 16945L, 17545L, 17650L, 17743L, 17868L, 17941L, 18017L, 
18092L), y = c(7L, 7L, 17L, 18L, 17L, 17L, 10L, 3L, 17L, 24L, 
11L, 5L, 5L, 3L, 5L, 14L, 2L, 9L, 9L, 4L, 7L, 6L, 1L, 0L, 5L, 
0L)), .Names = c(""site"", ""date"", ""y""), class = ""data.frame"", row.names = c(NA, 
-26L))

 sgam1 &lt;- gam(sites$y ~ s(sites$date))
    sgam &lt;- predict(sgam1, se=TRUE)
    plot(sites$date,sites$y,xaxt=""n"", xlab='Time', ylab='Counts')
    x&lt;-as.Date(sites$date, origin=""1960-01-01"")
    axis(1, at=1:26,labels=x)

 lines(sites$date,sgam$fit, lty = 1)
 lines(sites$date,sgam$fit + 1.96* sgam$se, lty = 2)
 lines(sites$date,sgam$fit - 1.96* sgam$se, lty = 2)
</code></pre>

<p>ggplot2 has a solution (it doesn't mind the as.date thing) but it gives me other problems...</p>
","335939","","3687447","","2015-02-27 08:39:55","2015-02-27 08:39:55","R plot- SGAM plot counts vs. time - how do I get dates on the x-axis?","<r><plot>","2","0","","","","CC BY-SA 2.5","2792467","4452","4452","r","404559","3625322","3607736","",""
"2792657","1","4218020","","2010-05-08 02:06:03","","3","2631","<p>Jeff Ryan's quantmod package is an excellent contribution to the R finance world.</p>

<p>I like to use chartSeries() function, but when I try to get it to display multiple panes simultaneously, it doesn't work.</p>

<pre><code>par(mfrow=c(2,2))

chartSeries (SPX)
chartSeries (SPX, subset=""2010"")

chartSeries (NDX)
chartSeries (NDX, subset=""2010"")
</code></pre>

<p>would normally return a four-panel graphic as it does with the plot() function but in the chartSeries example it runs through all instances one at a time without creating a single four-panel graphic.</p>
","296155","","","","","2017-10-04 11:22:43","Can't get multiple panel plots with chartSeries function from quantod package in R","<r>","3","0","","","","CC BY-SA 2.5","2792657","4452","4452","r","404559","3625322","3607736","",""
"2792819","1","2792839","","2010-05-08 03:18:59","","60","193814","<p>My code:</p>
<pre><code>axis.Date(1,sites$date, origin=&quot;1970-01-01&quot;)
</code></pre>
<p>Error:</p>
<pre><code>Error in as.Date.numeric(x) : 'origin' must be supplied
</code></pre>
<p>Why is it asking me for the origin when I supplied it in the above code?</p>
","335939","","5783745","","2020-07-27 18:28:34","2020-07-27 18:28:34","R dates ""origin"" must be supplied","<r><date>","6","0","8","","","CC BY-SA 4.0","2792819","4452","4452","r","404559","3625322","3607736","",""
"2793389","1","","","2010-05-08 08:16:01","","120","88624","<p>I have written an R script that pulls some data from a database, performs several operations on it and post the output to a new database. </p>

<p>I would like this script to run every day at a specific time but I can not find any way to do this effectively. </p>

<p>Can anyone recommend a resource I could look at to solve this issue? I am running this script on a Windows machine.</p>
","336067","","1144966","","2019-09-23 19:16:08","2021-05-17 21:32:53","Scheduling R Script","<r><windows><schedule><r-faq>","7","0","83","","","CC BY-SA 3.0","2793389","4452","4452","r","404559","3625322","3607736","",""
"2798349","1","2798579","","2010-05-09 16:36:25","","2","1573","<p>I have 13 quantitative variables in a data.frame (called 'UNCA'). </p>

<p>The variables are named q01_a, q01_b, ...q01_m. </p>

<p>I want to create 13 new variables that have the same values but are coded as a factor. </p>

<p>I would like to name these 13 new variables q01_a.F, q01_b.F, ...q01_m.F.</p>

<p>Any help would be greatly appreciated!</p>
","335897","","","","","2010-05-09 17:59:56","R question. Using lappy on a data.frame and creating new variables w/ output","<r><statistics><dataframe><lapply>","2","1","1","","","CC BY-SA 2.5","2798349","4452","4452","r","404559","3625322","3607736","",""
"2800127","1","","","2010-05-10 03:20:52","","1","805","<p>I'm new to R, and I'm having trouble figuring out how to replace the FOR loop in the function below. The function estimates a population mean. Any help at all would be much appreciated. Thank you!</p>

<pre><code> myFunc&lt;- function(){


myFRAME &lt;- read.csv(file=""2008short.csv"",head=TRUE,sep="","")

meanTotal &lt;- 0

for(i in 1:100)
{

mySample &lt;- sample(myFRAME$TaxiIn, 100, replace = TRUE)

tempMean &lt;- mean(mySample)

meanTotal &lt;- meanTotal + tempMean


}

cat(""Estimated Mean: "", meanTotal/100, ""\n"") #print result

}
</code></pre>
","336930","","190597","","2010-05-10 03:38:21","2010-05-10 04:20:02","Replace Loops in R function","<r><loops><optimization>","2","0","1","","","CC BY-SA 2.5","2800127","4452","4452","r","404559","3625322","3607736","",""
"2800704","1","2800913","","2010-05-10 06:22:51","","2","732","<p>i have group like 1-10 , 10-20, 20-30, 30-40. and i have data like ""1,23,24,11,33,22,5,6,7,8,3,2""
how can i find out how many in each group</p>
","319081","","","","","2010-05-10 07:10:45","in R, how to distribution data into different group","<r>","2","1","","","","CC BY-SA 2.5","2800704","4452","4452","r","404559","3625322","3607736","",""
"2803460","1","2803542","","2010-05-10 14:37:25","","68","56790","<p>I know I've come across this problem before, but I'm having a bit of a mental block at the moment. and as I can't find it on SO, I'll post it here so I can find it next time.</p>

<p>I have a dataframe that contains a field representing an ID label.  This label has two parts, an alpha  prefix and a numeric suffix.  I want to split it apart and create two new fields with these values in.</p>

<pre><code>structure(list(lab = c(""N00"", ""N01"", ""N02"", ""B00"", ""B01"", ""B02"", 
""Z21"", ""BA01"", ""NA03"")), .Names = ""lab"", row.names = c(NA, -9L
), class = ""data.frame"")

df$pre&lt;-strsplit(df$lab, ""[0-9]+"")
df$suf&lt;-strsplit(df$lab, ""[A-Z]+"")
</code></pre>

<p>Which gives  </p>

<blockquote>
<pre><code>   lab pre  suf
1  N00   N , 00
2  N01   N , 01
3  N02   N , 02
4  B00   B , 00
5  B01   B , 01
6  B02   B , 02
7  Z21   Z , 21
8 BA01  BA , 01
9 NA03  NA , 03
</code></pre>
</blockquote>

<p>So, the first strsplit works fine, but the second gives a list, each having two elements, an empty string and the result I want, and stuffs them both into the dataframe column.</p>

<p>How can I select the second sub-element from each element of the list ? (or, is there a better way to do this)</p>
","74658","","4205652","","2016-03-02 18:17:53","2017-11-04 14:27:44","How to get the second sub element of every element in a list","<r>","3","0","24","","","CC BY-SA 3.0","2803460","4452","4452","r","404559","3625322","3607736","",""
"2804001","1","2843636","","2010-05-10 15:36:26","","5","8350","<p>Is it possible to do regressions in R using a panel data set with a binary dependent variable? I am familiar with using glm for logit and probit and plm for panel data, but am not sure how to combine the two. Are there any existing code examples?</p>
<p><strong>EDIT</strong></p>
<p>It would also be helpful if I could figure out how to extract the matrix that plm() is using when it does a regression. For instance, you could use plm to do fixed effects, or you could create a matrix with the appropriate dummy variables and then run that through glm(). In a case like this, however, it is annoying to generate the dummies yourself and it would be easier to have plm do it for you.</p>
","233446","","4640346","","2021-04-03 19:39:20","2021-04-03 19:39:20","Panel data with binary dependent variable in R","<r><regression><panel-data><plm>","3","1","3","","","CC BY-SA 4.0","2804001","4452","4452","r","404559","3625322","3607736","",""
"2805357","1","2805414","","2010-05-10 18:30:03","","116","185928","<p>I am trying to specify the <code>colClasses</code> options in the <code>read.csv</code> function in R. In my data, the first column ""time"" is basically a character vector while the rest of the columns are numeric.</p>

<pre><code>data &lt;- read.csv(""test.csv"", comment.char="""" , 
                 colClasses=c(time=""character"", ""numeric""), 
                 strip.white=FALSE)
</code></pre>

<p>In the above command, I would want R to read in the ""time"" column as ""character"" and the rest as numeric. Although, the ""data"" variable did have the correct result after the command completed, R returned the following warnings. I am wondering how I could fix these warnings? 
</p>

<pre><code>Warning messages:
 1: In read.table(file = file, header = header, sep = sep, quote = quote,  :
    not all columns named in 'colClasses' exist
 2: In tmp[i[i &gt; 0L]] &lt;- colClasses :
    number of items to replace is not a multiple of replacement length
</code></pre>

<p>Derek</p>
","296564","","2125442","","2015-01-11 16:35:42","2018-11-02 17:35:21","Specifying colClasses in the read.csv","<r><csv><read.csv>","7","0","36","","","CC BY-SA 3.0","2805357","4452","4452","r","404559","3625322","3607736","",""
"2805885","1","2806063","","2010-05-10 19:42:10","","10","5495","<p>From the documentation for ggplot2's <a href=""https://web.archive.org/web/20120915004110/http://had.co.nz:80/ggplot2/geom_tile.html"" rel=""nofollow noreferrer"">geom_tile()</a> function, we have the following simple plot:
<a href=""https://i.stack.imgur.com/XWxwU.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/XWxwU.png"" alt=""alt text""></a></p>

<pre><code># Generate data 
pp &lt;- function (n,r=4) { 
    x &lt;- seq(-r*pi, r*pi, len=n) 
    df &lt;- expand.grid(x=x, y=x) 
    df$r &lt;- sqrt(df$x^2 + df$y^2) 
    df$z &lt;- cos(df$r^2)*exp(-df$r/6) 
    df 
} 
p &lt;- ggplot(pp(20), aes(x=x,y=y)) 

p + geom_tile()
</code></pre>

<p>How do I remove the margins that border the tile?  I have dug through this <a href=""https://web.archive.org/web/20120803015755/http://had.co.nz:80/ggplot2/book/polishing.r"" rel=""nofollow noreferrer"">script on polishing plots</a> for some hints to no avail.  I have found how to remove the background panels using opts(panel.background=theme_blank()), but not how to change the margin size.</p>
","84458","","4751173","","2019-07-26 01:06:19","2019-07-26 01:06:19","Margin adjustments when using ggplot's geom_tile()","<r><ggplot2>","1","0","3","","","CC BY-SA 4.0","2805885","4452","4452","r","404559","3625322","3607736","",""
"2806389","1","5147354","","2010-05-10 20:53:46","","0","659","<p>Trying to install <code>rattle</code> on a windows server 2008 R2 64bit machine, using 64-bit R ver2.11, I got the following message:</p>

<pre><code>install.packages(""rattle"", dependencies=TRUE)
Warning: dependencies RGtk2, rggobi, RSvgDevice, Biobase, multicore, marray, affy, snowFT, Rmpi, rpvm are not available
</code></pre>

<p>When I tried to install one of them:</p>

<pre><code>install.packages(""RGtk2"")
Warning message:
In getDependencies(pkgs, dependencies, available, lib) :
  package RGtk2 is not available
</code></pre>

<p>Finally I noticed <a href=""http://www.cran.r-project.org/bin/windows64/contrib/2.11/@ReadMe"" rel=""nofollow noreferrer"">this</a> and <a href=""http://cran.at.r-project.org/bin/windows/base/rw-FAQ.html#Can-I-use-R-on-64_002dbit-Windows_003f"" rel=""nofollow noreferrer"">this</a>. Should I go back to 32-bit R in order to use rattle?</p>

<p>Thank you</p>
","170792","","","","","2011-02-28 20:43:44","Can I use rattle on 64-bit R?","<r><64-bit><packages><data-mining>","2","0","","","","CC BY-SA 2.5","2806389","4452","4452","r","404559","3625322","3607736","",""
"2807060","1","2807122","","2010-05-10 23:13:00","","23","42589","<p>i'm running the following:</p>

<pre><code>png(filename=""figure.png"", width=900, bg=""white"")
barplot(c(1.1, 0.8, 0.7), horiz=TRUE, border=""blue"", axes=FALSE, col=""darkblue"")
axis(2, at=1:3, lab=c(""elephant"", ""hippo"", ""snorkel""), las=1, cex.axis=1.3)
dev.off()
</code></pre>

<p>and the labels on the left are appearing off the page. I can't seem to figure out how to fix it. Any ideas?</p>

<p>Thanks.</p>
","314083","","","","","2020-07-21 01:47:21","R is plotting labels off the page","<r><plot>","1","0","8","","","CC BY-SA 2.5","2807060","4452","4452","r","404559","3625322","3607736","",""
"2814311","1","2814343","","2010-05-11 20:45:26","","4","2935","<p>Is there a way to concatenate the row and column names from an existing data.frame into a new data frame.  For example, I have column names of (A, B, C) and row names of (1, 2, 3) and I would like to combine these into a 3x3 matrix [A1, B1, C1; A2, B2, C2; A2, B2, C2].  Thanks for your help</p>
","338714","","","","","2010-05-11 20:51:13","Concatenate Row and Column names from Data.Frame","<r>","1","0","2","","","CC BY-SA 2.5","2814311","4452","4452","r","404559","3625322","3607736","",""
"2814563","1","","","2010-05-11 21:24:34","","1","2988","<p>I have a rather large dataset in a long format where I need to count the number of instances of the ID due to two different variables, A &amp; B. E.g. The same person can be represented in multiple rows due to either A or B. What I need to do is to count the number of instances of ID which is not too hard, but also count the number of ID due to A and B and return these as variables in the dataset. </p>

<p>Regards,</p>

<p>//Mi</p>
","338745","","21234","","2010-05-11 21:25:25","2010-05-11 22:53:45","aggregate over several variables in r","<r><aggregate><reshape>","3","2","","","","CC BY-SA 2.5","2814563","4452","4452","r","404559","3625322","3607736","",""
"2819391","1","","","2010-05-12 13:50:41","","3","2638","<p>I'm running R 2.11 64-bit on a WinXP64 machine with 8 processors. With R 2.10.1 the following code spawned 6 R processes for parallel processing:</p>

<pre><code>
require(foreach)
require(doSNOW)
cl = makeCluster(6, type='SOCK')
registerDoSNOW(cl)
bl2 = foreach(i=icount(length(unqmrno))) %dopar% {
    (Some code here)
}
stopCluster(cl)
</code></pre>

<p>When I run the same code in R 2.11 Win64, the 6 R processes are not spawning, and the code hangs. I'm wondering if this is a problem with the port of SNOW to 2.11-64bit, or if any additional code is required on my part. Thanks</p>

<p>BTW, this works just fine on my multicore machine at home running Ubuntu Karmic 64-bit and R 2.11. Unfortunately I have to work on Win64 at work</p>
","164965","","","","","2011-09-04 02:09:59","Parallel processing in R 2.11 Windows 64-bit using SNOW not quite working","<r><parallel-processing>","2","6","1","","","CC BY-SA 2.5","2819391","4452","4452","r","404559","3625322","3607736","",""
"2819621","1","2820326","","2010-05-12 14:18:15","","0","978","<p>I am trying to use xts as much as possible in my time series work as it seems to be the suggested way of doing things. However, I have getting a strange error.</p>

<p>CPI.NSA and INT are xts objects.</p>

<pre><code>library(dynlm)
CPI.NSA.x &lt;- CPI.NSA[dr1]
INT.x &lt;- INT[dr1]

CPI.NSA.z &lt;- as.zoo(CPI.NSA.x)
INT.z &lt;- as.zoo(INT.x)

&gt; dynlm(CPI.NSA.z ~ INT.z + L(CPI.NSA.z, 1))

Time series regression with ""zoo"" data:
Start = 1953-02-01, End = 1971-06-01

Call:
dynlm(formula = CPI.NSA.z ~ INT.z + L(CPI.NSA.z, 1))

Coefficients:
    (Intercept)            INT.z  L(CPI.NSA.z, 1)  
     -0.0006795        1.0440174       -0.0869050  


&gt; dynlm(CPI.NSA.x ~ INT.x + L(CPI.NSA.x, 1))
Error in `[.xts`(a, match0(indexes, attr(a, ""index"")), , drop = FALSE) : 
  i is out of range
</code></pre>

<p>It was my understanding that whenever I have a function that takes zoo, I can pass it an xts and it should just work, but clearly that is not the case here.</p>

<p>What's going on?</p>

<p>Thanks for the help.</p>
","318976","","271616","","2011-08-13 17:51:38","2011-08-13 17:51:38","xts problem with dynlm","<r><statistics><xts><zoo>","2","0","","","","CC BY-SA 2.5","2819621","4452","4452","r","404559","3625322","3607736","",""
"2820256","1","","","2010-05-12 15:25:32","","8","1113","<p>I'm writing a program in .NET that will need to utilize the statistical and data analysis functions of R or MATLAB. I have used R but am now contemplating moving to MATLAB since it has a .Net compiler while R can only interface via COM objects. Can anyone recommend going either way? I know MATLAB is infinitely more expensive than R (since R is free) but I'm thinking that may translate to an easier development cycle?</p>
","339466","","953348","","2012-07-24 15:59:30","2013-09-27 19:29:12",".NET coupled with MATLAB or R?","<.net><r><matlab><interop>","4","1","2","","","CC BY-SA 2.5","2820256","4452","4452","r","404559","3625322","3607736","",""
"2821772","1","","","2010-05-12 18:43:13","","5","2394","<p>We are working on a web based application (implemented in JAVA) on commodity prices and one part of it is interactive charting. I provide a simplified example here. We have a table in Mysql database where we have information on commodity prices in US states and counties. One aspect of the application is to create interactive plots based on user choice. For example, if the user needs to see the price density in Oregon and Linn county then she chooses it from the menu in a webpage and it is rendered on fly with accompanying quantile information in a table. As the user changes state and county these plots and table change on fly.For our computational need we are using R (and use rjava to integrate it to our web application) and I know that if interactivity is not an issue this is a piece of cake in ggplot2, but I am not aware of any interactive version of R graphics framework (like lattice, ggplot2). We are exploring google visualization API but I am not sure we can have the  statistical power we need in some of the plots.Please help.</p>
","227290","","","","","2010-05-14 01:55:31","Interactive Charts for web application","<java><r>","3","0","4","","","CC BY-SA 2.5","2821772","4452","4452","r","404559","3625322","3607736","",""
"2821857","1","2831559","","2010-05-12 18:53:25","","2","3545","<p>Here's a plot:</p>

<pre><code>library(ggplot2)
ggplot(mtcars, aes(x = factor(cyl), y = hp, group = factor(am), color = factor(am))) +
    stat_smooth(fun.data = ""mean_cl_boot"", geom = ""pointrange"") +
    stat_smooth(fun.data = ""mean_cl_boot"", geom = ""line"") +
    geom_hline(yintercept = 130, color = ""red"") +
    annotate(""text"", label = ""130 hp"", x = .22, y = 135, size = 4)
</code></pre>

<p>I've been experimenting with labeling the geom_hline in a few different ways, each of which does something I want but has a problem that the other methods don't have.  <code>annotate()</code>, used above, is nice - the text is resizeable, black, and easy to position.  But it can only be placed within the plot itself, not outside the plot like the axis labels.  It also makes an ""a"" appear in the legend, which I can't dismiss with <code>legend = FALSE</code>.</p>

<p><code>legend = FALSE</code> works with <code>geom_text</code>, but I can't get geom_text to just be black - it seems to be getting tangled up in the line colorings.</p>

<p><code>grid.text</code> lets me put the text anywhere I want, but I can't seem to resize it.</p>

<p>I can definitely accept the text being inside of the plot area, but I'd like to keep the legend clean.  I feel like I'm missing something simple, but I'm just fried.  Thanks in advance for your consideration.</p>
","143319","","","","","2010-05-14 02:43:37","What's the best way to annotate this ggplot2 plot? [R]","<r><annotations><plot><ggplot2>","2","3","","","","CC BY-SA 2.5","2821857","4452","4452","r","404559","3625322","3607736","",""
"2821937","1","2823171","","2010-05-12 19:07:00","","9","14757","<p>I'm trying to repeat the elements of vector a, b number of times. That is, a=""abc"" should be ""aabbcc"" if y = 2.</p>

<p>Why doesn't either of the following code examples work?</p>

<pre><code>sapply(a, function (x) rep(x,b))
</code></pre>

<p>and from the plyr package,</p>

<pre><code>aaply(a, function (x) rep(x,b))
</code></pre>

<p>I know I'm missing something very obvious ...</p>
","170408","","","","","2020-06-09 04:38:07","Repeat elements of vector in R","<r><plyr>","3","0","1","","","CC BY-SA 2.5","2821937","4452","4452","r","404559","3625322","3607736","",""
"2822156","1","2823526","","2010-05-12 19:35:01","","9","8514","<pre><code>a.2&lt;-sample(1:10,100,replace=T)
b.2&lt;-sample(1:100,100,replace=T)
a.3&lt;-data.frame(a.2,b.2)

r&lt;-sapply(split(a.3,a.2),function(x) which.max(x$b.2))

a.3[r,]
</code></pre>

<p>returns the list index, not the index for the entire data.frame</p>

<p>Im trying to return the largest value of <code>b.2</code> for each subgroup of <code>a.2</code>. How can I do this efficiently?</p>
","338745","","21234","","2010-05-12 22:18:12","2017-05-04 14:26:21","select rows with largest value of variable within a group in r","<r><groupwise-maximum>","6","1","4","","","CC BY-SA 2.5","2822156","4452","4452","r","404559","3625322","3607736","",""
"2822532","1","2823176","","2010-05-12 20:31:26","","11","7615","<p>Suppose I'm messing about with some data by binding vectors together, as I'm wont to do on a lazy sunday afternoon.</p>

<pre><code>    x &lt;- rnorm(25, mean = 65, sd = 10)
    y &lt;- rnorm(25, mean = 75, sd = 7)
    z &lt;- 1:25

    dd &lt;- data.frame(mscore = x, vscore = y, caseid = z)
</code></pre>

<p>I've now got my new dataframe <code>dd</code>, which is wonderful. But there's also still the detritus from my prior slicings and dicings:</p>

<pre><code>    &gt; ls()
    [1] ""dd""        ""x""          ""y""          ""z""         
</code></pre>

<p>What's a simple way to clean up my workspace if I no longer need my ""source"" columns, but I want to keep the dataframe? That is, now that I'm done manipulating data I'd like to just have <code>dd</code> and none of the smaller variables that might inadvertently mask further analysis:</p>

<pre><code>    &gt; ls()
    [1] ""dd""
</code></pre>

<p>I feel like the solution must be of the form <code>rm(ls[ -(dd) ])</code> or something, but I can't quite figure out how to say ""please clean up everything BUT the following objects.""</p>
","180626","","","","","2010-05-12 22:20:32","How can I neatly clean my R workspace while preserving certain objects?","<r><statistics>","3","0","7","","","CC BY-SA 2.5","2822532","4452","4452","r","404559","3625322","3607736","",""
"2823054","1","2823117","","2010-05-12 21:57:49","","2","2208","<p>I'm having trouble with what I think is a basic R task.</p>

<p>Here's my sample dataframe named 'b'</p>

<pre><code>Winner Color Size
Tom Yellow Med
Jerry Yellow Lar
Jane Blue Med
</code></pre>

<p>where items in the Winner column are factors.</p>

<p>I'm trying to change ""Tom"" in the dataframe to ""Tom LLC"" and I can't get it done.</p>

<p>Here's what I tried:</p>

<p>Simple way:
<code>b$winner[b$winner=='Tom'] = as.factor('Tom LLC')</code></p>

<p>but that failed with ""invalid factor level, NAs generated""</p>

<p>Next I tried a more advanced route:</p>

<pre><code>name_reset = function (x, y, z) {
if (x$winner == y) {x$winner = z}
}

b = adply(b,1,name_reset,'Tom','Tom LLC')
</code></pre>

<p>but that failed with ""Error in list_to_dataframe(res, attr(.data, ""split_labels"")) : 
  Results are not equal lengths""</p>

<p>I feel I'm missing something basic. Can someone redirect me or offer suggestions on the code I wrote above? Thank you very much</p>
","236497","","","","","2010-05-12 22:12:53","How to mutate rows of data frame - replacing one value with another","<r>","2","0","2","","","CC BY-SA 2.5","2823054","4452","4452","r","404559","3625322","3607736","",""
"2824819","1","2825001","","2010-05-13 06:30:31","","0","463","<p>I'm trying to create an empty list which will have as many elements as there are <code>num.of.walkers</code>. I then try to append, to each created element, a new sub-list (length of new sub-list corresponds to a value in <code>a</code>.</p>

<p>When I fiddle around in R everything goes smooth:</p>

<pre><code>list.of.dist[[1]] &lt;- vector(""list"", a[1])
list.of.dist[[2]] &lt;- vector(""list"", a[2])
list.of.dist[[3]] &lt;- vector(""list"", a[3])
list.of.dist[[4]] &lt;- vector(""list"", a[4])
</code></pre>

<p>I then try to write a function. Here is my feeble attempt that results in an error. Can someone chip in what am I doing wrong?</p>

<pre><code>countNumberOfWalks &lt;- function(walk.df) {
    list.of.walkers &lt;- sort(unique(walk.df$label))
    num.of.walkers &lt;- length(unique(walk.df$label))

    #Pre-allocate objects for further manipulation
    list.of.dist &lt;- vector(""list"", num.of.walkers)
    a &lt;- c()

    # Count the number of walks per walker.
    for (i in list.of.walkers) {
        a[i] &lt;- nrow(walk.df[walk.df$label == i,])
    }
    a &lt;- as.vector(a)

    # Add a sublist (length = number of walks) for each walker.
    for (i in i:num.of.walkers) {
        list.of.dist[[i]] &lt;- vector(""list"", a[i])
    }
    return(list.of.dist)
}

&gt; num.of.walks.per.walker &lt;- countNumberOfWalks(walk.df)
Error in vector(""list"", a[i]) : vector size cannot be NA
</code></pre>
","322912","","","","","2010-05-13 09:36:34","trying to append a list, but something breaks","<list><r>","1","0","1","","","CC BY-SA 2.5","2824819","4452","4452","r","404559","3625322","3607736","",""
"2824965","1","2825042","","2010-05-13 07:05:34","","10","10480","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/14260340/function-to-clear-the-console-in-r"">Function to Clear the Console in R</a>  </p>
</blockquote>



<p>Is there a way to invoke the Clear Console (<kbd>Ctrl</kbd>+<kbd>L</kbd>) menu command programmatically?</p>
","299077","","3924118","","2018-03-16 23:21:47","2018-03-16 23:21:47","Clear R Console programmatically","<windows><r>","3","1","4","2013-02-04 01:00:09","","CC BY-SA 3.0","2824965","4452","4452","r","404559","3625322","3607736","",""
"2827043","1","2827078","","2010-05-13 13:17:14","","1","408","<p>I have a list of files and I'm trying to extract all layer1_*.grd files. Is there a way of doing this in one grep expression?</p>

<pre><code>lof &lt;- c(""layer1_1.grd"", ""layer1_1.gri"", ""layer1_2.grd"", ""layer1_2.gri"", 
""layer1_3.grd"", ""layer1_3.gri"", ""layer1_4.grd"", ""layer1_4.gri"", 
""layer1_5.grd"", ""layer1_5.gri"", ""layer2_1.grd"", ""layer2_1.gri"", 
""layer2_2.grd"", ""layer2_2.gri"", ""layer2_3.grd"", ""layer2_3.gri"", 
""layer2_4.grd"", ""layer2_4.gri"", ""layer2_5.grd"", ""layer2_5.gri"", 
""layer3_1.grd"", ""layer3_1.gri"", ""layer3_2.grd"", ""layer3_2.gri"", 
""layer3_3.grd"", ""layer3_3.gri"", ""layer3_4.grd"", ""layer3_4.gri"", 
""layer3_5.grd"", ""layer3_5.gri"", ""layer4_1.grd"", ""layer4_1.gri"", 
""layer4_2.grd"", ""layer4_2.gri"", ""layer4_3.grd"", ""layer4_3.gri"", 
""layer4_4.grd"", ""layer4_4.gri"", ""layer4_5.grd"", ""layer4_5.gri"")
</code></pre>

<p>I tried doing this in two steps:</p>

<pre><code>list.of.files &lt;- list.files(pattern = c(""1_""))
list.of.files &lt;- list.of.files[grep("".grd"", list.of.files)]
</code></pre>

<p>Can someone enlighten me how to do this with grep in one step? I naively tried passing list() and c() to the grep but, as you can imagine, it doesn't work.</p>

<pre><code>list.of.files &lt;- list.files()
list.of.files &lt;- list.of.files[grep(list(""1_"", "".grd""), list.of.files)]
</code></pre>
","322912","","10248678","","2020-08-04 18:59:14","2020-08-04 18:59:14","trying to prune down a list of files","<r><regex>","2","0","","","","CC BY-SA 2.5","2827043","4452","4452","r","404559","3625322","3607736","",""
"2829302","1","2831370","","2010-05-13 18:30:19","","7","3426","<p>I've been struggling for a week now trying to figure out how to generate reports in R using either Sweave or Brew. I should say right at the beginning that I have never used Tex before but I understand the logic of it.</p>

<p>I have read <a href=""http://learnr.wordpress.com/2009/09/09/brew-creating-repetitive-reports/"" rel=""nofollow noreferrer"">this</a> document several times. However, I cannot even get a simple example to parse. Brew successfully converts a simple markup file (just a title and some text) to a .tex file (no error). But it never ever converts tex to a pdf.</p>

<pre><code>&gt; library(tools)
&gt; library(brew)
&gt; brew(""population.brew"", ""population.tex"")
&gt; texi2dvi(""population.tex"", pdf = TRUE)
</code></pre>

<p>The last step always fails with:</p>

<pre><code>  Error in texi2dvi(""population.tex"", pdf = TRUE) : 
  Running 'texi2dvi' on 'population.tex' failed.
</code></pre>

<p>What am I doing wrong? </p>

<p>The report I am trying to build is fairly simple. I have 157 different analysis to summarize. Each one has 4 plots, 1 table and a summary. I just want </p>

<pre><code>output plot 1,2,3,4
output table
\pagebreak
...
</code></pre>

<p>that's it. Can anyone help me get further? I use osx, don't have Tex installed.</p>

<p>thanks</p>
","313163","","102937","","2013-04-03 14:49:22","2013-04-03 14:49:22","How do I generate reports in R without texi2dvi or TeX installed?","<r>","6","0","3","","","CC BY-SA 3.0","2829302","4452","4452","r","404559","3625322","3607736","",""
"2831319","1","2831632","","2010-05-14 01:29:23","","3","4764","<p>I'd like to melt the <code>dataframe</code> so that in one column I have dates and in a second I have username as the variable and finally the value.</p>

<p>I'm getting this error:</p>

<blockquote>
  <p>Error in as.Date.numeric(value) : 'origin' must be supplied</p>
</blockquote>

<p>and while I understand the error I'm not exactly sure how to get around it.</p>

<p>A small sample of the data is:</p>

<pre><code>structure(list(created_at = structure(c(14007, 14008, 14009, 
14010, 14011, 14012), class = ""Date""), benjamin = c(16, 0, 0, 
0, 0, 0), byron = c(0, 0, 0, 0, 0, 0), cameronc = c(0, 0, 0, 
0, 0, 0), daniel = c(0, 0, 0, 0, 0, 0), djdiaz = c(0, 0, 0, 0, 
0, 0), gene = c(16, 77, 64, 38, 72, 36), joel = c(0, 0, 0, 0, 
0, 2), kerem = c(0, 0, 0, 0, 0, 0), sophia = c(0, 0, 0, 0, 0, 
0), SuperMoonMan = c(0, 0, 0, 0, 0, 0)), .Names = c(""created_at"", 
""benjamin"", ""byron"", ""cameronc"", ""daniel"", ""djdiaz"", ""gene"", 
""joel"", ""kerem"", ""sophia"", ""SuperMoonMan""), row.names = c(NA, 
6L), class = c(""cast_df"", ""data.frame""))
</code></pre>

<p>Thanks for your help.</p>
","142879","","2682264","","2018-06-06 13:29:05","2018-06-06 13:29:05","I am getting an error when trying to use melt() on a dataframe containing Dates","<r><reshape><melt>","2","0","","","","CC BY-SA 4.0","2831319","4452","4452","r","404559","3625322","3607736","",""
"2831346","1","2831376","","2010-05-14 01:37:32","","3","694","<p>After reading <a href=""https://stackoverflow.com/questions/2822532/how-can-i-neatly-clean-my-r-workspace-while-preserving-certain-objects"">this question</a> I attempted to clean out my workspace and found that each time I opened R all the original items I had recently removed were restored.  I then checked .RData and found that it had not been modified in a few weeks even though I repeatedly saved the workspace image.  How often is .RData updated and how can I change when .RData is updated so that it reflects more recent changes?</p>
","163809","","-1","","2017-05-23 10:24:36","2012-05-10 06:39:12","How can I update .RData?","<r><workflow><rdata>","1","1","","","","CC BY-SA 2.5","2831346","4452","4452","r","404559","3625322","3607736","",""
"2832385","1","","","2010-05-14 07:02:05","","29","92783","<p>Would like to change the date format. My data frame is shown below and would like to change all the date formats to <code>""%d/%m/%Y""</code>.</p>

<p>df:</p>

<pre><code>id    bdate       wdate        ddate
1   09/09/09    12/10/09     2009-09-27
</code></pre>
","340966","","680068","","2017-07-10 09:57:18","2017-07-10 09:57:18","Changing date format to ""%d/%m/%Y""","<date><r><formatting>","3","2","7","","","CC BY-SA 3.0","2832385","4452","4452","r","404559","3625322","3607736","",""
"2835375","1","2835414","","2010-05-14 15:29:07","","0","336","<p>If you find a bug in a package, it's usually possible to patch the problem with <code>fixInNamespace</code>, e.g. <code>fixInNamespace(""mean.default"", ""base"")</code>.</p>

<p>For S4 methods, I'm not sure how to do it though.  The method I'm looking at is in the <code>gWidgetstcltk</code> package.  You can see the source code with</p>

<pre><code>getMethod("".svalue"", c(""gTabletcltk"", ""guiWidgetsToolkittcltk""))
</code></pre>

<p>I can't find the methods with <code>fixInNamespace</code>.</p>

<pre><code>fixInNamespace("".svalue"", ""gWidgetstcltk"")

Error in get(subx, envir = ns, inherits = FALSE) : 
  object '.svalue' not found
</code></pre>

<p>I thought <code>setMethod</code> might do the trick, but</p>

<pre><code>setMethod("".svalue"", c(""gTabletcltk"", ""guiWidgetsToolkittcltk""),
  definition = function (obj, toolkit, index = NULL, drop = NULL, ...) 
  {
      widget = getWidget(obj)
      sel &lt;- unlist(strsplit(tclvalue(tcl(widget, ""selection"")), 
          "" ""))
      if (length(sel) == 0) {
          return(NA)
      }
      theChildren &lt;- .allChildren(widget)
      indices &lt;- sapply(sel, function(i) match(i, theChildren))
      inds &lt;- which(visible(obj))[indices]
      if (!is.null(index) &amp;&amp; index == TRUE) {
          return(inds)
      }
      if (missing(drop) || is.null(drop)) 
          drop = TRUE
      chosencol &lt;- tag(obj, ""chosencol"")
      if (drop) 
          return(obj[inds, chosencol, drop = drop])
      else return(obj[inds, ])
  },
  where = ""package:gWidgetstcltk""  
)

Error in setMethod("".svalue"", c(""gTabletcltk"", ""guiWidgetsToolkittcltk""),  : 
  the environment ""gWidgetstcltk"" is locked; cannot assign methods for function "".svalue""
</code></pre>

<p>Any ideas?</p>
","134830","","636656","","2012-10-03 19:26:15","2012-10-03 19:26:15","How to patch an S4 method in an R package?","<r><s4><gwidgets>","1","2","","","","CC BY-SA 2.5","2835375","4452","4452","r","404559","3625322","3607736","",""
"2836513","1","2836604","","2010-05-14 18:10:35","","31","45321","<p>I'm sure this is an easy problem, but my google / help foo has failed me, so it's up to you.</p>

<p>I have an R script that generates several plots, and I want to view all the plots on screen at once (in separate windows), but I can't work out how to open multiple graphics windows.  I'm using ggplot2, but I feel this is a more basic problem, so I'm just using base grapics for this simple example</p>

<pre><code>x&lt;-c(1:10)
y&lt;-sin(x)
z&lt;-cos(x)
dev.new()
plot(y=y,x=x)
dev.off()
dev.new()
plot(x=x,y=z) 
</code></pre>

<p>But this doesn't work.  I'm on Windows if this matters (Windows + Eclipse + StatEt)</p>
","74658","","1033581","","2017-01-29 09:00:08","2017-01-29 09:00:08","How to create plots in multiple windows and keep them separate in R","<graphics><r>","3","1","10","","","CC BY-SA 3.0","2836513","4452","4452","r","404559","3625322","3607736","",""
"2837850","1","2840198","","2010-05-14 21:50:21","","23","14187","<p>I have a regression model in which the dependent variable is continuous but ninety percent of the independent variables are categorical(both ordered and unordered) and around thirty percent of the records have missing values(to make matters worse they are missing randomly without any pattern, that is, more that forty five percent of the data hava at least one missing value). There is no a priori theory to choose the specification of the model so one of the key tasks is dimension reduction before running the regression. While I am aware of several methods for dimension reduction for continuous variables I am not aware of a similar statical literature for categorical data (except, perhaps, as a part of correspondence analysis which is basically a variation of principal component analysis on frequency table). Let me also add that the dataset is of moderate size 500000 observations with 200 variables. I have two questions.</p>

<ol>
<li>Is there a good statistical reference out there for dimension reduction for categorical data along with robust imputation (I think the first issue is imputation and then dimension reduction)?</li>
<li>This is linked to implementation of above problem. I have used R extensively earlier and tend to use transcan and impute function heavily for continuous variables and use a variation of tree method to impute categorical values. I have a working knowledge of Python so if something is nice out there for this purpose then I will use it. Any implementation pointers in python or R will be of great help.
Thank you.</li>
</ol>
","227290","","","","","2020-12-18 17:07:46","Dimension Reduction in Categorical Data with missing values","<python><r><statistics>","2","0","17","","","CC BY-SA 2.5","2837850","4452","4452","r","404559","3625322","3607736","",""
"2840704","1","2840907","","2010-05-15 15:49:10","","1","5262","<p>I have a various data.frames with columns of the same length where I am trying to multiple 2 rows together element-wise and then sum this up. For example, below are two vectors I would like to perform this operation with.  </p>

<pre><code>&gt; a.1[186,]
q01_a q01_b q01_c q01_d q01_e q01_f q01_g q01_h q01_i q01_j q01_k q01_l q01_m
    3     3     3     3     2     2     2     3     1    NA    NA     2     2
</code></pre>

<p>and </p>

<pre><code>&gt; u.1[186,]
q04_avl_a q04_avl_b q04_avl_c q04_avl_d q04_avl_e q04_avl_f q04_avl_g q04_avl_h q04_avl_i q04_avl_j q04_avl_k q04_avl_l q04_avl_m        
        4         2         3         4         3         4         4         4         3         4         3         3         3`
</code></pre>

<p>The issue is that various rows have varying numbers of NA's. What I would like to do is skip the multiplication with any missing values ( the 10th and 11th position from my above example), and then after the addition divide by the number of elements that were multiplied (11 from the above example). Most rows are complete and would just be multiplied by 13. </p>

<p>Thank you!</p>
","335897","","","","","2010-05-15 17:51:46","Question with R. Element wise multiplication, addition, and division with 2 data.frames with varying amounts of missing data in a given row","<r><statistics><addition>","2","0","1","","","CC BY-SA 2.5","2840704","4452","4452","r","404559","3625322","3607736","",""
"2842120","1","2842168","","2010-05-15 23:46:18","","3","1883","<p>This is a newbie question in R. If you have two libraries in R with same function name (and one masking the other) then how do you use the masked function.
A concrete example:
Both UsingR and QRMlib have the function QQPlot(), and UsingR's QQplot is masking that of QRMlib. How can I use the QQplot function of QRMlib.
Thank you</p>

<p>Addition: Just found out that QRMlib::QQplot() works, thus modifying the question that I found in the web. What if they don't have a namespace in which case the above approach will not work.
Link to the original question posed in google:
<a href=""https://stat.ethz.ch/pipermail/r-help/2005-March/067710.html"" rel=""nofollow noreferrer"">https://stat.ethz.ch/pipermail/r-help/2005-March/067710.html</a></p>
","227290","","227290","","2010-05-16 00:18:30","2010-05-16 00:18:30","Masked functions in R","<r>","1","0","","2017-11-14 18:58:59","","CC BY-SA 2.5","2842120","4452","4452","r","404559","3625322","3607736","",""
"2842579","1","3837870","","2010-05-16 04:20:12","","25","5634","<p>Is there an equivalent to the unix <code>less</code> command that can be used within the R console?</p>
","103225","","207421","","2011-08-08 01:25:25","2013-06-25 15:50:04","Equivalent to unix ""less"" command within R console","<r><shell>","5","2","5","","","CC BY-SA 2.5","2842579","4452","4452","r","404559","3625322","3607736","",""
"2844443","1","2844660","","2010-05-16 16:12:51","","2","553","<p>Any ideas how to do ""scruffy"" bar and scatter plots (like <a href=""http://yuml.me/diagram/scruffy/class/draw"" rel=""nofollow noreferrer"">yuml</a>) in R?</p>
","216064","","216064","","2010-05-16 16:21:58","2010-05-16 17:12:21","How to draw scruffy diagrams in R?","<r><plot>","1","0","","","","CC BY-SA 2.5","2844443","4452","4452","r","404559","3625322","3607736","",""
"2844669","1","2844687","","2010-05-16 17:15:35","","1","690","<p>I would like to create a new dataset where the following four conditions are all met. </p>

<pre><code>rowSums(is.na(UNCA[,11:23]))&lt;12

rowSums(is.na(UNCA[,27:39]))&lt;12

rowSums(is.na(UNCA[,40:52]))&lt;12

rowSums(is.na(UNCA[,53:65]))&lt;12
</code></pre>

<p>Thanks!</p>
","335897","","","","","2010-05-16 17:20:15","R question. Create new data set that meets all of 4 conditions","<r><statistics><conditional><dataframe>","1","2","","","","CC BY-SA 2.5","2844669","4452","4452","r","404559","3625322","3607736","",""
"2845219","1","2953279","","2010-05-16 19:52:00","","1","507","<p>I want to examine a NMR spectre and make the best fit of a specific peak using a sum of gaussians. With the following code it is possible to fit two gaussians to the peak, but can it easily be generalized to n gaussians?</p>

<pre><code>freq &lt;- seq(100, 200, 0.1)
signal &lt;- 3.5*exp(-(freq-130)^2/50) + 0.2 + 1.5*exp(-(freq-120)^2/10)
simsignal &lt;- rpois(length(signal), 100*signal) + rnorm(length(signal))
plot(freq, simsignal)
res &lt;- nls(simsignal ~ bg + h1 * exp(-((freq - m1)/s1)^2) + h2 * exp(-((freq - m2)/s2)^2),
start=c(bg = 4, h1 = 300, m1 = 128, s1 = 6, h2 = 200, m2 = 122, s2 = 4), trace=T)
lines(freq, predict(res, freq), col='red')
</code></pre>

<p>Another wish is a visulization of the contribution from each of the gaussians to the original peak, eg. the gaussians should be plotted side by side (instead of plotting their sum as done above).</p>
","185475","","","","","2014-06-02 23:37:54","Peak decomposition","<r>","1","0","2","","","CC BY-SA 2.5","2845219","4452","4452","r","404559","3625322","3607736","",""
"2845431","1","2845477","","2010-05-16 20:54:32","","0","1132","<p>Currently, on my R 2.10.1 installation on Windows XP,</p>

<pre><code>capabilities()[""cairo""]
</code></pre>

<p>returns False. Loading the package cairoDevice fails with the message ""LoadLibrary failure"" however the shared library ""C:/Programme/R/R-2.10.1/library/cairoDevice/libs/cairoDevice.dll"" is there. Any ideas how I can make cairo work on windows?</p>
","216064","","","","","2010-05-16 21:18:44","Can I use cairoDevice in R under Windows?","<r><cairo>","1","0","","","","CC BY-SA 2.5","2845431","4452","4452","r","404559","3625322","3607736","",""
"2849657","1","","","2010-05-17 14:04:47","","5","320","<p>When editing an Rnw file in Emacs, I often want to make the region cover a chunk of text that contains an R chunk. For a simple example, </p>

<pre><code>ewr
&lt;&lt;&gt;&gt;=
@ 
wer
</code></pre>

<p>I use transient-mark-mode such that the region is highlighted. But, if I put the point on the first line and hit C-SPC, then use C-n to move the point down, the highlighting disappears when I try to advance the point past the &lt;&lt;. The region I want is still selected, but highlighting seems to fail when crossing the &lt;&lt;. How can I fix this?</p>

<p>Thanks and best regards</p>
","318976","","","","","2015-06-12 11:38:24","emacs editing Rnw keep region highlighted when highlighting R chunk","<emacs><r><sweave>","3","0","1","","","CC BY-SA 2.5","2849657","4452","4452","r","404559","3625322","3607736","",""
"2851015","1","2851213","","2010-05-17 16:52:02","","372","666914","<p>I have a data frame. Let's call him <code>bob</code>:</p>

<pre><code>&gt; head(bob)
                 phenotype                         exclusion
GSM399350 3- 4- 8- 25- 44+ 11b- 11c- 19- NK1.1- Gr1- TER119-
GSM399351 3- 4- 8- 25- 44+ 11b- 11c- 19- NK1.1- Gr1- TER119-
GSM399352 3- 4- 8- 25- 44+ 11b- 11c- 19- NK1.1- Gr1- TER119-
GSM399353 3- 4- 8- 25+ 44+ 11b- 11c- 19- NK1.1- Gr1- TER119-
GSM399354 3- 4- 8- 25+ 44+ 11b- 11c- 19- NK1.1- Gr1- TER119-
GSM399355 3- 4- 8- 25+ 44+ 11b- 11c- 19- NK1.1- Gr1- TER119-
</code></pre>

<p>I'd like to concatenate the rows of this data frame (this will be another question). But look:</p>

<pre><code>&gt; class(bob$phenotype)
[1] ""factor""
</code></pre>

<p><code>Bob</code>'s columns are factors. So, for example:</p>

<pre><code>&gt; as.character(head(bob))
[1] ""c(3, 3, 3, 6, 6, 6)""       ""c(3, 3, 3, 3, 3, 3)""      
[3] ""c(29, 29, 29, 30, 30, 30)""
</code></pre>

<p>I don't begin to understand this, but I guess these are indices into the levels of the factors of the columns (of the court of king caractacus) of <code>bob</code>? Not what I need.</p>

<p>Strangely I can go through the columns of <code>bob</code> by hand, and do</p>

<pre><code>bob$phenotype &lt;- as.character(bob$phenotype)
</code></pre>

<p>which works fine. And, after some typing, I can get a data.frame whose columns are characters rather than factors. So my question is: how can I do this automatically? How do I convert a data.frame with factor columns into a data.frame with character columns without having to manually go through each column? </p>

<p>Bonus question: why does the manual approach work?</p>
","270572","","967840","","2013-01-10 22:26:57","2020-08-20 10:13:49","Convert data.frame columns from factors to characters","<r><dataframe>","18","1","152","","","CC BY-SA 3.0","2851015","4452","4452","r","404559","3625322","3607736","",""
"2851327","1","49017065","","2010-05-17 17:38:24","","402","241085","<p>I have code that at one place ends up with a list of data frames which I really want to convert to a single big data frame. </p>

<p>I got some pointers from an <a href=""https://stackoverflow.com/questions/1652522/rbind-dataframes-in-a-list-of-lists"">earlier question</a> which was trying to do something similar but more complex. </p>

<p>Here's an example of what I am starting with (this is grossly simplified for illustration):</p>

<pre><code>listOfDataFrames &lt;- vector(mode = ""list"", length = 100)

for (i in 1:100) {
    listOfDataFrames[[i]] &lt;- data.frame(a=sample(letters, 500, rep=T),
                             b=rnorm(500), c=rnorm(500))
}
</code></pre>

<p>I am currently using this:</p>

<pre><code>  df &lt;- do.call(""rbind"", listOfDataFrames)
</code></pre>
","37751","","1851712","","2021-02-24 16:53:48","2021-02-24 16:53:48","Combine a list of data frames into one data frame by row","<r><list><dataframe><r-faq>","9","4","171","","","CC BY-SA 4.0","2851327","4452","4452","r","404559","3625322","3607736","",""
"2853393","1","2854079","","2010-05-17 22:39:45","","1","908","<p>my.mat &lt;- cbind(1:5, rnorm(5), 6:10, rnorm(5))
    colnames(my.mat) &lt;- c(""Turn"", ""Draw"",""Turn"", ""Draw"")
    print(xtable(my.mat))</p>

<p>yields </p>

<pre><code>\begin{table}[ht]
\begin{center}
\begin{tabular}{rrrrr}
  \hline
 &amp; Turn &amp; Draw &amp; Turn &amp; Draw \\ 
  \hline
1 &amp; 1.00 &amp; -0.72 &amp; 6.00 &amp; 0.91 \\ 
  2 &amp; 2.00 &amp; 0.57 &amp; 7.00 &amp; 0.56 \\ 
  3 &amp; 3.00 &amp; 1.08 &amp; 8.00 &amp; 0.55 \\ 
  4 &amp; 4.00 &amp; 0.95 &amp; 9.00 &amp; 0.46 \\ 
  5 &amp; 5.00 &amp; 1.94 &amp; 10.00 &amp; 1.06 \\ 
   \hline
\end{tabular}
\end{center}
\end{table}
</code></pre>

<p>I want to filter out the \begin{table} and \end{table} lines. I can do this using gsub, but how to I get the results of print(xtable(... into a variable?</p>

<p>Thanks for the help Stack Overflow R community!</p>

<hr>

<p><strong>EDIT - Making progress</strong></p>

<p>In my .Rnw, I have</p>

<pre><code>\begin{tablehere}
{

&lt;&lt;echo=false,results=tex&gt;&gt;=
library(xtable)
my.mat &lt;- cbind(1:5, rnorm(5), 6:10, rnorm(5))
colnames(my.mat) &lt;- c(""Turn"", ""Draw"",""Turn"", ""Draw"")
#print(xtable(my.mat))

x &lt;- capture.output(print(xtable(my.mat)))
x &lt;- gsub(""\\\\begin\\{tabular\\}.*"", """", x, perl=TRUE)
x &lt;- gsub(""\\\\end\\{tabular\\}.*"", """", x, perl=TRUE)
print(x)

@ 

 }
\end{tablehere}
</code></pre>

<p>which leads to</p>

<pre><code>\begin{tablehere}
{

 [1] ""% latex table generated in R 2.9.2 by xtable 1.5-5 package""
 [2] ""% Mon May 17 20:23:09 2010""                                
 [3] ""\\begin{table}[ht]""                                        
 [4] ""\\begin{center}""                                           
 [5] """"                                                          
 [6] ""  \\hline""                                                 
 [7] "" &amp; Turn &amp; Draw &amp; Turn &amp; Draw \\\\ ""                        
 [8] ""  \\hline""                                                 
 [9] ""1 &amp; 1.00 &amp; -1.76 &amp; 6.00 &amp; 0.70 \\\\ ""                      
[10] ""  2 &amp; 2.00 &amp; 1.58 &amp; 7.00 &amp; 2.57 \\\\ ""                     
[11] ""  3 &amp; 3.00 &amp; -1.80 &amp; 8.00 &amp; 0.47 \\\\ ""                    
[12] ""  4 &amp; 4.00 &amp; -2.25 &amp; 9.00 &amp; -0.63 \\\\ ""                   
[13] ""  5 &amp; 5.00 &amp; 1.99 &amp; 10.00 &amp; -0.35 \\\\ ""                   
[14] ""   \\hline""                                                
[15] """"                                                          
[16] ""\\end{center}""                                             
[17] ""\\end{table}""                                                  
 }
\end{tablehere}
</code></pre>

<p>which is so close. How do I get R to print the right way?</p>
","318976","","318976","","2010-05-18 00:24:02","2010-05-18 01:33:36","using gsub to modify output of xtable command","<r>","2","2","","","","CC BY-SA 2.5","2853393","4452","4452","r","404559","3625322","3607736","",""
"2854513","1","2874103","","2010-05-18 04:10:35","","4","2564","<p>Does anybody aware of a package for ""piecewise linear regression"" ?</p>
","127450","","","","","2017-10-27 09:55:19","Need a R package for piecewise linear regression?","<r><statistics>","5","1","2","","","CC BY-SA 2.5","2854513","4452","4452","r","404559","3625322","3607736","",""
"2854625","1","2854707","","2010-05-18 04:47:13","","78","256054","<p>I am using R and need to select rows with aged (age of death) less than or equal to laclen (lactation length). I am trying to create a new data frame to only include rows/ids whereby the value of column'aged' is less than its corresponding 'laclength' value.</p>

<pre><code>df:
 id1   id2    laclen    aged
9830  64526    26       6 
7609  64547    28       0 
9925  64551     3       0 
9922  64551     3       5 
9916  64551     3       8 
9917  64551     3       8 
9914  64551     3       2 
</code></pre>

<p>the new data frame should look like this:</p>

<pre><code>dfnew:
id1   id2    laclen    aged
9830  64526    26       6 
7609  64547    28       0 
9925  64551     3       0 
9914  64551     3       2
</code></pre>

<p>Any help would be appreciated!</p>

<p>Bazon</p>
","340966","","13328195","","2020-10-23 09:21:36","2020-10-23 09:21:36","Select only rows if its value in a particular column is less than the value in the other column","<select><r><rows>","3","2","18","","","CC BY-SA 4.0","2854625","4452","4452","r","404559","3625322","3607736","",""
"2854820","1","2883586","","2010-05-18 05:54:56","","10","3000","<p>I think I'm just being dense, but I can't seem to figure out how to use the debugging tool while working in R in Eclipse (StatET plugin). Has anyone got any tips or tutorials on the subject?</p>
","322912","","","","","2018-09-28 05:54:04","StatET debugging tool","<eclipse><debugging><r>","3","2","3","","","CC BY-SA 2.5","2854820","4452","4452","r","404559","3625322","3607736","",""
"2856140","1","2857837","","2010-05-18 09:53:42","","2","212","<p>Excuse my ignorance, as I'm not a computer engineer but with roots in biology. I have become a great fan of pre-allocating objects (kudos to SO and R inferno by Patrick Burns) and would like to improve my coding habits. In lieu of this fact, I've been thinking about writing more efficient functions and have the following question.</p>

<p>Is there any benefits in removing variables that will be overwritten at the start of the next loop, or is this just a waste of time? For the sake of argument, let's assume that the size of old and new variables is very similar or identical.</p>
","322912","","322912","","2011-11-18 09:15:07","2011-11-18 09:15:07","tidy/efficient function writing (garbage collection) in R","<r><memory-efficient>","2","0","","","","CC BY-SA 3.0","2856140","4452","4452","r","404559","3625322","3607736","",""
"2858014","1","2858072","","2010-05-18 14:10:48","","98","145228","<p>I have trivial question: I couldn't find a dictionary data structure in R, so I used list instead (like ""word""->number)
So, right now I have problem how to get the list of keys.
Anybody knows?</p>
","211450","","202229","","2015-06-26 05:47:37","2019-08-28 16:26:37","Working with dictionaries/lists in R","<r><list><hashmap><lookup>","7","0","33","","","CC BY-SA 2.5","2858014","4452","4452","r","404559","3625322","3607736","",""
"2858212","1","2858529","","2010-05-18 14:34:06","","9","1929","<p>I have a very deep list of lists in R. Now I want to print this list to the standard output to get a better overview of the elements. It should look like the way the StatET plugin for eclipse shows a list. <br>
Example list:</p>

<pre><code>l6 = list()
l6[[""h""]] = ""one entry""
l6[[""g""]] = ""nice""
l5 = list()
l5[[""e""]] = l6
l4 = list()
l4[[""f""]] = ""test""
l4[[""d""]] = l5
l3 = list()
l3[[""c""]] = l4
l2 = list()
l2[[""b""]] = l3
l1 = list()
l1[[""a""]] = l2
</code></pre>

<p>This should print like:</p>

<pre><code>List of 1
 $ a:List of 1
  ..$ b:List of 1
  .. ..$ c:List of 2
  .. .. ..$ f: chr ""test""
  .. .. ..$ d:List of 1
  .. .. .. ..$ e:List of 2
  .. .. .. .. ..$ h: chr ""one entry""
  .. .. .. .. ..$ g: chr ""nice""
</code></pre>

<p>I know this is possible with recursion and the deepness.<br>
But is there a way to do this with the help of <code>rapply</code> or something like that?</p>

<p>Thanx in advance,<br>
Martin</p>
","295037","","","","","2010-05-18 15:09:11","How to visualize a list of lists of lists of ... in R?","<r>","1","0","","","","CC BY-SA 2.5","2858212","4452","4452","r","404559","3625322","3607736","",""
"2860314","1","2866880","","2010-05-18 19:13:35","","57","16424","<p>What are the relevant skills in the arsenal of a Data Scientist? With new technologies coming in every day, how does one pick and choose the essentials?</p>

<p>A few ideas germane to this discussion:</p>

<ul>
<li>Knowing SQL and the use of a DB such as MySQL, PostgreSQL was great till the advent of NoSql and non-relational databases. MongoDB, CouchDB etc. are becoming popular to work with web-scale data.</li>
<li>Knowing a stats tool like R is enough for analysis, but to create applications one may need to add Java, Python, and such others to the list.</li>
<li>Data now comes in the form of text, urls, multi-media to name a few, and there are different paradigms associated with their manipulation.</li>
<li>What about cluster computing, parallel computing, the cloud, Amazon EC2, Hadoop ?</li>
<li>OLS Regression now has Artificial Neural Networks, Random Forests and other relatively exotic machine learning/data mining algos. for company</li>
</ul>

<p>Thoughts?</p>
","177390","","4370109","","2015-11-05 17:01:17","2015-11-05 17:01:17","Essential skills of a Data Scientist","<r>","11","3","56","2014-09-26 21:52:54","2010-05-18 19:13:35","CC BY-SA 2.5","2860314","4452","4452","r","404559","3625322","3607736","",""
"2862312","1","2862492","","2010-05-19 01:34:21","","0","1459","<pre><code> &gt; scores=cbind(UNCA.score, A.score, B.score, U.m.A, U.m.B)

 &gt; names(scores)=c('UNCA.scores', 'A.scores', 'B.scores','UNCA.minus.A', 'UNCA.minus.B')

 &gt; names(scores)
 [1] ""UNCA.scores""  ""A.scores""     ""B.scores""     ""UNCA.minus.A"" ""UNCA.minus.B""

 &gt; summary(UNCA.scores)
  X6.69230769230769
  Min.   : 4.154   
  1st Qu.: 7.333   
  Median : 8.308   
  Mean   : 8.451   
  3rd Qu.: 9.538   
  Max.   :12.000   

&gt; is.numeric(UNCA.scores)
 [1] FALSE

&gt; is.numeric(scores[,1])
 [1] TRUE
</code></pre>

<p>My question is, what is the difference between UNCA.scores and scores[,1]? UNCA.scores is the first column in the data.frame 'scores', but they are not the same thing, since one is numeric and the other isn't. </p>

<p>If UNCA.scores is just a label here how can I make it be equivalent to 'scores[,1]?</p>

<p>Thanks! </p>
","335897","","","","","2010-05-19 04:10:35","R Question. Numeric variable vs. Non-numeric and ""names"" function","<r><statistics><numeric>","2","1","","","","CC BY-SA 2.5","2862312","4452","4452","r","404559","3625322","3607736","",""
"2864920","1","2864990","","2010-05-19 11:10:15","","0","5508","<p>For this project I am required to use an R script to simulate the effectiveness of the t-test. I must use a for loop will be used to carry out the following 2000 times:</p>

<p>Would the loop look something like this </p>

<pre><code>i &lt;- 1
for (i &lt;= 2001) { 
    x &lt;-rf(5,df1=5,df2=10)
    b &lt;- df2
    p.value &lt;-t.test(x,mu=(b/(b-2))$p.value
    i &lt;- i+1
}
</code></pre>
","344986","","324364","","2012-09-15 02:17:41","2013-10-10 07:44:45","Simulating t-test p-values using a for loop","<r><loops><statistics>","1","4","","","","CC BY-SA 3.0","2864920","4452","4452","r","404559","3625322","3607736","",""
"2870442","1","2878542","","2010-05-20 01:08:00","","1","1842","<p>I need to create a new data frame that excludes dams that appear in ""dam1"" and
""dam2"" columns on the same fosdate (fostering date). I tried <code>df &lt;- df[df$dam1!=df$dam2,]</code> but did not work. Dam1 and dam2 are factors which are the id's of mothers. </p>

<p>my df:</p>

<pre><code>fosdate      dam1     dam2
8/09/2009    2Z523    2Z523
30/10/2009   1W509    5C080
30/10/2009   1W509    5C640
30/10/2009   1W509    1W509
1/10/2009    1W311    63927
</code></pre>

<p>The new data frame that I need to get is:
dfnew:</p>

<pre><code>fosdate      dam1     dam2
30/10/2009   1W509    5C080
30/10/2009   1W509    5C640
1/10/2009    1W311    63927
</code></pre>

<p>Would appreciate any help!</p>

<p>Bazon</p>
","345634","","16623","","2010-05-20 22:11:59","2010-05-21 12:33:01","select rows with unidentical column values using R","<select><r><rows>","3","2","","","","CC BY-SA 2.5","2870442","4452","4452","r","404559","3625322","3607736","",""
"2870631","1","2870766","","2010-05-20 02:17:40","","40","136064","<p>Could someone explain to the statistically naive what the difference between <code>Multiple R-squared</code> and <code>Adjusted R-squared</code> is?  I am doing a single-variate regression analysis as follows:</p>

<pre><code> v.lm &lt;- lm(epm ~ n_days, data=v)
 print(summary(v.lm))
</code></pre>

<p>Results:</p>

<pre><code>Call:
lm(formula = epm ~ n_days, data = v)

Residuals:
    Min      1Q  Median      3Q     Max 
-693.59 -325.79   53.34  302.46  964.95 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  2550.39      92.15  27.677   &lt;2e-16 ***
n_days        -13.12       5.39  -2.433   0.0216 *  
---
Signif. codes:  0 *** 0.001 ** 0.01 * 0.05 . 0.1   1 

Residual standard error: 410.1 on 28 degrees of freedom
Multiple R-squared: 0.1746,     Adjusted R-squared: 0.1451 
F-statistic: 5.921 on 1 and 28 DF,  p-value: 0.0216 
</code></pre>
","103225","","684229","","2014-10-14 18:44:56","2021-01-07 18:53:22","What is the difference between Multiple R-squared and Adjusted R-squared in a single-variate least squares regression?","<r><statistics><regression>","4","6","16","","","CC BY-SA 3.0","2870631","4452","4452","r","404559","3625322","3607736","",""
"2871763","1","2872305","","2010-05-20 07:30:26","","9","13946","<p>..or do I have to give</p>

<pre><code>P.nk &lt;- factorial(n) / factorial(n-k)
</code></pre>

<p>or</p>

<pre><code>P.nk &lt;- choose(n,k) * factorial(k)
</code></pre>

<p>Thank you.</p>
","299077","","","","","2019-06-04 11:34:50","Is there an R function to get the number of permutations of n objects take k P(n,k)?","<r><permutation><combinations>","4","2","3","","","CC BY-SA 2.5","2871763","4452","4452","r","404559","3625322","3607736","",""
"2874667","1","2876845","","2010-05-20 14:30:20","","5","6264","<p>I have a nice list, which looks like this:</p>

<pre><code>tmp = NULL
t = NULL
tmp$resultitem$count = ""1057230""
tmp$resultitem$status = ""Ok""
tmp$resultitem$menu = ""PubMed""
tmp$resultitem$dbname = ""pubmed""
t$resultitem$count = ""305215""
t$resultitem$status = ""Ok""
t$resultitem$menu = ""PMC""
t$resultitem$dbname = ""pmc""
tmp = c(tmp, t)
t = NULL
t$resultitem$count = ""1""
t$resultitem$status = ""Ok""
t$resultitem$menu = ""Journals""
t$resultitem$dbname = ""journals""
tmp = c(tmp, t)
</code></pre>

<p>Which produces:</p>

<pre><code>> str(tmp)
List of 3
 $ resultitem:List of 4
  ..$ count : chr ""1057230""
  ..$ status: chr ""Ok""
  ..$ menu  : chr ""PubMed""
  ..$ dbname: chr ""pubmed""
 $ resultitem:List of 4
  ..$ count : chr ""305215""
  ..$ status: chr ""Ok""
  ..$ menu  : chr ""PMC""
  ..$ dbname: chr ""pmc""
 $ resultitem:List of 4
  ..$ count : chr ""1""
  ..$ status: chr ""Ok""
  ..$ menu  : chr ""Journals""
  ..$ dbname: chr ""journals""
</code></pre>

<p>Now I want to search through the elements of each <code>resultitem</code>. 
I want to know the <code>dbname</code> for every database, that has less then 10 <code>count</code> (example).
In this case it is very easy, as this list only has 3 elements, but the real list is a little bit longer.</p>

<p>This could be simply done with a for loop. But is there a way to do this with some other function of R (like rapply)?
My problem with those apply functions is, that they only look at one element.</p>

<p>If I do a grep to get all <code>dbname</code> elements, I can not get the count of each element.</p>

<pre><code>rapply(tmp, function(x) paste(""Content: "", x))[grep(""dbname"", names(rapply(tmp, c)))]</code></pre>

<p>Does someone has a better idea than a for loop?</p>
","295037","","864101","","2012-01-27 18:50:46","2012-01-27 18:50:46","How to access elements in a complex list?","<r>","3","1","1","","","CC BY-SA 3.0","2874667","4452","4452","r","404559","3625322","3607736","",""
"2881366","1","2881582","","2010-05-21 10:46:09","","1","237","<p>I would like to apply my function to only elements that are deeper in the list structure.</p>

<p>For example, I would like to apply a certain function to list elements of second order only. Is this feasible with apply()?</p>

<pre><code>&gt; str(l)
List of 3
 $ :List of 2
  ..$ : num 5
  ..$ : num 10
 $ :List of 2
  ..$ : num 15
  ..$ : num 20
 $ :List of 2
  ..$ : num 25
  ..$ : num 30
</code></pre>
","322912","","","","","2010-05-21 11:25:26","applying apply() to deeply embeded list elements only","<list><r><apply>","2","0","1","","","CC BY-SA 2.5","2881366","4452","4452","r","404559","3625322","3607736","",""
"2883261","1","2886485","","2010-05-21 15:09:15","","2","2479","<p>to become more specific, here is an example:</p>

<pre><code>&gt; expand.grid(5, 5, c(1:4,6),c(1:4,6))
   Var1 Var2 Var3 Var4
1     5    5    1    1
2     5    5    2    1
3     5    5    3    1
4     5    5    4    1
5     5    5    6    1
6     5    5    1    2
7     5    5    2    2
8     5    5    3    2
9     5    5    4    2
10    5    5    6    2
11    5    5    1    3
12    5    5    2    3
13    5    5    3    3
14    5    5    4    3
15    5    5    6    3
16    5    5    1    4
17    5    5    2    4
18    5    5    3    4
19    5    5    4    4
20    5    5    6    4
21    5    5    1    6
22    5    5    2    6
23    5    5    3    6
24    5    5    4    6
25    5    5    6    6
</code></pre>

<p>This data frame was created from all combinations of the supplied vectors. I would like to create a similar data frame from all <code>permutations</code> of the supplied vectors. Notice that each row must contain exactly 2 fives, yet not necessarily the fist two in line.
Thank you.</p>
","299077","","299077","","2010-05-21 20:27:25","2020-01-20 14:22:47","Is there an expand.grid like function in R, returning permutations?","<r><permutation><combinations>","2","2","1","","","CC BY-SA 2.5","2883261","4452","4452","r","404559","3625322","3607736","",""
"2885660","1","","","2010-05-21 21:22:11","","55","46411","<p>I have a scheduled an R script running from a windows machine. </p>

<p>After it finishes, I wish this script to automatically send an email with some log file attached.  </p>

<p>Using <code>shell()</code> with some other scripts may be possible, but I was wondering if there is a better solution within R. 
Thanks.</p>
","347486","","5269047","","2018-01-18 01:37:13","2021-02-25 16:16:55","How to send an email with attachment from R in windows","<r><email><sendmailr>","8","3","40","","","CC BY-SA 3.0","2885660","4452","4452","r","404559","3625322","3607736","",""
"2889613","1","2889795","","2010-05-22 20:18:44","","5","747","<p>As an example, here is a way to get a matrix of all possible outcomes of rolling 4 (fair) dice.</p>

<pre><code>z &lt;- as.matrix(expand.grid(c(1:6),c(1:6),c(1:6),c(1:6)))
</code></pre>

<p>As you may already have understood, I'm trying to work out <a href=""https://stackoverflow.com/questions/2867456/probability-of-subset-sum-after-rolling-dice-4-times-closed"">a question that was closed</a>, though, in my opinion, it's a challenging one. I used counting techniques to solve it (I mean by hand) and I finaly arrived to a number of outcomes, with a sum of subset being 5, equal to 1083 out of 1296. That result is consistent with the answers provided to that question, before it was closed. I was wondering how could that subset of outcomes (say z1, where dim(z1) = [1083,4] ) be generated using R. Do you have any ideas?</p>

<p>Thank you. </p>
","299077","","-1","","2017-05-23 12:18:35","2010-05-22 21:16:02","How can I find out how many rows of a matrix satisfy a rather complicated criterion (in R)?","<r><indexing><statistics><matrix><probability>","2","0","1","","","CC BY-SA 2.5","2889613","4452","4452","r","404559","3625322","3607736","",""
"2889662","1","2890755","","2010-05-22 20:37:30","","2","665","<p>I've recently started using R for Natural Language Processing tasks and find that a lot of applications are available in Java and Perl (for my purposes).</p>

<p>For example: A few perl modules are available to find distance measures between words by querying Wordnet. I am aware of the R Wordnet package, but it does not perform the tasks that these CPAN modules do.
Many Java packages for NLP are out there, which I'd like to use from within R.</p>

<p>I know of rJava, RSPerl, the simple system command amongst others, but I'd like more examples of how I could make calls to Java and Perl applications from R.</p>

<p>Recently I tried capturing console output from a perl script. </p>

<pre><code>cat( 'print ""Hello World\n"";',file=""hello.pl"" )

system(command=""c:\\Perl64\\bin\\perl hello.pl"")

system(command=paste(Sys.getenv(""COMSPEC""),""/c"",""C:\\Perl64\\bin\\perl hello.pl""))
</code></pre>

<p>None of the above system commands showed 'Hello World' on the R console. I've used ""system"" before to run perl scripts to perform tasks without wanting to capture console output.</p>

<p>Any hints and redirection to other more extensive sources of information would be highly appreciated.</p>

<p>Thank you</p>
","177390","","168747","","2010-05-23 08:32:58","2010-05-23 08:32:58","Calling software modules (Java, Perl, etc.) from R","<r>","1","0","","","","CC BY-SA 2.5","2889662","4452","4452","r","404559","3625322","3607736","",""
"2890190","1","2890928","","2010-05-22 23:50:57","","1","495","<p>I hope this is basic; just need a nudge in the right direction.</p>

<p>I have read in a database table from MS Access into a data frame using RODBC.  Here is a basic structure of what I read in:</p>

<pre><code>PRODID PROD Year Week QTY SALES INVOICE
</code></pre>

<p>Here is the structure:</p>

<pre><code>str(data)
'data.frame': 8270 obs. of  7 variables:
 $ PRODID  : int  20001 20001 20001 100001 100001 100001 100001 100001 100001 100001 ...
 $ PROD    : Factor w/ 1239 levels ""1% 20qt Box"",..: 335 335 335 128 128 128 128 128 128 128 ...
 $ Year    : int  2010 2010 2010 2009 2009 2009 2009 2009 2009 2010 ...
 $ Week    : int  12 18 19 14 15 16 17 18 19 9 ...
 $ QTY     : num  1 1 0 135 300 270 300 270 315 315 ...
 $ SALES   : num  15.5 0 -13.9 243 540 ...
 $ INVOICES: num  1 1 2 5 11 11 10 11 11 12 ... 
</code></pre>

<p>Here are the top few rows:</p>

<pre><code>head(data, n=10)
   PRODID           PROD Year Week QTY  SALES INVOICES
1   20001      Dolie 12"" 2010   12   1  15.46        1
2   20001      Dolie 12"" 2010   18   1   0.00        1
3   20001      Dolie 12"" 2010   19   0 -13.88        2
4  100001 Cage Free Eggs 2009   14 135 243.00        5
5  100001 Cage Free Eggs 2009   15 300 540.00       11
6  100001 Cage Free Eggs 2009   16 270 486.00       11
7  100001 Cage Free Eggs 2009   17 300 540.00       10
8  100001 Cage Free Eggs 2009   18 270 486.00       11
9  100001 Cage Free Eggs 2009   19 315 567.00       11
10 100001 Cage Free Eggs 2010    9 315 569.25       12 
</code></pre>

<p>I simply want to generate lags for QTY, SALES, INVOICE for each product but I am not sure where to start.  I know R is great with Time Series, but I am not sure where to start.</p>

<p>I have two questions:</p>

<ol>
<li><p>I have the raw invoice data but have aggregated it for reporting purposes.  Would it be easier if I didn't aggregate the data?</p></li>
<li><p>Regardless of aggregation or not, what functions will I need to loop over each product and generate the lags as I need them?  </p></li>
</ol>

<p>In short, I want to loop over a set of records, calculate lags for a product (if possible), append the lags (as they apply) to the current record for each product, and write the results back to a table in my database for my reporting software to use.</p>
","155406","","46594","","2011-11-30 00:55:02","2011-11-30 00:55:02","Generate lags R","<r>","2","0","","","","CC BY-SA 3.0","2890190","4452","4452","r","404559","3625322","3607736","",""
"2891136","1","2899177","","2010-05-23 08:54:50","","8","1050","<p>I believe that not all R users know elisp. It would be nice if ESS users could share their code in their .emacs file here. Well commented code would be particularly useful. Hope this will promote the use of ESS by R users.</p>
","186891","","186891","","2010-05-24 07:21:35","2010-05-24 18:12:12","Asking ESS/R users for suggestions for elisp codes in .emacs file","<emacs><r><elisp><ess>","2","0","6","","","CC BY-SA 2.5","2891136","4452","4452","r","404559","3625322","3607736","",""
"2893005","1","2894392","","2010-05-23 18:56:47","","5","8603","<p>I have looked <a href=""https://stackoverflow.com/questions/2751065/how-can-i-manipulate-the-strip-text-of-facet-plots-in-ggplot2"">here</a> but still can't figure it out. How do I change the strip.text.x labels in a ggplot with faceting? Specifically I am using facet_grid with margins. The strip.text label for the margin is ""(all)"" - but since I am in a non-english speaking country I would rather write ""Total"" or something similar in my native tongue.</p>

<pre><code>opts(stip.text.x=c(levels(facetvariabel,""Total"")) does not work.
</code></pre>

<p>Any ideas?</p>

<p>Example (not really the best dataset for this - but I guess it will work)</p>

<pre><code>ggplot(cars, aes(x=dist))+geom_bar()+facet_grid(.~speed, margin=T)
</code></pre>
","162832","","-1","","2017-05-23 10:27:46","2016-03-17 16:16:54","how to change strip.text labels in ggplot with facet and margin=TRUE","<r><label><locale><ggplot2><facet>","1","2","6","","","CC BY-SA 2.5","2893005","4452","4452","r","404559","3625322","3607736","",""
"2893042","1","2893238","","2010-05-23 19:09:27","","7","5265","<p>In cases where order does matter, it's rather easy to generate the matrix of all possible outcomes. One way for doing this is using <code>expand.grid</code> as shown <a href=""https://stackoverflow.com/questions/2889613/how-can-i-find-out-how-many-rows-of-a-matrix-satisfy-a-rather-complicated-criteri"">here</a>. </p>

<p>What if it doesn't? </p>

<p>If I'm right, the number of possible combinations is <code>(S+N-1)!/S!(N-1)!</code>, where S is the number of dice, each with N sides numbered 1 through N. (It is different from the well known combinations formula because it is possible for the same number to appear on more than one dice). For example, when throwing four six-sided dice, N=6 and S=4, so the number of possible combinations is (4+6-1)!/4!(6-1)! = 9!/4!x5! = 126. How can I generate a matrix of these 126 possible outcomes?</p>

<p>Thank you.</p>
","299077","","-1","Aryabhatta","2017-05-23 12:33:54","2010-05-25 09:41:06","Generate a matrix of all possible outcomes for throwing n dice (ignoring order)","<algorithm><r><probability><combinations><dice>","2","1","3","","","CC BY-SA 2.5","2893042","4452","4452","r","404559","3625322","3607736","",""
"2894775","1","2894825","","2010-05-24 04:46:11","","172","105172","<pre><code>df &lt;- data.frame(var1 = c('a', 'b', 'c'), var2 = c('d', 'e', 'f'),
                 freq = 1:3)
</code></pre>

<p>What is the simplest way to expand each row the first two columns of the data.frame above, so that each row is repeated the number of times specified in the column 'freq'?</p>

<p>In other words, go from this:</p>

<pre><code>df
  var1 var2 freq
1    a    d    1
2    b    e    2
3    c    f    3
</code></pre>

<p>To this:</p>

<pre><code>df.expanded
  var1 var2
1    a    d
2    b    e
3    b    e
4    c    f
5    c    f
6    c    f
</code></pre>
","325913","","1851712","","2019-11-05 15:20:31","2020-12-02 05:54:48","Repeat each row of data.frame the number of times specified in a column","<r><dataframe><replicate>","9","0","55","","","CC BY-SA 4.0","2894775","4452","4452","r","404559","3625322","3607736","",""
"2895319","1","3011030","","2010-05-24 07:07:32","","109","94372","<p>I'm currently using <code>scale_brewer()</code> for fill and these look beautiful in color (on screen and via color printer) but print relatively uniformly as greys when using a black and white printer. I searched the online <code>ggplot2</code> documentation but didn't see anything about adding textures to fill colors. Is there an official <code>ggplot2</code> way to do this or does anyone have a hack that they use? By textures I mean things like diagonal bars, reverse diagonal bars, dot patterns, etc that would differentiate fill colors when printed in black and white.</p>
","236497","","10323798","","2019-04-12 15:53:53","2021-03-31 04:51:44","How to add texture to fill colors in ggplot2","<r><ggplot2>","8","1","39","","","CC BY-SA 4.0","2895319","4452","4452","r","404559","3625322","3607736","",""
"2897152","1","2897256","","2010-05-24 13:05:42","","2","1374","<p>I cannot seem to get the following to work</p>

<pre><code>directory &lt;- ""./""
files.15x16 &lt;- c(""15x16-70d.out"", ""15x16-71d.out"")
data.15x16&lt;-rbind( lapply( as.array(paste(directory, files.15x16, sep="""")), FUN=read.csv, sep="" "", header=F) )
</code></pre>

<p>What it <strong>should</strong> be doing is pretty straightforward - I have a directory name, some file names, and actual files of data.  I paste the directory and file names together, read the data from the files in, and then rbind them all together into a single chunk of data.</p>

<p>Except the result of the lapply has the data in <code>[[]]</code> - i.e., accessing it occurs via <code>a[[1]], a[[2]],</code> etc which <code>rbind</code> doesn't seem to accept.</p>

<p>Suggestions?</p>
","167973","","","","","2010-05-24 13:23:22","R problem with apply + rbind","<file-io><r>","1","2","6","","","CC BY-SA 2.5","2897152","4452","4452","r","404559","3625322","3607736","",""
"2899581","1","","","2010-05-24 19:15:44","","2","871","<p>I would like to iterate through a table and break it into relvant parts based on the number of visits. I have tried several things but cannot seem to get it to work.</p>

<p>I have included the code.</p>

<pre><code>for(i in 1:6){
   paste(""testing.visit"",i,""\n"",sep="""") &lt;- subset(testing,visit_no==2)
}
</code></pre>

<p>But I get the following error.</p>

<pre><code>Error in paste(""testing.visit"", i, ""\n"", sep = """") &lt;- subset(testing,  : 
  target of assignment expands to non-language object
</code></pre>

<p>Thank you,</p>

<p>Brandon</p>
","345466","","168747","","2010-05-25 19:05:50","2010-05-25 19:05:50","assign subset of parent table to objects in R","<r>","1","1","","2014-12-26 21:35:07","","CC BY-SA 2.5","2899581","4452","4452","r","404559","3625322","3607736","",""
"2900058","1","","","2010-05-24 20:22:38","","6","3066","<p>I have a data frame in R with the following structure.</p>

<pre><code>&gt; testData
            date exch.code comm.code     oi
1     1997-12-30       CBT         1 468710
2     1997-12-23       CBT         1 457165
3     1997-12-19       CBT         1 461520
4     1997-12-16       CBT         1 444190
5     1997-12-09       CBT         1 446190
6     1997-12-02       CBT         1 443085
....
    77827 2004-10-26      NYME       967  10038
    77828 2004-10-19      NYME       967   9910
    77829 2004-10-12      NYME       967  10195
    77830 2004-09-28      NYME       967   9970
    77831 2004-08-31      NYME       967   9155
    77832 2004-08-24      NYME       967   8655
</code></pre>

<p>What I want to do is produce a table the shows for a given date and commodity the total oi across every exchange code. So, the rows would be made up of</p>

<pre><code>unique(testData$date)
</code></pre>

<p>and the columns would be </p>

<pre><code>unique(testData$comm.code)
</code></pre>

<p>and each cell would be the total oi over all exch.codes on a given day.</p>

<p>Thanks,</p>
","318976","","559784","","2013-03-27 23:58:20","2013-03-27 23:58:20","how to aggregate this data in R","<r><aggregate>","3","0","2","","","CC BY-SA 2.5","2900058","4452","4452","r","404559","3625322","3607736","",""
"2900161","1","","","2010-05-24 20:40:09","","1","470","<p>I have a row in a data frame in R that is made up of sequences of the undetermined length of 0s 1s and 2s as characters.  So ""01"", ""010"", ""201"", ""102"", ""00012""... things like this. </p>

<p>I'd like to find a way to determine if the last character in the string is NUMERICALLY the largest.  It's important that I keep the row in the data frame as characters for other purposes.  So basically I want to take <code>substr(x, nchar(x), nchar(x))</code> and determine if it, as a number, is the largest of the numbers in the character string.</p>

<p>I'm super lost as to how to do this since I'm not all that familiar with regular expressions and I have to back and forth between treating elements like characters and numbers.</p>

<p>Thanks in advance.</p>

<p>~Maureen</p>
","349316","","3768871","","2019-07-05 19:41:59","2019-07-05 19:41:59","Replacing elements within a string in R","<r>","4","0","","","","CC BY-SA 4.0","2900161","4452","4452","r","404559","3625322","3607736","",""
"2900510","1","2900754","","2010-05-24 21:38:19","","33","73484","<p>Say I have a dataframe df with two or more columns, is there an easy way to use <code>unique()</code> or other R function to create a subset of unique combinations of two or more columns?</p>

<p>I know I can use <code>sqldf()</code> and write an easy <code>""SELECT DISTINCT var1, var2, ... varN""</code> query, but I am looking for an R way of doing this.</p>

<p>It occurred to me to try <em>ftable</em> coerced to a <em>dataframe</em> and use the field names, but I also get the cross tabulations of combinations that don't exist in the dataset:</p>

<pre><code>uniques &lt;- as.data.frame(ftable(df$var1, df$var2))
</code></pre>
","142068","","680068","","2018-11-30 06:45:00","2021-01-07 11:11:48","R equivalent of SELECT DISTINCT on two or more fields/variables","<sql><r><dataframe>","4","0","3","","","CC BY-SA 4.0","2900510","4452","4452","r","404559","3625322","3607736","",""
"2901198","1","2903358","","2010-05-25 00:04:45","","26","8168","<p>I would like to ask regular ESS/R users what key bindings do they use frequently and tips on using ESS/R.</p>
","186891","","","","","2014-10-27 15:34:09","Useful keyboard shortcuts and tips for ESS/R","<emacs><r><elisp><ess>","5","0","24","","2010-05-25 00:04:45","CC BY-SA 2.5","2901198","4452","4452","r","404559","3625322","3607736","",""
"2901375","1","2901576","","2010-05-25 01:04:40","","2","1077","<p>I have a <code>zoo</code> object <code>oi.zoo</code> with weekly data. I would like to sooth this with a 12-month moving average (easy enough), but I can't figure out how to anchor the right edge of the the moving average window at the end of the month (to correspond with the on which factors I am regressing). For example:</p>

<pre><code>&gt; head(oi.zoo)
1986-01-15 1986-01-31 1986-02-14 1986-02-28 1986-03-14 1986-03-31 
   2966182    2986748    2948045    2990979    2993453    2936038 
&gt; head(mkt)
1926-07-31 1926-08-31 1926-09-30 1926-10-31 1926-11-30 1926-12-31 
      2.62       2.56       0.36      -3.43       2.44       2.77
</code></pre>

<p>I have some other factors and plan on using <code>dynlm</code> to regress.</p>

<p>Thanks!</p>
","334755","","","","","2010-05-25 02:19:49","Calculating a 12-month moving average of weekly series, but anchored at the last day of the month","<r>","1","0","1","","","CC BY-SA 2.5","2901375","4452","4452","r","404559","3625322","3607736","",""
"2904353","1","","","2010-05-25 12:05:07","","4","1822","<p>What is the best way to parse this <a href=""http://open.worldbank.org/countries"" rel=""nofollow noreferrer"">XML document</a> so that it is available in R?  I would like for each country node to be an independent R object.  </p>
","349869","","168747","","2010-05-29 19:47:18","2010-05-29 19:47:18","R Language XML Parsing","<xml><r>","1","0","","","","CC BY-SA 2.5","2904353","4452","4452","r","404559","3625322","3607736","",""
"2905650","1","2905739","","2010-05-25 14:37:22","","44","25786","<p>I would like to create a local  R package repository such that users in my company can install packages from it and the system admins can update the local repo periodically. Access to the CRAN mirrors is currently denied.</p>

<p>Is there a simple way to do this?</p>
","177390","","3576984","","2018-04-12 05:48:05","2018-04-12 05:48:05","Creating a local R package repository","<r><r-package>","3","0","24","","","CC BY-SA 3.0","2905650","4452","4452","r","404559","3625322","3607736","",""
"2906855","1","2906999","","2010-05-25 17:20:04","","9","2413","<p>When you choose a log scale, ggplot2 formats the breaks like 10^x.  I'd like it to not do that.  For example, the code below should display a graph with ticks at 1, 2, 5 etc, not 10^0, 10^0.3, 10^0.69 etc.</p>

<pre><code>library(ggplot2)
dfr &lt;- data.frame(x = 1:100, y = rlnorm(100))
breaks &lt;- as.vector(c(1, 2, 5) %o% 10^(-1:1))
p1 &lt;- ggplot(dfr, aes(x, y)) + geom_point() + scale_y_log10(breaks = breaks)
print(p1)
</code></pre>

<p>I guess that adding a <code>formatter</code> argument to <code>scale_y_log10</code> would do the trick, but I'm not sure what to put in the argument, or where the options might be documented.</p>
","134830","","","","","2012-07-23 16:10:43","How to override ggplot2's axis formatting?","<r><ggplot2>","2","0","4","","","CC BY-SA 2.5","2906855","4452","4452","r","404559","3625322","3607736","",""
"2907896","1","","","2010-05-25 19:35:58","","3","16381","<p>In R, ""assign('x',v)"" sets the object whose name is 'x' to v.  Replace 'x' by the result of applying a text function to a variable x.  Then ""assign"" shows its worth.</p>

<p>Unfortunately, ""assign(paste('names(','x',')',sep=''),v)"" fails.  So if 'x' is a variable x, I can set its value, but I can't give it names for its elements.</p>

<p>Can one work around this?  a parse-eval trick maybe?  Thanks.</p>
","350264","","","","","2014-06-05 19:38:03","how to assign to the names() attribute of the value of a variable in R","<r><attributes><names><lvalue>","4","2","3","","","CC BY-SA 2.5","2907896","4452","4452","r","404559","3625322","3607736","",""
"2908822","1","","","2010-05-25 21:55:36","","199","94099","<p>I have a big performance problem in R. I wrote a function that iterates over a <code>data.frame</code> object. It simply adds a new column to a <code>data.frame</code> and accumulates something. (simple operation). The <code>data.frame</code> has roughly 850K rows. My PC is still working (about 10h now) and I have no idea about the runtime.</p>

<pre><code>dayloop2 &lt;- function(temp){
    for (i in 1:nrow(temp)){    
        temp[i,10] &lt;- i
        if (i &gt; 1) {             
            if ((temp[i,6] == temp[i-1,6]) &amp; (temp[i,3] == temp[i-1,3])) { 
                temp[i,10] &lt;- temp[i,9] + temp[i-1,10]                    
            } else {
                temp[i,10] &lt;- temp[i,9]                                    
            }
        } else {
            temp[i,10] &lt;- temp[i,9]
        }
    }
    names(temp)[names(temp) == ""V10""] &lt;- ""Kumm.""
    return(temp)
}
</code></pre>

<p>Any ideas how to speed up this operation?</p>
","350373","","5215474","","2018-07-14 19:17:17","2020-09-13 11:05:57","Speed up the loop operation in R","<performance><r><loops><rcpp><r-faq>","10","1","267","","","CC BY-SA 4.0","2908822","4452","4452","r","404559","3625322","3607736","",""
"2912270","1","2927731","","2010-05-26 11:03:36","","1","653","<p>I have a function that sets a vector to a string, copies a Sweave document with a new name and then runs that Sweave.  Inside the Sweave document I want to use the vector I set in the function, but it doesn't seem to see it.  </p>

<p>(Edit: I changed this function to use tempdir(() as suggested by Dirk)</p>

<p>I created a sweave file test_sweave.rnw;</p>

<pre><code>% 
\documentclass[a4paper]{article}
\usepackage[OT1]{fontenc}
\usepackage{Sweave}
\begin{document}

\title{Test Sweave Document}
\author{gb02413}

\maketitle

&lt;&lt;&gt;&gt;=
ls()
Sys.time()
print(paste(""The chosen study was "",chstud,sep=""""))
@ 
\end{document}
</code></pre>

<p>and I have this function;</p>

<pre><code>onOK &lt;- function(){ 
    chstud&lt;-""test"" 
    message(paste(""Chosen Study is "",chstud,sep="""")) 
    newfile&lt;-paste(chstud,""_report"",sep="""") 
    mypath&lt;-paste(tempdir(),""\\"",sep="""")
    setwd(mypath) 
    message(paste(""Copying test_sweave.Rnw to "",paste(mypath,newfile,"".Rnw"",sep=""""),sep=""""))
    file.copy(""c:\\local\\test_sweave.Rnw"", 
            paste(mypath,newfile,"".Rnw"",sep=""""), overwrite=TRUE) 
    Sweave(paste(mypath,newfile,"".Rnw"",sep="""")) 
    require(tools) 
    texi2dvi(file = paste(mypath,newfile,"".tex"",sep=""""), pdf = TRUE) 
} 
</code></pre>

<p>If I run the code from the function directly, the resulting file has this output for ls();</p>

<pre><code>&gt; ls()
[1] ""chstud"" ""mypath"" ""newfile"" ""onOK""
</code></pre>

<p>However If I call onOK() I get this output;</p>

<pre><code>&gt; ls()
[1] ""onOK""
</code></pre>

<p>and the print(...chstud...)) function generates an error.</p>

<p>I suspect this is an environment problem, but I assumed because the call to Sweave occurs within the onOK function, it would be in the same enviroment, and would see all the objects created within the function.  How can I get the Sweave process to see the chstud vector ?</p>

<p>Thanks</p>

<p>Paul.</p>
","74658","","74658","","2010-05-26 15:00:14","2011-01-24 20:57:58","Sweave can't see a vector if run from a function?","<r><sweave>","2","5","","","","CC BY-SA 2.5","2912270","4452","4452","r","404559","3625322","3607736","",""
"2913145","1","4770287","","2010-05-26 13:03:34","","0","229","<p>How can I easily create a fractional y-value when using ggplot?</p>

<pre><code>t &lt;- as.factor(test=sample(seq(0,100,10),1000,rep=T))
d &lt;- as.factor(sample(c(0,1),1000,rep=T)
p &lt;- data.frame(t,d)
</code></pre>

<p>My best shot was:</p>

<pre><code>ggplot(p,aes(x=t,y=prop.table(table(t,d),1)[,1])) + geom_point()
</code></pre>

<p>However this doesnt work and I guess there is an easier way around this...</p>
","338745","","172261","","2010-05-26 14:58:42","2011-01-22 20:13:47","Fractional y-var in ggplot","<r><graph>","2","1","","","","CC BY-SA 2.5","2913145","4452","4452","r","404559","3625322","3607736","",""
"2914792","1","2917205","","2010-05-26 16:15:25","","10","12129","<p>I know I can use ls() and rm() to see and remove objects that exist in my environment.</p>

<p>However, when dealing with ""old"" .RData file, one needs to sometimes pick an environment a part to find what to keep and what to leave out.</p>

<p>What I would like to do, is to have a GUI like interface to allow me to see the objects, sort them (for example, by there size), and remove the ones I don't need (for example, by a check-box interface).  Since I imagine such a system is not currently implemented in R, what ways do exist?  What do you use for cleaning old .RData files?</p>

<p>Thanks,</p>

<p>Tal</p>
","256662","","","","","2019-03-20 18:05:34","What ways are there for cleaning an R environment from objects?","<r>","8","1","9","","","CC BY-SA 2.5","2914792","4452","4452","r","404559","3625322","3607736","",""
"2917202","1","","","2010-05-26 22:12:08","","35","6650","<p>Does R have a function that allows a user to provide a password securely, such as Python's <code>getpass</code> module?</p>

<p>(see <a href=""http://docs.python.org/library/getpass.html"" rel=""noreferrer"">http://docs.python.org/library/getpass.html</a> for an example of what I mean)</p>
","144601","","202229","","2018-04-04 20:27:49","2018-04-04 20:27:49","Way to securely give a password to R application from the terminal?","<r><input><passwords><password-protection>","5","0","10","","","CC BY-SA 3.0","2917202","4452","4452","r","404559","3625322","3607736","",""
"2917711","1","","","2010-05-27 00:13:51","","4","5285","<p>I want to compute a diffusion kernel, which involves taking exp(b*A) where A is a large matrix. In order to play with values of b, I'd like to diagonalize A (so that exp(A) runs quickly). </p>

<p>My matrix is about 25k x 25k, but is very sparse - only about 60k values are non-zero. Matlab's ""eigs"" function runs of out memory, as does octave's ""eig"" and R's ""eigen."" Is there a tool to find the decomposition of large, sparse matrices?</p>

<p>Dunno if this is relevant, but A is an adjacency matrix, so it's symmetric, and it is full rank.</p>
","347165","","","","","2010-07-01 23:39:11","Tool to diagonalize large matrices","<matlab><r><matrix><octave><eigenvalue>","5","0","1","","","CC BY-SA 2.5","2917711","4452","4452","r","404559","3625322","3607736","",""
"2919353","1","2919536","","2010-05-27 07:54:50","","4","113","<p>How do you solve the dependencies of packages within your functions? I add <code>require(package)</code> into the function, but I wonder if there's a preferred way of accomplishing this task.</p>
","322912","","","","","2010-05-27 14:36:21","taking care of dependencies in your functions","<r><dependencies>","3","0","","","","CC BY-SA 2.5","2919353","4452","4452","r","404559","3625322","3607736","",""
"2923092","1","2923190","","2010-05-27 16:49:03","","9","6290","<p>I've got a data frame with far too many rows to be able to do a spatial correlogram. Instead, I want to grab 40 rows for each species and run my correlogram on that subset.</p>

<p>I wrote a function to subset a data frame as follows:</p>

<pre><code>    samp &lt;- function(dataf)
{
    dataf[sample(1:dim(dataf)[1], size=40, replace=FALSE),]
}
</code></pre>

<p>Now I want to apply this function to each species in a larger data frame.</p>

<p>When I try something like</p>

<pre><code>culled_data = ddply (larger_data, .(species), subset, samp)
</code></pre>

<p>I get this error:</p>

<pre><code>Error in subset.data.frame(piece, ...) : 
  'subset' must evaluate to logical
</code></pre>

<p>Anyone got ideas on how to do this?</p>
","313163","","","","","2010-05-29 22:00:05","How do I sub sample data by group using ddply?","<r><plyr>","2","0","1","","","CC BY-SA 2.5","2923092","4452","4452","r","404559","3625322","3607736","",""
"2923268","1","2925127","","2010-05-27 17:14:19","","0","452","<p><code>stock.ba</code> is a <code>ts</code> object of monthly stock returns and I would like to fit an eGARCH model, but I keep getting this error using a new download of <code>rgarch</code> in R 2.10.1:</p>

<pre><code>&gt; stock.ba.egarch &lt;- ugarchfit(stock.ba, spec)
Error in UseMethod(""ugarchfit"") : 
  no applicable method for 'ugarchfit' applied to an object of class ""ts""
</code></pre>

<p>Here's the (relevant) code</p>

<pre><code>stock.ba &lt;- window(stock, start=c(1831, 1), end=c(2010, 2))
spec &lt;- ugarchspec(variance.model = list(model = ""eGARCH""))
stock.ba.egarch &lt;- ugarchfit(stock.ba, spec)
</code></pre>

<p>Thanks!</p>
","334755","","334755","","2010-05-27 17:25:07","2010-07-02 12:00:08","How to use egarch on a ts (in OSX)","<r>","1","0","","","","CC BY-SA 2.5","2923268","4452","4452","r","404559","3625322","3607736","",""
"2923650","1","2923970","","2010-05-27 18:08:30","","8","3400","<p>Assuming in R, I have a data.frame with the first column representing the time (as POSIXct). The rest of the columns (e.g., columns 2) are numeric data.</p>

<p>I would like to group time into 3-minute intervals. Each interval will the the average of values that falls into that particular interval.</p>

<p>Right now, I have a for-loop that iterates through the time column and generate the interval on the fly. I am wondering if there's a more elegant way to accomplish the same thing?</p>

<p>Thanks in advance.</p>

<p>Derek</p>
","296564","","684229","","2012-04-17 20:15:59","2012-04-17 20:15:59","How do I quickly group the time column in a dataframe into intervals?","<r><group-by>","2","1","4","","","CC BY-SA 3.0","2923650","4452","4452","r","404559","3625322","3607736","",""
"2924334","1","2946014","","2010-05-27 19:44:09","","4","3709","<p>Sometimes R stops displaying output. I type the number 1, followed by the return key, and nothing appears.</p>

<p>This situation occurred after I pressed the ""STOP"" icon in the window, which is for stopping long calculations. I'm using R 2.11.0 on a Mac.</p>

<p>Does pressing ""STOP"" cause R to stop displaying output? How do I get R to display output again?</p>
","249487","","","","","2010-05-31 21:23:55","Why does R sometimes stop displaying output?","<r>","2","3","","","","CC BY-SA 2.5","2924334","4452","4452","r","404559","3625322","3607736","",""
"2926088","1","2927988","","2010-05-28 01:09:15","","3","950","<p>ESS allows us to indent a line and an expression. Is there a key binding for indenting a buffer? If not, can we create it?</p>
","186891","","","","","2010-05-28 09:45:23","How to indent a buffer in ESS?","<emacs><r><elisp><ess>","2","0","3","","","CC BY-SA 2.5","2926088","4452","4452","r","404559","3625322","3607736","",""
"2926742","1","2928613","","2010-05-28 05:07:23","","4","4793","<h3>Background</h3>

<p>I have climate data (temperature, precipitation, snow depth) for all of Canada between 1900 and 2009. I have written a basic website and the simplest page allows users to choose category and city. They then get back a very simple report (without the parameters and calculations section):</p>

<p><img src=""https://i.imgur.com/7eQ45.png"" /></p>

<p>The primary purpose of the web application is to provide a simple user interface so that the general public can explore the data in meaningful ways. (A list of numbers is not meaningful to the general public, nor is a website that provides <a href=""http://www7.ncdc.noaa.gov/CDO/CDODivisionalSelect.jsp"" rel=""nofollow noreferrer"">too many inputs</a>.) The secondary purpose of the application is to provide climatologists and other scientists with deeper ways to view the data. (Using too many inputs, of course.)</p>

<h3>Tool Set</h3>

<p>The database is PostgreSQL with R (mostly) installed. The reports are written using iReport and generated using JasperReports.</p>

<h3>Poor Model Choice</h3>

<p>Currently, a linear regression model is applied against annual averages of daily data. The linear regression model is calculated within a PostgreSQL function as follows:</p>

<pre><code>SELECT 
  regr_slope( amount, year_taken ),
  regr_intercept( amount, year_taken ),
  corr( amount, year_taken )
FROM
  temp_regression
INTO STRICT slope, intercept, correlation;
</code></pre>

<p>The results are returned to JasperReports using:</p>

<pre><code>SELECT
  year_taken,
  amount,
  year_taken * slope + intercept,
  slope,
  intercept,
  correlation,
  total_measurements
INTO result;
</code></pre>

<p>JasperReports calls into PostgreSQL using the following parameterized analysis function:</p>

<pre><code>SELECT
  year_taken,
  amount,
  measurements,
  regression_line,
  slope,
  intercept,
  correlation,
  total_measurements,
  execute_time
FROM
  climate.analysis(
    $P{CityId},
    $P{Elevation1},
    $P{Elevation2},
    $P{Radius},
    $P{CategoryId},
    $P{Year1},
    $P{Year2}
  )
ORDER BY year_taken
</code></pre>

<p>This is not an optimal solution because it gives the false impression that the climate is changing at a slow, but steady rate. </p>

<h3>Questions</h3>

<p>Using functions that take two parameters (e.g., year [X] and amount [Y]), such as PostgreSQL's <code>regr_slope</code>:</p>

<ul>
<li>What is a better regression model to apply?</li>
<li>What CPAN-R packages provide such models? (Installable, ideally, using <code>apt-get</code>.)</li>
<li>How can the R functions be called within a PostgreSQL function?</li>
</ul>

<p>If no such functions exist:</p>

<ul>
<li>What parameters should I try to obtain for functions that will produce the desired fit?</li>
<li>How would you recommend showing the best fit curve?</li>
</ul>

<p>Keep in mind that this is a web app for use by the general public. If the only way to analyse the data is from an R shell, then the purpose has been defeated. (I know this is not the case for most R functions I have looked at so far.)</p>

<p>Thank you!</p>
","59087","","","","","2010-05-28 13:50:33","Non-linear regression models in PostgreSQL using R","<postgresql><r><statistics><data-analysis>","3","1","5","","","CC BY-SA 2.5","2926742","4452","4452","r","404559","3625322","3607736","",""
"2929776","1","2929971","","2010-05-28 14:16:32","","10","992","<p>Sorry for this novice question: if I fit a  lm() model or loess() model, and save the model somewhere in a file or in database, for later using by third party with predict() method, do I have to save the entire model object? Since returned model object contains orginal raw data, this returned object can be huge.</p>
","352987","","","","","2010-05-28 14:49:15","how to save a fitted R model for later use","<r>","1","0","","","","CC BY-SA 2.5","2929776","4452","4452","r","404559","3625322","3607736","",""
"2931989","1","","","2010-05-28 19:43:11","","8","1087","<p>for working with financial time series, like daily stock prices or intraday data, which time series packages are preferred? xts, plain zoo, or timeSeries or something else?
I use both xts and zoo, but sometimes not sure to use xts exclusively or sometimes zoo have advantage of lighter overhead; also, I remembered a review paper on all these packages by Rmetrics, which claims that xts cannot even finish some tests they did. But I cannot find the paper now.  </p>
","353214","","271616","","2013-03-16 15:40:14","2016-11-10 19:43:21","which time series class to use in R for financial data?","<r><time-series><xts><zoo>","2","2","2","","","CC BY-SA 2.5","2931989","4452","4452","r","404559","3625322","3607736","",""
"2932028","1","2933491","","2010-05-28 19:50:45","","2","3188","<p>I am having difficulty with:</p>

<ul>
<li>Listing the R packages and functions available to PostgreSQL.</li>
<li>Installing a package (such as <a href=""http://rss.acs.unt.edu/Rdoc/library/Kendall/html/Kendall.html"" rel=""nofollow noreferrer"">Kendall</a>) for use with PL/R</li>
<li>Calling an R function within PostgreSQL</li>
</ul>

<h3>Listing Available R Packages</h3>

<p><strong>Q.1.</strong> How do you find out what R modules have been loaded?</p>

<pre><code>SELECT * FROM r_typenames();
</code></pre>

<p>That shows the types that are available, but what about checking if <code>Kendall( X, Y )</code> is loaded? For example, the <a href=""http://www.joeconway.com/plr/doc/plr-module-funcs.html"" rel=""nofollow noreferrer"">documentation</a> shows:</p>

<pre><code>CREATE TABLE plr_modules (
  modseq int4,
  modsrc text
);
</code></pre>

<p>That seems to allow inserting records to dictate that <code>Kendall</code> is to be loaded, but the following code doesn't explain, syntactically, how to ensure that it gets loaded:</p>

<pre><code>INSERT INTO plr_modules
  VALUES (0, 'pg.test.module.load &lt;-function(msg) {print(msg)}');
</code></pre>

<p><strong>Q.2.</strong> What would the above line look like if you were trying to load <code>Kendall</code>?<br />
<strong>Q.3.</strong> Is it applicable?</p>

<h3>Installing R Packages</h3>

<p>Using the ""synaptic"" package manager the following packages have been installed:</p>

<pre><code>r-base
r-base-core
r-base-dev
r-base-html
r-base-latex
r-cran-acepack
r-cran-boot
r-cran-car
r-cran-chron
r-cran-cluster
r-cran-codetools
r-cran-design
r-cran-foreign
r-cran-hmisc
r-cran-kernsmooth
r-cran-lattice
r-cran-matrix
r-cran-mgcv
r-cran-nlme
r-cran-quadprog
r-cran-robustbase
r-cran-rpart
r-cran-survival
r-cran-vr
r-recommended
</code></pre>

<p><strong>Q.4.</strong> How do I know if Kendall is in there?<br />
<strong>Q.5.</strong> If it isn't, how do I find out what package it is in?<br />
<strong>Q.6.</strong> If it isn't in a package suitable for installing with <code>apt-get</code> (<code>aptitude</code>, <code>synaptic</code>, <code>dpkg</code>, what have you), how do I go about installing it on Ubuntu?<br />
<strong>Q.7.</strong> Where are the installation steps documented?<br /></p>

<h3>Calling R Functions</h3>

<p>I have the following code:</p>

<pre><code>EXECUTE 'SELECT '
  'regr_slope( amount, year_taken ),'
  'regr_intercept( amount, year_taken ),'
  'corr( amount, year_taken ),'
  'sum( measurements ) AS total_measurements '
'FROM temp_regression'
INTO STRICT slope, intercept, correlation, total_measurements;
</code></pre>

<p>This code calls the PostgreSQL function <code>corr</code> to calculate Pearson's correlation over the data. Ideally, I'd like to do the following (by switching <code>corr</code> for <code>plr_kendall</code>):</p>

<pre><code>EXECUTE 'SELECT '
  'regr_slope( amount, year_taken ),'
  'regr_intercept( amount, year_taken ),'
  'plr_kendall( amount, year_taken ),'
  'sum( measurements ) AS total_measurements '
'FROM temp_regression'
INTO STRICT slope, intercept, correlation, total_measurements;
</code></pre>

<p><strong>Q.8.</strong> Do I have to write <code>plr_kendall</code> myself?<br />
<strong>Q.9.</strong> Where can I find a <em>simple</em> example that walks through:</p>

<ol>
<li>Loading an R module into PG.</li>
<li>Writing a PG wrapper for the desired R function.</li>
<li>Calling the PG wrapper from a SELECT.</li>
</ol>

<p>For example, would the last two steps look like:</p>

<pre><code>create or replace function plr_kendall( _float8, _float8 ) returns float as '
  agg_kendall(arg1, arg2)
' language 'plr';

CREATE AGGREGATE agg_kendall (
  sfunc = plr_array_accum,
  basetype = float8, -- ???
  stype = _float8, -- ???
  finalfunc = plr_kendall
);
</code></pre>

<p>And then the <code>SELECT</code> as above?</p>

<p>Thank you!</p>
","59087","","","","","2010-05-29 16:04:46","Loading, listing, and using R Modules and Functions in PL/R","<postgresql><r><plr>","1","0","1","","","CC BY-SA 2.5","2932028","4452","4452","r","404559","3625322","3607736","",""
"2933253","1","2934019","","2010-05-29 00:24:16","","15","17758","<p>I've been using <code>var.test</code> and <code>bartlett.test</code> to check basic ANOVA assumptions, among others, homoscedascity (homogeniety, equality of variances). Procedure is quite simple for One-Way ANOVA:</p>

<pre><code>bartlett.test(x ~ g)  # where x is numeric, and g is a factor
var.test(x ~ g)
</code></pre>

<p>But, for 2x2 tables, i.e. Two-Way ANOVA's, I want to do something like this:</p>

<pre><code>bartlett.test(x ~ c(g1, g2))  # or with list; see latter:
var.test(x ~ list(g1, g2))
</code></pre>

<p>Of course, ANOVA assumptions can be checked with graphical procedures, but what about <em>""an arithmetic option""</em>? Is that, at all, manageable? How do you test homoscedascity in Two-Way ANOVA?</p>
","457898","","457898","","2010-05-29 00:59:46","2014-01-06 21:47:11","Homoscedascity test for Two-Way ANOVA","<r><testing><variance><anova>","3","2","10","","","CC BY-SA 2.5","2933253","4452","4452","r","404559","3625322","3607736","",""
"2935837","1","2935872","","2010-05-29 16:46:11","","6","14189","<p>I'm trying to use <code>recode</code> in R (from the <code>car</code> package) and it is not working. I read in data from a .csv file into a data frame called <code>results</code>. Then, I replace the values in the column <code>Built_year</code>, according to the following logic.</p>

<pre><code>recode(results$Built_year, 
       ""2 ='1950s';3='1960s';4='1970s';5='1980s';6='1990s';7='2000 or later'"")
</code></pre>

<p>When I check <code>results$Built_year</code> after doing this step, it appears to have worked. However, it does not store this value, and returns to its previous value. I don't understand why.</p>

<p>Thanks.</p>

<p>(at the moment something is going wrong and I can't see any of the icons for formatting)</p>
","258755","","180892","","2014-09-12 04:04:38","2014-09-12 04:04:38","Why is recode in R not changing the original values?","<r><statistics>","2","0","2","","","CC BY-SA 3.0","2935837","4452","4452","r","404559","3625322","3607736","",""
"2937619","1","2937630","","2010-05-30 05:06:28","","32","5119","<p>I have large amounts of data (a few terabytes) and accumulating... They are contained in many tab-delimited flat text files (each about 30MB). Most of the task involves reading the data and aggregating (summing/averaging + additional transformations) over observations/rows based on a series of predicate statements, and then saving the output as text, HDF5, or SQLite files, etc. I normally use R for such tasks but I fear this may be a bit large. Some candidate solutions are to </p>

<ol>
<li>write the whole thing in C (or
Fortran)</li>
<li>import the files (tables) into a
relational database directly and
then pull off chunks in R or Python
(some of the transformations are not
amenable for pure SQL solutions)</li>
<li>write the whole thing in Python</li>
</ol>

<p>Would (3) be a bad idea? I know you can wrap C routines in Python but in this case since there isn't anything computationally prohibitive (e.g., optimization routines that require many iterative calculations), I think I/O may be as much of a bottleneck as the computation itself. Do you have any recommendations on further considerations or suggestions? Thanks</p>

<p><strong>Edit</strong> Thanks for your responses. There seems to be conflicting opinions about Hadoop, but in any case I don't have access to a cluster (though I can use several unnetworked machines)...</p>
","143476","","143476","","2010-05-30 07:01:11","2010-06-07 02:25:19","large amount of data in many text files - how to process?","<python><sql><r><large-files><large-data-volumes>","8","1","21","","","CC BY-SA 2.5","2937619","4452","4452","r","404559","3625322","3607736","",""
"2940756","1","2940782","","2010-05-30 23:49:08","","7","3041","<p>I'm using GNU/Linux distro (Arch, if that's relevant), Emacs v23.2.1, ESS v5.9 and AucTeX v11.86.</p>

<p>I want to setup <em>AucTeX</em> to recognize <strong>.Rnw</strong> files, so I can run <em>LaTeX</em> on <strong>.Rnw</strong> files with <code>C-c C-c</code> and get <strong>.dvi</strong> file automatically. I reckon it's quite manageable by editing .emacs file, but I still haven't got a firm grasp on <em>Elisp</em>. </p>

<p>Yet another problem is quite annoying - somehow, <em>LaTeX</em> is not recognizing <code>\usepackage{Sweave}</code> in preambule, so I actually need to copy <code>Sweave.sty</code> file (in my case located in <code>/usr/share/R/texmf/Sweave.sty</code>) to directory where <strong>.Rnw</strong> file is located (and I'm becoming more frustrated by the fact that this is common bug on Windows platforms!)</p>

<p>My question boils down to two problems:</p>

<ul>
<li>how to make <em>LaTeX</em> recognize <code>\usepackage{Sweave}</code> (without copying <code>Sweave.sty</code> to ""home"" folder each time) [<strong>Edit:</strong> managed to do this; see comment after Dirk's answer]</li>
<li>how to setup <em>AucTeX</em> to compile <strong>.Rnw</strong> files to <strong>.dvi</strong></li>
</ul>
","457898","","457898","","2010-05-31 00:48:12","2010-12-11 21:41:44","ESS/AucTeX/Sweave integration","<emacs><r><latex><sweave><ess>","2","0","4","","","CC BY-SA 2.5","2940756","4452","4452","r","404559","3625322","3607736","",""
"2941519","1","2946179","","2010-05-31 05:31:57","","3","876","<p>In R, if we set the <code>help_type</code> argument of <code>help()</code> function to <code>html</code> and call it, it will automatically open the html help in a browser. However, this is not the case for <code>help_type = 'pdf'</code>. Only the pdf is generated. How can I make it automatically after the help file is generated? I believe that pdf help are preferred by some as it can display mathematical formula properly, the html help dont.</p>
","186891","","5278205","","2016-08-24 01:41:30","2016-08-24 01:41:30","Make PDF help files open automatically","<html><r>","1","1","1","","","CC BY-SA 3.0","2941519","4452","4452","r","404559","3625322","3607736","",""
"2948367","1","2948393","","2010-06-01 08:51:22","","4","10157","<p>Is it possible to pass just a variable name in a function call and have it utilised as such within the function??</p>

<p>pseudocode:</p>

<pre><code>q&lt;-function(A){
    b&lt;-(w%in%A.2|w%in%A.7)  
    factor(b,levels=c(F,T),labels=c(""non-""A,A))}


w&lt;-c(0:10)
e.2&lt;-c(1,2)
e.7&lt;-c(6,7)
</code></pre>

<p>what Id like to do is </p>

<pre><code>q(e)
</code></pre>

<p>and have returned </p>

<p>non-e,e,e,non-e,non-e,e,e,non-e,non-e</p>

<p>//M</p>

<hr>

<pre><code>q&lt;-function(A) {
    a2&lt;-get(paste(a,"".2"",sep=""""))
    a7&lt;-get(paste(a,"".7"",sep=""""))
    b&lt;-(w%in%a2|%in%a7) 
    factor(b,levels=c(F,T),labels=c(paste(""non-"",a,sep=""""),a)) 
}

q(""e"")
</code></pre>

<p>Thx, </p>

<p>M</p>
","338745","","168747","","2010-06-01 10:42:11","2010-06-01 10:42:11","Pass variable name to a function in r","<function><r><variables>","2","1","3","","","CC BY-SA 2.5","2948367","4452","4452","r","404559","3625322","3607736","",""
"2949978","1","2950053","","2010-06-01 13:10:04","","0","1974","<p>I'm trying to understand how to have more than one series on a plot, using the following data.</p>

<pre><code>Year &lt;- c('1950', '1960', '1970', '1980')
Bus &lt;- c(10,20,30,40)
Bus.sd &lt;- c(1.1, 2.2, 3.3, 4.4)
Car &lt;- c(20, 20, 40, 40)
Car.sd &lt;- c(1.1, 2.2, 3.3, 4.4)

sample_data = data.frame(Year, Bus, Bus.sd, Car, Car.sd)

qplot(Year, Bus, data=sample_data, geom=""pointrange"", 
ymin = Bus - Bus.sd/2, ymax = Bus + Bus.sd/2)
</code></pre>

<p>For example, using the above data, how do I show both sample_data$Bus and sample_data$Car on the same plot in different colors? </p>

<p>What I tried doing was:</p>

<pre><code>p &lt;- qplot(...)
</code></pre>

<p>then </p>

<pre><code>p &lt;- p + qplot(...) 
</code></pre>

<p>where I replicated the previous line, but this gave me an error.</p>

<p>I don't fully understand how AES works. I have studied the ggplot2 examples, but have difficulty understanding the relevant examples here. Or, if it is possible to make a stacked bar (geom_bar) using this data, I think that would also represent it appropriately.</p>
","258755","","258755","","2010-06-01 13:30:19","2010-06-02 14:44:27","How do I plot more than one series using qplot?","<r><ggplot2>","1","1","2","","","CC BY-SA 2.5","2949978","4452","4452","r","404559","3625322","3607736","",""
"2952871","1","","","2010-06-01 19:57:49","","1","5514","<p>I am trying to make a graph of a table and graph it in log space.</p>

<p>First of all, <code>plot(dat)</code> gives me the grid of graphs</p>

<p>Second of all, <code>plot(dat, log=""xy"")</code> gives me the correct plots of data in log space</p>

<p>However, <code>plot(dat, log=""xy"")</code> ruins the main diagonal's labels of <code>names(dat)</code></p>

<p>R version 2.11.0</p>

<p>Sample Data:</p>

<pre><code>           cold cold_control drought_1 drought_2 drought_control_1 drought_control_2   pollen
locusA  1.586772     2.681969  2.158070  0.565037          3.012266          3.673228 0.000000
locusB  0.000000     0.000000  0.063385  0.000000          0.000000          0.000000 0.000000
locusC  0.000000     0.000000  0.000000  0.000000          0.000000          0.000000 0.049587
locusD 66.811446   142.196072 74.329916 35.878431        106.071526        150.266891 0.000000
locusE 10.310947     6.489778 20.680820 31.699902         19.353401         21.345744 0.033246
locusF 26.928376    11.339193 21.226212 24.858953         10.085712         15.587217 0.412588
</code></pre>

<p>Also, I get these warnings with <code>log=""xy""</code></p>

<blockquote>
  <p>1: In xy.coords(x, y, xlabel, ylabel, log) :   2 x values &lt;= 0 omitted
  from logarithmic plot</p>
  
  <p>2: In xy.coords(x, y, xlabel, ylabel, log) :   2 y values &lt;= 0 omitted
  from logarithmic plot</p>
  
  <p>3: In xy.coords(x, y, xlabel, ylabel, log) :   2 x values &lt;= 0 omitted
  from logarithmic plot</p>
  
  <p>4: In xy.coords(x, y, xlabel, ylabel, log) :   2 y values &lt;= 0 omitted
  from logarithmic plot</p>
  
  <p>5: In axis(side = side, at = at, labels = labels, ...) :   ""log"" is
  not a graphical parameter</p>
  
  <p>6: In plot.xy(xy.coords(x, y), type = type, ...) :   ""log"" is not a
  graphical parameter</p>
</blockquote>
","145816","","5436877","","2019-04-09 13:56:06","2019-04-09 13:56:06","R multi log-log plot","<r><plot><label>","1","1","1","","","CC BY-SA 4.0","2952871","4452","4452","r","404559","3625322","3607736","",""
"2953093","1","2953115","","2010-06-01 20:29:40","","17","3853","<p>I have a vector of strings. Check out my vector, it's <code>awesome</code>:</p>

<pre><code>&gt; awesome
[1] ""a"" ""b"" ""c"" ""d"" ""d"" ""e"" ""f"" ""f""
</code></pre>

<p>I'd like to make a new vector that is the same length as <code>awesome</code> but where, if necessary, the strings have been uniqueified. For example, a valid output of my desired function would be</p>

<pre><code>&gt; awesome.uniqueified
[1] ""a"" ""b"" ""c"" ""d.1"" ""d.2"" ""e"" ""f.1"" ""f.2""
</code></pre>

<p>Is there an easy, R-thonic and beautiful way to do this? I should say my list in real life (it's not called <code>awesome</code>) contains 25000ish mircoarray probeset identifiers.</p>

<p>I'm always nervous when I embark on writing little generic functions (which I'm sure I could do) as I'm sure some R guru has come across this problem in the past, nailed it with some incredible algorithm that doesn't even have to store more than half an element in the vector. I'm just not sure what they might have called it. Probably not <code>uniqueify</code>.</p>
","270572","","4895725","","2017-12-13 13:07:24","2017-12-13 13:07:24","How to make a unique set of names from a vector of strings?","<r>","1","0","","","","CC BY-SA 3.0","2953093","4452","4452","r","404559","3625322","3607736","",""
"2953641","1","3023265","","2010-06-01 21:54:05","","5","2108","<p>Anyone knows how to take advantage of ggplot or lattice in doing survival analysis? It would be nice to do a trellis or facet-like survival graphs.</p>

<hr>

<p>So in the end I played around and sort of found a solution for a Kaplan-Meier plot. I apologize for the messy code in taking the list elements into a dataframe, but I couldnt figure out another way. </p>

<p>Note: It only works with two levels of strata. If anyone know how I can use <code>x&lt;-length(stratum)</code> to do this please let me know (in Stata I could append to a macro-unsure how this works in R).</p>

<pre><code>ggkm&lt;-function(time,event,stratum) {

    m2s&lt;-Surv(time,as.numeric(event))

    fit &lt;- survfit(m2s ~ stratum)

    f$time &lt;- fit$time

    f$surv &lt;- fit$surv

    f$strata &lt;- c(rep(names(fit$strata[1]),fit$strata[1]),
            rep(names(fit$strata[2]),fit$strata[2])) 

    f$upper &lt;- fit$upper

    f$lower &lt;- fit$lower

    r &lt;- ggplot (f, aes(x=time, y=surv, fill=strata, group=strata))
        +geom_line()+geom_ribbon(aes(ymin=lower,ymax=upper),alpha=0.3)

    return(r)
}
</code></pre>
","338745","","","user1685185","2014-01-16 13:01:53","2014-01-16 13:01:53","Utilise Surv object in ggplot or lattice","<r><graph><analysis><ggplot2><lattice>","2","1","4","","","CC BY-SA 3.0","2953641","4452","4452","r","404559","3625322","3607736","",""
"2954005","1","2954610","","2010-06-01 23:15:13","","78","72097","<p>I'm trying to create a ggplot2 plot with the legend beneath the plot.</p>

<p>The ggplot2 book says on p 112 ""The position and justification of legends are controlled by the theme setting legend.position, and the value can be right, left, top, bottom, none (no legend), or a numeric position"". </p>

<p>The following code works (since ""right"" it is the default), and it also works with ""none"" as the legend position, but ""left"", ""top"", ""bottom"", all fail with ""Error in grid.Call.graphics(""L_setviewport"", pvp, TRUE) :  Non-finite location and/or size for viewport""</p>

<pre><code>library(ggplot2)
(myDat &lt;- data.frame(cbind(VarX=10:1, VarY=runif(10)), 
    Descrip=sample(LETTERS[1:3], 10, replace=TRUE)))
qplot(VarX,VarY, data=myDat, shape=Descrip) + 
    opts(legend.position=""right"")
</code></pre>

<p>What am I doing wrong? Re-positioning a legend must be incredibly common, so I figure it's me.</p>
","23929","","23929","","2010-06-01 23:21:48","2018-08-17 19:23:29","How to move or position a legend in ggplot2","<r><ggplot2><legend><legend-properties>","4","0","9","","","CC BY-SA 2.5","2954005","4452","4452","r","404559","3625322","3607736","",""
"2954008","1","","","2010-06-01 23:15:58","","1","494","<p>I have some data that I am trying to plot faceted by its Type with a smooth (Loess, LM, whatever) superimposed.  Generation code is below:</p>

<pre><code>testFrame &lt;- data.frame(Time=sample(20:60,50,replace=T),Dollars=round(runif(50,0,6)),Type=sample(c(""First"",""Second"",""Third"",""Fourth""),50,replace=T,prob=c(.33,.01,.33,.33)))
</code></pre>

<p>I have no problem either making a faceted plot, or plotting the smooth, but I cannnot do both.  The first three lines of code below work fine.  The fourth line is where I have trouble:</p>

<pre><code>qplot(Time,Dollars,data=testFrame,colour=Type)
qplot(Time,Dollars,data=testFrame,colour=Type) + geom_smooth()
qplot(Time,Dollars,data=testFrame) + facet_wrap(~Type)
qplot(Time,Dollars,data=testFrame) + facet_wrap(~Type) + geom_smooth()
</code></pre>

<p>It gives the following error:</p>

<blockquote>
  <p>Error in <code>[&lt;-.data.frame</code>(<code>*tmp*</code>, var, value = list(<code>NA</code> = NULL)) : 
   missing values are not allowed in subscripted assignments of data frames</p>
</blockquote>

<p>What am I missing to overlay a smooth in a faceted plot?  I could have sworn I had done this before, possibly even with the same data.</p>
","260533","","168747","","2010-06-09 10:34:26","2010-06-09 10:34:26","Smooth Error in qplot from ggplot2","<r><smooth><facet><ggplot2>","1","0","1","","","CC BY-SA 2.5","2954008","4452","4452","r","404559","3625322","3607736","",""
"2954115","1","2954186","","2010-06-01 23:42:34","","7","608","<p>When running this code (go ahead, try it):</p>

<pre><code>library(ggplot2)
(myDat &lt;- data.frame(cbind(VarX=10:1, VarY=runif(10)), 
    Descrip=sample(LETTERS[1:3], 10, replace=TRUE)))
ggplot(myDat,aes(VarX,VarY,shape=Descrip,size=3)) + geom_point()
</code></pre>

<p>... the ""size=3"" statement does correctly set the point size.  However it causes the legend to give birth to a little legend beneath it, entitled ""3"" and containing nothing but a big dot and the number 3. </p>

<p>This does the same</p>

<pre><code>ggplot(myDat,aes(VarX,VarY,shape=Descrip)) + geom_point(aes(size=3)) 
</code></pre>

<p>Yes, it is funny. It would have driven me insane a couple hours ago if it weren't so funny. But now let's make it stop.</p>
","23929","","","","","2010-06-02 00:05:59","Irrelevant legend information in ggplot2","<r><ggplot2><legend>","1","1","2","","","CC BY-SA 2.5","2954115","4452","4452","r","404559","3625322","3607736","",""
"2954638","1","","","2010-06-02 02:31:22","","9","954","<p>R users are advised to download R and R packages from local CRAN mirrors. But some are outdated. Is there an easy way to check if a repository is outdated? Any function in R that does that?</p>
","186891","","186891","","2010-06-02 08:08:19","2010-06-02 11:56:11","How to check if a CRAN mirror is outdated?","<r><cran>","1","0","3","","","CC BY-SA 2.5","2954638","4452","4452","r","404559","3625322","3607736","",""
"2956672","1","2956727","","2010-06-02 10:11:34","","1","7707","<p>I tried to pass a filepath to a function in R, but I failed =/ I hope someone here can help me.</p>

<pre><code>&gt;heat &lt;- function(filepath) 
{ chicks &lt;- read.table(file=filepath, dec="","", header=TRUE, sep=""\t"")
...
}
</code></pre>

<p>When I call the function, nothing happens...</p>

<pre><code>&gt;heat(""/home/.../file.txt"")
</code></pre>

<p>... and ""chicks"" is not found</p>

<pre><code>&gt;chicks
Error: Object 'chicks' not found
</code></pre>

<p>What is the correct way to pass a path to a function?</p>
","356315","","3848765","","2017-09-05 15:32:37","2017-09-05 15:32:37","Passing a filepath to a R function?","<function><r><path>","3","2","2","","","CC BY-SA 3.0","2956672","4452","4452","r","404559","3625322","3607736","",""
"2956855","1","","","2010-06-02 10:37:58","","1","1230","<p>I'm working with <code>R</code> and I have a code like this:</p>

<pre><code>for (i in 1:10)
   for (j in 1:100)
        if (data[i] == paths[j,1])
            cluster[i,4] &lt;- paths[j,2]
</code></pre>

<p>where :</p>

<ul>
<li><code>data</code> is a vector with 100 rows and 1 column</li>
<li><code>paths</code> is a matrix with 100 rows and 5 columns</li>
<li><code>cluster</code> is a matrix with 100 rows and 5 columns</li>
</ul>

<p>My question is: how could I avoid the use of ""for"" loops to iterate through the matrix?  I don't know whether <code>apply</code> functions (<code>lapply</code>, <code>tapply</code>...) are useful in this case.</p>

<p>This is a problem when <code>j=10000</code> for example, because execution time is very long.</p>

<p>Thank you</p>
","223757","","8676170","","2018-02-09 14:28:04","2018-02-09 14:28:04","Avoid the use of for loops","<optimization><r><loops>","2","6","4","","","CC BY-SA 3.0","2956855","4452","4452","r","404559","3625322","3607736","",""
"2958751","1","2959169","","2010-06-02 14:41:30","","1","1822","<p>I need your help again :)</p>

<p>I wrote an R script, that generates a heatmap out of a given tab-seperated txt or xls file. At the moment, I delete all columns I don't want to have in the heatmap by hand in the xls file. 
Now I want to automatize it, but I don't know how :(</p>

<p>The interesting columns all start the same in all xls files, followed by an individual name:</p>

<p>xls-file 1: L1_tpm_xxxx L2_tpm_xxxx L3_tpm_xxxx </p>

<p>xls-file 2: L1_tpm_xxxx L2_tpm_xxxx L3_tpm_xxxx L4_tpm_xxxx L5_tpm_xxxx</p>

<p>Any ideas how to select those columns?</p>

<p>Thanking you in anticipation, Philipp</p>
","356315","","","","","2010-06-03 06:48:52","Select columns for heatmap in R","<r><heatmap>","2","2","1","","","CC BY-SA 2.5","2958751","4452","4452","r","404559","3625322","3607736","",""
"2961325","1","","","2010-06-02 20:24:01","","3","1953","<p>I wish to search twitter for a word (let's say #google), and then be able to generate a tag cloud of the words used in twitts, but according to dates (for example, having a moving window of an hour, that moves by 10 minutes each time, and shows me how different words gotten more often used throughout the day).</p>

<p>I would appreciate any help on how to go about doing this regarding: resources for the information, code for the programming (R is the only language I am apt in using) and ideas on visualization.  Questions:</p>

<ol>
<li><p>How do I get the information? </p>

<p>In R, I found that the twitteR package has the searchTwitter command.  But I don't know how big an ""n"" I can get from it.  Also, It doesn't return the dates in which the twitt originated from.</p>

<p>I see <a href=""https://stackoverflow.com/questions/580369/count-number-of-results-for-a-particular-word-on-twitter"">here</a> that I could get until 1500 twitts, but this requires me to do the parsing manually (which leads me to step 2).  Also, for my purposes, I would need tens of thousands of twitts.  Is it even possible to get them in retrospect?? (for example, asking older posts each time through the API URL ?)  If not, there is the more general question of how to create a personal storage of twitts on your home computer? (a question which might be better left to another SO thread - although any insights from people here would be very interesting for me to read)</p></li>
<li><p>How to parse the information (in R)? I know that R has functions that could help from  the rcurl and twitteR packages.  But I don't know which, or how to use them.  Any suggestions would be of help.</p></li>
<li><p>How to analyse?  how to remove all the ""not interesting"" words?  I found that the ""tm"" package in R has <a href=""https://docs.google.com/viewer?url=http://cran.r-project.org/web/packages/tm/vignettes/tm.pdf"" rel=""nofollow noreferrer"">this example</a>:</p>

<p>reuters &lt;- tm_map(reuters, removeWords, stopwords(""english""))</p>

<p>Would this do the trick?  I should I do something else/more ?</p>

<p>Also, I imagine I would like to do that after cutting my dataset according to time (which will require some posix-like functions (which I am not exactly sure which would be needed here, or how to use it).</p></li>
<li><p>And lastly, there is the question of visualization.  How do I create a tag cloud of the words?  I found <a href=""http://www.r-bloggers.com/creating-tag-cloud-using-r-and-flash-javascript-swfobject/"" rel=""nofollow noreferrer"">a solution for this here</a>, any other suggestion/recommendations?</p></li>
</ol>

<p>I believe I am asking a huge question here but I tried to break it to as many straightforward questions as possible.  Any help will be welcomed!</p>

<p>Best,</p>

<p>Tal</p>
","256662","","-1","","2017-05-23 12:30:45","2012-02-29 01:32:28","Plotting a word-cloud by date for a twitter search result? (using R)","<database><r><visualization><twitter>","4","8","3","","","CC BY-SA 2.5","2961325","4452","4452","r","404559","3625322","3607736","",""
"2962433","1","2964273","","2010-06-02 23:46:09","","2","1802","<p>I have five shapefiles of bordering counties in California that I am trying to combine into one large shapefile and maintain the original borders of the counties.  I then want to plot points such as <a href=""https://stackoverflow.com/questions/1481032/help-plotting-geographic-data-in-r-using-pbsmapping-and-shapefiles"">this</a> so the map only needs to be a simple map of county boundaries.  Is there a way to do this in R or will I have to use something like ArcGIS?  </p>

<p>There is extensive documentation about merging within a shapefile such as <a href=""http://forums.esri.com/Thread.asp?c=93&amp;f=987&amp;t=267802"" rel=""nofollow noreferrer"">here</a> where both shapefiles have the same coordinates.  But no documentation on shapefiles that only partially share coordinates.</p>
","163809","","-1","","2017-05-23 12:19:39","2015-03-18 07:54:56","Combining bordering shapefiles in R","<r><gis><esri><shapefile>","2","0","","","","CC BY-SA 2.5","2962433","4452","4452","r","404559","3625322","3607736","",""
"2963729","1","2964312","","2010-06-03 06:26:04","","6","3690","<p>I'm fitting some exponential data using <code>nls</code>.</p>

<p>The code I'm using is:</p>

<pre><code>fit &lt;- nls(y ~ expFit(times, A, tau, C), start = c(A=100, tau=-3, C=0))
</code></pre>

<p><code>expFit</code> is defined as </p>

<pre><code>expFit &lt;- function(t, A, tau, C)
    {
    expFit &lt;- A*(exp(-t/tau))+C
    }
</code></pre>

<p>This works well for most of my data, for which the starting parameters provided (100, -3 and 0) work well. Sometimes, though, I have data that doesn't go well with those parameters and I get errors from <code>nls</code> (e.g. ""singular gradient"" or things like that). How do I ""catch"" these errors?</p>

<p>I tried to do something like</p>

<pre><code>fit &lt;- NULL
fit &lt;- nls(...)

if (is.null(fit))
    {
    // Try nls with other starting parameters
    }
</code></pre>

<p>But this won't work because <code>nls</code> seems to stop the execution and the code after <code>nls</code> will not execute... </p>

<p>Any ideas?</p>

<p>Thanks
nico</p>
","176923","","","","","2013-03-26 12:53:17","R : catching errors in `nls`","<r><exception-handling><curve-fitting><nls>","1","0","4","","","CC BY-SA 2.5","2963729","4452","4452","r","404559","3625322","3607736","",""
"2968220","1","2968404","","2010-06-03 17:13:20","","51","5363","<p>The objective is to have two simple ways to source some code, say func.R, containing a function. Calling <code>R CMD BATCH func.R</code> initializes the function and evaluates is. Within a session, issuing <code>source(""func.R"")</code> simply initializes the function.
Any idea?</p>
","143813","","918414","","2012-06-30 04:17:49","2021-01-05 02:51:07","Is there an R equivalent of the pythonic ""if __name__ == ""__main__"":     main()""?","<python><r>","6","1","13","","","CC BY-SA 3.0","2968220","4452","4452","r","404559","3625322","3607736","",""
"2968575","1","","","2010-06-03 18:05:55","","6","2161","<p>I have a set of days-each with a 0/1 code- for the presence of an event I will call 'visit.'<br>
For example for day 1 to day 12 I could have the vector (0,0,1,0,1,1,1,1,0,0,0,1) when I have a visit on days 3,5,6,7,8, and 12.   I would like to apply some function that will give me the vector (1,4,1) which will imply 3 groups of visits of duration of 1, 4 and 1 day.   It is easy to find the 0s.  I can't figure out to combine the lags and cumulative sums to get a 1 day visit or an extended visit.</p>
","357785","","","","","2010-06-03 18:13:41","How do I calculate the length of consecutive runs of events, e.g. wins, visits, in R","<r>","1","1","3","","","CC BY-SA 2.5","2968575","4452","4452","r","404559","3625322","3607736","",""
"2969089","1","2971286","","2010-06-03 19:24:19","","1","287","<p>So there is R for 64-bit Windows users now. I'd like to know if anyone has found incremental benefits in using R-64bit over the 32bit version on Windows. </p>

<p>I'm looking for more specific information</p>

<ul>
<li>What was the system specification (6gb RAM for example) and the largest data-set that was crunched ?</li>
<li>Which algorithm performed faster ?</li>
<li>Any other experiential information that motivated you to adopt the 64bit version on Windows</li>
</ul>

<p>If I had a $ for all the times non-R users cribbed about R's data limitation....!</p>

<p>I want to showcase R at my workplace and want some testimonials to prove that with a decently powerful machine, 64bit R on windows can crunch gigabyte class datasets.</p>
","177390","","","","","2010-06-04 03:18:14","R 64 bit for Windows comparison","<r>","1","0","2","2015-05-03 08:27:29","","CC BY-SA 2.5","2969089","4452","4452","r","404559","3625322","3607736","",""
"2969315","1","2969666","","2010-06-03 19:58:13","","54","42823","<p>I have what is probably a really dumb <code>grep</code> in R question. Apologies, because this seems like it should be so easy - I'm obviously just missing something. </p>

<p>I have a vector of strings, let's call it <code>alice</code>. Some of <code>alice</code> is printed out below:</p>

<pre><code>T.8EFF.SP.OT1.D5.VSVOVA#4   
T.8EFF.SP.OT1.D6.LISOVA#1  
T.8EFF.SP.OT1.D6.LISOVA#2   
T.8EFF.SP.OT1.D6.LISOVA#3  
T.8EFF.SP.OT1.D6.VSVOVA#4    
T.8EFF.SP.OT1.D8.VSVOVA#3  
T.8EFF.SP.OT1.D8.VSVOVA#4   
T.8MEM.SP#1                
T.8MEM.SP#3                      
T.8MEM.SP.OT1.D106.VSVOVA#2 
T.8MEM.SP.OT1.D45.LISOVA#1  
T.8MEM.SP.OT1.D45.LISOVA#3
</code></pre>

<p>I'd like grep to give me the number after the D that appears in some of these strings, conditional on the string containing ""LIS"" and an empty string or something otherwise. </p>

<p>I was hoping that grep would return me the value of a capturing group rather than the whole string. Here's my R-flavoured regexp:</p>

<pre><code>pattern &lt;- (?&lt;=\\.D)([0-9]+)(?=.LIS)
</code></pre>

<p>nothing too complicated. But in order to get what I'm after, rather than just using <code>grep(pattern, alice, value = TRUE, perl = TRUE)</code> I'm doing the following, which seems bad:</p>

<pre><code>reg.out &lt;- regexpr(
    ""(?&lt;=\\.D)[0-9]+(?=.LIS)"",
    alice,
    perl=TRUE
)
substr(alice,reg.out,reg.out + attr(reg.out,""match.length"")-1)
</code></pre>

<p>Looking at it now it doesn't seem too ugly, but the amount of messing about it's taken to get this utterly trivial thing working has been embarrassing. Anyone any pointers about how to go about this properly?</p>

<p>Bonus marks for pointing me to a webpage that explains the difference between whatever I access with <code>$</code>,<code>@</code> and <code>attr</code>.</p>
","270572","","10248678","","2020-08-08 13:53:03","2020-08-08 13:53:03","R:how to get grep to return the match, rather than the whole string","<r><regex>","2","1","22","","","CC BY-SA 2.5","2969315","4452","4452","r","404559","3625322","3607736","",""
"2970443","1","2986246","","2010-06-03 23:11:08","","2","3483","<p>Thanks to Hadley's plyr package ddply function we can take a dataframe, break it down into subdataframes by factors, send each to a function, and then combine the function results for each subdataframe into a new dataframe.</p>

<p>But what if the function returns an object of a class like glm or in my case, a c(""glm"", ""lm""). Then, these can't be combined into a dataframe can they? I get this error instead</p>

<pre><code>Error in as.data.frame.default(x[[i]], optional = TRUE, stringsAsFactors = stringsAsFactors) : cannot coerce class 'c(""glm"", ""lm"")' into a data.frame
</code></pre>

<p>Is there some more flexible data structure that will accommodate all the complex glm class results of my function calls, preserving the information regarding the dataframe subsets?</p>

<p>Or should this be done in an entirely different way?</p>
","302378","","","","","2010-06-06 22:49:27","break dataframe into subsets by factor values, send to function that returns glm class, how to recombine?","<r><plyr>","1","2","2","","","CC BY-SA 2.5","2970443","4452","4452","r","404559","3625322","3607736","",""
"2970817","1","","","2010-06-04 00:49:50","","1","420","<p>I have a table with >2M rows. I am only interested in percentiles of one variable vs. percentiles of number of observations (e.g. Lorentz curve).</p>

<ul>
<li><p>How do I create a smaller dataframe that contains e.g. observations number 1,101,201,301,...,last , or observations that corresponds to e.g. the 1,2,3,...,100 percentile of total number of observations?</p></li>
<li><p>Is there a quick way to get the lorenz curve of (index, variable) with axes on a percentage basis? Right now I was thinking of adding variables for percentiles of index and variables and then plot them against each other.</p></li>
</ul>

<p>Thanks,</p>

<p>Roberto</p>
","344513","","","","","2010-06-04 10:49:16","subsetting nonconsecituve observations in R","<r>","2","1","","","","CC BY-SA 2.5","2970817","4452","4452","r","404559","3625322","3607736","",""
"2970829","1","2972834","","2010-06-04 00:52:06","","6","9568","<p>I was wondering if it is possible to extract nouns, verbs separately in R package openNLP? 
I use the the tagPOS function which tags the sentence but what to do in case I want to extract verbs, nouns separately. </p>
","358506","","","","","2016-03-28 09:50:07","Extracting Nouns and Verbs from Text","<r>","1","0","6","","","CC BY-SA 2.5","2970829","4452","4452","r","404559","3625322","3607736","",""
"2971090","1","2971434","","2010-06-04 02:13:40","","4","848","<p>I created an R package on Linux (and it is working on Linux), but I can't make the same package work on Windows.</p>

<p>What I tried to do (maybe it was a bit foolish) was to convert the tar.gz into a Zip file and to install it from the R GUI.</p>

<p>However, when I load the package library(""myPackage"") then I get the following message:</p>

<pre><code>  Error in library(""myPackage"") :
     there is no package called 'myPackage'
</code></pre>

<p>Should I try to build the package directly from Windows with the R tools?</p>
","295307","","967840","","2012-07-17 21:53:20","2012-07-17 21:53:20","Creating an R package for windows","<windows><r><packages>","2","0","2","","","CC BY-SA 3.0","2971090","4452","4452","r","404559","3625322","3607736","",""
"2971419","1","","","2010-06-04 03:56:13","","7","2842","<p>I have some .Rdata files that contain saved functions as defined by approxfun().</p>

<p>Some of the save files pre-date the change to approxfun from package ""base"" to ""stats"", and so the body has</p>

<pre><code>PACKAGE = ""base""
</code></pre>

<p>and the wrong package causes the function to fail. I can fix(myfun) and simply replace ""base"" with ""stats"", but I want a neater automatic way. </p>

<p>Can I do this with gsub() and body() somehow? </p>

<p>I can get the body text and substitute there with </p>

<pre><code>as.character(body(myfun))
</code></pre>

<p>but I don't know how to turn that back into a ""call"" and replace the definition. </p>

<p>(I know that a better solution is to have saved the data originally used by approxfun and simply recreate the function, but I wonder if there's a sensible way to modify the existing one.)</p>

<p>Edit: I found it here </p>

<p><a href=""https://stackoverflow.com/questions/2458013/what-ways-are-there-to-edit-a-function-in-r/2485556#2485556"">What ways are there to edit a function in R?</a></p>
","355270","","-1","","2017-05-23 11:55:16","2014-09-28 20:27:52","modify the body text of existing function objects","<r>","1","5","","","","CC BY-SA 3.0","2971419","4452","4452","r","404559","3625322","3607736","",""
"2974728","1","2988996","","2010-06-04 13:54:27","","3","1375","<p>Is there a package that ports Stanford parser in R? </p>
","358506","","235019","","2015-02-02 05:20:36","2015-12-24 08:08:32","R interface for Stanford Parser","<r><stanford-nlp>","2","0","2","2015-12-24 08:34:47","","CC BY-SA 3.0","2974728","4452","4452","r","404559","3625322","3607736","",""
"2977999","1","2978568","","2010-06-04 21:42:38","","10","2436","<p>I'm using R. I have 25 variables over 15 time points, with 3 or more replicates per variable per time point. I've <code>melt</code>ed this into a <code>data.frame</code>, which I can plot happily using (amongst other things) ggplot's <code>facet_wrap()</code> command. My melted data frame is called <code>lis</code>; here's its head and tail, so you get an idea of the data:</p>

<pre><code>&gt; head(lis)
  time variable    value
1   10     SELL 8.170468
2   10     SELL 8.215892
3   10     SELL 8.214246
4   15     SELL 8.910654
5   15     SELL 7.928537
6   15     SELL 8.777784
&gt; tail(lis)
    time variable    value
145    1     GAS5 10.92248
146    1     GAS5 11.37983
147    1     GAS5 10.95310
148    1     GAS5 11.60476
149    1     GAS5 11.69092
150    1     GAS5 11.70777
</code></pre>

<p>I can get a beautiful plot of all the time series, along with a fitted spline and 95% confidence intervals using the following ggplot2 commands:</p>

<pre><code>p &lt;- ggplot(lis, aes(x=time, y=value)) + facet_wrap(~variable)
p &lt;- p + geom_point() + stat_smooth(method = ""lm"", formula = y ~ ns(x,3))
</code></pre>

<p>The trouble is that the smoother is not to my liking - the 95% confidence intervals are way off. I would like to use Gaussian Processes (GP) to get a better regression and estimate of covariance for my time series. </p>

<p>I can fit a GP using something like </p>

<pre><code>library(tgp) 
out &lt;- bgp(X, Y, XX = seq(0, 200, length = 100))
</code></pre>

<p>which takes time <code>X</code>, observations <code>Y</code> and makes predictions at each point in <code>XX</code>. The object <code>out</code> contains a bunch of things about those predictions, including a covariance matrix I can use in place of the 95% confidence interval I get (I think?) from <code>ns()</code>.</p>

<p>The trouble is I'm not how to wrap this function to make it interface with <code>ggplot2::stat_smooth()</code>. Any ideas or pointers as to how to proceed would be greatly appreciated! </p>
","270572","","","","","2012-12-11 02:08:08","R + ggplot : how to use a custom smoother (Gaussian Process)","<r><machine-learning><ggplot2><gaussian>","2","0","2","","","CC BY-SA 2.5","2977999","4452","4452","r","404559","3625322","3607736","",""
"2978753","1","4767046","","2010-06-05 01:28:38","","5","779","<p>I would like to know if it is possible to refactor R code in ESS. Using search and replace in Emacs does not seem to be a good alternative to it.</p>
","186891","","","","","2011-01-22 09:10:42","Refactoring R code using ESS/R","<emacs><r><elisp><ess>","2","7","4","","","CC BY-SA 2.5","2978753","4452","4452","r","404559","3625322","3607736","",""
"2978784","1","2983052","","2010-06-05 01:44:20","","10","7554","<p>I've been using <code>xtable</code> package for a long time, and looking forward to writting my first package in R... so I reckon that if I have some ""cool"" idea that's worth carying out, there's a great chance that somebody got there before me... =)</p>

<p>I'm interested in functions/packages specialized for LaTeX table creation (through R, of course). I bumped on <code>quantreg</code> package which has <code>latex.table</code> function. Any suggestion for similar function(s)/package(s)?</p>

<p>P.S.
I'm thinking about building a webapp in which users can define their own presets/templates of tables, choose style, statistics, etc. It's an early thought, though... =)</p>
","457898","","4370109","","2017-01-14 23:24:55","2017-01-14 23:24:55","Suggestion for R/LaTeX table creation package","<r><latex>","4","1","7","","","CC BY-SA 2.5","2978784","4452","4452","r","404559","3625322","3607736","",""
"2979554","1","","","2010-06-05 07:29:00","","3","7983","<p>How could I export my e-mail database from Gmail (or Thunderbird) into R?</p>

<p>Like there is the rgoogledocs package and twitteR, is there a gmailR package, or a standard format for exporting emails into stat packages ?</p>

<p>Tal</p>
","256662","","256662","","2010-06-05 07:35:47","2018-06-02 15:25:46","How to extract e-mail data into R?","<email><r><gmail><package>","5","1","4","","","CC BY-SA 2.5","2979554","4452","4452","r","404559","3625322","3607736","",""
"2981375","1","","","2010-06-05 17:39:43","","2","503","<p>I am writing a short Sweave document that outputs into a Beamer presentation, in which I am using the sagetex package to solve an equation for two parameters in the beta binomial distribution, and I need to assign the parameter values into the R session so I can do additional processing on those values.  The following code excerpt shows how I am interacting with sage:</p>

<pre><code>&lt;&lt;echo=false,results=hide&gt;&gt;=
mean.raw &lt;- c(5, 3.5, 2)
theta &lt;- 0.5  
var.raw &lt;- mean.raw + ((mean.raw^2)/theta)
@

\begin{frame}[fragile]
\frametitle{Test of Sage 2}
\begin{sagesilent}
var('a1, b1, a2, b2, a3, b3')
eqn1 = [1000*a1/(a1+b1)==\Sexpr{mean.raw[1]}, ((1000*a1*b1)*(1000+a1+b1))/((a1+b1)^2*(a1+b1+1))==\Sexpr{var.raw[1]}]
eqn2 = [1000*a2/(a2+b2)==\Sexpr{mean.raw[2]}, ((1000*a2*b2)*(1000+a2+b2))/((a2+b2)^2*(a2+b2+1))==\Sexpr{var.raw[2]}]
eqn3 = [1000*a3/(a3+b3)==\Sexpr{mean.raw[3]}, ((1000*a3*b3)*(1000+a3+b3))/((a3+b3)^2*(a3+b3+1))==\Sexpr{var.raw[3]}]
s1 = solve(eqn1, a1,b1)
s2 = solve(eqn2, a2,b2)
s3 = solve(eqn3, a3,b3)
\end{sagesilent}

Solutions of Beta Binomial Parameters:
\begin{itemize}
\item $\sage{s1[0]}$
\item $\sage{s2[0]}$
\item $\sage{s3[0]}$
\end{itemize}
\end{frame}
</code></pre>

<p>Everything compiles just fine, and in that slide I am able to see the solutions to the three equations respective parameters in that itemized list (for example the first item in the itemized list from that beamer slide is outputted as <code>[a1=(328/667), b1=(65272/667)]</code> (I am not able to post an image of the beamer slide but I hope you get the idea).</p>

<p>I would like to save the parameter values <code>a1,b1,a2,b2,a3,b3</code> into R objects so that I can use them in simulations. I cannot find any documentation in the sagetex package on how to save output from sage commands into variables for use with other programs (in this case R).  Any suggestions on how to get these values into R?</p>
","315664","","","","","2010-12-27 09:53:18","Assign sage variable values into R objects via sagetex and Sweave","<r><latex><sage>","1","0","","","","CC BY-SA 2.5","2981375","4452","4452","r","404559","3625322","3607736","",""
"2983433","1","2983646","","2010-06-06 07:19:15","","19","8112","<p>How do you sink both the console input and the console output to a text file?
Take the following code:</p>

<pre><code>sink(""temp.txt"")
1:10
sink()
</code></pre>

<p>It will write a text file that looks like this:  </p>

<pre><code>[1]  1  2  3  4  5  6  7  8  9 10
</code></pre>

<p>But how do I create a text file that looks like this:</p>

<pre><code>&gt;   1:10
 [1]  1  2  3  4  5  6  7  8  9 10
</code></pre>

<p>I've looked at ?sink and searched <a href=""http://tolstoy.newcastle.edu.au/R/help/05/06/7322.html"" rel=""nofollow noreferrer"">R-help</a>.
I've also read: <a href=""https://stackoverflow.com/questions/1343442/maintaining-an-input-output-log-in-r"">maintaining an input / output log in R</a></p>

<p>If it makes a difference, I'm using StatET and Eclipse.</p>
","180892","","-1","","2017-05-23 12:00:17","2013-06-27 18:11:57","How do you sink input and output to a text file in R?","<r>","2","0","8","","","CC BY-SA 2.5","2983433","4452","4452","r","404559","3625322","3607736","",""
"2988559","1","2989369","","2010-06-07 10:06:16","","70","17916","<p>In order to be able to compare two versions of a package, I need to able to choose which version of the package that I load.  R's package system is set to by default to overwrite existing packages, so that you always have the latest version.  How do I override this behaviour?</p>

<p>My thoughts so far are:</p>

<p>I could get the package sources, edit the descriptions to give different names and build, in effect, two different packages.  I'd rather be able to work directly with the binaries though, as it is much less hassle.</p>

<p>I don't necessarily need to have both versions of the packages loaded at the same time (just installed somewhere at the same time).  I could perhaps mess about with <code>Sys.getenv('R_HOME')</code> to change the place where R installs the packages, and then <code>.libpaths()</code> to change the place where R looks for them.  This seems hacky though, so does anyone have any better ideas?</p>
","134830","","","","","2021-03-03 21:15:40","How do you use multiple versions of the same R package?","<r><versioning><packages>","3","4","19","","","CC BY-SA 2.5","2988559","4452","4452","r","404559","3625322","3607736","",""
"2989874","1","2990194","","2010-06-07 13:24:04","","7","5982","<p>I'm trying to plot heatmap in ggplot2 using csv data following casbon's solution in </p>

<p><a href=""http://biostar.stackexchange.com/questions/921/how-to-draw-a-csv-data-file-as-a-heatmap-using-numpy-and-matplotlib"" rel=""noreferrer"">http://biostar.stackexchange.com/questions/921/how-to-draw-a-csv-data-file-as-a-heatmap-using-numpy-and-matplotlib</a></p>

<p>the problem is x-label try to re-sort itself. For example, if I swap label COG0002 and COG0001  in that example data, the x-label still come out in sort order (cog0001, cog0002, cog0003.... cog0008).</p>

<p>Is there anyway to prevent this ? I want to it to be ordered as in csv file</p>

<p>thanks</p>

<p>pp</p>
","84065","","","","","2020-04-21 15:11:55","ggplot2 heatmap : how to preserve the label order?","<r><ggplot2><heatmap>","3","1","1","","","CC BY-SA 2.5","2989874","4452","4452","r","404559","3625322","3607736","",""
"2991150","1","2991221","","2010-06-07 16:11:28","","3","1667","<p>I need to get a plot of a Lorentz curve of a cumulative variable as a function of the number of observations. I want both axes to be displayed on a percentage basis (e.g. say observations are the number of buyers and the y variable is the amount they bought, buyers are already ranked in descending order, I want to get the plot that says ""The top 10% buyers purchased 90% of the total bought""). My dataset is a couple million observations.</p>

<p>What is the best way to do this? Sub-questions:</p>

<p>If I need to add two variables for the quantiles of total observations and total $ bought (so as to use them to plot), what is the object that returns the row number? I tried: </p>

<p><code>user_quantile &lt;- row(df)/nrow(df)</code></p>

<p>but I get a matrix of identical columns (user_quantile.1, user_quantile.2) of which I only need one column.</p>

<p>Is there instead any way to skip adding percentages as variables and only have them for axes values?</p>

<p>The plot has way to many points than I need to get the line. What is the best approach to minimize the computational effort and get a nice graph?</p>

<p>Thanks.</p>
","344513","","","","","2013-09-08 21:39:06","Lorentz curve plot","<r>","2","1","1","","","CC BY-SA 2.5","2991150","4452","4452","r","404559","3625322","3607736","",""
"2991514","1","2991830","","2010-06-07 17:01:54","","61","24571","<p>I have a vector of lists and I use <code>unlist</code> on them. Some of the elements in the vectors are <code>NULL</code> and <code>unlist</code> seems to be dropping them.</p>

<p>How can I prevent this?</p>

<p>Here's a simple (non) working example showing this <em>unwanted feature</em> of <code>unlist</code></p>

<pre><code>a = c(list(""p1""=2, ""p2""=5), 
      list(""p1""=3, ""p2""=4), 
      list(""p1""=NULL, ""p2""=NULL), 
      list(""p1""=4, ""p2""=5))
unlist(a)
 p1 p2 p1 p2 p1 p2 
 2  5  3  4  4  5 
</code></pre>
","176923","","680068","","2017-09-20 13:56:14","2017-09-20 13:56:14","Prevent unlist to drop NULL values","<list><r><null>","4","0","17","","","CC BY-SA 3.0","2991514","4452","4452","r","404559","3625322","3607736","",""
"2997540","1","","","2010-06-08 13:10:22","","0","260","<p>I use Eclipse/statet R plug in on Windows. In my home directory, there are .Rtr extension files that automatically generated for every R session. file names like yyyy-mm-dd hh-mm-ss.Rtr.
Can someone give me any hint where there files come from? How did I enable it? thanks.</p>
","361387","","","","","2010-06-08 17:30:25","what's the .Rtr file for R session log?","<eclipse><r>","1","0","","","","CC BY-SA 2.5","2997540","4452","4452","r","404559","3625322","3607736","",""
"2997547","1","2997597","","2010-06-08 13:10:48","","4","5512","<p>I would like to create a simple flow chart in latex with the TikZ package similar to the following example</p>

<p><a href=""http://www.texample.net/tikz/examples/simple-flow-chart/"" rel=""nofollow noreferrer"">http://www.texample.net/tikz/examples/simple-flow-chart/</a></p>

<p>However I would like to include figures (a time series plot created in R, as eps or something else) within the flowchart (e.g. for example within a {block}?</p>

<pre><code>\documentclass{article}

\usepackage[latin1]{inputenc}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows}
\begin{document}
\pagestyle{empty}


% Define block styles
\tikzstyle{decision} = [diamond, draw, fill=blue!20, 
    text width=4.5em, text badly centered, node distance=3cm, inner sep=0pt]
\tikzstyle{block} = [rectangle, draw, fill=blue!20, 
    text width=5em, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, -latex']
\tikzstyle{cloud} = [draw, ellipse,fill=red!20, node distance=3cm,
    minimum height=2em]

\begin{tikzpicture}[node distance = 2cm, auto]
    % Place nodes
    \node [block] (init) {initialize model};
    \node [cloud, left of=init] (expert) {expert};
    \node [cloud, right of=init] (system) {system};
    \node [block, below of=init] (identify) {identify candidate models};
    \node [block, below of=identify] (evaluate) {evaluate candidate models};
    \node [block, left of=evaluate, node distance=3cm] (update) {update model};
    \node [decision, below of=evaluate] (decide) {is best candidate better?};
    \node [block, below of=decide, node distance=3cm] (stop) {stop};
    % Draw edges
    \path [line] (init) -- (identify);
    \path [line] (identify) -- (evaluate);
    \path [line] (evaluate) -- (decide);
    \path [line] (decide) -| node [near start] {yes} (update);
    \path [line] (update) |- (identify);
    \path [line] (decide) -- node {no}(stop);
    \path [line,dashed] (expert) -- (init);
    \path [line,dashed] (system) -- (init);
    \path [line,dashed] (system) |- (evaluate);
\end{tikzpicture}


\end{document}
</code></pre>

<p>Thanks,
Jan</p>
","215244","","","","","2010-06-08 13:16:46","How can I include a .eps figure within a Tikz simple flow chart?","<r><latex><flowchart><eps><tikz>","1","0","5","","","CC BY-SA 2.5","2997547","4452","4452","r","404559","3625322","3607736","",""
"2998655","1","2998896","","2010-06-08 15:14:21","","12","3950","<p>I want to use R to scrape this page: (<a href=""http://www.fifa.com/worldcup/archive/germany2006/results/matches/match=97410001/report.html"" rel=""nofollow noreferrer"">http://www.fifa.com/worldcup/archive/germany2006/results/matches/match=97410001/report.html</a> ) and others, to get the goal scorers and times.</p>

<p>So far, this is what I've got:</p>

<pre><code>require(RCurl)
require(XML)

theURL &lt;-""http://www.fifa.com/worldcup/archive/germany2006/results/matches/match=97410001/report.html""
webpage &lt;- getURL(theURL, header=FALSE, verbose=TRUE) 
webpagecont &lt;- readLines(tc &lt;- textConnection(webpage)); close(tc)  

pagetree &lt;- htmlTreeParse(webpagecont, error=function(...){}, useInternalNodes = TRUE)
</code></pre>

<p>and the pagetree object now contains a pointer to my parsed html (I think).  The part I want is:</p>

<pre><code>&lt;div class=""cont"")&lt;ul&gt;
&lt;div class=""bold medium""&gt;Goals scored&lt;/div&gt;
        &lt;li&gt;Philipp LAHM (GER) 6', &lt;/li&gt;
        &lt;li&gt;Paulo WANCHOPE (CRC) 12', &lt;/li&gt;
        &lt;li&gt;Miroslav KLOSE (GER) 17', &lt;/li&gt;
        &lt;li&gt;Miroslav KLOSE (GER) 61', &lt;/li&gt;
        &lt;li&gt;Paulo WANCHOPE (CRC) 73', &lt;/li&gt;
        &lt;li&gt;Torsten FRINGS (GER) 87'&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;
</code></pre>

<p>But I'm now lost as to how to isolate them, and frankly <code>xpathSApply</code> and <code>xpathApply</code> confuse the beejeebies out of me!</p>

<p>So, does anyone know how to formulate a command to suck out the element contained within the <code>&lt;div class=""cont""&gt;</code> tags?</p>
","74658","","2077901","","2013-09-05 00:07:51","2013-09-05 00:07:51","How to isolate a single element from a scraped web page in R","<xml><r><web-scraping><rcurl>","1","1","9","","","CC BY-SA 3.0","2998655","4452","4452","r","404559","3625322","3607736","",""
"2999449","1","2999954","","2010-06-08 16:49:20","","1","5439","<p>How do you get the length of a variable. I am trying to get the last character of factor but the width/length of the contents is variable. </p>

<p>I was trying to do something like this:</p>

<p>newvariable &lt;- substr(oldvariable, length(oldvariable) -1, length(oldvariable))</p>
","345466","","","","","2010-06-08 18:15:08","get the length/width of value in a factor","<r>","4","0","0","","","CC BY-SA 2.5","2999449","4452","4452","r","404559","3625322","3607736","",""
"3002638","1","3010518","","2010-06-09 01:48:24","","1","4106","<p>Apart from graphical estimation of linearity (gaze-at-scatterplot method), which is utilized before applying some technique from GLM family, there are several ways to do this estimation arithmetically (i.e. without graphs).</p>

<p>Right now, I'll focus on Fisher's <em>eta-squared</em> - correlation ratio: arithmetically, it's equal to squared Pearson's <em>r</em> (coef. of determination: <em>r<sup>2</sup></em>) if relationship between two variables is linear. Hence, you can compare values of <em>eta</em> and <em>r</em> and make an assessment about type of relation (linear or not). It provides an information about percent of variance in the dependent variable explained (linearly or not) by the independent variable. Therefore, you can apply it when linearity assumptions are not met. </p>

<p>Simply stated: is there a routine for eta/eta-squared in R?</p>
","457898","","457898","","2010-06-09 05:43:00","2020-11-24 14:36:52","Eta/Eta-squared routines in R","<r><correlation><nonlinear-functions>","2","2","","","","CC BY-SA 2.5","3002638","4452","4452","r","404559","3625322","3607736","",""
"3003527","1","3003657","","2010-06-09 06:28:57","","6","3224","<p>As in the example, I am trying to <code>substring</code> the Video_full column in a <code>data.frame</code> (video_data_2) I am working on. I want to keep all the characters after the period. The period is always present, there is only one period and it is in a different position in each value for the column. </p>

<pre><code>     Date                     Video_full      Instances   
1 Apr 1, 2010  installs/AA.intro_video_1      546         
2 Apr 1, 2010  installs/ABAC.intro_video_2    548      
</code></pre>

<p>I got substring to work:</p>

<pre><code>video_data_2$Video_full &lt;- substring(video_data_2$Video_full,11)
</code></pre>

<p>And <code>strsplit</code> also:</p>

<pre><code>strsplit(""installs/AA.intro_video_1 "",'[.]')
</code></pre>

<p>I'm just not able to figure out how to start the <code>substring</code> in a dynamic position or only keep the second value returned by <code>strsplit</code>. </p>

<p>Thanks for any help you can offer for a simple question. </p>
","302274","","168747","","2010-09-14 08:45:32","2010-09-14 08:45:32","How do I specify a dynamic position for the start of substring?","<r>","4","0","1","","","CC BY-SA 2.5","3003527","4452","4452","r","404559","3625322","3607736","",""
"3003969","1","3004272","","2010-06-09 07:57:12","","3","186","<p>I would like to cut a vector of values ranging 0-70 to x number of categories, and would like the upper limit of each category. So far, I have tried this using <code>cut()</code> and am trying to extract the limits from levels.
I have a list of levels, from which I would like to extract the second number from each level. How can I extract the values between <em>space</em> and ] (which is the number I'm interested in)?</p>

<p>I have:</p>

<pre><code>&gt; levels(bins)
 [1] ""(-0.07,6.94]"" ""(6.94,14]""    ""(14,21]""      ""(21,28]""      ""(28,35]""     
 [6] ""(35,42]""      ""(42,49]""      ""(49,56]""      ""(56,63.1]""    ""(63.1,70.1]"" 
</code></pre>

<p>and would like to get:</p>

<pre><code>[1] 6.94 14 21 28 35 42 49 56 63.1 70.1
</code></pre>

<p>Or is there a better way of calculating the upper bounds of categories?</p>
","322912","","10248678","","2020-08-04 18:58:52","2020-08-04 18:58:52","how to substract numbers from levels","<r><levels>","2","0","","","","CC BY-SA 2.5","3003969","4452","4452","r","404559","3625322","3607736","",""
"3007120","1","3007789","","2010-06-09 15:10:00","","13","30565","<p>I have the following data:</p>

<pre><code>bin groupname   total_dist
0   rowA    377
0   rowA    306.6
0   rowB    2.1
0   rowB    110.6
1   rowA    918.1
1   rowA    463.2
1   rowB    798.2
1   rowB    1196
2   rowA    1295.1
2   rowA    1269.1
2   rowB    698
2   rowB    1022.1
</code></pre>

<p>Using R, I want to make a bar graph where there is a bar for rowA and a bar for rowB for <em>each</em> bin.  I can group total_dist by one or the other (<code>plot(total_dist~bin)</code> or <code>plot(total_dist~groupname)</code>). But I can't figure out how to combine them.</p>

<p>I want something that looks similar to this example:
<img src=""https://upload.wikimedia.org/wikipedia/en/timeline/e6dba37eba64dc9b0341bdffc002343d.png"" alt=""example grouped bar graph""></p>
","128245","","-1","","2017-02-08 14:26:45","2010-06-09 16:57:57","grouped bar graph","<r><graphing>","1","4","9","","","CC BY-SA 2.5","3007120","4452","4452","r","404559","3625322","3607736","",""
"3007193","1","3034909","","2010-06-09 15:19:04","","1","1326","<p>I am just starting on R - and have hit a bit of a deadlock with some time series data.</p>

<p>I have a time series (date and value) in 'zoo' format, that I want to annotate with a cross when an event occurs. The events are irregular and in a csv format (just the dates, sometimes repeated).</p>

<p>I've managed to read in the dates etc into a format that R accepts - but i cant seem to get a means to chart the main time series with the secondary events annotated on top?</p>

<p><strong>Update:</strong> 
Sorry I missed this out earlier - below is the sort of data i am working with:</p>

<pre><code>price &lt;- get.hist.quote(instrument = ""msft"", quote = c(""Cl"", ""Vol""))
</code></pre>

<p>I now want to compare number of tweets (for a search term) against this, but i only have spotty data of the form:</p>

<pre><code>""February 28, 2010""
""February 20, 2010""
""February 20, 2010""
""August 21, 2009""
</code></pre>

<p>Some are repeated. 
So far i've managed to write up a python script to do some cleaning (i.e. a tuple of date, occurrences), but i was hoping I could just work with the raw data using R ?</p>

<p>Many thanks</p>
","264875","","264875","","2010-06-09 15:36:28","2010-06-14 04:07:56","R adding infrequent date 'events' to a time series plot","<r><time><time-series>","2","0","1","","","CC BY-SA 2.5","3007193","4452","4452","r","404559","3625322","3607736","",""
"3008437","1","3008797","","2010-06-09 17:53:53","","2","144","<p>How can I reference a matched string (or captured group) in R so as to append in a <code>sub()</code>. For instance, I would do it like this in <code>sed</code> to append a <code>'d'</code> to the match</p>

<pre><code>echo ""66xx"" | sed 's/[0-9][0-9]/&amp;d/g'
66dxx
</code></pre>
","275455","","12855","","2010-06-09 18:42:06","2010-06-09 18:42:06","R: Referencing a matched string in sub","<regex><r>","1","0","1","","","CC BY-SA 2.5","3008437","4452","4452","r","404559","3625322","3607736","",""
"3010403","1","3011080","","2010-06-09 22:17:20","","10","7911","<p>I am trying to find a suitable display to illustrate various properties within and across school classes. For each class there is only 15-30 data points (pupils).</p>

<p>Right now i am leaning towards a whisker-less boxplot, showing only 1.,2. and 3. quartile + datapoints more then e.g. 1 population SD +/- the sample median.</p>

<p>This I can do.</p>

<p>However - I need to show this graph to some teachers, in order to gauge what they like most. I'd like to compare my graph with a normal boxplot. But the normal boxplot looks the same if there is only one outlier, or e.g. 5 outliers at the same value. In this case this would be a deal-breaker.</p>

<p>e.g.</p>

<pre><code>test &lt;-structure(list(value = c(3, 5, 3, 3, 6, 4, 5, 4, 6, 4, 6, 4, 
4, 6, 5, 3, 3, 4, 4, 4, 3, 4, 4, 4, 3, 4, 5, 6, 6, 4, 3, 5, 4, 
6, 5, 6, 4, 5, 5, 3, 4, 4, 6, 4, 4, 5, 5, 3, 4, 5, 8, 8, 8, 8, 
9, 6, 6, 7, 6, 9), places = structure(c(1L, 2L, 1L, 1L, 1L, 2L, 
1L, 2L, 1L, 2L, 1L, 2L, 2L, 2L, 2L, 2L, 1L, 1L, 2L, 2L, 2L, 1L, 
2L, 1L, 1L, 1L, 1L, 2L, 1L, 2L, 1L, 2L, 2L, 2L, 1L, 2L, 1L, 2L, 
2L, 1L, 1L, 2L, 2L, 1L, 1L, 1L, 1L, 2L, 1L, 1L, 2L, 2L, 2L, 1L, 
1L, 2L, 2L, 1L, 2L, 1L), .Label = c(""a"", ""b""), class = ""factor"")), .Names = c(""value"", 
""places""), row.names = c(NA, -60L), class = ""data.frame"")

ggplot(test, aes(x=places,y=value))+geom_boxplot()
</code></pre>

<p>Here there are two outliers at (""a"",9) - but only one ""dot"" shown.</p>

<p>So my question: How to jitter the outliers. And - what kind of display would you suggest for this kind of data?</p>
","162832","","","","","2017-10-08 17:27:20","jitter if multiple outliers in ggplot2 boxplot","<r><ggplot2><boxplot>","5","0","11","","","CC BY-SA 2.5","3010403","4452","4452","r","404559","3625322","3607736","",""
"3010790","1","3010953","","2010-06-09 23:51:23","","4","253","<p>Assume you have a vector with runs of consecutive values:</p>
<pre><code>v &lt;- c(1, 1, 1,  2, 2, 2, 2,  1, 1,  3, 3, 3, 3)
</code></pre>
<p>How can it be best reduced to one value per run and the length of each run. I.e. the first run is <code>1</code> repeated two times; 2nd run: <code>2</code> repeated four times; 3rd run: <code>1</code> repeated two times, and so on:</p>
<pre><code>v.df &lt;- data.frame(value = c(1, 2, 1, 3),
                   repetitions = c(3, 4, 2, 4))
</code></pre>
<p>In a procedural language I might just iterate through a loop and build the data.frame as I go, but with a large dataset in R such an approach is inefficient.  Any advice?</p>
","169095","","1851712","","2020-08-29 11:22:39","2020-08-29 11:22:39","Reduce each consecutive sequence to its value and length","<r><sequence><repeat><reduction>","2","0","1","","","CC BY-SA 4.0","3010790","4452","4452","r","404559","3625322","3607736","",""
"3011594","1","3011633","","2010-06-10 04:14:16","","3","477","<p>In R, I'm wanting to create a graph with x axis label <code>expression(varname)</code>, where <code>varname</code> is a character object. For example:</p>

<pre><code>varname &lt;- ""beta[1]""
hist(rnorm(20),xlab=expression(varname))
</code></pre>

<p>But that gives me a graph with <code>xlab=""varname""</code> rather than <code>xlab=expression(beta[1])</code>. How to I convince <code>expression()</code> to evaluate the variable?</p>
","144157","","","","","2010-06-10 04:28:58","R: how to construct a mathematical expression from a character object?","<r>","1","0","2","","","CC BY-SA 2.5","3011594","4452","4452","r","404559","3625322","3607736","",""
"3012783","1","3013199","","2010-06-10 08:27:45","","21","35801","<p>I have some surface data that is generated by an external program as XYZ values. I want to create the following graphs, using matplotlib:</p>

<ul>
<li>Surface plot</li>
<li>Contour plot</li>
<li>Contour plot overlayed with a surface plot</li>
</ul>

<p>I have looked at several examples for plotting surfaces and contours in matplotlib - however, the Z values seems to be a function of X and Y  i.e. Y ~ f(X,Y).</p>

<p>I assume that I will somehow need to transform my Y variables, but I have not seen any example yet, that shows how to do this. </p>

<p>So, my question is this: given a set of (X,Y,Z) points, how may I generate Surface and contour plots from that data?</p>

<p>BTW, just to clarify, I do NOT want to create scatter plots. Also although I mentioned matplotlib in the title, I am not averse to using rpy(2), if that will allow me to create these charts.</p>
","312675","","202229","","2020-03-01 00:57:05","2020-03-01 00:57:05","Plotting 3-tuple data points in a surface / contour plot using matplotlib","<python><r><matplotlib><rpy2><surface>","3","1","7","","","CC BY-SA 2.5","3012783","4452","4452","r","404559","3625322","3607736","",""
"3013613","1","3014044","","2010-06-10 10:41:32","","16","63971","<p>is there anything like ""if not"" conditions in R?</p>

<p>easy Example (not working):</p>

<pre><code>fun &lt;- function(x)
{
if (!x &gt; 0) {print (""not bigger than zero"")}
}

fun(5)
</code></pre>
","356315","","6359698","","2018-08-15 13:05:56","2020-10-12 08:26:05","if not conditions in R?","<r><if-statement>","3","1","2","","","CC BY-SA 4.0","3013613","4452","4452","r","404559","3625322","3607736","",""
"3013772","1","3014249","","2010-06-10 11:06:20","","3","1154","<p>In my <a href=""https://stackoverflow.com/q/3002638/"">previous post</a>, I was looking for correlation ratio (&eta; or &eta;<sup>2</sup>) routines in R. I was surprised by the fact that no one uses &eta; for linearity checking in the GLM procedures.</p>

<p>How can I check linearity of bivariate correlation? Solely with scatterplot?</p>

<p>There are several ways of doing this, one way is to compare linear and non-linear model R<sup>2</sup>, then to apply F test to seek for significant difference between them.</p>

<p>How can I check linearity, the ""non-grafical"" way?</p>
","457898","","10607772","","2019-08-04 12:17:06","2019-08-04 12:17:06","Non-graphical linearity estimation","<r><nonlinear-functions>","2","2","5","","","CC BY-SA 4.0","3013772","4452","4452","r","404559","3625322","3607736","",""
"3016333","1","3017154","","2010-06-10 16:25:28","","11","6032","<p>I have a file, called <code>genes.txt</code>, which I'd like to become a data.frame. It's got a lot of lines, each line has three, tab delimited fields:</p>

<pre><code>mike$ wc -l genes.txt
   42476 genes.txt
</code></pre>

<p>I'd like to read this file into a data.frame in R. I use the command read.table, like this:</p>

<pre><code>genes = read.table(
    genes_file, 
    sep=""\t"", 
    na.strings=""-"", 
    fill=TRUE,
    col.names=c(""GeneSymbol"",""synonyms"",""description"")
)
</code></pre>

<p>Which seems to work fine, where <code>genes_file</code> points at <code>genes.txt</code>. However, the number of lines in my data.frame is significantly less than the number of lines in my text file:</p>

<pre><code>&gt; nrow(genes)
[1] 27896
</code></pre>

<p>and things I can find in the text file:</p>

<pre><code>mike$ grep ""SELL"" genes.txt 
SELL    CD62L|LAM1|LECAM1|LEU8|LNHR|LSEL|LYAM1|PLNHR|TQ1    selectin L
</code></pre>

<p>don't seem to be in the data.frame</p>

<pre><code>&gt; grep(""SELL"",genes$GeneSymbol)
integer(0)
</code></pre>

<p>it turns out that </p>

<pre><code>genes = read.delim(
    genes_file,
    header=FALSE,
    na.strings=""-"",
    fill=TRUE,
    col.names=c(""GeneSymbol"",""synonyms"",""description""),
)
</code></pre>

<p>works just fine. Why does read.delim work when read.table not?</p>

<p>If it's of use, you can recreate <code>genes.txt</code> using the following commands which you should run from a command line</p>

<pre><code>curl -O ftp://ftp.ncbi.nlm.nih.gov/gene/DATA/gene_info.gz
gzip -cd gene_info.gz | awk -Ft '$1==9606{print $3 ""\t"" $5 ""\t"" $9}' &gt; genes.txt
</code></pre>

<p>be warned, though, that gene_info.gz is 101MBish.</p>
","270572","","270572","","2010-06-10 16:38:52","2010-06-10 18:07:23","R: Why does read.table stop reading a file?","<r>","1","3","5","","","CC BY-SA 2.5","3016333","4452","4452","r","404559","3625322","3607736","",""
"3017049","1","3017472","","2010-06-10 17:53:09","","1","2205","<p>I have data with a best fit line draw.  I need to draw two other lines.  One needs to have double the slope and the other need to have half the slope.  Later I will use the region to differentially color points outside it as per:
<a href=""https://stackoverflow.com/questions/2687212/conditionally-colour-data-points-outside-of-confidence-bands-in-r"">Conditionally colour data points outside of confidence bands in R</a></p>
<h1>Example dataset:</h1>
<pre><code>## Dataset from http://www.apsnet.org/education/advancedplantpath/topics/RModules/doc1/04_Linear_regression.html

## Disease severity as a function of temperature

# Response variable, disease severity
diseasesev&lt;-c(1.9,3.1,3.3,4.8,5.3,6.1,6.4,7.6,9.8,12.4)

# Predictor variable, (Centigrade)
temperature&lt;-c(2,1,5,5,20,20,23,10,30,25)

## For convenience, the data may be formatted into a dataframe
severity &lt;- as.data.frame(cbind(diseasesev,temperature))

## Fit a linear model for the data and summarize the output from function lm()
severity.lm &lt;- lm(diseasesev~temperature,data=severity)

# Take a look at the data
plot(
  diseasesev~temperature,
  data=severity,
  xlab=&quot;Temperature&quot;,
  ylab=&quot;% Disease Severity&quot;,
  pch=16,
  pty=&quot;s&quot;,
  xlim=c(0,30),
  ylim=c(0,30)
)
title(main=&quot;Graph of % Disease Severity vs Temperature&quot;)
par(new=TRUE) # don't start a new plot
abline(severity.lm, col=&quot;blue&quot;)
</code></pre>
","255312","","-1","","2020-06-20 09:12:55","2010-06-10 18:49:49","In R draw two lines, with slopes double and half the value of the best fit line","<r><plot><linear-regression>","2","1","","","","CC BY-SA 2.5","3017049","4452","4452","r","404559","3625322","3607736","",""
"3017877","1","3018183","","2010-06-10 19:45:03","","17","10102","<p>Is there any tool (editor, script, whatever...) available that can automatically reformat R code? It does not need to be customizable but it must be able to recognize statements separated by either semicolons or newlines since this code has both. If it can put all statements on a separate line, consistently indent code blocks and consistently place braces I will be very happy.</p>

<p><strong>Edit: summarizing findings</strong></p>

<p>Thanks for the great answers. Here is what I've found.</p>

<ul>
<li>Both ESS and StatET are great R editors and do a nice job of auto indenting blocks of code. StatET allows you to select-all and re-indent everything in a file at once. From what I could tell ESS allows you to indent an entire function def at once but not the entire file (please correct me if I missed it). Neither of these will fix brace placement or break up multi-statement lines. (Eg: i = n*b;a=i+1)</li>
<li>formatR is awesome. In addition to fixing indentation it will also place braces consistently and split up multi-statement lines.</li>
</ul>

<p>Here's a little function I wrote so that I can convert an entire source dir (using the same underlying function as formatR which is strangely in the animation package).</p>

<pre><code>library(""animation"")

tidy.all &lt;- function(inDir = NULL, outDir = NULL, ...) {
    if (is.null(inDir) || is.na(outDir)) 
        stop(""inDir can't be null or NA"")
    if (!file.info(inDir)$isdir) 
        stop(""inDir must be a directory"")

    if (is.null(outDir) || is.na(outDir)) 
        stop(""outDir can't be null or NA"")
    if (!file.exists(outDir)) 
        dir.create(outDir)
    if (!file.info(outDir)$isdir) 
        stop(""outDir must be a directory"")

    for (f in dir(inDir)) {
        currFile &lt;- file.path(inDir, f)
        if (length(grep("".*\\.R$"", currFile, perl = T))) {
            outFile &lt;- file.path(outDir, f)
            if (file.exists(outFile)) 
                stop(paste(""refusing to overwrite"", outFile))

            tidy.source(currFile, file = outFile, ...)
        }
    }
}
</code></pre>
","160015","","160015","","2010-06-11 02:07:36","2019-07-24 19:10:10","tool to auto-format R code","<r><formatting><autoformatting>","6","4","6","","","CC BY-SA 2.5","3017877","4452","4452","r","404559","3625322","3607736","",""
"3018375","1","3018466","","2010-06-10 20:46:29","","4","549","<p>Is it possible to have a datetime scale not consider weekends as part of the time continuum? For instance, if I am plotting stock prices over a 2 week period with a line geometry, I do not want to plot a 2 day period of flattness during the weekend. I would like friday to connect with Monday.  </p>
","275455","","","","","2010-06-10 21:12:29","R ggplot2: possible to customize the continuity of a time scale?","<r><ggplot2>","1","0","3","","","CC BY-SA 2.5","3018375","4452","4452","r","404559","3625322","3607736","",""
"3019473","1","","","2010-06-11 00:34:52","","0","141","<p>I am having some problems with my clipboard contents when using R. When I run my scripts/commands in tinn-r, very often I would get something that I had ran earlier pasted onto my R Console instead of the command that I have just selected. </p>

<p>To get over this, I would go to my clipboard and delete its content(text/syntax). However, the same text/syntax that I had just deleted would re-appear on my clipboard and would again appear on my R Console when trying to run a different syntax from my tinn-r. </p>
","345634","","169095","","2014-10-01 21:02:23","2014-10-01 21:02:23","Preventing what was/were previously copied on to my clipboard from appearing on R Console when using R","<r><clipboard-interaction><tinn-r>","1","0","","","","CC BY-SA 3.0","3019473","4452","4452","r","404559","3625322","3607736","",""
"3019834","1","3067286","","2010-06-11 02:27:32","","4","1128","<p>I'm creating a plot and adding a basic loess smooth line to it.</p>

<pre><code>qplot(Age.GTS2004., X.d18O,data=deepsea, geom=c('point')) + 
geom_smooth(method=""loess"",se=T,span=0.01, alpha=.5, fill='light blue',color='navy')
</code></pre>

<p>The problem is that the line is coming out really choppy.  I need more evaluation point for the curve in certain areas. Is there a way to increase the number of evaluation points without having to reconstruct geom_smooth?</p>
","65148","","","","","2011-02-23 10:56:16","How do I increase the number of evaluation points in geom_smooth for ggplot2 in R","<r><ggplot2>","2","3","1","","","CC BY-SA 2.5","3019834","4452","4452","r","404559","3625322","3607736","",""
"3024060","1","3035592","","2010-06-11 15:25:43","","0","464","<p>I have been getting into R recently and have been using the StatET plugin for Eclipse.  When I search for help, it prints the 'contents' of the help to the console.  I am hoping to have the help open up in a new window, similar to what happens when in R itself.  I am hoping this is just a setting.</p>

<p>Any help will be greatly appreciated!</p>

<ul>
<li>Brock</li>
</ul>
","155406","","","","","2010-06-14 07:28:52","Help Window using StatET in Eclipse","<r><eclipse-plugin>","1","0","","","","CC BY-SA 2.5","3024060","4452","4452","r","404559","3625322","3607736","",""
"3024104","1","3025258","","2010-06-11 15:33:39","","1","261","<p>I ask the following in the hope that someone might come up with a generic description about the problem.Basically I have no idea whats wrong with my code.</p>

<p>When I run the code below, plot nr. 8 turns out wrong. Specifically the subset in geom_point does not work the way it should. (update: With plot nr. 8 the whole dataset is plottet, instead of only the subset).</p>

<p>If somebody can tell me what the problem is, I'll update this post.</p>

<pre><code>SOdata &lt;-     structure(list(id = 10:55, one = c(7L, 8L, 7L, NA, 7L, 8L, 5L, 
7L, 7L, 8L, NA, 10L, 8L, NA, NA, NA, NA, 6L, 5L, 6L, 8L, 4L, 
7L, 6L, 9L, 7L, 5L, 6L, 7L, 6L, 5L, 8L, 8L, 7L, 7L, 6L, 6L, 8L, 
6L, 8L, 8L, 7L, 7L, 5L, 5L, 8L), two = c(7L, NA, 8L, NA, 10L, 
10L, 8L, 9L, 4L, 10L, NA, 10L, 9L, NA, NA, NA, NA, 7L, 8L, 9L,
10L, 9L, 8L, 8L, 8L, 8L, 8L, 9L, 10L, 8L, 8L, 8L, 10L, 9L, 10L, 
8L, 9L, 10L, 8L, 8L, 7L, 10L, 8L, 9L, 7L, 9L), three = c(7L, 
10L, 7L, NA, 10L, 10L, NA, 10L, NA, NA, NA, NA, 10L, NA, NA, 
4L, NA, 7L, 7L, 4L, 10L, 10L, 7L, 4L, 7L, NA, 10L, 4L, 7L, 7L, 
7L, 10L, 10L, 7L, 10L, 4L, 10L, 10L, 10L, 4L, 10L, 10L, 10L, 
10L, 7L, 10L), four = c(7L, 10L, 4L, NA, 10L, 7L, NA, 7L, NA, 
NA, NA, NA, 10L, NA, NA, 4L, NA, 10L, 10L, 7L, 10L, 10L, 7L, 
7L, 7L, NA, 10L, 7L, 4L, 10L, 4L, 7L, 10L, 2L, 10L, 4L, 12L, 
4L, 7L, 10L, 10L, 12L, 12L, 4L, 7L, 10L), five = c(7L, NA, 6L, 
NA, 8L, 8L, 7L, NA, 9L, NA, NA, NA, 9L, NA, NA, NA, NA, 7L, 8L, 
NA, NA, 7L, 7L, 4L, NA, NA, NA, NA, 5L, 6L, 5L, 7L, 7L, 6L, 9L, 
NA, 10L, 7L, 8L, 5L, 7L, 10L, 7L, 4L, 5L, 10L), six = structure(c(1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L), .Label = c(""2010-05-25"", 
""2010-05-27"", ""2010-06-07""), class = ""factor""), seven = c(0.777777777777778, 
0.833333333333333, 0.333333333333333, 0.888888888888889, 0.5, 
0.888888888888889, 0.777777777777778, 0.722222222222222, 0.277777777777778, 
0.611111111111111, 0.722222222222222, 1, 0.888888888888889, 0.722222222222222, 
0.555555555555556, NA, 0, 0.666666666666667, 0.666666666666667, 
0.833333333333333, 0.833333333333333, 0.833333333333333, 0.833333333333333, 
0.722222222222222, 0.833333333333333, 0.888888888888889, 0.666666666666667, 
1, 0.777777777777778, 0.722222222222222, 0.5, 0.833333333333333, 
0.722222222222222, 0.388888888888889, 0.722222222222222, 1, 0.611111111111111, 
0.777777777777778, 0.722222222222222, 0.944444444444444, 0.555555555555556, 
0.666666666666667, 0.722222222222222, 0.444444444444444, 0.333333333333333, 
0.777777777777778), eight = c(0.666666666666667, 0.333333333333333, 
0.833333333333333, 0.666666666666667, 1, 1, 0.833333333333333, 
0.166666666666667, 0.833333333333333, 0.833333333333333, 1, 1, 
0.666666666666667, 0.666666666666667, 0.333333333333333, 0.5, 
0, 0.666666666666667, 0.5, 1, 0.666666666666667, 0.5, 0.666666666666667, 
0.666666666666667, 0.666666666666667, 0.333333333333333, 0.333333333333333,     
1, 0.666666666666667, 0.833333333333333, 0.666666666666667, 0.666666666666667, 
0.5, 0, 0.833333333333333, 1, 0.666666666666667, 0.5, 0.666666666666667, 
0.666666666666667, 0.5, 1, 0.833333333333333, 0.666666666666667, 
0.833333333333333, 0.666666666666667), nine = c(0.307692307692308, 
NA, 0.461538461538462, 0.538461538461538, 1, 0.769230769230769, 
0.538461538461538, 0.692307692307692, 0, 0.153846153846154, 0.769230769230769, 
NA, 0.461538461538462, NA, NA, NA, NA, 0, 0.615384615384615, 
0.615384615384615, 0.769230769230769, 0.384615384615385, 0.846153846153846, 
0.923076923076923, 0.615384615384615, 0.692307692307692,     0.0769230769230769, 
0.846153846153846, 0.384615384615385, 0.384615384615385, 0.461538461538462, 
0.384615384615385, 0.461538461538462, NA, 0.923076923076923, 
0.692307692307692, 0.615384615384615, 0.615384615384615, 0.769230769230769, 
0.0769230769230769, 0.230769230769231, 0.692307692307692, 0.769230769230769, 
0.230769230769231, 0.769230769230769, 0.615384615384615), ten = c(0.875, 
0.625, 0.375, 0.75, 0.75, 0.75, 0.625, 0.875, 1, 0.125, 1, NA, 
0.625, 0.75, 0.75, 0.375, NA, 0.625, 0.5, 0.75, 0.875, 0.625, 
0.875, 0.75, 0.625, 0.875, 0.5, 0.75, 0, 0.5, 0.875, 1, 0.75, 
0.125, 0.5, 0.5, 0.5, 0.625, 0.375, 0.625, 0.625, 0.75, 0.875, 
0.375, 0, 0.875), elleven = c(1, 0.8, 0.7, 0.9, 0, 1, 0.9, 0.5, 
0, 0.8, 0.8, NA, 0.8, NA, NA, 0.8, NA, 0.4, 0.8, 0.5, 1, 0.4, 
0.5, 0.9, 0.8, 1, 0.8, 0.5, 0.3, 0.9, 0.2, 1, 0.8, 0.1, 1, 0.8, 
0.5, 0.2, 0.7, 0.8, 1, 0.9, 0.6, 0.8, 0.2, 1), twelve = c(0.666666666666667, 
NA, 0.133333333333333, 1, 1, 0.8, 0.4, 0.733333333333333, NA, 
0.933333333333333, NA, NA, 0.6, 0.533333333333333, NA, 0.533333333333333, 
NA, 0, 0.6, 0.533333333333333, 0.733333333333333, 0.6, 0.733333333333333, 
0.666666666666667, 0.533333333333333, 0.733333333333333, 0.466666666666667, 
0.733333333333333, 1, 0.733333333333333, 0.666666666666667, 0.533333333333333, 
NA, 0.533333333333333, 0.6, 0.866666666666667, 0.466666666666667, 
0.533333333333333, 0.333333333333333, 0.6, 0.6, 0.866666666666667, 
0.666666666666667, 0.6, 0.6, 0.533333333333333)), .Names = c(""id"", 
""one"", ""two"", ""three"", ""four"", ""five"", ""six"", ""seven"", ""eight"", 
""nine"", ""ten"", ""elleven"", ""twelve""), class = ""data.frame"", row.names = c(NA, 
-46L))


iqr &lt;- function(x, ...) {
  qs &lt;- quantile(as.numeric(x), c(0.25, 0.5, 0.75), na.rm = T)
  names(qs) &lt;- c(""ymin"", ""y"", ""ymax"")
  qs
}

magic &lt;- function(y, ...) { 
high &lt;- median(SOdata[[y]], na.rm=T)+1.5*sd(SOdata[[y]],na.rm=T)
low &lt;-  median(SOdata[[y]], na.rm=T)-1.5*sd(SOdata[[y]],na.rm=T)
ggplot(SOdata, aes_string(x=""six"", y=y))+
stat_summary(fun.data=""iqr"", geom=""crossbar"", fill=""grey"", alpha=0.3)+
geom_point(data = SOdata[SOdata[[y]] &gt; high,], position=position_jitter(w=0.1, h=0),col=""green"", alpha=0.5)+
geom_point(data = SOdata[SOdata[[y]] &lt; low,], position=position_jitter(w=0.1, h=0),col=""red"", alpha=0.5)+
stat_summary(fun.y=median, geom=""point"",shape=18 ,size=4, col=""orange"")
}

for (i in names(SOdata)[-c(1,7)]) {
p&lt;- magic(i)
ggsave(paste(""magig_plot_"",i,"".png"",sep=""""), plot=p, height=3.5, width=5.5)
}
</code></pre>
","162832","","162832","","2010-06-11 19:39:08","2010-06-11 19:39:08","subset in geom_point SOMETIMES returns full dataset, instead of none","<r><ggplot2>","2","3","","","","CC BY-SA 2.5","3024104","4452","4452","r","404559","3625322","3607736","",""
"3025200","1","3027665","","2010-06-11 18:18:24","","8","5978","<p>I have data of this form:</p>

<pre><code> x    y
 1    0.19
 2    0.26 
 3    0.40
 4    0.58
 5    0.59
 6    1.24
 7    0.68
 8    0.60
 9    1.12
10    0.80
11    1.20
12    1.17
13    0.39
</code></pre>

<p>I'm currently plotting a kernel-smoothed density estimate of the x versus y using this code:</p>

<pre><code>   smoothed = ksmooth( d$resi, d$score, bandwidth = 6 )
   plot( smoothed )
</code></pre>

<p>I simply want a plot of the x versus smoothed(y) values, which is ## Heading ##</p>

<p>However, the <a href=""http://stat.ethz.ch/R-manual/R-patched/library/stats/html/ksmooth.html"" rel=""noreferrer"">documentation for ksmooth</a> suggests that this isn't the best kernel-smoothing package available:</p>

<blockquote>
  <p>This function is implemented purely
  for compatibility with S, although it
  is nowhere near as slow as the S
  function. Better kernel smoothers are
  available in other packages.</p>
</blockquote>

<p>What other kernel smoothers are better and where can these smoothers be found? </p>
","57458","","57458","","2010-06-11 22:44:25","2010-06-12 06:43:47","Statistics Question: Kernel Smoothing in R","<r><statistics>","1","0","1","","","CC BY-SA 2.5","3025200","4452","4452","r","404559","3625322","3607736","",""
"3025347","1","3033219","","2010-06-11 18:41:01","","4","3272","<p>I have data that looks like this: </p>

<pre><code>   &gt; head(data)
             groupname ob_time dist.mean  dist.sd dur.mean   dur.sd   ct.mean    ct.sd
      1      rowA     0.3  61.67500 39.76515 43.67500 26.35027  8.666667 11.29226
      2      rowA    60.0  45.49167 38.30301 37.58333 27.98207  8.750000 12.46176
      3      rowA   120.0  50.22500 35.89708 40.40000 24.93399  8.000000 10.23363
      4      rowA   180.0  54.05000 41.43919 37.98333 28.03562  8.750000 11.97061
      5      rowA   240.0  51.97500 41.75498 35.60000 25.68243 28.583333 46.14692
      6      rowA   300.0  45.50833 43.10160 32.20833 27.37990 12.833333 14.21800
</code></pre>

<p>Each groupname is a data series.  Since I want to plot each series separately, I've separated them like this:</p>

<pre><code>&gt; A &lt;- zoo(data[which(groupname=='rowA'),3:8],data[which(groupname=='rowA'),2])
&gt; B &lt;- zoo(data[which(groupname=='rowB'),3:8],data[which(groupname=='rowB'),2])
&gt; C &lt;- zoo(data[which(groupname=='rowC'),3:8],data[which(groupname=='rowC'),2])
</code></pre>

<p>ETA: </p>

<pre><code>Thanks to gd047: Now I'm using this:

    z &lt;- dlply(data,.(groupname),function(x) zoo(x[,3:8],x[,2]))
</code></pre>

<p>The resulting zoo objects look like this:</p>

<pre><code>&gt; head(z$rowA)
          dist.mean  dist.sd dur.mean   dur.sd   ct.mean    ct.sd
     0.3  61.67500 39.76515 43.67500 26.35027  8.666667 11.29226
     60   45.49167 38.30301 37.58333 27.98207  8.750000 12.46176
     120  50.22500 35.89708 40.40000 24.93399  8.000000 10.23363
     180  54.05000 41.43919 37.98333 28.03562  8.750000 11.97061
     240  51.97500 41.75498 35.60000 25.68243 28.583333 46.14692
     300  45.50833 43.10160 32.20833 27.37990 12.833333 14.21800
</code></pre>

<p>So if I want to plot dist.mean against time and include error bars equal to +/- dist.sd for each series:</p>

<ul>
<li>how do I combine A,B,C dist.mean and dist.sd?</li>
<li>how do I make a bar plot, <em>or perhaps better</em>, a line graph of the resulting object?</li>
</ul>
","128245","","128245","","2010-06-11 21:01:37","2019-07-29 15:05:35","using R.zoo to plot multiple series with error bars","<r><plot><time-series><zoo>","4","8","8","","","CC BY-SA 2.5","3025347","4452","4452","r","404559","3625322","3607736","",""
"3027476","1","3030683","","2010-06-12 04:23:01","","15","3134","<p>Can anyone share his experience on workflow for R peject development under ESS? I tried several times to learn emacs but I have not get it yet. I can understand ESS as an editor, but is there a project view in ESS? what's the efficient ways to set up/view R project directory, coding, and testing, and how's ESS has an edge to facilitate the whole process? </p>

<p>Do you use ESS as a good R editor only or tend to emulate a R IDE environment within ESS? </p>

<p>Thanks for any advices. </p>
","305669","","305669","","2010-06-13 03:36:38","2012-09-24 14:48:03","ESS workflow for R project/package development","<emacs><r><workflow><ess>","3","1","12","","","CC BY-SA 2.5","3027476","4452","4452","r","404559","3625322","3607736","",""
"3029639","1","3030179","","2010-06-12 18:12:46","","11","16952","<p>First of all, I am new to R (I started yesterday).</p>

<p>I have two groups of points, <code>data</code> and <code>centers</code>, the first one of size <code>n</code> and the second of size <code>K</code> (for instance, <code>n = 3823</code> and <code>K = 10</code>), and for each <code>i</code> in the first set, I need to find <code>j</code> in the second with the minimum distance.</p>

<p>My idea is simple: for each <code>i</code>, let <code>dist[j]</code> be the distance between <code>i</code> and <code>j</code>, I only need to use <code>which.min(dist)</code> to find what I am looking for.</p>

<p>Each point is an array of <code>64</code> doubles, so </p>

<pre><code>&gt; dim(data)
[1] 3823   64
&gt; dim(centers)
[1] 10 64
</code></pre>

<p>I have tried with</p>

<pre><code>for (i in 1:n) {
  for (j in 1:K) {
    d[j] &lt;- sqrt(sum((centers[j,] - data[i,])^2))
  }
  S[i] &lt;- which.min(d)
}
</code></pre>

<p>which is extremely slow (with <code>n = 200</code>, it takes more than 40s!!). The fastest solution that I wrote is</p>

<pre><code>distance &lt;- function(point, group) {
  return(dist(t(array(c(point, t(group)), dim=c(ncol(group), 1+nrow(group)))))[1:nrow(group)])
}

for (i in 1:n) {
  d &lt;- distance(data[i,], centers)
  which.min(d)
}
</code></pre>

<p>Even if it does a lot of computation that I don't use (because <code>dist(m)</code> computes the distance between all rows of <code>m</code>), it is way more faster than the other one (can anyone explain why?), but it is not fast enough for what I need, because it will not be used only once. And also, the <code>distance</code> code is very ugly. I tried to replace it with</p>

<pre><code>distance &lt;- function(point, group) {
  return (dist(rbind(point,group))[1:nrow(group)])
}
</code></pre>

<p>but this seems to be twice slower. I also tried to use <code>dist</code> for each pair, but it is also slower.</p>

<p>I don't know what to do now. It seems like I am doing something very wrong. Any idea on how to do this more efficiently?</p>

<p>ps: I need this to implement k-means by hand (and I need to do it, it is part of an assignment). I believe I will only need Euclidian distance, but I am not yet sure, so I will prefer to have some code where the distance computation can be replaced easily. <code>stats::kmeans</code> do all computation in less than one second.</p>
","291609","","","","","2016-10-20 09:30:25","Calculating all distances between one point and a group of points efficiently in R","<r><performance><distance>","5","1","5","","","CC BY-SA 2.5","3029639","4452","4452","r","404559","3625322","3607736","",""
"3031215","1","","","2010-06-13 05:37:53","","18","4231","<p>R has a <code>qr()</code> function, which performs QR decomposition using either LINPACK or LAPACK (in my experience, the latter is 5% faster). The main object returned is a matrix ""qr"" that contains in the upper triangular matrix R (i.e. <code>R=qr[upper.tri(qr)]</code>). So far so good. The lower triangular part of qr contains Q ""in compact form"". One can extract Q from the qr decomposition by using <code>qr.Q()</code>. I would like to find the inverse of <code>qr.Q()</code>. In other word, I do have Q and R, and would like to put them in a ""qr"" object. R is trivial but Q is not. The goal is to apply to it <code>qr.solve()</code>, which is much faster than <code>solve()</code> on large systems.</p>
","143813","","429846","","2011-04-02 16:52:47","2012-03-27 14:14:14","Mystified by qr.Q(): what is an orthonormal matrix in ""compact"" form?","<r><linear-algebra><lapack><blas>","2","1","10","","","CC BY-SA 2.5","3031215","4452","4452","r","404559","3625322","3607736","",""
"3033261","1","3035453","","2010-06-13 17:47:40","","4","2544","<p>I wish to create a ""subtree"" from an hclust object.</p>

<p>For example, let's say I have the following object:</p>

<pre><code>a &lt;- list()  # initialize empty object
a$merge &lt;- matrix(c(-1, -2,
                    -3, -4,
                     1,  2,
             -5,-6,
             3,4), nc=2, byrow=TRUE ) 
a$height &lt;- c(1, 1.5, 3,4,4.5)    # define merge heights
a$order &lt;- 1:6              # order of leaves(trivial if hand-entered)
a$labels &lt;- 1:6# LETTERS[1:4]    # labels of leaves
class(a) &lt;- ""hclust""        # make it an hclust object
plot(a)                     # look at the result   
</code></pre>

<p>Now I wish the extract from it the following subtree:</p>

<pre><code>a &lt;- list()  # initialize empty object
a$merge &lt;- matrix(c(-1, -2,
                    -3, -4,
                     1,  2
                ), nc=2, byrow=TRUE ) 
a$height &lt;- c(1, 1.5, 3)    # define merge heights
a$order &lt;- 1:4             # order of leaves(trivial if hand-entered)
a$labels &lt;- 1:4# LETTERS[1:4]    # labels of leaves
class(a) &lt;- ""hclust""        # make it an hclust object
plot(a)                     # look at the result   
</code></pre>

<p>How could I access it?</p>

<p>(I know that cutree could get me the objects of the sub tree, but not create an actual hclust object)</p>

<p>Thanks for any help,</p>

<p>Tal</p>
","256662","","","","","2016-11-07 12:55:05","is there a way to get a ""subtree"" from hclust ? (R)","<r><cluster-analysis>","2","0","2","","","CC BY-SA 2.5","3033261","4452","4452","r","404559","3625322","3607736","",""
"3033594","1","3044414","","2010-06-13 19:32:44","","7","3391","<p>I came across <a href=""http://www.schonlau.net/clustergram.html"" rel=""nofollow noreferrer"">this interesting website</a>, with an idea of a way to visualize a clustering algorithm called ""Clustergram"":</p>

<p><a href=""https://i.stack.imgur.com/MEFnV.gif"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/MEFnV.gif"" alt=""alt text""></a><br>
<sub>(source: <a href=""http://www.schonlau.net/images/clustergramexample.gif"" rel=""nofollow noreferrer"">schonlau.net</a>)</sub>  </p>

<p>I am not sure how useful this really is, but in order to play with it I would like to reproduce it with R, but am not sure how to go about doing it.</p>

<p>How would you create a line for each item so it would stay consistent throughout the different number of clusters?</p>

<p>Here is an example code/data to play with for potential answer:</p>

<pre><code>hc &lt;- hclust(dist(USArrests), ""ave"")
plot(hc)
</code></pre>
","256662","","4751173","","2019-07-29 13:06:59","2019-07-29 13:06:59","How to create a ""Clustergram"" plot ? (in R)","<r><graphics><visualization><cluster-analysis>","1","0","6","","","CC BY-SA 4.0","3033594","4452","4452","r","404559","3625322","3607736","",""
"3035070","1","3035372","","2010-06-14 05:17:44","","3","599","<p>Good afternoon,</p>

<p>Somebody asked me a question today and neither did I know the answer nor could I find it in the documentation.</p>

<p>This person simply asked me if the sapply function in R was making concurrent calls to the function you want to apply to the list, or if the computation is done sequantially.</p>

<p>Does anybody know the answer?</p>

<p>What about rapply (the recursive version of this function)?</p>

<p>Thanks,</p>

<p>Jeremie</p>
","295307","","","","","2010-06-14 06:37:40","sapply and concurrency in R","<r><concurrency>","1","2","","","","CC BY-SA 2.5","3035070","4452","4452","r","404559","3625322","3607736","",""
"3036804","1","3037170","","2010-06-14 11:26:24","","1","3613","<p>I asked <a href=""https://stackoverflow.com/questions/3024104/subset-in-geom-point-sometimes-returns-full-dataset-instead-of-none"" title=""this question"">this question</a> and it seams ggplot2 currently has a <a href=""http://github.com/hadley/ggplot2/issues/labels/data#issue/31"" rel=""nofollow noreferrer"">bug</a> with empty data.frames.</p>

<p>Therefore I am trying to check if the dataframe is empty, before I make the plot. But what ever I come up with, it gets really ugly, and doesn't work. So I am asking for your help.</p>

<p>example data:</p>

<pre><code>SOdata &lt;-     structure(list(id = 10:55, one = c(7L, 8L, 7L, NA, 7L, 8L, 5L, 
7L, 7L, 8L, NA, 10L, 8L, NA, NA, NA, NA, 6L, 5L, 6L, 8L, 4L, 
7L, 6L, 9L, 7L, 5L, 6L, 7L, 6L, 5L, 8L, 8L, 7L, 7L, 6L, 6L, 8L, 
6L, 8L, 8L, 7L, 7L, 5L, 5L, 8L), two = c(7L, NA, 8L, NA, 10L, 
10L, 8L, 9L, 4L, 10L, NA, 10L, 9L, NA, NA, NA, NA, 7L, 8L, 9L,
10L, 9L, 8L, 8L, 8L, 8L, 8L, 9L, 10L, 8L, 8L, 8L, 10L, 9L, 10L, 
8L, 9L, 10L, 8L, 8L, 7L, 10L, 8L, 9L, 7L, 9L), three = c(7L, 
10L, 7L, NA, 10L, 10L, NA, 10L, NA, NA, NA, NA, 10L, NA, NA, 
4L, NA, 7L, 7L, 4L, 10L, 10L, 7L, 4L, 7L, NA, 10L, 4L, 7L, 7L, 
7L, 10L, 10L, 7L, 10L, 4L, 10L, 10L, 10L, 4L, 10L, 10L, 10L, 
10L, 7L, 10L), four = c(7L, 10L, 4L, NA, 10L, 7L, NA, 7L, NA, 
NA, NA, NA, 10L, NA, NA, 4L, NA, 10L, 10L, 7L, 10L, 10L, 7L, 
7L, 7L, NA, 10L, 7L, 4L, 10L, 4L, 7L, 10L, 2L, 10L, 4L, 12L, 
4L, 7L, 10L, 10L, 12L, 12L, 4L, 7L, 10L), five = c(7L, NA, 6L, 
NA, 8L, 8L, 7L, NA, 9L, NA, NA, NA, 9L, NA, NA, NA, NA, 7L, 8L, 
NA, NA, 7L, 7L, 4L, NA, NA, NA, NA, 5L, 6L, 5L, 7L, 7L, 6L, 9L, 
NA, 10L, 7L, 8L, 5L, 7L, 10L, 7L, 4L, 5L, 10L), six = structure(c(1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 
3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L), .Label = c(""2010-05-25"", 
""2010-05-27"", ""2010-06-07""), class = ""factor""), seven = c(0.777777777777778, 
0.833333333333333, 0.333333333333333, 0.888888888888889, 0.5, 
0.888888888888889, 0.777777777777778, 0.722222222222222, 0.277777777777778, 
0.611111111111111, 0.722222222222222, 1, 0.888888888888889, 0.722222222222222, 
0.555555555555556, NA, 0, 0.666666666666667, 0.666666666666667, 
0.833333333333333, 0.833333333333333, 0.833333333333333, 0.833333333333333, 
0.722222222222222, 0.833333333333333, 0.888888888888889, 0.666666666666667, 
1, 0.777777777777778, 0.722222222222222, 0.5, 0.833333333333333, 
0.722222222222222, 0.388888888888889, 0.722222222222222, 1, 0.611111111111111, 
0.777777777777778, 0.722222222222222, 0.944444444444444, 0.555555555555556, 
0.666666666666667, 0.722222222222222, 0.444444444444444, 0.333333333333333, 
0.777777777777778), eight = c(0.666666666666667, 0.333333333333333, 
0.833333333333333, 0.666666666666667, 1, 1, 0.833333333333333, 
0.166666666666667, 0.833333333333333, 0.833333333333333, 1, 1, 
0.666666666666667, 0.666666666666667, 0.333333333333333, 0.5, 
0, 0.666666666666667, 0.5, 1, 0.666666666666667, 0.5, 0.666666666666667, 
0.666666666666667, 0.666666666666667, 0.333333333333333, 0.333333333333333,     
1, 0.666666666666667, 0.833333333333333, 0.666666666666667, 0.666666666666667, 
0.5, 0, 0.833333333333333, 1, 0.666666666666667, 0.5, 0.666666666666667, 
0.666666666666667, 0.5, 1, 0.833333333333333, 0.666666666666667, 
0.833333333333333, 0.666666666666667), nine = c(0.307692307692308, 
NA, 0.461538461538462, 0.538461538461538, 1, 0.769230769230769, 
0.538461538461538, 0.692307692307692, 0, 0.153846153846154, 0.769230769230769, 
NA, 0.461538461538462, NA, NA, NA, NA, 0, 0.615384615384615, 
0.615384615384615, 0.769230769230769, 0.384615384615385, 0.846153846153846, 
0.923076923076923, 0.615384615384615, 0.692307692307692,     0.0769230769230769, 
0.846153846153846, 0.384615384615385, 0.384615384615385, 0.461538461538462, 
0.384615384615385, 0.461538461538462, NA, 0.923076923076923, 
0.692307692307692, 0.615384615384615, 0.615384615384615, 0.769230769230769, 
0.0769230769230769, 0.230769230769231, 0.692307692307692, 0.769230769230769, 
0.230769230769231, 0.769230769230769, 0.615384615384615), ten = c(0.875, 
0.625, 0.375, 0.75, 0.75, 0.75, 0.625, 0.875, 1, 0.125, 1, NA, 
0.625, 0.75, 0.75, 0.375, NA, 0.625, 0.5, 0.75, 0.875, 0.625, 
0.875, 0.75, 0.625, 0.875, 0.5, 0.75, 0, 0.5, 0.875, 1, 0.75, 
0.125, 0.5, 0.5, 0.5, 0.625, 0.375, 0.625, 0.625, 0.75, 0.875, 
0.375, 0, 0.875), elleven = c(1, 0.8, 0.7, 0.9, 0, 1, 0.9, 0.5, 
0, 0.8, 0.8, NA, 0.8, NA, NA, 0.8, NA, 0.4, 0.8, 0.5, 1, 0.4, 
0.5, 0.9, 0.8, 1, 0.8, 0.5, 0.3, 0.9, 0.2, 1, 0.8, 0.1, 1, 0.8, 
0.5, 0.2, 0.7, 0.8, 1, 0.9, 0.6, 0.8, 0.2, 1), twelve = c(0.666666666666667, 
NA, 0.133333333333333, 1, 1, 0.8, 0.4, 0.733333333333333, NA, 
0.933333333333333, NA, NA, 0.6, 0.533333333333333, NA, 0.533333333333333, 
NA, 0, 0.6, 0.533333333333333, 0.733333333333333, 0.6, 0.733333333333333, 
0.666666666666667, 0.533333333333333, 0.733333333333333, 0.466666666666667, 
0.733333333333333, 1, 0.733333333333333, 0.666666666666667, 0.533333333333333, 
NA, 0.533333333333333, 0.6, 0.866666666666667, 0.466666666666667, 
0.533333333333333, 0.333333333333333, 0.6, 0.6, 0.866666666666667, 
0.666666666666667, 0.6, 0.6, 0.533333333333333)), .Names = c(""id"", 
""one"", ""two"", ""three"", ""four"", ""five"", ""six"", ""seven"", ""eight"", 
""nine"", ""ten"", ""elleven"", ""twelve""), class = ""data.frame"", row.names = c(NA, 
-46L))
</code></pre>

<p>And the plot</p>

<pre><code>iqr &lt;- function(x, ...) {
  qs &lt;- quantile(as.numeric(x), c(0.25, 0.5, 0.75), na.rm = T)
  names(qs) &lt;- c(""ymin"", ""y"", ""ymax"")
  qs
}

magic &lt;- function(y, ...) { 
high &lt;- median(SOdata[[y]], na.rm=T)+1.5*sd(SOdata[[y]],na.rm=T)
low &lt;-  median(SOdata[[y]], na.rm=T)-1.5*sd(SOdata[[y]],na.rm=T)
ggplot(SOdata, aes_string(x=""six"", y=y))+
stat_summary(fun.data=""iqr"", geom=""crossbar"", fill=""grey"", alpha=0.3)+
geom_point(data = SOdata[SOdata[[y]] &gt; high,], position=position_jitter(w=0.1, h=0),col=""green"", alpha=0.5)+
geom_point(data = SOdata[SOdata[[y]] &lt; low,], position=position_jitter(w=0.1, h=0),col=""red"", alpha=0.5)+
stat_summary(fun.y=median, geom=""point"",shape=18 ,size=4, col=""orange"")
}

for (i in names(SOdata)[-c(1,7)]) {
p&lt;- magic(i)
ggsave(paste(""magig_plot_"",i,"".png"",sep=""""), plot=p, height=3.5, width=5.5)
}
</code></pre>

<p>The problem is that sometimes in the call to geom_point the subset returns an empty dataframe, which sometimes (!) causes ggplot2 to plot all the data instead of none of the data.</p>

<pre><code>geom_point(data = SOdata[SOdata[[y]] &gt; high,], position=position_jitter(w=0.1, h=0),col=""green"", alpha=0.5)+
</code></pre>

<p>This is kindda of important to me, and I am really stuck trying to find a solution. Any help that will get me started is much appreciated.</p>

<p>Thanks in advance.</p>
","162832","","-1","","2017-05-23 11:55:21","2010-06-14 12:27:35","how to use ggplot conditional on data","<r><ggplot2>","1","0","1","","","CC BY-SA 2.5","3036804","4452","4452","r","404559","3625322","3607736","",""
"3037516","1","3038634","","2010-06-14 13:21:33","","4","262","<p>Let's assume that I have a vector</p>

<pre><code>r &lt;- rnorm(4)
</code></pre>

<p>and a matrix <code>W</code> of dimension 20000*200 for example:</p>

<pre><code>W &lt;- matrix(rnorm(20000*200),20000,200)
</code></pre>

<p>I want to compute a new matrix <code>M</code> of dimension 5000*200 such that <code>m11 &lt;- r%*%W[1:4,1]</code>, <code>m21 &lt;- r%*%W[5:8,1]</code>, <code>m12 &lt;- r%*%W[1:4,2]</code> etc. (i.e. grouping rows 4-by-4 and computing the product).</p>

<p>What's the optimal (speed,memory) way of doing this?</p>

<p>Thanks in advance.</p>
","279497","","","","","2010-06-14 15:45:30","R: optimal way of computing the ""product"" of two vectors","<r>","3","0","1","","","CC BY-SA 2.5","3037516","4452","4452","r","404559","3625322","3607736","",""
"3038864","1","3039073","","2010-06-14 16:17:30","","2","1068","<p>I'm fairly new to ggplot. I have made a bumpplot using code posted below. I got the code from someones blog  - i've lost the link....</p>

<p>I want to be able to increase the size of the lables (here letters which care very small on the left and right of the plot) without affecting the width of the lines (this will only really make sense after you have run the code)</p>

<p>I have tried changing the size paramater but that always alter the line width as well.</p>

<p>Any suggestion appreciated.</p>

<p>Tom</p>

<pre><code>require(ggplot2)
df&lt;-matrix(rnorm(520), 5, 10) #makes a random example
colnames(df) &lt;- letters[1:10] 
Price.Rank&lt;-t(apply(df, 1, rank))
dfm&lt;-melt(Price.Rank)
names(dfm)&lt;-c( ""Date"",""Brand"", ""value"")
p &lt;- ggplot(dfm, aes(factor(Date), value,
 group = Brand, colour = Brand, label = Brand))
p1 &lt;- p + geom_line(aes(size=2.2, alpha=0.7)) + 
    geom_text(data = subset(dfm, Date == 1), aes(x = Date , size =2.2, hjust =      1, vjust=0)) + 
    geom_text(data = subset(dfm, Date == 5), aes(x = Date , size =2.2, hjust =  0, vjust=0))+
    theme_bw() + 
    opts(legend.position = ""none"",  panel.border = theme_blank()) 

p1 + theme_bw() + opts(legend.position = ""none"",  panel.border = theme_blank())
</code></pre>
","366502","","","","","2010-06-14 16:48:56","Changing text size on a ggplot bump plot","<r><ggplot2>","1","0","1","","","CC BY-SA 2.5","3038864","4452","4452","r","404559","3625322","3607736","",""
"3039438","1","3039902","","2010-06-14 17:33:50","","14","9994","<p>What is the best way to add a footnote to the bottom of a plot created with ggplot2?  I've tried using a combination of the logic noted <a href=""http://www.r-bloggers.com/r-good-practice-%E2%80%93-adding-footnotes-to-graphics/"" rel=""nofollow noreferrer"">here</a> as well as the ggplot2 <code>annotate</code> function.  </p>

<pre><code>p + annotate(""text"",label=""Footnote"",
  x=unit(1,""npc"") - unit(2, ""mm""),y=unit(2, ""mm""),
  just=c(""right"", ""bottom""),gp=gpar(cex= 0.7, col=grey(.5)))
</code></pre>

<p>but I am getting the error </p>

<blockquote>
  <p>Error in as.data.frame.default(x[[i]], optional = TRUE, stringsAsFactors = stringsAsFactors) : cannot coerce class c(""unit.arithmetic"", ""unit"") into a data.frame</p>
</blockquote>
","338714","","8367943","","2019-04-30 07:12:37","2019-07-08 20:00:56","ggplot2 footnote","<r><pdf><ggplot2>","2","2","8","","","CC BY-SA 4.0","3039438","4452","4452","r","404559","3625322","3607736","",""
"3039646","1","","","2010-06-14 18:03:36","","9","6335","<p>I am trying to do some k-means clustering on a very large matrix.</p>

<p>The matrix is approximately 500000 rows x 4000 cols yet very sparse (only a couple of ""1"" values per row). </p>

<p>The whole thing does not fit into memory, so I converted it into a sparse ARFF file. But R obviously can't read the sparse ARFF file format. I also have the data as a plain CSV file.</p>

<p>Is there any package available in R for loading such sparse matrices efficiently? I'd then use the regular k-means algorithm from the cluster package to proceed.</p>

<p>Many thanks</p>
","210944","","","","","2015-05-20 10:50:45","k-means clustering in R on very large, sparse matrix?","<r><cluster-analysis><sparse-matrix>","4","2","6","","","CC BY-SA 2.5","3039646","4452","4452","r","404559","3625322","3607736","",""
"3040352","1","3040364","","2010-06-14 19:42:03","","10","5504","<p>I have tried the <code>merge</code> function to merge two csv files that I imported. They both have the same variable names and data types but each time I run merge all that I get is an object that contains the names of the two data frames. I have tried the following:</p>

<pre><code># ex1
obj &lt;- merge(obj1, obj2, by=obj)
# ex2
obj &lt;- merge(obj1, obj2, all)
</code></pre>

<p>and several other iterations of the above. </p>

<p>Is merge the correct function?
If so, what am I doing wrong?</p>
","345466","","172261","","2010-06-14 19:49:35","2010-06-14 19:49:35","Merge two data frames together that have the same variable names and data types","<r>","1","0","1","","","CC BY-SA 2.5","3040352","4452","4452","r","404559","3625322","3607736","",""
"3042117","1","3042262","","2010-06-15 02:10:13","","64","36039","<p>I hope that this one is not going to be ""ask-and-answer"" question... here goes:
(multi)collinearity refers to extremely high correlations between predictors in the regression model. How to cure them... well, sometimes you don't need to ""cure"" collinearity, since it doesn't affect regression model itself, but interpretation of an effect of individual predictors.</p>

<p>One way to spot collinearity is to put each predictor as a dependent variable, and other predictors as independent variables, determine R<sup>2</sup>, and if it's larger than .9 (or .95), we can consider predictor redundant. This is one ""method""... what about other approaches? Some of them are time consuming, like excluding predictors from model and watching for b-coefficient changes - they should be noticeably different.</p>

<p>Of course, we must always bear in mind the specific context/goal of the analysis... Sometimes, only remedy is to repeat a research, but right now, I'm interested in various ways of screening redundant predictors when (multi)collinearity occurs in a regression model.</p>
","457898","","2623899","","2013-12-31 22:42:05","2014-07-26 01:44:47","Screening (multi)collinearity in a regression model","<r><statistics><regression>","5","13","44","","","CC BY-SA 3.0","3042117","4452","4452","r","404559","3625322","3607736","",""
"3042435","1","3042654","","2010-06-15 04:00:04","","10","1074","<p>I would like to know if there is an implementation of the foldLeft function (and foldRight?) in R.</p>

<p>The language is supposed to be ""rather"" functional oriented and hence I think there should be something like this, but I could not find it in the documentation.</p>

<p>To me, foldLeft function applies on a list and has the following signature:</p>

<pre><code>foldLeft[B](z : B)(f : (B, A) =&gt; B) : B
</code></pre>

<p>It is supposed to return the following result:</p>

<pre><code>f(... (f(f(z, a0), a1) ...), an) if the list is [a0, a1, ..., an].
</code></pre>

<p>(I use the definition of the <a href=""http://www.scala-lang.org/docu/files/api/scala/List.html#reduceLeft%28%28B%2CA%29%3D%3EB%29"" rel=""noreferrer"">Scala List API</a>)</p>

<p>Does anybody know if such a function exists in R?</p>
","295307","","","","","2015-03-06 14:29:16","Is the FoldLeft function available in R?","<r><functional-programming><list>","2","0","","","","CC BY-SA 2.5","3042435","4452","4452","r","404559","3625322","3607736","",""
"3044794","1","3044959","","2010-06-15 11:47:00","","48","104225","<p>I have in R a list like this:</p>

<pre><code>&gt; print(head(mylist,2))
[[1]]
[1] 234984  10354  41175 932711 426928

[[2]]
[1] 1693237   13462
</code></pre>

<p>Each element of the list has different number of its elements.</p>

<p>I would like to print this list to a text file like this:</p>

<pre><code>mylist.txt
234984  10354  41175 932711 426928
1693237   13462
</code></pre>

<p>I know that I can use sink(), but it prints names of elements [[x]], [y] and I want to avoid it. Also because of different number of elements in each element of the list it is not possible to use write() or write.table().</p>
","213683","","","","","2019-02-11 15:55:34","R: Print list to a text file","<list><r>","8","0","24","","","CC BY-SA 2.5","3044794","4452","4452","r","404559","3625322","3607736","",""
"3051279","1","3052077","","2010-06-16 07:08:20","","3","16968","<p>Suppose my data looks like this:</p>

<pre><code>2372  Kansas KS2000111 HUMBOLDT, CITY OF    ATRAZINE    1.3 05/07/2006
9104  Kansas KS2000111 HUMBOLDT, CITY OF    ATRAZINE   0.34 07/23/2006
9212  Kansas KS2000111 HUMBOLDT, CITY OF    ATRAZINE   0.33 02/11/2007
2094  Kansas KS2000111 HUMBOLDT, CITY OF    ATRAZINE    1.4 05/06/2007
16763 Kansas KS2000111 HUMBOLDT, CITY OF    ATRAZINE   0.61 05/11/2009
1076  Kansas KS2000111 HUMBOLDT, CITY OF METOLACHLOR   0.48 05/12/2002
1077  Kansas KS2000111 HUMBOLDT, CITY OF METOLACHLOR    0.3 05/07/2006
</code></pre>

<p>I want to be able to subset by the Analyte and a partial match on the date(namely I just want the year). I have been trying this, but I know it isn't quite right.</p>

<pre><code> data[data$Analyte==""ATRAZINE"" &amp; grep(""2006"",as.character(data$Date)),]
</code></pre>

<p>Any suggestions? </p>
","213185","","","","","2016-03-17 07:51:55","subset a data.frame with multiple conditions","<r><subset><dataframe>","3","1","3","","","CC BY-SA 2.5","3051279","4452","4452","r","404559","3625322","3607736","",""
"3053095","1","3053209","","2010-06-16 12:13:40","","3","878","<p>The software I am using produces log files with a variable number of lines of summary information followed by lots of tab delimited data. I am trying to write a function that will read the data from these log files into a data frame ignoring the summary information. The summary information never contains a tab, so the following function works:</p>

<pre><code>read.parameters &lt;- function(file.name, ...){
  lines &lt;- scan(file.name, what=""character"", sep=""\n"")
  first.line &lt;- min(grep(""\\t"", lines))
  return(read.delim(file.name, skip=first.line-1, ...))
}
</code></pre>

<p>However, these logfiles are quite big, and so reading the file twice is very slow. Surely there is a better way?</p>

<p><b>Edited to add:</b></p>

<p>Marek suggested using a <code>textConnection</code> object. The way he suggested in the answer fails on a big file, but the following works:</p>

<pre><code>read.parameters &lt;- function(file.name, ...){
  conn = file(file.name, ""r"")
  on.exit(close(conn))
  repeat{
    line = readLines(conn, 1)
    if (length(grep(""\\t"", line))) {
      pushBack(line, conn)
      break}}
  df &lt;- read.delim(conn, ...)
  return(df)}
</code></pre>

<p><b>Edited again:</b> Thanks Marek for further improvement to the above function.</p>
","188595","","188595","","2010-06-17 20:00:46","2010-06-17 20:00:46","How to skip extra lines before the header of a tab delimited delimited file in R","<r><csv><delimiter>","2","2","2","","","CC BY-SA 2.5","3053095","4452","4452","r","404559","3625322","3607736","",""
"3053833","1","3053883","","2010-06-16 13:52:05","","135","130374","<p>@EZGraphs on Twitter writes:
""Lots of online csvs are zipped. Is there a way to download, unzip the archive, and load the data to a data.frame using R? #Rstats""</p>

<p>I was also trying to do this today, but ended up just downloading the zip file manually.</p>

<p>I tried something like:</p>

<pre><code>fileName &lt;- ""http://www.newcl.org/data/zipfiles/a1.zip""
con1 &lt;- unz(fileName, filename=""a1.dat"", open = ""r"")
</code></pre>

<p>but I feel as if I'm a long way off.
Any thoughts?</p>
","180892","","680068","","2021-04-09 08:01:29","2021-04-09 08:01:29","Using R to download zipped data file, extract, and import data","<r><connection><zip><r-faq>","9","2","63","","","CC BY-SA 2.5","3053833","4452","4452","r","404559","3625322","3607736","",""
"3054487","1","3054516","","2010-06-16 14:59:39","","5","5668","<p>I am using R to work with meteorological data. I proceed in two steps:</p>

<ol>
<li>convert grib to netcdf using the command line function ncl_convert2nc from ncar command language</li>
<li>use package ncdf in R to import the netcdf data. </li>
</ol>

<p><strong>I still have one problem:</strong>  </p>

<p>2- For some particular grib files, the conversion with ncar tool does not work. Is there other ways or trick (other than transcription into netcdf) to <strong>read grib files in R</strong> ? </p>

<p>Problem Answered by Dirk: 1- I would like to do automatic treatment of many files within R. Can I call ncl_convert2nc within R ? (answered by Dirk Eddelbuettel below )</p>
","357424","","4370109","","2015-11-12 12:04:10","2020-12-04 07:47:49","Using R to open grib files","<r><data-structures><netcdf><grib>","5","0","1","","","CC BY-SA 3.0","3054487","4452","4452","r","404559","3625322","3607736","",""
"3054612","1","3054644","","2010-06-16 15:14:31","","15","13545","<p>When creating functions that use <code>strsplit</code>, vector inputs do not behave as desired, and <code>sapply</code> needs to be used. This is due to the list output that <code>strsplit</code> produces. Is there a way to vectorize the process - that is, the function produces the correct element in the list for each of the elements of the input?</p>

<p>For example, to count the lengths of words in a character vector:</p>

<pre><code>words &lt;- c(""a"",""quick"",""brown"",""fox"")

&gt; length(strsplit(words,""""))
[1] 4 # The number of words (length of the list)

&gt; length(strsplit(words,"""")[[1]])
[1] 1 # The length of the first word only

&gt; sapply(words,function (x) length(strsplit(x,"""")[[1]]))
a quick brown   fox 
1     5     5     3 
# Success, but potentially very slow
</code></pre>

<p>Ideally, something like <code>length(strsplit(words,"""")[[.]])</code> where <code>.</code> is interpreted as the being the relevant part of the input vector.</p>
","269476","","202229","","2015-05-18 02:00:59","2015-05-18 02:00:59","How to vectorize R strsplit?","<r><vectorization><strsplit>","1","0","9","","","CC BY-SA 3.0","3054612","4452","4452","r","404559","3625322","3607736","",""
"3055701","1","","","2010-06-16 17:30:53","","0","3678","<p>I'm not sure what i'm missing here, but i'm basically trying to compute interpolated values for a time series; when I directly plot the series, constraining the interpolation points with ""interpolation.date.vector"", the plot is correct:</p>

<pre><code>plot(date.vector,fact.vector,ylab='Quantity')
lines(spline(date.vector,fact.vector,xout=interpolation.date.vector))
</code></pre>

<p>When I compute the interpolation, store it in an intermediate variable, and then plot the results; I get a radically incorrect result:</p>

<pre><code>intepolated.values &lt;- spline(date.vector,fact.vector,xout=interpolation.date.vector)

plot(intepolated.values$x,intepolated.values$y)
lines(intepolated.values$x,intepolated.values$y)
</code></pre>

<p>Doesn't the lines() function have to execute the spline() function to retrieve the interpolated points in the same way i'm doing it?</p>
","225313","","225313","","2010-06-16 17:36:59","2014-01-07 19:51:57","Interpolation of time series data in R","<r><plot><interpolation>","1","2","","","","CC BY-SA 2.5","3055701","4452","4452","r","404559","3625322","3607736","",""
"3056146","1","3056183","","2010-06-16 18:34:35","","11","12322","<p>I am working on saving twitter search results into a database (SQL Server) and am getting an error when I pull the search results from twitteR. </p>

<p>If I execute:</p>

<pre><code>library(twitteR)
puppy &lt;- as.data.frame(searchTwitter(""puppy"", session=getCurlHandle(),num=100))
</code></pre>

<p>I get an error of:</p>

<pre><code>Error in as.data.frame.default(x[[i]], optional = TRUE) : 
  cannot coerce class structure(""status"", package = ""twitteR"") into a data.frame
</code></pre>

<p>This is important because in order to use RODBC to add this to a table using sqlSave it needs to be a data.frame. At least that's the error message I got:</p>

<pre><code>Error in sqlSave(localSQLServer, puppy, tablename = ""puppy_staging"",  : 
  should be a data frame
</code></pre>

<p>So does anyone have any suggestions on how to coerce the list to a data.frame or how I can load the list through RODBC?</p>

<p>My final goal is to have a table that mirrors the structure of values returned by searchTwitter. Here is an example of what I am trying to retrieve and load:</p>

<pre><code>library(twitteR)
puppy &lt;- searchTwitter(""puppy"", session=getCurlHandle(),num=2)
str(puppy)

List of 2
 $ :Formal class 'status' [package ""twitteR""] with 10 slots
  .. ..@ text        : chr ""beautifull and  kc reg Beagle Mix for rehomes: This little puppy is looking for a new loving family wh... http://bit.ly/9stN7V ""| __truncated__
  .. ..@ favorited   : logi FALSE
  .. ..@ replyToSN   : chr(0) 
  .. ..@ created     : chr ""Wed, 16 Jun 2010 19:04:03 +0000""
  .. ..@ truncated   : logi FALSE
  .. ..@ replyToSID  : num(0) 
  .. ..@ id          : num 1.63e+10
  .. ..@ replyToUID  : num(0) 
  .. ..@ statusSource: chr ""&amp;lt;a href=&amp;quot;http://twitterfeed.com&amp;quot; rel=&amp;quot;nofollow&amp;quot;&amp;gt;twitterfeed&amp;lt;/a&amp;gt;""
  .. ..@ screenName  : chr ""puppy_ads""
 $ :Formal class 'status' [package ""twitteR""] with 10 slots
  .. ..@ text        : chr ""the cutest puppy followed me on my walk, my grandma won't let me keep it. taking it to the pound sadface""
  .. ..@ favorited   : logi FALSE
  .. ..@ replyToSN   : chr(0) 
  .. ..@ created     : chr ""Wed, 16 Jun 2010 19:04:01 +0000""
  .. ..@ truncated   : logi FALSE
  .. ..@ replyToSID  : num(0) 
  .. ..@ id          : num 1.63e+10
  .. ..@ replyToUID  : num(0) 
  .. ..@ statusSource: chr ""&amp;lt;a href=&amp;quot;http://blackberry.com/twitter&amp;quot; rel=&amp;quot;nofollow&amp;quot;&amp;gt;Twitter for BlackBerry&amp;lt;/a&amp;gt;""
  .. ..@ screenName  : chr ""iamsweaters""
</code></pre>

<p>So I think the data.frame of puppy should have column names like:</p>

<pre><code>- text
- favorited
- replytoSN
- created
- truncated
- replytoSID
- id
- replytoUID
- statusSource
- screenName
</code></pre>
","302274","","302274","","2010-06-16 19:08:13","2018-07-13 19:12:37","How to convert searchTwitter results (from library(twitteR)) into a data.frame?","<r><twitter><rodbc>","6","0","7","","","CC BY-SA 2.5","3056146","4452","4452","r","404559","3625322","3607736","",""
"3056964","1","3057961","","2010-06-16 20:34:31","","3","991","<p>I have a program that runs through R but uses the BLAS routines. It runs through correctly about 8 times but then throws an error:</p>

<blockquote>
  <p>BLAS/LAPACK routine 'DGEMV ' gave error code -6</p>
</blockquote>

<p>What does this error code mean?</p>
","65148","","125389","","2010-06-17 01:12:37","2010-06-17 01:12:37","What does BLAS DGEMV error code -6 mean?","<r><lapack><blas>","2","0","","","","CC BY-SA 2.5","3056964","4452","4452","r","404559","3625322","3607736","",""
"3057158","1","","","2010-06-16 21:03:51","","5","982","<p>I am a novice as far as using cloud computing but I get the concept and am pretty good at following instructions. I'd like to do some simulations on my data and each step takes several minutes. Given the hierarchy in my data, it takes several hours for each set. I'd like to speed this up by running it on Amazon's EC2 cloud.</p>

<p>After reading <a href=""http://rgrossman.com/2009/05/17/running-r-on-amazons-ec2/"" rel=""noreferrer"">this</a>, I know how to launch an AMI, connect to it via the shell, and launch R at the command prompt. </p>

<p>What I'd like help on is being able to copy data (.rdata files) and a script and just source it at the R command prompt. Then, once all the results are written to new .rdata files, I'd  like to copy them back to my local machine.</p>

<p>How do I do this? </p>
","313163","","","","","2010-08-09 20:27:28","Help me copy data over the Amazon's EC2 and run a script","<r><cloud><amazon><amazon-ec2>","2","2","1","","","CC BY-SA 2.5","3057158","4452","4452","r","404559","3625322","3607736","",""
"3057341","1","3083193","","2010-06-16 21:31:41","","197","59040","<p>The R language has a nifty feature for defining functions that can take a variable number of arguments. For example, the function <code>data.frame</code> takes any number of arguments, and each argument becomes the data for a column in the resulting data table. Example usage:</p>
<pre><code>&gt; data.frame(letters=c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;), numbers=c(1,2,3), notes=c(&quot;do&quot;, &quot;re&quot;, &quot;mi&quot;))
  letters numbers notes
1       a       1    do
2       b       2    re
3       c       3    mi
</code></pre>
<p>The function's signature includes an ellipsis, like this:</p>
<pre><code>function (..., row.names = NULL, check.rows = FALSE, check.names = TRUE, 
    stringsAsFactors = default.stringsAsFactors()) 
{
    [FUNCTION DEFINITION HERE]
}
</code></pre>
<p>I would like to write a function that does something similar, taking multiple values and consolidating them into a single return value (as well as doing some other processing). In order to do this, I need to figure out how to &quot;unpack&quot; the <code>...</code> from the function's arguments within the function. I don't know how to do this. The relevant line in the function definition of <code>data.frame</code> is <code>object &lt;- as.list(substitute(list(...)))[-1L]</code>, which I can't make any sense of.</p>
<p>So how can I convert the ellipsis from the function's signature into, for example, a list?</p>
<p>To be more specific, how can I write <code>get_list_from_ellipsis</code> in the code below?</p>
<pre><code>my_ellipsis_function(...) {
    input_list &lt;- get_list_from_ellipsis(...)
    output_list &lt;- lapply(X=input_list, FUN=do_something_interesting)
    return(output_list)
}

my_ellipsis_function(a=1:10,b=11:20,c=21:30)
</code></pre>
<hr />
<h2>Edit</h2>
<p>It seems there are two possible ways to do this. They are <code>as.list(substitute(list(...)))[-1L]</code> and <code>list(...)</code>. However, these two do not do exactly the same thing. (For differences, see examples in the answers.) Can anyone tell me what the practical difference between them is, and which one I should use?</p>
","125921","","-1","","2020-06-20 09:12:55","2016-07-13 10:13:06","How to use R's ellipsis feature when writing your own function?","<r><function><parameters><ellipsis><variadic>","5","0","122","","","CC BY-SA 2.5","3057341","4452","4452","r","404559","3625322","3607736","",""
"3063165","1","3063324","","2010-06-17 15:34:04","","8","2083","<p>I am trying to use R within a script that will act as a simple command line plot tool. I.e. user pipes in a csv file and they get a plot.  I can get to R fine and get the plot to display through various temp file machinations, but I have hit a roadblock.  I cannot figure out how to get R to keep running until the users closes the window.  </p>

<p>If I plot and exit, the plot disappears immediately. If I plot and use some kind of infinite loop, the user cannot close the plot; he must exit by using an interrupt which I don't like.  I see there is a getGraphicsEvent function, but it claims that the device is not supported (X11).  Anyway, it doesn't appear to actually support an onClose event, only onMouseDown.  </p>

<p>Any ideas on how to solve this?</p>

<p>edit: Thanks to Dirk for the advice to check out the tk interface. Here is my test code that works:</p>

<pre><code>require(tcltk)
library(tkrplot)

## function to display plot, called by tkrplot and embedded in a window
plotIt&lt;-function(){ plot(x=1:10, y=1:10) }
## create top level window
tt&lt;-tktoplevel()
## variable to wait on like a condition variable, to be set by event handler
done &lt;- tclVar(0)
## bind to the window destroy event, set done variable when destroyed
tkbind(tt,""&lt;Destroy&gt;"",function() tclvalue(done) &lt;- 1)
## Have tkrplot embed the plot window, then realize it with tkgrid
tkgrid(tkrplot(tt,plotIt))
## wait until done is true
tkwait.variable(done)
</code></pre>
","275455","","143305","","2010-06-18 12:32:49","2010-06-18 12:32:49","R: building a simple command line plotting tool/Capturing window close events","<r><plot><x11>","1","0","3","","","CC BY-SA 2.5","3063165","4452","4452","r","404559","3625322","3607736","",""
"3063243","1","3063367","","2010-06-17 15:41:13","","2","605","<p>I have a series of value that include the empty string</p>

<blockquote>
  <p>levels(mydata$phone_partner_products)
    """"                     ""dont_know""            ""maybe_interesting""<br>
    ""not_interesting""      ""very_interesting""     ""very_not_interesting""</p>
</blockquote>

<p>If I make a frequencies table I get this
table(mydata$phone_partner_products)</p>

<pre><code>                            dont_know    maybe_interesting 
            3752                  226                 2907 
 not_interesting     very_interesting very_not_interesting 
            1404                 1653                 1065
</code></pre>

<p>How can I reorder the columns in a more meaningful way?
How can I rename the empty string """" level?</p>

<p>Thank you a lot in advance.</p>
","1264096","","","","","2010-06-18 18:48:42","R table column order when including the empty string","<r>","2","0","1","","","CC BY-SA 2.5","3063243","4452","4452","r","404559","3625322","3607736","",""
"3064178","1","3064220","","2010-06-17 17:47:36","","7","3692","<p>I will be teaching an econometrics course to masters students in the fall.  I think it is important for them to learn programming with data as an essential applied research skill.  What suggestions do you have for the programming language.  I am leaning mostly towards R.  What others should I consider?</p>
","159687","","","","","2013-05-25 10:45:17","Best programming language for teaching econometrics?","<r>","6","3","3","2013-05-26 01:57:54","","CC BY-SA 2.5","3064178","4452","4452","r","404559","3625322","3607736","",""
"3070712","1","3070801","","2010-06-18 14:59:55","","4","4240","<p>Hi I have made this function that takes a table and prepare the label for a barplot</p>

<pre><code>prepare_labels &lt;- function(ft){
  labs &lt;- ft
  labs &lt;- paste(labs, ""\n"", sep="""")
  labs &lt;- paste(labs, round(prop.table(ft)*100,2), sep="""")
  labs &lt;- paste(labs, ""%"", sep="""")
  return(labs)
}
</code></pre>

<p>It actually works fine, but is there any better way to write that function, the above code looks ugly and I want to write beautiful code :-)</p>

<p>ex:</p>

<pre><code>ft &lt;- table(mydata$phone_partner_products)
prepare_labels(ft)
[1] ""3752\n34.09%"" ""226\n2.05%""   ""2907\n26.41%"" ""1404\n12.76%"" ""1653\n15.02%""
[6] ""1065\n9.68%"" 
</code></pre>
","1264096","","15682","","2013-03-10 13:37:45","2013-03-10 13:37:45","Labeling with Percentage in R plot","<r>","3","0","1","","","CC BY-SA 3.0","3070712","4452","4452","r","404559","3625322","3607736","",""
"3070925","1","3071191","","2010-06-18 15:25:43","","7","8279","<p>I have a script that makes barplots, and opens a new window when 6 barplots have been written to the screen and keeps opening new graphic devices whenever necessary.
Depending on the input, this leaves me with a potential large number of openened windows (graphic devices) which I would like to write to a single PDF file.</p>

<p>Considering my Perl background, I decided to iterate over the different graphics devices, printing them out one by one. I would like to keep appending to a single PDF file, but I do not know how to do this, or if this is even possible. I would like to avoid looping in R. :)</p>

<p>The code I use:</p>

<pre><code>for (i in 1:length(dev.list())
{
dev.set(which = dev.list()[i]
dev.copy2pdf(device = quartz, file = ""/Users/Tim/Desktop/R/Filename.pdf"")
}
</code></pre>

<p>However, this is not working as it will overwrite the file each time. Now is there an append function in R, like there is in Perl. Which allows me to keep adding pages to the existing pdf file?</p>

<p>Or is there a way to contain the information in a graphic window to a object, and keep adding new graphic devices to this object and finally print the whole thing to a file?</p>

<p>Other possible solutions I thought about:</p>

<ol>
<li>writing different pdf files, combining them after creation (perhaps even possible in R, with the right libraries installed?)</li>
<li>copying the information in all different windows to one big graphic device and then print this to a pdf file.</li>
</ol>
","369565","","","","","2012-05-23 09:47:49","R: dev.copy2pdf, multiple graphic devices to a single file, how to append to file?","<r>","2","0","","","","CC BY-SA 2.5","3070925","4452","4452","r","404559","3625322","3607736","",""
"3071201","1","","","2010-06-18 15:59:47","","0","226","<p>I have a list of counties in each state that received nonattainment status in years 1995-2005.</p>

<p>I want to know how many counties in each state each year that received this status.</p>

<p>If my data is formatted like this, </p>

<pre><code>State1 Country1 YR1 Yr2 Yr3 Yr4...
State1 Country2 YR1 Yr2 Yr3 Yr4
State2 County1  Yr1 Yr2.....
</code></pre>

<p>Each year variable could have a 1 or a zero, since a county may gain or lose this status in a time period.</p>

<p>I need to count each year how many counties in each state have nonattainment status (YRx=1), but can't think of how to do it.</p>
","370466","","26428","","2010-07-13 04:41:49","2010-07-13 04:41:49","IN R counting hierarchical data","<r><count><hierarchical-data>","2","0","1","","","CC BY-SA 2.5","3071201","4452","4452","r","404559","3625322","3607736","",""
"3071271","1","3071307","","2010-06-18 16:07:14","","35","65068","<p>I want to add a variable (column) to a dataframe (<code>df</code>), containing in each row the maximum value of that row across 2nd to 26th column.</p>

<p>For the first row, the code would be:</p>

<pre><code>df$max[1] &lt;- max(df[1,2:26])
</code></pre>

<p>I am looking for a way to generalize that for rows 1 to 865. If I give:</p>

<pre><code>df$max[1:865] &lt;- max(df[1:865, 2:26])
</code></pre>

<p>I get the overall max across all rows for the variable <code>df$max</code>.</p>
","344513","","646382","","2012-05-20 06:51:32","2019-11-29 08:44:05","Add a variable to a data frame containing max value of each row","<r>","3","0","10","","","CC BY-SA 3.0","3071271","4452","4452","r","404559","3625322","3607736","",""
"3071506","1","","","2010-06-18 16:40:40","","3","487","<p>How can I get a stack trace back from a snow node after an error occurs? I'm getting errors when I use parSapply that do not occur when I use sapply. Snow is nice enough to give me the error message but it would be much more useful for me to have the kind of stack trace you can get from traceback(). So far I have tried:</p>

<pre><code>options(showWarnCalls = T, showErrorCalls = T)
setDefaultClusterOptions(outfile = ""/dev/tty"")
</code></pre>

<p>and</p>

<pre><code>options(error=traceback)
setDefaultClusterOptions(outfile = ""/dev/tty"")
</code></pre>

<p>without luck. I'm currently just testing with a local cluster ie:</p>

<pre><code>makeSOCKcluster(c(""localhost"",""localhost""))
</code></pre>

<p>but I will eventually be using an MPI cluster. Thanks.</p>

<p>Relevant versions:</p>

<ul>
<li><a href=""http://cran.r-project.org/web/packages/snow/index.html"" rel=""nofollow noreferrer"">snow package</a> (version 0.3-3)</li>
<li>R 2.10.1</li>
<li>Mac OS X 10.5.8</li>
</ul>

<p><b>Edit:</b> moved version info to bottom of question and added OS X</p>
","160015","","160015","","2010-06-18 16:56:31","2010-06-20 13:06:01","R: How to get a stack trace from the snow package","<r><stack-trace>","1","0","1","","","CC BY-SA 2.5","3071506","4452","4452","r","404559","3625322","3607736","",""
"3073365","1","3075483","","2010-06-18 22:08:05","","1","1726","<p><strong>Background</strong></p>

<p>A PostgreSQL database uses PL/R to call R functions. An R call to calculate Spearman's correlation looks as follows:</p>

<pre><code>cor( rank(x), rank(y) )
</code></pre>

<p>Also in R, a nave calculation of a fitted generalized additive model (GAM):</p>

<pre><code>data.frame( x, fitted( gam( y ~ s(x) ) ) )
</code></pre>

<p>Here <code>x</code> represents the years from 1900 to 2009 and <code>y</code> is the average measurement (e.g., minimum temperature) for that year.</p>

<p><strong>Problem</strong></p>

<p>The fitted trend line (using GAM) is reasonably accurate, as you can see in the following picture:</p>

<p><img src=""https://i.imgur.com/X0gxV.png"" /></p>

<p>The problem is that the correlations (shown in the bottom left) do not accurately reflect how closely the model fits the data.</p>

<p><strong>Possible Solution</strong></p>

<p>One way to improve the accuracy of the correlation is to use a root mean square error (RMSE) calculation on binned data.</p>

<p><strong>Questions</strong></p>

<p><em>Q.1.</em> How would you implement the RMSE calculation on the binned data to get a correlation (between 0 and 1) of GAM's fit to the measurements, in the R language?</p>

<p><em>Q.2.</em> Is there a better way to find the accuracy of GAM's fit to the data, and if so, what is it (e.g., root mean square deviation)?</p>

<p><strong>Attempted Solution 1</strong></p>

<ol>
<li>Call the PL/R function using the observed amounts and the model (GAM) amounts: <pre><code>correlation_rmse := climate.plr_corr_rmse( v_amount, v_model );</code></pre></li>
<li>Define <code>plr_corr_rmse</code> as follows (where <code>o</code> and <code>m</code> represent the observed and modelled data): <pre><code>CREATE OR REPLACE FUNCTION climate.plr_corr_rmse(
o double precision[], m double precision[])
RETURNS double precision AS
$BODY$
sqrt( mean( o - m ) ^ 2 )
$BODY$
LANGUAGE 'plr' VOLATILE STRICT
COST 100;
</code></pre></li>
</ol>

<p>The <code>o - m</code> is wrong. I'd like to bin both data sets by calculating the <code>mean</code> of every 5 data points (there will be at most 110 data points). For example:</p>

<pre><code>omean &lt;- c( mean(o[1:5]), mean(o[6:10]), ... )
mmean &lt;- c( mean(m[1:5]), mean(m[6:10]), ... )
</code></pre>

<p>Then correct the RMSE calculation as:</p>

<pre><code>sqrt( mean( omean - mmean ) ^ 2 )
</code></pre>

<p>How do you calculate <code>c( mean(o[1:5]), mean(o[6:10]), ... )</code> for an arbitrary length vector in an appropriate number of bins (5, for example, might not be ideal for only 67 measurements)?</p>

<p>I don't think <code>hist</code> is suitable here, is it?</p>

<p><strong>Attempted Solution 2</strong></p>

<p>The following code will solve the problem, however it drops data points from the end of the list (to make the list divisible by 5). The solution isn't ideal as the number ""5"" is rather magical.</p>

<pre><code>while( length(o) %% 5 != 0 ) {
  o &lt;- o[-length(o)]
}

omean &lt;- apply( matrix(o, 5), 2, mean )
</code></pre>

<p>What other options are available?</p>

<p>Thanks in advance.</p>
","59087","","59087","","2010-06-19 01:29:25","2010-06-19 12:32:51","Root mean square deviation on binned GAM results using R","<r><statistics><binning><plr><gam>","1","0","","","","CC BY-SA 2.5","3073365","4452","4452","r","404559","3625322","3607736","",""
"3073746","1","3073898","","2010-06-18 23:53:42","","1","3936","<p>I'm getting a strange error when I run the following function:</p>

<pre><code>TypeIDs=c(18283,18284,17119,17121,17123,17125,17127,17129,17131,17133,18367,18369,18371,18373,18375,18377,18379)

featsave&lt;-function(featfile,TypeIDs=TypeIDs) {
    mydata1&lt;-read.table(featfile,header=TRUE)
    mydata2&lt;-subset(mydata1,TypeID %in% TypeIDs)

    mydata&lt;-as.data.frame(cast(mydata2, Feat1 + Feat2 + ID ~ TypeID,value=""value""))
    save(mydata,file=""mydatafile.Rdata"",compress=TRUE)
    return(mydata)
}
</code></pre>

<p>with the following data:</p>

<pre><code>Feat1   Feat2   ID  Feat3   Feat4   TypeID  value
1   1   1   6   266 18283   280.00
1   1   1   6   266 18284   20.00
1   1   1   6   266 18285   0.00
1   1   1   6   266 17116   0.00
1   1   1   6   266 17117   0.00
1   1   1   6   266 17118   0.00
1   1   1   6   266 17119   68.75
1   1   1   6   266 17120   0.00
1   1   1   6   266 17121   1.26
</code></pre>

<p>The error I get is:</p>

<pre><code>Error in inherits(x, ""factor"") : 
  promise already under evaluation: recursive default argument reference or earlier problems?
</code></pre>

<p>This error occurs on the <code>mydata2</code> line where I take a subset of the data. I can't seem to debug it because if I instead run each line of the function in the interpreter, I no longer get the error. What gives?</p>
","208704","","","","","2010-06-19 00:50:18","R error promise already under evaluation when using subset in function but no error in script","<r><subset><dataframe>","1","1","1","","","CC BY-SA 2.5","3073746","4452","4452","r","404559","3625322","3607736","",""
"3076526","1","3076842","","2010-06-19 17:28:47","","11","61532","<p>I can't find something to the effect of an undo command in R (neither on An Introduction to R nor in R in a Nutshell). I am particularly interested in undoing/deleting when dealing with interactive graphs.</p>

<p>What approaches do you suggest?</p>
","344513","","180892","","2012-07-14 01:27:41","2016-07-28 07:17:14","Undo command in R","<r>","2","0","7","","","CC BY-SA 3.0","3076526","4452","4452","r","404559","3625322","3607736","",""
"3076633","1","","","2010-06-19 18:02:53","","1","1235","<p>I'm running a logit model using the zelig package in R:</p>

<pre><code>z.out &lt;- zelig(trade961a ~ age962 + education962 + personal962 + economy962 + partisan962 + employment962 + union962 + home962 + market962 + race962 + income962, data=data96, model=""logit"")
</code></pre>

<p>The dependent variable, trade961a, is a dichotomous factor variable. All other variables are numeric.</p>

<p>I am interested in personal962, which is:</p>

<pre><code>&gt; str(personal962)
 num [1:1714] 3 3 1 1 1 2 3 2 2 1 ...
</code></pre>

<p>so I run the following to simulate the probability of supporting international trade when personal962 is 1 (better):</p>

<pre><code>x.out &lt;- setx(z.out, personal962=1)
</code></pre>

<p>I get the following error message:</p>

<pre><code>#Error in dta[complete.cases(mf), names(dta) %in% vars, drop = FALSE] :
#  incorrect number of dimensions
</code></pre>

<p>Any ideas on what I'm doing wrong?</p>
","371153","","3576984","","2015-07-17 14:58:58","2015-07-17 14:58:58","Logistic Regression Using Zelig [R]","<r><r-zelig>","1","0","","","","CC BY-SA 3.0","3076633","4452","4452","r","404559","3625322","3607736","",""
"3079264","1","3081692","","2010-06-20 12:42:55","","36","48063","<p>Does anyone know how to use a pre-defined color palette in ggplot?</p>

<p>I have a vector of colors I would like to use:</p>

<pre><code>rhg_cols &lt;- c(""#771C19"", ""#AA3929"", ""#E25033"", ""#F27314"", ""#F8A31B"", 
              ""#E2C59F"", ""#B6C5CC"", ""#8E9CA3"", ""#556670"", ""#000000"")
</code></pre>

<p>But when I try to pass it to nothing happened</p>

<pre><code>ggplot(mydata, aes(factor(phone_partner_products)), color = rhg_cols) +
  geom_bar()
</code></pre>
","1264096","","1851712","","2016-03-04 08:20:12","2018-06-15 14:59:22","Using a pre-defined color palette in ggplot","<r><ggplot2>","4","0","15","","","CC BY-SA 3.0","3079264","4452","4452","r","404559","3625322","3607736","",""
"3079415","1","3079886","","2010-06-20 13:38:46","","5","643","<p>I would like to pass a variable to the binary operator $.</p>

<p>Let's say I have this</p>

<pre><code>&gt; levels(diamonds$cut)
[1] ""Fair""      ""Good""      ""Very Good"" ""Premium""   ""Ideal"" 
</code></pre>

<p>Then I want to make a function that takes as parameter the selector for $</p>

<pre><code>my_helper &lt;- function (my_param) {
  levels(diamonds$my_param)
}
</code></pre>

<p>But this doesn't work</p>

<pre><code>&gt; my_helper(cut)
NULL

&gt; my_helper(""cut"")
NULL
</code></pre>
","1264096","","3001626","","2016-01-06 22:06:56","2016-01-06 22:06:56","define $ right parameter with a variable in R","<r>","3","0","1","2016-01-06 22:01:07","","CC BY-SA 2.5","3079415","4452","4452","r","404559","3625322","3607736","",""
"3081066","1","3082602","","2010-06-20 21:49:53","","55","51284","<p>I wish to present a <a href=""http://en.wikipedia.org/wiki/Distance_matrix"" rel=""noreferrer"">distance matrix</a> in an article I am writing, and I am looking for good visualization for it.</p>

<p>So far I came across balloon plots (I used it <a href=""http://www.r-statistics.com/2010/02/nutritional-supplements-efficacy-score-graphing-plots-of-current-studies-results-using-r/"" rel=""noreferrer"">here</a>, but I don't think it will work in this case), heatmaps (here is <a href=""http://flowingdata.com/2010/01/21/how-to-make-a-heatmap-a-quick-and-easy-solution/"" rel=""noreferrer"">a nice example</a>, but they don't allow to present the numbers in the table, correct me if I am wrong.  Maybe half the table in colors and half with numbers would be cool) and lastly correlation ellipse plots (here is <a href=""http://addictedtor.free.fr/graphiques/RGraphGallery.php?graph=149"" rel=""noreferrer"">some code and example</a> - which is cool to use a shape, but I am not sure how to use it here).</p>

<p>There are also various clustering methods but they will aggregate the data (which is <strong>not</strong> what I want)  while what I want is to present all of the data.</p>

<p>Example data:</p>

<pre><code>nba &lt;- read.csv(""http://datasets.flowingdata.com/ppg2008.csv"")
dist(nba[1:20, -1], )
</code></pre>

<p>I am open for ideas.</p>
","256662","","2886003","","2018-01-29 14:02:53","2018-01-29 14:02:53","What techniques exists in R to visualize a ""distance matrix""?","<r><matrix><visualization><data-visualization>","7","5","41","","","CC BY-SA 3.0","3081066","4452","4452","r","404559","3625322","3607736","",""
"3082716","1","3082764","","2010-06-21 07:15:49","","28","6195","<p>In matlab, you can  re-use the result of the (non affected) preceding calculous: it is stored in variable ans. Does R has something equivalent ? </p>
","357424","","","","","2010-06-30 14:09:56","Equivalent of matlab 'ans' in R","<matlab><r>","2","2","6","2017-12-21 08:30:55","","CC BY-SA 2.5","3082716","4452","4452","r","404559","3625322","3607736","",""
"3082822","1","","","2010-06-21 07:37:42","","3","352","<p>When you study time series forecast you most often have to deal with two times: the time you issue your forecast and the time you make your forecast for. These two times are not regularly sampled in general. </p>

<p>What R object do you suggest to deal with these two times ? 
please indicate advantages and drawback.
If no object exist, how should I use existing S4 object to create what I need? </p>

<p>Thanks in advance for sharing your experience in R with this type of data</p>
","357424","","","","","2010-06-21 17:00:21","R time series object with two time dimensions","<datetime><r>","1","0","1","","","CC BY-SA 2.5","3082822","4452","4452","r","404559","3625322","3607736","",""
"3083841","1","","","2010-06-21 10:28:20","","1","5025","<p>I am new to the R language, so I just want to know how array indexing is done in R. I mean like sorting or any calculations that involve 2D arrays. </p>
","1531462","","1288","","2012-08-26 13:39:33","2013-04-09 14:41:38","How do I perform Array Indexing in R Language?","<r><arrays><indexing>","1","2","","","","CC BY-SA 3.0","3083841","4452","4452","r","404559","3625322","3607736","",""
"3084560","1","3084707","","2010-06-21 12:26:53","","1","98","<p>Here I am with an other newbie question.</p>

<p>I am importing a CSV file that looks like this:</p>

<pre><code>""username"",""interest"",""has_card""
""test01"",""not_interesting"",1
""test02"",""maybe_interesting"",0
""test03"",""not_interesting"",0
""test04"",""maybe"",1

mydata &lt;- read.table(file(""test.csv"", encoding = ""UTF-8""), header=TRUE, sep="","")
</code></pre>

<p>Then (maybe it sounds like a newbie stupid question) why I can get the levels for string based stuff, like this:</p>

<pre><code>&gt; levels(mydata$interest)
[1] ""maybe""             ""maybe_interesting"" ""not_interesting""
</code></pre>

<p>But not for binary (integer) based stuff.</p>

<pre><code>&gt; levels(mydata$has_card)
NULL
</code></pre>

<p>What I am doing is a barplot for frequencies table, I basically need to rename the labels 0,1 to something like ""No"", ""Yes"" in the plot legend. But I can't do:</p>

<pre><code>levels(mydata$has_card)[1] &lt;- ""Yes""
levels(mydata$has_card)[0] &lt;- ""No""
</code></pre>

<p>Like I would do it with ""maybe"" ""maybe_interesting"" ""not_interesting""</p>
","1264096","","","","","2010-06-21 12:42:25","Levels not present when handling 1,0,NA","<r>","2","1","","","","CC BY-SA 2.5","3084560","4452","4452","r","404559","3625322","3607736","",""
"3085673","1","3085903","","2010-06-21 14:47:31","","3","866","<p>I am working on a small project which involves a dictionary based text searching within a collection of documents. My dictionary has positive signal words (a.k.a good words) but in the document collection just finding a word does not guarantee a positive result as there may be negative words for example (not, not significant) that may be in the proximity of these positive words. I want to construct a matrix such that it contains the document number,positive word and its proximity to negative words. </p>

<p>Can anyone please suggest a way to do that. My project is at a very very early stage so I am giving a basic example of my text. </p>

<pre><code>No significant drug interactions have been reported in studies of candesartan cilexetil given with other drugs such as glyburide, nifedipine, digoxin, warfarin, hydrochlorothiazide.   
</code></pre>

<p>This is my example document in which <strong>candesartan cilexetil, glyburide, nifedipine, digoxin, warfarin, hydrochlorothiazide</strong> are my positive words and no significant is my negative word. I want to do a proximity (word based) mapping between my positive and nevative words. </p>

<p>Can anyone give some helpful pointers? </p>
","358506","","","","","2010-06-21 15:18:08","Keeping Track of Word Proximity","<r><text-mining>","2","0","4","","","CC BY-SA 2.5","3085673","4452","4452","r","404559","3625322","3607736","",""
"3086081","1","3086131","","2010-06-21 15:41:25","","25","4979","<p>I haven't quite figured out a sensible workflow for building packages and writing their documentation.</p>

<p>I want as much of the process (and the documentation) as possible to be automatically generated.</p>

<p>The obvious way to do this seems to be to use <code>package.skeleton</code> to create the basic package files, then programmatically overwrite the <code>DESCRIPTION</code> file and the <code>Rd</code> files.  The trouble with this is that you then lose the automatically generated fields that ensure you've remembered to document all the right parameters.</p>

<p>I'd like to know how <em>you</em> go about building packages and writing documentation.  Are there any tools available to make the process easier? (<a href=""http://cran.r-project.org/web/packages/roxygen/index.html"" rel=""nofollow noreferrer"">roxygen</a> looks like it was designed for this sort of thing; is there a good tutorial for it? and are there any alternatives?)</p>
","134830","","4975218","","2017-12-31 05:36:02","2017-12-31 05:37:30","How do you write your package documentation?","<r><documentation><packages><documentation-generation><roxygen2>","2","0","10","2017-12-31 12:12:43","","CC BY-SA 3.0","3086081","4452","4452","r","404559","3625322","3607736","",""
"3086184","1","3086619","","2010-06-21 15:54:37","","0","333","<p>I have to make a report of a survey where we have a question like this (all answers are checkboxes).</p>

<pre><code>What is you favorite cake(s) (please choose more than one):
[] Tiramis
[] Carrot Cake
[] Cupcake
</code></pre>

<p>Then the survey software exports into CSV like this:</p>

<pre><code>""username"",""likes_tiramisu"",""likes_carrotcake"",""likes_cupcake""
""test01"",1,1,1
""test02"",0,1,1
""test03"",0,1,0
""test04"",0,0,1
</code></pre>

<p>I would like to make a barplot where every histogram represent the frequency of every cake.
How can I combine a table like this:</p>

<pre><code>""likes_tiramisu""  ""likes_carrotcake""  ""likes_cupcake""
               1                   3                3
</code></pre>

<p>Could I just solve it with sum of all elements in each column? 
Is it conceptually valid?</p>
","1264096","","203420","","2012-09-26 18:46:41","2012-09-26 18:46:41","Barplot visualising check boxes","<r><plot>","2","2","","","","CC BY-SA 3.0","3086184","4452","4452","r","404559","3625322","3607736","",""
"3087137","1","3088152","","2010-06-21 17:59:26","","3","825","<p>I'm using rpy2 to do data analysis and plotting in python. It works fine except for the fact that when I draw a plot, it's window hangs around until the program terminates. Is there a way to clear the plot during runtime? Additionally, If I ever resize the window, the plot disappears, but the window remains. When using R interactively, resizing the window simply adjusts the size of my plot. I'd like to have this functionality within python.</p>

<p>For example, were I to run the following code, I would be presented with a simple plot. </p>

<pre><code>import rpy2.robjects as robj

xdata = [2,4,6,8,10,12]
ydata = [1,2,3,4,5,6]
Rxdata = robj.IntVector(xdata)
Rydata = robj.IntVector(ydata)

plot = robj.r.plot
plot(x=Rxdata, y=Rydata, main='title')
</code></pre>

<p>however, if I wanted to resize the window, the plot would dissapear, and if I want my code to keep doing other things, this window hangs around. If there is a command that works in R to clear the plot that might work, but I can't seem to find one. Any pointers would be appreciated.</p>
","173292","","","","","2018-11-21 11:46:38","Python and rpy2: How do I adjust/clear a graphic during runtime?","<python><r><rpy2>","2","0","2","","","CC BY-SA 2.5","3087137","4452","4452","r","404559","3625322","3607736","",""
"3087145","1","3087205","","2010-06-21 18:00:48","","35","55015","<p>I want a function to return the product of all the values in a vector, like <code>sum</code> but with multiplication instead of addition. I expected this to exist already, but if it does I can't find it. Here's my solution:</p>

<pre><code>product &lt;- function(vec){
    out &lt;- 1
    for(i in 1:length(vec)){
         out &lt;- out*vec[i]
    }
    out
}
</code></pre>

<p>This behaves the way I want it to. For example:</p>

<pre><code>&gt; product(1:3)
[1] 6
</code></pre>

<p>Is there a better way of doing this, either with an existing function or through an improvement to this custom one?</p>
","205054","","","","","2020-06-24 19:57:23","multiplying all elements of a vector in R","<r>","2","1","7","","","CC BY-SA 2.5","3087145","4452","4452","r","404559","3625322","3607736","",""
"3087996","1","3089384","","2010-06-21 19:48:09","","1","326","<p>I want to uninstall rapache, make uninstall doesn't seem to do anything and a look at the rapache documentation and a google search turns up nothing. Any help would be great</p>
","80749","","42346","","2010-06-21 19:50:27","2010-12-02 09:14:07","How do I uninstall rapache?","<r><uninstallation><rapache>","3","3","","","","CC BY-SA 2.5","3087996","4452","4452","r","404559","3625322","3607736","",""
"3088650","1","3088744","","2010-06-21 21:30:47","","32","18275","<p>I'm writing an Rcpp module an would like to return as one element of the RcppResultSet list a list whose elements are vectors.   E.g., <code>.Call(""myfunc"")$foo</code> should be something like: </p>

<pre><code>[[1]]
[1] 1

[[2]]
[1] 1 1

[[3]]
[1] 1 1 1
</code></pre>

<p>(the exact numbers are not important here).  The issue is that I don't know the right Rcpp way of doing this.  I tried passing a <code>vector&lt;vector&lt;int&gt; &gt;</code> but this constructs a matrix by silently taking the length of the first vector as the width (even if the matrix is ragged!).  I've tried constructing an <code>RcppList</code> but have a hard time casting various objects (like <code>RcppVector</code>) safely into <code>SEXP</code>s.</p>

<p>Anyone have tips on best practices for dealing with complicated structures such as lists of vectors in Rcpp?</p>
","158065","","","","","2014-04-22 06:16:20","How do I create a list of vectors in Rcpp?","<r><rcpp>","2","0","13","","","CC BY-SA 2.5","3088650","4452","4452","r","404559","3625322","3607736","",""
"3088931","1","","","2010-06-21 22:27:10","","0","1048","<p>I recently started experimenting with the biganalytics package for R. I ran into a problem however...</p>

<p>I am trying to run <code>bigkmeans</code> with a cluster number of about 2000 e.g <code>clust &lt;- bigkmeans(mymatrix, centers=2000)</code></p>

<p>However, I get the following error:<br>
<code>Error in 1:(10 + 2^k) : result would be too long a vector</code> </p>

<p>Can someone maybe give me a hint what I am doing wrong here?</p>
","210944","","97160","","2012-07-02 12:46:45","2012-07-02 12:46:45","Clustering with bigkmeans from bigmemory package in R?","<r><cluster-analysis><k-means>","1","0","1","","","CC BY-SA 2.5","3088931","4452","4452","r","404559","3625322","3607736","",""
"3089424","1","3092806","","2010-06-22 00:36:11","","0","2138","<p>A newbie question. (ADDED NEW INFO)</p>

<p>I have a set of time stamped data that were collected randomly. I like to create a matrix of plots, but I could not create using either scatterplot or xyplot &amp; time objects.</p>

<p>my data</p>

<pre><code>dataset$Time  #POSIX time objects (no set sampling period)
              #i built POSIX time objects by dataset$Time&lt;-strptime(tt, ""%H:%M:%OS"")
              #the origial string was formated like this 12:12:12.234 (HH:MM:SS:msec)
dataset$d1, dataset$d2 #integers
dataset$d3 #factor with 10 levels
</code></pre>

<p>.</p>

<p>i can do these</p>

<pre><code>plot( dataset$Time, dataset$d1)
scatterplot(dataset$d1 ~ dataset$d2 | dataset$d3, data=dataset)
xyplot(dataset$d1 ~ dataset$d2 | dataset$d3, data=dataset)
</code></pre>

<p>However, i can NOT do these (POSIX time object in x-axis)</p>

<pre><code>scatterplot(dataset$d1 ~ dataset$Time | dataset$d3, data=dataset)
xyplot(dataset$d1 ~ dataset$Time | dataset$d3, data=dataset)
</code></pre>

<p>(<em>NEW INFO</em>)</p>

<blockquote>
  <p>Error in structure(.Internal(as.POSIXct(x, tz)), class = c(""POSIXt"", ""POSIXct""), : invalid 'x' argument.</p>
</blockquote>

<p>(<em>NEW INFO</em>) but this works (POSIX time object in y-axis) </p>

<pre><code>xyplot(dataset$Time ~ dataset$d1 | dataset$d3, data=dataset)
</code></pre>

<p>related, but different question is hexbin. When time objects are added to hexbin, the plot from the hexbin does not show correct time format on the units.</p>

<pre><code>bin&lt;-hexbin(dataset$Time, dataset$d1) 
plot(bin))
</code></pre>

<p>What should I do?</p>

<p>Thanks for looking into it!!</p>
","186477","","186477","","2010-06-22 22:01:36","2010-06-22 22:01:36","How to create multi-panels plots with scatterplot/xyplot and POSIX time objects?","<datetime><r><datetime-format><posixct>","3","0","1","","","CC BY-SA 2.5","3089424","4452","4452","r","404559","3625322","3607736","",""
"3092489","1","","","2010-06-22 11:08:50","","2","134","<p>Hi I am making a report of a survey where we have what we call a ""radiomatrix"" and it looks like this.</p>

<p><a href=""http://img193.imageshack.us/img193/9288/radiomatrix.png"" rel=""nofollow noreferrer"">alt text http://img193.imageshack.us/img193/9288/radiomatrix.png</a></p>

<p>Then we import the answers is a table in R into something that looks like this:</p>

<pre><code>user    tiramisu  cupcake   chocolate  carrot
test01  loves_it  loves_it  loves_it   hate_it
test02  likes_it  likes_it  loves_it   likes_it
test03  likes_it  loves_it  loves_it   hate_it
</code></pre>

<p><strong>What would be the best and most meaningful graphical representation for this?</strong></p>
","1264096","","","","","2010-06-22 16:57:21","Representing a ""radiomatrix"" question from a survey","<r>","3","2","","","","CC BY-SA 2.5","3092489","4452","4452","r","404559","3625322","3607736","",""
"3094111","1","3094148","","2010-06-22 14:29:00","","6","4631","<p>I have a list of objects that I've created manually, like this:</p>

<pre><code>rand1 &lt;- rnorm(1e3)
rand2 &lt;- rnorm(1e6)

myObjects &lt;- NULL
myObjects[[1]] &lt;-rand1
myObjects[[2]] &lt;-rand2
names(myObjects) &lt;- c(""rand1"",""rand2"")
</code></pre>

<p>I'm working on some code that bundles up objects and puts them up in S3. Then I have code in EC2 that I want to grab the myObjects list and 'unbundle' it automatically. In this example the list only has two objects and the names are known, but how do I code this to handle lists of any length and any names?</p>

<pre><code>#pseudo code
for each thing in myObjects
  thing &lt;- myObjects[[thing]]
</code></pre>

<p>I can't quite figure out how to take names(myObjects)[1] and turn it into the name of an object for which I will assign the contents of myObjects[[1]]. I can handle the looping but creating each object kinda has me hung. I'm sure this is quite simple, but I can't quite grok it. </p>
","37751","","37751","","2010-06-22 15:37:36","2010-06-23 13:59:35","R: turning list items into objects","<list><r>","3","2","6","","","CC BY-SA 2.5","3094111","4452","4452","r","404559","3625322","3607736","",""
"3094232","1","3402159","","2010-06-22 14:40:54","","38","11562","<p>I'd like to push a function inside a package namespace so it can access internal objects of that package (let's use stats package as an example). I've tried using</p>

<pre><code>myfun &lt;- function(x) print(x)
env = loadNamespace(""stats"")
assign(""myfun"", myfun , env)
</code></pre>

<p>But it is locked. So I've tried to unlock my object</p>

<pre><code>unlockBinding(""myfun"", env)
</code></pre>

<p>Since myfun doesn't exist yet, I can't unlock it.</p>

<p>Any help ?</p>
","171659","","2125442","","2015-01-11 09:42:53","2015-01-11 09:42:53","Add objects to package namespace","<r><r-package>","3","0","19","","","CC BY-SA 2.5","3094232","4452","4452","r","404559","3625322","3607736","",""
"3094866","1","3108397","","2010-06-22 16:00:09","","87","23689","<p>So I've got a data file (semicolon separated) that has a lot of detail and incomplete rows (leading Access and SQL to choke). It's county level data set broken into segments, sub-segments, and sub-sub-segments (for a total of ~200 factors) for 40 years. In short, it's huge, and it's not going to fit into memory if I try to simply read it.</p>

<p>So my question is this, given that I want all the counties, but only a single year (and just the highest level of segment... leading to about 100,000 rows in the end), what would be the best way to go about getting this rollup into R?</p>

<p>Currently I'm trying to chop out irrelevant years with Python, getting around the filesize limit by reading and operating on one line at a time, but I'd prefer an R-only solution (CRAN packages OK). Is there a similar way to read in files a piece at a time in R?</p>

<p>Any ideas would be greatly appreciated.</p>

<p><strong>Update:</strong></p>

<ul>
<li>Constraints</li>
<ul>
<li>Needs to use <em>my</em> machine, so no EC2 instances</li>
<li>As R-only as possible. Speed and resources are not concerns in this case... provided my machine doesn't explode...</li>
<li>As you can see below, the data contains mixed types, which I need to operate on later</li></ul>
<li>Data</li>
<ul>
<li>The data is 3.5GB, with about 8.5 million rows and 17 columns</li>
<li>A couple thousand rows (~2k) are malformed, with only one column instead of 17</li>
<ul><li>These are entirely unimportant and can be dropped</li></ul>
<li>I only need ~100,000 rows out of this file (See below)</li></ul>
</ul>

<p><strong>Data example:</strong></p>

<pre><code>County; State; Year; Quarter; Segment; Sub-Segment; Sub-Sub-Segment; GDP; ...
Ada County;NC;2009;4;FIRE;Financial;Banks;80.1; ...
Ada County;NC;2010;1;FIRE;Financial;Banks;82.5; ...
NC  [Malformed row]
[8.5 Mill rows]
</code></pre>

<p>I want to chop out some columns and pick two out of 40 available years (2009-2010 from 1980-2020), so that the data can fit into R:</p>

<pre><code>County; State; Year; Quarter; Segment; GDP; ...
Ada County;NC;2009;4;FIRE;80.1; ...
Ada County;NC;2010;1;FIRE;82.5; ...
[~200,000 rows]
</code></pre>

<p><strong>Results:</strong></p>

<p>After tinkering with all the suggestions made, I decided that readLines, suggested by JD and Marek, would work best. I gave Marek the check because he gave a sample implementation.</p>

<p>I've reproduced a slightly adapted version of Marek's implementation for my final answer here, using strsplit and cat to keep only columns I want.</p>

<p>It should also be noted this is <em>MUCH</em> less efficient than Python... as in, Python chomps through the 3.5GB file in 5 minutes while R takes about 60... but if all you have is R then this is the ticket.</p>

<pre><code>## Open a connection separately to hold the cursor position
file.in &lt;- file('bad_data.txt', 'rt')
file.out &lt;- file('chopped_data.txt', 'wt')
line &lt;- readLines(file.in, n=1)
line.split &lt;- strsplit(line, ';')
# Stitching together only the columns we want
cat(line.split[[1]][1:5], line.split[[1]][8], sep = ';', file = file.out, fill = TRUE)
## Use a loop to read in the rest of the lines
line &lt;- readLines(file.in, n=1)
while (length(line)) {
  line.split &lt;- strsplit(line, ';')
  if (length(line.split[[1]]) &gt; 1) {
    if (line.split[[1]][3] == '2009') {
        cat(line.split[[1]][1:5], line.split[[1]][8], sep = ';', file = file.out, fill = TRUE)
    }
  }
  line&lt;- readLines(file.in, n=1)
}
close(file.in)
close(file.out)
</code></pre>

<p><strong>Failings by Approach:</strong></p>

<ul>
<li>sqldf</li>
<ul><li>This is definitely what I'll use for this type of problem in the future if the data is well-formed. However, if it's not, then SQLite chokes.</li></ul>
<li>MapReduce</li>
<ul><li>To be honest, the docs intimidated me on this one a bit, so I didn't get around to trying it. It looked like it required the object to be in memory as well, which would defeat the point if that were the case.</li></ul>
<li>bigmemory</li>
<ul><li>This approach cleanly linked to the data, but it can only handle one type at a time. As a result, all my character vectors dropped when put into a big.table. If I need to design large data sets for the future though, I'd consider only using numbers just to keep this option alive.</li></ul>
<li>scan</li>
<ul><li>Scan seemed to have similar type issues as big memory, but with all the mechanics of readLines. In short, it just didn't fit the bill this time.</li></ul>
</ul>
","274689","","239923","","2014-11-13 00:43:07","2017-09-26 03:39:49","Trimming a huge (3.5 GB) csv file to read into R","<r><csv>","13","7","62","","","CC BY-SA 2.5","3094866","4452","4452","r","404559","3625322","3607736","",""
"3095350","1","","","2010-06-22 17:01:11","","0","338","<p>Is it possible to have R's Sys.glob() function expand braces?  What I mean is a pattern similar to /home/foo/{a,b}/bar.txt should find files /home/foo/a/bar.txt and /home/foo/b/bar.txt should they both exist. By default R does not expand the braces.</p>

<p>Brace expansion is possible in glob(3) with the GLOB_BRACE flag. I am guessing R is just calling glob(3) underneath the covers so I hope there is some way, but I can't seem to find the right invocation...</p>
","275455","","","","","2021-05-24 04:37:43","R: Brace expansion in Sys.glob()","<r><filesystems><glob>","3","0","","","","CC BY-SA 2.5","3095350","4452","4452","r","404559","3625322","3607736","",""
"3096495","1","3112918","","2010-06-22 19:37:01","","2","2045","<p>I have a big panel of data from Compustat. To it I am adding some hand-collected data (seriously hand-collected from a stack of old books). But I don't want to hand-collect for the entire panel, only a randomly selected subset. To find the larger set (from which I'm randomly selecting) I would like to start with the balanced panel from Compustat.</p>

<p>I see the <code>plm</code> library for working with unbalanced panels, but I would like to keep it balanced. Is there a clean way to do this short of searching for and throwing out firms (individuals in panelspeak) that don't run the sample period? Thanks!</p>
","334755","","","","","2010-06-24 21:00:24","How to find balanced panel data in R (aka, how to find which entries in panel are complete over given window)","<r><economics>","4","0","1","","","CC BY-SA 2.5","3096495","4452","4452","r","404559","3625322","3607736","",""
"3096631","1","3096681","","2010-06-22 19:55:06","","22","1561","<p>SO I've finally figured out how to get my R scripts to run on the Amazon EC2 cloud. I've been using an AMI with 26 ECUs, 8 Cores, and 69 gigs of RAM.</p>

<p>I then divide up my code into multiple scripts, and run each one in an instance of R. With a server of this size, I can easily run 20-40 scripts simultaneously, each running several 1000 simulations.</p>

<p>What I would like to know is if R is taking advantage of all this computing power natively. Should I install packages that specifically tell R to use all this extra memory/ multiple CPUs? I've seen this <a href=""http://cran.r-project.org/web/views/HighPerformanceComputing.html"" rel=""noreferrer"">page</a> and some <a href=""http://cran.r-project.org/web/packages/multicore/index.html"" rel=""noreferrer"">packages</a> (at least from the description) seem promising. But I am unable to figure out how to incorporate this into my code. 
Could anyone shed more light on this?</p>
","313163","","","","","2017-06-06 14:53:11","How can I make R take advantage of a high memory, high cpu server?","<r><resources><cloud><amazon-web-services>","2","0","14","","","CC BY-SA 2.5","3096631","4452","4452","r","404559","3625322","3607736","",""
"3097191","1","3099325","","2010-06-22 21:13:39","","3","189","<p>Is there a way to write the following statement more effectively?
accel is a dataframe.</p>

<pre><code>accel[[2]]&lt;- accel[[2]]-weighted.mean(accel[[2]])
accel[[3]]&lt;- accel[[3]]-weighted.mean(accel[[3]])
accel[[4]]&lt;- accel[[4]]-weighted.mean(accel[[4]])
</code></pre>
","25282","","","","","2010-06-23 08:56:21","Transforming R code into R style","<r>","2","0","1","","","CC BY-SA 2.5","3097191","4452","4452","r","404559","3625322","3607736","",""
"3097415","1","3097438","","2010-06-22 21:50:11","","3","770","<p>I'm looking for a possibility to use different 'higher' math operations in combination with <a href=""http://www.r-project.org/"" rel=""nofollow noreferrer"">R</a>. A link or integration between R and a CAS would be the perfect solution.</p>

<p>Which integration of R and other (math &amp; statistic related) systems or vice verse are out there? How well do they work? What would you suggest? How expansive (in time, money and frustration) are they?</p>

<p>(FOSS is of course preferred :)</p>
","370095","","370095","","2010-06-23 18:06:01","2010-06-23 18:06:01","how to integrate / link R and Computer Algebra Systems (CAS)","<math><r><statistics><maxima>","3","0","3","","","CC BY-SA 2.5","3097415","4452","4452","r","404559","3625322","3607736","",""
"3097527","1","5083745","","2010-06-22 22:11:07","","3","1057","<p>I want to find a function that approximates a function that produces output that looks like:
Blue, Red and Green are the X, Y and Z space dimensions. </p>

<p><img src=""https://farm2.static.flickr.com/1227/4725827142_43fc3c48d4.jpg"" alt=""""></p>

<p>What R package should I use?</p>
","25282","","-1","","2017-02-08 14:27:20","2012-11-24 17:44:45","Best R package for doing Fourier Analysis for three dimensional function","<r>","1","3","1","","","CC BY-SA 2.5","3097527","4452","4452","r","404559","3625322","3607736","",""
"3097598","1","3097799","","2010-06-22 22:23:44","","19","11526","<p>I'm currently working on several projects on my own (at least the developing part is done only by me :). Using Eclipse with different Java, R, SQL and other source files I'm wondering what version control system would be best for me.</p>

<p>At the time the history of Eclipse IDE seems to be enough, but I'm not sure if this will be true in a month/year...</p>

<p>What solution would you recommend and why?</p>

<p>To be more precise: I'm quite sure to use SVN or git if I decide to use a full version control system. But I'm just not sure if it is necessary...</p>

<pre><code>small update: has the release of Eclipse Helios added new opinions?
</code></pre>
","370095","","370095","","2010-06-23 18:09:48","2010-06-23 18:09:48","version control for one-man project using eclipse?","<java><eclipse><version-control><r><project-management>","7","8","9","2019-06-22 08:05:27","","CC BY-SA 2.5","3097598","4452","4452","r","404559","3625322","3607736","",""
"3099219","1","3117319","","2010-06-23 05:52:19","","256","371706","<p>I need to plot a bar chart showing counts and a line chart showing rate all in one chart, I can do both of them separately, but when I put them together, I scale of the first layer (i.e. the <code>geom_bar</code>) is overlapped by the second layer (i.e. the <code>geom_line</code>).</p>

<p>Can I move the axis of the <code>geom_line</code> to the right?</p>
","373908","","6461462","","2019-05-27 19:58:38","2021-02-13 21:50:40","ggplot with 2 y axes on each side and different scales","<r><ggplot2><r-faq>","17","3","109","","","CC BY-SA 4.0","3099219","4452","4452","r","404559","3625322","3607736","",""
"3102016","1","3102142","","2010-06-23 13:26:51","","4","1608","<p>I have a normalization method that uses the normal distribution functions pnorm() and qnorm(). I want to alter my logic so that I can use empirical distributions instead of assuming normality. I've used ecdf() to calculate the empirical cumulative distributions but then realized I was beginning to write a function that basically was the p and q versions of the empirical. Is there a simpler way to do this? Maybe a package with pecdf() and qecdf()? I hate reinventing the wheel. </p>
","37751","","143305","","2010-06-23 13:34:15","2010-06-23 13:49:49","R: empirical version of pnorm() and qnorm()?","<r>","3","0","","","","CC BY-SA 2.5","3102016","4452","4452","r","404559","3625322","3607736","",""
"3102643","1","","","2010-06-23 14:41:52","","7","3007","<p>In R, I use the print function for output but I always get an ugly output. If I do:</p>

<pre><code>print(""hello world"")
</code></pre>

<p>the output is:</p>

<pre><code>[1] ""hello world""
</code></pre>

<p>Is there a function/way to print the output and just get the text I want?</p>

<p>Thanks</p>
","374332","","","user4275591","2014-12-08 10:08:43","2018-10-02 18:39:30","what's a prettier way to print info with R?","<r><printing>","3","0","1","","","CC BY-SA 3.0","3102643","4452","4452","r","404559","3625322","3607736","",""
"3102777","1","3102956","","2010-06-23 14:57:55","","4","15241","<p>I need to generate a vector of the following format using R:</p>

<pre><code>1:10, 1:10, 11:20, 11:20, ... 121:130, 121:130
</code></pre>

<p>Is there an easier way than creating 12 vectors and then repeating each one twice?</p>
","128245","","680068","","2017-09-14 07:04:29","2017-09-14 07:04:29","Generate a repeating sequence","<r><sequence><repeat>","6","0","1","","","CC BY-SA 3.0","3102777","4452","4452","r","404559","3625322","3607736","",""
"3102896","1","","","2010-06-23 15:07:52","","1","504","<p>I have a plot with several lines representing different columns of data, the legend is being arrange as a vertical column, but I want to place it at the bottom of the chart and arrange the keys horizontally, can it be done? Thanks!</p>
","374363","","168747","","2010-10-27 12:56:31","2013-05-22 03:15:42","How to ""re-arrange"" the legend in ggplot2?","<r><ggplot2>","2","0","","","","CC BY-SA 2.5","3102896","4452","4452","r","404559","3625322","3607736","",""
"3104040","1","3104117","","2010-06-23 17:32:07","","7","6701","<p>I have a package for R which contains several jar files.
For better maintenance I want to split the jars in a separate package and have the R source and two small jars in the main package.<br />
But now I always get a ""NoClassDefFoundError"" from rJava, if I call my functions.<br /></p>

<p>In the main package I have an onLoad function, which starts the JVM with the .jpackage function.<br />
According to the help this function takes a ""morePaths"" argument, to which I provided the absolute path to the two jar files. But it won't work.</p>

<p>I also tried using </p>

<pre><code>jar.one = paste(lib,pkg,""java"",""One.jar"",sep=.Platform$file.sep)
jar.two = paste(lib,pkg,""java"",""Two.jar"",sep=.Platform$file.sep)
.jinit(classpath=c(jar.one,jar.two))
</code></pre>

<p>Inside the onLoad function.</p>

<p>Any hint would be appreciated,<br />
Martin</p>
","295037","","","","","2010-06-23 17:42:11","How to set the classpath for rJava in R?","<r><classpath>","1","2","","","","CC BY-SA 2.5","3104040","4452","4452","r","404559","3625322","3607736","",""
"3106402","1","3106555","","2010-06-24 00:00:57","","2","1348","<p>Many hours of manic googling and leafing through ggplot2 documentation having brought me no closer, I was hoping someone could maybe nudge me in the right direction.</p>

<p>I have cell count data for a few thousand subjects in a data.frame with the following layout:</p>

<ul>
<li>1 subject per row.</li>
<li>1 column per cell type (5 total, each holding the percentage value for that cell type, summing to 100%).</li>
<li>2 extra columns, one to indicate what Group (experimental or control) the subjects belong to, 1 to indicate what experiment they belong to (1, 2, 3, 4, etc.)</li>
</ul>

<p>I would like to generate a ggplot2 jitter plot, percentage along the Y-axis, cell type categories along the X-axis (5 total) and further color the data points based on their Group (experimental or control).  It would be great if I could further color the data points from different experiments in shades of the Group color (i.e. Experiment number sort of defining a gradient from light to dark - all Experiment-1 points would be light - either red or blue based on which Group they belonged to), but I don't know if that's even possible.</p>

<p>For starters: is my data even layed out properly to attempt to create this plot?  The reason I ask is I reall yfeel like I'm fighting ggplot2 in attempting to get anything plotted with the data.frame in its current layout (but the native boxplot() seems to work fine with very little modifications...)</p>

<p>Any help or nudges in the right direction would be greatly appreciated.</p>

<hr>

<p>EDIT:</p>

<p>This is the output of <code>dput(head(dat, 10))</code>.</p>

<pre><code>structure(list(Neutrophils = c(38, 70.7, 62.1, 90.5, 65.8, 39.2, 
89.4, 91.3, 55.4, 14.5), Lymphocytes = c(47.5, 17.1, 20.3, 2, 
25, 37.1, 6.3, 1.6, 31.3, 61.5), Monocytes = c(12.4, 11.8, 14.6, 
4.8, 7.3, 14.1, 3.7, 4.6, 8.4, 21.9), Eosinophils = c(1.4, 0.1, 
2.5, 2.4, 1.4, 9.2, 0.1, 2.5, 4.6, 1.3), Basophils = c(0.8, 0.3, 
0.5, 0.3, 0.5, 0.4, 0.5, 0, 0.3, 0.8), Group = c(1L, 1L, 1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L)), .Names = c(""Neutrophils"", ""Lymphocytes"", 
""Monocytes"", ""Eosinophils"", ""Basophils"", ""Group""), row.names = c(""B145"", 
""B196"", ""B212"", ""B246"", ""B250"", ""B286"", ""B343"", ""B355"", ""B369"", 
""B386""), class = ""data.frame"")
</code></pre>
","374753","","","user4275591","2014-12-08 10:31:24","2014-12-08 10:31:24","Jitter plot in ggplot2, color by 1 variable, shade color by another variable?","<r><ggplot2>","2","1","","","","CC BY-SA 3.0","3106402","4452","4452","r","404559","3625322","3607736","",""
"3106672","1","","","2010-06-24 01:25:26","","0","393","<p>I have the number of samples per unit and need to calculate statistics with R.</p>

<p>The table is like this (all rows and columns are actually filled with values, I only write a few here for easier visibility, and there are many more columns):</p>

<pre>
Hour     1    2    3    4

H1       72  11   98   65

H2       19  27

H3

H4

H5

:

H200000
</pre>

<p>I.e. the first hour (H1) there were 72 samples of value 1, 11 samples of value 2, etc. The second hour(H2) there were 19 samples of value 1, 27 samples of value 2, etc.</p>

<p>I need to calculate the mean and standard deviation per hour (i.e. per row). As there are many thousands of rows I need a fast method.</p>

<p>Example: The manual mean-calculation for hour 1 (H1) would be: </p>

<pre>
(72x1 + 11x2 + 98x3 + 65x4)/(72+11+98+65) = 2.6
</pre>

<p>I suppose there are R-methods or packages that can do this, but I fail to find where. Your support is highly appreciated.</p>

<p>Thanks,
Chris</p>
","374800","","176923","","2010-06-24 05:12:14","2010-06-24 13:45:58","R: Statistics of distribution","<r>","3","0","","","","CC BY-SA 2.5","3106672","4452","4452","r","404559","3625322","3607736","",""
"3106975","1","3107105","","2010-06-24 03:01:55","","1","455","<p>What is the difference between the two statements below.  They are rendering different outcomes, and since I am trying to come to R from SPSS, I am a little confused.</p>

<pre><code>ds$share.all &lt;- ds[132]/ ds[3]
mean(ds$share.all, na.rm=T)
</code></pre>

<p>and </p>

<pre><code>ds$share.all2 &lt;- ds$col1/ ds$Ncol2
mean(ds$share.all2, na.rm=T)
</code></pre>

<p>they render the same mean, but on the first, the output is printed as</p>

<pre><code>     col1    
     0.02669424 
</code></pre>

<p>and the second only prints the .02xxxxx.</p>

<p>Any help will be much appreciated.</p>
","155406","","","","","2010-06-24 03:46:57","Compute Column in R","<r>","1","0","","","","CC BY-SA 2.5","3106975","4452","4452","r","404559","3625322","3607736","",""
"3107775","1","","","2010-06-24 06:51:11","","1","778","<p>As from title, I have some data that is roughly binormally distributed and I would like to find its two underlying components.</p>

<p>I am fitting to the data distribution the sum of two normal with means m<sub>1</sub> and m<sub>2</sub> and standard deviations s<sub>1</sub> and s<sub>2</sub>. The two gaussians are scaled by a weight factor such that w<sub>1</sub>+w<sub>2</sub> = 1</p>

<p>I can succeed to do this using the <code>vglm</code> function of the <code>VGAM</code> package such as:</p>

<pre><code>    fitRes &lt;- vglm(mydata ~ 1, mix2normal1(equalsd=FALSE), 
          iphi=w, imu=m1, imu2=m2, isd1=s1, isd2=s2))
</code></pre>

<p>This is painfully slow and it can take several minutes depending on the data, but I can live with that.</p>

<p>Now I would like to see how the distribution of my data changes over time, so essentially I break up my data in a few (30-50) blocks and repeat the fit process for each of those.</p>

<p>So, here are the questions:</p>

<p>1) how do I speed up the fit process? I tried to use <code>nls</code> or <code>mle</code> that look much faster but mostly failed to get good fit (but succeeded in getting all the possible errors these function could throw on me). Also is not clear to me how to impose limits with those functions (w in [0;1] and w<sub>1</sub>+w<sub>2</sub>=1)</p>

<p>2) how do I automagically choose some good starting parameters (I know this is a $1 million question but you'll never know, maybe someone has the answer)? Right now I have a little interface that allow me to choose the parameters and visually see what the initial distribution would look like which is very cool, but I would like to do it automatically for this task.</p>

<p>I thought of relying on the x corresponding to the 3rd and 4th quartiles of the y as starting parameters for the two mean? Do you thing that would be a reasonable thing to do? </p>
","176923","","93922","","2014-06-18 18:00:20","2014-06-18 18:00:20","Fitting a binormal distribution in R","<r><optimization><distribution>","1","0","1","","","CC BY-SA 3.0","3107775","4452","4452","r","404559","3625322","3607736","",""
"3114043","1","3116096","","2010-06-24 21:34:25","","2","529","<p>I'm trying to take a list and serialize each item and put it into a CSV file with a key to create a text file with key/value pairs. Ultimately this is going to run through Hadoop streaming so before you ask, I think it really does need to be in a text file. (but I'm open to other ideas) This all seemed seemed pretty straight forward at first. But I can't quite get serialization to work the way I want it (<a href=""https://stackoverflow.com/questions/2258511/r-serialize-objects-to-text-file-and-back-again"">still</a>). </p>

<p>If I do this:</p>

<pre><code>&gt; rawToChar(serialize(""blah"", NULL, ascii=T))
[1] ""A\n2\n133888\n131840\n16\n1\n9\n4\nblah\n""
</code></pre>

<p>Then I have those pesky \n which screw up my CSV parsing later. I could go in and replace the \n with some other string, which I'm not opposed to doing. This seems a little messy, however.</p>

<p>The other option that came to mind is omitting the rawToChar() call and pumping the raw ascii into a text file:</p>

<pre><code>&gt; serialize(""blah"", NULL, ascii=T)
 [1] 41 0a 32 0a 31 33 33 38 38 38 0a 31 33 31 38 34 30 0a 31 36 0a 31 0a 39 0a
[26] 34 0a 62 6c 61 68 0a
</code></pre>

<p>Well if I just dump that to a text file I'll get \n after each element in the list. So I tried doing a little paste/collapse:</p>

<pre><code>&gt; ser &lt;- serialize(""blah"", NULL, ascii=T)
&gt; ser2 &lt;- paste(ser, collapse="""")
&gt; ser2
[1] ""410a320a3133333838380a3133313834300a31360a310a390a340a626c61680a""
</code></pre>

<p>Now that's a value I can write to a CSV text file! Only... how do I turn that back into raw again later? Let's just take the first hex element: 41 I can't even figure out how to create a list of raw items and shove a hex value 41 into one of the elements. When I try to shove a raw hex value into a raw list I end up with something like this:</p>

<pre><code>&gt; r &lt;- raw(1)
&gt; r[1] &lt;- 41
Error in r[1] &lt;- 41 : 
  incompatible types (from double to raw) in subassignment type fix
&gt; r[1] &lt;- as.raw(41)
&gt; r[1]
[1] 29 
</code></pre>

<p>Crap! 29!=41 (except for really large values of 29 and really small values of 41, of course)</p>

<p>Any ideas on how to crack this nut? </p>
","37751","","-1","","2017-05-23 11:55:21","2010-06-25 19:24:01","R: Creating a CSV out of serialized objects","<r><hadoop><serialization>","3","3","3","","","CC BY-SA 2.5","3114043","4452","4452","r","404559","3625322","3607736","",""
"3114734","1","3115987","","2010-06-24 23:57:18","","1","4547","<p>Hi I wanted to know that is it possible to use decision trees for document classification and if yes then how should be the data representation be? 
I know the use of R package <a href=""http://cran.r-project.org/web/packages/party/index.html"" rel=""nofollow noreferrer"">party</a> for Decision Trees. </p>
","358506","","497666","","2011-08-04 21:11:54","2012-12-27 17:20:52","Decision Trees For Document Classification","<r><nlp><classification><text-mining><document-classification>","3","0","2","","","CC BY-SA 2.5","3114734","4452","4452","r","404559","3625322","3607736","",""
"3115481","1","3122032","","2010-06-25 04:09:54","","2","1756","<p>What R packages are available to calculate the minimum bounding box for a great circle?</p>

<p>For example:</p>

<pre><code>box &lt;- polycirc( c( longitude, latitude ), distance=35 )
</code></pre>

<p>This would return the bounding box for the circle with a radius of 35 kilometres from the central point at the given coordinates (on Earth). Where:</p>

<pre><code>box.longitude_min = The longitude of the circle's western-most point.
box.longitude_max = The longitude of the circle's eastern-most point.
box.latitude_min = The latitude of the circle's southern-most point.
box.latitude_max = The latitude of the circle's northern-most point.
</code></pre>

<p>Something like this should already exist in R, but I cannot find it. The closest I've found (from SO), which I am currently transmogrifying to R, is:</p>

<p><a href=""http://janmatuschek.de/LatitudeLongitudeBoundingCoordinates"" rel=""nofollow noreferrer"">http://janmatuschek.de/LatitudeLongitudeBoundingCoordinates</a></p>

<p>Also, what is the word (if any) for <em>minimum bounding rectangle of a circle</em>? (The opposite of <a href=""http://en.wikipedia.org/wiki/Circumscribed_circle"" rel=""nofollow noreferrer"">circumscribed</a>.)</p>
","59087","","59087","","2015-03-19 22:26:29","2015-03-19 22:26:29","Minimum bounding rectangle of a circle on a sphere","<r><geometry><great-circle>","2","1","2","","","CC BY-SA 3.0","3115481","4452","4452","r","404559","3625322","3607736","",""
"3117238","1","3117628","","2010-06-25 10:26:33","","0","117","<p>I have the following statement. I seem to have to repeat myself by writing out the numbers myself. Using seq(-1,-9,-1) or -1:-9 doesn't seem to work. Is there another way to speak with R?    </p>

<pre><code>difnormsum&lt;-rowSums(data.frame(difnorm[[1]][-nrow(difnorm)],difnorm[[1]][-1], 
difnorm[[1]][-2],difnorm[[1]][-3],difnorm[[1]][-4],difnorm[[1]][-5],
difnorm[[1]][-6],difnorm[[1]][-7],difnorm[[1]][-8],difnorm[[1]][-9]))
</code></pre>
","25282","","","","","2010-06-25 11:42:28","R summing in vectorized statements","<r>","1","0","","","","CC BY-SA 2.5","3117238","4452","4452","r","404559","3625322","3607736","",""
"3118178","1","3118397","","2010-06-25 13:05:08","","0","686","<p>I need to get the actual list of elements used to generate each resampled statistic. To keep things really easy, I generated 100 random numbers and wanted to get the mean of each sample using tsboot from the <code>boot</code> package.</p>

<pre><code>x &lt;- rnorm(100)
y &lt;- tsboot(x, mean, R=10, l=20, sim=""fixed"")
</code></pre>

<p>What I need is the 10 lists of 20 numbers generated by tsboot. I realize that there is probably an easier way to do this but the actual project will require substituting a function for the mean and playing around with the block size. I tried using tsbootstrap but also couldn't get the right output. Any assistance would be greatly appreciated.</p>
","376239","","168747","","2010-06-25 13:45:28","2010-06-25 13:45:28","How can I get the actual vectors generated from bootstrapping using tsboot?","<r>","1","0","","","","CC BY-SA 2.5","3118178","4452","4452","r","404559","3625322","3607736","",""
"3119037","1","3122596","","2010-06-25 15:00:55","","3","1593","<p>in my <a href=""https://stackoverflow.com/questions/3114043/r-creating-a-csv-out-of-serialized-objects"">previous question</a> about using serialize() to create a CSV of objects I got a great answer from jmoy where he recommended base64 encoding of my serialized text. That was exactly what I was looking for. Oddly enough, when I try to put this in practice I get results that look right but don't exactly match what I ran through the serialize/encoding process. </p>

<p>The example below takes a list with 3 vectors and serializes each vector. Then each vector is base64 encoded and written to a text file along with a key. The key is simply the index number of the vector. I then reverse the process and read each line back from the csv. At the very end you can see some items don't <strong>exactly</strong> match. Is this a floating point issue? Something else?</p>

<pre><code>require(caTools)

randList &lt;- NULL
set.seed(2)

randList[[1]] &lt;- rnorm(100)
randList[[2]] &lt;- rnorm(200)
randList[[3]] &lt;- rnorm(300)

#delete file contents
fileName &lt;- ""/tmp/tmp.txt""
cat("""", file=fileName, append=F)

i &lt;- 1
for (item in randList) {
  myLine &lt;- paste(i, "","", base64encode(serialize(item, NULL, ascii=T)), ""\n"", sep="""")
  cat(myLine, file=fileName, append=T) 
  i &lt;- i+1
}

linesIn &lt;- readLines(fileName, n=-1)

parsedThing &lt;- NULL
i &lt;- 1
for (line in linesIn){
  parsedThing[[i]] &lt;- unserialize(base64decode(strsplit(linesIn[[i]], split="","")[[1]][[2]], ""raw""))
  i &lt;- i+1
  }

#floating point issue?
identical(randList, parsedThing)

for (i in 1:length(randList[[1]])) {
  print(randList[[1]][[i]] == parsedThing[[1]][[i]])
}

i&lt;-3
randList[[1]][[i]] == parsedThing[[1]][[i]]

randList[[1]][[i]]
parsedThing[[1]][[i]]
</code></pre>

<p>Here's the abridged output:</p>

<pre><code>&gt; #floating point issue?
&gt; identical(randList, parsedThing)
[1] FALSE
&gt; 
&gt; for (i in 1:length(randList[[1]])) {
+   print(randList[[1]][[i]] == parsedThing[[1]][[i]])
+ }
[1] TRUE
[1] TRUE
[1] FALSE
[1] FALSE
[1] TRUE
[1] FALSE
[1] TRUE
[1] TRUE
[1] FALSE
[1] FALSE
...
&gt; 
&gt; i&lt;-3
&gt; randList[[1]][[i]] == parsedThing[[1]][[i]]
[1] FALSE
&gt; 
&gt; randList[[1]][[i]]
[1] 1.587845
&gt; parsedThing[[1]][[i]]
[1] 1.587845
&gt; 
</code></pre>
","37751","","-1","","2017-05-23 11:59:26","2010-06-26 04:38:13","R: serialize base64 encode/decode of text not exactly matching","<r><base64><serialization>","3","1","1","","","CC BY-SA 2.5","3119037","4452","4452","r","404559","3625322","3607736","",""
"3119618","1","3120087","","2010-06-25 16:14:03","","0","241","<p>I am looking to recode a large number of variables, and figure I can probably use some sort of loop to do so.  What throws me is how to programmatically name each variable (I just want to keep the var name and append "".rc"".</p>

<p>Here is an example.  Lets say I have a set of variables, var.1 to var.5.  I am looking to create a new variable in my dataframe that is var.1.rc &lt;- var.1 / sum(var.1 to var1.5).  Ill do the same for the next variable, and so on.</p>

<p>I am new to R but this would be a HUGE step forward for me.  </p>

<p>Is it possible.  Best ways to do it?  Any help will be much appreciated!</p>

<p>Regards,</p>

<p>Brock</p>
","155406","","","","","2010-06-25 18:46:27","Multiple Recodes in R","<r>","2","0","","","","CC BY-SA 2.5","3119618","4452","4452","r","404559","3625322","3607736","",""
"3119635","1","3119713","","2010-06-25 16:16:18","","2","2317","<p>I have been reading the <a href=""https://svn.r-project.org/R/trunk/src/library/stats/R/glm.R"" rel=""nofollow noreferrer"">code</a> used by R to fit a <em>generalized linear model</em> (GLM), since the source-code of R is freely available. The algorithm used is called <em>iteratively reweighted least squares</em> (IRLS), which is a fairly documented algorithm. For each iteration, there is a call to a Fortran function to solve the weighted least squares problem.</p>

<p>From the end-user's viewpoint, for a logistic regression for instance, a call in R looks just like this:</p>

<pre><code>y &lt;- rbinom(100, 1, 0.5)
x &lt;- rnorm(100)
glm(y~x, family=binomial)$coefficients
</code></pre>

<p>And if you do not want to use a <em>intercept</em>, either of these calls is okay:</p>

<pre><code>glm(y~x-1, family=binomial)$coefficients
glm(y~x+0, family=binomial)$coefficients
</code></pre>

<p>However, I cannot manage to understand how the <em>formula</em>, i.e. <code>y~x</code> or <code>y~x-1</code>, is making sense in the code and being understood as for whether to use an intercept or not. I was looking for a part of the code where a column of ones would be bound to <code>x</code>, but it seems there is none.</p>

<p>As far as I have read, the boolean intercept which appears in the function called <code>glm.fit</code> is not the same as the intercept which I am referring to. And it is the same for the <em>offset</em>.</p>

<p>The documentation about <code>glm</code> and <code>glm.fit</code> is <a href=""http://sekhon.berkeley.edu/stats/html/glm.html"" rel=""nofollow noreferrer"">here</a>.</p>
","376454","","10607772","","2019-08-04 13:25:44","2019-08-04 13:25:44","How is the intercept computed in the GLM fit?","<r><formula><intercept>","1","0","","","","CC BY-SA 4.0","3119635","4452","4452","r","404559","3625322","3607736","",""
"3120468","1","3123310","","2010-06-25 18:29:17","","2","888","<p>I have a dataframe that looks like this:</p>

<pre><code>str(Data)
'data.frame':   11520 obs. of  29 variables:
 $ groupname  : Factor w/ 8 levels ""Control"",""Treatment1"",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ fCycle     : Factor w/ 2 levels ""Dark"",""Light"": 2 2 2 2 2 2 2 2 2 2 ...
 $ totdist    : num  0 67.5 89.8 109.1 58.3 ...
 #etc.
</code></pre>

<p>I can do a single plot of Treatment1 vs Control like this:</p>

<pre><code>qq(groupname~totdist|fCycle, data=Data, 
 subset=(groupname=='Control'|groupname=='Treatment1'))
</code></pre>

<p>It looks like this:</p>

<p><img src=""https://farm2.static.flickr.com/1318/4733745150_0969a4f069_b.jpg"" alt=""alt text""></p>

<p>I'd like to automatically make similar plots of Treatment2 vs Control ...TreatmentX vs Control. Is this the place for a loop or does lattice have a better way?</p>
","128245","","-1","","2017-02-08 14:27:39","2010-06-26 11:15:34","R:lattice.qq How do I do a multi-panel plot of treatment[x] vs control?","<r><lattice><quantile>","1","0","","","","CC BY-SA 2.5","3120468","4452","4452","r","404559","3625322","3607736","",""
"3125527","1","","","2010-06-26 21:15:08","","10","13049","<p>I am beginning some studies into machine learning and it seems these two are often used in this field.  They seem very similar, so how would one decide which is best to use?</p>
","377134","","377134","","2010-06-27 00:55:14","2010-07-01 06:17:53","What are the advantages/disadvantages between R and MATLAB with respect to Machine Learning?","<matlab><r><machine-learning>","3","2","6","2015-08-18 05:40:08","2010-06-26 21:15:16","CC BY-SA 2.5","3125527","4452","4452","r","404559","3625322","3607736","",""
"3126759","1","16347745","","2010-06-27 08:01:26","","11","18058","<p>Is there a function in R that produces the <code>reduced row echelon form</code> of a matrix?. <a href=""http://cran.r-project.org/doc/contrib/Hiebeler-matlabR.pdf"" rel=""noreferrer"">This</a> reference says there isn't. Do you agree?</p>
","170792","","","","","2018-04-27 02:40:10","Reduced row echelon form","<r><matrix><linear-algebra>","4","0","2","","","CC BY-SA 2.5","3126759","4452","4452","r","404559","3625322","3607736","",""
"3127353","1","3134200","","2010-06-27 12:41:50","","3","541","<p>I have a bunch of .xml files with nodes that are causing uncessesary complications.  I would like to remove these nodes but ensure that thier children are preserved (not the heirarchical structure but the data).  Eventually I want to take the data from each .xml and build a dataframe.  It seems like xmlTreeParse along with xmlToList will help but the latter only works well with a flat structure.  I have played around with unlisting the output from xmlToList and then converting it a dataframe but the output is a bit funky.</p>

<p>I thought about simply writing a function to go through all the files and delete all tags that I don't want however I don't know how to do this in R. </p>

<p>ANy suggestions?</p>
","309284","","","","","2010-06-28 16:24:16","deleting unwanted xml nodes","<xml><regex><r>","2","5","0","","","CC BY-SA 2.5","3127353","4452","4452","r","404559","3625322","3607736","",""
"3128122","1","3128133","","2010-06-27 17:09:41","","12","8666","<p>I have the following script</p>

<pre><code>#!/usr/bin/Rscript

print (""shebang works"")
</code></pre>

<p>in a file called shebang.r. When I run it from command line using Rscript it works</p>

<pre><code>$ Rscript shebang.r
</code></pre>

<p>but when I run it from the command line alone</p>

<pre><code>$ shebang.r
</code></pre>

<p>It doesn't work. shebang.r command not found.</p>

<p>If I type (based on other examples I've seen)</p>

<pre><code>$ ./shebang.r
</code></pre>

<p>I get permission denied.</p>

<p>Yes, Rscript is located in /usr/bin directory</p>
","296155","","","","","2010-06-27 17:30:15","shebang line not working in R script","<r><ubuntu><shebang>","2","0","3","","","CC BY-SA 2.5","3128122","4452","4452","r","404559","3625322","3607736","",""
"3128422","1","3128682","","2010-06-27 18:39:40","","6","611","<p>I'm trying to create an R <a href=""https://stackapps.com/"">API for StackOverflow</a>.  The output is gzipped.  For example:</p>

<pre><code>readLines(""http://api.stackoverflow.com/0.9/stats/"", warn=F)
[1] ""\037\b""                                                                                                                                                                                                                                                                                         
[2] ""\030\002y\036iX[&lt;tZu[\\VmH=z.&gt;\a\177h\017w\027rlgA\017{M.\020\037\""\006\0329`*~K\006v+U_\026]t?4%\016~S0^&gt;eG\037nK\016uf]={ay{\026h5^-/W1|9[U^""
[3] "":1M\177\""0YLb*!~\027\036UhZn\036SZv[m""                                                                                                                                                                                                                      
[4] ""t^d?\033'$\177""  
</code></pre>

<p>Is there a good way to gunzip this in R, short of writing the output to file, gunzip'ing it, and reading it back in?</p>
","163053","","-1","","2017-04-13 12:25:39","2010-06-28 11:08:53","gunzip a file stream in R?","<r><zip><gunzip>","3","2","","","","CC BY-SA 2.5","3128422","4452","4452","r","404559","3625322","3607736","",""
"3129836","1","3131278","","2010-06-28 02:59:26","","5","3918","<p>Good morning,</p>

<p>I have been developing for a few months in R and I have to make sure that the execution time of my code is not too long because I analyze big datasets.</p>

<p>Hence, I have been trying to use as much vectorized functions as possible.</p>

<p>However, I am still wondering something.</p>

<p>What is costly in R is not the loop itself right?
I mean, the problem arises when you start modifying variables within the loop for example is that correct?</p>

<p>Hence I was thinking, what if you simply have to run a function on each element (you actually do not care about the result). For example to write data in a database. What should you do?</p>

<p>1) use mapply without storing the result anywhere?</p>

<p>2) do a loop over the vector and only apply f(i) to each element?</p>

<p>3) is there a better function I might have missed?</p>

<p>(that's of course assuming your function is not optimally vectorized).</p>

<p>What about the <code>foreach</code> package? Have you experienced any performance improvement by using it?</p>
","295307","","295307","","2010-06-29 02:02:12","2011-03-23 16:18:47","Loops inefficiency in R","<r><functional-programming><loops>","2","6","4","","","CC BY-SA 2.5","3129836","4452","4452","r","404559","3625322","3607736","",""
"3130987","1","","","2010-06-28 08:31:20","","1","1217","<p>I would like to write a code involving automatic selection of a best composite model using ETS as well as autoregressive models. What is the criteria I should base my selection on? </p>

<p>Also if I'm using the auto.arima function for deducing number of AR terms and corresponding coefficients from the forecast package in R, does my input series necessarily have to be stationary? or the value for d would be automatically selected thus returning a non-stationary model?</p>

<p>Thanks,
Phani</p>
","377865","","143319","","2010-06-28 18:14:21","2011-03-06 01:41:22","R: Forecast package: Automatic algorithm for composite model involving ETS and AR","<r><automation><statistics><time-series>","2","2","","","","CC BY-SA 2.5","3130987","4452","4452","r","404559","3625322","3607736","",""
"3131173","1","","","2010-06-28 09:08:36","","7","1515","<p>Before presenting the actual data, I would like to make a plot identical to the one with data but then without the data points in there. This helps me in explaining how to interpret such a plot without distracting the audience with the actual data that will be in the plot.</p>

<p>So in the code below I would basically want to exchange the <code>geom_point()</code> with <code>geom_blank()</code>. No problem.</p>

<p>However, this also removes the color and size information from the legends that the plot code creates. Is there a way to get this back?</p>

<pre><code>ggplot(vas, aes(x=time, y=pain, colour=light.color, size=light.intensity)) + 
  #geom_point(na.rm=FALSE) +
  geom_blank() + 
  facet_wrap(~ppno) +
  scale_colour_manual(values=cols) +
  scale_y_continuous(name=""VAS Pain (a.u.)"") +
  scale_x_continuous(name=""Time (minutes)"")
</code></pre>

<p>What is the proper way to get the color indications back into the <code>legend(s)</code>? Now they only display the value(s) of the various levels of a certain parameter (color or size) but not the actual graphical element (a color or a size of a dot) that goes with a certain level.</p>
","377886","","3768871","","2019-07-05 19:51:33","2019-07-05 19:51:33","Getting legend coloring in an empty ggplot","<r><ggplot2>","4","0","1","","","CC BY-SA 4.0","3131173","4452","4452","r","404559","3625322","3607736","",""
"3131270","1","3131922","","2010-06-28 09:25:41","","9","1978","<p>I'm writing some R notes with Sweave and would like to show common errors. For example, </p>

<pre><code>&lt;&lt;echo=TRUE, eval=TRUE&gt;&gt;=
x = 5
#Case matters!
x*X
@
</code></pre>

<p>However when sweaving, the document won't compile due to the R error. Is there any way to make sweave compile and show the (nicely formated) error?</p>
","203420","","1634414","","2013-02-15 16:24:37","2014-01-29 19:30:35","Displaying errors with sweave","<r><latex><stderr><sweave>","3","0","2","","","CC BY-SA 2.5","3131270","4452","4452","r","404559","3625322","3607736","",""
"3132404","1","4851832","","2010-06-28 12:39:17","","0","802","<p>I have a little problem with my R console recently. When I start R (<code>""C:\Program Files\R\R-2.8.1\bin\Rgui.exe""</code>), the cursor immediately starts in INSERT mode (thick state). Then I have to press <kbd>Insert</kbd> and toggle it to normal mode (thin state). As soon as I write a command line and hit <kbd>Enter</kbd>, the cursor again toggles to INSERT mode. I don't want to use R with the cursor in INSERT mode, and it's annoying that R always toggles. How can I get R console back to normal?</p>

<p><strong>EDIT:</strong> Today I realized that when I use the R console as a maximized window, the cursor is always in INSERT mode (thick state). When I unmaximize the window, it automatically gets out of the INSERT mode. The explanations in the first paragraph of my question are still valid as well.</p>
","192377","","192377","","2010-06-29 08:41:55","2011-01-31 14:11:24","Problem with R console","<r><console><insert><toggle>","2","0","","","","CC BY-SA 2.5","3132404","4452","4452","r","404559","3625322","3607736","",""
"3132778","1","3132821","","2010-06-28 13:35:15","","0","2854","<p>I have two data files in tab separated CSV format. The files are in the following format:</p>

<pre><code>EP Code    EP Name    Address    Region    ...
101654    Alpha     York Street    Northwest    ...
103628    Beta    5th Avenue    South    ...
</code></pre>

<p>EP codes are unique. What I want to do is to compare two files with respect to EP codes, determine the different rows and write them into a new file.</p>

<p>For example, file1.csv has 800 rows and file2.csv has 850 rows. file2 could be a file completely including file1 plus 50 rows; or it could be <code>file1 - 10 rows + 60 rows</code>. I want to determine the differences between two data sets. I'm not interested in the mutual rows.</p>

<p>How can I do that in R?</p>
","192377","","4370109","","2015-12-03 20:59:35","2015-12-03 20:59:35","Determining different rows between two data sets in R","<r><csv><comparison><rows><import-from-csv>","1","1","1","","","CC BY-SA 2.5","3132778","4452","4452","r","404559","3625322","3607736","",""
"3132978","1","3133032","","2010-06-28 13:59:11","","1","349","<p>I know this answer must be out there, but I can't figure out how to word the question.</p>

<p>I'd like to calculate the differences between values in my data.frame. </p>

<p>from this:</p>

<pre><code>f &lt;- data.frame(year=c(2004, 2005, 2006, 2007), value=c(8565, 8745, 8985, 8412))

  year value
1 2004  8565
2 2005  8745
3 2006  8985
4 2007  8412
</code></pre>

<p>to this:</p>

<pre><code>  year value diff
1 2004  8565   NA
2 2005  8745  180
3 2006  8985  240
4 2007  8412 -573
</code></pre>

<p>(ie value of current year minus value of previous year)</p>

<p>But I don't know how to have a result in one row that is created from another row. Any help?</p>

<p>Thanks,
Tom</p>
","378085","","176923","","2010-06-28 14:03:43","2010-06-28 15:25:30","Refer to relative rows in R","<r>","3","0","1","","","CC BY-SA 2.5","3132978","4452","4452","r","404559","3625322","3607736","",""
"3134020","1","3135467","","2010-06-28 16:03:23","","35","53995","<p>I just updated to R 2.11.1 and after installing ggplot2, I tried </p>

<pre><code>library(ggplot2)
</code></pre>

<p>and got </p>

<pre><code>Loading required package: proto
Loading required package: grid Loading
required package: reshape Loading
required package: plyr Loading
required package: digest Error in
eval(expr, envir, enclos) : could not
find function ""proto"" In addition:
Warning message: In library(package,
lib.loc = lib.loc, character.only =
TRUE, logical.return = TRUE,  :  
there is no package called 'proto'
Error : unable to load R code in
package 'ggplot2' Error:
package/namespace load failed for
'ggplot2'
</code></pre>

<p>Any help appreciated.</p>
","228220","","1270695","","2014-03-09 15:30:06","2016-12-15 10:52:10","Error when running library(ggplot2)","<r><ggplot2>","4","4","10","","","CC BY-SA 3.0","3134020","4452","4452","r","404559","3625322","3607736","",""
"3134513","1","","","2010-06-28 17:10:14","","3","1178","<p>I would like to name some points of a R graphic, got from the basic function plot().</p>

<p>More precisely I have a 2-dimensional parametric function
t -> (a(t),b(t)), and I plot the points (a(t),b(t)). I would like to print the value of t corresponding to each point.</p>

<p>Thank you</p>
","378255","","","","","2010-06-29 15:54:06","Naming points of a R graphic","<graphics><r>","3","0","1","","","CC BY-SA 2.5","3134513","4452","4452","r","404559","3625322","3607736","",""
"3135325","1","","","2010-06-28 19:02:36","","42","44532","<p>What is the reason that vector indices in <code>R</code> start with <code>1</code>, instead of the usual <code>0</code>?</p>

<p>Example:</p>

<pre><code>&gt; arr&lt;-c(10,20)
&gt; arr[0]
numeric(0)
&gt; arr[1]
[1] 10
&gt; arr[2]
[1] 20
</code></pre>

<p>Is it just that they want to store extra information about the vector and didn't know where to store it except as the vector's first element? </p>
","378359","","","","","2013-12-15 11:25:37","Why do vector indices in R start with 1, instead of 0?","<arrays><r><vector>","6","2","9","2013-12-15 17:35:23","","CC BY-SA 2.5","3135325","4452","4452","r","404559","3625322","3607736","",""
"3136293","1","","","2010-06-28 21:30:17","","58","87027","<p>I am trying to learn R and want to bring in an SPSS file, which I can open in SPSS.  </p>

<p>I have tried using <code>read.spss</code> from <code>foreign</code> and <code>spss.get</code> from <code>Hmisc</code>.  Both error messages are the same. </p>

<p>Here is my code:</p>

<pre><code>## install.packages(""Hmisc"")
library(foreign)

## change the working directory
getwd()
setwd('C:/Documents and Settings/BTIBERT/Desktop/')

## load in the file
## ?read.spss
asq &lt;- read.spss('ASQ2010.sav', to.data.frame=T)
</code></pre>

<p>And the resulting error:</p>

<blockquote>
  <p>Error in read.spss(""ASQ2010.sav"", to.data.frame = T) :    error
  reading system-file header In addition: Warning message: In
  read.spss(""ASQ2010.sav"", to.data.frame = T) :   ASQ2010.sav: position
  0: character `\000' (</p>
</blockquote>

<p>Also, I tried saving out the SPSS file as a SPSS 7 .sav file (was previously using SPSS 18).</p>

<blockquote>
  <p>Warning messages: 1: In read.spss(""ASQ2010_test.sav"", to.data.frame =
  T) :   ASQ2010_test.sav: Unrecognized record type 7, subtype 14
  encountered in system file 2: In read.spss(""ASQ2010_test.sav"",
  to.data.frame = T) :   ASQ2010_test.sav: Unrecognized record type 7,
  subtype 18 encountered in system file</p>
</blockquote>
","155406","","1737251","","2017-07-10 04:36:23","2021-03-25 21:01:19","Read SPSS file into R","<r><spss>","15","1","24","","","CC BY-SA 3.0","3136293","4452","4452","r","404559","3625322","3607736","",""
"3137168","1","3137187","","2010-06-29 00:57:52","","5","4977","<p>I am interested in finding the numbers that exhibit the property of having the sum of their proper divisors equal to the number. The first example is 6, where the proper divisors are 1 + 2 + 3 = 6.</p>

<p>I wrote the following code in R, but I feel it is pretty inefficient and can be improved upon significantly. </p>

<pre><code>propDivisor &lt;- function(
    max
)
{
    n&lt;-{}
    for(j in 2:max){
        m&lt;-{}
        for(i in 1:(j/2+1)){
            if(j%%i==0){m&lt;-c(m,i)}
        }   
        if(sum(m)==j){n&lt;-c(n,j)}
    }
return(cat(""The proper divisors between 1 and"", max, ""are"", n, ""."", sep="" "")    )
}
</code></pre>

<p>Does anyone have any suggestions for improving the following code? I feel one of the apply functions should be used here. Maybe this would be a decent code golf exercise for the future? </p>

<p>And as I know this comes up somewhat frequently here, this is NOT a homework problem, just something a coworker posed as an interesting coding challenger earlier today.</p>

<p>UPDATE:</p>

<p>Thanks to everyone for your comments and thoughts on places to look for further information. Here's another solution that utilizes sapply:</p>

<pre><code>D &lt;- function(n) sum((1:(n-1))[n%%1:(n-1)==0])==n
(2:9000)[sapply(2:9000,D)]
</code></pre>
","415635","","415635","","2010-06-29 14:10:53","2013-07-02 11:40:14","Algorithm to determine proper divisors","<r><refactoring><apply>","3","1","1","","","CC BY-SA 2.5","3137168","4452","4452","r","404559","3625322","3607736","",""
"3137525","1","3137552","","2010-06-29 02:48:12","","2","391","<p>I have been working on large datasets lately (more than 400 thousands lines). So far, I have been using XTS format, which worked fine for ""small"" datasets of a few tenth of thousands elements.</p>

<p>Now that the project grows, R simply crashes when retrieving the data for the database and putting it into the XTS.</p>

<p>It is my understanding that R should be able to have vectors with size up to 2^32-1 elements (or 2^64-1 according the the version). Hence, I came to the conclusion that XTS might have some limitations but I could not find the answer in the doc. (maybe I was a bit overconfident about my understanding of theoretical possible vector size).</p>

<p>To sum up, I would like to know if:</p>

<ol>
<li>XTS has indeed a size limitation</li>
<li>What do you think is the smartest way to handle large time series? (I was thinking about splitting the analysis into several smaller datasets).</li>
<li>I don't get an error message, R simply shuts down automatically. Is this a known behavior?</li>
</ol>

<p><strong>SOLUTION</strong></p>

<ol>
<li>The same as R and it depends on the kind of memory being used (64bits, 32 bits). It is anyway extremely large.</li>
<li>Chuncking data is indeed a good idea, but it is not needed.</li>
<li>This problem came from a <strong><em>bug in R 2.11.0 which has been solved in R 2.11.1</em></strong>. There was a problem with long dates vector (here the indexes of the XTS).</li>
</ol>
","295307","","","user1228","2013-09-04 15:37:44","2013-09-04 15:37:44","XTS size limitation","<r><time><time-series><xts>","1","1","","","","CC BY-SA 3.0","3137525","4452","4452","r","404559","3625322","3607736","",""
"3140406","1","3151680","","2010-06-29 12:01:54","","0","651","<p>As title, I think the default line width for the border of geom_box is a bit too thick, is there a way of modifying it? Thanks!</p>
","373908","","172261","","2010-06-30 08:21:22","2010-06-30 17:15:50","How to adjust the line width of colour in geom_box for ggplot2?","<r><ggplot2>","1","1","","","","CC BY-SA 2.5","3140406","4452","4452","r","404559","3625322","3607736","",""
"3141548","1","3163450","","2010-06-29 14:19:43","","4","8299","<p>I have an image with many dots, and I would like to extract from it what is the x-y location of each dot.</p>

<p>I already know how to do this manually (there is a package for doing it).</p>

<p>However, is there some way of doing it automatically ?</p>

<p>(My next question will be - is there a a way, when having an image of many lines, to detect where the lines intersect/""touch each other"")</p>

<p>Due to requests in the comments, here is an example for an image to ""solve"" (i.e: extract the data point locations for it)</p>

<pre><code>#riddle 1 (find dots):
plot(cars, pch = 19)
#riddle 2 (find empty center circles):
plot(cars, pch = 1)
#riddle 2 (fine intersection points):
plot(cars, pch = 3)
#riddle 3 (find intersections between lines):
plot(cars, pch = 1, col = ""white"")
lines(stats::lowess(cars))
abline(v = c(5,10,15,20,25))
</code></pre>

<p>Thanks, Tal</p>

<p>(p.s: since I am unfamiliar with this field, I am sorry if I am using the wrong terminology or asking something too simple or complex.  Is this <a href=""http://en.wikipedia.org/wiki/Optical_mark_recognition"" rel=""nofollow noreferrer"">OMR</a>?)</p>
","256662","","256662","","2010-06-30 03:06:46","2010-07-04 20:57:16","Using R for simple image/pattern-recognition task?","<r><image-processing><plot><ocr>","3","7","5","","","CC BY-SA 2.5","3141548","4452","4452","r","404559","3625322","3607736","",""
"3142731","1","3142933","","2010-06-29 16:33:13","","10","4380","<p>I have run into a situation where I need to take all the extra arguments passed to an R function and roll them into an object for later use. I thought the <a href=""https://stackoverflow.com/questions/3057341/how-to-use-rs-ellipsis-feature-when-writing-your-own-function"">previous question about ellipses</a> in functions would help me, but I still can't quite grasp how to do this. Here is a very simple example of what I would like to do:</p>

<pre><code>newmean &lt;- function(X, ...){
  args &lt;- as.list(substitute(list(...)))[-1L]
  return(mean(X, args))
}
</code></pre>

<p>I've tried a number of different formulations of args in the above example and tried unlisting args in the return call. But I can't make this work. Any tips?</p>

<p>I realize that I could do this:</p>

<pre><code>newmean &lt;- function(X, ...){
    return(mean(X, ...))
}
</code></pre>

<p>But I need to have the ... arguments in an object which I can serialize and read back into another machine. </p>
","37751","","-1","","2017-05-23 12:25:10","2010-06-29 20:55:20","R: using a list for ellipsis arguments","<r><parameters><function><ellipsis>","1","1","6","","","CC BY-SA 2.5","3142731","4452","4452","r","404559","3625322","3607736","",""
"3142961","1","3151766","","2010-06-29 17:00:42","","5","969","<p>I want to create a function that will retry an expression if it fails.  Here's my working version:</p>

<pre><code>retry &lt;- function(.FUN, max.attempts=3, sleep.seconds=1) {
  x &lt;- NULL
  if(max.attempts &gt; 0) {
    f &lt;- substitute(.FUN)
    x &lt;- try(eval(f))
    if(class(x) == ""try-error"") {
      Sys.sleep(sleep.seconds)
      return(suppressWarnings(retry(.FUN, max.attempts-1)))
    }
  }
  x
}

retry(stop(""I'm here""))
</code></pre>

<p>If I remove the <code>suppressWarnings()</code> function above, then I get a set of warnings on each recursive call.  Does anyone know what I'm doing wrong that would cause that?</p>

<p>Here's an example that can be run repeatedly:</p>

<pre><code>retry({ tmp &lt;- function() { if(rnorm(1) &lt; 0) stop(""I'm here"") else ""success"" }; tmp() })
</code></pre>
","163053","","163053","","2010-06-30 17:57:28","2010-06-30 17:57:28","R warning message on recursive expression: If you fail, try, try again","<r><recursion><try-catch><callstack><substitution>","2","0","1","","","CC BY-SA 2.5","3142961","4452","4452","r","404559","3625322","3607736","",""
"3144790","1","3144843","","2010-06-29 21:13:56","","9","11944","<p>So when I make plots sometimes I see the y crossing x at some offset. I generated this figure using:</p>

<pre><code>ggplot(data=d2,aes(y=log10(Nems+1),x=Time)) +
  geom_point(size=3,shape=1) +        
  geom_line(data=d2,aes(x=time_model,y=log10(value),group=variable,linetype=variable)) +
  ylim(0.001,2) + no_bg + draw_axis
</code></pre>

<p>I end up manually moving the y in Illustrator. Is there a way to just do it here?</p>

<p><a href=""http://img816.imageshack.us/img816/7633/testzh.png"">alt text http://img816.imageshack.us/img816/7633/testzh.png</a></p>
","313163","","172261","","2010-06-30 08:14:47","2010-06-30 08:14:47","How do I make the y-axis intersect the x-axis at 0 in ggplot2?","<r><ggplot2>","2","1","3","","","CC BY-SA 2.5","3144790","4452","4452","r","404559","3625322","3607736","",""
"3144802","1","","","2010-06-29 21:15:06","","10","5227","<p>I am running R on a multiple node Linux cluster. I would like to run my analysis on R using scripts or batch mode without using parallel computing software such as MPI or snow.  </p>

<p>I know this can be done by dividing the input data such that each node runs different parts of the data.</p>

<p>My question is how do I go about this exactly?  I am not sure how I should code my scripts.  An example would be very helpful!</p>

<p>I have been running my scripts so far using PBS but it only seems to run on one node as R is a single thread program. Hence, I need to figure out how to adjust my code so it distributes labor to all of the nodes. </p>

<p><strong><em>Here is what I have been doing so far:</em></strong></p>

<p>1) command line:</p>

<pre><code>&gt; qsub myjobs.pbs
</code></pre>

<p>2) myjobs.pbs: </p>

<pre><code>&gt; #!/bin/sh
&gt; #PBS -l nodes=6:ppn=2
&gt; #PBS -l walltime=00:05:00
&gt; #PBS -l arch=x86_64
&gt; 
&gt; pbsdsh -v $PBS_O_WORKDIR/myscript.sh
</code></pre>

<p>3) myscript.sh:</p>

<pre><code>#!/bin/sh
cd $PBS_O_WORKDIR
R CMD BATCH --no-save my_script.R
</code></pre>

<p>4) my_script.R:</p>

<pre><code>&gt; library(survival)
&gt; ...
&gt; write.table(test,""TESTER.csv"",
&gt; sep="","", row.names=F, quote=F)
</code></pre>

<p>Any suggestions will be appreciated! Thank you!</p>

<p>-CC</p>
","379465","","37751","","2010-06-30 12:59:27","2014-03-06 21:49:30","R programming - submitting jobs on a multiple node linux cluster using PBS","<linux><r><parallel-processing><pbs>","3","1","","","","CC BY-SA 2.5","3144802","4452","4452","r","404559","3625322","3607736","",""
"3145302","1","3146239","","2010-06-29 22:40:10","","3","1209","<p>I am trying to pass data from SQL, to C#, then to an R server for data analysis then back to my web application; however, the COM interface that I am using does not allow complex data types to be passed between C# and R (no data tables). I have gotten it to work in the past by using the following code:</p>

<pre><code>    int count = dataTable.Rows.Count;
    object[] y = new object[count];
    object[] x = new object[count];

    //R does not accept DataTables, so here we extract the data from
    //the table and pass it into 2 double arrays.
    for (int i = 0; i &lt; count; i++)
    {
        y[i] = Convert.ToDouble(dataTable.Rows[i][0]);
        x[i] = Convert.ToDouble(dataTable.Rows[i][1]);
    }
    //Instantiate R connection
    StatConnector r = new STATCONNECTORSRVLib.StatConnectorClass();
    r.Init(""R"");
    r.SetSymbol(""y"", y);  //Passes column y into R
    r.SetSymbol(""x"", x);  //Passes column x into R
</code></pre>

<p>My problem now arises because I am no longer limited to just doubles, anything coming out of the SQL Database is fair game (int, varchar, etc...), and that I am no longer calling just 2 columns of data (it can be however many the user specifies).</p>

<p>How can I convert a datatable of dynamic size and dynamic data types into an array that would be safe to pass over into rcom?</p>
","131302","","953348","","2012-07-24 15:58:43","2012-07-24 15:58:43","Passing DataTable over COM into R","<c#><r><com><datatable><interop>","2","0","","","","CC BY-SA 2.5","3145302","4452","4452","r","404559","3625322","3607736","",""
"3145312","1","","","2010-06-29 22:41:31","","5","31590","<p>I am an R novice and am having some challenges.  I am dealing with a large dataframe which I have read from a csv file.  My numerical vectors contain NAs which are stopping me from running analyses.  How do I get rid of these NAs so I can actually do something with my data?  </p>
","379522","","","","","2018-01-15 11:09:28","R: removing NAs in numerical vectors","<r>","3","2","2","","","CC BY-SA 2.5","3145312","4452","4452","r","404559","3625322","3607736","",""
"3147902","1","11941116","","2010-06-30 09:16:51","","5","2391","<p>I am looking for a good Netbeans plugin for R. Any suggestions?</p>
","379859","","","","","2012-08-13 19:38:41","Is there a good Netbeans plugin for R?","<netbeans><r>","1","3","1","","","CC BY-SA 2.5","3147902","4452","4452","r","404559","3625322","3607736","",""
"3148763","1","3149070","","2010-06-30 11:29:21","","43","7686","<p>I work with machine learning with fairly large datasets (they still fit in memory) and I have written some calculations in R which I find to be too slow. Thus I would like to replace the ""critical parts"" of the program with compiled code that I would call from R. An example problem that I have in hand is implementing the <a href=""https://en.wikipedia.org/wiki/Forward%E2%80%93backward_algorithm"" rel=""noreferrer"">forward-backward algorithm</a>. </p>

<p>My question is whether I should learn Fortran or C++ to do this? I only need to work with numeric vectors or matrices. I'm mainly interested in which language is easier to learn and interface from R and I don't really care which one looks better on my CV.  </p>

<p>I have read the R extensions manual and played a bit with the inline package with some simple Fortran and C++ code. My current impression is that Fortran95 would be simpler to learn, although the Rcpp package also looks very interesting. I currently know R, Python and Matlab.</p>
","217595","","4183195","","2015-12-30 16:59:53","2015-12-30 16:59:53","Should I learn Fortran or C++ to extend R?","<c++><r><fortran>","6","4","21","2018-05-31 20:33:00","","CC BY-SA 3.0","3148763","4452","4452","r","404559","3625322","3607736","",""
"3149150","1","3151664","","2010-06-30 12:18:57","","2","918","<p>I'm trying to write a function to do some often repeated analysis, and one part of this is to count the number of groups and number of members within each group, so ddply to the rescue !, however, my code has a problem....</p>

<p>Here is some example data</p>

<pre><code>&gt; dput(BGBottles)
structure(list(Machine = structure(c(1L, 1L, 1L, 2L, 2L, 2L, 
3L, 3L, 3L, 4L, 4L, 4L), .Label = c(""1"", ""2"", ""3"", ""4""), class = ""factor""), 
    weight = c(14.23, 14.96, 14.85, 16.46, 16.74, 15.94, 14.98, 
    14.88, 14.87, 15.94, 16.07, 14.91)), .Names = c(""Machine"", 
""weight""), row.names = c(NA, -12L), class = ""data.frame"")
</code></pre>

<p>and here is my code</p>

<pre><code>foo&lt;-function(exp1, exp2, data) {
 datadesc&lt;-ddply(data, .(with(data, get(exp2))), nrow)
 return(datadesc)
}
</code></pre>

<p>If I run this function, I get an error</p>

<pre><code>&gt; foo(exp=""Machine"",exp1=""weight"",data=BGBottles)
Error in eval(substitute(expr), data, enclos = parent.frame()) : 
  invalid 'envir' argument
</code></pre>

<p>However, if I define my exp1, exp2 and data variables int he global environemtn first, it works</p>

<pre><code>&gt; exp1&lt;-""weight""
&gt; exp2&lt;-""Machine""
&gt; data&lt;-BGBottles
&gt; foo(exp=""Machine"",exp1=""weight"",data=BGBottles)
  with.data..get.exp2.. V1
1                     1  3
2                     2  3
3                     3  3
4                     4  3
</code></pre>

<p>So, I assume ddply is running outside of the environemtn of the function ?  Is there a way to stop this, or am I doing something wrong ?</p>

<p>Thanks</p>

<p>Paul.</p>
","74658","","","","","2010-06-30 17:14:34","ddply run in a function looks in the environment outside the function?","<r><environment><plyr>","2","0","","","","CC BY-SA 2.5","3149150","4452","4452","r","404559","3625322","3607736","",""
"3150729","1","3151042","","2010-06-30 15:25:43","","2","353","<p>Format consist of lines, every line has set of key=""value"" elements.</p>

<p>Format example:</p>

<pre><code>X=""1"" Y=""2"" Z=""who are you?""
Y=""4"" Z=""bla bla...""
X=""42""
</code></pre>

<p>I would like to import this data into R, table or data.frame, where key defines column.</p>
","378783","","4370109","","2015-12-03 21:00:09","2015-12-03 21:00:09","How to import unusual data formats into R?","<r><import>","1","1","1","","","CC BY-SA 3.0","3150729","4452","4452","r","404559","3625322","3607736","",""
"3151207","1","3151350","","2010-06-30 16:13:45","","10","7046","<p>If I create a multi-plot window with <code>par(mfrow=...)</code>, is it possible to send data to a specific plot (i.e. ""the one in the lower left corner"") or is the plotting always necessarily sequential? Is there a package for R that does something like this?</p>

<p>For those that are interested, this problem arises out of the fact that R is a single-threaded application and is not ideal for real-time visualization. I have multiple real-time data streams coming into R from an outside source that produces the data asynchronously (and therefore the data streams don't always come in the same order). This results in R flipping around the order of the data visualization plots every time it updates.</p>
","10675","","172261","","2013-05-06 07:08:48","2013-07-03 11:08:05","Plot to specific plot in multiple-plot window?","<r><plot>","4","0","3","","","CC BY-SA 3.0","3151207","4452","4452","r","404559","3625322","3607736","",""
"3153025","1","3153333","","2010-06-30 20:13:24","","6","4750","<p>I fit a count model to a vector of actual data and would now like to plot the actual and the predicted as a grouped (dodged) bar chart. Since this is a count model, the data are discrete (X=x from 0 to 317). Since I am fitting a model, I only have already-tabulated data for the predicted values.</p>

<p>Here is how my original data frame looks:</p>

<pre><code>  actual predicted
1   3236 3570.4995
2   1968 1137.1202
3    707  641.8186
4    302  414.8763
5    185  285.1854
6    104  203.0502
</code></pre>

<p>I transformed the data to be plotted with ggplot2:</p>

<pre><code>melted.data &lt;- melt(plot.data)
melted.data$realization &lt;- c(rep(0:317, times=2))
colnames(melted.data)=c('origin','count','realization')
</code></pre>

<p>So that my data frame now looks like this:</p>

<pre><code>head(melted.data)
  origin count realization
1 actual  3236           0
2 actual  1968           1
3 actual   707           2
4 actual   302           3
5 actual   185           4
6 actual   104           5
&gt; tail(melted.data)
       origin        count realization
631 predicted 1.564673e-27         312
632 predicted 1.265509e-27         313
633 predicted 1.023552e-27         314
634 predicted 8.278601e-28         315
635 predicted 6.695866e-28         316
636 predicted 5.415757e-28         317
</code></pre>

<p>When I try to graph it (again, I'd like to have the actual and predicted count --which is already tabulated in the data-- by discrete realization), I give this command:</p>

<pre><code>ggplot(melted.data, stat=""identity"", aes(x=realization, fill=origin)) + geom_bar(position=""dodge"")
</code></pre>

<p>Yet it seems like the stat parameter is not liked by ggplot2, as I don't get the correct bar height (which would be those of the variable ""count"").</p>

<p>Any ideas?</p>

<p>Thanks,</p>

<p>Roberto.</p>
","344513","","","","","2010-06-30 21:00:57","Grouped bar chart with ggplot2 and already tabulated data","<r><ggplot2>","1","0","3","","","CC BY-SA 2.5","3153025","4452","4452","r","404559","3625322","3607736","",""
"3153705","1","4146255","","2010-06-30 21:53:06","","8","1986","<p>I am very new to LaTex and R, but I am learning on a daily basis.  I really am getting into using Eclipse and want to join the party and start automating my work using Sweave; I am excited for the prospects.</p>

<p>That said, I followed Jeromy's post <a href=""http://jeromyanglim.blogspot.com/2010/02/getting-started-with-sweave-r-latex.html"" rel=""nofollow noreferrer"">here</a> and think (keyword, think) that everything is set up correctly.  However, since I am very new to LaTex, how can I test it to know that I am up and running and can indeed create pdf's?</p>

<p>Simply, I want to test that my configurations are up and running before I start diving into templates and creating reports.  What is the basic process, from within Eclipse, to create a pdf?</p>

<p>Any help will be very much appreciated!</p>

<p>Thanks,</p>

<p>Brock</p>
","155406","","","","","2010-11-10 15:47:12","Getting Started with Sweave, Eclipse, and R","<eclipse><r><latex><sweave>","2","0","4","","","CC BY-SA 2.5","3153705","4452","4452","r","404559","3625322","3607736","",""
"3154022","1","3154167","","2010-06-30 22:59:26","","3","255","<p>I'm having small problem with the size of the graphical device when running R on ubuntu netbook.
Netbook's screen size is relatively small (1024 x 576), so when I create a chart in R say simply</p>

<pre><code>plot(sin)
</code></pre>

<p>The graph is bigger than my screen size. I have to manually resize it. </p>

<p>Solution posted on <a href=""http://ubuntuforums.org/showthread.php?t=891228"" rel=""nofollow noreferrer"">ubuntu forum</a> doesn't work for some reason. Does anyone know how to fix it?</p>

<p>Thanks!</p>
","379269","","","","","2010-06-30 23:30:31","Running R on Ubuntu Netbook need help with size of graphical device","<r><ubuntu>","1","0","","","","CC BY-SA 2.5","3154022","4452","4452","r","404559","3625322","3607736","",""
"3156776","1","","","2010-07-01 10:05:09","","3","266","<p>I'm a relatively new user to R and Emacs and was wondering if Emacs could automatically correct any R commands that i've typed wrong. I know about the alt-/, but I was more thinking along the lines of if i type <strong>read.tale</strong>, it corrects it to <strong>read.table</strong>.</p>

<p>Also, I was using emacs the other day and whenever i typed read.table, it showed the usage options (that bit from the help file) in the bottom bit of the window-the minibuffer?. anyway, its not there now, and i don't know what i did to make it go away. </p>

<p>Thanks for your help</p>
","380111","","","","","2011-11-14 23:24:56","Is there a way for Emacs to autocorrect R commands","<emacs><r>","2","0","2","","","CC BY-SA 2.5","3156776","4452","4452","r","404559","3625322","3607736","",""
"3158548","1","3158624","","2010-07-01 14:07:18","","14","13016","<p>I have a number of tables with text around them describing them.  Something like this:</p>

<pre><code>This table shows blah blah...

&lt;&lt;echo=FALSE, results=tex&gt;&gt;=
print(
    xtable(x,
        caption = ""blah"", label = ""tab:four"", table.placement = ""tbp"", caption.placement = ""top"")
  , size = ""small"", table.placement=""ht"")
@

This table shows blah blah...

&lt;&lt;echo=FALSE, results=tex&gt;&gt;=
print(
    xtable(x,
        caption = ""blah"", label = ""tab:five"", table.placement = ""tbp"", caption.placement = ""top"")
  , size = ""small"", table.placement=""ht"")
@
</code></pre>

<p>I want all my descriptive text to be in line with the tables so that they follow in the sequence that I am writing them.  But around the end of a page, some tables move off onto the next page and the descriptive text is just free floating.  Is there some particular <code>table.placement</code> command that will ensure that everything stays the way that it is written?</p>
","171249","","","","","2010-07-02 09:33:29","Sweave xtable: how to position tables between text?","<r><latex><sweave><xtable>","3","1","9","","","CC BY-SA 2.5","3158548","4452","4452","r","404559","3625322","3607736","",""
"3160090","1","3431165","","2010-07-01 17:14:14","","3","245","<p>From the get go: sorry if I'm not using the proper emacs terminology -- I'm relatively wet behind the ears in the emacs world.</p>

<p>Most of my work in emacs is for programming R, and I'm using <a href=""http://ess.r-project.org/"" rel=""nofollow noreferrer"">ESS</a> and <a href=""http://ecb.sourceforge.net"" rel=""nofollow noreferrer"">ECB</a> to do so quite happily. I'd like to build a custom ECB layout which uses the entire bottom of the screen as my R console, while putting some ECB-specific buffers on the left.</p>

<p>Using <a href=""http://ecb.sourceforge.net/docs/Changing-the-ECB_002dlayout.html"" rel=""nofollow noreferrer"">ECB-esque layout diagrams</a>, I'd like my layout to look like pretty much exactly like ""left13"", except I'd like the entirety of the ""compilation"" buffer to be my running R console (or any shell, for that matter):</p>

<pre><code>-------------------------------------------------------
|              |                                      |
|              |                                      |
|              |                                      |
|              |                                      |
|              |                                      |
|              |                                      |
|              |                                      |
| Directories  |                 Edit                 |
|              |                                      |
|              |                                      |
|              |                                      |
|              |                                      |
|              |                                      |
|              |                                      |
|              |                                      |
-------------------------------------------------------
|                                                     |
|                    R Console                        |
|                                                     |
-------------------------------------------------------
</code></pre>

<p>If I can just split my buffer in two (vertically), then call <code>ecb-activate</code> from the top buffer (and not allow it to touch my bottom buffer), I'm imagining it could work (hence the subject of my question).</p>

<p>That doesn't work, though, and I don't know how to get an entier ""bottom pane"" out of a layout to work in the way I like using trying to use ECB's customize layout functionality.</p>

<p>Does anybody know if/how I can do this?</p>
","83761","","133","","2012-02-11 11:23:10","2012-02-11 11:23:10","Can ECB be restricted to ""take over"" only the current buffer when it's activated?","<r><emacs><ess><emacs-ecb>","1","1","2","","","CC BY-SA 2.5","3160090","4452","4452","r","404559","3625322","3607736","",""
"3160453","1","","","2010-07-01 18:06:43","","4","669","<p>I have a plot with many overlapping points (goes from 2-10). Adding jitter to the points makes it very noisy and unappealing. I like adding a alpha in the aesthetics. However, I'd like to have a legend where a reader can see how many points are overlapping for each of those transparencies. Is there such a way?</p>

<pre><code>ggplot(data=mydata,aes(x=x,y=y)) + geom_point(size=3,shape=2,aes(alpha=1/3))
</code></pre>

<p>Let's say I use the above code. How would I incorporate a legend for the alpha?</p>
","313163","","","","","2017-04-29 16:11:51","Is there a way to add a legend for ggplot's alpha?","<r><ggplot2>","3","2","","","","CC BY-SA 2.5","3160453","4452","4452","r","404559","3625322","3607736","",""
"3160831","1","","","2010-07-01 18:58:52","","3","720","<p>One thing I want to do all the time in my R code is to test whether certain conditions hold for a vector, such as whether it contains any or all values equal to some specified value.  The <code>R</code>ish way to do this is to create a boolean vector and use any or all, for example:</p>

<pre><code>any(is.na(my_big_vector))
all(my_big_vector == my_big_vector[[1]])
...
</code></pre>

<p>It seems really inefficient to me to allocate a big vector and fill it with values, just to throw it away (especially if <code>any()</code> or <code>all()</code> call can be short-circuited after testing only a couple of the values.  Is there a better way to do this, or should I just hand in my desire to write code that is both efficient and succinct when working in <code>R</code>? </p>
","5222","","563329","","2011-11-11 11:17:15","2011-11-11 11:17:15","How can you efficiently check values of large vectors in R?","<r>","3","0","1","","","CC BY-SA 3.0","3160831","4452","4452","r","404559","3625322","3607736","",""
"3162286","1","3162661","","2010-07-01 23:02:45","","1","1488","<p>R's qplot function has a nifty alpha parameter for shading coincident points in a scatter plot darker.  Here it is in action:</p>

<p><a href=""http://www.decisionsciencenews.com/2010/07/01/maps-without-map-packages"" rel=""nofollow noreferrer"">http://www.decisionsciencenews.com/2010/07/01/maps-without-map-packages</a></p>

<p>I'm wondering how to do the same in Mathematica.
Here's code to grab the data from the above article and plot it, without the nifty shading:</p>

<pre><code>data = Rest@Import[
  ""http://www.decisionsciencenews.com/wp-content/uploads/2010/07/latlong.zip"", 
  ""latlong.csv""]

ListPlot[data, PlotRange -&gt; {{-130, -65}, {23.5, 50.5}}, Frame -&gt; True]
</code></pre>

<p>The question is, how to add the shading of the points?</p>
","4234","","","","","2010-07-02 01:09:54","Scatter plot with indication of the density of points","<r><map><plot><wolfram-mathematica>","1","0","1","","","CC BY-SA 2.5","3162286","4452","4452","r","404559","3625322","3607736","",""
"3164996","1","","","2010-07-02 10:44:26","","2","1164","<p><a href=""http://picasaweb.google.com/lh/photo/F-p2qK3itxJsgj1tLLGsow?feat=directlink"" rel=""nofollow noreferrer"">http://picasaweb.google.com/lh/photo/F-p2qK3itxJsgj1tLLGsow?feat=directlink</a></p>

<p>If you look at the picture, theres this usage bit from the R help files at the bottom in the minbuffer.</p>

<p>howd i do that? it somehow just appeared, maybe cos i mashed the keyboard trying to run the commands.
It disappeared when i restarted emacs:( </p>

<p>thanks</p>
","380111","","143305","","2010-07-02 15:31:35","2013-08-14 23:10:17","Emacs, ESS, R -How did i do this?","<emacs><r><ess>","2","0","2","","","CC BY-SA 2.5","3164996","4452","4452","r","404559","3625322","3607736","",""
"3165346","1","3168618","","2010-07-02 11:46:02","","18","6429","<p>Using position_jitter creates random jitter to prevent overplotting of data points.</p>

<p>In the below I have used the example of baseball statistics to illustrate my problem. When I plot the same data with two layers, the same jitter call jitters the geoms a bit differently.
This makes sense because it presumably generates the random jitter independently in the two calls, but yields the problem you can see in my graph below.</p>

<pre><code>p=ggplot(baseball,aes(x=round(year,-1),y=sb,color=factor(lg))) 
p=p+stat_summary(fun.data=""mean_cl_normal"",position=position_jitter(width=3,height=0))+coord_cartesian(ylim=c(0,40))
p+stat_summary(fun.y=mean,geom=""line"",position=position_jitter(width=3,height=0))
</code></pre>

<p>Although the error bar points and the line refer to same data, they are disjointedthe lines and points do not connect.</p>

<p>Is there a work-around for this? I thought position dodge might be the answer but it doesn't seem to work with these kinds of plots. Alternatively, maybe there's some way to get the mean_cl_normal call to also add the lines?
<a href=""https://i.stack.imgur.com/lxZcd.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/lxZcd.png"" alt=""alt text""></a>
</p>
","302378","","4751173","","2019-07-31 19:06:26","2019-07-31 19:06:26","Is it possible to jitter two ggplot geoms in the same way?","<r><ggplot2>","3","0","4","","","CC BY-SA 4.0","3165346","4452","4452","r","404559","3625322","3607736","",""
"3165467","1","","","2010-07-02 12:04:11","","2","394","<p>I find myself having to do this very often -- compare specific columns from 2 different files. The columns, formats are the same, but the columns that need comparison have floating point/exponential format data, e.g. <code>0.0058104642437413175</code>, <code>-3.459017050577087E-4</code>, etc.</p>

<p>I'm currently using the below R code:</p>

<pre><code>test &lt;- read.csv(""C:/VBG_TEST/testing/FILE_2010-06-16.txt"", header = FALSE, sep = ""|"", quote=""\"""", dec=""."")
prod &lt;- read.csv(""C:/VBG_PROD/testing/FILE_2010-06-16.txt"", header = FALSE, sep = ""|"", quote=""\"""", dec=""."")
sqldf(""select sum(V10), sum(V15) from test"")
sqldf(""select sum(V10), sum(V15) from prod"")
</code></pre>

<p>I read in the files, and sum the specific columns -- <code>V10</code>, <code>V15</code> and then observe the values. This way I can ignore very small differences in floating point data per row.</p>

<p>However, going forward, I would like to set a tolerance percent, ie. <code>if abs( (prod.V10 - test.V10)/prod.V10 ) &gt; 0.01%</code>, and only print those row numbers that exceed this tolerance limit.</p>

<p>Also, if the data is not in the sane order, how can I do a comparison by specifying columns that will act like a composite primary key?</p>

<p>For e.g., if I did this in Sybase, I'd have written something like:</p>

<pre><code>select A.*, B.* 
from tableA A, tableB B
where abs( (A.Col15-B.Col15)/A.Col15) ) &gt; 0.01%
  and A.Col1 = B.Col1
  and A.Col4 = B.Col4
  and A.Col6 = B.Col6
</code></pre>

<p>If I try doing the same thing using <code>sqldf</code> in <strong>R</strong>, it does NOT work as the files contain <strong>500K+</strong> rows of data.</p>

<p>Can anyone point me to how I can do the above in R?</p>

<p>Many thanks,
Chapax.</p>
","382021","","168747","","2010-07-02 12:44:29","2010-07-02 12:55:16","Comparing specific columns in 2 different files using R","<r><sybase>","2","3","","","","CC BY-SA 2.5","3165467","4452","4452","r","404559","3625322","3607736","",""
"3167444","1","","","2010-07-02 16:22:37","","11","1910","<p>I'm using facets in ggplot2 to plot the distribution of expression in a large number of genes. My plotting commands are pretty generic:</p>

<pre><code>p &lt;- ggplot(top_n,aes(x=value,fill=ptype))
p &lt;- p + geom_density(alpha = 0.2)
p &lt;- p + facet_wrap(~probe,...)
</code></pre>

<p>they just plot the data in top_n as distributions coloured according to the <code>ptype</code> variable. It looks great.</p>

<p>Some of these genes, however, are more important than others. It would be really cool to highlight those genes which are transcription factors (TFs), for example. One way would be for me to change the colour title box over each facet corresponding to a TF, or the background colour, or something like that. </p>

<p>Is there a way for me to set options of the plots on a per-facet basis? </p>

<p>Digging around in the <code>p</code> object hasn't turned up anything I can use, though I'm probably missing something!</p>
","270572","","680068","","2020-03-12 14:10:39","2020-12-08 05:21:00","Change options on a per-facet basis","<r><ggplot2>","1","0","1","","","CC BY-SA 4.0","3167444","4452","4452","r","404559","3625322","3607736","",""
"3168850","1","3168902","","2010-07-02 20:14:20","","1","735","<p>I'm trying to use regular expressions in R to find one or more phrases within a vector of long sentences (which I'll call x).</p>

<p>So, for example, this works fine for one phrase:</p>

<pre><code>grep(""(phrase 1)"",x)
</code></pre>

<p>But this doesn't work for two (or more) phrases:</p>

<pre><code>grep(""(phrase 1)+(phrase 2)+"",x)
</code></pre>

<p>As I would expect. As I read it, this last one should give me all matches in x for 1 or more phrase 1s, <strong>and</strong> 1 or more phrase 2's. But it returns nothing.</p>
","170408","","","","","2010-07-06 21:22:20","Union in regular expression in R","<regex><r>","4","2","","","","CC BY-SA 2.5","3168850","4452","4452","r","404559","3625322","3607736","",""
"3169371","1","3170401","","2010-07-02 22:03:36","","12","11887","<p>I'd like to do large-scale regression (linear/logistic) in R with many (e.g. 100k) features, where each example is relatively sparse in the feature space---e.g., ~1k non-zero features per example.</p>

<p>It seems like the <a href=""http://cran.r-project.org/web/packages/SparseM/"" rel=""nofollow noreferrer"" title=""SparseM"">SparseM</a> package <code>slm</code> should do this, but I'm having difficulty converting from the <code>sparseMatrix</code> format to a <code>slm</code>-friendly format.</p>

<p>I have a numeric vector of labels <code>y</code> and a <code>sparseMatrix</code> of features <code>X</code> \in {0,1}. When I try</p>

<pre><code>model &lt;- slm(y ~ X)
</code></pre>

<p>I get the following error:</p>

<pre><code>Error in model.frame.default(formula = y ~ X) : 
invalid type (S4) for variable 'X'
</code></pre>

<p>presumably because <code>slm</code> wants a <code>SparseM</code> object instead of a <code>sparseMatrix</code>.</p>

<p>Is there an easy way to either a) populate a <code>SparseM</code> object directly or b) convert a <code>sparseMatrix</code> to a <code>SparseM</code> object? Or perhaps there's a better/simpler way to do this?</p>

<p>(I suppose I could explicitly code the solutions for linear regression using <code>X</code> and <code>y</code>, but it would be nice to have <code>slm</code> working.)</p>
","76259","","3576984","","2017-10-31 02:19:21","2017-10-31 02:22:01","large-scale regression in R with a sparse feature matrix","<r><sparse-matrix><regression>","4","1","11","","","CC BY-SA 3.0","3169371","4452","4452","r","404559","3625322","3607736","",""
"3171426","1","3172398","","2010-07-03 12:04:25","","181","348882","<p>I have the following 2 data.frames:</p>

<pre><code>a1 &lt;- data.frame(a = 1:5, b=letters[1:5])
a2 &lt;- data.frame(a = 1:3, b=letters[1:3])
</code></pre>

<p>I want to find the row a1 has that a2 doesn't.</p>

<p>Is there a built in function for this type of operation?</p>

<p>(p.s: I did write a solution for it, I am simply curious if someone already made a more crafted code)</p>

<p>Here is my solution:</p>

<pre><code>a1 &lt;- data.frame(a = 1:5, b=letters[1:5])
a2 &lt;- data.frame(a = 1:3, b=letters[1:3])

rows.in.a1.that.are.not.in.a2  &lt;- function(a1,a2)
{
    a1.vec &lt;- apply(a1, 1, paste, collapse = """")
    a2.vec &lt;- apply(a2, 1, paste, collapse = """")
    a1.without.a2.rows &lt;- a1[!a1.vec %in% a2.vec,]
    return(a1.without.a2.rows)
}
rows.in.a1.that.are.not.in.a2(a1,a2)
</code></pre>
","256662","","","","","2021-02-05 17:10:07","Compare two data.frames to find the rows in data.frame 1 that are not present in data.frame 2","<r><merge><compare><rows><dataframe>","14","0","90","","","CC BY-SA 2.5","3171426","4452","4452","r","404559","3625322","3607736","",""
"3171429","1","","","2010-07-03 12:06:27","","4","1384","<p>Or a list of how to do in R things you do in SQL (or vise versa) ?</p>

<p>Thanks,</p>

<p>Tal</p>
","256662","","100297","","2013-10-19 11:24:53","2013-10-19 11:24:53","Is there a table comparing SQL commands with R commands?","<sql><r><comparison>","5","2","1","2013-10-19 00:55:55","","CC BY-SA 2.5","3171429","4452","4452","r","404559","3625322","3607736","",""
"3171734","1","","","2010-07-03 14:07:51","","1","510","<p>Is there any way to set the background color of plots constructed using the base R function <code>persp()</code>? </p>

<p><code>bg=""black""</code> is ignored either when supplied to <code>persp()</code> or previously to <code>par()</code>.</p>
","379111","","2940792","","2014-12-08 09:51:51","2014-12-08 09:51:51","Setting the background color of persp() plots","<r><plot>","1","0","","","","CC BY-SA 3.0","3171734","4452","4452","r","404559","3625322","3607736","",""
"3173417","1","","","2010-07-04 01:30:18","","1","150","<p><code>format(Sys.Date(),""%m"")</code> returns <code>""07""</code>, but I'd like it to return <code>""7""</code> while still returning two characters when needed.  adding <code>width=8</code> to the argument list doesn't help, nor does anything else I've tried.</p>

<p>My end goal is to make the stock quote reading function on p. 182 of R in a Nutshell work properly.</p>
","382905","","","user4275591","2014-12-08 10:30:37","2014-12-08 10:30:37","How can I get format() to return a 1-character result?","<r>","2","0","","","","CC BY-SA 3.0","3173417","4452","4452","r","404559","3625322","3607736","",""
"3175033","1","3181665","","2010-07-04 14:50:32","","1","1118","<p>I wish to recreate this graph:
<a href=""https://i.stack.imgur.com/bvRRo.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/bvRRo.png"" alt=""alt text""></a></p>

<p>(from <a href=""https://web.archive.org/web/20110811155614/http://had.co.nz:80/stat405/resources/drills/ggplot2.html#"" rel=""nofollow noreferrer"">here</a>)</p>

<p>Using R base graphics.</p>

<p>I have no clue how to do that.  Any advice ?</p>

<p>(My motivation is that I wish to create a plot where the line width (and/or color) will reflect another dimension.  Until now - ggplot2 is the only place I found in R for how to do this. I would be happy to be able to do this also in base R)</p>
","256662","","4751173","","2019-07-31 23:04:38","2019-07-31 23:04:38","Recreate ggplot's geom_smooth CI background - in R basic?","<graphics><r><plot><ggplot2>","5","0","2","","","CC BY-SA 4.0","3175033","4452","4452","r","404559","3625322","3607736","",""
"3177091","1","3177166","","2010-07-05 03:18:07","","1","635","<p>I'm gluing together a number of system calls using the Amazon Elastic Map Reduce command line tools. These commands return JSON text which has already been (partially?) escaped. Then when the system call turns it into an R text object (intern=T) it appears to get escaped again. I need to clean this up so it will parse with the rjson package. </p>

<p>I do the system call this way:</p>

<pre><code>system(""~/EMR/elastic-mapreduce --describe --jobflow j-2H9P770Z4B8GG"", intern=T)
</code></pre>

<p>which returns:</p>

<pre><code> [1] ""{""                                                                                             
 [2] ""  \""JobFlows\"": [""                                                                             
 [3] ""    {""                                                                                         
 [4] ""      \""LogUri\"": \""s3n:\\/\\/emrlogs\\/\"",""                                                   
 [5] ""      \""Name\"": \""emrFromR\"",""                                                                 
 [6] ""      \""BootstrapActions\"": ["" 
...
</code></pre>

<p>but the same command from the command line returns:</p>

<pre><code>{
  ""JobFlows"": [
    {
      ""LogUri"": ""s3n:\/\/emrlogs\/"",
      ""Name"": ""emrFromR"",
      ""BootstrapActions"": [
        {
          ""BootstrapActionConfig"": {
...
</code></pre>

<p>If I try to run the results of the system call through rjson, I get this error:</p>

<pre><code>Error: '\/' is an unrecognized escape in character string starting ""s3n:\/""
</code></pre>

<p>I believe this is because of the double escaping in the s3n line. I'm struggling to get this text massaged into something that will parse. </p>

<p>It might be as simple as replacing ""\\"" with ""\"" but since I kinda struggle with regex and escaping, I can't get that done properly. </p>

<p>So how do I take a vector of strings and replace any occurrence of ""\\"" with ""\""? (even to type this question I had to use three back slashes to represent two) Any other tips related to this specific use case?</p>

<p>Here's my code in more detail:</p>

<pre><code>&gt; library(rjson)
&gt; emrJson &lt;- paste(system(""~/EMR/elastic-mapreduce --describe --jobflow j-2H9P770Z4B8GG"", intern=T))
&gt; 
&gt;     parser &lt;- newJSONParser()
&gt;     for (i in 1:length(emrJson)){
+       parser$addData(emrJson[i])
+     }
&gt; 
&gt; parser$getObject()
Error: '\/' is an unrecognized escape in character string starting ""s3n:\/""
</code></pre>

<p>and if you're itching to recreate the emrJson object, here's the dput() output:</p>

<pre><code>&gt; dput(emrJson)
c(""{"", ""  \""JobFlows\"": ["", ""    {"", ""      \""LogUri\"": \""s3n:\\/\\/emrlogs\\/\"","", 
""      \""Name\"": \""emrFromR\"","", ""      \""BootstrapActions\"": ["", 
""        {"", ""          \""BootstrapActionConfig\"": {"", ""            \""Name\"": \""Bootstrap 0\"","", 
""            \""ScriptBootstrapAction\"": {"", ""              \""Path\"": \""s3:\\/\\/rtmpfwblrx\\/bootstrap.sh\"","", 
""              \""Args\"": []"", ""            }"", ""          }"", 
""        }"", ""      ],"", ""      \""ExecutionStatusDetail\"": {"", 
""        \""EndDateTime\"": 1278124414.0,"", ""        \""CreationDateTime\"": 1278123795.0,"", 
""        \""LastStateChangeReason\"": \""Steps completed\"","", ""        \""State\"": \""COMPLETED\"","", 
""        \""StartDateTime\"": 1278124000.0,"", ""        \""ReadyDateTime\"": 1278124237.0"", 
""      },"", ""      \""Steps\"": ["", ""        {"", ""          \""StepConfig\"": {"", 
""            \""ActionOnFailure\"": \""CANCEL_AND_WAIT\"","", ""            \""Name\"": \""Example Streaming Step\"","", 
""            \""HadoopJarStep\"": {"", ""              \""MainClass\"": null,"", 
""              \""Jar\"": \""\\/home\\/hadoop\\/contrib\\/streaming\\/hadoop-0.18-streaming.jar\"","", 
""              \""Args\"": ["", ""                \""-input\"","", ""                \""s3n:\\/\\/rtmpfwblrx\\/stream.txt\"","", 
""                \""-output\"","", ""                \""s3n:\\/\\/rtmpfwblrxout\\/\"","", 
""                \""-mapper\"","", ""                \""s3n:\\/\\/rtmpfwblrx\\/mapper.R\"","", 
""                \""-reducer\"","", ""                \""cat\"","", 
""                \""-cacheFile\"","", ""                \""s3n:\\/\\/rtmpfwblrx\\/emrData.RData#emrData.RData\"""", 
""              ],"", ""              \""Properties\"": []"", ""            }"", 
""          },"", ""          \""ExecutionStatusDetail\"": {"", ""            \""EndDateTime\"": 1278124322.0,"", 
""            \""CreationDateTime\"": 1278123795.0,"", ""            \""LastStateChangeReason\"": null,"", 
""            \""State\"": \""COMPLETED\"","", ""            \""StartDateTime\"": 1278124232.0"", 
""          }"", ""        }"", ""      ],"", ""      \""JobFlowId\"": \""j-2H9P770Z4B8GG\"","", 
""      \""Instances\"": {"", ""        \""Ec2KeyName\"": \""JL 09282009\"","", 
""        \""InstanceCount\"": 2,"", ""        \""Placement\"": {"", 
""          \""AvailabilityZone\"": \""us-east-1d\"""", ""        },"", 
""        \""KeepJobFlowAliveWhenNoSteps\"": false,"", ""        \""SlaveInstanceType\"": \""m1.small\"","", 
""        \""MasterInstanceType\"": \""m1.small\"","", ""        \""MasterPublicDnsName\"": \""ec2-174-129-70-89.compute-1.amazonaws.com\"","", 
""        \""MasterInstanceId\"": \""i-2147b84b\"","", ""        \""InstanceGroups\"": null,"", 
""        \""HadoopVersion\"": \""0.18\"""", ""      }"", ""    }"", ""  ]"", 
""}"")
</code></pre>
","37751","","21234","","2011-05-12 19:31:26","2011-05-12 19:31:26","R: replacing double escaped text","<regex><r><elastic-map-reduce>","2","0","","","","CC BY-SA 2.5","3177091","4452","4452","r","404559","3625322","3607736","",""
"3177474","1","","","2010-07-05 06:13:43","","4","1449","<p>suppose n=3
then output should be: a vector containing vectors: 
123
213
132
231
321</p>
","383420","","172261","","2010-07-05 06:57:01","2013-11-25 17:56:51","I want to generate n! permutations for a given n in R","<r><permutation>","6","0","1","","","CC BY-SA 2.5","3177474","4452","4452","r","404559","3625322","3607736","",""
"3177987","1","3181103","","2010-07-05 08:19:50","","4","1389","<p>What is the difference between <code>.tar.gz</code> or <code>.tgz</code> files installed by <code>R CMD install</code> and <code>install.packages()</code>? I have made an example package with <code>R CMD build</code>, which I can currently install with <code>R CMD install mypackage.tar.gz</code> - and it works fine. I want to be able to install it through the <code>install.packages()</code> function (with a call like <code>install.packages(""mypackage.tar.gz"",repos=NULL)</code>). What additional steps do I need to take?</p>
","143476","","","","","2014-03-27 20:12:34","Making R packages for installation by install.packages()","<r>","2","0","1","","","CC BY-SA 2.5","3177987","4452","4452","r","404559","3625322","3607736","",""
"3178420","1","3178641","","2010-07-05 09:29:52","","6","347","<p>When I'm generating graphics for publications and talks, I tend to use <code>ggplot2</code>. However, for very large data sets where I want to generate a quick plot or for courses where students don't have a good grounding in R, I use the base graphics.</p>

<p>Are there any nice (simple!) ways of spicing up R graphics? For example, do you use a nice combination of colours and line types. I tend to do something like:</p>

<pre><code>#Functional but not that nice    
plot(x1,y1, type=""l"")
lines(x2, y2, col=2, lty=2)
</code></pre>

<p>In particular, I'm thinking about the <code>plot</code>, <code>hist</code>, and <code>density</code> functions, but I suppose this question applies to all base R graphics.</p>
","203420","","","","","2011-11-13 14:50:10","Improvements to the base R graphics","<graphics><r>","2","0","5","","","CC BY-SA 2.5","3178420","4452","4452","r","404559","3625322","3607736","",""
"3179326","1","3179350","","2010-07-05 12:06:55","","19","31086","<p>I have input data that contain lines like this:</p>

<pre><code>-0.438185 -0.766791  0.695282
0.759100  0.034400  0.524807
</code></pre>

<p>How can I create a data structure in R that looks like this: </p>

<pre><code>[[1]]
  [1] -0.438185 -0.766791  0.695282 
[[2]]
  [1]  0.759100  0.034400  0.524807 
</code></pre>
","67405","","296642","","2017-03-02 16:24:03","2017-03-02 16:24:03","How To Create Vector of Vector In R","<r>","4","0","1","","","CC BY-SA 2.5","3179326","4452","4452","r","404559","3625322","3607736","",""
"3179706","1","3179796","","2010-07-05 13:10:43","","2","829","<p>I find it hard to sort through all the messages in the <em>R</em> frame(?) in emacs, and I was wondering if it'll be easy to change the colours so that it looks more like the R GUI. </p>

<p>Thanks</p>
","380111","","","","","2010-07-05 13:21:49","is there a way to get the colour theme from the R GUI into Emacs?","<emacs><r><ess>","1","0","","","","CC BY-SA 2.5","3179706","4452","4452","r","404559","3625322","3607736","",""
"3181993","1","3182005","","2010-07-05 20:30:24","","5","35844","<p>Is there a simple way of identifying the number of times a value is in a vector or column of dataframe? I essentially want the numerical values of a histogram but I do not know how to access it.</p>

<pre><code># sample vector
a &lt;- c(1,2,1,1,1,3,1,2,3,3)

#hist
hist(a)
</code></pre>

<p>Thank you.</p>

<p><em>UPDATE:</em></p>

<p>On Dirk's suggestion I am using hist. Is there a better way than than specifying the range as 1.9, 2.9 etc when I know that all my values are integers?</p>

<pre><code> hist(a, breaks=c(1,1.9,2.9,3.9,4.9,5.9,6.9,7.9,8.9,9.9), plot=FALSE)$counts
</code></pre>
","258755","","258755","","2010-07-05 21:26:10","2013-04-10 13:34:52","How can I count the number of times a value occurs in a column of a dataframe?","<r><statistics>","4","1","1","","","CC BY-SA 2.5","3181993","4452","4452","r","404559","3625322","3607736","",""
"3182091","1","3182143","","2010-07-05 20:50:08","","29","16848","<p>Is there a package that contains Levenshtein distance counting function which is implemented as a C or Fortran code? I have many strings to compare and <code>stringMatch</code> from <code>MiscPsycho</code> is too slow for this.</p>
","370756","","202229","Roger Pate","2016-08-01 21:34:13","2020-03-08 09:24:43","Fast Levenshtein distance in R?","<r><performance><packages><levenshtein-distance><stringdist>","4","0","8","","","CC BY-SA 2.5","3182091","4452","4452","r","404559","3625322","3607736","",""
"3183596","1","3183747","","2010-07-06 05:02:22","","2","2132","<p>I have a data that looks like this:</p>

<pre><code>for_y_axis &lt;-c(0.49534,0.80796,0.93970,0.99998)
for_x_axis &lt;-c(1,2,3,4)
count      &lt;-c(0,33,0,4)
</code></pre>

<p>What I want to do is to plot the graph using <code>for_x_axis</code> and <code>for_y_axis</code>
but will mark the point with ""o"" if the <code>count</code> value is equal to 0(zero) and
with ""x"" if the <code>count</code> value is greater than zero.</p>

<p>Is there a simple way to achieve that in R?</p>
","67405","","67405","","2010-07-06 05:07:28","2010-07-06 05:38:19","How to Plot With Different Marker ( 'x' and 'o') Based on Condition in R","<linux><unix><r><statistics>","2","0","","","","CC BY-SA 2.5","3183596","4452","4452","r","404559","3625322","3607736","",""
"3183639","1","3184416","","2010-07-06 05:13:52","","2","710","<p>Good afternoon,</p>

<p>After computing a rather large vector (a bit shorter than 2^20 elements), I have to store the result in a database.</p>

<p>The script takes about 4 hours to execute with a simple code such as :</p>

<pre><code>#Do the processing
myVector&lt;-processData(myData)
#Sends every thing to the database
lapply(myVector,sendToDB)
</code></pre>

<p>What do you think is the most efficient way to do this?</p>

<p>I thought about using the same query to insert multiple records (multiple inserts) but it simply comes back to ""chucking"" the data.</p>

<p>Is there any vectorized function do send that into a database?</p>

<p>Interestingly, the code takes a huge amount of time before starting to process the first element of the vector. That is, if I place a <code>browser()</code> call inside <code>sendToDB</code>, it takes 20 minutes before it is reached for the first time (and I mean 20 minutes without taking into account the previous line processing the data). So I was wondering what R was doing during this time?</p>

<p>Is there another way to do such operation in R that I might have missed (parallel processing maybe?)</p>

<p>Thanks! </p>

<p>PS: here is a skelleton of the sendToDB function:</p>

<pre><code>sendToDB&lt;-function(id,data) {
  channel&lt;-odbcChannel(...)
  query&lt;-paste(""INSERT INTO history VALUE("",id,"",\"""",data,""\"")"",sep="""")
  sqlQuery(channel,query)
  odbcClose(channel)
}
</code></pre>

<p>That's the idea.</p>

<p><strong>UPDATE</strong></p>

<p>I am at the moment trying out the <code>LOAD DATA INFILE</code> command.</p>

<p>I still have no idea why it takes so long to reach the internal function of the <code>lapply</code> for the first time.</p>

<p><strong><em>SOLUTION</em></strong></p>

<p><code>LOAD DATA INFILE</code> is indeed much quicker. Writing into a file line by line using <code>write</code> is affordable and <code>write.table</code> is even quicker.</p>

<p>The overhead I was experiencing for <code>lapply</code> was coming from the fact that I was looping over <code>POSIXct</code> objects. It is much quicker to use <code>seq(along.with=myVector)</code> and then process the data from within the loop.</p>
","295307","","295307","","2010-07-09 03:38:28","2010-07-09 03:38:28","Sending huge vector to a Database in R","<optimization><r>","3","3","","","","CC BY-SA 2.5","3183639","4452","4452","r","404559","3625322","3607736","",""
"3184017","1","3184064","","2010-07-06 06:36:21","","3","176","<p>Suppose I have two vectors of same dimensions:</p>

<pre><code>x &lt;-c(0.49534,0.80796,0.93970,0.99998)
count      &lt;-c(0,33,0,4)
</code></pre>

<p>How can I group the vectors 'x' into two vectors: </p>

<ol>
<li>Vector <code>grzero</code> that contain value in x with <code>count</code> value greater than 0 and </li>
<li>Vector <code>eqzero</code> with value in x with <code>count</code> value equal to zero.</li>
</ol>

<p>Yielding </p>

<pre><code>&gt; print(grzero)
&gt; [1] 0.80796 0.99998
&gt; print(eqzero)
&gt; [1] 0.49534 0.93970
</code></pre>
","67405","","143319","","2010-07-06 17:33:22","2010-07-06 17:33:22","Binary Grouping in R","<r><statistics>","2","1","","","","CC BY-SA 2.5","3184017","4452","4452","r","404559","3625322","3607736","",""
"3185926","1","","","2010-07-06 11:54:52","","2","176","<p>when I load a library (with a <code>NAMESPACE</code>), the functions <code>.onLoad</code> and <code>.onAttach</code> are called, as is <code>.onUnload</code> when I detach the library unloading the namespace.</p>

<p>I was wondering whether R does define a way that would save me the work of detaching/unloading the library by hand in each of my scripts that use the <code>xxx</code> library.</p>

<p>for this I would need a <strong>library hook</strong> that is checked and invoked when a <strong>script</strong> using the library ends, if there is any such thing.  I didn't find it, and I always imagine there is a reason why things are there as well as why they are not.  </p>

<p>I understand, from the help files and from the comments, that there is a <code>.Last</code> <strong>script hook</strong> I can use, but I am looking for something similar to constructor/destructor: as soon as the library ""goes out of scope"" (because the script using it ends), the ""library destructor"" would be invoked.</p>

<hr>

<p>still in other words, I am wondering whether it is at all possible that a script with really only the two lines</p>

<pre><code>#!/usr/bin/Rscript
library(xxx)
</code></pre>

<p>and a library <code>xxx</code> with a <code>NAMESPACE</code> and a file <code>zzz.R</code> containing among other stuff this</p>

<pre><code>.onLoad &lt;- function(libpath, pkgname) {
  packageStartupMessage(""loading "", libpath, '::', pkgname)
}

.onUnload &lt;- function(pkgpath) {
  packageStartupMessage(""unloading "", pkgpath)
}
</code></pre>

<p>produces this output</p>

<pre><code>loading /usr/local/lib/R/site-library::xxx
unloading /usr/local/lib/R/site-library/xxx
</code></pre>

<p>or if I need to explicitly call <code>detach('package:NenS', unload=TRUE)</code> in each script using the library <code>xxx</code>.</p>
","78912","","805808","","2012-02-08 17:29:02","2012-02-08 17:29:02","does R define a (library) callback for session end?","<r><code-analysis>","1","2","1","","","CC BY-SA 2.5","3185926","4452","4452","r","404559","3625322","3607736","",""
"3186174","1","3186429","","2010-07-06 12:34:12","","2","1029","<p>I wish to know what type of objects I've got in my environment.</p>

<p>I can show who is there like this:</p>

<pre><code>ls()
</code></pre>

<p>But running something like</p>

<pre><code>sapply(ls(), class)
</code></pre>

<p>Would (obviously) not tell us what type (class) of objects we are having (function, numeric, factor and so on...)</p>

<p>using </p>

<pre><code>ls.str()
</code></pre>

<p>Will tell me what class my objects are, but I won't be able to (for example) ask for all the objects which are factors/data.frame/functions - and so on.</p>

<p>I can capture.output of ls.str(), but probably there is a smarter way - any idea what it is?</p>
","256662","","","","","2010-07-06 13:44:14","What class of objects are in the environment ? (R)","<class><r><object><types><environment>","2","0","1","","","CC BY-SA 2.5","3186174","4452","4452","r","404559","3625322","3607736","",""
"3188229","1","","","2010-07-06 16:33:03","","1","1588","<p>(This question might be too difficult, and maybe not worth the hassle to solve - however, if there is an easy solution - I would be curious to know)</p>

<p>Let's say I create an image (using the grid package) which looks like this:</p>

<pre><code>require(grid)
grid.newpage()
grid.polygon(x=c((0:4)/10, rep(.5, 5), (10:6)/10, rep(.5, 5)),
             y=c(rep(.5, 5), (10:6/10), rep(.5, 5), (0:4)/10),
             id=rep(1:5, 4),
             gp=gpar(fill=1:5))
</code></pre>

<p>But now, what if I wish to have some of the polygons only partially filled (let's say one will be 1/3 filled and another 1/2 filled and the other fully filled with color)  So it would look like partially filled glass of water.</p>

<p>I imagine it can be done when constructing the polygons, the question is, assuming I want something to calculate the new polygons only based on the proportions I give it - how can that be done.</p>

<p>The motivation for my question comes from wanting to present another layer of information on logo plots (see the function seqLogo in the package seqLogo)</p>

<p>Thanks.</p>
","256662","","134830","","2015-01-14 18:29:01","2015-01-14 18:29:01","{R grid}: how to create a polygon half filled with color?","<r><graphics><geometry><polygon><r-grid>","1","7","","","","CC BY-SA 2.5","3188229","4452","4452","r","404559","3625322","3607736","",""
"3188954","1","3188997","","2010-07-06 18:08:59","","3","1126","<p>In R, I would like to create a loop which takes the first 3000 columns of my data frame and writes them into one file, the  next 3000 columns into another file, and so on and so forth until all columns have been divided as such. What would be the best way to do this?  I understand there are the isplit and iterators functions available now via CRAN, but I am really unsure how to go about this.  Any suggestions please?</p>
","379465","","578411","","2017-01-12 14:06:10","2017-01-12 14:06:10","In R, how to create a loop to divide columns in a data frame","<r><loops><for-loop>","2","0","1","","","CC BY-SA 3.0","3188954","4452","4452","r","404559","3625322","3607736","",""
"3189538","1","3189798","","2010-07-06 19:29:27","","2","1023","<p>What if you want to apply a function other than <code>format</code> to a list of POSIXct objects?  For instance, say I want to take a vector of times, truncate those times to the hour, and apply an arbitrary function to each one of those times.</p>

<pre><code>&gt; obs.times=as.POSIXct(c('2010-01-02 12:37:45','2010-01-02 08:45:45','2010-01-09 14:45:53'))
&gt; obs.truncated=trunc(obs.times, units=""hours"")
&gt; obs.truncated
[1] ""2010-01-02 12:00:00 EST"" ""2010-01-02 08:00:00 EST""
[3] ""2010-01-09 14:00:00 EST""
</code></pre>

<p>Now, I would expect the length of <code>obs.truncated</code> to be 3 but</p>

<pre><code>&gt; length(obs.truncated)
[1] 9
</code></pre>

<p>So you can see that trying to <code>apply</code> a function to this vector is not going to work.  The class of <code>obs.truncated</code> is</p>

<pre><code>&gt; class(obs.truncated)
[1] ""POSIXt""  ""POSIXlt""
</code></pre>

<p>Any idea what is going on here?  <code>apply</code> and <code>length</code> appear to be taking the first element of the vector as its own list.</p>
","180348","","","","","2010-07-06 20:38:57","vector of POSIXct and sapply","<r><posixct><sapply>","1","3","","","","CC BY-SA 2.5","3189538","4452","4452","r","404559","3625322","3607736","",""
"3190087","1","3191378","","2010-07-06 20:45:10","","3","4536","<p>I've got a scatter plot. I'd like to scale the size of each point by its frequency. So I've got a frequency column of the same length. However, if I do:</p>

<pre><code>... + geom_point(size=Freq)
</code></pre>

<p>I get this error:</p>

<pre><code>When _setting_ aesthetics, they may only take one value. Problems: size
</code></pre>

<p>which I interpret as all points can only have 1 size. So how would I do what I want?</p>

<p>Update: data is <a href=""http://drop.io/txviuge/asset/new-data-csv"" rel=""nofollow noreferrer"">here</a>
The basic code I used is:</p>

<pre><code>dcount=read.csv(file=""New_data.csv"",header=T)
ggplot(dcount,aes(x=Time,y=Counts)) + geom_point(aes(size=Freq))
</code></pre>
","313163","","313163","","2010-07-06 23:52:00","2010-07-07 01:50:12","Why wont ggplot2 allow me to set a size for each individual point?","<r><ggplot2>","3","3","3","","","CC BY-SA 2.5","3190087","4452","4452","r","404559","3625322","3607736","",""
"3190118","1","","","2010-07-06 20:50:41","","22","10768","<p>I'm trying to figure out how to use <code>merge()</code> to update a database.</p>

<p>Here is an example.  Take for example the data frame <code>foo</code></p>

<pre><code>foo &lt;- data.frame(index=c('a', 'b', 'c', 'd'), value=c(100, 101, NA, NA))
</code></pre>

<p>Which has the following values</p>

<pre><code>index value
1     a   100
2     b   101
3     c    NA
4     d    NA
</code></pre>

<p>And the data frame <code>bar</code></p>

<pre><code>bar &lt;- data.frame(index=c('c', 'd'), value=c(200, 201))
</code></pre>

<p>Which has the following values:</p>

<pre><code> index value
1     c   200
2     d   201
</code></pre>

<p>When I run the following <code>merge()</code> function to update the values for <code>c</code> and <code>d</code></p>

<pre><code>merge(foo, bar, by='index', all=T)
</code></pre>

<p>It results in this output:</p>

<pre><code> index value.x value.y
1     a     100      NA
2     b     101      NA
3     c      NA     200
4     d      NA     201
</code></pre>

<p>I'd like the output of <code>merge()</code> to avoid the creation of, in this specific example, of <code>value.x</code> and <code>value.y</code> but only retain the original column of <code>value</code>  Is there a simple way of doing this?</p>
","142477","","","","","2019-02-07 07:13:59","how to use merge() to update a table in R","<r><merge>","6","5","4","","","CC BY-SA 2.5","3190118","4452","4452","r","404559","3625322","3607736","",""
"3190627","1","3191198","","2010-07-06 22:13:17","","5","13235","<p>I have a data frame in R with POSIXct variable sessionstarttime. Each row is identified by integer ID variable of a specified location . Number of rows is different for each location. I plot overall graph simply by:</p>

<pre><code>myplot &lt;- ggplot(bigMAC, aes(x = sessionstarttime)) + geom_freqpoly()
</code></pre>

<p>Is it possible to create a loop that will create and save such plot for each location separately?<br>
Preferably with a file name the same as value of ID variable?<br>
And preferably with the same time scale for each plot?</p>
","319487","","319487","","2010-07-06 22:21:10","2010-07-07 00:49:24","Loop in R to create and save series of ggplot2 plots with specified names","<r><loops><ggplot2>","2","0","3","","","CC BY-SA 2.5","3190627","4452","4452","r","404559","3625322","3607736","",""
"3190672","1","3190778","","2010-07-06 22:20:54","","2","1692","<p>Lately I have seen some cool examples of mapping in R and wanted to give this a shot.  I currently have ArcView at work, but my spatial join is not working correctly (most likely user error).</p>

<p>Objective:  I need a list of countries and what World Region they belong to.  I have two layers (one country detail, the other region detail) and wanted to join the world region assignment onto each country.  The join isn't working, so i figured I would come to the R community.</p>

<p>What are my options?  This is my first attempt at doing any mapping in R and maybe there is an easier/better solution.  Eventually I want to take lat/long data and map it as well.</p>

<p>Any insight will be much appreciated.</p>

<p>Brock</p>
","155406","","","","","2010-07-06 23:03:05","Map Data with R World Regions","<r><gis>","2","0","2","","","CC BY-SA 2.5","3190672","4452","4452","r","404559","3625322","3607736","",""
"3192688","1","","","2010-07-07 07:25:50","","3","1097","<p>I'm stuck with a simple loop that takes more than an hour to run, and need help to speed it up. </p>

<p>Basically, I have a matrix with 31 columns and 400 000 rows. The first 30 columns have values, and the 31st column has a column-number. I need to, per row, retrieve the value in the column indicated by the 31st column.</p>

<p>Example row: [26,354,72,5987..,461,3]  (this means that the value in column 3 is sought after (72))</p>

<p>The too slow loop looks like this:</p>

<pre><code>a &lt;- rep(0,nrow(data)) #To pre-allocate memory
for (i in 1:nrow(data)) {
   a[i] &lt;- data[i,data[i,31]]
}
</code></pre>

<p>I would think this would work:</p>

<pre><code>a &lt;- data[,data[,31]]
</code></pre>

<p>... but it results in ""Error: cannot allocate vector of size 2.8 Mb"".</p>

<p>I fear that this is a really simple question, so I've spent hours trying to understand apply, lapply, reshape, and more, but somehow I can't get a grip on the vectorization concept in R.</p>

<p>The matrix actually has even more columns that also go into the a-parameter, which is why I don't want to rebuild the matrix, or split it.</p>

<p>Your support is highly appreciated!</p>

<p>Chris</p>
","385254","","","","","2010-07-07 17:59:12","Return value from column indicated in same row","<r><loops><vectorization>","3","3","1","","","CC BY-SA 2.5","3192688","4452","4452","r","404559","3625322","3607736","",""
"3192791","1","3193207","","2010-07-07 07:45:40","","28","48213","<p>I want to get the indices of non zero elements in a matrix.for example</p>

<pre><code>X &lt;- matrix(c(1,0,3,4,0,5), byrow=TRUE, nrow=2);
</code></pre>

<p>should give me something like this</p>

<pre><code>row col
1    1
1    3
2    1
2    3
</code></pre>

<p>Can any one please tell me how to do that?</p>
","302058","","2040375","","2016-11-21 09:49:03","2016-11-21 09:49:03","find indices of non zero elements in matrix","<r>","2","0","11","","","CC BY-SA 3.0","3192791","4452","4452","r","404559","3625322","3607736","",""
"3195522","1","3195926","","2010-07-07 14:04:15","","24","21458","<p>Is there a simple way in R to extract only the text elements of an HTML page?</p>

<p>I think this is known as 'screen scraping' but I have no experience of it, I just need a simple way of extracting the text you'd normally see in a browser when visiting a url.</p>
","385607","","","","","2020-05-05 12:53:13","Is there a simple way in R to extract only the text elements of an HTML page?","<html><r><screen-scraping>","5","6","9","","","CC BY-SA 2.5","3195522","4452","4452","r","404559","3625322","3607736","",""
"3197330","1","3197367","","2010-07-07 17:33:48","","39","28976","<p>I am wondering how to use apply on a multidimensional array.  I have something like the following:</p>

<pre><code>A &lt;- array(0, c(2, 2, 5))
for(i in 1:5) {
  A[, , i] &lt;- matrix(rnorm(4), 2, 2)
}
</code></pre>

<p>I would like to take the average of those slices to get a single 2 by 2 matrix.  Any way I come up with is pretty kludgy.  </p>

<p>I was hoping to be able to use apply, like I would if I wanted the average say of the columns of a matrix:</p>

<pre><code>B &lt;- matrix(rnorm(10), 5, 2)
B.mean &lt;- apply(B, 2, mean)
</code></pre>

<p>But this doesn't seem to work the way I think it might with 3D arrays:</p>

<pre><code>A.mean &lt;- apply(A, 3, mean)
</code></pre>

<p>I appreciate your suggestions.</p>
","159687","","","","","2010-07-07 17:40:15","Using apply on a multidimensional array in R","<r>","1","0","7","","","CC BY-SA 2.5","3197330","4452","4452","r","404559","3625322","3607736","",""
"3197999","1","3198753","","2010-07-07 19:09:52","","7","4094","<p>I'm trying to order this dataframe by population and date, so I'm using the <code>order()</code> and <code>rank()</code> functions:</p>

<pre><code>&gt; df &lt;- data.frame(idgeoville = c(5, 8, 4, 3, 4, 5, 8, 8),
                   date       = c(rep(1950, 4), rep(2000, 4)),
                   population = c(500, 450, 350, 350, 650, 500, 500, 450))
&gt; df
   idgeoville date    population
1  5          1950     500
2  8          1950     450
3  4          1950     350
4  3          1950     350
5  4          2000     650
6  5          2000     500
7  8          2000     500
8  8          2000     450
</code></pre>

<p>With <code>ties.method = ""first""</code> I have no problem, finally I'm producing this dataframe:</p>

<pre><code>   idgeoville date    population  rank
1  5          1950     500        1
2  8          1950     450        2
3  4          1950     350        3
4  3          1950     350        4
5  4          2000     650        1
6  5          2000     500        2
7  8          2000     500        3
8  8          2000     450        4
</code></pre>

<p>But in fact, I want a dataframe with <strong>equal ranking for equal population rank</strong>, like this:</p>

<pre><code>   idgeoville date    population  rank
1  5          1950     500        1
2  8          1950     450        2
3  4          1950     350        3
4  3          1950     350        3
5  4          2000     650        1
6  5          2000     500        2
7  8          2000     500        2
8  8          2000     450        3
</code></pre>

<p>How can I resolve this problem with R? With a custom <code>ties.method()</code> or another R tricks?</p>
","385881","","1169233","","2014-04-24 13:35:10","2016-05-10 00:58:11","How I can create a new ties.method with the R rank() function?","<sorting><select><r><ranking><dataframe>","3","3","2","2017-05-12 08:31:21","","CC BY-SA 3.0","3197999","4452","4452","r","404559","3625322","3607736","",""
"3198111","1","3198566","","2010-07-07 19:24:46","","4","1926","<p>I want to use Random forests for attribute reduction. One problem I have in my data is that I don't have discrete class - only continuous, which indicates how example differs from 'normal'. This class attribute is a kind of distance from zero to infinity. 
Is there any way to use Random forest for such data? </p>
","296427","","172261","","2011-11-08 20:58:59","2011-11-08 20:58:59","How to use R Random forests to reduce attributes having no discrete classes?","<r><statistics><machine-learning><feature-selection><random-forest>","1","0","2","","","CC BY-SA 2.5","3198111","4452","4452","r","404559","3625322","3607736","",""
"3199914","1","","","2010-07-08 00:34:13","","2","1374","<p>I am using R. Take the dataset I created below for an example. I want to be able to separate <code>ip</code> by <code>"".""</code> while at the same time keeping the original row information in <code>color</code> and <code>status</code>.  I recognize that this will create a longer dataset, where entries for <code>color</code> and <code>status</code> will repeat themselves.</p>

<pre><code>a &lt;- data.frame(cbind(color=c(""yellow"",""red"",""blue"",""red""),
       status=c(""no"",""yes"",""yes"",""no""),
       ip=c(""162.131.58.26"",""2.131.58.16"",""2.2.58.10"",""162.131.58.17"")))
</code></pre>
","386127","","168747","","2011-01-24 15:48:23","2016-12-12 00:34:19","Difficult Problem in R. Split Character String of Dataset, but Maintain Information in other Columns","<r><split>","3","1","1","","","CC BY-SA 2.5","3199914","4452","4452","r","404559","3625322","3607736","",""
"3202347","1","3202585","","2010-07-08 09:44:21","","0","1151","<p>I need to plot a graph where the X values are all names -e.g. states of America</p>

<p>and the Y values are numberic and in descending order- e.g. population of the states of America.</p>

<p>Currently, when I use the plot function, it plots a graph but a) The Y values are not in descending order and b) the X Axis displays a bunch of ascending numbers, not the names of the states.</p>

<p>Thanks for the help.</p>

<p>EDIT:</p>

<p>I was using R's data sets: state.name and state.area</p>

<blockquote>
  <p><code>&gt;state.name</code></p>
</blockquote>

<pre><code>[1]""Alabama"" etc
</code></pre>

<blockquote>
  <p><code>&gt;state.area</code></p>
</blockquote>

<pre><code>[1] 51609 etc
</code></pre>

<p>my actual data is very similar so I was just playing around with those.</p>

<pre><code>Trial.Group   Mean Heart Rate      Upper Confidence Interval    Lower Confidence Interval
33subj-Male   80                    120                          70
</code></pre>
","380111","","380111","","2010-07-08 10:18:33","2010-07-08 14:09:10","putting text on the X Axis of Graphs","<r><graph>","2","4","","","","CC BY-SA 2.5","3202347","4452","4452","r","404559","3625322","3607736","",""
"3204223","1","3205660","","2010-07-08 13:49:45","","4","484","<p>I have an Excel file that I am trying to load into R using the odbcConnectExcel and sqlQuery commands from RODBC package. One of the columns has numerical values with plus or minus signs, such as '5+ or '3-. However, if i do something like,</p>

<pre><code>conn &lt;- odbcConnectExcel(""file.xls"")
sqlQuery(conn, ""SELECT * FROM `Sheet1$`"")
</code></pre>

<p>then the column with the plus and minus signs will be returned as a numerical column with those symbols stripped. Is there a way to have this column read in as a factor in which the signs are maintained? I would prefer to not have to convert the file to another format first.</p>

<p>Thanks.</p>
","233446","","","","","2010-07-08 16:46:42","Load Excel file to R while setting column equal to a factor","<r>","2","1","","","","CC BY-SA 2.5","3204223","4452","4452","r","404559","3625322","3607736","",""
"3205176","1","3453780","","2010-07-08 15:21:30","","1","461","<p>I have the following problem. 
I need to calculate the Shrout &amp; Fleiss ICC's for the situation in which items are judged by a varying number of judges. For example, the competitive nature of an industry is judged for a set of industries, but with a different number of judges per industry. One industry is only judged by 2 judges, whereas the competitive nature of another industry can judged by up to 12 judges. I have used the ICC (package psych) and icc (package irr) functions for the determination of icc's, but it is unclear whether they can deal with a varying number of judges. Can anyone help me with this? How to calculate the S&amp;F icc's when the number of judges is variable? I would prefer to continue using R for this, but if this is better accomplished with anotherr software, I would like to get those suggestions as well.</p>

<p>Thanks, Peter Verbeet</p>
","386820","","","","","2010-08-10 21:55:48","icc's when the number of judges is not constant","<r><statistics>","1","1","1","","","CC BY-SA 2.5","3205176","4452","4452","r","404559","3625322","3607736","",""
"3205302","1","3205489","","2010-07-08 15:34:00","","38","4823","<p>...besides the fact that <strong><em>Rscript</em></strong> is invoked with <code>#!/usr/bin/env Rscript</code> and <strong><em>littler</em></strong> with <code>#!/usr/local/bin/r</code> (on my system) in first line of script file. I've found certain differences in execution speed (seems like <em>littler</em> is a bit slower). </p>

<p>I've created two dummy scripts, ran each 1000 times and compared average execution time.</p>

<p>Here's the Rscript file:</p>

<pre><code>#!/usr/bin/env Rscript

btime &lt;- proc.time()
x &lt;- rnorm(100)
print(x)
print(plot(x))
etime &lt;- proc.time()
tm &lt;- etime - btime
sink(file = ""rscript.r.out"", append = TRUE)
cat(paste(tm[1:3], collapse = "";""), ""\n"")
sink()
print(tm)
</code></pre>

<p>and here's the littler file:</p>

<pre><code>#!/usr/local/bin/r

btime &lt;- proc.time()
x &lt;- rnorm(100)
print(x)
print(plot(x))
etime &lt;- proc.time()
tm &lt;- etime - btime
sink(file = ""little.r.out"", append = TRUE)
cat(paste(tm[1:3], collapse = "";""), ""\n"")
sink()
print(tm)
</code></pre>

<p>As you can see, they are almost identical (first line and sink file argument differ). Output is <code>sink</code>ed to text file, hence imported in R with <code>read.table</code>. I've created bash script to execute each script 1000 times, then calculated averages.</p>

<p>Here's bash script:</p>

<pre><code>for i in `seq 1000`
do
./$1
echo ""####################""
echo ""Iteration #$i""
echo ""####################""
done
</code></pre>

<p>And the results are: </p>

<pre><code># littler script
&gt; mean(lit)
    user   system  elapsed 
0.489327 0.035458 0.588647 
&gt; sapply(lit, median)
   L1    L2    L3 
0.490 0.036 0.609 
# Rscript
&gt; mean(rsc)
    user   system  elapsed 
0.219334 0.008042 0.274017 
&gt; sapply(rsc, median)
   R1    R2    R3 
0.220 0.007 0.258 
</code></pre>

<p>Long story short: beside (obvious) execution-time difference, is there some other difference? More important question is: why should/shouldn't you prefer <em>littler</em> over <em>Rscript</em> (or vice versa)?</p>
","457898","","2372064","","2020-04-16 01:07:29","2020-04-16 01:07:29","Difference between Rscript and littler","<r><scripting><execution-time><littler>","1","2","10","","","CC BY-SA 2.5","3205302","4452","4452","r","404559","3625322","3607736","",""
"3206777","1","3206799","","2010-07-08 18:30:40","","30","9533","<p>I have several custom functions that I use frequently in R. Rather than souce this file (or parts thereof) in each script, is there some way to add this to a base R file such that they are always available when I use R?</p>
","313163","","","","","2016-02-20 10:47:38","Where in R do I permanently store my custom functions?","<r>","5","0","11","","","CC BY-SA 2.5","3206777","4452","4452","r","404559","3625322","3607736","",""
"3209463","1","3209520","","2010-07-09 02:45:44","","11","11490","<p>This is my first time using a 3 dimensional array and I am having problems about naming the third dimension.</p>

<pre><code>ReplicateData &lt;- array(0, c(240, 500, 5), dimnames=list(NULL, NULL, c(""Returns"", ""Replicates"", ""Asset Class"")))
</code></pre>

<p>I am getting the error:</p>

<blockquote>
  <p>Length of dimnames not equal to array extent</p>
</blockquote>

<p>This seems like it should be a simple issue but I can't find an explicit example in the help docs or online.</p>
","376239","","202229","","2017-02-10 12:06:07","2017-02-10 12:06:07","Naming array dimensions gives error: length of 'dimnames' not equal to array extent","<arrays><r><dimensions><names>","2","0","2","","","CC BY-SA 3.0","3209463","4452","4452","r","404559","3625322","3607736","",""
"3209761","1","3211208","","2010-07-09 04:09:00","","2","6439","<p>I have <code>X</code>, a three-dimensional array in R. I want to take a vector of indices <code>indx</code> (length equal to <code>dim(X)[1]</code>) and form a matrix where the first row is the first row of <code>X[ , , indx[1]]</code>, the second row is the second row of <code>X[ , , indx[2]]</code>, and so on.</p>

<p>For example, I have:</p>

<pre><code>R&gt; X &lt;- array(1:18, dim = c(3, 2, 3))
R&gt; X
, , 1

     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6

, , 2

     [,1] [,2]
[1,]    7   10
[2,]    8   11
[3,]    9   12

, , 3

     [,1] [,2]
[1,]   13   16
[2,]   14   17
[3,]   15   18

R&gt; indx &lt;- c(2, 3, 1)
</code></pre>

<p>My desired output is</p>

<pre><code>R&gt; rbind(X[1, , 2], X[2, , 3], X[3, , 1])
     [,1] [,2]
[1,]    7   10
[2,]   14   17
[3,]    3    6
</code></pre>

<p>As of now I'm using the inelegant (and slow) <code>sapply(1:dim(X)[2], function(x) X[cbind(1:3, x, indx)])</code>.  Is there any way to do this using the built-in indexing functions?  I had no luck experimenting with the matrix indexing methods described in <code>?Extract</code>, but I may just be doing it wrong.</p>
","143383","","","","","2011-06-07 18:53:23","Form matrix from rows in 3-dimensional array","<r>","3","1","","","","CC BY-SA 2.5","3209761","4452","4452","r","404559","3625322","3607736","",""
"3210841","1","3214436","","2010-07-09 08:01:32","","2","585","<p>I am trying to convert a uncommon date format into a standard date. Basically I have a dataset that contains a period with semiannual frequency formatted like: 206 denoting the second half of 2006, 106 denoting the first half and so forth. In order to rearrange it to 2006-06-01 respectively 2006-01-01, i have written a small function: </p>

<pre><code>period2date = function(period)
{
check=list()
check=strsplit(as.character(period),split="""")
x=as.numeric(check[[1]][1])
p=ifelse( x &gt;= 2,6,1)
x=2

out=paste(x,""0"",check[[1]][2],check[[1]][3],""-"",p,""-1"",sep="""")
out=as.Date(out)


return(out)    
}
</code></pre>

<p>you may laugh now :) . Anyway, that function works and here comes the problem. I want to apply this function to the time column of data.frame. I tried the following:</p>

<pre><code>as.data.frame(lapply(mydf$period,period2date)) 
</code></pre>

<p>which returned the result closest to what I want:
structure.13665..class....Date..
1                       2006-06-01</p>

<p>and so forth.. obviously id love to keep the name of my column or even better just add the newly formatted date to my original df. Plus I tried:</p>

<pre><code>sapply(mydf$period,period2date) # with results equal to the line below
unlist(lapply(mydf$period,period2date))
</code></pre>

<p>[1] 13300 13514 13665</p>

<p>All I want to do is change the uncommon 206 etc. format to 2006-06-01 (which works) and add a column to mydf (which does not work) </p>

<p>thx for any suggestions in advance!</p>
","366256","","","","","2010-07-09 16:04:20","How to replace a column in R? strange behavior with dates","<r><dataframe><lapply>","2","0","1","","","CC BY-SA 2.5","3210841","4452","4452","r","404559","3625322","3607736","",""
"3212167","1","","","2010-07-09 11:31:39","","7","9558","<p>I am trying to generate random pairs from 34 subjects for an experiment.  Subjects will be assigned ID #'s 1-34.  To generate the random ordered numbers (1-34) I used the following code:</p>

<pre><code>  ### Getting a vector of random ordered numbers 1-34###
  pairs&lt;-sample(1:34,34,replace=F)
  pairs
  [1] 16 22  8 13  4 25 18 12 17  5  6 31 29 27 30 23  2 14  9 24 34 21 11  
    3  1 28 33 20 32 26 19 10 15  7
</code></pre>

<p>What I would like to do is to take this random ordering of numbers and split every other element of the vector into a column so that I get the following ordered pairs:</p>

<pre><code>   partner1     partner2
    16           22
     8           13
     .            .
     .            .
    15            7
</code></pre>

<p>Thoughts or ideas on how to go from the vector to the ordered pairs?  Any help or insight would be much appreciated.</p>

<p>-Thomas</p>
","325630","","37751","","2010-07-09 14:04:12","2010-07-09 15:33:15","How do I split a vector into two columns to create ordered pairs for random assignment","<r><vector><split><sample>","4","1","1","","","CC BY-SA 2.5","3212167","4452","4452","r","404559","3625322","3607736","",""
"3212540","1","3212852","","2010-07-09 12:28:50","","6","357","<p>When debugging a function I usually use </p>

<pre><code>library(debug)
mtrace(FunctionName)
FunctionName(...)
</code></pre>

<p>And that works quite well for me.</p>

<p>However, sometimes I am trying to debug a complex function that I don't know.  In which case, I can find that inside that function there is another function that I would like to ""go into"" (""debug"") - so to better understand how the entire process works.</p>

<p>So one way of doing it would be to do:</p>

<pre><code>library(debug)
mtrace(FunctionName)
FunctionName(...)
# when finding a function I want to debug inside the function, run again:
mtrace(FunctionName.SubFunction)
</code></pre>

<p>The question is - <strong>is there a better/smarter way to do interactive debugging (as I have described) that I might be missing?</strong></p>

<p>p.s: I am aware that there where various questions asked on the subject on SO (see <a href=""https://stackoverflow.com/search?q=[r]+debugging"">here</a>).  Yet I wasn't able to come across a similar question/solution to what I asked here.</p>
","256662","","-1","","2017-05-23 11:55:16","2010-07-16 05:49:18","Recommendations for ""Dynamic/interactive"" debugging of functions in R?","<debugging><r>","3","0","3","","","CC BY-SA 2.5","3212540","4452","4452","r","404559","3625322","3607736","",""
"3215783","1","3215843","","2010-07-09 19:08:48","","4","4361","<p>I am trying to parse the XML file in R, so that I can analysis the data. I am trying to get the mean and standard deviation of the price. Also I would like to be able to get the rate of change in the time of the share price changing. I have tried entering the data by hand but am having problems with the date structure ( I have tried the following: </p>

<pre><code>z &lt;- strptime (""HH:MM:SS.ms, ""%H:%m:%S.%f"")
</code></pre>

<p>but it failed to work). I know the XML file only has a small few numbers but is it a process that could be automated and if so what packages would I need? (I am new to R). Any help would be much appreciated.</p>

<p>Thanks,
Anthony.  </p>

<pre><code>&lt;?xml version = ""1.0""?&gt;
    &lt;Company &gt;
    &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:00:01&lt;/timeStamp&gt;
    &lt;Price&gt;  25.02&lt;/Price&gt;
    &lt;/shareprice&gt;



    &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:00:02&lt;/timeStamp&gt;
    &lt;Price&gt;  15&lt;/Price&gt;
    &lt;/shareprice&gt;



    &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:00:025&lt;/timeStamp&gt;
    &lt;Price&gt;  15.02&lt;/Price&gt;
    &lt;/shareprice&gt;



    &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:00:031&lt;/timeStamp&gt;
    &lt;Price&gt;  18.25&lt;/Price&gt;
    &lt;/shareprice&gt;



    &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:00:039&lt;/timeStamp&gt;
    &lt;Price&gt;  18.54&lt;/Price&gt;
    &lt;/shareprice&gt;



    &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:00:050&lt;/timeStamp&gt;
    &lt;Price&gt; 16.52&lt;/Price&gt;
    &lt;/shareprice&gt;


   &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:01:01&lt;/timeStamp&gt;
    &lt;Price&gt;  17.50&lt;/Price&gt;
   &lt;/shareprice&gt;
&lt;/Company&gt;
</code></pre>
","386448","","","","","2010-07-09 20:01:00","How would I parse the XML file in R and carry out basic Statistics Analysis on the data","<xml><r>","2","0","6","","","CC BY-SA 2.5","3215783","4452","4452","r","404559","3625322","3607736","",""
"3216039","1","3216126","","2010-07-09 19:48:46","","2","873","<p>I have a long list of dates that i want to parse, they are in a dataframe (<code>the_dates</code>). I've loaded them into R (from a sqlite db) just fine, however, if i do <code>str(the_dates)</code> i get:</p>

<pre><code>'data.frame':   3968 obs. of  1 variable: 
</code></pre>

<p>somehow R treats this as a single variable, which is why i am having trouble converting into Date format - i found a workaround:</p>

<pre><code>as.Date(the_dates[1:3968,], ""%B %d, %Y"")
</code></pre>

<p>This works, but is obviously not optimal because I have to lookup the length manually (<code>length(the_dates)</code> returns <code>1</code>) -- any ideas what i am doing wrong?</p>

<p>Thanks!</p>
","264875","","","","","2010-07-09 19:59:17","Unexpected R dataframe problem","<r>","1","1","","","","CC BY-SA 2.5","3216039","4452","4452","r","404559","3625322","3607736","",""
"3220702","1","3221146","","2010-07-10 20:16:31","","10","4248","<p>I want to display the values of a 100% bar for each part of it.  Unfortunately I don't know how to do it. The graph should be in lattice because of the legend position (I tried it with ggplot2, but you can't show the legend in one row). I'm pleased about any suggestions or ideas. </p>

<pre><code>library(lattice)
data(postdoc, package = ""latticeExtra"")
colnames(postdoc) &lt;- c(""Legendtext 1"", ""2"", ""3"", ""4"", ""5"")
colorset &lt;- simpleTheme(col = c(rgb(166,27,30,maxColorValue = 255),
                                rgb(192,80,77,maxColorValue = 255), 
                                rgb(24,65,83,maxColorValue = 255),
                                rgb(60,143,167,maxColorValue = 255),
                                rgb(130,184,208,maxColorValue = 255)),
                                border = ""white"")
pl &lt;- barchart(prop.table(postdoc, margin = 1),
               par.settings = colorset,
               auto.key = list(columns = 5, space = ""bottom"",
                               cex = 0.8, size = 1.4, between = 0.2,
                               between.columns = 0.1, adj = 1))
</code></pre>
","388583","","172261","","2012-03-09 08:22:11","2019-08-01 17:05:48","display values in stacked lattice barchart","<graphics><r><lattice>","1","0","5","","","CC BY-SA 3.0","3220702","4452","4452","r","404559","3625322","3607736","",""
"3223303","1","","","2010-07-11 13:58:46","","2","2637","<p>I am a beginner of R.
I want to create a 3 dimensional array but I can not define the length of each dimension. 
I am analysing students' marks in a class. There are 10 classes but it has a different number of students. And ""Grade"" will be 100-90, 89-80, 79-70... until there will be any student who got the relevant marks.
I was going to use a couple of for-loops with the multiple array.
If I create a 3 dim array, </p>

<pre><code>arr&lt;-array(data, dim=c(??,??,??)), dimnames= list(""class"",""grade"",""average Marks"") )
</code></pre>
","388882","","","user4275591","2014-12-08 10:31:43","2014-12-08 10:31:43","create 3 dimensional array with different lengths","<arrays><r><grouping>","2","2","1","","","CC BY-SA 3.0","3223303","4452","4452","r","404559","3625322","3607736","",""
"3224394","1","3238615","","2010-07-11 19:43:09","","5","548","<p>I would like any advice on how to create and visualize a link map between blogs so to reflect the ""social network"" between them.</p>

<p>Here is how I am thinking of doing it:</p>

<ol>
<li>Start with one (or more) blog home page and collect all the links on that page</li>
<li>Remove all the links that are internal links (that is If I start from www.website.com.  Then I want to remove all the links from the shape ""www.website.com/***"").  But store all the external links.</li>
<li>Go to each of these links (assuming you haven't visited them already), and repeat step 1.</li>
<li>Continue until (let's say) X jumps from the first page.</li>
<li>Plot the data collected.</li>
</ol>

<p>I imagine that in order to do this in R, one would use RCurl/XML (Thanks Shane for your answer <a href=""http://metaoptimize.com/qa/questions/995/mapping-the-link-network-between-websites-blogs"" rel=""nofollow noreferrer"">here</a>), combined with something like <code>igraph</code>.</p>

<p>But since I don't have experience with either of them, is there someone here that might be willing to correct me if I missed any important step, or attach any useful snippet of code to allow this task?</p>

<p>p.s: My motivation for this question is that in a week I am giving a talk on useR 2010 on ""blogging and R"", and I thought this might be a nice way to both give something fun to the audience and also motivate them to do something like this themselves.</p>

<p>Thanks a lot!</p>

<p>Tal</p>
","256662","","3768871","","2019-07-05 19:56:01","2019-07-05 19:58:26","Mapping the link network between blogs using R?","<r><blogs><social-networking><social-graph>","2","0","0","","","CC BY-SA 4.0","3224394","4452","4452","r","404559","3625322","3607736","",""
"3224494","1","","","2010-07-11 20:18:42","","7","5532","<p>Suppose I have a large list of objects (thousands or tens of thousands), each of which is tagged with a handful of tags.
There are dozens or hundreds of possible tags and their usage follows a typical power law:
some tags are used extremely often but most are rare.
All but the most frequent couple dozen tags could typically be ignored, in fact.</p>

<p>Now the problem is how to visualize the relationship between these tags.
A tag cloud is a nice visualization of just their frequencies but it ignores which tags occur with which other tags.
Suppose tag :bar only occurs on objects also tagged :foo.
That should be visually apparent.
Similarly for three tags that tend to occur together.</p>

<p>You could make each tag a bubble and let them partially overlap with each other.
Technically that's a Venn diagram but treating it that way might be unwieldy.
For example, Google charts can create Venn diagrams, but only for 3 or fewer sets (tags):
<a href=""http://code.google.com/apis/chart/docs/gallery/venn_charts.html"" rel=""nofollow noreferrer"">http://code.google.com/apis/chart/docs/gallery/venn_charts.html</a><br>
The reason they limit it to 3 sets is that any more and it looks horrendous.
See ""extentions to higher numbers of sets"" on the Wikipedia page:  <a href=""http://en.wikipedia.org/wiki/Venn_diagrams"" rel=""nofollow noreferrer"">http://en.wikipedia.org/wiki/Venn_diagrams</a></p>

<p>But that's only if every possible intersection is non-empty.
If no more than 3 tags ever co-occur (maybe after throwing out the rare tags) then a collection of Venn diagrams could work (with the sizes of the bubbles representing tag frequency).</p>

<p>Or perhaps a graph (as in vertices and edges) with visually thicker or thinner edges to represent frequency of co-occurrence.</p>

<p>Do you have any ideas, or pointers to tools or libraries?
Ideally I'd do this with javascript but I'm open to things like R and Mathematica or really anything else.
I'm happy to share some actual data (you'll laugh if I tell you what it represents) if anyone is curious.</p>

<p><strong>Addendum</strong>: The application I originally had in mind was <a href=""http://tagti.me"" rel=""nofollow noreferrer"">TagTime</a> but it occurs to me that this also maps well to the problem of visualizing one's delicious bookmarks.</p>
","4234","","4234","","2011-05-23 17:01:25","2019-08-01 23:09:35","Data visualization: Bubble charts, Venn diagrams, and tag clouds (oh my!)","<javascript><r><charts><visualization><data-visualization>","4","2","4","","","CC BY-SA 3.0","3224494","4452","4452","r","404559","3625322","3607736","",""
"3224731","1","3229036","","2010-07-11 21:44:39","","7","3855","<p>I'm searching the John Tukey algorithm which compute a ""resistant line"" or ""median-median line"" on my linear regression with R.</p>

<p>A student on a mailling list explain this algorithm in these terms : </p>

<blockquote>
  <p>""The way it's calculated is to divide
  the data into three groups, find the
  x-median and y-median values (called
  the summary point) for each group, and
  then use those three summary points to
  determine the line.  The outer two
  summary points determine the  slope,
  and an average of all of them
  determines the intercept.""</p>
</blockquote>

<p>Article about John tukey's median median for curious : <a href=""http://www.johndcook.com/blog/2009/06/23/tukey-median-ninther/"" rel=""noreferrer"">http://www.johndcook.com/blog/2009/06/23/tukey-median-ninther/</a></p>

<p>Do you have an idea of where i could find this algorithm or R function ? In which packages,
Thanks a lot !</p>
","385881","","","","","2014-12-19 17:18:37","John Tukey ""median median"" (or ""resistant line"") statistical test for R and linear regression","<algorithm><function><r><testing><linear-regression>","3","1","3","","","CC BY-SA 2.5","3224731","4452","4452","r","404559","3625322","3607736","",""
"3224817","1","3224938","","2010-07-11 22:14:59","","9","3424","<p>I am new to stackoverflow and fairly new to R but have searched long and hard and cannot find an answer to the following question.</p>

<p>I have a number of data files that are temperature against a time series. I am importing the CSV as a ZOO object then converting to XTS. A correct file looks like this, with readings on the hour and the half hour:</p>

<pre><code>&gt;head(master1)
                       S_1
2010-03-03 00:00:00 2.8520
2010-03-03 00:30:00 2.6945
2010-03-03 01:00:00 2.5685
2010-03-03 01:30:00 2.3800
2010-03-03 02:00:00 2.2225
2010-03-03 02:30:00 2.0650
</code></pre>

<p>But the time value on some are slightly out - i.e. 23:59:00 not 00:00:00, or 00:29:00 instead of 00:30:00.</p>

<pre><code>&gt;head(master21)
                       S_21
2010-03-04 23:59:00  -0.593
2010-03-05 00:29:00  -0.908
2010-03-05 00:59:00  -1.034
2010-03-05 01:29:00  -1.223
2010-03-05 01:59:00  -1.349
2010-03-05 02:29:00  -1.538
</code></pre>

<p>I want to correct these time series, as the minute difference is not important for my analysis and I ultimately want to merge the files, so each timeseries needs to have the same timing.</p>

<p>I want a command that can just say ""shift the time series forward by 1 minute, but don't alter the data column (e.g. S_21).
I have had some luck with <code>gsub()</code> on easier changes, and contemplated a complex regex to change the data before it is converted to ZOO or XTS. I have read about <code>lag()</code> and <code>diff()</code> but they seem to move the data values relative to the time series; please correct me if I am wrong.</p>

<p>Any help solving this issue would be much appreciated.</p>
","389065","","271616","","2011-08-13 17:55:55","2011-08-13 17:55:55","How can I alter a time series (XTS or ZOO) in R?","<r><time-series><xts><zoo>","1","0","","","","CC BY-SA 2.5","3224817","4452","4452","r","404559","3625322","3607736","",""
"3225554","1","","","2010-07-12 02:43:16","","6","778","<p>HI All, 
I'm new to R.</p>

<p>I have two panel data files, with columns ""id"", ""date"" and ""ret""</p>

<p>file A has a lot more data than file B,
but i'm primarily working with file B data.</p>

<p>Combination of ""id"" and ""date"" is unqiue indentifier. </p>

<p>Is there an elegent way of looking up for each (id, date) in B, I need to get the past 10 days ret from file A, and store them back into B?</p>

<p>my naive way of doing it is to loop for all rows in B,</p>

<pre><code>for i in 1:length(B) {
    B$past10d[i] &lt;- prod(1+A$ret[which(A$id == B$id[i] &amp; A$date &gt; B$date[i]-10 &amp; A$date &lt; B$date[i])])-1
}
</code></pre>

<p>but the loops takes forever. </p>

<p>Really appreciate your thoughts.</p>

<p>Thank you very much.</p>
","389144","","376454","","2010-09-24 21:28:01","2016-04-06 06:23:46","how to avoid loops","<r><loops><vectorization>","7","3","","","","CC BY-SA 2.5","3225554","4452","4452","r","404559","3625322","3607736","",""
"3226821","1","3228123","","2010-07-12 08:17:37","","1","1102","<p>I got help parsing the following XML file on this site:</p>

<pre><code>&lt;?xml version = ""1.0""?&gt;
    &lt;Company &gt;
   &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:00.01&lt;/timeStamp&gt;
    &lt;Price&gt;  25.02&lt;/Price&gt;
   &lt;/shareprice&gt;

   &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:00.02&lt;/timeStamp&gt;
    &lt;Price&gt;  15&lt;/Price&gt;
   &lt;/shareprice&gt;



   &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:00.025&lt;/timeStamp&gt;
    &lt;Price&gt;  15.02&lt;/Price&gt;
    &lt;/shareprice&gt;



    &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:00.031&lt;/timeStamp&gt;
    &lt;Price&gt;  18.25&lt;/Price&gt;
&lt;/shareprice&gt;



  &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:00.039&lt;/timeStamp&gt;
    &lt;Price&gt;  18.54&lt;/Price&gt;
  &lt;/shareprice&gt;



   &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:00.050&lt;/timeStamp&gt;
    &lt;Price&gt; 16.52&lt;/Price&gt;
  &lt;/shareprice&gt;


    &lt;shareprice&gt;
    &lt;timeStamp&gt; 12:00:01.01&lt;/timeStamp&gt;
    &lt;Price&gt;  17.50&lt;/Price&gt;
    &lt;/shareprice&gt;
&lt;/Company&gt;
</code></pre>

<p>I am using the following code in R to try and plot the data to get the share price on the Y axis and the timestamp on the x axis:</p>

<pre><code>library (XML)
test.df &lt;- xmlToDataFrame(""c:/Users/user/Desktop/shares.xml"")
test.df
attach(test.df)
mean(as.numeric(Price))
sd (as.numeric(Price)) 
plot(timeStamp,as.numeric(Price))
</code></pre>

<p>However the resulting plot is not what I expect. It returns the Time stamps on the x axis but the y axis is numbered from 1 - 7. Is there something I should be doing to alter the data set either in R or the XML file itself?</p>
","386448","","","","","2010-07-12 11:38:24","Plotting Data from XML that has Timestamps on the X-axis","<xml><r>","2","0","","","","CC BY-SA 2.5","3226821","4452","4452","r","404559","3625322","3607736","",""
"3231859","1","3234994","","2010-07-12 20:08:39","","1","5736","<p>I have two questions concerning customizing a barchart in lattice. I tried to add labels to the barchart respectively edit the scale, but my code doesn't work. What I'm doing wrong? There should be some values including ""%"".</p>

<p>The second question is how lines can be drawn between the top and the bottom of the plotting area behind the bars and located at the printed scale values. Thank you for any suggestions and help, Sebastian.</p>

<p>Here is the code:</p>

<pre><code>library(lattice)
library(plyr)
data(postdoc, package=""latticeExtra"")
colnames(postdoc) &lt;- c(""Legendtext 1"", ""2"", ""3"", ""4"", ""5"")
colors &lt;- c(rgb(166,27,30,maxColorValue = 255),                             
        rgb(192,80,77,maxColorValue = 255),
        rgb(24,65,83,maxColorValue = 255),
        rgb(60,143,167,maxColorValue = 255),
        rgb(130,184,208,maxColorValue = 255))
colorset &lt;- simpleTheme(col=colors,                                          
                    border=""white"")
data.p &lt;- prop.table(postdoc, margin=1)
data &lt;- data.p * 100
pl &lt;- barchart(data,
           par.settings = colorset,                                      
           box.ratio = 1,                                                
           xlab = "" "",                                                   
           panel = function(...) {   # Code for panel function by rcs (http://stackoverflow.com/questions/3220702/display-values-in-stacked-lattice-barchart-r) - thank you very much!
             panel.barchart(...) 
             tmp &lt;- list(...)
             tmp &lt;- data.frame(x=tmp$x, y=tmp$y)
             # calculate positions of text labels                        
             df &lt;- ddply(tmp, .(y),
                         function(x) {
                           data.frame(x, pos=cumsum(x$x)-x$x/2)
                         })
             panel.text(x=df$pos, y=df$y,                                
                        label=sprintf(""%.0f"", df$x),                     
                        cex=0.7, col=""white"")
             panel.axis(side = c(""bottom""),
                        at = list(0, 20, 50, 75, 100),
                        labels = list(""0%"", ""25%"", ""50%"", ""75%"", ""100%""),
                        ticks = TRUE)       
           },
           auto.key=list(columns=5, space=""bottom"",                          
                         cex=0.8, size=1.4, adj=1,
                         between=0.2, between.colums=0.1, 
                         size = 1.3, points = FALSE, rectangles = TRUE))
</code></pre>
","388583","","172261","","2010-07-13 07:30:50","2010-07-13 09:57:38","Adding lines and labels in lattice barchart [R]","<graphics><r><lattice>","1","0","","","","CC BY-SA 2.5","3231859","4452","4452","r","404559","3625322","3607736","",""
"3232557","1","3232770","","2010-07-12 21:51:09","","6","3125","<p>When I try to remove the last row from a single column data frame, I get a vector back instead of a data frame:</p>

<pre><code>&gt; df = data.frame(a=1:10)
&gt; df
    a
1   1
2   2
3   3
4   4
5   5
6   6
7   7
8   8
9   9
10 10

&gt; df[-(length(df[,1])),]
[1] 1 2 3 4 5 6 7 8 9
</code></pre>

<p>The behavior I'm looking for is what happens when I use this command on a two-column data frame:</p>

<pre><code>&gt; df = data.frame(a=1:10,b=11:20)
&gt; df
    a  b
1   1 11
2   2 12
3   3 13
4   4 14
5   5 15
6   6 16
7   7 17
8   8 18
9   9 19
10 10 20

&gt; df[-(length(df[,1])),]
  a  b
1 1 11
2 2 12
3 3 13
4 4 14
5 5 15
6 6 16
7 7 17
8 8 18
9 9 19
</code></pre>

<p>My code is general, and I don't know a priori whether the data frame will contain one or many columns. Is there an easy workaround for this problem that will let me remove the last row no matter how many columns exist?</p>
","152159","","","","","2010-07-12 22:28:40","Remove rows from a single-column data frame","<r><rows><subset><dataframe>","1","0","1","","","CC BY-SA 2.5","3232557","4452","4452","r","404559","3625322","3607736","",""
"3233438","1","3233450","","2010-07-13 00:55:31","","4","891","<p>I need to make HTTP POST commands using R. Are there any R http libraries that can do this?</p>
","337493","","143305","","2010-07-18 13:32:27","2019-06-13 14:56:52","Is there any HTTP library in R?","<r>","2","1","2","","","CC BY-SA 2.5","3233438","4452","4452","r","404559","3625322","3607736","",""
"3234571","1","3234617","","2010-07-13 06:03:54","","4","1107","<p>In a problem, I have a set of vectors. Each vector has sensor readings but are of different lengths. I'd like to compute the same descriptive statistics on each of these vectors. My question is, how should I store them in R. Using <code>c()</code> concatenates the vectors. Using <code>list()</code> seems to cause functions like <code>mean()</code> to misbehave. Is a data frame the right object?</p>

<p>What is the best practice for applying the same function to vectors if different sizes? Supposing the data resides in a SQL server, how should it be imported?</p>
","39584","","","","","2010-12-24 20:10:23","How to compute descriptive statistics on a set of differently sized vectors","<r>","4","0","3","","","CC BY-SA 2.5","3234571","4452","4452","r","404559","3625322","3607736","",""
"3234935","1","3237760","","2010-07-13 07:21:11","","7","6511","<p>I would like to know if there is a package in R handling non linear integer optimization.</p>

<p>""Basically"", I would like to solve the following problem:</p>

<p><code>max f(x) s.t x in (0,10) and x is integer</code>.</p>

<p>I know that some branching algorithms are able to handle the linear version of this problem, but here my function <code>f()</code> might be more complicated. (I can't even make sure it would be quadratic of the form <code>f(x)=xQx</code>).</p>

<p>I guess there is always the brute force solution to test all the possibilities as long as they are bounded, but I was wondering if there wasn't anything smarter.   </p>
","295307","","469680","","2017-02-13 12:10:16","2017-02-13 12:10:16","Non Linear Integer Programming","<r><mathematical-optimization><nonlinear-optimization>","4","9","2","","","CC BY-SA 3.0","3234935","4452","4452","r","404559","3625322","3607736","",""
"3236651","1","3236879","","2010-07-13 11:25:40","","4","8251","<p>I have a remote folder on a webserver containing data.
I access the data using:</p>

<p><code>myData &lt;-read.table(""http://.../myData.csv"", sep=',', header=T)</code></p>

<p>Is there a way to password protect the remote folder and enter the authorisation in the above command?</p>

<p>Thx.</p>
","390388","","","","","2010-07-13 13:28:54","read data from internet","<r>","2","0","1","","","CC BY-SA 2.5","3236651","4452","4452","r","404559","3625322","3607736","",""
"3237303","1","","","2010-07-13 12:49:37","","1","648","<p>I met with several people who are familiar with SPSS and would be reluctant to wade into R but might be encouraged to do so from the comfort of a GUI. Do any of the GUIs provide support for power calculations? I searched around for about 15 minutes and could not find anything to tell me that they could. Do you happen to know?</p>
","168139","","","","","2010-07-14 03:43:51","Do any of the R GUI assist with power calculations / analysis?","<user-interface><r>","4","0","1","","","CC BY-SA 2.5","3237303","4452","4452","r","404559","3625322","3607736","",""
"3238001","1","3238723","","2010-07-13 14:11:02","","0","774","<p>This is a follow on from my last question relating to plotting timestamps in R. I am using the same XML file. The question has been answered and is working except for the following command:</p>

<pre><code>qplot(timeStamp,Price,data=test.df,geom=c(""point"",""line""),color=""Measured"", shape=""Measured"",linetype=""Measured"", scale_y_continuous(limits = c(10,26)))
</code></pre>

<p>The problem is that the line is not shown on the graph, but the points are. I have searched online but there does not seem to be a solution. Is there other options / additional commands I need to get the line to display?</p>

<p>Sorry if this seems such a simple question but I am a total beginner and have found the people on this site to be extremely helpful and this has been very much appreciated.  </p>
","386448","","","","","2010-07-13 17:49:26","Using the qplot command the line does not show","<r>","2","0","","","","CC BY-SA 2.5","3238001","4452","4452","r","404559","3625322","3607736","",""
"3238242","1","3238446","","2010-07-13 14:36:52","","4","7887","<p>Given a matrix A (not neccessarily square) with independent columns, I was able to apply Gram-Schmidt iteration and produce an orthonormal basis for its columnspace (in the form of an orthogonal matrix Q) using Matlab's function <code>qr</code></p>

<pre><code>A=[1,1;1,0;1,2]

[Q,R] = qr(A)
</code></pre>

<p>and then</p>

<pre><code>&gt;&gt; Q(:,1:size(A,2))
ans =
  -0.577350269189626  -0.000000000000000
  -0.577350269189626  -0.707106781186547
  -0.577350269189626   0.707106781186547
</code></pre>

<p>You can verify that the columns are orthonormal </p>

<pre><code>Q(:,1)'*Q(:,2) equals zero and

norm(Q(:,1)) equals norm(Q(:,2)) equals 1
</code></pre>

<p>Given a matrix that has independent columns (like A), is there a function in R that produces the (Gram-Schmidt) orthogonal matrix Q ?. R's <code>qr</code> function doesn't produce an orthogonal Q.</p>
","170792","","","","","2013-03-20 02:28:37","Gram-Schmidt orthogonalization","<r><linear-algebra>","2","0","1","","","CC BY-SA 2.5","3238242","4452","4452","r","404559","3625322","3607736","",""
"3241539","1","3241573","","2010-07-13 21:08:39","","10","9706","<p>When I loaded package <code>debug</code> to debug a script with <code>zoo</code> objects, I got trouble: function <code>index</code> from <code>zoo</code> got masked by <code>debug</code> package.  How can I unmask <code>index</code>? In general, how to deal with these name colliding problems? We just do not use <code>debug</code> package with `zoo'?</p>
","305669","","202229","","2019-02-13 19:53:04","2019-02-13 19:53:04","How to unmask a function in R, due to name collisions on searchpath","<r><package><search-path><name-collision>","3","0","3","","","CC BY-SA 4.0","3241539","4452","4452","r","404559","3625322","3607736","",""
"3241748","1","3241802","","2010-07-13 21:36:48","","3","1196","<p>RMysql's dbGetQuery converts BigInt to numeric types. This alters some of the values. How can I read the BigInt fields as strings instead of numeric?</p>
","337493","","37751","","2010-07-14 14:54:34","2010-07-14 14:54:34","Using RMysql's dbGetQuery in R, how do i coerce string data type on the result set?","<mysql><r>","1","1","","","","CC BY-SA 2.5","3241748","4452","4452","r","404559","3625322","3607736","",""
"3241868","1","","","2010-07-13 21:55:22","","3","4180","<p>I am trying to put multiple ggplot2 time series plots on a page using the gridExtra package's arrange() function. Unfortunately, I am finding that the x-axis labels get pushed together; it appears that the plot is putting the same number of x-axis labels as a full-page chart, even though my charts only take up 1/4 of a page. Is there a better way to do this? I would prefer not to have to manually set any points, since I will be dealing with a large number of charts that span different date ranges and have different frequencies.</p>

<p>Here is some example code that replicates the problem.</p>

<pre><code>dfm &lt;- data.frame(index=seq(from=as.Date(""2000-01-01""), length.out=100, by=""year""), 
    x1=rnorm(100), 
    x2=rnorm(100))
mydata &lt;- melt(dfm, id=""index"")

pdf(""test.pdf"")
plot1 &lt;- ggplot(mydata, aes(index, value, color=variable))+geom_line()
plot2 &lt;- ggplot(mydata, aes(index, value, color=variable))+geom_line()
plot3 &lt;- ggplot(mydata, aes(index, value, color=variable))+geom_line()
plot4 &lt;- ggplot(mydata, aes(index, value, color=variable))+geom_line()
arrange(plot1, plot2, plot3, plot4, ncol=2, nrow=2)
dev.off()
</code></pre>
","233446","","","","","2013-10-24 14:01:11","Date labels overlap when putting multiple ggplot plots on single page","<r><ggplot2>","2","0","2","","","CC BY-SA 2.5","3241868","4452","4452","r","404559","3625322","3607736","",""
"3241999","1","3242991","","2010-07-13 22:16:21","","1","686","<p>I'm trying to run apply a function to each row of a dataset. The function looks up matching rows in a second dataset and computes a similarity score for the product details passed to it.</p>

<p>The function works if I just call it with test numbers but I can't figure out how to run it on all rows of my dataset. I've tried using apply but can't get it working.</p>

<p>I'm going to be iterating different parameter settings to find those that best fit historical data so speed is important... meaning that a loop is out. Any help you can provide would be hugely appreciated.</p>

<p>Thanks! Alan</p>

<pre><code>GetDistanceTest &lt;- function(SnapshotDate, Cand_Type, Cand_Height, Cand_Age) {
    HeightParam &lt;- 1/5000
        AgeParam &lt;- 1
    Stock_SameType &lt;- HistoricalStock[!is.na(HistoricalStock$date) &amp; !is.na(HistoricalStock$Type) &amp; as.character(HistoricalStock$date)==as.character(SnapshotDate) &amp; HistoricalStock$Type==Cand_Type,]

    Stock_SameType$ED &lt;- (HeightParam*(Stock_SameType$Height - Cand_Height))^2 + (AgeParam*(Stock_SameType$Age - Cand_Age))^2

    return(sqrt(sum(Stock_SameType$ED)))

}

HistoricalStock &lt;- HistoricalAQStock[,c(1, 3, 4, 5)]
colnames(HistoricalStock) &lt;- c(""date"", ""Age"", ""Height"", ""Type"")
Sales &lt;- AllSales[,c(2,10,11,25)]
colnames(Sales) &lt;- c(""date"", ""Age"", ""Height"", ""Type"")

GetDistanceTest(""2010-04-01"", 5261, 12, 7523) #works and returns a single number

res1 &lt;- transform(Sales, ClusterScore=GetDistanceTest(date, Type, Height, Age))
        # returns Error in `$&lt;-.data.frame`(`*tmp*`, ""ED"", value = c(419776714.528591, 22321257.0276852,  :  replacement has 4060 rows, data has 54
    # also 4 warnings, one for each variable. e.g. 1: In as.character(HistoricalStock$date) == as.character(SnapshotDate) :  longer object length is not a multiple of shorter object length

res2 &lt;- apply(Sales, 1, GetDistanceTest, Sales$Type, Sales$Height, Sales$Age)
    # `$&lt;-.data.frame`(`*tmp*`, ""ED"", value = c(419648071.041523, 22325941.2704261,  : replacement has 4060 rows, data has 13
    # also same 4 warnings as res1
</code></pre>
","390973","","","","","2010-07-14 13:33:00","Avoiding Loop with R using Apply (?)","<r><loops>","3","0","","","","CC BY-SA 2.5","3241999","4452","4452","r","404559","3625322","3607736","",""
"3242085","1","3242098","","2010-07-13 22:33:02","","4","501","<p>I  tried using the paste command but it returns the same vector? </p>

<pre><code>x = c(""a"",""b"",""c"")
y = paste(x)
y
[1] ""a"" ""b"" ""c""
length(y)
[1] 3
</code></pre>

<p>I want a single character of ""abc""</p>
","337493","","37751","","2010-07-14 14:51:38","2010-07-14 14:51:38","How do concat a vector of character in R?","<r><concatenation>","1","0","","","","CC BY-SA 2.5","3242085","4452","4452","r","404559","3625322","3607736","",""
"3242670","1","","","2010-07-14 01:00:41","","2","992","<p>I am writing a data processing program in Python and R, bridged with Rpy2.</p>

<p>Input data being binary, I use Python to read data out and pass them to R, then collect results to output.</p>

<p>Data are organized into pieces, each being around 100 Bytes (1Byte per value * 100 values).</p>

<p>They just work now, but the speed is very low. Here are some of my test on 1GB size (that is, 10^7 pieces) of data:</p>

<p>If I disable Rpy2 calls to make a dry run, it takes about 90min for Python to loop all through on a Intel(R) Xeon(TM) CPU 3.06GHz using one single thread.</p>

<p>If I enable full functionality and multithreading on that Xeon dual core, it (will by estimation) take ~200hrs for the program to finish.</p>

<p>I killed the Python program several times the call stack is almost alwarys pointing to Rpy2 function interface. I also did profiling, which gives similar results.</p>

<p>All these observations indicates the R part called by Rpy2 is the bottleneck. So I profiled a standalone version of my R program, but the profiling summary points to ""Anonymous"". I am still pushing my way to see which part of my R script is the most time consuming one. ****updated, see my edit below*****</p>

<p>There are two suspicious candidates through, one being a continuous wavelets transformation (CWT) and wavelets transformation modulus maxima (WTMM) using wmtsa from cran[1], the other being a non-linear fitting of ex-gaussion curve.</p>

<p>What come to my mind are:</p>

<ol>
<li><p>for fitting, I could substitute R routing with inline C code? there are many fitting library available in C and fortran... (idea from the net; I never did that; unsure)</p></li>
<li><p>for wavelet algorithms.... I would have to analyze the wmtsa package to rewrite hotspots in C? .... reimplementing the entire wmtsa package using C or fortran would be very non-trivial for me. I have not much programming experience.</p></li>
<li><p>the data piece in file is organized in 20 consecutive Bytes, which I could map directly to a C-like char* array? at present my Python program just read one Byte at a time and append it to a list, which is slow. This part of code takes 1.5 hrs vs. ~200 hrs for R, so not that urgent.</p></li>
</ol>

<p>This is the first time I meet program efficiency in solving real problems . I STFW and felt overwhelmed by the informations. Please give me some advice for what to do next and how. </p>

<p>Cheers!</p>

<p>footnotes:</p>

<ol>
<li><a href=""http://cran.r-project.org/web/packages/wmtsa/index.html"" rel=""nofollow noreferrer"">http://cran.r-project.org/web/packages/wmtsa/index.html</a></li>
</ol>

<p><strong>* Update *</strong></p>

<p>Thanks to proftools from cran, I managed to create a call stack graph. And I could see that ~56% of the time are spent on wmtsa, code snippet is like:</p>

<pre><code>W &lt;- wavCWT(s,wavelet=""gaussian1"",variance=1/p) # 1/4
W.tree &lt;-wavCWTTree(W) # 1/2
holderSpectrum(W.tree) # 1/4
</code></pre>

<p>~28% of time is spent on nls:</p>

<pre><code>nls(y ~ Q * dexGAUS(x, m, abs(s), abs(n)) + B, start = list(Q = 1000, m = h$time[i], s = 3, n = 8, B = 0), algorithm=""default"", trace=FALSE)
</code></pre>

<p>where evaluation of dexGAUS from gamlss.dist package takes the majority of time.</p>

<p>remaining ~10% of R time are spent on data passing/split/aggregation/subset.</p>
","391057","","391057","","2010-07-14 06:15:11","2010-08-04 06:13:42","Python Rpy R data processing optimization","<python><r><rpy2>","2","6","1","","","CC BY-SA 2.5","3242670","4452","4452","r","404559","3625322","3607736","",""
"3245030","1","3245660","","2010-07-14 09:54:42","","0","1390","<p>This is a follow up question as hadley pointed out unless I fix the problem with the time stamps the graphs I produce would be incorrect. With this in mind I am working towards fixing the issues I am having with the code. So far I have from my earlier questions that have been answered stopped using the attach() function in favour of using dataSet.df$variableName 
I am having problems drawing the graph from the strptime time stamps. I will attach all the code I am using and the XML file from which the data set is parsed (This was also answered in an earlier question) from.</p>

<pre><code>&lt;?xml version = ""1.0""?&gt;
    &lt;Company &gt;
 &lt;shareprice&gt;
     &lt;timeStamp&gt; 12:00:00.01&lt;/timeStamp&gt;
     &lt;Price&gt;  25.02&lt;/Price&gt;
 &lt;/shareprice&gt;
 &lt;shareprice&gt;
     &lt;timeStamp&gt; 12:00:00.02&lt;/timeStamp&gt;
     &lt;Price&gt;  15&lt;/Price&gt;
 &lt;/shareprice&gt;
 &lt;shareprice&gt;
      &lt;timeStamp&gt; 12:00:00.025&lt;/timeStamp&gt;
      &lt;Price&gt;  15.02&lt;/Price&gt;
 &lt;/shareprice&gt;
 &lt;shareprice&gt;
      &lt;timeStamp&gt; 12:00:00.031&lt;/timeStamp&gt;
      &lt;Price&gt;  18.25&lt;/Price&gt;
 &lt;/shareprice&gt;
 &lt;shareprice&gt;
      &lt;timeStamp&gt; 12:00:00.039&lt;/timeStamp&gt;
      &lt;Price&gt;  18.54&lt;/Price&gt;
 &lt;/shareprice&gt;
 &lt;shareprice&gt;
       &lt;timeStamp&gt; 12:00:00.050&lt;/timeStamp&gt;
       &lt;Price&gt; 16.52&lt;/Price&gt;
 &lt;/shareprice&gt;
    &lt;shareprice&gt;
      &lt;timeStamp&gt; 12:00:01.01&lt;/timeStamp&gt;
      &lt;Price&gt;  17.50&lt;/Price&gt;
    &lt;/shareprice&gt;
  &lt;/Company&gt;
</code></pre>

<p>The R code I have currently is as follows:</p>

<pre><code>library(ggplot2)
library (XML)
test.df &lt;- xmlToDataFrame(""c:/Users/user/Desktop/shares.xml"")
test.df 
timeStampParsed &lt;- strptime(as.character(test.df$timeStamp), ""%H:%M:%OS"")
test.df$Price &lt;- as.numeric(as.character(test.df$Price))
summary (test.df)
mean(test.df$Price)
sd (test.df$Price)
mean(timeStampParsed)
par(mfrow=c(1,2))
plot(timeStampParsed, test.df$Price)
qplot(timeStampParsed,Price,data=test.df,geom=c(""point"",""line""), 
      scale_y_continuous(limits = c(10,26)))
</code></pre>

<p>The plot command produces a graph but it is not very pleasant looking. the qplot command returns the following error message:</p>

<pre><code>Error in sprintf(gettext(fmt, domain = domain), ...) : 
invalid type of argument[1]: 'symbol'
</code></pre>

<p>In the interest in getting this right (and cutting down on the questions being asked) is there a tutorial / website that I can use? Once again thanks very much for your help.</p>
","386448","","143305","","2010-07-14 11:53:49","2010-07-14 11:53:49","Time Stamps, Qplot and strptime in R","<r><ggplot2><timestamp>","1","0","","","","CC BY-SA 2.5","3245030","4452","4452","r","404559","3625322","3607736","",""
"3245862","1","3443955","","2010-07-14 12:05:57","","32","43715","<p>I want to format numbers in my reports to <a href=""http://en.wikipedia.org/wiki/Significant_digits"" rel=""noreferrer"">significant digits</a>, but keep trailing significant zeroes and correctly format large numbers</p>

<p>For instance the numbers c(10.00001,12345,1234.5,123.45,1.2345,0.12345) to 3 significant digits should be 10.0, 12300, 1230, 123,  1.23, 0.123 but I get differing results with different methods (and none seem to work universaly.</p>

<pre><code>&gt; numbers&lt;-c(10.00001,12345,1234.5,123.45,1.2345,0.12345)
&gt; for(n in seq(numbers)){
+   print(signif(numbers[n],digits=3))
+   print(format(numbers[n],digits=3))
+   print(formatC(numbers[n], digits=3,format=""fg""))
+   print(formatC(numbers[n], digits=3,format=""fg"", flag=""#""))
+   }
[1] 10
[1] ""10""
[1] ""  10""
[1] ""10.0""
[1] 12300
[1] ""12345""
[1] ""12345""
[1] ""12345.""
[1] 1230
[1] ""1234""
[1] ""1234""
[1] ""1234.""
[1] 123
[1] ""123""
[1] "" 123""
[1] ""123.""
[1] 12.3
[1] ""12.3""
[1] ""12.3""
[1] ""12.3""
[1] 1.23
[1] ""1.23""
[1] ""1.23""
[1] ""1.23""
[1] 0.123
[1] ""0.123""
[1] ""0.123""
[1] ""0.123""
</code></pre>

<p>Here, signif and format round the 10.00001 result.  formatC with flag=""#"" correctly does the small numbers but not the large numbers.</p>

<p>Is there a better way ?</p>
","74658","","","","","2016-03-31 17:48:30","Format numbers to significant figures nicely in R","<r>","6","4","9","","","CC BY-SA 2.5","3245862","4452","4452","r","404559","3625322","3607736","",""
"3246688","1","3246907","","2010-07-14 13:43:10","","6","18857","<p>I'm trying to use Sweave to generate a statistical report, and am trying to put a caption on an xtable, however if I include the percent symbol this breaks things.</p>

<p>Some example code</p>

<pre><code>&lt;&lt;label=Analyte2_Results, results=tex, echo=FALSE&gt;&gt;=
    print(xtable(result[[2]], caption=paste(levels(vardata$Analyte)[1],
                            "" percent bias and precision estimates with 95 \% confidence intervals"",sep="""")),
            tabular.environment='longtable',
            latex.environments=c(""center""), 
            floating=FALSE, 
            include.rownames=FALSE)
@
</code></pre>

<p>If I use % or \% then the Sweave process works but Latex doesn't, if I try \% then Sweave fails.  There doesn't seem to be an alternative way to specify a percent symbol in Latex</p>

<p>Is there a way to actually put a Percent symbol in the caption ?</p>
","74658","","","","","2010-07-14 14:04:26","How to include a Percent Symbol in an xtable caption using Sweave in R","<r><latex><sweave><xtable>","1","0","1","","","CC BY-SA 2.5","3246688","4452","4452","r","404559","3625322","3607736","",""
"3247178","1","3247489","","2010-07-14 14:33:56","","6","19839","<p>I have a problem using data from a tab delimited data file imported with <code>read.delim</code>.</p>

<p>Most of the columns contain numerical data which I need to do a <code>t.test</code> for. Unfortunately I always get this error:</p>

<pre><code>Error in if (stderr &lt; 10 * .Machine$double.eps * max(abs(mx), abs(my))) 
            stop(""data are essentiallyconstant"") :
missing value where TRUE/FALSE needed
In addition: Warning messages:
1: In mean.default(x) : argument is not numeric or logical: returning NA
2: In mean.default(y) : argument is not numeric or logical: returning NA
</code></pre>

<p>I noticed that this only happens with vectors that consist of different levels.
It won't even perform simple numerical operations like vector[1] + vector[2] for leveled vectors.
Vectors without levels work fine, though.</p>

<p>How can I use the data in the leveled vectors for calculation?</p>

<p>Thank you</p>
","391682","","60628","","2010-07-14 14:59:56","2018-08-02 12:26:59","R statistics: problem with simple column vector","<r><statistics>","3","1","","","","CC BY-SA 2.5","3247178","4452","4452","r","404559","3625322","3607736","",""
"3248298","1","3249160","","2010-07-14 16:24:17","","2","772","<p>Here's the deal: I've installed RGoogleDocs package from OmegaHat repository and everything worked fine during installation, but when I try to load specific document (spreadsheet) it states that I'm unauthorised!</p>

<p>I did:</p>

<pre><code># installation
install.packages(""RGoogleDocs"", repos = ""http://www.omegahat.org/R"")
library(RGoogleDocs)
auth &lt;- getGoogleAuth(""username@gmail.com"", ""password"")
con &lt;- getGoogleDocsConnection(auth)
docs &lt;- getDocs(con)
dtf &lt;- getDocContent(""documentname"", con)
Error: Unauthorized
</code></pre>

<p>What's interesting here is that I can list all documents (I'm authorised to do that), but I'm not authorised to load any! O_o
If I type <code>names(docs)</code> names of the documents appear, but I can't get their content! The same stands for ""the spreadsheet method"" stated on an official <a href=""http://www.omegahat.org/RGoogleDocs/run.html"" rel=""nofollow noreferrer"">help page</a>:</p>

<pre><code>sheets.con &lt;- getGoogleDocsConnection(getGoogleAuth(""username@gmail.com"", ""password"", service = ""wise""))
&gt; a &lt;- getDocs(sheets.con)
Error in getDocs(sheets.con) : 
  problems connecting to get the list of documents
</code></pre>
","457898","","","","","2014-01-21 04:23:14","RGoogleDocs authentication failure","<r><import><google-docs>","3","0","2","","","CC BY-SA 2.5","3248298","4452","4452","r","404559","3625322","3607736","",""
"3248368","1","3248407","","2010-07-14 16:32:28","","3","3503","<p>first of all I am sorry for the bad description, but I really don't know how to explain it better, though what I want to do is really simple. </p>

<p>Example: 
I have a matrix</p>

<pre><code>      [,1]
 [1,]    0
 [2,]    1
 [3,]    1
 [4,]    0
 [5,]    1
 [6,]    1
 [7,]    0
 [8,]    0
 [9,]    1
[10,]    0
</code></pre>

<p>and i want to calculate for each row of the column the sum of all elements of the column to that row. </p>

<pre><code>      [,1]
 [1,]    0
 [2,]    1
 [3,]    2
 [4,]    2
 [5,]    3
 [6,]    4
 [7,]    4
 [8,]    4
 [9,]    5
[10,]    5
</code></pre>

<p>shoule be my output. </p>

<pre><code>mat = matrix(c(0,1,1,0,1,1,0,0,1,0), ncol=1)
summed = 0
sumup = apply(mat, 1, function(x){
    summed = summed + x
    return(summed)
})
</code></pre>

<p>The above is something I came up with, but it doesn't work because I don't know how to handle the variable scope. </p>

<p>Any ideas?</p>
","354727","","","","","2010-07-14 16:37:47","Sum up values for one column to a certain row in R","<r>","1","0","3","","","CC BY-SA 2.5","3248368","4452","4452","r","404559","3625322","3607736","",""
"3252057","1","3252513","","2010-07-15 02:21:40","","7","3125","<p>I would like to use the data.table package in R to dynamically generate aggregations, but I am running into an error. Below, let <code>my.dt</code> be of type <code>data.table</code>.</p>

<pre><code>sex &lt;- c(""M"",""F"",""M"",""F"")
age &lt;- c(19, 23, 26, 21)
dependent.variable &lt;- c(1400, 1500, 1250, 1100)
my.dt &lt;- data.table(sex, age, dependent.variable)
grouping.vars &lt;- c(""sex"", ""age"")
for (i in 1:2) {
     my.dt[,sum(dependent.variable), by=grouping.vars[i]]
}
</code></pre>

<p>If I run this, I get errors:</p>

<pre><code>Error in `[.data.table`(my.dt, , sum(dependent.variable), by = grouping.vars[i] :
  by must evaluate to list
</code></pre>

<p>Yet the following works without error:</p>

<pre><code>my.dt[,sum(dependent.variable), by=sex]
</code></pre>

<p>I see why the error is occurring, but I do not see how to use a vector with the <code>by</code> parameter.</p>
","144278","","144278","","2010-07-15 03:41:32","2012-08-28 16:09:25","data.table and ""by must evaluate to list"" Error","<r><data.table>","2","4","1","","","CC BY-SA 2.5","3252057","4452","4452","r","404559","3625322","3607736","",""
"3253641","1","3255448","","2010-07-15 08:11:16","","142","256998","<p>I am making a dodged bar chart using ggplot with discrete x scale, the x axis are now arranged in alphabetical order, but I need to rearrange it so that it is ordered by the value of the y-axis (i.e., the tallest bar will be positioned on the left).</p>

<p>I tried order or sort, but result in sort the x-axis, but not the bars respectively.</p>

<p>What have I done wrong?</p>
","373908","","5325862","","2019-12-27 18:06:42","2021-03-04 21:09:20","Order discrete x scale by frequency/value","<r><ggplot2><r-faq>","6","0","53","","","CC BY-SA 4.0","3253641","4452","4452","r","404559","3625322","3607736","",""
"3254234","1","","","2010-07-15 09:29:13","","1","5968","<p>Method <code>lu</code> of package <code>Matrix</code> works fine for square matrices. However, I can't see why there is that <code>square</code> restriction. How can I perform LU decomposition on a rectangular matrix?  </p>
","170792","","","","","2010-07-15 09:38:58","LU decomposition of rectangular matrices","<r><linear-algebra>","2","0","0","","","CC BY-SA 2.5","3254234","4452","4452","r","404559","3625322","3607736","",""
"3256542","1","","","2010-07-15 14:30:38","","11","2256","<p>Is it possible to update my facebook status from an R session?</p>

<p>EDIT 1: Reading the responses thus far, I would like to point out that I'm simply interested if a package already exists which provides this functionality, similar to how the lovely twitteR package does for twitter. Also, something doesn't have to be 'useful' in order to be 'fun', which is how I prefer to learn. </p>

<p>Edit 2: Sorry to anyone offended by me by not being more specific in how I asked my question. I have used R informally for 2 months and was told that SO was a nice place to ask questions (yes i have read the intro guide).</p>
","391363","","391363","","2010-07-15 15:34:33","2013-12-29 22:02:06","Update Facebook status using R?","<facebook><r>","5","3","2","","","CC BY-SA 2.5","3256542","4452","4452","r","404559","3625322","3607736","",""
"3257441","1","3259537","","2010-07-15 15:59:41","","25","16693","<p>I've tried running the code to geocode locations in R via Google Maps and the <code>XML</code> package from this blog post:
<a href=""http://www.r-chart.com/2010/07/maps-geocoding-and-r-user-conference.html"" rel=""noreferrer"">http://www.r-chart.com/2010/07/maps-geocoding-and-r-user-conference.html</a></p>

<p>Here are his functions:</p>

<pre><code>getDocNodeVal=function(doc, path){
  sapply(getNodeSet(doc, path), function(el) xmlValue(el))
}

gGeoCode=function(str){
  library(XML)
  u=paste('http://maps.google.com/maps/api/geocode/xml?sensor=false&amp;address=',str)
  doc = xmlTreeParse(u, useInternal=TRUE)
  str=gsub(' ','%20',str)
  lng=getDocNodeVal(doc, ""/GeocodeResponse/result/geometry/location/lat"")
  lat=getDocNodeVal(doc, ""/GeocodeResponse/result/geometry/location/lng"")
  c(lat,lng)
}
</code></pre>

<p>When I run <code>gGeoCode()</code>, I get the following error:</p>

<pre><code>&gt; gGeoCode(""Philadelphia, PA"")
failed to load external entity ""http%3A//maps.google.com/maps/api/geocode/xml%3Fsensor=false&amp;address=%20Philadelphia,%20PA""
Error: 1: failed to load external entity ""http%3A//maps.google.com/maps/api/geocode/xml%3Fsensor=false&amp;address=%20Philadelphia,%20PA""
</code></pre>

<p>If I just paste into a browser the API url with <code>Philadelphia, PA</code> appended to the end, like the string passed to <code>xmlParseTree</code>, I get a result that looks like legitimate xml when I download it.</p>

<p>Is this an issue with the code, or have I failed to configure something or another?</p>
","159438","","","","","2016-08-30 22:51:20","Geocoding in R with Google Maps","<google-maps><r><geocoding>","6","4","34","","","CC BY-SA 2.5","3257441","4452","4452","r","404559","3625322","3607736","",""
"3258101","1","3259260","","2010-07-15 17:11:16","","3","908","<p>Greetings, </p>

<p>I need to display multicolor text on my chart for example</p>

<pre><code>early &lt;- 30
ontime &lt;- 70
late &lt;- 25

txt &lt;- paste(early, ontime, late, sep='/')
plot(1:2, type='n')
text(1.5, 1.5, txt)
</code></pre>

<p>I need values for early, ontime, late in txt, be blue,green, and red respectively. </p>

<p>I found following post on multicolor text in title, however I wasn't able to adapt it to my problem
<a href=""http://blog.revolutionanalytics.com/2009/01/multicolor-text-in-r.html"" rel=""nofollow noreferrer"">http://blog.revolutionanalytics.com/2009/01/multicolor-text-in-r.html</a></p>

<p>Thank you for your help</p>
","379269","","","","","2010-07-15 19:48:04","multicolor text on chart","<r>","2","0","","","","CC BY-SA 2.5","3258101","4452","4452","r","404559","3625322","3607736","",""
"3258148","1","","","2010-07-15 17:17:25","","1","174","<p>I have a BATCH script (on a Windows machine, would like this to be generalised in time), that opens and runs the following code in the background:</p>

<pre><code>library(svDialogs)
library(ggplot2)
library (XML)
sharesID &lt;- display(guiDlg(""SciViews-R"", ""Please Enter Shares ID:""))
test.df &lt;- xmlToDataFrame(sharesID)
test.df
sapply(test.df, class) 
test.df$timeStamp &lt;- strptime(as.character(test.df$timeStamp), ""%H:%M:%OS"")
test.df$Price &lt;- as.numeric(as.character(test.df$Price))
sapply(test.df, class)
options(""digits.secs""=3)
summary (test.df)
with(test.df, plot(timeStamp, Price))
sd (test.df$Price)
mean(test.df$timeStamp)
test.df$timeStamp &lt;- test.df[1,""timeStamp""] + cumsum(runif(7)*60)
summary(test.df)
qplot(timeStamp,Price,data=test.df,geom=c(""point"",""line""))
Price &lt;- summary(test.df$Price)
print (Price)
</code></pre>

<p>When it gets to the
    sharesID &lt;- display(guiDlg(""SciViews-R"", ""Please Enter Shares ID:""))
It brings up a dialogue box asking the user to Enter Shares ID. At present you have to use the full path of the file you want the rest of the code to execute on. Is there a way that you can enter a file number from a list of files kept in a database or such.</p>

<p>The other question I have is that it generates a pdf file of the both plots only. While I like this is there a way to specify the output type and location (ie as a graph on a webpage).</p>

<p>I want to include a print out of the summary of Price in the output but this is not achieved using the above commands. </p>
","386448","","","","","2010-07-16 22:11:49","Allowing the user pick from a list of files rather than from inputting file path in R (or other means that can pass file to R)","<r><automation>","2","3","","","","CC BY-SA 2.5","3258148","4452","4452","r","404559","3625322","3607736","",""
"3259086","1","3259229","","2010-07-15 19:12:19","","3","1461","<p>I'm familiar with the fact that you can create LaTeX reports directly from R with <code>tools</code> package and <code>texi2dvi</code> function, but I was surprised to see that <code>tools</code> package is missing. It's just not in CRAN repositories. Does anyone know about an adequate replacement for <code>texi2dvi</code>?</p>
","457898","","23897","","2010-07-15 19:17:45","2010-07-15 19:31:01","tools::texi2dvi - what happened to it?","<r><latex><package><cran>","1","0","","","","CC BY-SA 2.5","3259086","4452","4452","r","404559","3625322","3607736","",""
"3259734","1","3260078","","2010-07-15 20:25:35","","6","6381","<p>I am using the <a href=""http://cran.r-project.org/web/packages/tm/index.html"" rel=""noreferrer"">tm</a> package to compute term-document-matrix for a dataset, I now have to write the term-document-matrix to a file but when I use the write functions in R I am getting a error. </p>

<p>Here is the code which I am using and the error I am getting:</p>

<pre><code>data(""crude"")
tdm &lt;- TermDocumentMatrix(crude, control = list(weighting = weightTfIdf, stopwords = TRUE))
dtm &lt;- DocumentTermMatrix(crude, control = list(weighting = weightTfIdf, stopwords = TRUE))
</code></pre>

<p>and this is the error while I use the write.table command on this data:</p>

<pre><code>Error in cat(list(...), file, sep, fill, labels, append) : argument 1 (type 'list') cannot be handled by 'cat'
</code></pre>

<p>I understand that tbm is a object of type Simple Triplet Matrix, but how can I write this to a simple text file. </p>
","358506","","","","","2016-02-24 21:13:15","Writing a Simple Triplet Matrix to a File?","<r>","3","0","2","","","CC BY-SA 2.5","3259734","4452","4452","r","404559","3625322","3607736","",""
"3261066","1","3261345","","2010-07-16 00:22:13","","17","7541","<p>The read.table and read.csv functions in R are used to parse a file or URL containing delimited data and produce an R data frame.  However, I already have a character vector that contains the CSV delimited data (using comma and \n as column and record delimiters), so I don't need to read it from a file or URL.  How can I pass this character vector into <code>read.table</code>, <code>read.csv</code>, or <code>scan()</code> without writing it to a file on disk first and reading it back in?  I realize that writing it to disk is possible, but I am looking for a solution that does not require this needless roundtrip and can read data from the character vector directly.</p>
","393366","","4370109","","2015-12-03 21:00:51","2017-08-18 00:28:37","How can I parse CSV data from a character vector to extract a data frame?","<r><parsing><csv><dataframe><import-from-csv>","2","0","2","","","CC BY-SA 3.0","3261066","4452","4452","r","404559","3625322","3607736","",""
"3261452","1","3261544","","2010-07-16 02:08:41","","25","13386","<p>I've got dozens of lists, each is a collection of 11 data frames. Some data frames are empty (another script did not output any data, not a bug).</p>

<p>I need to push each list through a function but that chokes when it sees an empty data frame.  So how do I write a function that will take a list, do a dim on each element (i.e. data frame) and if it's 0, then skip to the next.</p>

<p>I tried something like this:</p>

<pre><code>empties &lt;- function (mlist)
{
 for(i in 1:length(mlist))
   {
    if(dim(mlist[[i]])[1]!=0) return (mlist[[i]])
    }
}
</code></pre>

<p>But clearly, that didn't work. I would do this manually at this point but that would take forever. Help?</p>
","313163","","143305","","2010-07-18 13:31:56","2019-06-13 03:39:20","How do I remove empty data frames from a list?","<r>","4","0","6","","","CC BY-SA 2.5","3261452","4452","4452","r","404559","3625322","3607736","",""
"3261495","1","3261579","","2010-07-16 02:21:10","","4","2927","<p>Can anyone tell me how to replace 0's with 1's and <em>vice versa</em> for a diagonal matrix in R.</p>
","302058","","68204","","2010-07-16 02:24:48","2010-07-16 11:21:56","replace 0's with 1's and vice versa for a diagonal matrix in R","<r>","3","2","","","","CC BY-SA 2.5","3261495","4452","4452","r","404559","3625322","3607736","",""
"3261597","1","40917169","","2010-07-16 02:48:46","","89","57344","<p>I know this is not quite a data visualization issue, but the boss asked for it, so I need to figure out if it is possible.</p>

<p>Thanks!</p>
","373908","","","","","2020-04-01 13:18:28","can I change the position of the strip label in ggplot from the top to the bottom?","<r><ggplot2><strip><facet>","4","7","11","","","CC BY-SA 2.5","3261597","4452","4452","r","404559","3625322","3607736","",""
"3261924","1","3262143","","2010-07-16 04:25:22","","2","726","<p>as title, I have having quite a lot of panels when generating a chart by ggplot, and I think the gap is a bit too wide, can I adjust it?</p>

<p>Thanks!</p>
","373908","","","","","2010-07-16 05:23:10","how to change the width of the gaps between the panels in facet in ggplot2?","<r><ggplot2><facet>","1","0","1","","","CC BY-SA 2.5","3261924","4452","4452","r","404559","3625322","3607736","",""
"3265275","1","3267171","","2010-07-16 13:26:40","","11","586","<p>I just discovered <a href=""http://www.milbo.users.sonic.net/ra/"" rel=""noreferrer"">Ra</a> from Ubuntu repositories. Has anyone used it in actual projects? Have you encountered any problems and are there any trade offs with using Ra instead of R or JIT in general?</p>
","217595","","","","","2012-04-10 23:58:06","JIT of R code using Ra","<r><jit>","2","4","3","","","CC BY-SA 2.5","3265275","4452","4452","r","404559","3625322","3607736","",""
"3266351","1","3275626","","2010-07-16 15:18:40","","12","8855","<p>I am using R to run simulations using time series data. I have been using arrays to store data but I need a less memory intensive solution for storing data at intermediate steps in order to document the process. I am not a programmer so I am looking for something relatively easy to setup on multiple platforms if possible (Windows, Mac, Linux). I also need to be able to directly call the database from R since learning another language is not feasible now. Ideally, I would like to be able to read and write frequently to the database in a manner similar to an array though I don't know if that is realistic. I will gladly sacrifice speed for ease of use but I am willing to work to learn open source solutions. Any suggestions would be appreciated.</p>
","376239","","143305","","2010-07-18 13:31:06","2020-07-20 20:10:04","Recommendations for database with R","<database><r>","4","0","5","2020-07-20 20:22:43","","CC BY-SA 2.5","3266351","4452","4452","r","404559","3625322","3607736","",""
"3266710","1","3266818","","2010-07-16 15:57:32","","0","1291","<p><em>I have a feeling this will be a quick fix, given that I started coding two weeks ago.  I am try to run a statistical test - a Mantel, looking for a correlation between two distance matrices - in Python, by using a function(?) that has already been written in R, via Rpy2. The R module is ""ade4"" and it contains ""mantel.rtest""</em></p>

<pre><code>from rpy2 import robjects

import rpy2.robjects as robjects

robjects.r('library(ade4)')
**EDIT** rmantel = robjects.r(""mantel.rtest"")

for i in windownA:

    M1 = asmatrix(identityA[i]).reshape(14,14)

    for j in windownB:

        M2 = asmatrix(identityB[j]).reshape(14,14)

       **EDIT** result = rmantel (M1, M2, nrepet = 9999)
        print result
        print ' '
</code></pre>

<p>EDIT: this now works!  <em>""This returns the error: <strong>""AttributeError: 'R' object has no attribute 'mantel'""</strong> which leads me to believe that the object being called here is truncated at the ""."" (i.e. ""mantel"" versus the full ""mantel.rtest"").  I tried reassigning the ""mantel.rtest"" as an object without a "".""  ex)
    rmantel = ""mantel.rtest""
and substituting that 
    result = robjects.r.rmantel (M1, M2, nrepet = 9999)
only to receive the error: <strong>""AttributeError: 'R' object has no attribute 'rmantel'""</strong> - so that did not work. Any thoughts as to how I can get around this issue?""</em></p>

<p><strong><em>New Issue</strong>:</em>  The Mantel test require data in ""dist"" format, so when I run the edited code, I get the following error <strong>""RRuntimeError: Error in function (m1, m2, nrepet = 99)  : 
  Object of class 'dist' expected""</strong></p>

<p>So I tried to convert the file to that format and when I print the results, it's the bottom half of a matrix of the correct size, but all fields are filled with ""NA""</p>

<pre><code>robjects.r('library(ade4)')
rmantel = robjects.r(""mantel.rtest"")

distify = robjects.r(""dist"")

for i in windownA:

    M1 = asmatrix(identityA[i]).reshape(14,14)
    print distify(M1)
    MOne = distify(M1, 14)

    for j in windownB:

        M2 = asmatrix(identityB[j]).reshape(14,14)
        print distify(M2)
        MTwo = distify(M2, 14)

        result = rmantel(M1, M2, nrepet = 9999)
        print result
        print ' '
</code></pre>

<p>i get""</p>

<p>1  2  3  4  5  6  7  8  9 10 11 12 13</p>

<p>2  NA                                    </p>

<p>3  NA NA                                 </p>

<p>4  NA NA NA                              </p>

<p>5  NA NA NA NA                           </p>

<p>6  NA NA NA NA NA                        </p>

<p>7  NA NA NA NA NA NA                     </p>

<p>8  NA NA NA NA NA NA NA                  </p>

<p>9  NA NA NA NA NA NA NA NA               </p>

<p>10 NA NA NA NA NA NA NA NA NA            </p>

<p>11 NA NA NA NA NA NA NA NA NA NA         </p>

<p>12 NA NA NA NA NA NA NA NA NA NA NA      </p>

<p>13 NA NA NA NA NA NA NA NA NA NA NA NA   </p>

<p>14 NA NA NA NA NA NA NA NA NA NA NA NA NA</p>
","393200","","393200","","2010-07-16 17:59:02","2010-07-17 09:48:44","issue running a test in Python, via rpy2","<python><r><rpy2>","2","1","","","","CC BY-SA 2.5","3266710","4452","4452","r","404559","3625322","3607736","",""
"3267312","1","3267379","","2010-07-16 17:13:36","","7","36059","<p>I am sure this is a very basic question:</p>

<p>In R I have 600,000 categorical variables - each of which is classified as ""0"", ""1"", or ""2""</p>

<p>What I would like to do is collapse ""1"" and ""2"" and leave ""0"" by itself, such that after re-categorizing ""0"" = ""0""; ""1"" = ""1"" and ""2"" = ""1"" --- in the end I only want ""0"" and ""1"" as categories for each of the variables.</p>

<p>Also, if possible I would rather not create 600,000 new variables, if I can replace the existing variables with the new values that would be great!</p>

<p>What would be the best way to do this?</p>

<p>Thank you!</p>
","394139","","","","","2017-06-26 06:55:15","In R, how to collapse categories or recategorize variables?","<r><categories><collapse>","6","0","4","","","CC BY-SA 2.5","3267312","4452","4452","r","404559","3625322","3607736","",""
"3267512","1","3267677","","2010-07-16 17:45:57","","3","3945","<p>Close to finishing up my first project entirely in R, but I am stuck.  I don't really have a good grasp of regex, but usually can accomplish my tasks with substring, instring, len, or comparable functions.</p>

<p>I have two questions.  Where can I find a list of string functions in R, and  2nd, does R have an instring type function?</p>

<p>Many thanks in advance!</p>

<p>Brock</p>
","155406","","","","","2010-07-16 18:05:20","Instring Function in R","<string><r>","3","0","","","","CC BY-SA 2.5","3267512","4452","4452","r","404559","3625322","3607736","",""
"3267671","1","3267759","","2010-07-16 18:04:44","","33","8194","<p>In the ""What is the most useful R trick?"" (<a href=""https://stackoverflow.com/questions/1295955/what-is-the-most-useful-r-trick/1300597#1300597"">here</a>), I read that using environments give ""pass-by-reference capabilities"". Are there any limits and/or gotchas with this approach?</p>

<p>Also, in general what are the pros and cons of using created environments? This is something I've been confused about for quite some time, so any clarity or reference would be very helpful to me.</p>

<p>Thank you in advance.</p>
","234233","","-1","","2017-05-23 12:00:17","2010-07-16 19:29:13","In what cases should new.env be used to create a new environment?","<r>","2","2","17","","","CC BY-SA 2.5","3267671","4452","4452","r","404559","3625322","3607736","",""
"3269209","1","","","2010-07-16 22:12:21","","4","933","<p>From the following xml code:</p>

<pre><code>&lt;?xml version = ""1.0""?&gt;
&lt;Company &gt;
 &lt;shareprice&gt;
  &lt;timeStamp&gt; 12:00:00.01&lt;/timeStamp&gt;
  &lt;Price&gt;  25.02&lt;/Price&gt;
 &lt;/shareprice&gt;

 &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:00.02&lt;/timeStamp&gt;
  &lt;Price&gt;  15&lt;/Price&gt;
 &lt;/shareprice&gt;



    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:01.025&lt;/timeStamp&gt;
        &lt;Price&gt;  15.02&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:01.031&lt;/timeStamp&gt;
        &lt;Price&gt;  18.25&lt;/Price&gt;
    &lt;/shareprice&gt;



    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:01.039&lt;/timeStamp&gt;
        &lt;Price&gt;  18.54&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:01.050&lt;/timeStamp&gt;
        &lt;Price&gt; 16.52&lt;/Price&gt;
    &lt;/shareprice&gt;


    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:02.01&lt;/timeStamp&gt;
        &lt;Price&gt;  17.50&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:03.01&lt;/timeStamp&gt;
        &lt;Price&gt;  25.02&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:05.02&lt;/timeStamp&gt;
        &lt;Price&gt;  30&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:11.025&lt;/timeStamp&gt;
        &lt;Price&gt;  32.25&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:12.031&lt;/timeStamp&gt;
        &lt;Price&gt;  26.05&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:15.039&lt;/timeStamp&gt;
        &lt;Price&gt;  18.54&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:19.050&lt;/timeStamp&gt;
        &lt;Price&gt; 16.52&lt;/Price&gt;
    &lt;/shareprice&gt;


    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:01:02.01&lt;/timeStamp&gt;
        &lt;Price&gt;  17.50&lt;/Price&gt;
    &lt;/shareprice&gt;
&lt;/Company&gt;
</code></pre>

<p>and using the following R code:</p>

<pre><code>library(ggplot2)
library (XML)
test.df &lt;- xmlToDataFrame(file.choose())
test.df
sapply(test.df, class) 
test.df$timeStamp &lt;- strptime(as.character(test.df$timeStamp), ""%H:%M:%OS"")
test.df$Price &lt;- as.numeric(as.character(test.df$Price))
sapply(test.df, class)
options(""digits.secs""=3)
summary (test.df)
with(test.df, plot(timeStamp, Price))
sd (test.df$Price)
mean(test.df$timeStamp)
test.df$timeStamp &lt;- test.df[1,""timeStamp""] + cumsum(runif(7)*60)
summary(test.df)
qplot(timeStamp,Price,data=test.df,geom=c(""point"",""line""))
Price &lt;- summary(test.df$Price)
print (Price)
</code></pre>

<p>I would like to create an interactive graph that would allow a user to click on a point and get information on the the value of the point (eg if the value jumped a reason so), I would like to be able to put this interactive graph on a web page. It has been suggested to use GGOBI to do this, while others say it is possible to remain in R and use the rggobi library. As I have no experience of this I thought I'd ask for some pointers either directly or to a specific resource (one can spend years searching the net and not find anything)</p>

<p>Under the graph I would like to print out the summary of the  Price. At the moment I run the code in a BATCH file on windows and it returns the graphs in a pdf file but not the summary print. Is there a way to set up the code / BATCH file so that it can produce the interactive graph and summary?</p>
","386448","","1100107","","2013-11-29 16:01:58","2013-11-29 16:01:58","Interactive Graphs in R using rggobi","<r><graph><interactive><rggobi>","2","3","1","","","CC BY-SA 2.5","3269209","4452","4452","r","404559","3625322","3607736","",""
"3271939","1","3271996","","2010-07-17 14:44:03","","12","7562","<p>If I have an R script:</p>

<pre><code>print(""hi"")
commandArgs()
</code></pre>

<p>And I run it using:</p>

<pre><code>r CMD BATCH --slave --no-timing test.r output.txt
</code></pre>

<p>The output will contain:</p>

<pre><code>[1] ""hi""
[1] ""/Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R""
[2] ""-f""                                                         
[3] ""test.r""                                                     
[4] ""--restore""                                                  
[5] ""--save""                                                     
[6] ""--no-readline""                                              
[7] ""--slave""                                                    
</code></pre>

<p>How can i suppress the line numbers[1]..[7] in the output so only the output of the script appears?</p>
","337493","","","","","2019-07-15 15:28:14","How can I suppress the line numbers output using R CMD BATCH?","<r><stdout>","4","1","2","","","CC BY-SA 2.5","3271939","4452","4452","r","404559","3625322","3607736","",""
"3273140","1","3275613","","2010-07-17 20:26:43","","7","5764","<p>Pretty basic performance question from an R newbie. I'd like to assign a group ID to each row in a data frame by unique combinations of fields. Here's my current approach:</p>

<pre><code>&gt; # An example data frame
&gt; df &lt;- data.frame(name=c(""Anne"", ""Bob"", ""Chris"", ""Dan"", ""Erin""), 
                   st.num=c(""101"", ""102"", ""105"", ""102"", ""150""), 
                   st.name=c(""Main"", ""Elm"", ""Park"", ""Elm"", ""Main""))
&gt; df
   name st.num st.name
1  Anne    101    Main
2   Bob    102     Elm
3 Chris    105    Park
4   Dan    102     Elm
5  Erin    150    Main
&gt; 
&gt; # A function to generate a random string
&gt; getString &lt;- function(size=10) return(paste(sample(c(0:9, LETTERS, letters), size, replace=TRUE), collapse=''))
&gt;
&gt; # Assign a random string for each unique street number + street name combination
&gt; df &lt;- ddply(df, 
              c(""st.num"", ""st.name""), 
              function(x) transform(x, household=getString()))
&gt; df
   name st.num st.name  household
1  Anne    101    Main 1EZWm4BQel
2   Bob    102     Elm xNaeuo50NS
3   Dan    102     Elm xNaeuo50NS
4 Chris    105    Park Ju1NZfWlva
5  Erin    150    Main G2gKAMZ1cU
</code></pre>

<p>While this works well for data frames with relatively few rows or a small number of groups, I run into performance problems with larger data sets ( > 100,000 rows) that have many unique groups.</p>

<p>Any suggestions to improve the speed of this task? Possibly with plyr's experimental idata.frame()? Or am I going about this all wrong?</p>

<p>Thanks in advance for your help.</p>
","394800","","394800","","2016-07-12 18:24:07","2016-09-29 13:43:11","Assigning group ID with ddply","<r><plyr>","2","0","9","","","CC BY-SA 3.0","3273140","4452","4452","r","404559","3625322","3607736","",""
"3274818","1","3287949","","2010-07-18 08:22:13","","32","38712","<p>Trying to compute the power of a matrix in R, I found that package <code>expm</code> implements the operator <a href=""http://finzi.psych.upenn.edu/R/library/expm/html/matpow.html"" rel=""noreferrer"">%^%</a>. </p>

<p>So x %^% k computes the k-th power of a matrix. </p>

<pre><code>&gt; A&lt;-matrix(c(1,3,0,2,8,4,1,1,1),nrow=3)

&gt; A %^% 5
      [,1]  [,2] [,3]
[1,]  6469 18038 2929
[2,] 21837 60902 9889
[3,] 10440 29116 4729
</code></pre>

<p>but, to my surprise:</p>

<pre><code>&gt; A
     [,1] [,2] [,3]
[1,]  691 1926  312
[2,] 2331 6502 1056
[3,] 1116 3108  505
</code></pre>

<p>somehow the initial matrix A has changed to A %^% 4 !!!</p>

<p>How do you perform the matrix power operation?</p>
","170792","","","","","2021-01-25 15:48:26","Matrix power in R","<r><matrix><linear-algebra>","7","0","7","","","CC BY-SA 2.5","3274818","4452","4452","r","404559","3625322","3607736","",""
"3277326","1","3277380","","2010-07-18 21:29:20","","9","12830","<p>I am trying to do a ""group by"" - style weighted mean in R. With some basic mean the following code (using the plyr package from Hadley) worked well. </p>

<pre><code>ddply(mydf,.(period),mean)
</code></pre>

<p>If I use the same approach with weighted.mean i get the following error ""'x' and 'w' must have the same length"" , which I do not understand because the weighted.mean part works outside ddply. </p>

<pre><code>weighted.mean(mydf$mycol,mydf$myweight) # works just fine
ddply(mydf,.(period),weighted.mean,mydf$mycol,mydf$myweight) # returns the erros described above
ddply(mydf,.(period),weighted.mean(mydf$mycol,mydf$myweight)) # different code same story
</code></pre>

<p>I thought of writing a custom function instead of using weighted.mean and then passing it to ddply or even writing something new from scratch with subset. In my case it would be too much work hopefully, but there should by a smarter solution with whats already there. </p>

<p>thx for any suggestions in advance!</p>
","366256","","143305","","2010-07-18 22:03:16","2010-07-19 02:01:39","group by in R, ddply with weighted.mean","<r><group-by>","2","0","8","","","CC BY-SA 2.5","3277326","4452","4452","r","404559","3625322","3607736","",""
"3277556","1","","","2010-07-18 22:43:25","","11","2202","<p>I'm trying to write a function, which limits the scope of R variables. For example,</p>

<pre><code>source(""LimitScope.R"")
y = 0
f = function(){
   #Raises an error as y is a global variable
   x = y
}
</code></pre>

<p>I thought of testing the variable environment, but wasn't really sure of how to do this. </p>

<p><strong>The why</strong></p>

<p>I teach R to undergrads. In their first couple of practicals a few of them always forget about variable scope, so their submitted functions don't work. For example, I always get something like:</p>

<pre><code>n = 10
f = function(x){
  #Raises an error
  #as I just source f and test it for a few test cases.
  return(x*n)
}
</code></pre>

<p>I was after a quick function that would 'turn off' scope. As you can imagine it doesn't have to be particularly robust, as it would just be offered for the few practicals.</p>
","203420","","203420","","2010-07-19 14:10:37","2010-07-21 04:44:39","Limiting variable scope","<r><scope>","4","3","2","","","CC BY-SA 2.5","3277556","4452","4452","r","404559","3625322","3607736","",""
"3278759","1","","","2010-07-19 05:58:50","","5","159","<p>I have a C++ that I'm running though R (via Rcpp).  Recently, I found that the C++ program I'm wrapping with Rcpp fails when using Windows-style line endings.  </p>

<p>I'm wondering if anyone knows of a cross-platform way for me to change Windows-style line endings to Unix-style line endings in either C++ or R or ash shell (which comes installed with R).  </p>

<p>Thanks!</p>
","389932","","","","","2010-07-19 06:28:55","Flipping line endings in C++ (or R)","<c++><r>","1","1","","","","CC BY-SA 2.5","3278759","4452","4452","r","404559","3625322","3607736","",""
"3280048","1","","","2010-07-19 10:00:19","","0","294","<p>At the moment I am using a BATCH file that comprises of the following line of code:</p>

<pre><code>c:\R\bin\Rcmd.exe BATCH ""&lt;filepath&gt;/shares.R"" 
</code></pre>

<p>It opens and runs the following R code:</p>

<pre><code>library(ggplot2)
library (XML)
test.df &lt;- xmlToDataFrame(file.choose())
test.df
sapply(test.df, class) 
test.df$timeStamp &lt;- strptime(as.character(test.df$timeStamp), ""%H:%M:%OS"")
test.df$Price &lt;- as.numeric(as.character(test.df$Price))
sapply(test.df, class)
options(""digits.secs""=3)
summary (test.df)
with(test.df, plot(timeStamp, Price))
sd (test.df$Price)
mean(test.df$timeStamp)
test.df$timeStamp &lt;- test.df[1,""timeStamp""] + cumsum(runif(7)*60)
summary(test.df)
qplot(timeStamp,Price,data=test.df,geom=c(""point"",""line""))
Price &lt;- summary(test.df$Price)
print (Price)
dput(test.df)
</code></pre>

<p>Is it possible to use a PHP form to first select the file and pass it as an argument into the r script there by replacing the file.choose() command, I will be running this from a localhost? </p>
","386448","","","","","2010-07-19 12:16:40","Is it Possible to use PHP to select a file to pass into an R script as an argument to be operated on?","<php><r>","3","2","","","","CC BY-SA 2.5","3280048","4452","4452","r","404559","3625322","3607736","",""
"3280411","1","3280736","","2010-07-19 10:56:01","","1","960","<p>i am trying to run a simple multiplication of a data.frame column with a scalar A respectively scalar B based on the value of third column (id) of the same data.frame. Somehow I have some (order,sort?) problem  so far the result is definitely wrong. Here are several tries:</p>

<pre><code>mydf$result = subset(mydf,myid==123,multiplyme)*0.6 +
subset(mydf,myid==124,,multiplyme)*0.4
</code></pre>

<p>I also tried to use %in% syntax but was not successful either. I know I could MySQL for example and connect to R, but in this case I just want to use (basic) R or plyr at least here. Just for those of you who prefer code over my blabla, heres how id do it in SQL:</p>

<pre><code>SELECT
MIN(CASE WHEN myid=123 THEN multiplyme*0.6 END)
MIN(CASE WHEN myid=124 THEN multiplyme*0.4 END)
FROM mytable
GROUP BY result;
</code></pre>

<p>Thx for any help / R-code suggestions in advance!
Please note that I have more than 2 ids!</p>
","366256","","37751","","2010-07-19 20:31:27","2010-07-19 20:31:27","WHERE aequivalent in R, multiplication conditional on another column of the same df","<r><where>","3","0","1","","","CC BY-SA 2.5","3280411","4452","4452","r","404559","3625322","3607736","",""
"3281737","1","","","2010-07-19 14:03:36","","-1","1042","<p>How to use RCPP_MODULE(yada) in C++.
My C++ program gives error if I use</p>

<pre><code>const char* hello( std::string who ){
std::string result( ""hello "" ) ;
result += who ;
return result.c_str() ;
}

RCPP_MODULE(yada)
{
using namespace std;
function( ""hello"", &amp;hello ) ;
};
</code></pre>

<p>Error are:<br>
1. Error 1 error C2065: 'yada' : undeclared identifier<br>
2. Error 2 error C2448: 'RCPP_MODULE' : function-style initializer appears to be a function definition   </p>

<p>Can anyone help me in fixing these error?</p>
","395882","","1737","","2010-07-19 14:46:12","2010-07-20 03:40:56","R/C++ Interface","<c++><visual-studio-2010><r>","2","3","","","","CC BY-SA 2.5","3281737","4452","4452","r","404559","3625322","3607736","",""
"3281818","1","3281873","","2010-07-19 14:12:01","","1","1699","<p>Hopefully this has an easy answer I just haven't been able to find:</p>

<p>I am trying to write a simulation that will compare a number of statistical procedures on different subsets of rows (subjects) and columns (variables) of a large matrix.</p>

<p>Subsets of rows was fairly easy using a <code>sample()</code> of the subject ID numbers, but I am running into a little more trouble with columns.</p>

<p>Essentially, what I'd like to be able to do is create a random sample of column index numbers which will then be used to create a new matrix. What's got me the closest so far is:</p>

<pre><code>testmat &lt;- matrix(rnorm(10000),nrow=1000,ncol=100)
column.ind &lt;- sample(3:100,20)
teststr &lt;- paste(""testmat[,"",column.ind,""]"",sep="""",collapse="","")
</code></pre>

<p>which gives me a string that has a <code>testmat[,column.ind]</code> for every sampled index number. Is there any way to easily plug that into a <code>cbind()</code> function to make a new matrix? Is there any other obvious way I'm missing?</p>

<p>I've been able to do it using a loop (i.e. <code>cbind(matrix,newcolumn)</code> over and over), but that's fairly slow as the matrix I'm using is quite large and I will be doing this many times. I'm hoping there's a couple-line solution that's more elegant and quicker.</p>
","302970","","","user4275591","2014-12-08 10:22:13","2014-12-08 10:35:09","How do you select multiple variables from a matrix using a randomly selected vector of column indices?","<r><variables><subset>","1","0","","","","CC BY-SA 3.0","3281818","4452","4452","r","404559","3625322","3607736","",""
"3282916","1","3284679","","2010-07-19 16:22:55","","1","2171","<p>Hi I am trying out classification for imbalanced dataset in R using <code>kernlab</code> package, as the class distribution is not 1:1 I am using the option of class.weights in the <code>ksvm()</code> function call however I do not get any difference in the classification scenario when I add weights or remove weights? So the question is what is the correct syntax for declaring the class weights? </p>

<p>I am using the following function calls:</p>

<pre><code>model = ksvm(dummy[1:466], lab_tr,type='C-svc',kernel=pre,cross=10,C=10,prob.model=F,class.weights=c(""Negative""=0.7,""Positive""=0.3)) 
#this is the function call with class weights 
model = ksvm(dummy[1:466], lab_tr,type='C-svc',kernel=pre,cross=10,C=10,prob.model=F) 
</code></pre>

<p>Can anyone please comment on this, am I following the right syntax of adding weights? Also I discovered that if we use the weights with <code>prob.model=T</code> the <code>ksvm</code> function returns a error!  </p>
","358506","","","","","2010-07-19 20:15:20","Class Weight Syntax in Kernlab?","<r><kernlab>","1","0","","","","CC BY-SA 2.5","3282916","4452","4452","r","404559","3625322","3607736","",""
"3283152","1","","","2010-07-19 16:56:10","","6","3676","<p>Is there a way to calculate the determinant of a complex matrix?</p>

<pre><code>F4&lt;-matrix(c(1,1,1,1,1,1i,-1,-1i,1,-1,1,-1,1,-1i,-1,1i),nrow=4)
det(F4)
Error in determinant.matrix(x, logarithm = TRUE, ...) : 
  determinant not currently defined for complex matrices

library(Matrix)
 determinant(Matrix(F4))
Error in Matrix(F4) : 
  complex matrices not yet implemented in Matrix package
Error in determinant(Matrix(F4)) : 
  error in evaluating the argument 'x' in selecting a method for function 'determinant'
</code></pre>
","170792","","508666","","2012-09-05 14:00:13","2012-09-05 14:00:13","Determinant of a complex matrix in R","<r><matrix><linear-algebra><complex-numbers>","2","0","","","","CC BY-SA 2.5","3283152","4452","4452","r","404559","3625322","3607736","",""
"3284301","1","3293824","","2010-07-19 19:26:06","","2","2251","<p>Let me start by saying I am new to programming.</p>

<p>I am hoping to run a python script from the command line within an R script.  I am running windows xp but also have a machine that runs Windows 7.  I can run the following code without error for the dos-prompt.</p>

<pre><code>cd C:\Documents and Settings\USER\workspace\UGA - Website
python test1.py
</code></pre>

<p>I have tried all sorts of different attempts in R using ?system, but am hoping someone can point me to what I am doing wrong.  For example, here is just one attempt (it was recommended to use absolute paths)</p>

<pre><code>cmd.1 &lt;- shQuote(""C:Python26/python.exe C:/Documents and Settings/USER/Desktop/UGA New Website"", type=""cmd"")
system(cmd.1)
</code></pre>

<p>Any guidance will be very much appreciated</p>
","155406","","","","","2010-07-26 15:19:34","Command Line in R code","<python><command-line><r>","3","2","3","","","CC BY-SA 2.5","3284301","4452","4452","r","404559","3625322","3607736","",""
"3284541","1","3288423","","2010-07-19 19:59:38","","2","1701","<p>Do you know any R packages implementing rough set based methods? I believe the answer is there are no, but maybe I am missing something subtle.</p>
","370756","","","","","2016-03-29 23:22:00","Rough sets in R","<r>","1","0","","2014-02-06 18:53:02","","CC BY-SA 2.5","3284541","4452","4452","r","404559","3625322","3607736","",""
"3285307","1","3290418","","2010-07-19 21:37:42","","9","2338","<p>I'm trying to create a procedure which extracts data from a MySQL server (using the RODBC package), performs some statistical routines on that data in R, then saves generated plots back to the server such that they can be retrieved in a Web Browser via a little bit of php and web magic.</p>

<p>My plan is to save the plot in a MySQL BLOB field by using the RODBC package to execute a SQL insert into statement. I think I can insert the data directly as a string. Problem is, how do I get the data string and will this even work?  My best thought is to use the savePlot function to save a temp file and then read it back in somehow.</p>

<p>Anybody tried this before or have suggestions on how to approach this?</p>
","355431","","","","","2010-07-21 11:52:20","Save R plot to web server","<mysql><r><rodbc>","3","6","4","","","CC BY-SA 2.5","3285307","4452","4452","r","404559","3625322","3607736","",""
"3286028","1","","","2010-07-20 00:00:49","","1","505","<p>I wish to estimate a regression model where the dependent variable is a dummy (coded 0/1) and I have five or six ordinal independent variables (that I will dummy out), plus a bunch of other stuff. Can anyone recommend a package that will do the dummying-out with a minimum of fuss or otherwise handle the ordinal RHS variables? thanks</p>
","391926","","","","","2010-07-20 00:41:46","R package for estimating probit with ordinal independent variables?","<r>","1","0","","","","CC BY-SA 2.5","3286028","4452","4452","r","404559","3625322","3607736","",""
"3288361","1","3288491","","2010-07-20 08:52:18","","1","1281","<p>Basically I got the problem solved, but I am trying to find a more elegant solution since
the code gets a little bit hard to read. Heres what I got:</p>

<pre><code>mydf$size_class = ifelse(mydf$absolute_number &lt;= 5,""1-5"",ifelse(mydf$absolute_number &gt; 6 &amp;    
mydf$absolute_number &lt;= 10,""6-10"",""x""))
</code></pre>

<p>Maybe I need rather some formatting help / hints, convention than a new code :)  those are also very welcome ;)</p>
","366256","","","","","2010-07-20 09:11:59","create size categories without nested ifelse in R","<r><if-statement>","1","0","2","","","CC BY-SA 2.5","3288361","4452","4452","r","404559","3625322","3607736","",""
"3289144","1","3291616","","2010-07-20 10:42:50","","1","624","<p>I have simple histogram, but can't adjust the binwidth: </p>

<pre><code>qplot(factor(size_class),data=mydf,geom=""histogram"",binwidth = 0.01) 
</code></pre>

<p>size_class is a categorical variable (char) that groups mydf into groups according to another size variable. All I want to get is a graph like: </p>

<pre><code>plot(table(mydf$size_class)
</code></pre>

<p>using ggplot2. The code above does work but binwidth is ignored somehow. I feel it has something to do with my group variable, since examples with numeric variables worked. 
How can I get it done with this kind of variable?</p>

<p>thx in advance for any help</p>
","366256","","","","","2010-07-20 15:27:54","ggplot2 binwidth with factor(variable)?","<r><ggplot2>","1","0","","","","CC BY-SA 2.5","3289144","4452","4452","r","404559","3625322","3607736","",""
"3289635","1","3289788","","2010-07-20 11:57:43","","0","785","<p>I'd like to sort a categorical variable my own way. I have grouped my dataset into categories like ""1-5"",""6-10"",""11-20"" .... "">251"" and so forth. If plot the variables or display them in a table the sequence of the legend respectively the sequence in the label is ""messed up"".</p>

<p>This is not surprising since R does not know that these unordered variables are ordered in fact. Is there a way to attach a manually defined sequence to them? </p>

<p>thx for any suggestions in advance!</p>
","366256","","","","","2010-07-21 03:40:08","sort variables my own way in R","<r><sorting>","3","3","","","","CC BY-SA 2.5","3289635","4452","4452","r","404559","3625322","3607736","",""
"3290330","1","3290463","","2010-07-20 13:20:44","","141","130814","<p>Is there a way to change the font size of facet labels in <code>ggplot</code>? I googled and found that the issue was yet on Hadley's to-do list. I wonder if there is a workaround or any news on this issue?</p>
","366256","","10229584","","2020-01-23 15:52:32","2020-01-23 15:52:32","facet label font size","<r><ggplot2>","1","3","14","2019-03-11 22:37:40","","CC BY-SA 4.0","3290330","4452","4452","r","404559","3625322","3607736","",""
"3295084","1","3296928","","2010-07-20 23:05:04","","3","2281","<p>I'm trying to install R and came across this error during installation: <a href=""http://projects.uabgrid.uab.edu/r-group/wiki/install-R"" rel=""nofollow noreferrer"">http://projects.uabgrid.uab.edu/r-group/wiki/install-R</a>, which is why i need to install the fortran compiler. Every .rpm i have downloaded of the gcc42.fortran has given me this error:</p>

<blockquote>
  <p>libgfortran2 >= 4.2.1_20070724-50.18
  is needed by package
  gcc42-fortran-4.2.1_20070724-50.18.i586
  (/gcc42-fortran-4.2.1_20070724-50.18.i586)
  gcc42 = 4.2.1_20070724-50.18 is needed
  by package
  gcc42-fortran-4.2.1_20070724-50.18.i586
  (/gcc42-fortran-4.2.1_20070724-50.18.i586)</p>
</blockquote>

<p>Is there an easier way of installing it? Like via yum?</p>

<hr>

<p>EDIT</p>

<p>I got gcc installed, but im rather confused in the link provided as how to apply the patch at step 8.</p>
","381604","","381604","","2010-07-20 23:43:32","2010-07-23 07:21:03","How to install Fortran compiler (gcc42-fortran)","<linux><r><fortran>","2","2","","","","CC BY-SA 2.5","3295084","4452","4452","r","404559","3625322","3607736","",""
"3296454","1","3296509","","2010-07-21 05:10:25","","0","262","<p>Hi i am using R on windows XP i have cygwin on my shell path
what i want to do is send a command to gawk via R shell command this way:
    shell(""gawk ""{print $1}"""", m[1],""_"", h[i].""_79.7.dat""""}
i get this error
    Error: unexpected '{' in ""shell(""gawk ""{""
how can i fix this problem?
Thank you</p>
","397521","","376454","","2010-10-08 10:29:12","2010-10-08 10:29:12","calling gawk from an R script","<unix><shell><r><cmd><gawk>","1","0","","","","CC BY-SA 2.5","3296454","4452","4452","r","404559","3625322","3607736","",""
"3297491","1","","","2010-07-21 08:35:38","","3","2173","<p>my question(s) might be less general than the title suggests. I am running R on Mac OS X with a MySQL database to store the data. I have been working with the Komodo / Sciviews-R for some time. Recently I had the need for auto-generated reports and looked into Sweave. I guess StatET / Eclipse appears to be the ""standard"" solution for Sweavers. </p>

<p>1) Is it reasonable to switch from Komodo to StatET Eclipse? I tried StatET before but chose Komodo over StatET because I liked the calltip / autosuggest and the more convenient config from Komodo so much. </p>

<p>2) Whats a reasonable workflow to generate Sweave files? Usually I develop my R code first and then care about the report later. I just learned today that there is one file in Sweave that contains R code and Latex code at once and that from this file the .tex document is created. While the example files look handily and can't really imagine how to enter my 250 + lines of R code to a file and mixed it up with Latex.</p>

<p>Is it possible to just enter the qplot() and ggplot() statements to a such a document and source the functionality like database connection and intermediate results somehow?</p>

<p>Or is it just a matter of being used to the mix of Latex and R code?</p>

<p>Thx for any suggestions, hints, links and back-to-the-roots-shout-outs</p>
","366256","","","","","2010-07-21 19:59:39","practically getting started with Sweave","<r><latex><sweave>","3","3","6","","","CC BY-SA 2.5","3297491","4452","4452","r","404559","3625322","3607736","",""
"3297552","1","","","2010-07-21 08:45:51","","12","7780","<p>I need to plot, in 3D, a set of densities associated to a time series. More precisely, I would like to be able in R to build an image close to this example 
<img src=""https://sites.google.com/site/agenbiteofinwit/home/plotDensity3D.png"" alt=""alt text""></p>

<p>This image is taken from [1]. The transparency plays an important role as let us see the trajectory of the ""measures"" in the x-y plane.</p>

<p>Any help will be greatly appreciated.</p>

<p>[1]: Juban and Kariniotakis, ""Uncertainty Estimation of Wind Power Forecasts"", presentation at EWEC 2008 - 01 April - Brussels, Belgium. (I can't post the link, google will help interested readers).</p>
","397700","","-1","","2017-02-08 14:28:59","2012-05-06 16:48:59","How to plot a set of densities in 3D using R?","<r><3d><plot>","2","7","3","","","CC BY-SA 2.5","3297552","4452","4452","r","404559","3625322","3607736","",""
"3297809","1","3300063","","2010-07-21 09:21:59","","2","3820","<p>I am coding a survey that outputs a .csv file.  Within this csv I have some entries that are space delimited, which represent multi-select questions (e.g. questions with more than one response).  In the end I want to parse these space delimited entries into their own columns and create headers for them so i know where they came from. </p>

<p>For example I may start with this (note that the multiselect columns have an _M after them):</p>

<pre><code>Q1, Q2_M, Q3, Q4_M
6, 1 2 88, 3, 3 5 99
6, , 3, 1 2
</code></pre>

<p>and I want to go to this:</p>

<pre><code>Q1, Q2_M_1, Q2_M_2, Q2_M_88, Q3, Q4_M_1, Q4_M_2, Q4_M_3, Q4_M_5, Q4_M_99
6, 1, 1, 1, 3, 0, 0, 1, 1, 1
6,,,,3,1,1,0,0,0
</code></pre>

<p>I imagine this is a relatively common issue to deal with but I have not been able to find it in the R section.  Any ideas how to do this in R after importing the .csv ? My general thoughts (which often lead to inefficient programs) are that I can:
(1) pull column numbers that have the special suffix with grep()
(2) loop through (or use an apply) each of the entries in these columns and determine the levels of responses and then create columns accordingly
(3) loop through (or use an apply) and place indicators in appropriate columns to indicate presence of selection</p>

<p>I appreciate any help and please let me know if this is not clear.</p>
","309284","","","","","2010-07-22 16:57:55","splitting space delimited entries into new columns in R","<parsing><r><csv>","4","2","0","","","CC BY-SA 2.5","3297809","4452","4452","r","404559","3625322","3607736","",""
"3300671","1","","","2010-07-21 15:00:19","","4","1969","<p>I'm having some trouble to understand the mapping with rpy2 object and python object.</p>

<p>I have a function(x) which return a tuple object in python, and i want to map this tuple object with R object list or vector.</p>

<p><strong>First, i'm trying to do this :</strong></p>

<pre><code># return a python tuple into this r object tlist
robjects.r.tlist = get_max_ticks(x) 

#Convert list into dataframe
r('x &lt;- as.data.frame(tlist,row.names=c(""seed"",""ticks""))')
</code></pre>

<p>FAIL with error :
 rinterface.RRuntimeError: Error in eval(expr, envir, enclos) : object 'tlist' not found</p>

<p><strong>So i'm trying an other strategy :</strong></p>

<pre><code>robjects.r[""tlist""]  = get_max_ticks(x)
r('x &lt;- as.data.frame(tlist,row.names=c(""seed"",""ticks""))')
</code></pre>

<p>FAIL with this error :
TypeError: 'R' object does not support item assignment</p>

<p>Could you help me to understand ?
Thanks a lot !!</p>
","385881","","","","","2010-07-21 19:21:02","Mapping python tuple and R list with rpy2?","<python><r><mapping><tuples><rpy2>","2","0","2","","","CC BY-SA 2.5","3300671","4452","4452","r","404559","3625322","3607736","",""
"3301078","1","4604358","","2010-07-21 15:37:17","","2","197","<p>I've been working on code to create a parallel lapply() type function that uses Amazon's Elastic Map Reduce engine as the 'grid' for processing (yes, it's a mapper with no reducer). After I get the code stable I'll abstract it as a foreach backend. But first I need to build tests to test the code I have. </p>

<p>What would be some good test cases for this function? </p>

<p>My canonical test case right now is the following:</p>

<pre><code>myList &lt;- NULL
set.seed(1)
for (i in 1:10){
  a &lt;- c(rnorm(999), NA)
  myList[[i]] &lt;- a
}
outputLocal &lt;- lapply(myList, mean, na.rm=T)
outputEmr   &lt;- emrlapply(myList, mean, myCluster, na.rm=T)
all.equal(outputEmr, outputLocal) 
</code></pre>

<p>This test case makes sure the optional argument <code>na.rm=T</code> is passed properly to the remote machines. What are some other test cases that I could be using? I don't currently support <code>simplify</code> or <code>USE.NAMES</code> arguments, although I will in the future. </p>
","37751","","","","","2011-01-05 13:10:55","R: Creating lapply() type test cases","<testing><r><lapply>","1","0","","","","CC BY-SA 2.5","3301078","4452","4452","r","404559","3625322","3607736","",""
"3301694","1","3302401","","2010-07-21 16:43:11","","31","21295","<p>I have a small shell script (bash) which runs a R script which produces a plot as output. Everything works fine but immedietly after the plot is rendered R quits. Is there a way to keep the R session alive until the plot window is closed.</p>

<p>The shell script.</p>

<pre><code>#!/bin/bash
R --slave --vanilla &lt; myscript.r
</code></pre>

<p>And the R script.</p>

<pre><code>daq = read.table(file('mydata.dat'))
X11()
pairs(daq)
//R Completes this and then exits immediately.
</code></pre>

<p>Thanks in advance for any help!</p>
","190744","","","","","2016-04-25 12:53:15","Running R Scripts with Plots","<bash><r><shell>","5","0","6","","","CC BY-SA 2.5","3301694","4452","4452","r","404559","3625322","3607736","",""
"3302356","1","","","2010-07-21 18:08:03","","77","238368","<p>I want to split a data frame into several smaller ones. This looks like a very trivial question, however I cannot find a solution from web search.</p>
","385909","","3093387","","2016-03-21 14:07:46","2018-07-23 16:14:58","How to split a data frame?","<r><split><dataframe><r-faq>","8","1","20","","","CC BY-SA 3.0","3302356","4452","4452","r","404559","3625322","3607736","",""
"3303211","1","","","2010-07-21 19:49:07","","2","315","<p>In a <a href=""https://stackoverflow.com/questions/3215783/how-would-i-parse-the-xml-file-in-r-and-carry-out-basic-statistics-analysis-on-th"">previous question </a> I asked about reading in an XML file into R and carry out basic statistical analysis such as finding the mean and the standard deviation etc. This question is about the reverse of the reading of the original XML file and creating a new XML file that contains the original data and the results from the statistical analysis carried out in R. Is it possible to do this? </p>
","386448","","-1","","2017-05-23 12:19:01","2011-01-06 00:23:13","How to put the results from R into an XML file","<xml><parsing><r>","1","1","2","","","CC BY-SA 2.5","3303211","4452","4452","r","404559","3625322","3607736","",""
"3303346","1","","","2010-07-21 20:04:42","","0","1770","<p>I want a graph that looks similar to the example given in the <a href=""http://www.exposurescience.org/heR.doc/library/lattice/html/xyplot.html"" rel=""nofollow noreferrer"">lattice docs</a>:</p>

<pre><code>#EXAMPLE GRAPH, not my data
&gt; barchart(yield ~ variety | site, data = barley,
+          groups = year, layout = c(1,6), stack = TRUE, 
+          auto.key = list(points = FALSE, rectangles = TRUE, space = ""right""),
+          ylab = ""Barley Yield (bushels/acre)"",
+          scales = list(x = list(rot = 45))) 
</code></pre>

<p>I <code>melt</code>ed my data to obtain this ""long"" form dataframe:</p>

<pre><code>&gt; str(MDist)
'data.frame':   34560 obs. of  6 variables:
$ fCycle   : Factor w/ 2 levels ""Dark"",""Light"": 2 2 2 2 2 2 2 2 2 2 ...
$ groupname: Factor w/ 8 levels ""rowA"",""rowB"",..: 1 1 1 1 1 1 1 1 1 1 ...
$ location : Factor w/ 96 levels ""c1"",""c10"",""c11"",..: 1 1 1 1 1 1 1 1 1 1 ...
$ timepoint: num  1 2 3 4 5 6 7 8 9 10 ...
$ variable : Factor w/ 3 levels ""inadist"",""smldist"",..: 1 1 1 1 1 1 1 1 1 1 ...
$ value    : num  0 55.7 75.3 99.2 45.9 73.8 79.3 73.5 69.8 67.6 ...
</code></pre>

<p>I want to create a stacked barchart for each groupname and fCycle. I tried this:</p>

<pre><code>barchart(value~timepoint|groupname*fCycle, data=MDist, groups=variable,stack=T) 
</code></pre>

<p>It doesn't throw any errors, but it's still thinking after 30 minutes. Is this because it doesn't know how to deal with the 36 values that contribute to each bar? How can I make this data easier for barchart to digest?</p>
","128245","","","","","2010-07-21 20:16:56","stacked barchart with lattice: is my data too big?","<r><graph><lattice>","1","0","","","","CC BY-SA 2.5","3303346","4452","4452","r","404559","3625322","3607736","",""
"3303792","1","3304140","","2010-07-21 20:56:32","","3","2093","<p>This is probably going to be an underspecified question, as I'm not looking for a specific fix: </p>

<p>I want to run a machine learning algorithm on some data in a SQL Server database. I'd like to use R to do the calculations -- which would involve using R to connect to the database, process the data, and write a table of results back to the database. </p>

<p>Is this possible? My guess is yes. Shouldn't be a problem using a client... </p>

<p>however, would it be possible to set this up on a linux box as a cron job? </p>
","398454","","13302","","2013-11-18 22:08:42","2013-11-18 22:08:42","Cron Job with R and SQL Server","<sql-server><r><cron>","2","0","0","","","CC BY-SA 3.0","3303792","4452","4452","r","404559","3625322","3607736","",""
"3304403","1","3304440","","2010-07-21 22:29:46","","13","3034","<p>I am trying create a sweave report that contains some graphics done with ggplot2. Though I am looking for some environment for the long run  I just use a simple .Rnw file here that only contains the code and the plot</p>

<pre><code> \documentclass[a4paper]{article}
 \SweaveOpts{echo=FALSE}
 \usepackage{a4wide}

  \begin{document}

  \begin{figure}[htbp]
  \begin{center}
 &lt;&lt;&gt;&gt;=
 library(ggplot2)
 x=rnorm(100)
 qplot(x)

 @
 \caption{My Graph}
 \end{center}
  \end{figure}
\end{document}
</code></pre>

<p>Unfortunately the graph is not created, I only get a corrupted .pdf and .eps file. Though I get a nice .tex file that appears to work except for the graphics. 
I use the following basic code to create it:</p>

<pre><code> Sweave(""myfile.Rnw"")
</code></pre>

<p>I just found some older post on the web that were discussing problems with transparency and sweave / ggplot2 but nothing that could have helped. I also tried the relaxed package, which did not help either. Btw, is there any news on decumar package?</p>
","366256","","3885376","","2017-10-29 19:42:16","2017-10-29 19:42:16","sweave and ggplot2: no pdfs generated at all","<r><ggplot2><sweave><literate-programming>","3","2","2","","","CC BY-SA 3.0","3304403","4452","4452","r","404559","3625322","3607736","",""
"3305613","1","","","2010-07-22 03:35:14","","7","3458","<p>I would like to know what can I do to fix a grid of plots. The plots are arranged in an array so that all the plots in a row have the same Y axis variable and all the plots in a column have the same X axis variable.</p>

<p>When joined together in a grid this creates a multiplot. I disable the labels on most of the plots excepting the outer ones, since the inner ones have the same variable and scale. However, since the outer plots have labels and axis values, they result in a different size from the other ones.</p>

<p>I was thinking of adding 2 more columns and rows to the grid, for the variable names and the axis range values... then plotting only the variable names on the corresponding grid space and the axis values on another grid space, therefore only plotting the points in the remaining space and getting equal sizes.</p>

<p>EDIT 1:
Thanks to rcs for pointing me toward <code>align.plot</code></p>

<p>Edited align.plot to accept null values (for when having title/text in the axis isnt desired)</p>

<p>Now I'm closer to the goal but the first columun plots are still smaller width than the rest due to the labels.</p>

<p>example code:</p>

<pre><code>grid_test &lt;- function ()
{
    dsmall &lt;- diamonds[sample(nrow(diamonds), 100), ] 

    #-----/align function-----
    align.plots &lt;- function(gl, ...){
       # Obtained from http://groups.google.com/group/ggplot2/browse_thread/thread/1b859d6b4b441c90
       # Adopted from http://ggextra.googlecode.com/svn/trunk/R/align.r

       # BUGBUG: Does not align horizontally when one has a title.
       #    There seems to be a spacer used when a title is present.  Include the
       #    size of the spacer.  Not sure how to do this yet.

       stats.row &lt;- vector( ""list"", gl$nrow )
       stats.col &lt;- vector( ""list"", gl$ncol )

       lstAll &lt;- list(...)

       dots &lt;- lapply(lstAll, function(.g) ggplotGrob(.g[[1]]))
       #ytitles &lt;- lapply(dots, function(.g) editGrob(getGrob(.g,""axis.title.y.text"",grep=TRUE), vp=NULL))
       #ylabels &lt;- lapply(dots, function(.g) editGrob(getGrob(.g,""axis.text.y.text"",grep=TRUE), vp=NULL))
       #xtitles &lt;- lapply(dots, function(.g) editGrob(getGrob(.g,""axis.title.x.text"",grep=TRUE), vp=NULL))
       #xlabels &lt;- lapply(dots, function(.g) editGrob(getGrob(.g,""axis.text.x.text"",grep=TRUE), vp=NULL))
       plottitles &lt;- lapply(dots, function(.g) editGrob(getGrob(.g,""plot.title.text"",grep=TRUE), vp=NULL))

       xtitles &lt;- lapply(dots, function(.g) if(!is.null(getGrob(.g,""axis.title.x.text"",grep=TRUE)))
                         editGrob(getGrob(.g,""axis.title.x.text"",grep=TRUE), vp=NULL) else ggplot2:::.zeroGrob)   

       xlabels &lt;- lapply(dots, function(.g) if(!is.null(getGrob(.g,""axis.text.x.text"",grep=TRUE)))
                         editGrob(getGrob(.g,""axis.text.x.text"",grep=TRUE), vp=NULL) else ggplot2:::.zeroGrob)  

       ytitles &lt;- lapply(dots, function(.g) if(!is.null(getGrob(.g,""axis.title.y.text"",grep=TRUE)))
                         editGrob(getGrob(.g,""axis.title.y.text"",grep=TRUE), vp=NULL) else ggplot2:::.zeroGrob)   

       ylabels &lt;- lapply(dots, function(.g) if(!is.null(getGrob(.g,""axis.text.y.text"",grep=TRUE)))
                         editGrob(getGrob(.g,""axis.text.y.text"",grep=TRUE), vp=NULL) else ggplot2:::.zeroGrob)  

       legends &lt;- lapply(dots, function(.g) if(!is.null(.g$children$legends))
                         editGrob(.g$children$legends, vp=NULL) else ggplot2:::.zeroGrob)

       widths.left &lt;- mapply(`+`, e1=lapply(ytitles, grobWidth),
                            e2= lapply(ylabels, grobWidth), SIMPLIFY=FALSE)
       widths.right &lt;- lapply(legends, grobWidth)
       #  heights.top &lt;- lapply(plottitles, grobHeight)
       heights.top &lt;- lapply( plottitles, function(x) unit(0,""cm"") )
       heights.bottom &lt;- mapply(`+`, e1=lapply(xtitles, grobHeight), e2= lapply(xlabels, grobHeight), SIMPLIFY=FALSE)

       for ( i in seq_along( lstAll ) ) {
          lstCur &lt;- lstAll[[i]]

          # Left
          valNew &lt;- widths.left[[ i ]]
          valOld &lt;- stats.col[[ min(lstCur[[3]]) ]]$widths.left.max
          if ( is.null( valOld ) ) valOld &lt;- unit( 0, ""cm"" )
          stats.col[[ min(lstCur[[3]]) ]]$widths.left.max &lt;- max( do.call( unit.c, list(valOld, valNew) ) )

          # Right
          valNew &lt;- widths.right[[ i ]]
          valOld &lt;- stats.col[[ max(lstCur[[3]]) ]]$widths.right.max
          if ( is.null( valOld ) ) valOld &lt;- unit( 0, ""cm"" )
          stats.col[[ max(lstCur[[3]]) ]]$widths.right.max &lt;- max( do.call( unit.c, list(valOld, valNew) ) )

          # Top
          valNew &lt;- heights.top[[ i ]]
          valOld &lt;- stats.row[[ min(lstCur[[2]]) ]]$heights.top.max
          if ( is.null( valOld ) ) valOld &lt;- unit( 0, ""cm"" )
          stats.row[[ min(lstCur[[2]]) ]]$heights.top.max &lt;- max( do.call( unit.c, list(valOld, valNew) ) )

          # Bottom
          valNew &lt;- heights.bottom[[ i ]]
          valOld &lt;- stats.row[[ max(lstCur[[2]]) ]]$heights.bottom.max
          if ( is.null( valOld ) ) valOld &lt;- unit( 0, ""cm"" )
          stats.row[[ max(lstCur[[2]]) ]]$heights.bottom.max &lt;- max( do.call( unit.c, list(valOld, valNew) ) )
       }

       for(i in seq_along(dots)){
          lstCur &lt;- lstAll[[i]]
          nWidthLeftMax &lt;- stats.col[[ min( lstCur[[ 3 ]] ) ]]$widths.left.max
          nWidthRightMax &lt;- stats.col[[ max( lstCur[[ 3 ]] ) ]]$widths.right.max
          nHeightTopMax &lt;- stats.row[[ min( lstCur[[ 2 ]] ) ]]$heights.top.max
          nHeightBottomMax &lt;- stats.row[[ max( lstCur[[ 2 ]] ) ]]$heights.bottom.max
          pushViewport( viewport( layout.pos.row=lstCur[[2]],
                         layout.pos.col=lstCur[[3]], just=c(""left"",""top"") ) )
          pushViewport(viewport(
                         x=unit(0, ""npc"") + nWidthLeftMax - widths.left[[i]],
                         y=unit(0, ""npc"") + nHeightBottomMax - heights.bottom[[i]],
                         width=unit(1, ""npc"") - nWidthLeftMax + widths.left[[i]] -
                                               nWidthRightMax + widths.right[[i]],
                         height=unit(1, ""npc"") - nHeightBottomMax + heights.bottom[[i]] -
                                               nHeightTopMax + heights.top[[i]],
                         just=c(""left"",""bottom"")))
          grid.draw(dots[[i]])
          upViewport(2)
       }

    }
    #-----\align function-----

    # edge margins
    margin1 = 0.1
    margin2 = -0.9
    margin3 = 0.5

    plot &lt;- ggplot(data = dsmall) + geom_point(mapping = aes(x = x, y = depth, colour = cut)) + opts(legend.position=""none"")
    plot &lt;- plot + opts(axis.text.x = theme_blank(), axis.ticks = theme_blank(), axis.title.x = theme_blank())
    plot1 &lt;- plot + opts(plot.margin=unit.c(unit(margin1, ""lines""), unit(margin1,""lines""), unit(margin2,""lines""), unit(margin3,""lines"")))

    plot &lt;- ggplot(data = dsmall) + geom_point(mapping = aes(x = y, y = depth, colour = cut)) + opts(legend.position=""none"")
    plot &lt;- plot + opts(axis.text.x = theme_blank(), axis.ticks = theme_blank(), axis.title.x = theme_blank(), axis.text.y = theme_blank(), axis.title.y = theme_blank())
    plot2 &lt;- plot + opts(plot.margin=unit.c(unit(margin1, ""lines""), unit(margin1,""lines""), unit(margin2,""lines""), unit(margin2,""lines"")))

    plot &lt;- ggplot(data = dsmall) + geom_point(mapping = aes(x = z, y = depth, colour = cut)) + opts(legend.position=""none"")
    plot &lt;- plot + opts(axis.text.x = theme_blank(), axis.ticks = theme_blank(), axis.title.x = theme_blank(), axis.text.y = theme_blank(), axis.title.y = theme_blank())
    plot3 &lt;- plot + opts(plot.margin=unit.c(unit(margin1, ""lines""), unit(margin1,""lines""), unit(margin2,""lines""), unit(margin2,""lines"")))

    plot &lt;- ggplot(data = dsmall) + geom_point(mapping = aes(x = x, y = price, colour = cut)) + opts(legend.position=""none"")
    plot &lt;- plot + opts(axis.text.x = theme_blank(), axis.ticks = theme_blank(), axis.title.x = theme_blank())
    plot4 &lt;- plot + opts(plot.margin=unit.c(unit(margin1, ""lines""), unit(margin1,""lines""), unit(margin2,""lines""), unit(margin3,""lines"")))

    plot &lt;- ggplot(data = dsmall) + geom_point(mapping = aes(x = y, y = price, colour = cut)) + opts(legend.position=""none"")
    plot &lt;- plot + opts(axis.text.x = theme_blank(), axis.ticks = theme_blank(), axis.title.x = theme_blank(), axis.text.y = theme_blank(), axis.title.y = theme_blank())
    plot5 &lt;- plot + opts(plot.margin=unit.c(unit(margin1, ""lines""), unit(margin1,""lines""), unit(margin2,""lines""), unit(margin2,""lines"")))

    plot &lt;- ggplot(data = dsmall) + geom_point(mapping = aes(x = z, y = price, colour = cut)) + opts(legend.position=""none"")
    plot &lt;- plot + opts(axis.text.x = theme_blank(), axis.ticks = theme_blank(), axis.title.x = theme_blank(), axis.text.y = theme_blank(), axis.title.y = theme_blank())
    plot6 &lt;- plot + opts(plot.margin=unit.c(unit(margin1, ""lines""), unit(margin1,""lines""), unit(margin2,""lines""), unit(margin2,""lines"")))

    plot &lt;- ggplot(data = dsmall) + geom_point(mapping = aes(x = x, y = carat, colour = cut)) + opts(legend.position=""none"")
    plot &lt;- plot + opts(axis.ticks = theme_blank())
    plot7 &lt;- plot + opts(plot.margin=unit.c(unit(margin1, ""lines""), unit(margin1,""lines""), unit(margin3,""lines""), unit(margin3,""lines"")))

    plot &lt;- ggplot(data = dsmall) + geom_point(mapping = aes(x = y, y = carat, colour = cut)) + opts(legend.position=""none"")
    plot &lt;- plot + opts(axis.ticks = theme_blank(), axis.text.y = theme_blank(), axis.title.y = theme_blank())
    plot8 &lt;- plot + opts(plot.margin=unit.c(unit(margin1, ""lines""), unit(margin1,""lines""), unit(margin3,""lines""), unit(margin2,""lines"")))

    plot &lt;- ggplot(data = dsmall) + geom_point(mapping = aes(x = z, y = carat, colour = cut)) + opts(legend.position=""none"")
    plot &lt;- plot + opts(axis.ticks = theme_blank(), axis.text.y = theme_blank(), axis.title.y = theme_blank())
    plot9 &lt;- plot + opts(plot.margin=unit.c(unit(margin1, ""lines""), unit(margin1,""lines""), unit(margin3,""lines""), unit(margin2,""lines"")))

    grid_layout &lt;- grid.layout( nrow=3, ncol=3, widths=c(2,2,2), heights=c(2,2,2) )
    grid.newpage()
    pushViewport( viewport( layout=grid_layout ) )
    align.plots( grid_layout,
             list( plot1, 1, 1 ),
             list( plot2, 1, 2 ),
             list( plot3, 1, 3 ),
             list( plot4, 2, 1 ),
             list( plot5, 2, 2 ),
             list( plot6, 2, 3 ),
             list( plot7, 3, 1 ),
             list( plot8, 3, 2 ),
             list( plot9, 3, 3 ) )
}
</code></pre>

<p>original image:</p>

<p><img src=""https://i.stack.imgur.com/fDRK0.jpg"" alt=""i27.tinypic.com/o53s5y.jpg""></p>

<p>current progress image:</p>

<p><img src=""https://i.stack.imgur.com/ZCM1G.png"" alt=""enter image description here""></p>
","398680","","210945","","2012-10-09 04:15:12","2012-10-09 04:49:05","using grid and ggplot2 to create join plots using R","<r><ggplot2>","2","0","8","","","CC BY-SA 3.0","3305613","4452","4452","r","404559","3625322","3607736","",""
"3305669","1","3305852","","2010-07-22 03:51:30","","29","13720","<p>Say I have this example graph, i want to find the edges connected to vertex 'a'</p>

<pre><code> d &lt;- data.frame(p1=c('a', 'a', 'a', 'b', 'b', 'b', 'c', 'c', 'd'),
                 p2=c('b', 'c', 'd', 'c', 'd', 'e', 'd', 'e', 'e'))

library(igraph)
g &lt;- graph.data.frame(d, directed=FALSE)
print(g, e=TRUE, v=TRUE)
</code></pre>

<p>I can easily find a vertex:</p>

<pre><code> V(g)[V(g)$name == 'a' ]
</code></pre>

<p>But i need to reference all the edges connected to the vertex 'a'.</p>
","337493","","","","","2017-11-17 15:04:39","How do I find the edges of a vertex using igraph and R?","<r><igraph>","4","0","","","","CC BY-SA 2.5","3305669","4452","4452","r","404559","3625322","3607736","",""
"3305706","1","","","2010-07-22 04:02:20","","0","334","<p>I need to create a <em>pdf</em> file with several chart created by <code>ggplot2</code> arranged in a A4 paper, and repeat it 20-30 times. </p>

<p>I export the <code>ggplot2</code> chart into <em>ps</em> file, and try to <code>PostScriptTrace</code> it as instructed in <code>grImport</code>, but it just keep giving me error of <code>Unrecoverable error, exit code 1</code>.</p>

<p>I ignore the error and try to import and <em>xml</em> file generated into R object, give me another error:</p>

<blockquote>
  <p>attributes construct error<br>
  Couldn't find end of Start Tag text line 21<br>
  Premature end of data in tag picture line 3<br>
  Error: 1: attributes construct error<br>
         2: Couldn't find end of Start Tag text line 21<br>
         3: Premature end of data in tag picture line 3</p>
</blockquote>

<p>What's wrong here?</p>

<p>Thanks!</p>
","373908","","1543551","","2017-12-13 04:19:39","2017-12-13 04:19:39","error when trying to import ps file by grImport in R","<pdf><r><postscript>","1","2","","","","CC BY-SA 3.0","3305706","4452","4452","r","404559","3625322","3607736","",""
"3307544","1","3313410","","2010-07-22 09:46:47","","2","7323","<p>EDIT: </p>

<p>Thx to suggestions from the mailing list I realized that the problem I got has nothing to do with Sweave or Latex. Its some Mac OS X related issue. Whenever I run my script by selecting all and sending it to R it works.</p>

<p>When I use</p>

<pre><code>source(""myplainRcode.R"") 
</code></pre>

<p>i get the error message stated below</p>

<hr>

<p>finally I got sweave working together with ggplot2 on my Mac OS X. I invoke Sweave inside R with </p>

<pre><code>Sweave(""myfile.Rnw"")
</code></pre>

<p>which creates the desired latex output. Now that the basic tests work, I try to source my real world file and it crashes at the following line: </p>

<pre><code> gl_bybranch = ddply(new_wans,.(period,Branchen),
 function(X)data.frame(Geschftslage=mean(X$sentiment)))
</code></pre>

<p>I guess it has either to do with the "".(period...)"" or the """" . Unfortunately I can't change these labels because they are also used in legends. So, somewhere in my code these ugly umlauts will appear. Is there a way to escape them in Sweave? I can't believe that this is problem since Sweave is written by a German who probably have second most umlaut characters (behind Turkey). </p>

<p>The error message I get is: invalid multibyte character in Parser on line 195</p>

<p>Thx for any ideas in advance!</p>
","366256","","366256","","2010-07-22 19:49:27","2010-08-03 08:07:46","invalid multibyte character crashes when script is loaded from source (umlauts / special characters)","<r><special-characters><ggplot2><sweave>","1","2","1","","","CC BY-SA 2.5","3307544","4452","4452","r","404559","3625322","3607736","",""
"3307800","1","3309477","","2010-07-22 10:19:16","","3","4129","<p>I want my Access application to run an external program (in this case a R script) after the user clicks a button. I use this code:</p>

<pre><code>Dim RetVal
RetVal = Shell(""""""C:\Program Files\R\R-2.10.1\bin\R.exe"""" CMD BATCH --no-environ --silent --no-restore --no-save """"c:\test.R"""" """"c:\test-result.txt"""""", vbHide)
MsgBox RetVal
</code></pre>

<p>This works fine, but the VBA code keeps on running while my script is executed. How can I make Access waiting for the script to be finished? Has anybody suggestions about how to give an error message of the script back to Access?</p>
","293843","","293843","","2013-02-26 11:45:15","2013-02-26 11:45:15","Running an external script from Access","<ms-access><vba><r><ms-access-2007>","1","7","2","","","CC BY-SA 3.0","3307800","4452","4452","r","404559","3625322","3607736","",""
"3311870","1","3311892","","2010-07-22 17:59:13","","1","2844","<p>When trying to install a package in R I get the following odd error and R does not load and return the CRAN selection menu. What causes this?</p>

<pre><code>&gt; install.packages(""rJava"")
Warning in install.packages(""rJava"") :
  argument 'lib' is missing: using '/home/jal/R/x86_64-pc-linux-gnu-library/2.11'
--- Please select a CRAN mirror for use in this session ---
Loading Tcl/Tk interface ... done
Error in m[, 1L] : incorrect number of dimensions
&gt; 
</code></pre>
","37751","","","","","2010-07-22 18:02:11","R: ""Error in m[, 1L] : incorrect number of dimensions"" when installing a package","<r>","1","0","","","","CC BY-SA 2.5","3311870","4452","4452","r","404559","3625322","3607736","",""
"3311901","1","3311916","","2010-07-22 18:03:43","","12","11559","<p>I am trying to facet about 14 plots based on a variable that runs from 2-14. The plots show up in the order: 
10,11,12,13,14,15,2,3,4,5,6,7,8,9</p>

<p>How do I get them to order from 2-15?</p>

<p>update: ok, so I made it a factor using <code>data$var=as.factor(data$var)</code>. 
The Levels are 
<code>Levels: 10 11 12 13 14 15 2 3 4 5 6 7 8 9</code></p>

<p>How do I reorder those?</p>
","313163","","313163","","2010-07-22 18:09:05","2010-07-22 22:51:30","How do I get ggplot to order facets correctly?","<r><ggplot2>","2","0","5","","","CC BY-SA 2.5","3311901","4452","4452","r","404559","3625322","3607736","",""
"3311940","1","3311983","","2010-07-22 18:08:54","","121","133724","<p>When installing rJava using the <code>install.packages(""rJava"")</code> command I get the following error:</p>

<pre><code>checking Java support in R... present:
interpreter : '/usr/bin/java'
archiver    : '/usr/bin/jar'
compiler    : '/usr/bin/javac'
header prep.: '/usr/bin/javah'
cpp flags   : '-I/usr/lib/jvm/java-6-sun-1.6.0.20/jre/../include -I/usr/lib/jvm/java-6-sun-1.6.0.20/jre/../include/linux'
java libs   : '-L/usr/lib/jvm/java-6-sun-1.6.0.20/jre/lib/amd64/server -L/usr/lib/jvm/java-6-sun-1.6.0.20/jre/lib/amd64 -L/usr/lib/jvm/java-6-sun-1.6.0.20/jre/../lib/amd64 -L -L/usr/java/packages/lib/amd64 -L/usr/lib64 -L/lib64 -L/lib -L/usr/lib -ljvm'
checking whether JNI programs can be compiled... yes
checking JNI data types... configure: error: One or more JNI types differ from the corresponding native type. You may need to use non-standard compiler flags or a different compiler in order to fix this.
ERROR: configuration failed for package rJava
</code></pre>

<p>I have the Java JDK installed and <code>java -version</code> returns the following:</p>

<pre><code>$ java -version
java version ""1.6.0_20""
Java(TM) SE Runtime Environment (build 1.6.0_20-b02)
</code></pre>

<p>When Googling around for the error I see that others are having the same issue but not finding a solution other than ""install the whole JDK, not just the JRE"" which I have done. </p>

<p>The other thing I read was to run <code>sudo R CMD javareconf</code> which runs quite happily with no errors. </p>

<p>Any ideas what my problem is? </p>

<p><strong>[[EDIT]]</strong>
It's been a few months since I had this problem. I had initially solved this by editing my Java paths, as illustrated in the answer I posted below. I recently ran into the same issue on a new Ubuntu install. I tried Dirk's recommendation to use apt-get to install the rJava package. It worked perfectly. What I failed to appreciate initially is that installing packages using the Ubuntu apt-get method is fundamentally different than just loading the same package using install.packages() inside of R. The Ubuntu packages solve some issues which I didn't realize or appreciate. </p>
","37751","","37751","","2010-10-26 19:56:57","2021-03-09 07:50:29","R: rJava package install failing","<r><rjava>","17","4","50","","","CC BY-SA 2.5","3311940","4452","4452","r","404559","3625322","3607736","",""
"3312796","1","","","2010-07-22 19:47:44","","0","901","<p>When I plot my fitted models in R, I get the output with a vertical scale bar. Can some one kindly tell me how to place a horizontal scale bar in R plots instead of vertical? Thanks in advance.</p>
","382295","","","","","2015-04-23 11:37:24","Horizontal scale bar in R plot","<r>","1","2","","","","CC BY-SA 2.5","3312796","4452","4452","r","404559","3625322","3607736","",""
"3312964","1","3312971","","2010-07-22 20:08:51","","57","50469","<p>I have a date in R, e.g.:</p>

<pre><code>dt = as.Date('2010/03/17')
</code></pre>

<p>I would like to subtract 2 years from this date, without worrying about leap years and such issues, getting <code>as.Date('2010-03-17')</code>.</p>

<p>How would I do that?</p>
","399573","","2204410","","2017-10-23 15:59:35","2019-11-22 13:38:56","How to subtract years?","<r><date><date-arithmetic><r-faq>","6","0","14","","","CC BY-SA 3.0","3312964","4452","4452","r","404559","3625322","3607736","",""
"3315573","1","3320420","","2010-07-23 05:28:30","","1","2101","<p>I am trying to iteratively sort data within columns to extract N maximum values. </p>

<p>My data is set up with the first and second columns containing occupation titles and codes, and all of the rest of the columns containing comparative values (in this case location quotients that had to be previously calculated for each city) for those occupations for various cities:</p>

<pre><code>    *occ_code  city1  ...   city300*
     occ1      5      ...    7
     occ2      20     ...   22
     .         .       .     .
     .         .       .     .
     occ800    20     ...   25
</code></pre>

<p>For each city I want to sort by the maximum values, select a subset of those maximum values  matched by their respective occupations titles and titles. I thought it would be relatively trivial but...</p>

<p><em>edit for clarification:</em> I want end to with a sorted subset of the data for analysis.</p>

<pre><code>     occ_code   city1
     occ200     10
     occ90      8
     occ20      2
     occ95      1.5
</code></pre>

<p>At the same time I want to be able to repeat the sort column-wise (so I've tried lots of order commands through calling columns directly: data[,2]; just to be able to run the same analysis functions over the entire dataset. </p>

<p>I've been messing with plyr for the past 3 days and I feel like the setup of my dataset is just not conducive to how plyer was meant to be used.</p>
","397534","","397534","","2010-07-23 08:13:12","2010-07-23 16:47:09","R - Sorting and Sub-setting Maximum Values within Columns","<sorting><r><subset>","3","3","","","","CC BY-SA 2.5","3315573","4452","4452","r","404559","3625322","3607736","",""
"3316666","1","3317929","","2010-07-23 08:50:03","","5","2584","<p>Is there a standard way of sorting a data.frame by several columns, but with changes in decrease or increase? For example, you may want to order a data.frame by one variable (decreasing) and by the next (increasing).</p>

<p>Is there something like:</p>

<pre><code>mydf[ order(mydf$myvariable,mydf$myvariable2,decreasing=c(FALSE,TRUE)), ]
</code></pre>
","366256","","","Roger Pate","2010-11-01 04:56:09","2010-11-01 04:56:09","orderBy with changes in decreasing and increasing sorting","<r>","3","1","3","","","CC BY-SA 2.5","3316666","4452","4452","r","404559","3625322","3607736","",""
"3316797","1","","","2010-07-23 09:09:27","","2","1463","<p>I will like to avoid a loop in the following code:</p>
<pre><code>delta_S &lt;- function(Ro, Rr, Ir, S1, S2, S3, S4, chromaty) { .... etc .....}

for (i in 1:nrow(Rrecon)) {
    gri[i, 6] &lt;- delta_S(Ro=as.vector(Rrecon[i, ]), Rr=data_base$bck, Ir=data_base$Ir, S1=data_base$s1, S2=data_base$s2, S3=data_base$s3, S4=data_base$s4, chromaty=&quot;tetra&quot;)
}
</code></pre>
<p>My problem is that in my dataset, <code>i</code> varies from 1 to more than a million. I guess by using something like <code>apply</code> I could save time compared to the 19h currently required.</p>
<p>Thank you for any reply!</p>
<h3>Update:</h3>
<p>I have read some info about vectorization but it seems largely out of my skills (and I do not even speak about using C ou FORTRAN: I have learned R for three months only, to resolve this study). So by chance, if somebody has some time to look at in details my code and to propose a vectorization if it is possible, it would be hugely appreciated! Thank you
Julien
PS I copy the entire code because I do not know where it can be vectorize!</p>
<pre><code>data&lt;-read.table(&quot;databird.txt&quot;,sep=&quot;\t&quot;,dec=&quot;.&quot;,header=T,row.names=1)

#perform a PCA
pca&lt;-dudi.pca(data, center = FALSE, scale = FALSE, scannf = FALSE, nf = ncol(data))

#definition of some functions
Q &lt;- function(R,Ir,Si){
  temp &lt;- R/100*Ir*Si
  return(sum((temp[2:length(temp)]+temp[1:(length(temp)-1)])/2))
  }

delta_f &lt;- function(Ro,Rr,Ir,Si) {
  Qo &lt;- Q(Ro,Ir,Si)
  Qr &lt;- Q(Rr,Ir,Si)
  #if(Qo/Qr &lt;0) {print(&quot;bug: Qo/Qr &lt; 0, bug log neg&quot;); return(NaN)}
  return(log(Qo/Qr))
  }

delta_S &lt;- function(Ro,Rr,Ir,S1,S2,S3,S4,chromaty){
  if(chromaty==&quot;tetra&quot;){
    e1 &lt;- 0.1
    e2 &lt;- 0.07
    e3 &lt;- 0.07
    e4 &lt;- 0.05
    delta_f1 &lt;- delta_f(Ro,Rr,Ir,S1)
    delta_f2 &lt;- delta_f(Ro,Rr,Ir,S2)
    delta_f3 &lt;- delta_f(Ro,Rr,Ir,S3)
    delta_f4 &lt;- delta_f(Ro,Rr,Ir,S4)
    numerator &lt;- (e1*e2)^2*(delta_f4-delta_f3)^2+(e1*e3)^2*(delta_f4-delta_f2)^2+(e1*e4)^2*(delta_f2-delta_f3)^2+(e2*e3)^2*(delta_f4-delta_f1)^2+(e2*e4)^2*(delta_f3-delta_f1)^2+(e3*e4)^2*(delta_f2-delta_f1)^2
    denominator &lt;- (e1*e2*e3)^2+(e1*e2*e4)^2+(e1*e3*e4)^2+(e2*e3*e4)^2
    return(sqrt(numerator/denominator))
    }
  if(chromaty==&quot;tri&quot;){
    e1 &lt;- 0.0425
    e2 &lt;- 0.02
    e3 &lt;- 0.02
    delta_f1 &lt;- delta_f(Ro,Rr,Ir,S1)
    delta_f2 &lt;- delta_f(Ro,Rr,Ir,S2)
    delta_f3 &lt;- delta_f(Ro,Rr,Ir,S3)
    numerator &lt;- (e1^2*(delta_f3-delta_f2)^2+e2^2*(delta_f3-delta_f1)^2+e3^2*(delta_f1-delta_f2)^2)
    denominator &lt;- ((e1*e2)^2+(e1*e3)^2+(e2*e3)^2)
    return(sqrt(numerator/denominator))
    }
  if(chromaty==&quot;di&quot;){
    e1 &lt;- 0.06
    e2 &lt;- 0.02
    delta_f1 &lt;- delta_f(Ro,Rr,Ir,S1)
    delta_f2 &lt;- delta_f(Ro,Rr,Ir,S2)
    numerator &lt;- (delta_f1-delta_f2)^2
    denominator &lt;- (e1^2+e2^2)
    return(sqrt(numerator/denominator))
    }
  print(&quot;specification du niveau de chromaty incorrect&quot;)
  return(NaN)
  }

reconstBIS&lt;-function (dudi, nf = 1,scoregrid, ...) 
    {
    if (!inherits(dudi, &quot;dudi&quot;)) 
        stop(&quot;Object of class 'dudi' expected&quot;)
    if (nf &gt; dudi$nf) 
        stop(paste(nf, &quot;factors need &gt;&quot;, dudi$nf, &quot;factors available\n&quot;))
    if (!inherits(dudi, &quot;pca&quot;)) 
        stop(&quot;Object of class 'dudi' expected&quot;)
    cent &lt;- dudi$cent
    norm &lt;- dudi$norm
    n &lt;- nrow(scoregrid)
    p &lt;- ncol(dudi$tab)
    res &lt;- matrix(0, n, p)
    for (i in 1:nf) {
        xli &lt;- scoregrid[, i]
        yc1 &lt;- dudi$c1[, i]
        res &lt;- res + matrix(xli, n, 1) %*% matrix(yc1, 1, p)
    }
    res &lt;- t(apply(res, 1, function(x) x * norm))
    res &lt;- t(apply(res, 1, function(x) x + cent))
    res &lt;- data.frame(res)
    names(res) &lt;- names(dudi$tab)
    row.names(res) &lt;- paste(scoregrid[,1],scoregrid[,2],scoregrid[,3],scoregrid[,4],scoregri    [,5],sep=&quot;/&quot;)
    return(res)
    }

#creation of a grid with values to enter in the function delta_S
ran1&lt;-seq(-410,-400,2)
ran2&lt;-seq(110,120,2)
ran3&lt;-seq(10,20,2)
ran4&lt;-seq(-40,-30,2)
ran5&lt;-seq(10,20,2)
Length&lt;-length(ran1)*length(ran2)*length(ran3)*length(ran4)*length(ran5)
print(Length)
gri &lt;- matrix(NA,ncol=6,nrow=Length)
position &lt;- 1
  for(i in 1:length(ran1)) {
     for(j in 1:length(ran2)){
        for(k in 1:length(ran3)){
          for(l in 1:length(ran4)){
            for(m in 1:length(ran5)){
                gri[position,1] &lt;- ran1[i]
                gri[position,2] &lt;- ran2[j]
                gri[position,3] &lt;- ran3[k]
                gri[position,4] &lt;- ran4[l]
                gri[position,5] &lt;- ran5[m]
                position &lt;- position + 1
                if(position %% 100 == 0) print(paste(round(100*position/Length,2),&quot;%&quot;))
              }
            }
          }
        }
      };gc()

Rrecon&lt;-reconstBIS(pca,5,scoregrid=gri)
data_base &lt;- read.table(&quot;data_base.txt&quot;,header=T,dec=&quot;.&quot;,sep=&quot;\t&quot;) 
</code></pre>
<p>And here's the final loop to avoid:</p>
<pre><code>for (i in 1:nrow(Rrecon)) {
gri[i,6]&lt;- delta_S(Ro=as.vector(Rrecon[i,]),Rr=data_base$bck,Ir=data_base$Ir,S1=data_base$s1,S2=data_base$s2,S3=data_base$s3,S4=data_base$s4,chromaty=&quot;tetra&quot;)
if(i %% 100 == 0) print(paste(round(100*i/nrow(Rrecon),2),&quot;%&quot;))
}
</code></pre>
<p>Thank you very much !</p>
","400069","","-1","","2020-06-20 09:12:55","2010-07-23 19:51:18","avoidind a loop in R","<optimization><r><loops>","4","0","1","","","CC BY-SA 2.5","3316797","4452","4452","r","404559","3625322","3607736","",""
"3318333","1","","","2010-07-23 13:01:03","","247","181392","<p>I have to split a vector into n chunks of equal size in R. I couldn't find any base function to do that. Also Google didn't get me anywhere. Here is what I came up with so far;</p>
<pre><code>x &lt;- 1:10
n &lt;- 3
chunk &lt;- function(x,n) split(x, factor(sort(rank(x)%%n)))
chunk(x,n)
$`0`
[1] 1 2 3

$`1`
[1] 4 5 6 7

$`2`
[1]  8  9 10
</code></pre>
","400269","","6461462","","2020-09-29 16:13:50","2020-09-29 16:14:47","Split a vector into chunks","<r><vector>","20","8","94","","","CC BY-SA 4.0","3318333","4452","4452","r","404559","3625322","3607736","",""
"3320515","1","3322924","","2010-07-23 16:58:23","","5","9371","<p>I have a data frame that I would like to merge from long to wide format, but I would like to have the time embedded into the variable name in the wide format.  Here is an example data set with the long format:</p>

<pre><code>id &lt;- as.numeric(rep(1,16))
time &lt;- rep(c(5,10,15,20), 4)
varname &lt;- c(rep(""var1"",4), rep(""var2"", 4), rep(""var3"", 4), rep(""var4"", 4))
value &lt;- rnorm(16)
tmpdata &lt;- as.data.frame(cbind(id, time, varname, value))

&gt; tmpdata
id time varname              value
1    5    var1  0.713888426169224
1   10    var1   1.71483653545922
1   15    var1  -1.51992072577836
1   20    var1  0.556992407683219
....
4   20    var4   1.03752019932467
</code></pre>

<p>I would like this in a wide format with the following output:</p>

<pre><code>id var1.5 var1.10 var1.15 var1.20 ....
1  0.71   1.71    -1.51   0.55 

(and so on)
</code></pre>

<p>I've tried using reshape function in base R without success, and I was not sure how to accomplish this using the reshape package, as all of the examples put time as another variable in the wide format.  Any ideas?  </p>
","315664","","","","","2012-07-18 00:30:11","Reshape data from long to wide, with time in new wide variable name","<r>","4","0","6","","","CC BY-SA 2.5","3320515","4452","4452","r","404559","3625322","3607736","",""
"3321489","1","3321577","","2010-07-23 19:03:15","","9","6162","<p>I have data at a number of days since an event. This data is sampled irregularly - my time points are like 0, 5, 6, 10, 104 days. I don't have specific date-time information - i.e. I have no idea when in real life the event I'm studying occurred. </p>

<p>I'd like to plot, using ggplot, my time series. I can use, say</p>

<pre><code>p &lt;- ggplot(data,aes(x=time,y=expression))
p &lt;- p + geom_point()
</code></pre>

<p>but of course my x-axis variables are plotted next to each other, so that the distance between t=10 and t=104 is the same as t=5 and t=6. So I can make something up like</p>

<pre><code>start &lt;- ISOdate(2001, 1, 1, tz = """")
data$time &lt;- start + data$time*60*60*12
</code></pre>

<p>which almost works, but now the ticks on my x-axis are horribly inaccurate date times. I could re-format them maybe? But can't see anyway to make the format ""days from start"". And by now I've been googling around for quite a while, with the nagging feeling that I'm missing something seriously obvious. Am I?</p>
","270572","","805808","","2012-05-05 13:57:51","2018-06-03 17:54:50","R + ggplot: plotting irregular time series","<r><ggplot2><time-series>","2","0","4","","","CC BY-SA 2.5","3321489","4452","4452","r","404559","3625322","3607736","",""
"3321580","1","3321632","","2010-07-23 19:13:52","","2","766","<p>A series of functions generate varying number of data frames (minimum of 1 and a max of 11).
I'd like to combine them using rbind. If I knew the names, I could easily just <code>rbind(d1,d2...)</code> but can't do that since I have to combine a different number of data frames each time.</p>

<p>So <code>lags=rbind(pattern(""lags_2_Y*""))</code> didn't work.</p>

<p>I can get the list of the generated lag names into a vector like so: <code>lag_names=ls(pattern=""lags_2_Y*"")</code></p>

<p>If I do: <code>lags=llply(lag_names,rbind)</code>, I just get a list with the lag names. I want to rbind the contents of those data frames. </p>

<p>Ideas?</p>
","313163","","","","","2010-07-23 19:25:25","How can I use pattern to combine data frames using a wildcard?","<r>","1","1","1","","","CC BY-SA 2.5","3321580","4452","4452","r","404559","3625322","3607736","",""
"3323826","1","3323842","","2010-07-24 04:33:13","","1","21442","<p>I have a Program in R where i'm using do while loop in the following format</p>

<pre><code>for(i in 1:n) 
{
    repeat
    {
        #code
        if(condition){break}
    }
}
</code></pre>

<p>I have a problem even if the condition in if statement is true the loop is been executed still.Can anyone help me with this</p>

<p>Thank you </p>
","302058","","31516","","2010-07-24 04:36:36","2011-02-23 11:56:30","Do while loop in R","<r><loops><while-loop>","4","1","","","","CC BY-SA 2.5","3323826","4452","4452","r","404559","3625322","3607736","",""
"3323849","1","3323921","","2010-07-24 04:45:55","","5","1326","<p>I have written a function that will transform a number in base 10 to another base (I'm only interested in base 2 - 9). My current functions to convert base 10 to base 2 looks like:</p>

<pre><code>cb2 &lt;- function(num){
    td&lt;-{}
    a &lt;- {}
    while (num 2 &gt; 0 ){
        a &lt;- num %% 2
        td &lt;- paste(td,a, sep="""")
        num &lt;- as.integer(num / 2)              
    }   
    return(td)  
} 
</code></pre>

<p>And the usage would be:</p>

<pre><code>sapply(1:10, cb2)
</code></pre>

<p>I would like to generalize this function and include the preferred base(s) as arguments to the function, ala...</p>

<pre><code>convertbase &lt;- function(num, base){
    td&lt;-{}
    a &lt;- {}
    while (num / base &gt; 0 ){
        a &lt;- num %% base
        td &lt;- paste(td,a, sep="""")
        num &lt;- as.integer(num / base)               
    }   
    return(td)  
}
</code></pre>

<p>If I'm only interested in a single number converted into base 2-10, all is well:</p>

<pre><code>mapply(convertbase, 10, 2:10)
</code></pre>

<p>However, if I want numbers 1:10 for base 2:10, I run into problems:</p>

<pre><code>mapply(convertbase, 1:10, 2:10)
Warning message:
In mapply(convertbase, 1:10, 2:10) :
  longer argument not a multiple of length of shorter
</code></pre>

<p>Ideally, this function or set of functions would return a dataframe with separate columns for base 2-10, but I realize there's something missing between the code I have and the goal. Any help would be appreciated.</p>
","415635","","415635","","2011-12-03 00:14:35","2011-12-03 00:14:35","mapply recycling arguments","<r>","1","2","1","","","CC BY-SA 3.0","3323849","4452","4452","r","404559","3625322","3607736","",""
"3324217","1","3324274","","2010-07-24 07:20:47","","2","291","<p>I have loaded a dataset, D, into R and I would like to perform a frequency of all the variables in D versus D$binary_outcome. How do I do that?</p>

<p>I would like to know if there is some code that is fairly generic and D may have any number of variables and the code should be able to handle a dataset with any number of variables.</p>

<p>In effect I want to be able to do something like</p>

<pre><code>d = read.csv(""c:/d.csv"")
d.freq.varA = table(d$varA,d$binary_outcome)
d.freq.varB = table(d$varB,d$binary_outcome)
...
d.freq.varZZZ = table(d$varZZZ,d$binary_outcome)
</code></pre>

<p>for all variables A to ZZZ in d.</p>
","239923","","239923","","2010-07-24 08:00:38","2010-07-24 15:05:11","I have loaded a dataset, D, into R and I would like to perform a frequency of all the variables in D versus D$binary_outcome. How do I do that?","<r>","2","0","","","","CC BY-SA 2.5","3324217","4452","4452","r","404559","3625322","3607736","",""
"3324568","1","3324602","","2010-07-24 09:34:32","","1","1872","<p>I got the below piece of code and it keeps on printing the frequency tables. How do I stop it from doing this.</p>

<pre><code>pl = read.csv(""c:/pl.csv"")
freqs =  function(name){ assign(name, table(pl[,name],pl$bad_outcome), envir = .GlobalEnv);} 
lapply(names(pl), freqs);
</code></pre>
","239923","","","","","2010-07-24 09:46:41","How do I stop this a piece of R code from printing the output?","<r>","1","1","1","","","CC BY-SA 2.5","3324568","4452","4452","r","404559","3625322","3607736","",""
"3325923","1","","","2010-07-24 16:41:04","","1","376","<p>I have installed a <a href=""http://vgoulet.act.ulaval.ca/en/ressources/emacs/windows"" rel=""nofollow noreferrer"">modified Emacs version</a> for Windows XP from Vincent Goulet and I want to run and edit R scripts contained on a remote Unix server using ess-remote. After a lot of searching I am able to connect to a remote R session in the following way:</p>

<ol>
<li>Open a shell prompt with <code>M-x shell</code></li>
<li>enter the following command: <code>plink -X -C username@server</code></li>
<li>After entering password, I start up R in the shell with a simple command <code>R</code></li>
<li>Assign this as a remote process with command <code>M-x ess-remote</code></li>
</ol>

<p>While I am able to interact with R successfully, I always get a double prompt and worse yet, if open a help file for a function, I get garbled text in the same R process buffer, instead of a new buffer opening with legible R help text.  How can I get any help buffer to open in a separate window like the usual emacs and R interaction, and how can I get rid of the double-prompts when I execute the shell?</p>

<pre><code>Microsoft Windows XP [Version 5.1.2600]
(C) Copyright 1985-2001 Microsoft Corp.

c:\Documents and Settings\username&gt;plink -X -C username@remoteserver
plink -X -C username@remoteserver
username@remoteserver's password: 

[username@remoteserver ~]$ R
R

R version 2.11.0 (2010-04-22)
Copyright (C) 2010 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.


Welcome at Sat Jul 24 11:50:45 2010 
&gt; 
&gt; options(STERM='iESS')
options(STERM='iESS')
&gt; 
&gt; x &lt;- c(1,2,3)
&gt; 
&gt; x
[1] 1 2 3
&gt; 
&gt; ?mean(x)
  [?1049h[?1h=[24;1H[Kmean                   package:base                    R        Documentation

Arithmetic Mean

Description:

 Generic function for the (trimmed) arithmetic mean.

Usage:

 mean(x, ...)

 ## Default S3 method:
 mean(x, trim = 0, na.rm = FALSE, ...)

Arguments:

   x: An R object.  Currently there are methods for numeric/logical
      vectors and date, date-time and time interval objects, and
      for data frames all of whose columns have a method.  Complex
      vectors are allowed for 'trim = 0', only.

trim: the fraction (0 to 0.5) of observations to be trimmed from
</code></pre>

<p>[24;1H[K:[24;1H[24;1H[K          each end of 'x' before the mean is computed.  Values of trim
[24;1H[K: 
[24;1H[24;1H[K          outside that range are taken as the nearest endpoint.</p>

<pre><code>na.rm: a logical value indicating whether 'NA' values should be
      stripped before the computation proceeds.

 ...: further arguments passed to or from other methods.

Value:

 For a data frame, a named vector with the appropriate method being
 applied column by column.

 If 'trim' is zero (the default), the arithmetic mean of the values
 in 'x' is computed, as a numeric or complex vector of length one.
 If 'x' is not logical (coerced to numeric), numeric (including
 integer) or complex, 'NA_real_' is returned, with a warning.

 If 'trim' is non-zero, a symmetrically trimmed mean is computed
 with a fraction of 'trim' observations deleted from each end
 before the mean is computed.

References:

[24;1H[K:[24;1H[24;1H[K     Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988) _The New S
[24;1H[K:[24;1H[24;1H[K     Language_.  Wadsworth &amp; Brooks/Cole.
[24;1H[K:
[24;1H[24;1H[K
[24;1H[K:[24;1H[24;1H[KSee Also:
[24;1H[K:
[24;1H[24;1H[K
[24;1H[K:[24;1H[24;1H[K     'weighted.mean', 'mean.POSIXct', 'colMeans' for row and     column
[24;1H[K:
[24;1H[24;1H[K     means.
[24;1H[K:[24;1H[24;1H[K
[24;1H[K:
[24;1H[24;1H[KExamples:
[24;1H[K:[24;1H[24;1H[K
[24;1H[K:
[24;1H[24;1H[K     x &lt;- c(0:10, 50)
[24;1H[K:[24;1H[24;1H[K     xm &lt;- mean(x)
[24;1H[K:
[24;1H[24;1H[K     c(xm, mean(x, trim = 0.10))
[24;1H[K:[24;1H[24;1H[K     
[24;1H[K:
[24;1H[24;1H[K     mean(USArrests, trim = 0.2)
[24;1H[K:[24;1H[24;1H[K     
[24;1H[K:
[24;1H[24;1H[K
[24;1H[K:[24;1H[24;1H[K[24;1H[K(END) 
[24;1H[24;1H[K[24;1H[K(END) [24;1H[24;1H[K[24;1H[K(END) 
[24;1H[24;1H[K[24;1H[K(END) [24;1H[24;1H[K[24;1H[K(END) 
[24;1H[24;1H[K[24;1H[K(END) [24;1H[24;1H[K[24;1H[K(END) 
[24;1H[24;1H[K[24;1H[K(END) [24;1H[24;1H[K[24;1H[K(END) 
[24;1H[24;1H[K[24;1H[K(END) [24;1H[24;1H[K[24;1H[K(END) 
[24;1H[24;1H[K[24;1H[K(END) [24;1H[24;1H[K[24;1H[K(END) 
[24;1H[24;1H[K[24;1H[K(END) [24;1H[24;1H[K[24;1H[K(END) 
[24;1H[24;1H[K[24;1H[K(END) [24;1H[24;1H[K[24;1H[K(END) 
</code></pre>

<p>Here are the contents of site-start.el tramp inclusion for reference:</p>

<pre><code>(require 'tramp)
;(setq tramp-chunksize ""500"")
(setq tramp-default-method ""plink"")

(setq exec-path
      (cons
   (expand-file-name ""C:/putty_shortcut/"")
        exec-path)) 
</code></pre>
","315664","","","","","2010-07-25 06:20:53","Double prompt and garbled R help with remote R on WinXP emacs","<emacs><r><ess>","1","3","","","","CC BY-SA 2.5","3325923","4452","4452","r","404559","3625322","3607736","",""
"3327692","1","","","2010-07-25 01:54:12","","5","8823","<p>I've been trying to create a 3D bar plot based on categorical data, but have not found a way.</p>

<p>It is simple to explain. Consider the following example data (the real example is more complex, but it reduces to this), showing the relative risk of incurring something broken down by income and age, both categorical data.</p>

<p>I want to display this in a 3D bar plot (similar in idea to <a href=""http://demos.devexpress.com/aspxperiencedemos/NavBar/Images/Charts/ManhattanBar.jpg"" rel=""noreferrer"">http://demos.devexpress.com/aspxperiencedemos/NavBar/Images/Charts/ManhattanBar.jpg</a>). I looked at the scatterplot3d package, but it's only for scatter plots and doesn't handle categorical data well. I was able to make a 3d chart, but it shows dots instead of 3d bars. There is no chart type for what I need. I've also tried the rgl package, but no luck either. I've been googling for more than an hour now and haven't found a solution. I have a copy of the ggplot2 - Elegant Graphics for Data Analysis book as well, but ggplot2 doesn't have this kind of chart.</p>

<p>Is there another freeware app I could use? OpenOffice 3.2 doesn't have this chart either.</p>

<p>Thank you for any hints.</p>

<pre><code>Age,Income,Risk
young,high,1
young,medium,1.2
young,low,1.36
adult,high,1
adult,medium,1.12
adult,low,1.23
old,high,1
old,medium,1.03
old,low,1.11
</code></pre>
","277434","","","","","2010-07-25 09:30:41","How to make 3D plots with categorical data in R?","<r><charts><visualization><data-visualization>","3","3","2","","","CC BY-SA 2.5","3327692","4452","4452","r","404559","3625322","3607736","",""
"3328633","1","","","2010-07-25 09:08:59","","3","149","<p>i am trying to analyse wind data using the 'cut' command,<br>
i want to set 16 wind directions<br>
how can i cut directions 348.75 till 11.25 to a ""0"" label?
thank you<br>
eliav</p>
","397521","","376454","","2010-10-08 10:34:21","2010-10-08 10:34:21","using cut for cyclic data","<r><cyclic>","2","0","","","","CC BY-SA 2.5","3328633","4452","4452","r","404559","3625322","3607736","",""
"3330254","1","3330495","","2010-07-25 17:35:45","","2","1748","<p>Is there any package in R that contains algorithm for feature selection using Gram-Schmidt orthogonalization?</p>
","296427","","","","","2010-10-03 23:12:05","Feature selection using Gram-Schmidt orthogonalization in R","<r><statistics><linear-algebra><feature-selection>","3","0","1","","","CC BY-SA 2.5","3330254","4452","4452","r","404559","3625322","3607736","",""
"3330657","1","3330674","","2010-07-25 19:20:04","","0","311","<p>I have toyed with a number of ideas to do this, but so far have only come up with some rather inelegant solutions. I'm sure I could make it work, but the code would neither be pretty nor efficient. Here's the problem: </p>

<p>I have a series of integer pairs that are presented as rows in a two-column data frame. The goal is three-fold: </p>

<ol>
<li><p>You need to ""eliminate"" all the rows in this data frame. To ""eliminate"" a row, you must select either one of the units from that pair and send/save it to a vector of ""selected"" elements.</p></li>
<li><p>You must find the smallest possible combination of ""selected elements"" that will eliminate all the pairs in the data frame. </p></li>
<li><p>The code must be computationally efficient because it will be applied to rather large datasets.</p></li>
</ol>

<p>For instance, one would choose items ""1"" and ""2"" from the following list of pairs: </p>

<pre><code>1   3
1   4
2   5
3   2
</code></pre>

<p>The data below can be used as a working example. </p>

<p>Thanks!</p>

<p>Vincent</p>

<hr>

<p>Update for some context: </p>

<p>Hi Cipi and SiggyF.</p>

<p>I understand your concerns about this being homework, so in case you read this again, here's some context that I hope may dispell your doubts. </p>

<p>I am working with time-series cross sectional data in which N is much larger than T. I would like to use panel-corrected standard errors like those proposed in Beck &amp; Katz (1995). The packages ""pcse"" is mostly able to do this just fine. When you have an unbalanced panel, it essentially creates a ""rectangular"" dataset (every time units has the full amount of observations) by filling in missing values for the omitted observations in every panel. Then, pcse computes a matrix Sigma.hat which is essentially the weighted average of the outer product of the residuals within time periods (think of it as averaging over an N X N X T array to bring it down to a N X N Sigma.hat). </p>

<p>The problem is that if any two units have zero contemporaneous observation, then the corresponding cell in Sigma.hat will be NA, and pcse won't be able to use it to get the sandwich estimator of the variance covariance matrix. In my example, the data frame numbers correspond to the index of the missing values in Sigma.hat. I want to trim down Sigma.hat automatically, to get an estimate of the VCOV that uses the most information possible, hence my desire to keep as many of the numbers in the data frame. </p>

<p>This is probably very unclear to anyone who hasn't looked into pcse, but I hope you get the gist of it. </p>

<p>Sorry to have given an impression of impropriety, but I assure you, this is legit.  </p>

<hr>

<blockquote>
  <p>test&lt;-structure(list(row = c(27L, 44L,
  45L, 111L, 128L, 129L, 195L,  212L,
  213L, 279L, 296L, 297L, 363L, 380L,
  381L, 7L, 91L, 175L,  259L, 343L, 44L,
  45L, 70L, 128L, 129L, 154L, 212L,
  213L, 238L,  296L, 297L, 322L, 380L,
  381L, 406L, 7L, 37L, 48L, 91L, 121L, 
  132L, 175L, 205L, 216L, 259L, 289L,
  300L, 343L, 373L, 384L, 7L,  37L, 48L,
  91L, 121L, 132L, 175L, 205L, 216L,
  259L, 289L, 300L,  343L, 373L, 384L,
  44L, 45L, 128L, 129L, 212L, 213L,
  296L, 297L,  380L, 381L, 37L, 121L,
  205L, 289L, 373L, 27L, 44L, 45L, 111L,
  128L, 129L, 195L, 212L, 213L, 279L,
  296L, 297L, 363L, 380L, 381L,  7L,
  91L, 175L, 259L, 343L, 44L, 45L, 70L,
  128L, 129L, 154L, 212L,  213L, 238L,
  296L, 297L, 322L, 380L, 381L, 406L,
  7L, 37L, 48L,  91L, 121L, 132L, 175L,
  205L, 216L, 259L, 289L, 300L, 343L,
  373L,  384L, 7L, 37L, 48L, 91L, 121L,
  132L, 175L, 205L, 216L, 259L,  289L,
  300L, 343L, 373L, 384L, 44L, 45L,
  128L, 129L, 212L, 213L,  296L, 297L,
  380L, 381L, 37L, 121L, 205L, 289L,
  373L, 27L, 44L,  45L, 111L, 128L,
  129L, 195L, 212L, 213L, 279L, 296L,
  297L, 363L,  380L, 381L, 7L, 91L,
  175L, 259L, 343L, 44L, 45L, 70L, 128L,
  129L,  154L, 212L, 213L, 238L, 296L,
  297L, 322L, 380L, 381L, 406L, 7L, 
  37L, 48L, 91L, 121L, 132L, 175L, 205L,
  216L, 259L, 289L, 300L,  343L, 373L,
  384L, 7L, 37L, 48L, 91L, 121L, 132L,
  175L, 205L,  216L, 259L, 289L, 300L,
  343L, 373L, 384L, 44L, 45L, 128L,
  129L,  212L, 213L, 296L, 297L, 380L,
  381L, 37L, 121L, 205L, 289L, 373L, 
  27L, 44L, 45L, 111L, 128L, 129L, 195L,
  212L, 213L, 279L, 296L,  297L, 363L,
  380L, 381L, 7L, 91L, 175L, 259L, 343L,
  44L, 45L,  70L, 128L, 129L, 154L,
  212L, 213L, 238L, 296L, 297L, 322L,
  380L,  381L, 406L, 7L, 37L, 48L, 91L,
  121L, 132L, 175L, 205L, 216L,  259L,
  289L, 300L, 343L, 373L, 384L, 7L, 37L,
  48L, 91L, 121L,  132L, 175L, 205L,
  216L, 259L, 289L, 300L, 343L, 373L,
  384L, 44L,  45L, 128L, 129L, 212L,
  213L, 296L, 297L, 380L, 381L, 37L,
  121L,  205L, 289L, 373L, 27L, 44L,
  45L, 111L, 128L, 129L, 195L, 212L, 
  213L, 279L, 296L, 297L, 363L, 380L,
  381L, 7L, 91L, 175L, 259L,  343L, 44L,
  45L, 70L, 128L, 129L, 154L, 212L,
  213L, 238L, 296L,  297L, 322L, 380L,
  381L, 406L, 7L, 37L, 48L, 91L, 121L,
  132L,  175L, 205L, 216L, 259L, 289L,
  300L, 343L, 373L, 384L, 7L, 37L,  48L,
  91L, 121L, 132L, 175L, 205L, 216L,
  259L, 289L, 300L, 343L,  373L, 384L,
  44L, 45L, 128L, 129L, 212L, 213L,
  296L, 297L, 380L,  381L, 37L, 121L,
  205L, 289L, 373L), col = c(7L, 7L, 7L,
  7L, 7L,  7L, 7L, 7L, 7L, 7L, 7L, 7L,
  7L, 7L, 7L, 27L, 27L, 27L, 27L, 27L, 
  37L, 37L, 37L, 37L, 37L, 37L, 37L,
  37L, 37L, 37L, 37L, 37L, 37L,  37L,
  37L, 44L, 44L, 44L, 44L, 44L, 44L,
  44L, 44L, 44L, 44L, 44L,  44L, 44L,
  44L, 44L, 45L, 45L, 45L, 45L, 45L,
  45L, 45L, 45L, 45L,  45L, 45L, 45L,
  45L, 45L, 45L, 48L, 48L, 48L, 48L,
  48L, 48L, 48L,  48L, 48L, 48L, 70L,
  70L, 70L, 70L, 70L, 91L, 91L, 91L,
  91L, 91L,  91L, 91L, 91L, 91L, 91L,
  91L, 91L, 91L, 91L, 91L, 111L, 111L, 
  111L, 111L, 111L, 121L, 121L, 121L,
  121L, 121L, 121L, 121L, 121L,  121L,
  121L, 121L, 121L, 121L, 121L, 121L,
  128L, 128L, 128L, 128L,  128L, 128L,
  128L, 128L, 128L, 128L, 128L, 128L,
  128L, 128L, 128L,  129L, 129L, 129L,
  129L, 129L, 129L, 129L, 129L, 129L,
  129L, 129L,  129L, 129L, 129L, 129L,
  132L, 132L, 132L, 132L, 132L, 132L,
  132L,  132L, 132L, 132L, 154L, 154L,
  154L, 154L, 154L, 175L, 175L, 175L, 
  175L, 175L, 175L, 175L, 175L, 175L,
  175L, 175L, 175L, 175L, 175L,  175L,
  195L, 195L, 195L, 195L, 195L, 205L,
  205L, 205L, 205L, 205L,  205L, 205L,
  205L, 205L, 205L, 205L, 205L, 205L,
  205L, 205L, 212L,  212L, 212L, 212L,
  212L, 212L, 212L, 212L, 212L, 212L,
  212L, 212L,  212L, 212L, 212L, 213L,
  213L, 213L, 213L, 213L, 213L, 213L,
  213L,  213L, 213L, 213L, 213L, 213L,
  213L, 213L, 216L, 216L, 216L, 216L, 
  216L, 216L, 216L, 216L, 216L, 216L,
  238L, 238L, 238L, 238L, 238L,  259L,
  259L, 259L, 259L, 259L, 259L, 259L,
  259L, 259L, 259L, 259L,  259L, 259L,
  259L, 259L, 279L, 279L, 279L, 279L,
  279L, 289L, 289L,  289L, 289L, 289L,
  289L, 289L, 289L, 289L, 289L, 289L,
  289L, 289L,  289L, 289L, 296L, 296L,
  296L, 296L, 296L, 296L, 296L, 296L,
  296L,  296L, 296L, 296L, 296L, 296L,
  296L, 297L, 297L, 297L, 297L, 297L, 
  297L, 297L, 297L, 297L, 297L, 297L,
  297L, 297L, 297L, 297L, 300L,  300L,
  300L, 300L, 300L, 300L, 300L, 300L,
  300L, 300L, 322L, 322L,  322L, 322L,
  322L, 343L, 343L, 343L, 343L, 343L,
  343L, 343L, 343L,  343L, 343L, 343L,
  343L, 343L, 343L, 343L, 363L, 363L,
  363L, 363L,  363L, 373L, 373L, 373L,
  373L, 373L, 373L, 373L, 373L, 373L,
  373L,  373L, 373L, 373L, 373L, 373L,
  380L, 380L, 380L, 380L, 380L, 380L, 
  380L, 380L, 380L, 380L, 380L, 380L,
  380L, 380L, 380L, 381L, 381L,  381L,
  381L, 381L, 381L, 381L, 381L, 381L,
  381L, 381L, 381L, 381L,  381L, 381L,
  384L, 384L, 384L, 384L, 384L, 384L,
  384L, 384L, 384L,  384L, 406L, 406L,
  406L, 406L, 406L)), .Names = c(""row"",
  ""col"" ), row.names = c(NA, -400L),
  class = ""data.frame"")</p>
</blockquote>
","342331","","342331","","2010-07-26 12:36:23","2010-07-26 16:53:28","Simple R puzzle (elimination of pairs)","<r>","1","4","","","","CC BY-SA 2.5","3330657","4452","4452","r","404559","3625322","3607736","",""
"3331016","1","3331157","","2010-07-25 21:09:25","","2","482","<p>We're all familiar with naming conventions in R (if not: <em>Venables &amp; Smith - Introduction to R, Chapter 1.8</em>). Regular expressions, on the other hand, remain <em>terra incognita</em> and the most hated part in my programming life so far ... Recently, I've officially started JavaScript recapitulation, and I'm trying to create precise RegExp to check correct R object name.</p>

<p><strong><em>Brief intro:</em></strong> 
Object names must start with <code>.</code> or lower/uppercase letter, and if they start with <code>.</code> cannot continue with numeric... afterward, alphanumeric symbols are allowed with <code>.</code> and underscore <code>_</code>.</p>

<p>Long story short, here's my JS code:</p>

<pre><code>var txt = ""._."";
var inc = /^\.(?!\d)|^[a-z\.]/i;

document.write(inc.test(txt));
</code></pre>

<p>This approach manages the first part (<code>.</code> and/or lower/upper case and numeric after <code>.</code>), but I cannot pass something like <code>&amp; [\w\.]</code>. I can write a function that will take care of this one, but is it at all possible to manage this with a single RegExp?</p>
","457898","","","","","2010-07-25 21:46:54","JavaScript RegExp: R naming conventions","<javascript><regex><r><naming-conventions>","1","0","","","","CC BY-SA 2.5","3331016","4452","4452","r","404559","3625322","3607736","",""
"3331270","1","3331490","","2010-07-25 22:24:07","","2","1967","<p>I have a custom function that produces a scatter plot, fits an OLS model and then plots the best fit line with 95% CI bands. This works well, but I want to log the data and change the plot's axes to a log-scaled version of the original data (this is easily done using the 'plot' function's built in 'log' argument to alter the plot axes - log=""xy""). The problem is, the plotting of the CIs and regression line is based on the scale of the (logged) data, which in this case would range between the values of about 0 to 2, while the plot's axes would range from about 0 to 200. Thus the CIs and regression line would not be visible on the plot.</p>

<p>I can't seem to find a way to alter the CIs and regression line to fit the logged plot, or to alter the plot axes manually to mimic using log=""xy"".</p>

<p>To see what I mean, you can alter the beginning of the plot function to read:</p>

<pre><code>plot(X, Y, log=""xy"", ...)
</code></pre>

<p>Here is some made up data and the function and function call:</p>

<pre><code># data
   X &lt;- c(33.70, 5.90, 71.50, 77.90, 71.50, 35.80, 12.30, 9.89, 3.93, 5.85, 97.50, 12.30, 3.65, 5.21, 3.9, 42.70, 5.34, 3.60, 2.30, 5.21)  
   Y &lt;- c(1.98014, 2.26562, 3.53037, 1.08090, 0.95108, 3.00287, 0.81037, 1.63500, 1.16741, 2.54356, 1.23395, 2.36248, 3.46605, 2.39903, 2.85762, 1.69053, 2.05721, 2.34771, 0.82934, 2.92457)  
   group &lt;- c(""C"", ""F"", ""B"", ""A"", ""B"", ""C"", ""D"", ""E"", ""G"", ""F"", ""A"", ""G"", ""H"", ""I"", ""D"", ""I"", ""J"", ""J"", ""H"", ""E"")  
   group &lt;- as.factor(group)

# this works, but does not have log scaled axis  

LM &lt;- function(Y, X, group){  
lg.Y &lt;- log10(Y)  
lg.X &lt;- log10(X)  
fit &lt;- lm(lg.Y ~ lg.X)  
summ &lt;- summary(fit)  
stats &lt;- unlist(summ[c('r.squared', 'adj.r.squared', 'fstatistic')])  
# increase density of values to predict over to increase quality of curve  
xRange &lt;- data.frame( lg.X=seq(min(lg.X), max(lg.X), (max(lg.X)-min(lg.X))/1000) )   
# get confidence intervals  
model.ci &lt;- predict(fit, xRange, level=0.95, interval=""confidence"")  
# upper and lower ci  
ci.u &lt;- model.ci[, ""upr""]  
ci.l &lt;- model.ci[, ""lwr""]  
# create a 'loop' around the x, and then y, values. Add values to 'close' the loop  
X.Vec &lt;- c(xRange$lg.X, tail(xRange$lg.X, 1), rev(xRange$lg.X), xRange$lg.X[1])  
Y.Vec &lt;- c(ci.l, tail(ci.u, 1), rev(ci.u), ci.l[1])  
# plot
plot(lg.X, lg.Y,                                 # add log=""xy"" here and use unlogged X, Y
    pch=as.numeric(group), col=as.numeric(group),
    ylab=paste(""log10("", deparse(substitute(Y)), "")"", sep=""""),
    xlab=paste(""log10("", deparse(substitute(X)), "")"", sep=""""),
    panel.first=grid(equilogs=FALSE) )
# Use polygon() to create the enclosed shading area
# We are 'tracing' around the perimeter as created above
polygon(X.Vec, Y.Vec, col=rgb(0.1, 0.1, 0.1, 0.25), border=NA) # rgb is transparent col=""grey""
# Use matlines() to plot the fitted line and CI's
# Add after the polygon above so the lines are visible
matlines(xRange$lg.X, model.ci, lty=c(1, 2, 2), type=""l"", col=c(""black"", ""red"", ""red""))
    # legend
    savefont &lt;- par(font=3)
    legend(""bottomright"", inset=0, legend=as.character(unique(group)), col=as.numeric(unique(group)),
        pch=as.numeric(unique(group)), cex=.75, pt.cex=1)
    par(savefont)
    # print stats
    mtext(text=paste(""R^2 = "", round(summ$r.squared, digits=2), sep=""""), side=1, at=1, cex=.7, line=2, col=""red"")
    mtext(text=paste(""adj.R^2 = "", round(summ$adj.r.squared, digits=2), sep=""""), side=1, at=1.5, cex=.7, line=2, col=""red"")
list(model.fit=fit, summary=summ, statistics=stats)}      

# call
LM(Y, X, group)  
</code></pre>
","230850","","1855677","","2012-02-12 04:25:33","2012-02-12 04:25:33","Plot confidence bands on log-scaled plot in R","<r>","1","0","","","","CC BY-SA 3.0","3331270","4452","4452","r","404559","3625322","3607736","",""
"3331661","1","3331760","","2010-07-26 00:53:33","","0","781","<p>Recently, I needed to convert a series of dates from the form <code>""July 25, 2010""</code> to the standard R format <code>""2010-07-25""</code>: </p>

<pre><code>&gt; head(old.data$dateoccurred)`
[1] ""April 9, 2004""     ""September 1, 2004"" ""February 7, 2005
</code></pre>

<p>To solve this, I would like to make a 12-case switch-statement that returns the the numeric representation of a month; however, R does not support a native switch (at least, I could not find one).</p>

<p>As such, what is the most R-like way to create a switch?</p>
","144537","","","","","2010-07-26 01:36:12","Creating a switch-statement","<r><switch-statement>","2","0","","","","CC BY-SA 2.5","3331661","4452","4452","r","404559","3625322","3607736","",""
"3332075","1","3333999","","2010-07-26 03:42:46","","5","1487","<p>For a tcltk application, I would like to start an R script without opening a console window or starting a DOS box. I already figured out that by creating a link to RScript.exe I can force the console window to start minimized, but I wonder if I can avoid the console window at all?</p>
","216064","","216064","","2010-07-27 14:22:48","2010-07-27 14:22:48","Start RScript without DOS box (on Windows)?","<r><app-startup>","1","0","2","","","CC BY-SA 2.5","3332075","4452","4452","r","404559","3625322","3607736","",""
"3332313","1","","","2010-07-26 05:05:26","","2","397","<p>Given:</p>

<pre><code>h_i=t_(i+1)-t_i for i=1,...,n-1 where n is a positive integer.
</code></pre>

<p>The matrix <code>Q</code> is an <code>n</code> by <code>(n-2)</code> matrix with entries <code>q_(i,j)</code> with <code>i=1,...,n</code> and <code>j=2,...n-1</code> given by:</p>

<pre><code>q_(j-1,j)=1/h_(j-1)
q_(j,j)=-(1/h_(j-1)+1/h_j)
q_(j+1,j)=1/h_j
q_(i,j)=0 for |i-j|&gt;=2
</code></pre>

<p>I want to get a matrix <code>Q</code>. How do i write a program for this matrix in R? Many thanx in advance.</p>
","401934","","401934","","2010-07-26 07:49:51","2010-07-26 09:00:37","how do i fill the entries of this matrix in R?","<r><matrix><loops>","1","0","","","","CC BY-SA 2.5","3332313","4452","4452","r","404559","3625322","3607736","",""
"3337044","1","","","2010-07-26 16:55:32","","7","5276","<p>I'm running a logistic regression model in R. I've used both the Zelig and Car packages. However, I'm wondering if there is a simple way to get the model fit statistics for the model. (pseudo R-square, chi-square, log liklihood,etc)</p>
","402523","","3576984","","2015-07-17 02:56:50","2019-06-25 02:34:47","Model Fit statistics for a Logistic Regression","<r><statistics><r-zelig>","5","3","2","","","CC BY-SA 2.5","3337044","4452","4452","r","404559","3625322","3607736","",""
"3337073","1","3343337","","2010-07-26 16:58:32","","1","1862","<p>Is there a way to change the default number formatting in R so that numbers will print a certain way without repeatedly having to use the format() function? For example, I would like to have</p>

<pre><code>&gt; x &lt;- 100000
&gt; x
[1] 100,000
</code></pre>

<p>instead of </p>

<pre><code>&gt; x &lt;- 100000
&gt; x
[1] 100000
</code></pre>
","233446","","","","","2010-07-27 11:54:52","Change default number formatting in R","<r>","2","0","","","","CC BY-SA 2.5","3337073","4452","4452","r","404559","3625322","3607736","",""
"3337306","1","3337692","","2010-07-26 17:26:04","","5","1230","<p>I am using R on some relatively big data and am hitting some memory issues.  This is on Linux.  I have significantly less data than the available memory on the system so it's an issue of managing transient allocation.  </p>

<p>When I run gc(), I get the following listing</p>

<pre><code>           used   (Mb) gc trigger   (Mb)  max used   (Mb)
Ncells   2147186  114.7    3215540  171.8   2945794  157.4
Vcells 251427223 1918.3  592488509 4520.4 592482377 4520.3
</code></pre>

<p>yet R appears to have 4gb allocated in resident memory and 2gb in swap.  I'm assuming this is OS-allocated memory that R's memory management system will allocate and GC as needed.  However, lets say that I don't want to let R OS-allocate more than 4gb, to prevent swap thrashing.  I could always ulimit, but then it would just crash instead of working within the reduced space and GCing more often.  Is there a way to specify an arbitrary maximum for the gc trigger and make sure that R never os-allocates more?  Or is there something else I could do to manage memory usage?</p>
","74493","","","","","2010-07-26 18:15:25","GC and memory limit issues with R","<memory><r><garbage-collection>","1","0","2","","","CC BY-SA 2.5","3337306","4452","4452","r","404559","3625322","3607736","",""
"3337433","1","","","2010-07-26 17:43:38","","2","1425","<p>I have a set of data need to be plotted (1M rows) with <strong>R</strong>. The time column (column 1) is in hh:mm:ss.000 format. I would like to plot the graph in a time range, say from 08:05:00 to 09:00:00. How do I do it? I have searching the web and couldn't find a way to set the xlim properly. </p>

<p>Here's an short example of the data. Column 1 is time, Column 2, 3, 4.. will be on y axis.
07:51:19.553,10.785,0.000,0.392,1.512,1.527,1.553,1.560,2.838</p>

<p>08:05:00.661,-1.555,0.000,0.041,0.310,0.314,0.321,0.327,1.474</p>

<p>08:06:58.250,30.781,0.000,0.093,0.156,0.160,0.168,0.173,1.411</p>

<p>08:30:02.506,-0.002,0.000,0.052,0.120,0.123,0.132,0.137,1.361</p>

<p>09:05:00.997,-1.802,0.000,0.032,0.078,0.080,0.087,0.090,1.258</p>

<p>10:05:00.661,-1.555,0.000,0.041,0.310,0.314,0.321,0.327,1.474</p>

<p>Thanks in advance for your help.</p>
","402578","","271616","","2011-08-13 17:56:56","2011-08-13 17:56:56","How to plot a range of data with time in hh:mm:ss.000 format in R?","<r><plot><time-series>","2","0","1","","","CC BY-SA 2.5","3337433","4452","4452","r","404559","3625322","3607736","",""
"3337533","1","3339400","","2010-07-26 17:56:49","","32","76071","<p>Suppose that you have a data frame with many rows and many columns.</p>

<p>The columns have names. You want to access rows by number, and columns by name.</p>

<p>For example, one (possibly slow) way to loop over the rows is</p>

<pre><code>for (i in 1:nrow(df)) {
  print(df[i, ""column1""])
  # do more things with the data frame...
}
</code></pre>

<p>Another way is to create ""lists"" for separate columns (like <code>column1_list = df[[""column1""]</code>), and access the lists in one loop. This approach might be fast, but also  inconvenient if you want to access many columns.</p>

<p>Is there a fast way of looping over the rows of a data frame? Is some other data structure better for looping fast?</p>
","249487","","202229","","2016-04-29 11:08:51","2017-07-16 16:05:30","In R, how do you loop over the rows of a data frame really fast?","<r><performance><dataframe><iteration><rows>","3","3","10","","","CC BY-SA 2.5","3337533","4452","4452","r","404559","3625322","3607736","",""
"3337765","1","3665907","","2010-07-26 18:25:48","","1","1291","<p>The following code assigns a manual color scale of red and black to my points:</p>

<pre><code>require(ggplot2)
require(directlabels)
dtest &lt;- data.frame(x=1:20,
                  y=rnorm(20,0,5),
                  v=seq(1,2))
p &lt;- ggplot(dtest, aes(x=x,y=y,color=as.factor(v))) + geom_point() + scale_colour_manual(values=c(""red"",""black""))
p #this looks good; red and black as intended

direct.label(p) #this falls back on the default colors
</code></pre>

<p>But when I apply direct.label() to the same plot, it overrides the color scale in favor of the ggplot default. Is there a way to prevent this? If not, what's the best way to assign new colors to the default ggplot scale?
Thanks,
Matt</p>
","197321","","197321","","2010-07-29 12:52:00","2010-12-09 14:55:04","Can I use direct.label() with ggplot's scale_colour_manual()?","<r><ggplot2>","1","4","1","","","CC BY-SA 2.5","3337765","4452","4452","r","404559","3625322","3607736","",""
"3339030","1","3339039","","2010-07-26 21:08:23","","1","8441","<p>I am passing data from C# to R over a COM interface. When the data arrives in R it is housed in a 'Matrix'. Some of the functions that I use require that the data be inside a 'DataFrame' instead. I convert the data structure using </p>

<pre><code>newDataFrame &lt;- as.data.frame(oldMatrix)
</code></pre>

<p>The table of data reaches R just fine, once I make the conversion to the DataFrame however, it assumes all of my numeric data are factors!</p>

<p>So it turns: {34, 46, 90, 54, 69, 54} into {1, 2, 3, 4, 5, 4}</p>

<p>My data table DOES have factors in it though, so I just can't force the whole thing to be numeric. Is there any way around this? Note: I can't export the data as a CSV onto the filesystem and read it into R manually.</p>

<p>On a side note, the function I am using that requires a DataFrame is the 'Hmisc' package using </p>

<pre><code>hist.data.frame(dataFrame)
</code></pre>

<p>this produces a frequency histogram for every column of data in the DataFram and arranges them in all in a grid pattern (quite nifty)!</p>

<p>Thanks!
-Dave</p>
","131302","","","","","2010-07-27 01:16:50","Problem converting a Matrix to Data Frame in R (R thinks all numeric types are factors)","<data-structures><r><matrix><type-conversion><dataframe>","2","0","1","","","CC BY-SA 2.5","3339030","4452","4452","r","404559","3625322","3607736","",""
"3339147","1","","","2010-07-26 21:29:35","","4","3779","<p>I'm tying to execute an R script from python, ideally displaying and saving the results.  Using rpy2 has been a bit of a struggle, so I thought I'd just call R directly.  I have a feeling that I'll need to use something like ""os.system"" or ""subprocess.call,"" but I am having difficulty deciphering the module guides.</p>

<p>Here's the R script ""MantelScript"", which uses a particular stat test to compare two distance matrices at a time (distmatA1 and distmatB1).  This works in R, though I haven't yet put in the iterating bits in order to read through and compare a bunch of files in a pairwise fashion (<strong>I really need some assistance with this, too btw!</strong>):</p>

<pre><code>library(ade4)

M1&lt;-read.table(""C:\\pythonscripts\\distmatA1.csv"", header = FALSE, sep = "","")
M2&lt;-read.table(""C:\\pythonscripts\\distmatB1.csv"", header = FALSE, sep = "","")

mantel.rtest(dist(matrix(M1, 14, 14)), dist(matrix(M2, 14, 14)), nrepet = 999)
</code></pre>

<p>Here's the relevant bit of my python script, which reads through some previously formulated lists and pulls out matrices in order to compare them via this Mantel Test (it should pull the first matrix from identityA and sequentially compare it to every matrix in identityB, then repeat with the second matrix from identityB etc).  I want to save these files and then call on the R program to compare them:</p>

<pre><code># windownA and windownB are lists containing ascending sequences of integers
# identityA and identityB are lists where each field is a distance matrix.

z = 0
v = 0

import subprocess
import os

for i in windownA:                              

    M1 = identityA[i]                          

    z += 1
    filename = ""C:/pythonscripts/distmatA""+str(z)+"".csv""
    file = csv.writer(open(filename, 'w'))
    file.writerow(M1)


    for j in windownB:                          

        M2 = identityB[j]                     

        v += 1
        filename2 = ""C:/pythonscripts/distmatB""+str(v)+"".csv""
        file = csv.writer(open(filename2, 'w'))
        file.writerow(M2)

        ## result = os.system('R CMD BATCH C:/R/library/MantelScript.R') - maybe something like this??

        ## result = subprocess.call(['C:/R/library/MantelScript.txt'])  - or maybe this??

        print result
        print ' '
</code></pre>
","393200","","","","","2010-07-28 17:06:30","issue running a program (R) in Python to perform an operation (execute a script)","<python><r><subprocess><os.system><rpy2>","4","0","2","","","CC BY-SA 2.5","3339147","4452","4452","r","404559","3625322","3607736","",""
"3339386","1","3339806","","2010-07-26 18:58:41","","0","645","<p>Greetings,</p>

<p>Basically, I have two vectors of data (let's call it experimental and baseline). I want to use the lattice library and histogram functions of R to plot the two histograms side-by-side, just as seen at the end of <a href=""http://www2.warwick.ac.uk/fac/sci/moac/degrees/modules/ch923/r_introduction/histograms_etc/"" rel=""nofollow noreferrer"">this page</a>.</p>

<p>I have my data in a CSV file like this:</p>

<pre><code>Label1,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18
Label2,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18
Label3,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18
Label4,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18
Label5,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18
Label6,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18
</code></pre>

<p>Each row should be a new pair of histograms. Columns 1-9 represents the data for the experiment (left-side histogram). Columns 10-18 represents the baseline data (right-side histogram).</p>

<p>Can anyone help me on this? Thanks.</p>
","41652","Hugo S Ferreira","2679518","","2014-04-29 23:10:58","2014-04-29 23:10:58","Setting up a CSV file for R to display histograms","<r><lattice>","2","1","","","","CC BY-SA 2.5","3339386","4452","4452","r","404559","3625322","3607736","",""
"3339630","1","","","2010-07-26 23:08:25","","10","4216","<p>Is there an easy way to turn of all GUI elements in R and run it solely from the command line on OSX?  </p>

<p>I'm trying to replicate the behavior of a remote linux terminal on my OSX machine.  Thus plot() should just save a file and things like CRAN mirror selection should be text, not a Tk interface.  I'm having trouble finding where to set this behavior.</p>
","118402","","322912","","2011-09-15 12:14:30","2014-06-01 21:49:04","Disable GUI, graphics devices in R","<r>","4","0","1","","","CC BY-SA 2.5","3339630","4452","4452","r","404559","3625322","3607736","",""
"3340568","1","3341114","","2010-07-27 03:33:12","","10","4031","<p>I have reached the limit of RAM in analyzing large datasets in R. I think my next step is to import these data into a MySQL database and use the <code>RMySQL</code> package. Largely because I don't know database lingo, I haven't been able to figure out how to get beyond installing MySQL with hours of Googling and RSeeking (I am running MySQL and MySQL Workbench on Mac OSX 10.6, but can also run Ubuntu 10.04).</p>

<p>Is there a good reference on how to get started with this usage? At this point I don't want to do any sort of relational databasing. I just want to import .csv files into a local MySQL database and do the subsetting in with <code>RMySQL</code>.</p>

<p>I appreciate any pointers (including ""You're way off base!"" as I'm new to R and newer to large datasets... this one's around 80 mb)</p>
","334755","","","","","2014-01-16 16:13:29","Set up large database in MySQL for analysis in R","<mysql><macos><r>","5","3","7","","","CC BY-SA 2.5","3340568","4452","4452","r","404559","3625322","3607736","",""
"3340582","1","3341445","","2010-07-27 03:35:56","","6","2137","<p>I am attempting to bin time-series data from several years of observation by month using the <code>stat_bin</code> function in <code>ggplot2</code>.  The code looks like this:</p>

<pre><code>month.breaks&lt;-seq.Date(from=min(afg$DateOccurred),to=max(afg$DateOccurred),by=""month"")  # All months, for breaks
report.region&lt;-ggplot(afg,aes(x=DateOccurred))+stat_bin(aes(y=..density..,fill=Type),breaks=month.breaks)+facet_wrap(~Region)
print(report.region)
</code></pre>

<p>When I run print, however, I get the following error:</p>

<pre><code>Error in `+.Date`(left, right) : binary + is not defined for Date objects
</code></pre>

<p>If I am reading this correctly, the plus operator is not defined for <code>Date</code> objects and thus it is not possible to perform this type of binning?</p>
","144537","","","","","2017-03-16 04:21:18","Using seq.Date as breaks in stat_bin for time-series","<r><ggplot2>","3","1","1","","","CC BY-SA 2.5","3340582","4452","4452","r","404559","3625322","3607736","",""
"3340690","1","3351905","","2010-07-27 04:10:26","","16","40708","<p>I am using D to get derivatives of a function. However, R does not simplify the expression when returning the derivative. I need to figure out if a function has a derivative that can be expressed generically. Is there some way in R to simplify the expression?</p>

<pre><code>&gt; D(expression(sqrt(1 - x^2)), 'x')
-(0.5 * (2 * x * (1 - x^2)^-0.5))
&gt; D(D(expression(sqrt(1 - x^2)), 'x'), 'x')
-(0.5 * (2 * (1 - x^2)^-0.5 - 2 * x * (-0.5 * (2 * x * (1 - x^2)^-1.5))))
</code></pre>

<p>Secondly, is there a way in R to do numerical integration?</p>
","236215","","","","","2015-05-05 19:02:21","derivative of a function","<r><derivative>","2","0","15","","","CC BY-SA 2.5","3340690","4452","4452","r","404559","3625322","3607736","",""
"3345625","1","3346000","","2010-07-27 16:13:11","","1","2745","<p>I was wondering if it were possible to include variables when using <code>expression</code> in R.</p>

<p>For instance I would like to do something like this:</p>

<pre><code>par(mfrow=c(2,3))
for (i in 1:6)
    {
    plot(x, p1-i*p2, main=expression(Phi[1] - i * Phi[2]))
    }
</code></pre>

<p>But this does not work, as it prints &Phi;<sub>1</sub> - i&Phi;<sub>2</sub> (i.e. it does not substitute <code>i</code> with <code>1, 2, ... 6</code></p>
","176923","","","","","2010-07-27 17:01:57","Including variables in expression call in R","<r><expression>","2","0","1","","","CC BY-SA 2.5","3345625","4452","4452","r","404559","3625322","3607736","",""
"3347375","1","3347517","","2010-07-27 19:51:10","","9","3132","<p>A very simple question:</p>

<p>I am writing and running my R scripts using a text editor to make them reproducible, as has been suggested by several members of SO.</p>

<p>This approach is working very well for me, but I sometimes have to perform expensive operations (e.g. <code>read.csv</code> or <code>reshape</code> on 2M-row databases) that I'd better cache in the R environment rather than re-run every time I run the script (which is usually many times as I progress and test the new lines of code).</p>

<p>Is there a way to cache what a script does up to a certain point so every time I am only running the incremental lines of code (just as I would do by running R interactively)?</p>

<p>Thanks.</p>
","344513","","202229","","2016-05-11 00:06:58","2020-06-22 23:24:06","Cache expensive operations in R","<r><caching>","7","0","2","","","CC BY-SA 3.0","3347375","4452","4452","r","404559","3625322","3607736","",""
"3347507","1","3347589","","2010-07-27 20:08:03","","14","2059","<p>I'm creating an R package and I need it to include a couple of non R script files which get called by one of my functions. I need these script files to be distributed with the package, naturally. So that leaves me with two questions:</p>

<ol>
<li>a) In which directory of the package
tree should I place these files? b) Is that location mandatory or just convention? </li>
<li>Do I need to change any other
settings or configurations or will
they just get copied to the
directory mentioned in #1 and then I
can figure out the path using
system.file()?</li>
</ol>

<p>I've tried to find the answer in the <a href=""http://cran.r-project.org/doc/manuals/R-exts.html"" rel=""noreferrer"">Writing R Extensions</a> document, but it didn't jump out at me. And, of course, I didn't read the whole thing. Am I being too honest here?</p>
","37751","","37751","","2011-10-25 14:58:48","2011-10-25 14:58:48","Including Script Files in an R Extension Package","<r><package>","1","3","1","","","CC BY-SA 3.0","3347507","4452","4452","r","404559","3625322","3607736","",""
"3348298","1","","","2010-07-27 21:46:20","","3","62","<p>Has anyone used biocep with AWS?  I see a lot of presentations online but nothing that seems to do a thorough job of walking you through the process.  There seems to be a lot of complexity to get your head around.  I was hoping someone could point me to particularly useful forum threads or [even better] some real tutorials?</p>
","403906","","","","","2010-11-19 21:10:25","used biocep with AWS?","<r>","1","0","1","","","CC BY-SA 2.5","3348298","4452","4452","r","404559","3625322","3607736","",""
"3348522","1","3349004","","2010-07-27 22:26:25","","7","14940","<p>I have a data.frame that looks like this </p>

<pre><code>&gt; head(df)
            Memory    Memory    Memory    Memory    Memory     Naive     Naive
10472501  6.075714  5.898929  6.644946  6.023901  6.332126  8.087944  7.520194
10509163  6.168941  6.495393  5.951124  6.052527  6.404401  7.152890  8.335509
10496091 10.125575  9.966211 10.075613 10.310952 10.090649 11.803949 11.274480
10427035  6.644921  6.658567  6.569745  6.499243  6.990852  8.010784  7.798154
10503695  8.379494  8.153917  8.246484  8.390747  8.346748  9.540236  9.091740
10451763 10.986717 11.233819 10.643245 10.230697 10.541396 12.248487 11.823138  
</code></pre>

<p>and I'd like to find the mean of the <code>Memory</code> columns and the mean of the <code>Naive</code> columns. The <code>aggregate</code> function aggregates rows. This <code>data.frame</code> could potentially have a large number of rows, and hence transposing then applying <code>aggregate</code> by the <code>colnames</code> of the original <code>data.frame</code> strikes me as bad, and is generally annoying:</p>

<pre><code>&gt; head(t(aggregate(t(df),list(colnames(df)), mean)))
         [,1]       [,2]      
Group.1  ""Memory""   ""Naive""   
10472501 ""6.195123"" ""8.125439""
10509163 ""6.214477"" ""7.733625""
10496091 ""10.11380"" ""11.55348""
10427035 ""6.672665"" ""8.266854""
10503695 ""8.303478"" ""9.340436""
</code></pre>

<p>What's the blindingly obvious thing I'm missing?</p>
","270572","","","","","2019-02-07 11:46:16","R: aggregate columns of a data.frame","<r><dataframe>","5","1","2","","","CC BY-SA 2.5","3348522","4452","4452","r","404559","3625322","3607736","",""
"3349436","1","","","2010-07-28 02:19:26","","3","1794","<p>Just starting out with R and trying to figure out what works for my needs when it comes to creating ""summary tables.""  I am used to Custom Tables in SPSS, and the CrossTable function in the package gmodels gets me almost where I need to be; not to mention it is easy to navigate for someone just starting out in R.  </p>

<p>That said, it seems like the Hmisc table is very good at creating various summaries and exporting to LaTex (ultimately what I need to do).</p>

<p>My questions are:1)can you create the table below easily in the Hmsic page? 2) if so, can I interact variables (2 in the the column)? and finally 3) can I access p-values of significance tests (chi square).</p>

<p>Thanks in advance,</p>

<p>Brock</p>

<pre><code>   Cell Contents
|-------------------------|
|                   Count |
|             Row Percent |
|          Column Percent |
|-------------------------|

Total Observations in Table:  524 

             | asq[, 23] 
    asq[, 4] |        1  |        2  |        3  |        4  |        5  | Row Total | 
-------------|-----------|-----------|-----------|-----------|-----------|-----------|
           0 |       76  |       54  |       93  |       46  |       54  |      323  | 
             |   23.529% |   16.718% |   28.793% |   14.241% |   16.718% |   61.641% | 
             |   54.286% |   56.250% |   63.265% |   63.889% |   78.261% |           | 
-------------|-----------|-----------|-----------|-----------|-----------|-----------|
           1 |       64  |       42  |       54  |       26  |       15  |      201  | 
             |   31.841% |   20.896% |   26.866% |   12.935% |    7.463% |   38.359% | 
             |   45.714% |   43.750% |   36.735% |   36.111% |   21.739% |           | 
-------------|-----------|-----------|-----------|-----------|-----------|-----------|
Column Total |      140  |       96  |      147  |       72  |       69  |      524  | 
             |   26.718% |   18.321% |   28.053% |   13.740% |   13.168% |           | 
-------------|-----------|-----------|-----------|-----------|-----------|-----------|
</code></pre>
","155406","","","","","2014-09-06 13:06:05","Hmisc Table Creation","<r>","2","0","3","","","CC BY-SA 2.5","3349436","4452","4452","r","404559","3625322","3607736","",""
"3351412","1","3352158","","2010-07-28 09:11:23","","3","736","<p>When programming within the R environment I used rep(""[35,40)"",1020). This should give me a list with 1020 times ""[35,40)"". However, the result contains only 1019 of these elements.</p>

<p>The programming was first done within a replicated for two vectors, but even when I split it up it doesn't work.</p>

<p>What I tried is using differen versions of R (R 2.11.1, R 2.9.0, R 2.10.0, R 2.7.2) but in none of them it works properly.</p>

<p>Has anyone an idea if there is a version of R which doesn't have this bug? Or how I could solve this problem?</p>

<p>So the code for this:</p>

<pre><code>&gt; agecats
 [1] ""(-0.001,5]"" ""(5,10]""     ""(10,15]""    ""(15,20]""    ""(20,25]""   
 [6] ""(25,30]""    ""(30,35]""    ""(35,40]""    ""(40,45]""    ""(45,50]""   
[11] ""(50,55]""    ""(55,60]""    ""(60,65]""    ""(65,70]""    ""(70,75]""   
[16] ""(75,80]""  
&gt; weightage&lt;-c(0.9,0.9,2.7,3.1,8.9,10.05,10.05,10.2,10.2,9.3,9.3,8.7,7.9,3.15,3.15,1.5)
&gt; weightage
 [1]  0.90  0.90  2.70  3.10  8.90 10.05 10.05 10.20 10.20  9.30  9.30  8.70
[13]  7.90  3.15  3.15  1.50

&gt; weightage100&lt;-weightage*100
&gt; weightage100
 [1]   90   90  270  310  890 1005 1005 1020 1020  930  930  870  790  315  315
[16]  150
&gt; tosamplefrom&lt;-rep(agecats,weightage100)
&gt; table(tosamplefrom)
tosamplefrom
(-0.001,5]    (10,15]    (15,20]    (20,25]    (25,30]    (30,35]    (35,40] 
        90        270        310        890       1005       1005       1019 
   (40,45]    (45,50]     (5,10]    (50,55]    (55,60]    (60,65]    (65,70] 
      1019        930         90        930        869        790        315 
   (70,75]    (75,80] 
       315        150 
</code></pre>

<p>And here I should have the 8 and 9 1020 times and it just gives 1019 times.</p>

<p>Kim</p>
","404309","","404309","","2010-07-28 10:40:57","2014-12-08 15:12:53","R: When using the rep(..,..) to replicate 1020 a character variables, the result contains just 1019 replicates?","<r><replicate>","1","8","","","","CC BY-SA 2.5","3351412","4452","4452","r","404559","3625322","3607736","",""
"3351835","1","8525877","","2010-07-28 10:09:43","","5","3377","<p>I'm trying to understand how RODBC determines the column types of a newly created (Access) table? The R documentation of sqlSave is very cryptic: ""types are selected by consulting arguments varTypes and typeInfo"". And no examples for this arguments. Where can I find a better explanation?</p>
","293843","","293843","","2010-07-28 10:19:34","2011-12-15 20:01:38","RODBC sqlSave column types: how determined?","<r><rodbc>","2","0","2","","","CC BY-SA 2.5","3351835","4452","4452","r","404559","3625322","3607736","",""
"3352670","1","3352747","","2010-07-28 12:13:15","","3","879","<p>I have this</p>

<pre><code>d[d$Age &gt; ""2"", ]
</code></pre>

<p>and it returns all the rows that have an Age of over 2, but I want to only return the values in a few of the columns, say d$X and d$Y, not all of them.</p>

<p>anyway i can do this?</p>

<p>Thanks</p>
","380111","","4272464","","2015-07-28 21:25:42","2015-07-28 21:25:42","How to select a subset of rows and columns from a data.frame","<r>","2","0","","","","CC BY-SA 3.0","3352670","4452","4452","r","404559","3625322","3607736","",""
"3354115","1","","","2010-07-28 14:53:52","","0","1197","<p>I am using R to open up some saved .csv files in a particular pairwise manner and perform a statistical test (<code>mantel.rtest</code>, found in the package ""ade4"").  The .csv files are sequentially named as either ""fileAX"" or ""fileBY"", where X and Y are integers. </p>

<p>I'd like to save the results of this test in a single file, but am running into some issues.</p>

<p>Here's the code (please forgive the inefficient usage of ""paste"":</p>

<pre><code>library(ade4)

x &lt;- 1:15; y &lt;- 1:15

filename1 &lt;- paste(paste(c(""fileA""), 1:15, sep = """"), "".csv"", sep = """")
filename2 &lt;- paste(paste(c(""fileB""), 1:15, sep = """"), "".csv"", sep = """")

for (i in seq(along=x)) {
  M1 &lt;- read.table(paste(""C:\\scripts\\"", filename1[i], sep = """"), header = FALSE, sep = "","")

  for (j in seq(along=y)) {

    M2 &lt;- read.table(paste(""C:\\scripts\\"", filename2[j], sep = """"), header = FALSE, sep = "","")

    mantelout &lt;- mantel.rtest(dist(matrix(M1, 9, 9)), dist(matrix(M2, 9, 9)), nrepet = 99)

    write.table(mantelout, file = ""C:\\results\\mantelout"") 

  }
}
</code></pre>

<p>Attempting to do this results in the following error message:</p>

<pre><code>**Error in as.data.frame.default(x[[i]], optional = TRUE, stringsAsFactors = stringsAsFactors) : 
  cannot coerce class '""rtest""' into a data.frame**
</code></pre>

<p>I tried to convert ""mantelout"" to some friendlier format using various functions such as ""unlist"" and ""as.vector"", to no avail.  Any thoughts?</p>

<p>Thanks,
WAW</p>

<p>EDIT: I should note that the output of this test in the R environment looks as follows:</p>

<pre><code>Monte-Carlo test
Observation: 0.5324712
Call: mantel.rtest(m1 = dist(matrix(M1, 9, 9)), m2 = dist(matrix(M2, 9, 9)), nrepet = 99)
Based on 99 replicates
Simulated p-value: 0.01""
</code></pre>
","393200","","168747","","2011-02-01 11:39:11","2011-02-01 11:44:16","writing a "".rtest"" output to file, using the R program (ex) via write.table?","<r><dataframe><coerce>","2","0","","","","CC BY-SA 2.5","3354115","4452","4452","r","404559","3625322","3607736","",""
"3354335","1","3367279","","2010-07-28 14:58:01","","6","13363","<p>I'm a complete newbie to R, and none of the introductions I've seen cover how to use R when all you've got is the command line and no windowing system. My data's on a server, and I'm working with it via ssh. In gnuplot, you can set your ""display"" to be a PNG file on disk. How do I plot something to a file on disk from R? R-2.9.1 on CentOS, if it matters. Thanks!</p>

<p>(Sorry if this is unusually basic, but I have the worst time Googling for quick answers with R. Cute name, impossible to search for.)</p>
","65664","Jenn D.","","","","2010-07-30 01:22:46","Plotting to a file in R","<r>","4","3","","","","CC BY-SA 2.5","3354335","4452","4452","r","404559","3625322","3607736","",""
"3354378","1","3354763","","2010-07-28 15:19:31","","2","3136","<p>I am attempting to run a pooled logistic regression with panel data and a binary dependent variable.  Since I wanted to lag some of the variables, I used the plm package to create them.  When I tried to do it other  ways, I ran into problems.  I can't use lag or embed, because it is panel data.</p>
<pre><code>hybridsubsidies &lt;-pdata.frame(reduced, c(&quot;state&quot;,&quot;year&quot;))

lagee&lt;-(lag(hybridsubsidies$eespending,1))
lagratio&lt;-(lag(hybridsubsidies$ratio, 1))
laggopvote&lt;-(lag(hybridsubsidies$gopvote, 1))
laggasoline&lt;-(lag(hybridsubsidies$gasoline, 1))
</code></pre>
<p>I wanted to put all the variables into the original data frame (hybridsubsidies) before I ran the pooled analysis.  I'm pretty sure I don't need to, but I'm a visual person, and would like to verify the format of the data is appropriate before running any analysis.</p>
<p>From the output below, it looks like everything is done correctly.</p>
<blockquote>
<p>head(lag(hybridsubsidies$eespending,1))</p>
<p>ALABAMA-1999 ALABAMA-2000 ALABAMA-2001 ALABAMA-2002 ALABAMA-2003 ALABAMA-2004</p>
<pre><code>     NA        58294        55378        26982        28264         2566 
</code></pre>
<p>head(hybridsubsidies$eespending)</p>
<p>ALABAMA-1999 ALABAMA-2000 ALABAMA-2001 ALABAMA-2002 ALABAMA-2003 ALABAMA-2004</p>
<pre><code>  58294        55378        26982        28264         2566        26906 
</code></pre>
</blockquote>
<p>My problem is that when I try and assign this lag variable as a vector in the data frame, this way,</p>
<pre><code>hybridsubsidies$lagee&lt;-(lag(hybridsubsidies$eespending,1))
</code></pre>
<p>it does so(when I call the names in the dataframe, they are included), but then I can no longer view the dataframe.  R says to me:</p>
<blockquote>
<p>Error in edit.data.frame(get(subx, envir = parent), title = subx, ...) :
can only handle vector and factor elements</p>
</blockquote>
<p>How can I solve this so that I can view the data frame before I run the analysis?  I want to look at it, since it looks like I will have to use glm instead of plm (pooling)  for this analysis since the dependent variable is a binary variable and plm does not support these d.v.'s</p>
<p>This has been giving me problems for awhile now.</p>
<blockquote>
<p>col1   ST   YR   EELAG  EE</p>
<p>[1,]    1      1       NA    58294</p>
<p>[2,]    1    2  58294  55378</p>
<p>[3,]    1    3  55378  26982</p>
<p>[4,]    1    4  26982  28264</p>
<p>[5,]    1    5  28264   2566</p>
<p>[6,]    1    6   2566  26906</p>
<p>[7,]    1    7  26906  29466</p>
<p>[8,]    2    1     NA    355</p>
<p>[9,]    2    2    355    259</p>
<p>[10,]    2    3    259    224</p>
<p>[11,]    2    4    224    217</p>
<p>[12,]    2    5    217    241</p>
<p>[13,]    2    6    241    231</p>
<p>[14,]    2    7    231    231</p>
<p>[15,]    3    1     NA   5111</p>
<p>[16,]    3    2   5111   3753</p>
<p>[17,]    3    3   3753   2211</p>
<p>[18,]    3    4   2211   1452</p>
<p>[19,]    3    5   1452   2913</p>
<p>[20,]    3    6   2913   3128</p>
<p>[21,]    3    7   3128   7132</p>
<p>[22,]    4    1     NA   1597</p>
<p>[23,]    4    2   1597    905</p>
</blockquote>
","370466","","-1","","2020-06-20 09:12:55","2015-12-03 21:01:48","Panel data: dealing with lagging and binary dependent variable with plm","<r><panel><plm>","1","3","1","","","CC BY-SA 3.0","3354378","4452","4452","r","404559","3625322","3607736","",""
"3355107","1","3355967","","2010-07-28 16:29:05","","2","449","<p>I'm trying to use qplot() to plot a simple time series as one might do using plot().  The x variable is as.POSIXlt and the y is just some continuous measurement.  Here is the code with some brief comments.  Any help on why these data.frames behave differently would be very much appreciated.  As you can see below, I can work around the problem, but I'm curious as to why is doesn't work as I would expect.  </p>

<p>A few details:<br>
platform: OS X 10.6.4<br>
R version: R 2.11.0</p>

<p>Disclaimer:  I realize that I could dig into the source code and figure this out myself.  I've never used SO and thought that it might be a nice topic for this forum. </p>

<p>Disclaimer (2):  I'm new to ggplot2</p>

<pre><code>library(ggplot2)
ws.dat &lt;- read.csv(""~/path/to/filename.csv"",header=F)
names(ws.dat) &lt;- c(""s"",""t"",""w"")
ws.dat$new.t &lt;- as.POSIXlt(ws.dat$t)
ws.dat[1:5,]
  ##       s                   t    w               new.t
  ## 1 29522 2005-07-02 00:00:00 5.00 2005-07-02 00:00:00
  ## 2 29522 2005-07-02 00:10:00 5.29 2005-07-02 00:10:00
  ## 3 29522 2005-07-02 00:20:00 5.48 2005-07-02 00:20:00
  ## 4 29522 2005-07-02 00:30:00 5.54 2005-07-02 00:30:00
  ## 5 29522 2005-07-02 00:40:00 5.49 2005-07-02 00:40:00


## the following works
plot(as.POSIXlt(ws.dat$t), ws.dat$w)

## doesn't work
qplot(as.POSIXlt(t), w, data = ws.dat)
  ## Error in if (length(range) == 1 || diff(range) == 0) { : 
  ## missing value where TRUE/FALSE needed

## doesn't work
ws.dat$new.t &lt;- as.POSIXlt(ws.dat$t)
qplot(new.t, w, data = ws.dat)
  ## Same error as above

## Note - I could find a more elegant way of doing this; I'm just trying
##   to reproduce as fast as possible.
new.df &lt;- data.frame(ws.dat$new.t, ws.dat$w)
new.df[1:5,]
  ##          ws.dat.new.t ws.dat.w
  ## 1 2005-07-02 00:00:00     5.00
  ## 2 2005-07-02 00:10:00     5.29
  ## 3 2005-07-02 00:20:00     5.48
  ## 4 2005-07-02 00:30:00     5.54
  ## 5 2005-07-02 00:40:00     5.49

## 'works as *I* would expect'; this is != 'works *as* expected' 
qplot(ws.dat.new.t, ws.dat.w, data = new.df)
</code></pre>
","404650","","37751","","2010-07-28 17:00:22","2010-07-28 18:15:35","Possibly inconsistent behavior in qplot()?","<r><ggplot2><statistics>","2","2","","","","CC BY-SA 2.5","3355107","4452","4452","r","404559","3625322","3607736","",""
"3355784","1","3357497","","2010-07-28 17:47:28","","1","1233","<p>Consider the following code:</p>

<pre><code>require(Hmisc)
num.boots &lt;- 10
data &lt;- rchisq(500, df = 5) #generate fake data

#create bins
binx &lt;- cut(data, breaks = 10)
binx &lt;- levels(binx)
binx &lt;- sub(""^.*\\,"", """", binx)
binx &lt;- as.numeric(substr(binx, 1, nchar(binx) - 1))

#pre-allocate a matrix to be filled with samples
output &lt;- matrix(NA, nrow = num.boots, ncol = length(binx)) 

#do random sampling from the vector and calculate percent
# of values equal or smaller to the bin number (i)
for (i in 1:num.boots) {
    walk.pair.sample &lt;- sample(data, size = length(data), replace = TRUE)
    data.cut &lt;- cut2(x = walk.pair.sample, cuts = binx)
    data.cut &lt;- table(data.cut)/sum(table(data.cut))
    output[i, ] &lt;- data.cut
}

#do some plotting
plot(1:10, seq(0, max(output), length.out = nrow(output)), type = ""n"", xlab = """", ylab = """")

for (i in 1:nrow(output)) {
    lines(1:10, output[i, 1:nrow(output)])
}

#mean values by columns
output.mean &lt;- apply(output, 2, mean)
lines(output.mean, col=""red"", lwd = 3)
legend(x = 8, y = 0.25, legend = ""mean"", col = ""red"", lty = ""solid"", lwd = 3)
</code></pre>

<p>I was wondering if I can supply the boot:boot() function a function that has as its output a vector of length n > 1? Is it at all possible?</p>

<p>Here are my feeble attempts, but I must be doing something wrong.</p>

<pre><code>require(boot)
bootstrapDistances &lt;- function(data, binx) {
    data.cut &lt;- cut2(x = data, cuts = binx)
    data.cut &lt;- table(data.cut)/sum(table(data.cut))
    return(data.cut)
}

&gt; x &lt;- boot(data = data, statistic = bootstrapDistances, R = 100)
Error in cut.default(x, k2) : 'breaks' are not unique
</code></pre>

<p>I don't really understand why <code>Hmisc::cut2()</code> isn't working properly in the <code>boot()</code> call, but works when I call it in a <code>for()</code> loop (see code above). Is the logic of my <code>bootstrapDistances()</code> function feasible with <code>boot()</code>? Any pointers much appreciated.</p>

<p><em>.:EDIT:.</em></p>

<p>Aniko suggested I modify my function in such a way, to include an index. While reading the documentation for boot(), this wasn't clear to me how it works, which explains why the function may not be working. Here's the new function Aniko suggested:</p>

<pre><code>bootstrapDistances2 &lt;- function(data, idx, binx) { 
  data.cut &lt;- cut2(x = data[idx], cuts = binx) 
  data.cut &lt;- table(data.cut)/sum(table(data.cut)) 
  return(data.cut) 
} 
</code></pre>

<p>However, I managed to produce an error and I'm still working how to remove it.</p>

<pre><code>&gt; x &lt;- boot(data = data, statistic = bootstrapDistances2, R = 100, binx = binx)
Error in t.star[r, ] &lt;- statistic(data, i[r, ], ...) : 
  number of items to replace is not a multiple of replacement length
</code></pre>

<p>After I restarted my R session (also tried another version, 2.10.1), it seems to be working fine.</p>
","322912","","12258459","","2020-08-26 21:55:00","2020-08-26 21:55:00","help me improve my bootstrap","<r><statistics-bootstrap>","2","0","","","","CC BY-SA 2.5","3355784","4452","4452","r","404559","3625322","3607736","",""
"3356128","1","3357020","","2010-07-28 18:24:32","","11","7236","<p>For 1,000,000 observations, I observed a discrete event, X, 3 times for the control group and 10 times for the test group. </p>

<p>I need to preform a Chi square test of independence in Matlab. This is how you would do it in r:</p>

<pre><code>m &lt;- rbind(c(3, 1000000-3), c(10, 1000000-10))
#      [,1]   [,2] 
# [1,]    3 999997
# [2,]   10 999990
chisq.test(m)
</code></pre>

<p>The r function returns chi-squared = 2.7692, df = 1, p-value = 0.0961.</p>

<p>What Matlab function should I use or create to do this?</p>
","363829","","","","","2010-07-28 20:33:01","Matlab test of independence","<matlab><r><statistics>","2","0","1","","","CC BY-SA 2.5","3356128","4452","4452","r","404559","3625322","3607736","",""
"3356923","1","3357016","","2010-07-28 19:56:41","","1","1994","<p>I'm using reshape in R to compute aggregate statistics over columns of a data.frame. Here's my data.frame:</p>

<pre><code>&gt; df
  a a b b ID
1 1 1 1 1  1
2 2 3 2 3  2
3 3 5 3 5  3
</code></pre>

<p>which is just a little test data.frame to try and understand the reshape package. I melt, and then cast, to try and find the mean of the <code>a</code>s and the <code>b</code>s:</p>

<pre><code>&gt; melt(df, id = ""ID"") -&gt; df.m
&gt; cast(df.m, ID ~ variable, fun = mean)
  ID a b
1  1 1 1
2  2 2 2
3  3 3 3
</code></pre>

<p>Argh! What? Was hoping the mean of <code>c(2,3)</code> was 2.5 and so on. What's going on? Here's a thing:</p>

<pre><code>&gt; df.m
   ID variable value
1   1        a     1
2   2        a     2
3   3        a     3
4   1        a     1
5   2        a     2
6   3        a     3
7   1        b     1
8   2        b     2
9   3        b     3
10  1        b     1
11  2        b     2
12  3        b     3
</code></pre>

<p>what's going on? Where did both my <code>5</code>s go? Do I have a very basic misunderstanding going on here? If so: what is it?</p>
","270572","","","","","2010-07-29 00:23:21","R + reshape : variance of columns of a data.frame","<r><dataframe><reshape>","2","0","1","","","CC BY-SA 2.5","3356923","4452","4452","r","404559","3625322","3607736","",""
"3357743","1","3357784","","2010-07-28 21:42:56","","74","98455","<p>I have a data frame containing (in random places) a character value (say <code>""foo""</code>) that I want to replace with a <code>NA</code>.</p>

<p>What's the best way to do so across the whole data frame?</p>
","344513","","680068","","2017-04-27 12:54:44","2020-07-31 10:53:05","Replacing character values with NA in a data frame","<r><dataframe><na>","7","1","16","","","CC BY-SA 3.0","3357743","4452","4452","r","404559","3625322","3607736","",""
"3357934","1","","","2010-07-28 22:05:42","","7","1349","<p>I noticed that in the library folder of my Revolution R installation that there are some packages unique to Revolution. So I copied them to my regular R distribution and those packages worked fine. </p>

<p>Can I use the Revolution packages free of charge in a commercial environment? My understanding is that anyone who contributes to R needs to make their efforts open source under GPL so anyone can use it and change it in under any setting. Please help me understand this. Thanks</p>
","239923","","239923","","2010-07-28 23:11:17","2010-07-29 04:26:28","The modules in Revolution R are open sourced. Does the R license imply that I can use the R packages that comes with it free of charge?","<r><gpl>","2","3","0","2015-06-06 06:00:28","","CC BY-SA 2.5","3357934","4452","4452","r","404559","3625322","3607736","",""
"3358361","1","3358466","","2010-07-28 23:27:16","","0","419","<p>I would like to use Perl to take a previously generated SPSS syntax file and format it for use in an R environment.</p>

<p>This is probably a very simple task for those familiar with Perl and regex, but I am stumbling. </p>

<p>The steps as I've laid them out for this Perl script are as follows:</p>

<ol>
<li>Read in SPSS file</li>
<li>Find appropriate chunks of SPSS file (regex) for further processing and formatting</li>
<li>Further processing noted above (more regex)</li>
<li>Return R syntax to command line or preferably a file.</li>
</ol>

<p>The basic format of SPSS value labels syntax is:</p>

<pre><code>...A bunch of nonsense I do not care about...
...
 Value Labels
/gender
1 ""M""
2 ""F""
/purpose
1 ""business""
2 ""vacation""
3 ""tiddlywinks""

execute . 
...Resume nonsense...
</code></pre>

<p>And the desired R syntax I am after looks like:</p>

<pre><code>gender &lt;- as.factor(gender
    , levels= c(1,2)
    , labels= c(""M"",""F"")
    )
...
</code></pre>

<p>Here is the Perl script I have written thus far. I have successfully read each line into the appropriate array. I have the general flow of what I need for the final print function, but I need to figure out how to ONLY print the appropriate @levels and @labels arrays for each @vars array.</p>

<pre><code>#!/usr/bin/perl

#Need to change to read from argument in command line
open(VARVAL, ""append.txt"");
@lines = &lt;VARVAL&gt;;
close(VARVAL);

#Read through each line and put into a variable, a value, or a reject
#I really only want to read in everything between ""value labels"" and ""execute .""
#That probably requires more regex...
foreach  (@lines){
    if ($_ =~ /\//){        #Anything with a / is a variable, remove the / and push
        $_ =~ tr/\///d;
        push(@vars, $_)
    } elsif ($_ =~/\d/) {
        push(@vals, $_)    #Anything that has a number in the line is a value
        }
}
#Splitting each @vals array into levels or labels arrays
foreach (@vals){
    @values = split(/\s+/, $_); #Splitting on a space, vunerable...better to split on first non digit character?
    foreach (@values) {
        if ($_ =~/\d/){
            push(@levels, $_);
        } else {
            push(@labels, $_)
        }
    }
}

#Get rid of newline
#I should provavly do this somewhere else?
chomp(@vars);
chomp(@levels);
chomp(@labels);

#Need to tell it when to stop adding in @levels &amp; @labels. While loop? Hash lookup?
#Need to get rid of final comma
#Need to redirect output to a file
foreach (@vars){
    print $_ ."" &lt;- as.factor("" . $_ . ""\n\t, levels = c("" ;
         foreach (@levels){
            print $_ . "","";
         }
    print "")\n\t, labels = c("";
    foreach(@labels){
            print $_ . "","";
        }
    print "")\n\t)\n"";
}
</code></pre>

<p>And finally, here is sample output from the script as it currently runs:</p>

<pre><code>gender &lt;- as.factor(gender
    , levels = c(1,2,1,2,3,)
    , labels = c(""M"",""F"",""biz"",""action"",""tiddlywinks"",)
    )
</code></pre>

<p>I need this to only include levels 1,2 and labels M and F.</p>

<p>Thanks for the help!</p>
","415635","","","","","2010-07-28 23:51:00","Perl Regex syntax","<regex><perl><r><spss>","1","0","","","","CC BY-SA 2.5","3358361","4452","4452","r","404559","3625322","3607736","",""
"3359612","1","3359907","","2010-07-29 05:09:24","","0","5774","<p>In a loop, I am trying to get a column vector of class factor into numeric.</p>

<p>If there were not a loop, the code would look like</p>

<pre><code>c1$values &lt;- as.numeric(as.character(c1$values))
</code></pre>

<p>But how do I reference c1$values with a loop? I have tried two approaches:</p>

<pre><code>get(paste('c',i,""$values"", sep="""")) 
</code></pre>

<p>just does not work even outside the loop, while</p>

<pre><code>get(paste('c',""1"", sep=""""))[[1]]
</code></pre>

<p>works in itself (returns the column vector), but when trying to perform the operation:</p>

<pre><code>assign(get(paste(""c"",""1"", sep=""""))[[1]], as.numeric(as.character(get(paste(""c"",""1"", sep=""""))[[1]])))
</code></pre>

<p>returns an error of ""invalid first argument"".</p>

<p>Any ideas?</p>

<p>Thanks,</p>

<p>Roberto </p>
","344513","","","","","2010-07-29 17:02:54","Referencing a column vector in a data frame within a loop","<r>","3","1","1","","","CC BY-SA 2.5","3359612","4452","4452","r","404559","3625322","3607736","",""
"3359993","1","3360166","","2010-07-29 06:34:13","","0","303","<p>I have an array with dates as indices which I'm plotting.  I'd like to plot a LOESS curve along with it.  However, the input for loess is a formula.  Is there a good way to define a formula from array index to value which I can then give to the loess function?</p>
","64421","","","","","2010-07-29 07:41:50","Converting an array to a formula in R","<r>","2","0","","","","CC BY-SA 2.5","3359993","4452","4452","r","404559","3625322","3607736","",""
"3360693","1","3360936","","2010-07-29 08:37:50","","0","196","<p>Is this method broken in R? I am using it to find roots of the following function:
f(x) = 2.5*exp(-0.5*(2*0.045 - x)) + 2.5*exp(-0.045) + 2.5*exp(-1.5*x) - 100</p>

<p>It is giving an answer of -38.4762403 which is not even close (f(x) = 2.903809e+25 for x=-38.4762403). The answer should be around 0.01-0.1. This function should converge..</p>

<p>Even for a simple function like  f(x) = exp(-x) * x, it gives answer as 8.89210984 for which f(x) = 0.001222392 and I set tolerance to 10^-12..</p>

<p>Also, is there a non graphical version of newton method? I looked at nleqslv but have no idea how to use it..</p>

<p>Thanks for your help. </p>
","236215","","","","","2010-07-29 09:14:21","newton.method issues","<r>","1","0","","","","CC BY-SA 2.5","3360693","4452","4452","r","404559","3625322","3607736","",""
"3361068","1","3361113","","2010-07-29 09:33:40","","1","370","<p>I have this </p>

<blockquote>
  <p>for(i in 1:10)</p>
</blockquote>

<p>and within it, I have a data frame:
e.g.</p>

<pre><code>df&lt;-1:100
</code></pre>

<p>and I want to assign the dataframe to a specific name which I want to create</p>

<p>something like: (not that it works)</p>

<pre><code>paste(""name"", variable[i])&lt;- df
</code></pre>

<p><em>Edit:</em> </p>

<p>How would I then go about accessing those constructed values in another loop (assuming i've used assign)</p>

<pre><code>    datalist &lt;- paste(""a"",1:100,sep="""")
    for (i in 1:length(datalist)){

}
</code></pre>
","380111","","380111","","2010-09-09 10:31:40","2010-09-09 10:31:40","add a data frame to a constructed name","<r>","2","0","","","","CC BY-SA 2.5","3361068","4452","4452","r","404559","3625322","3607736","",""
"3363525","1","25837537","","2010-07-29 14:28:20","","7","3140","<p>I use SPSS everyday but have really been trying to learn R.  The major thing that is holding me back is my need to easily generate tables, banners, and cross-tabs for the market research that I do.  I love the Custom Tables option in SPSS and am looking for advice on how to replicate it with R.</p>

<p>I believe R has a ton of advantages over SPSS, one of which is the ability to integrate with LaTeX for reproducible reports.  SPSS is great for quick exploration (point and click), but leaves alot to be desired when taking the results and packaging it to an acceptable deliverable for clients, etc. That said, R is so powerful, I feel like I could do everything I need in it if I could only do my banners/crosstabs the way I need them.</p>

<p>In short, what are my options to generate report-worthy tables similar to what I have below? I am copying the SPSS syntax command and the output for reference.</p>

<pre><code>CTABLES 
  /VLABELS VARIABLES=age educ paeduc maeduc speduc prestg80 happy 
    DISPLAY=DEFAULT 
  /TABLE age [MEAN F40.3, VALIDN COMMA40.0] + educ [MEAN F40.3, VALIDN COMMA40.0] + paeduc [MEAN F40.3, VALIDN COMMA40.0] + maeduc [MEAN F40.3, VALIDN COMMA40.0] + speduc [MEAN F40.3, VALIDN COMMA40.0] + prestg80 [MEAN F40.3, VALIDN COMMA40.0] BY happy 
  /SLABELS POSITION=ROW 
  /CATEGORIES VARIABLES=happy ORDER=A KEY=VALUE EMPTY=INCLUDE TOTAL=YES POSITION=AFTER MISSING=EXCLUDE 
  /SIGTEST TYPE=CHISQUARE ALPHA=0.05 INCLUDEMRSETS=YES CATEGORIES=ALLVISIBLE 
  /COMPARETEST TYPE=MEAN ALPHA=0.05 ADJUST=BONFERRONI ORIGIN=COLUMN INCLUDEMRSETS=YES CATEGORIES=ALLVISIBLE MEANSVARIANCE=ALLCATS MERGE=NO 
  /COMPARETEST TYPE=PROP ALPHA=0.05 ADJUST=BONFERRONI ORIGIN=COLUMN INCLUDEMRSETS=YES CATEGORIES=ALLVISIBLE MERGE=NO.
</code></pre>

<p>I attached a picture of what the output looks like.  I am particuarly interested in the ability to have multiple variables in the rows/columns and like the flexibility to nest them if I need to.  In the image, I have a few continuous variables cut by a categorical variable in the column with the summary statistics placed in the rows. As an aside, I also really like the feature of quick column mean comparisons -- but figure in can quickly access them in R for conditional crosstab generation.</p>
","155406","","6296561","","2019-05-23 19:05:11","2019-05-23 19:05:11","Replicate ""Custom Tables"" comparison in R","<r><spss>","6","1","3","","","CC BY-SA 4.0","3363525","4452","4452","r","404559","3625322","3607736","",""
"3363638","1","3363686","","2010-07-29 14:37:57","","1","112","<p>I want to save the R output to a specific place, but what I want to do is add the time and day to the file(according to the system time).</p>

<pre><code>29-Jul-2010 15.35.txt
</code></pre>

<p>anyway to do it?</p>

<p>I know about Sys.time and date() but they both contain <code>:</code> which windows xp doesn't like.</p>
","380111","","","","","2010-07-29 14:43:06","name a file using the time on Windows","<windows><r>","2","1","","2018-05-04 14:54:20","","CC BY-SA 2.5","3363638","4452","4452","r","404559","3625322","3607736","",""
"3364033","1","","","2010-07-29 15:11:44","","1","1497","<p>In a loop, I am trying to perform a simple renaming of the variables in a df.</p>

<p>Without the loop, this works perfectly:</p>

<pre><code>names(c1) &lt;- c(""sales"", ""month"")
</code></pre>

<p>With a loop-friendly approach (""1"" in place of i in the dry-run example) the following correctly references names(c1):</p>

<pre><code>names(get(paste(""c"",""1"", sep="""")))
</code></pre>

<p>but as I write the whole operation I get an error to the tune of ""only the first element is used as variable name"", here's the code:</p>

<pre><code>assign(names(get(paste(""c"",""1"", sep=""""))), c(""sales"", ""month""))
</code></pre>

<p>I don't know what the error means, but no column title has been changed.</p>

<p>Any ideas?</p>

<p>Thanks,</p>

<p>Roberto</p>
","344513","","","","","2010-07-29 16:54:01","Iterating over column names in a data frame","<r>","2","2","","","","CC BY-SA 2.5","3364033","4452","4452","r","404559","3625322","3607736","",""
"3365010","1","3365400","","2010-07-29 16:48:08","","1","328","<p>I need to remove the ticks and major line from a generated axis using grid.yaxis.
According to ?grid.yaxis there is an ""edits"" parameter that will let me configure the ""major"", ""ticks"" and ""labels"".</p>

<p>However, I cant find how to use the edits parameter.</p>

<p>Here's some example code that will draw an axis in the center.</p>

<pre><code>grid_test_axis &lt;- function ()
{
    grid.newpage()
    vplayout &lt;- function(x,y)
    viewport(layout.pos.row=x,layout.pos.col=y)

    pushViewport( viewport( layout=grid.layout( nrow=3, ncol=3, widths=c(1,1,1), heights=c(1,1,1)) ) )  
    pushViewport(viewport(layout.pos.col=1, clip=""on""))
    grid.rect(gp=gpar(fill=""red""))
    popViewport()
    pushViewport(viewport(layout.pos.col=3, clip=""on""))
    grid.rect(gp=gpar(fill=""brown""))
    popViewport()
    pushViewport(viewport(layout.pos.row=1,layout.pos.col=2))
    grid.rect(gp=gpar(fill=""yellow""))
    popViewport()
    pushViewport(viewport(layout.pos.row=3,layout.pos.col=2))
    grid.rect(gp=gpar(fill=""blue""))
    popViewport()
    pushViewport(viewport(layout.pos.row=2,layout.pos.col=2))
    pushViewport(viewport(layout=grid.layout(nrow=1, ncol=2)))  
    pushViewport(viewport(layout.pos.row=1,layout.pos.col=2))
    grid.yaxis(main=TRUE, at=seq(.1, .9, length=5))
    popViewport(3)
}
</code></pre>

<p>I would like to just stay with the numbers, not the ticks or major line.</p>

<p>Thanks.</p>
","398680","","134830","","2015-01-14 18:29:16","2015-01-14 18:29:16","How to remove the ticks from a grid.yaxis","<r><r-grid>","1","0","","","","CC BY-SA 2.5","3365010","4452","4452","r","404559","3625322","3607736","",""
"3365657","1","3365670","","2010-07-29 18:08:27","","158","44174","<p>When I run R scripts I go do something else on a different desktop. If I don't check frequently, I never know when something is finished. Is there a way to invoke a beep (like a system beep) or get R to play a sound or notify growl via some code at the end of my script?</p>
","313163","","","","","2021-01-29 18:28:34","Is there a way to make R beep/play a sound at the end of a script?","<r>","18","0","56","","","CC BY-SA 2.5","3365657","4452","4452","r","404559","3625322","3607736","",""
"3365885","1","3366159","","2010-07-29 18:38:15","","13","36668","<p>I have a list of vectors which are time series of inequal length. My ultimate goal is to plot the time series in a <code>ggplot2</code> graph. I guess I am better off first merging the vectors in a dataframe (where the shorter vectors will be expanded with NAs), also because I want to export the data in a tabular format such as .csv to be perused by other people.</p>

<p>I have a list that contains <em>the names of</em> all the vectors. It is fine that the column titles be set by the first vector, which is the longest. E.g.:</p>

<pre><code>&gt; mylist
[[1]]
[1] ""vector1""

[[2]]
[1] ""vector2""

[[3]]
[1] ""vector3""
</code></pre>

<p>etc.</p>

<p>I know the way to go is to use Hadley's <code>plyr</code> package but I guess the problem is that my list contains the names of the vectors, not the vectors themselves, so if I type:</p>

<pre><code>do.call(rbind, mylist)
</code></pre>

<p>I get a one-column df containing the names of the dfs I wanted to merge.</p>

<pre><code>&gt; do.call(rbind, actives)
      [,1]           
 [1,] ""vector1"" 
 [2,] ""vector2"" 
 [3,] ""vector3"" 
 [4,] ""vector4"" 
 [5,] ""vector5"" 
 [6,] ""vector6"" 
 [7,] ""vector7"" 
 [8,] ""vector8"" 
 [9,] ""vector9"" 
[10,] ""vector10""
</code></pre>

<p>etc.</p>

<p>Even if I create a list with the object themselves, I get an empty dataframe :</p>

<pre><code>mylist &lt;- list(vector1, vector2)
mylist
[[1]]
        1         2         3         4         5         6         7         8         9        10        11        12 
0.1875000 0.2954545 0.3295455 0.2840909 0.3011364 0.3863636 0.3863636 0.3295455 0.2954545 0.3295455 0.3238636 0.2443182 
       13        14        15        16        17        18        19        20        21        22        23        24 
0.2386364 0.2386364 0.3238636 0.2784091 0.3181818 0.3238636 0.3693182 0.3579545 0.2954545 0.3125000 0.3068182 0.3125000 
       25        26        27        28        29        30        31        32        33        34        35        36 
0.2727273 0.2897727 0.2897727 0.2727273 0.2840909 0.3352273 0.3181818 0.3181818 0.3409091 0.3465909 0.3238636 0.3125000 
       37        38        39        40        41        42        43        44        45        46        47        48 
0.3125000 0.3068182 0.2897727 0.2727273 0.2840909 0.3011364 0.3181818 0.2329545 0.3068182 0.2386364 0.2556818 0.2215909 
       49        50        51        52        53        54        55        56        57        58        59        60 
0.2784091 0.2784091 0.2613636 0.2329545 0.2443182 0.2727273 0.2784091 0.2727273 0.2556818 0.2500000 0.2159091 0.2329545 
       61 
0.2556818 

[[2]]
        1         2         3         4         5         6         7         8         9        10        11        12 
0.2824427 0.3664122 0.3053435 0.3091603 0.3435115 0.3244275 0.3320611 0.3129771 0.3091603 0.3129771 0.2519084 0.2557252 
       13        14        15        16        17        18        19        20        21        22        23        24 
0.2595420 0.2671756 0.2748092 0.2633588 0.2862595 0.3549618 0.2786260 0.2633588 0.2938931 0.2900763 0.2480916 0.2748092 
       25        26        27        28        29        30        31        32        33        34        35        36 
0.2786260 0.2862595 0.2862595 0.2709924 0.2748092 0.3396947 0.2977099 0.2977099 0.2824427 0.3053435 0.3129771 0.2977099 
       37        38        39        40        41        42        43        44        45        46        47        48 
0.3320611 0.3053435 0.2709924 0.2671756 0.2786260 0.3015267 0.2824427 0.2786260 0.2595420 0.2595420 0.2442748 0.2099237 
       49        50        51        52        53        54        55        56        57        58        59        60 
0.2022901 0.2251908 0.2099237 0.2213740 0.2213740 0.2480916 0.2366412 0.2251908 0.2442748 0.2022901 0.1793893 0.2022901 
</code></pre>

<p>but</p>

<pre><code>do.call(rbind.fill, mylist)
data frame with 0 columns and 0 rows
</code></pre>

<p>I have tried converting the vectors to dataframes, but there is no <code>cbind.fill</code> function, so plyr complains that the dataframes are of different length.</p>

<p>So my questions are:</p>

<ul>
<li><p>Is this the best approach? Keep in mind that the goals are a) a ggplot2 graph and b) a table with the time series, to be viewed outside of R</p></li>
<li><p>What is the best way to get a list of objects starting with a list of the names of those objects?</p></li>
<li><p>What the best type of graph to highlight the patterns of 60 timeseries? The scale is the same, but I predict there'll be a lot of overplotting. Since this is a cohort analysis, it might be useful to use color to highlight the different cohorts in terms of recency (as a continuous variable). But how to avoid overplotting? The differences will be minimal so faceting might leave the viewer unable to grasp the difference.</p></li>
</ul>
","344513","","344513","","2010-07-29 20:10:19","2016-07-18 13:02:52","Combining vectors of unequal length into a data frame","<r>","3","3","3","","","CC BY-SA 2.5","3365885","4452","4452","r","404559","3625322","3607736","",""
"3365906","1","","","2010-07-29 18:41:18","","2","1874","<p>How can I make sqlSave to write only a subset of columns.</p>

<p>I've a (MS-Access) table with e.g. columns A, B, C en D and if I send a sqlSave command with a data frame with columns A, B and D (no C) I get the message:</p>

<pre><code>Error in odbcUpdate(channel, query, mydata, coldata[m, ], test = test,  :
  missing columns in 'data'
Calls: sqlSave -&gt; sqlwrite -&gt; odbcUpdate
</code></pre>

<p>(The columns in my table are all defined optional)</p>

<p>I can add a dummy column to my data frame with name C and value NA and sqlSave will be happy, but is there another way to do this? Are there arguments of <code>sqlSave</code> I can use? I can't find them in the documentation.</p>
","293843","","324364","","2015-12-18 23:11:17","2015-12-18 23:11:17","RODBC sqlSave not all columns","<r><rodbc>","0","4","","","","CC BY-SA 3.0","3365906","4452","4452","r","404559","3625322","3607736","",""
"3366506","1","3367386","","2010-07-29 20:06:34","","65","82221","<p>I am looking to extract the p-value generated from an anova in R.  </p>

<p>Here is what I am running:</p>

<pre><code>test &lt;- aov(asq[,9] ~ asq[,187])
summary(test)
</code></pre>

<p>Yields:</p>

<pre><code>              Df Sum Sq Mean Sq F value    Pr(&gt;F)    
asq[, 187]     1   3.02 3.01951  12.333 0.0004599 ***
Residuals   1335 326.85 0.24483                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 
12 observations deleted due to missingness
</code></pre>

<p>When I look a the structure, this is what I see.  I usually can work through lists to get what I need, but I am having a hard time with this one.  A Google searched also seemed to reveal much simpler structures than I am getting.</p>

<p>NOTE: ASQ is my data frame.</p>

<pre><code>str(test)

List of 13
 $ coefficients : Named num [1:2] 0.2862 0.0973
  ..- attr(*, ""names"")= chr [1:2] ""(Intercept)"" ""asq[, 187]""
 $ residuals    : Named num [1:1337] 0.519 0.519 -0.481 -0.481 -0.481 ...
  ..- attr(*, ""names"")= chr [1:1337] ""1"" ""2"" ""3"" ""4"" ...
 $ effects      : Named num [1:1337] -16.19 -1.738 -0.505 -0.505 -0.505 ...
  ..- attr(*, ""names"")= chr [1:1337] ""(Intercept)"" ""asq[, 187]"" """" """" ...
 $ rank         : int 2
 $ fitted.values: Named num [1:1337] 0.481 0.481 0.481 0.481 0.481 ...
  ..- attr(*, ""names"")= chr [1:1337] ""1"" ""2"" ""3"" ""4"" ...
 $ assign       : int [1:2] 0 1
 $ qr           :List of 5
  ..$ qr   : num [1:1337, 1:2] -36.565 0.0273 0.0273 0.0273 0.0273 ...
  .. ..- attr(*, ""dimnames"")=List of 2
  .. .. ..$ : chr [1:1337] ""1"" ""2"" ""3"" ""4"" ...
  .. .. ..$ : chr [1:2] ""(Intercept)"" ""asq[, 187]""
  .. ..- attr(*, ""assign"")= int [1:2] 0 1
  ..$ qraux: num [1:2] 1.03 1.02
  ..$ pivot: int [1:2] 1 2
  ..$ tol  : num 1e-07
  ..$ rank : int 2
  ..- attr(*, ""class"")= chr ""qr""
 $ df.residual  : int 1335
 $ na.action    :Class 'omit'  Named int [1:12] 26 257 352 458 508 624 820 874 1046 1082 ...
  .. ..- attr(*, ""names"")= chr [1:12] ""26"" ""257"" ""352"" ""458"" ...
 $ xlevels      : list()
 $ call         : language aov(formula = asq[, 9] ~ asq[, 187])
 $ terms        :Classes 'terms', 'formula' length 3 asq[, 9] ~ asq[, 187]
  .. ..- attr(*, ""variables"")= language list(asq[, 9], asq[, 187])
  .. ..- attr(*, ""factors"")= int [1:2, 1] 0 1
  .. .. ..- attr(*, ""dimnames"")=List of 2
  .. .. .. ..$ : chr [1:2] ""asq[, 9]"" ""asq[, 187]""
  .. .. .. ..$ : chr ""asq[, 187]""
  .. ..- attr(*, ""term.labels"")= chr ""asq[, 187]""
  .. ..- attr(*, ""order"")= int 1
  .. ..- attr(*, ""intercept"")= int 1
  .. ..- attr(*, ""response"")= int 1
  .. ..- attr(*, "".Environment"")=&lt;environment: R_GlobalEnv&gt; 
  .. ..- attr(*, ""predvars"")= language list(asq[, 9], asq[, 187])
  .. ..- attr(*, ""dataClasses"")= Named chr [1:2] ""numeric"" ""numeric""
  .. .. ..- attr(*, ""names"")= chr [1:2] ""asq[, 9]"" ""asq[, 187]""
 $ model        :'data.frame':  1337 obs. of  2 variables:
  ..$ asq[, 9]  : int [1:1337] 1 1 0 0 0 1 1 1 0 0 ...
  ..$ asq[, 187]: int [1:1337] 2 2 2 2 2 2 2 2 2 2 ...
  ..- attr(*, ""terms"")=Classes 'terms', 'formula' length 3 asq[, 9] ~ asq[, 187]
  .. .. ..- attr(*, ""variables"")= language list(asq[, 9], asq[, 187])
  .. .. ..- attr(*, ""factors"")= int [1:2, 1] 0 1
  .. .. .. ..- attr(*, ""dimnames"")=List of 2
  .. .. .. .. ..$ : chr [1:2] ""asq[, 9]"" ""asq[, 187]""
  .. .. .. .. ..$ : chr ""asq[, 187]""
  .. .. ..- attr(*, ""term.labels"")= chr ""asq[, 187]""
  .. .. ..- attr(*, ""order"")= int 1
  .. .. ..- attr(*, ""intercept"")= int 1
  .. .. ..- attr(*, ""response"")= int 1
  .. .. ..- attr(*, "".Environment"")=&lt;environment: R_GlobalEnv&gt; 
  .. .. ..- attr(*, ""predvars"")= language list(asq[, 9], asq[, 187])
  .. .. ..- attr(*, ""dataClasses"")= Named chr [1:2] ""numeric"" ""numeric""
  .. .. .. ..- attr(*, ""names"")= chr [1:2] ""asq[, 9]"" ""asq[, 187]""
  ..- attr(*, ""na.action"")=Class 'omit'  Named int [1:12] 26 257 352 458 508 624 820 874 1046 1082 ...
  .. .. ..- attr(*, ""names"")= chr [1:12] ""26"" ""257"" ""352"" ""458"" ...
 - attr(*, ""class"")= chr [1:2] ""aov"" ""lm""
</code></pre>
","155406","","","","","2016-06-22 13:27:04","Extract p-value from aov","<r><anova>","7","1","17","","","CC BY-SA 2.5","3366506","4452","4452","r","404559","3625322","3607736","",""
"3367190","1","3367306","","2010-07-29 21:43:50","","13","19781","<p>I'm trying to calculate asset-weighted returns by asset class. For the life of me, I can't figure out how to do it using the aggregate command. </p>

<p>My data frame looks like this </p>

<pre><code>dat &lt;- data.frame(company, fundname, assetclass, return, assets)
</code></pre>

<p>I'm trying to do something like (don't copy this, it's wrong): </p>

<pre><code>aggregate(dat, list(dat$assetclass), weighted.mean, w=(dat$return, dat$assets))
</code></pre>
","170352","","559784","","2013-03-27 23:57:45","2020-09-03 08:11:45","Aggregate and Weighted Mean in R","<r><aggregate>","4","0","3","","","CC BY-SA 2.5","3367190","4452","4452","r","404559","3625322","3607736","",""
"3367393","1","3367858","","2010-07-29 22:14:08","","8","10421","<p>I am using ggplot2 (respectively qplot) to generate a report with Sweave. Now I need some help with the adjustment of the size of the plot. I use the following Sweave code to include it.</p>

<pre><code>\begin{figure}[htbp]
\begin{center}
&lt;&lt;fig=true,echo=false&gt;&gt;=
print(mygraph)
@
\caption{MyCaption}
\end{center}
\end{figure}
</code></pre>

<p>If I add a width argument (like shown below) to plot is squeezed down, but not really scaled down. </p>

<pre><code>&lt;&lt;fig=true,echo=false,width=3&gt;&gt;=
</code></pre>

<p>If I use ggsave() instead, I could use a scale argument and influence the size of the resulting .pdf file. Is there a way to influence the dimensions of the plot without saving it (since the .pdf is generated by Sweave anyway) ? Is there anything I need to add to my qplot code?</p>

<pre><code>mygraph=qplot(date,value,data=graph1,geom=""line"",colour=variable,xlab="""",ylab="""")
+ scale_y_continuous(limits = c(-0.3,0.3))
</code></pre>

<p>Thx for any suggestions in advance!</p>
","366256","","","","","2010-07-30 06:04:50","How to control the dimension / size of a plot with ggplot2","<r><ggplot2>","2","0","3","","","CC BY-SA 2.5","3367393","4452","4452","r","404559","3625322","3607736","",""
"3369025","1","3369100","","2010-07-30 06:05:19","","18","6185","<p>Where can I find information on the differences between calling on a column within a data.frame via:</p>

<pre><code>df &lt;- data.frame(x=1:20,y=letters[1:20],z=20:1)

df$x
df[""x""]
</code></pre>

<p>They both return the ""same"" results, but not necessarily in the same format. Another thing that I've noticed is that df$x returns a list. Whereas df[""x""] returns a data.frame. </p>

<p>EDIT: However, knowing which one to use in which situation has become a challenge. Is there a best practice here or does it really come down to knowing what the command or function requires? So far I've just been cycling through them if my function doesn't work at first (trial and error). </p>
","170352","","202229","","2012-05-11 19:34:00","2012-05-11 21:23:16","In R, What is the difference between df[""x""] and df$x","<r><dataframe><lookup><indexing>","7","0","4","","","CC BY-SA 2.5","3369025","4452","4452","r","404559","3625322","3607736","",""
"3369501","1","3372848","","2010-07-30 07:36:33","","1","731","<p>Perhaps this is a ridiculous question.</p>

<p>Has anyone ever experienced a situation where R does not follow BEDMAS (Brackets, Exponents, Division, Multiplication, Addition, Subtraction) </p>
","170352","","170352","","2010-07-30 07:56:29","2015-03-13 18:02:10","Does R follow BEDMAS - strictly?","<r>","2","7","","","","CC BY-SA 2.5","3369501","4452","4452","r","404559","3625322","3607736","",""
"3369600","1","3374675","","2010-07-30 07:55:16","","4","1273","<p>I have a script where I'm using ddply, as in the following example:</p>

<pre><code>ddply(df, .(col),
function(x) data.frame(
col1=some_function(x$y),
col2=some_other_function(x$y)
)
)
</code></pre>

<p>Within ddply, is it possible to reuse col1 without calling the entire function again?</p>

<p>For example: </p>

<pre><code>ddply(df, .(col),
function(x) data.frame(
col1=some_function(x$y),
col2=some_other_function(x$y)
col3=col1*col2
)
)
</code></pre>
","170352","","1385941","","2013-03-28 01:57:12","2013-03-28 01:57:12","Is it possible to reuse generated columns in ddply?","<r><plyr>","3","2","5","","","CC BY-SA 3.0","3369600","4452","4452","r","404559","3625322","3607736","",""
"3369959","1","3370115","","2010-07-30 08:52:42","","66","98520","<p>Is there a method for moving a column from one position in a data.frame to the next - without typing an entirely new data.frame()</p>

<p>For example: </p>

<pre><code>a &lt;- b &lt;- c &lt;- d &lt;- e &lt;- f &lt;- g &lt;- 1:100
df &lt;- data.frame(a,b,c,d,e,f,g)
</code></pre>

<p>Now let's say I wanted ""g"" in front of ""a""</p>

<p>I could retype it, as </p>

<pre><code>df &lt;- data.frame(g,a,b,c,d,e,f)
</code></pre>

<p>But is there not a quicker way? (Imagine 1500+ columns)</p>
","170352","","","","","2020-05-14 02:26:48","Moving columns within a data.frame() without retyping","<r>","17","3","28","","","CC BY-SA 2.5","3369959","4452","4452","r","404559","3625322","3607736","",""
"3370621","1","3370918","","2010-07-30 10:28:39","","0","1160","<p>I have a large data.frame, and I'd like to be able to reduce it by using a quantile subset by one of the variables. For example:</p>

<pre><code>x &lt;- c(1:10,1:10,1:10,1:10,1:10,1:10,1:10,1:10,1:10,1:10)
df &lt;- data.frame(x,rnorm(100))

df2 &lt;- subset(df, df$x == 1)
df3 &lt;- subset(df2, df2[2] &gt; quantile(df2$rnorm.100.,0.8))
</code></pre>

<p>What I would like to end up with is a data.frame that contains all quantiles for x=1,2,3...10. </p>

<p>Is there a way to do this with ddply? </p>
","170352","","168747","","2010-07-30 11:58:26","2010-07-30 13:52:45","Creating multiple subsets all in one data.frame (possibly with ddply)","<r>","2","1","3","","","CC BY-SA 2.5","3370621","4452","4452","r","404559","3625322","3607736","",""
"3370645","1","3401251","","2010-07-30 10:32:48","","3","1523","<p>Here's my code that's supposed to display to graphics next to each other, but fails to do so. In fact the sweave part is not interpreted.</p>

<pre><code>\begin{figure}[h]
\begin{center} 
\begin{minipage}[t]{.485\linewidth} % 
 &lt;&lt;fig=true,echo=false&gt;&gt;=
 print(graph2)
 @
 \newline{\color{red}{\caption{\label{idx}Graph one}}}    
 \end{minipage}
 \hspace{.02\linewidth}
  \begin{minipage}[t]{.485\linewidth}% 
  &lt;&lt;fig=true,echo=false&gt;&gt;=
 print(graph2)
 @
 \newline{\color{red}{ \caption{\label{pb}Graph two}}}
 \end{minipage}

 \end{center}
 \end{figure}
</code></pre>

<p>graph1,graph2 is just any given graph created by qplot. Both graphs work just fine outside a minipage. I know this topic has been around, but somehow I could not get solutions to got that worked for others like this <a href=""http://www.mail-archive.com/r-help@r-project.org/msg49412.html"" rel=""nofollow noreferrer"">one</a>. </p>

<p>Plus I have a little side question: What's the argument to prevent Sweave from generating both .eps and .pdf ? The manual just states that it is the default. However I am sure that I just use pdflatex and hence do not need .eps. </p>
","366256","","709619","","2011-08-31 05:51:09","2012-08-23 07:59:47","How to use ggplot2 graphics inside minipage with Sweave?","<r><latex><ggplot2><sweave>","2","3","1","","","CC BY-SA 2.5","3370645","4452","4452","r","404559","3625322","3607736","",""
"3371321","1","3384317","","2010-07-30 12:22:11","","0","262","<p>I have a group of people, with a space-separated text file for each person. In these files, the right value indicates the height of that person in <code>cm</code> and the left value indicates the date in <code>%d/%m/%Y</code> format:</p>

<pre><code>09/05/1992 0
17/03/1993 50
02/08/1994 65.5
03/12/1995 72
</code></pre>

<p>A height of <code>0</code> marks the birth date of the person.</p>

<p>This <strong>R</strong> script draws a graph of the heights of John and Amy and outputs it to a PDF:</p>

<pre><code>pdf(""Heights.pdf"")

john &lt;- read.table(""John"",sep="""")
names(john) &lt;- c(""time"",""height"")
jt &lt;- strptime(john$time, ""%d/%m/%Y"")
jh &lt;- john$height

amy &lt;- read.table(""Amy"",sep="""")
names(amy) &lt;- c(""time"",""height"")
at &lt;- strptime(amy$time, ""%d/%m/%Y"")
ah &lt;- amy$height

plot(jt,jh,type=""b"",pch=20,col=""red"",
xlab=""Date"",ylab=""Height"",
ylim=c(min(jh,ah),max(jh,ah)))
points(at,ah,type=""b"",pch=20,col=""green"")
title(""Heights"")
</code></pre>

<p>How can I extend this script to: </p>

<ul>
<li>Graph all files in the current directory ending with <code>.heights</code>?</li>
<li>Make the graph relative to each person's birth date?</li>
</ul>
","405550","","4370109","","2015-12-03 21:02:12","2015-12-03 21:02:12","R heights graph - relative to birth date","<r><date><graph><relative-date>","1","2","","","","CC BY-SA 2.5","3371321","4452","4452","r","404559","3625322","3607736","",""
"3371892","1","","","2010-07-30 13:29:10","","9","2482","<p>I have two data frames <code>raw</code> and <code>coef</code>:</p>

<ul>
<li>one containing raw data</li>
<li>the other containing modelling coefficients that I have derived from the raw data.</li>
</ul>

<p>The first data frame <code>raw</code> contains :</p>

<ul>
<li><code>Time</code> (0 to 900 seconds) </li>
<li><code>OD</code> for many Variants and four runs.  </li>
</ul>

<p>The second data frame <code>coef</code> contains :</p>

<ul>
<li>one row per Variant/run combination, with the individual coefficients (<code>M</code>, <code>D.1</code> and <code>t0.1</code>) in that row.</li>
</ul>

<p>I have plotted the raw data split per Variant and colored by <code>runID</code>, without a problem. But, now I want to overlay the model curves according to the <code>runID</code>.</p>

<p>Since the modelling coefficients are in a different data frames, with different dimensions, I can't just <code>cbind</code> them. <code>stat_function</code> won't work for me. I can get only one curve showing at a time.</p>

<p>I have tried with a <code>for loop</code>, adding a <code>stat_function</code> layer each time:</p>

<pre><code>p &lt;- ggplot(temp, aes(Time, OD)) + geom_point(aes(colour = runID), size = 2) #works fine!
calc &lt;- function(x){temp.n$M[ID] * (1 - exp(temp.n$D.1[ID] * temp.n$t0.1[ID] - x)))}
for(ID in 1:length(unique(temp.n$runID))) {
  p &lt;- p + stat_function(fun = calc)
}
print(p)
</code></pre>

<p>At the end, all <code>p</code> returns is the plot of the raw data, and the final curve from the looping bit. <code>p</code> seems to revert to its original state every time I try to add a new <code>stat_function</code> layer.</p>

<p>Any ideas ?</p>
","406756","","6147182","","2019-05-01 09:07:00","2019-05-01 09:07:00","Overlay multiple stat_function calls in ggplot2","<r><function><overlay><plot><ggplot2>","2","2","1","","","CC BY-SA 4.0","3371892","4452","4452","r","404559","3625322","3607736","",""
"3372261","1","","","2010-07-30 14:09:48","","2","3188","<p>I am trying to loop over the a matrix and do the correlation coefficient of each two-row and print out the correlation matrix. </p>

<pre><code>ID A B C D E F G H I
Row01 0.08 0.47 0.94 0.33 0.08 0.93 0.72 0.51 0.55
Row02 0.37 0.87 0.72 0.96 0.20 0.55 0.35 0.73 0.44
Row03 0.19 0.71 0.52 0.73 0.03 0.18 0.13 0.13 0.30
Row04 0.08 0.77 0.89 0.12 0.39 0.18 0.74 0.61 0.57
Row05 0.09 0.60 0.73 0.65 0.43 0.21 0.27 0.52 0.60
Row06 0.60 0.54 0.70 0.56 0.49 0.94 0.23 0.80 0.63
Row07 0.02 0.33 0.05 0.90 0.48 0.47 0.51 0.36 0.26
Row08 0.34 0.96 0.37 0.06 0.20 0.14 0.84 0.28 0.47
........
(30000 rows!)
</code></pre>

<p>I want the Pearson correlation output as:</p>

<pre><code> Row01
Row01 1.000
Row02 0.012
Row03 0.023
Row04 0.820
Row05 0.165
Row06 0.230
Row07 0.376
Row08 0.870
</code></pre>

<p>output as Row01.txt</p>

<pre><code>Row02
Row01 0.012
Row02 1.000
Row03 0.023
Row04 0.820
Row05 0.165
Row06 0.230
Row07 0.376
Row08 0.870
</code></pre>

<p>output as Row02.txt.
.
.
.
.</p>

<p>output files will be 30000!</p>

<p>I am aware of this algorithm looks stupid, that <code>matrix&lt;-cor(T(data))</code> will do the whole thing, and half of the corr matrix is enough as the corr result is symmetric along the diagonal. </p>

<p>But my problems are</p>

<ol>
<li>my data is too big for R to handle 30000x30000.</li>
<li>It is hard to retrieve the specific correlations of a specific row with the rest.</li>
<li>Using my ""stupid algorithm"" I can easily get the corr of my interest from the folder.</li>
</ol>
","406796","","805808","","2011-11-03 04:16:56","2011-11-03 04:20:51","Iterating over the big matrix containing 3000 rows and calculate the correlation","<r><matrix>","3","0","","","","CC BY-SA 3.0","3372261","4452","4452","r","404559","3625322","3607736","",""
"3374604","1","","","2010-07-30 19:08:26","","0","193","<p>Here's my code:</p>

<pre><code>x &lt;- rnorm(1000)
y &lt;- rnorm(1000)
plot(x,y)
</code></pre>

<p>I just created two standard normal vectors of size 1,000 and plotted them in the xy-plane.</p>

<p>When I look at the GUI, the scatter looks ""spherical"" and the axes are scaled equivalently. Cool.</p>

<p>But when I print the image, the x-axis elongates, and so the scatter no longer is spherical but oval.</p>

<p>I don't want that. I want to print the scatter with axes of equivalent scale. Help a brother out?</p>
","391926","","309308","","2010-07-30 19:10:06","2010-12-09 14:30:57","how to rescale two-dimensional plot for printing","<r>","1","1","","","","CC BY-SA 2.5","3374604","4452","4452","r","404559","3625322","3607736","",""
"3375475","1","","","2010-07-30 21:26:56","","0","527","<p>Thanks Nico! Almost got there after I corrected small bugs. Here I attache my script:</p>

<pre><code>datamatrix=read.table(""ref.txt"", sep=""\t"", header=T, row.names=1)
correl &lt;- NULL
for (i in 1:nrow(datamatrix)) {
   correl &lt;- apply(datamatrix, 1, function(x) {cor(t(datamatrix[, i]))})
   write.table(correl, paste(row.names(datamatrix)[i], "".txt"", sep=""""))
}
</code></pre>

<p>But I am afraid the <code>function(x)</code> part is of problem, that seems to be <code>t(datamatrix[i,j])</code>, which will calculate corr of any two rows.</p>

<p>Actually I need to iterate through the matrix. first <code>cor(row01, row02)</code> get one correlation between rwo01 and row02; then <code>cor(row01, row03)</code> to get the correlation of row01 and rwo03, ....and till correlation between row01 row30000. Now I got the first column for row01 Row01 1.000 Row02 0.012 Row03 0.023 Row04 0.820 Row05 0.165 Row06 0.230 Row07 0.376 Row08 0.870 and save it to file row01.txt.</p>

<p>Similarly get Row02 Row01 0.012 Row02 1.000 Row03 0.023 Row04 0.820 Row05 0.165 Row06 0.230 Row07 0.376 Row08 0.870 and save it to file row02.txt.</p>

<p>Totally I will get 30000 files. It is stupid, but this can skip the memory limit and can be easily handled for the correlation of a specific row.</p>
","406796","","168747","","2010-10-01 08:56:47","2011-05-29 03:36:14","Iterating over the big matrix containing 3000 rows and calculate the correlation.-Follow-up!","<r><matrix>","1","2","","","","CC BY-SA 2.5","3375475","4452","4452","r","404559","3625322","3607736","",""
"3375808","1","3379113","","2010-07-30 22:25:26","","51","7382","<p>I've been using R for a little over a year now and it's been a successful venture. But all too often, I find that there is something that I can't figure out for lack of knowing how to find it or an example of it.</p>

<p>Stackoverflow, </p>

<p>Could you recommend a pathway for learning R in a manner that provides one with a toolset at their disposal to solve problems of a statistical nature?</p>

<p>There's a wealth of knowledge on the internet, between the r-project website and the mailings lists but it seems to be ""everywhere"" and nowhere when you're actually looking for it.</p>

<p>For example, when I first started using R, I went through ""Intro to R"". Then I read the language definition (which obviously hasn't sunk in). But every time I ask a question on Stackoverflow I'm presented with some new badass function that is the solution to all my problems in the short term. My question is, how did you know these functions existed in the first place? And how does one go about finding them? Presumably, you read something or found some resources that detoured your learning to the exponential part of the curve. What was it? </p>

<p>Obviously, R's functionality as a statistical tool is broad. For my own purposes I work mostly with economic or financial data. Hence, answers with this in mind would be most helpful. </p>
","170352","","170352","","2018-10-22 11:19:07","2018-12-06 05:24:34","Learning R. Where does one Start?","<r>","11","2","51","2013-11-28 08:03:59","","CC BY-SA 4.0","3375808","4452","4452","r","404559","3625322","3607736","",""
"3375984","1","3376049","","2010-07-30 23:06:25","","6","4476","<p>id like to adjust the size of my lines (both of them), because i feel they're too skinny. 
The following code does so, but creates a legend for size, which is useless since size has no variable that can be mapped to it.</p>

<pre><code>qplot(date,value,data=graph1,geom=""line"",colour=variable,xlab="""",ylab="""",size=1)
+ scale_y_continuous(limits = c(-0.3,0.3)) + opts(aspect.ratio = 2/(1+sqrt(5))) 
+ scale_colour_manual(""Variable"",c(Line1=""red"",Line2=""blue"")) 
+ opts(legend.size=""none"")
</code></pre>

<p>My plot consists of two lines representing a time series of two different variables over the same time span. The variable is mapped to color. If I try to influence the size of the line, qplot always tries to map ""size"" to another parameter and display another legend. </p>

<p>I also followed <a href=""http://groups.google.com/group/ggplot2/browse_thread/thread/28eaca9ea56ce5cc/80faa8947fa6a01a?#80faa8947fa6a01a"" rel=""noreferrer"">this</a> discussion, that ended with Hadley telling the others that removing a part of the legend is not implemented yet.
I understand that adding another paramater to the mix implies the need of a legend for this parameter. Maybe I am using the wrong command to influence line size just for visual reasons. </p>

<p>Thx for any suggestions!</p>
","366256","","","","","2010-07-30 23:24:34","How to adjust line size in geom_line without obtaining another (useless) legend?","<r><ggplot2>","1","0","3","","","CC BY-SA 2.5","3375984","4452","4452","r","404559","3625322","3607736","",""
"3376184","1","3376197","","2010-07-31 00:02:46","","3","740","<p>I'm trying to load the page that describes these 'functions'. However, R console in windows seems to hate me, it just returns +</p>

<pre><code>?for
?repeat
</code></pre>
","170352","","","","","2013-06-25 12:16:36","Searching R help for ""for"" and ""repeat"" loop(s) help file","<r>","2","0","","","","CC BY-SA 2.5","3376184","4452","4452","r","404559","3625322","3607736","",""
"3376219","1","3379120","","2010-07-31 00:15:04","","3","889","<p>Let's say I have a data.frame like:</p>

<pre><code>x &lt;- c(1:10,1:10,1:10,1:10,1:10,1:10,1:10,1:10,1:10,1:10)
df &lt;- data.frame(x=x,y=rnorm(100))
</code></pre>

<p>and I want to label values that are sorted (descending) in the 80th percentile for each value of x (1:10). I can get the quantiles and order the data, without issue like this:</p>

<pre><code>df &lt;- ddply(df, .(x), subset, y &gt; quantile(y,0.8))
df &lt;- df[with(df, order(x,-y)),]
</code></pre>

<p>Now, how could I get ddply to add a column of labels (1,2,3,...n) in a new column of the data.frame for each sorted subset? I can do this now with a for loop by counting nrow(df[""x""]), but that seems to lack any sense of eloquence. </p>

<p>Note: This question is a build up from and related to: <a href=""https://stackoverflow.com/questions/3370621/creating-multiple-subsets-all-in-one-data-frame-possibly-with-ddply"">Creating multiple subsets all in one data.frame (possibly with ddply)</a></p>
","170352","","-1","","2017-05-23 12:07:08","2010-07-31 17:31:31","Adding labels to data with ddply while subsetting","<r>","2","2","3","","","CC BY-SA 2.5","3376219","4452","4452","r","404559","3625322","3607736","",""
"3376513","1","3376665","","2010-07-31 02:25:23","","5","2770","<p>I have a CSV file the first row of which contains the variables names and the rest of the rows contains the data. What's a good way to break it up into files each containing just one variable in R? Is this solution going to be robust? E.g. what if the input file is 100G in size? </p>

<p>The input files looks like</p>

<pre><code>var1,var2,var3
1,2,hello
2,5,yay
...
</code></pre>

<p>I want to create 3 (or however many variables) files var1.csv, var2.csv, var3.csv
so that files resemble
<strong>File1</strong></p>

<pre><code>var1
1
2
...
</code></pre>

<p><strong>File2</strong></p>

<pre><code>var2?
2
5
...
</code></pre>

<p><strong>File3</strong></p>

<pre><code>var3
hello
yay
</code></pre>

<p>I got a solution in Python (<a href=""https://stackoverflow.com/questions/3331608/how-to-break-a-large-csv-data-file-into-individual-data-files"">How to break a large CSV data file into individual data files?</a>) but I wonder if R can do the same thing? Essential the Python code reads the csv file line by line and then writes the lines out one at a time. Can R do the same? The command read.csv reads the whole file all at once and this can slow the whole process down. Plus it can't read a 100G file and process it as R attempts to read the whole file into memory. I can't find a command in R that let's you read a csv file line by line. Please help. Thanks!!</p>
","239923","","-1","","2017-05-23 12:30:37","2010-07-31 06:02:15","How to break a large CSV data file into individual data files using R?","<r><csv>","1","0","5","","","CC BY-SA 2.5","3376513","4452","4452","r","404559","3625322","3607736","",""
"3376867","1","3377070","","2010-07-31 04:55:33","","1","901","<p>Hi I just download rpy2 and Python 2.6. When I try to run some of example code I found on the internet, I got this error. Can anyone explain why this is happening and how can I fix it? Thanks.</p>

<pre><code>import rpy2.robjects as RO

Traceback (most recent call last):
  File ""&lt;pyshell#0&gt;"", line 1, in &lt;module&gt;
    import rpy2.robjects as RO
  File ""C:\Python26\lib\site-packages\rpy2\robjects\__init__.py"", line 12, in &lt;module&gt;
    import rpy2.rinterface as rinterface
  File ""C:\Python26\lib\site-packages\rpy2\rinterface\__init__.py"", line 22, in &lt;module&gt;
    ""This might be because R.exe is nowhere in your Path."")
RuntimeError: Unable to determine R version from the registery.Calling the command 'R RHOME' does not return anything.
This might be because R.exe is nowhere in your Path.
</code></pre>
","239923","","78845","","2010-07-31 06:13:19","2010-07-31 06:16:56","How do I set up rpy2?","<python><r>","1","0","2","","","CC BY-SA 2.5","3376867","4452","4452","r","404559","3625322","3607736","",""
"3378718","1","3380025","","2010-07-31 15:28:48","","2","1208","<p>Recently I've migrated to Arch Linux, after ~4 years being loyal to Ubuntu. Everything works like a charm, it's noticeably faster than Ubuntu, IMHO it's easier to customise, but when it is to do with support for R, well, Ubuntu takes a medal. I'm not willing to do another distro-shuffle and switch back to Ubuntu, while Debian is just ""too stable"" for my taste... so I'll stick with Arch for now. </p>

<p>Bunch of R packages available from Ubuntu's universe and/or multiverse repos (like r-cran-* and revolution-r) are not available in Arch. Of course, you can always install packages within R with <code>install.packages</code>, but there are dozens of Debian/Ubuntu R packages, and excuse me for saying this, but it's painstaking job to track them down. <code>r-cran-lattice</code> can be replaced with <code>install.packages(""lattice"")</code>, but what about <code>revolution-r</code> (<code>revolution-mkl</code>)? I'd like to have RA optimizations in Arch. </p>

<p>Could you, please, give me some advice about this one? What's the catch? <code>r-core</code>, <code>r-base-dev</code>, <code>r-base-core-dbg</code>, <code>r-base-core-ra</code>... Actually, I have two questions:</p>

<ul>
<li>What's the difference between these (<code>r-base-*</code>)
packages and ""standard"" R
installation?</li>
<li>And how can I port Debian/Ubuntu packages to Arch (I'm
talking only about those packages
that don't come bundled with an official installation, like <code>r-cran-*</code> and Revolution-R-like packages)?</li>
</ul>

<p>It would be nice if <em>Arch</em>-ers could have out-of-the-box support for R, like Debian, Ubuntu, Suse and Fedora users. I know it's manageable, I just want to know how hard it is.</p>
","457898","","","","","2011-10-28 13:02:00","Debian/Ubuntu r-base-*, r-cran-*, revolution-r packages: porting to ArchLinux","<r><ubuntu><debian><porting><archlinux>","2","9","1","","","CC BY-SA 2.5","3378718","4452","4452","r","404559","3625322","3607736","",""
"3380418","1","3380570","","2010-08-01 01:38:29","","3","2215","<p>I'm creating a time-series object with new variables using the transform() function in R and cannot find the proper function to calculate the difference in variable C between today and yesterday.</p>

<p>This is what I've got so far:</p>

<pre><code>                 O       H       L       C  Typical Range 
2010-07-23 1092.17 1103.73 1087.88 1102.66 1098.090 15.85 
2010-07-26 1102.89 1115.01 1101.30 1115.01 1110.440 13.71  
2010-07-27 1117.36 1120.95 1109.78 1113.84 1114.857 11.17  
2010-07-28 1112.84 1114.66 1103.11 1106.13 1107.967 11.55  
2010-07-29 1108.07 1115.90 1092.82 1101.53 1103.417 23.08  
2010-07-30 1098.44 1106.44 1088.01 1101.60 1098.683 18.43
</code></pre>

<p>The next row will be added with the following function:</p>

<pre><code>SPX &lt;- transform(SPX, Return = (C - C(yesterday) ) / C(yesterday)))
</code></pre>

<p>Obviously, C(yesterday) is incorrect. I've tried lag(), diff() and haven't found the correct combination. </p>

<p>Bonus question: How do you get the Typical variable to show only to the hundreth?</p>
","296155","","296155","","2010-08-01 02:35:03","2010-08-01 03:03:49","Generate new time-lagged variable in R","<r><time-series><lag>","1","0","3","","","CC BY-SA 2.5","3380418","4452","4452","r","404559","3625322","3607736","",""
"3380931","1","3388539","","2010-08-01 05:54:07","","3","1441","<p>I am using R 2.11.1 and XML package 3.1-0, and I was going through an example from <a href=""http://www.omegahat.org/R2GoogleMaps/"" rel=""nofollow noreferrer"">R2GoogleMaps</a> when I encountered a segfault error.</p>

<pre><code>#library(RJSONIO)
library(R2GoogleMaps)
library(XML)
#library(RCurl)

load(""b.rda"") # find in the sampleDocs folder in source file of R2GoogleMaps

center = c(mean(range(b$lat)), mean(range(b$long)))
code = addOverlay(gpolyline(b))

d = googleMapsDoc(code, center, zoom = 11, dim = c(750, 700), file = ""simplePolyline.html"")
</code></pre>

<p>Below is an easily reproducible code that gets the same error:</p>

<pre><code>&gt; library(XML)
&gt; a &lt;- htmlParse(""http://bm2.genes.nig.ac.jp/RGM2/R_current/library/XML/man/xmlTreeParse.html"")
&gt; a

 *** caught segfault ***
address 0x55aa44, cause 'memory not mapped'

Traceback:
 1: .Call(""RS_XML_dumpHTMLDoc"", doc, as.integer(indent), as.character(encoding),     as.logical(indent), PACKAGE = ""XML"")
 2: saveXML(from)
 3: saveXML(from)
 4: asMethod(object)
 5: as(x, ""character"")
 6: cat(as(x, ""character""), ""\n"")
 7: print.XMLInternalDocument(&lt;pointer: 0x1016363f0&gt;)
 8: print(&lt;pointer: 0x1016363f0&gt;)

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection: 1
aborting ...

Process R segmentation fault at Sat Jul 31 22:07:02 2010
</code></pre>

<p>The problem also seems to be doing a <code>saveXML()</code> on the <code>htmlParse()</code> file.</p>

<p>When I was writing up another code that used <code>htmlParse()</code>, I don't recall ever encountering this problem (although I don't remember if I called a <code>htmlParse()</code> object explicitly). So I'm not entirely sure if this is a recent problem or not. The only difference between then and now (that I can remember) is that I've installed many of the <a href=""http://www.omegahat.org/"" rel=""nofollow noreferrer"">OmegaHat packages</a> from source.</p>

<p>I was curious if anyone else was getting this error. To explore if the cause lies with my laptop, I have restarted and upgraded my OS as a basic step. What might be the problem? Thanks.</p>

<p><strong>edit</strong>: just for ref:</p>

<pre><code>&gt; sessionInfo()
R version 2.11.1 (2010-05-31) 
x86_64-apple-darwin9.8.0 

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  grid      methods  
[8] base     

other attached packages:
[1] XML_3.1-0     digest_0.4.2  reshape_0.8.3 plyr_0.1.9    proto_0.3-8  

loaded via a namespace (and not attached):
[1] ggplot2_0.8.7
</code></pre>
","355014","","355014","","2010-08-03 22:48:35","2013-03-23 15:58:56","htmlParse() segfault error in R XML package: 'memory not mapped'","<memory><r><segmentation-fault><html-parsing>","1","0","","","","CC BY-SA 2.5","3380931","4452","4452","r","404559","3625322","3607736","",""
"3382976","1","3383002","","2010-08-01 17:18:26","","0","1985","<p>Greetings,</p>

<p>I have a table that looks like the following:</p>

<pre><code>      date value
2007-11-05 134
2007-12-08 234
2008-03-10 322
2008-03-11 123
...
</code></pre>

<p>In summary, it has daily values for three years, but it doesn't have values for every day. What I need is to draw a line chart plot(data$date, data$value) for the whole time span, but considering that, for those days the table doesn't specify a value, it should assume the last known. In other words, the table only has values in the days that it changed.</p>

<p>Any R experts out there that can give me an hand? :-)</p>

<p>Thanks in advance!</p>
","41652","","","","","2010-08-23 16:43:09","Using R to draw a time series with discrete data","<r><statistics><charts>","3","0","","","","CC BY-SA 2.5","3382976","4452","4452","r","404559","3625322","3607736","",""
"3384506","1","3384752","","2010-08-02 01:40:05","","39","85210","<p>I have a several data sets with 75,000 observations and a <code>type</code> variable that can take on a value 0-4.  I want to add five new dummy variables to each data set for all types.  The best way I could come up with to do this is as follows:</p>

<pre><code># For the 'binom' data set create dummy variables for all types in all data sets
binom.dummy.list&lt;-list()
for(i in 0:4){
    binom.dummy.list[[i+1]]&lt;-sapply(binom$type,function(t) ifelse(t==i,1,0))
}

# Add and merge data
binom.dummy.df&lt;-as.data.frame(do.call(""cbind"",binom.dummy.list))
binom.dummy.df&lt;-transform(binom.dummy.df,id=1:nrow(binom))
binom&lt;-merge(binom,binom.dummy.df,by=""id"")
</code></pre>

<p>While this works, it is incredibly slow (the merge function has even crashed a few times). Is there a more efficient way to do this?  Perhaps this functionality is part of a package that I am not familiar with?</p>
","144537","","-1","","2015-07-14 00:24:30","2020-08-12 17:00:42","Create new dummy variable columns from categorical variable","<r>","8","0","23","","","CC BY-SA 3.0","3384506","4452","4452","r","404559","3625322","3607736","",""
"3384567","1","3384694","","2010-08-02 01:59:50","","0","1028","<p>I have a data.frame, df, with n variables in it. The variables can take any name.</p>

<p>I want to be able to fit coxph(Surv(time_to_event,bad_outcome)~var1+var2+...+varn,data=df)</p>

<p>But df is a variable, its length can change. How do I write a piece of code that can fit all the variables in df regardless of the number of variables in df and the names of the variables?</p>

<p>Thank you so much.</p>
","239923","","","","","2010-08-02 02:45:36","How do I fit a model without specifying the number of variables?","<r>","1","0","","","","CC BY-SA 2.5","3384567","4452","4452","r","404559","3625322","3607736","",""
"3384598","1","3402479","","2010-08-02 02:08:09","","19","21883","<p>I've included a library called blotter in my R script which has a bug in it.  Is there an easy way for me to edit the source to try and debug the issue?</p>
","64421","","1146071","","2014-01-02 19:12:48","2014-01-02 19:12:48","How to edit and debug R library sources","<r><debugging>","3","1","13","","","CC BY-SA 3.0","3384598","4452","4452","r","404559","3625322","3607736","",""
"3384794","1","3384828","","2010-08-02 03:22:44","","8","2198","<p>I have a kind of general R question here: </p>

<p>Usually with digicams we tend to click a lot of immages which may be repetitive and can waste online space while sharing on Picassa or is an overhead when trying to delete some unwanted images. </p>

<p>Is it possible to cluster photos using R? I mean there are some clustering abilities in Matlab for image processing, but is this kind of functionality available or are there any suggestions to do this so in R?</p>

<p>Please provide some ideas if any on this topic. </p>
","358506","","","","","2018-10-11 00:19:22","Clustering Photos in R?","<image><r><image-processing>","1","0","1","","","CC BY-SA 2.5","3384794","4452","4452","r","404559","3625322","3607736","",""
"3386666","1","3389142","","2010-08-02 09:57:39","","1","763","<p>Is it necessary to have Rtools installed for running R in Batch mode, or is it fine if i just set up the environment variable for R.exe</p>
","302058","","","","","2010-08-02 15:20:29","R in batch mode","<r>","2","0","","","","CC BY-SA 2.5","3386666","4452","4452","r","404559","3625322","3607736","",""
"3386850","1","3387259","","2010-08-02 10:24:15","","32","36741","<p>I have an XTS timeseries in R of the following format and am trying to do some processing, subsetting and re-arranging before exporting as a CSV for work in another program.</p>

<pre><code>head(master_1)
                   S_1
2010-03-03 00:00:00 2.8520
2010-03-03 00:30:00 2.6945
2010-03-03 01:00:00 2.5685
2010-03-03 01:30:00 2.3800
2010-03-03 02:00:00 2.2225
2010-03-03 02:30:00 2.0650
</code></pre>

<p>and</p>

<pre><code>str(master_1)
An xts object from 2010-03-03 to 2010-05-25 08:30:00 containing:
  Data: num [1:4000, 1] 2.85 2.69 2.57 2.38 2.22 ...
 - attr(*, ""dimnames"")=List of 2
  ..$ : NULL
  ..$ : chr ""S_1""
  Indexed by objects of class: [POSIXt,POSIXct] TZ: 
  Original class: 'zoo'  
  xts Attributes:  
List of 1
 $ dateFormat: chr ""Date""
</code></pre>

<p>And I would like to convert this to a data.frame so I can manipulate it more easily and then export to another program. However, when I use <code>test1 &lt;- as.data.frame(master_1)</code> the test1 does have the Index (i.e. the dates and times) visible,</p>

<pre><code>head(test1)
                       S_1
2010-03-03 00:00:00 2.8520
2010-03-03 00:30:00 2.6945
2010-03-03 01:00:00 2.5685
2010-03-03 01:30:00 2.3800
2010-03-03 02:00:00 2.2225
2010-03-03 02:30:00 2.0650 
</code></pre>

<p>But the Index is not shown, </p>

<pre><code>str(test1)
'data.frame': 4000 obs. of  1 variable:
 $ S_1: num  2.85 2.69 2.57 2.38 2.22 ...
</code></pre>

<p>And writing a csv <code>write.csv(master_1, file=""master_1.csv"")</code> does not include the time or date. Why is this, and how can I include the data/time data as a column, so it is used in other R commands and exported properly?</p>

<p>Thanks for any help.</p>
","389065","","2204410","","2018-10-03 19:15:37","2018-10-06 12:18:53","How can I change XTS to data.frame and keep Index?","<r><time><dataframe><xts>","6","0","21","","","CC BY-SA 4.0","3386850","4452","4452","r","404559","3625322","3607736","",""
"3387824","1","3388026","","2010-08-02 12:37:57","","4","5477","<p>I have a bunch of measurements over time and I want to plot them in R. Here is a sample of my data. I've got 6 measurements for each of 4 time points:</p>

<pre><code>values &lt;- c (1012.0, 1644.9, 837.0, 1200.9, 1652.0, 981.5, 
    2236.9, 1697.5, 2087.7, 1500.8,
    2789.3, 1502.9, 2051.3, 3070.7, 3105.4, 
    2692.5, 1488.5, 1978.1, 1925.4, 1524.3,
    2772.0, 1355.3, 2632.4, 2600.1)
time &lt;- factor (rep (c(0, 12, 24, 72), c(6, 6, 6, 6)))
</code></pre>

<p>The scale of these data is arbitrary, and in fact I'm going to normalize it so that the average of t=0 is 1.</p>

<pre><code>norm &lt;- values / mean (values[time == 0])
</code></pre>

<p>So far so good. Using <code>ggplot</code>, I plot both the individual points, as well as a line that goes through the average at each time point:</p>

<pre><code>require (ggplot2)
p &lt;- ggplot(data = data.frame(time, norm), mapping = aes (x = time, y = norm)) +
    stat_summary (fun.y = mean, geom=""line"", mapping = aes (group = 1)) +
    geom_point()
</code></pre>

<p>However, now I want to apply a logarithmic scale, and this is where my trouble starts. When I do:</p>

<pre><code>q &lt;- ggplot(data = data.frame(time, norm), mapping = aes (x = time, y = norm)) +
    stat_summary (fun.y = mean, geom=""line"", mapping = aes (group = 1)) +
    geom_point() + 
    scale_y_log2()
</code></pre>

<p>The line does NOT go through 0 at t=0, as you would expect because log (1) == 0. Instead the line crosses the y-axis slightly below 0. Apparently, <code>ggplot</code> applies the mean <em>after</em> log transformation, which gives a different result. I want it to take the mean <em>before</em> log transformation.</p>

<p>How can I tell <code>ggplot</code> to apply the mean first? Is there a better way to create this chart?</p>
","3306","","126273","","2015-11-13 23:29:41","2018-07-04 14:51:13","R ggplot2: using stat_summary (mean) and logarithmic scale","<r><ggplot2><statistics><logarithm>","3","0","","","","CC BY-SA 3.0","3387824","4452","4452","r","404559","3625322","3607736","",""
"3388323","1","3388358","","2010-08-02 13:43:01","","10","588","<p>I am interested in (functional) vector manipulation in <code>R</code>. Specifically, what are <code>R</code>'s equivalents to Perl's <a href=""http://perldoc.perl.org/functions/map.html"" rel=""noreferrer""><code>map</code></a> and <a href=""http://perldoc.perl.org/functions/grep.html"" rel=""noreferrer""><code>grep</code></a>? </p>

<p>The following Perl script greps the even array elements and multiplies them by 2:</p>

<pre><code>@a1=(1..8); 
@a2 = map {$_ * 2} grep {$_ % 2 == 0} @a1;
print join("" "", @a2)
# 4 8 12 16
</code></pre>

<p>How can I do that in <code>R</code>? I got this far, using <code>sapply</code> for Perl's <code>map</code>:</p>

<pre><code>&gt; a1 &lt;- c(1:8)
&gt; sapply(a1, function(x){x * 2})
[1]  2  4  6  8 10 12 14 16
</code></pre>

<p>Where can I read more about such functional array manipulations in <code>R</code>?</p>

<p>Also, is there a <code>Perl</code> to <code>R</code> phrase book, similar to the <a href=""http://wiki.python.org/moin/PerlPhrasebook"" rel=""noreferrer"">Perl Python Phrasebook</a>? </p>
","60628","","10248678","","2020-08-08 13:53:32","2020-08-08 13:53:32","What are R's equivalents to Perl's map and grep?","<r><perl><dictionary><functional-programming>","2","0","1","","","CC BY-SA 2.5","3388323","4452","4452","r","404559","3625322","3607736","",""
"3390262","1","","","2010-08-02 17:34:48","","2","1682","<p>I've got a bunch of audio files (let's say ogg or mp3), with metadata.</p>

<p>I wish to read their metadata into R so to create a data.frame with:</p>

<ul>
<li>file name</li>
<li>file location</li>
<li>file artist</li>
<li>file album</li>
<li>etc</li>
</ul>

<p>Any way you know of for doing that ?</p>
","256662","","1505120","","2015-09-20 11:13:50","2015-09-20 11:13:50","Is it possible to read music file metadata using R?","<r><metadata><mp3><ogg>","3","0","1","","","CC BY-SA 2.5","3390262","4452","4452","r","404559","3625322","3607736","",""
"3390532","1","","","2010-08-02 18:13:15","","2","625","<p>I have to estimate parameters of a mixture distribution which consists of Pareto distribution and Exponential distribution. I am using maximum likelihood estimation procedure by using log likelihood function and differentiating it with respect to each parameter.Since the log likelihood equation is non linear, I have to use Newton Rhapson iterative method.How can I do this using R or any other programming language?</p>
","408922","","356426","","2010-08-03 06:18:34","2010-08-14 18:42:17","how to estimate parameters in a mixture of two different distributions using R or any other programming language?","<java><c><r><statistics>","2","0","","","","CC BY-SA 2.5","3390532","4452","4452","r","404559","3625322","3607736","",""
"3391460","1","7718475","","2010-08-02 20:26:38","","19","7309","<p>I'm trying to use R to grab some web data that requires OAuth authentication. Searching on CRAN and RSeek.org for info on OAuth + R provides nothing. Any tips for accessing RESTful APIs with R using OAuth? </p>

<p>I'm considering using some Python/Perl/Ruby to grab the data, save it to a text file, then work on it with R. I'd prefer to stay totally in R, but it seems like OAuth is a barrier. </p>
","37751","","37751","","2010-08-02 21:15:17","2017-10-26 13:17:27","OAuth access for R","<r><oauth>","5","5","9","","","CC BY-SA 2.5","3391460","4452","4452","r","404559","3625322","3607736","",""
"3391631","1","3391828","","2010-08-02 20:50:17","","5","7115","<p>I'm trying to install Rcpp on Ubuntu 10.04 and getting this error (which implies that it doesn't exist):</p>

<pre><code>&gt; install.packages(""Rcpp"")
Warning in install.packages(""Rcpp"") :
  argument 'lib' is missing: using '/home/vadmin/R/i486-pc-linux-gnu-library/2.10'
Warning message:
In getDependencies(pkgs, dependencies, available, lib) :
  package Rcpp is not available
</code></pre>

<p>I have a working R instance and have installed many other packages.</p>

<p><em>Edit</em></p>

<p>Now I'm getting this error when running <code>R CMD build Rcpp</code> on the source code off svn:</p>

<blockquote>
  <p>** building package indices ... Error : running Stangle on vignette
  '/home/vadmin/src/R/rcpp/pkg/Rcpp/inst/doc/Rcpp-modules.Rnw'
  failed with message: invalid value for
  'lang' : cpp ERROR: installing package
  indices failed
  * removing /tmp/Rinst3041838816/Rcpp  ERROR Installation failed.</p>
</blockquote>
","171249","","171249","","2010-08-05 18:23:36","2020-05-22 19:21:01","Installing Rcpp in R 2.10 on Ubuntu","<c++><r><ubuntu>","3","3","","","","CC BY-SA 2.5","3391631","4452","4452","r","404559","3625322","3607736","",""
"3391644","1","","","2010-08-02 20:52:28","","0","1548","<p>I'm trying to replicate my SAS work in R, but I get slightly different results -- differences that can't be explained by rounding error.</p>

<p>Here's my SAS code:</p>

<pre><code>proc qlim data=mydata;
   model y = x1 x2 x3/ discrete(d=probit);
   output out=outdata marginal;
   title ""just ran QLIM model"";
run;
quit;
</code></pre>

<p>And here's my R code:</p>

<pre><code>mymodel &lt;- glm(y ~ x1 + x2 + x3, family=binomial(link=""probit""), data=mydata)
</code></pre>

<p>I'm not really sure why I'd get the different results, and would greatly appreciate an explanation.</p>

<p>EDIT
Here's my data:</p>

<pre><code>2.66  20  0  0
2.89  22  0  0
3.28  24  0  0
2.92  12  0  0
4.00  21  0  1
2.86  17  0  0
2.76  17  0  0
2.87  21  0  0
3.03  25  0  0
3.92  29  0  1
2.63  20  0  0
3.32  23  0  0
3.57  23  0  0
3.26  25  0  1
3.53  26  0  0
2.74  19  0  0
2.75  25  0  0
2.83  19  0  0
3.12  23  1  0
3.16  25  1  1
2.06  22  1  0
3.62  28  1  1
2.89  14  1  0
3.51  26  1  0
3.54  24  1  1
2.83  27  1  1
3.39  17  1  1
2.67  24  1  0
3.65  21  1  1
4.00  23  1  1
3.1   21  1  0
2.39  19  1  1
</code></pre>

<p>And here's my estimated coefficients (std errors in parantheses):</p>

<pre><code>SAS: -7.452320 (2.542536)
      1.625810 (0.693869)
      0.051729 (0.083891)
      1.426332 (0.595036)
R:   -7.25319  (2.50977)
      1.64888  (0.69427)
      0.03989  (0.07961)
      1.42490  (0.58347)
</code></pre>
","391926","","709619","","2011-10-26 01:26:23","2012-11-02 20:54:18","Replicating probit regression in SAS and R","<r><sas>","5","3","","","","CC BY-SA 3.0","3391644","4452","4452","r","404559","3625322","3607736","",""
"3391880","1","3392207","","2010-08-02 21:23:54","","39","116226","<p>I have this .csv file:</p>

<pre><code>ID,GRADES,GPA,Teacher,State

3,""C"",2,""Teacher3"",""MA""

1,""A"",4,""Teacher1"",""California""
</code></pre>

<p>And what I want to do is read in the file using the R statistical software and read in the Header into some kind of list or array (I'm new to R and have been looking for how to do this, but so far have had no luck).</p>

<p>Here's some pseudocode of what I want to do:</p>

<pre><code>inputfile=read.csv(""C:/somedirectory"")

for eachitem in row1:{

add eachitem to list
}
</code></pre>

<p>Then I want to be able to use those names to call on each vertical column so that I can perform calculations.</p>

<p>I've been scouring over google for an hour, trying to find out how to this but there is not much out there on dealing with headers specifically.</p>

<p>Thanks for your help! </p>
","409050","","21234","","2010-08-02 21:25:14","2018-09-18 14:22:57","How to get a .csv file into R?","<r><csv>","6","1","6","","","CC BY-SA 2.5","3391880","4452","4452","r","404559","3625322","3607736","",""
"3393084","1","3468281","","2010-08-03 01:49:09","","2","1529","<p>Greetings,</p>

<p>I have three TS variables resembling something like the following:</p>

<pre><code>data &lt;- read.csv(...)
dataA = zoo(data$valueA, data$date)
dataB = zoo(data$valueB, data$date)
dataC = zoo(data$valueC, data$date)

days = seq(start(dataA), end(dataA), ""day"")

dataAts = na.locf(merge(dataA, zoo(,days)))
dataBts = na.locf(merge(dataB, zoo(,days)))
dataCts = na.locf(merge(dataC, zoo(,days)))
</code></pre>

<p>I need to draw dataAts, dataBts and dataCts as a stacked area chart in R. I've tried to use plotrix, but I'm not proficient enough to get the matrix in the right form. </p>

<p>Please Note that dataAts, dataBts and dataCts are not already accumulated, so it is not just a matter of drawing the three of them in the correct order (unless you can come up with a way of summing them up on-the-fly).</p>

<p>Can anyone PLEASE help me?</p>

<p>Thanks in advance...</p>
","41652","","41652","","2010-08-12 02:15:40","2010-08-13 02:49:09","R and stacked area charts?","<r><statistics>","2","0","","","","CC BY-SA 2.5","3393084","4452","4452","r","404559","3625322","3607736","",""
"3394068","1","","","2010-08-03 06:29:51","","2","590","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/1097367/what-ides-are-available-for-r-in-linux"">What IDEs are available for R in Linux?</a>  </p>
</blockquote>



<p>I found this <a href=""https://stackoverflow.com/questions/1097367/which-ide-for-r-in-linux"">question</a> from over a year ago, but I wonder if there's anthing new under the sun. Spedifically, I do not get along with Emacs so well...</p>

<p>p.s.
I use eclipse for java and perl programming.</p>
","377031","","-1","","2017-05-23 11:47:37","2011-02-07 15:53:47","Recommended IDE for R under linux","<linux><eclipse><ide><r>","0","0","0","2011-08-02 16:29:26","","CC BY-SA 2.5","3394068","4452","4452","r","404559","3625322","3607736","",""
"3395696","1","3396068","","2010-08-03 10:38:13","","36","17260","<p>Is there any difference between testing <code>isTRUE(all.equal(x, y))</code> and <code>identical(x, y)</code>?</p>

<p>The help page says: </p>

<blockquote>
  <p>Don't use 'all.equal' directly in 'if'
   expressions &mdash; either use 'isTRUE(all.equal(....))' or
  'identical' if appropriate.</p>
</blockquote>

<p>but that ""if appropriate"" leaves me in doubt.  How do I decide which of the two is appropriate?</p>
","78912","","190277","","2020-01-21 22:08:14","2020-01-21 22:08:14","What's the difference between identical(x, y) and isTRUE(all.equal(x, y))?","<r><comparison><equality><built-in><floating-point-comparison>","3","0","10","","","CC BY-SA 4.0","3395696","4452","4452","r","404559","3625322","3607736","",""
"3396166","1","3396218","","2010-08-03 11:50:05","","1","487","<p>I'm trying to multicore a function (in Windows), which, at one point, calls another workhorse function (function within function). Here is a minimal working example. You will need <code>doSMP</code> and <code>revoIPC</code> packages (to get them, see Tal's post <a href=""http://www.r-statistics.com/2010/04/parallel-multicore-processing-with-r-on-windows/"" rel=""nofollow noreferrer"">here</a>).</p>
<pre><code>func1 &lt;- function(x) {sqrt(x)}
func2 &lt;- function(y) {
    func1(y)
}

library(doSMP)
wrk &lt;- startWorkers(workerCount = 4) #I have 4 cores, so adjust to your specs
registerDoSMP(wrk)

obj.result &lt;- foreach(i = 1:10000) %dopar% func2(i)
</code></pre>
<p>The above routine doesn't work, but if I nest <code>func1</code> within <code>func2</code> like so</p>
<pre><code>func2 &lt;- function(y) {
func1 &lt;- function(x) {sqrt(x)}
    func1(y)
}
</code></pre>
<p>the process goes through smoothly (as far as I can tell).</p>
<p>How can I call functions from outside with <code>%dopar%</code>?</p>
","322912","","-1","","2020-06-20 09:12:55","2014-06-11 17:11:06","parallel computing of a function with doSMP on Windows","<r><foreach><parallel-processing>","2","5","","","","CC BY-SA 2.5","3396166","4452","4452","r","404559","3625322","3607736","",""
"3396759","1","3406575","","2010-08-03 13:11:31","","5","1015","<p>I'm using R to read in some data from a MySQL database using the RODBC package.  The data is then processed and some results are sent back to the database.  The problem is that the server closes the connection after about a minute due to inactivity, which is the time needed to process the data locally. Its a shared server, so the host won't bump up the timeout time.</p>

<p>I think there are two possibilities to get around this
1) Open a connection before every database transaction and close it immediately after
2) Send some small 'ping' command to the server every 30 seconds or so to let the server know that I'm still there.</p>

<p>I can implement the first fairly easily, but it seems pretty slow to constantly open and close connections. Anyone know an efficient command for the second? Or a better way altogether?</p>
","355431","","1104926","","2011-12-19 18:44:31","2011-12-19 18:44:31","MySQL odbc timeout from R","<mysql><r><rodbc>","1","0","","","","CC BY-SA 3.0","3396759","4452","4452","r","404559","3625322","3607736","",""
"3397885","1","3400278","","2010-08-03 15:08:55","","33","59029","<p>I'm using R to visualize some data all of which is in .txt format. There are a few hundred files in a directory and I want to load it all into one table, in one shot. </p>

<p>Any help?</p>

<p>EDIT:</p>

<p>Listing the files is not a problem. But I am having trouble going from list to content. I've tried some of the code from <a href=""https://stat.ethz.ch/pipermail/r-help/2003-April/032077.html"" rel=""noreferrer"">here</a>, but I get a bug with this part:</p>

<pre><code>all.the.data &lt;- lapply( all.the.files,  txt  , header=TRUE)
</code></pre>

<p>saying</p>

<pre><code> Error in match.fun(FUN) : object 'txt' not found
</code></pre>

<p>Any snippets of code that would clarify this problem would be greatly appreciated. </p>
","385559","","786542","","2020-12-05 17:01:05","2020-12-05 17:01:05","How do you read multiple .txt files into R?","<r><lapply><fread><read.table><readr>","5","1","24","2018-05-09 10:07:17","","CC BY-SA 4.0","3397885","4452","4452","r","404559","3625322","3607736","",""
"3398568","1","3398941","","2010-08-03 16:27:11","","25","17139","<p>I'm trying to write a function that plots a ggplot <code>facet_wrap</code> plot over multiple pages. It's just a hack, as this feature seems to be on the ggplot2 feature to-do list. I do some small calculations to find the number of pages I'm going to need, the number of rows of my <code>data.frame</code> that I need per page etc. I'm pretty confident this all works. </p>

<pre><code>pdf(filename)
for (i in seq(num_pages)){
    slice = seq(((i-1)*num_rows)+1,(i*num_rows))
    slice = slice[!(slice &gt; nrow(df.merged))]
    df.segment=df.merged[slice,]
    p &lt;- ggplot(df.segment, aes(y=mean,x=phenotype))
    p &lt;- p + geom_bar(stat=""identity"",fill=""white"",colour=""black"") 
    p + facet_wrap(""ID"",scales=""free_y"",ncol=n_facets,nrow=n_facets)
}
dev.off()
</code></pre>

<p>My problem is that, by wrapping it all up in a for loop like this, in between the <code>pdf()</code> and <code>dev.off()</code> functions, is that the for loop doesn't seem to wait for ggplot to do its thing, and blazes through its loop very quickly and outputs an invalid PDF. </p>

<p>If I set <code>i = 1</code>, start the <code>pdf()</code>, run the above code inside the for loop, then set <code>i=2</code>, then run the code, and so on until I get bored (<code>i=3</code>) then turn off the device the resulting PDF is brilliant. </p>

<p>Is there a way I can get the for loop to wait for the final line to finish plotting before moving onto the next iteration?</p>
","270572","","1968","","2019-02-21 15:29:07","2019-02-21 15:29:07","Plotting over multiple pages","<r><ggplot2>","2","0","10","","","CC BY-SA 4.0","3398568","4452","4452","r","404559","3625322","3607736","",""
"3399136","1","3401372","","2010-08-03 17:41:12","","0","1593","<p>I'm new to R and I'm trying to create a .R script that will open up a .csv file of mine and compute some frequencies. There are headers in this file and the values associated with them are either 1,0,NA, or -4. What I want to do is go through each vertical row and then compute the frequencies of them. I'm sure this is an easy script, but I'm not sure how the syntax of R works yet. Can anyone get me started on this please?</p>
","409050","","143319","","2010-08-03 22:39:46","2010-08-03 22:59:55","Loop through a .csv file in R, computing relative frequencies?","<r><csv><statistics>","1","0","","","","CC BY-SA 2.5","3399136","4452","4452","r","404559","3625322","3607736","",""
"3399709","1","3400211","","2010-08-03 18:42:44","","2","708","<p>I am trying to run the HoltWinters procedure on panel data to come up with sales forecasts for a list of companies. My data frame has the fields ""Company"", ""Year"" and ""Sales"". I am interested in adding an extra column to this data frame that shows fitted sales obtained using HoltWinters.</p>

<p>For a single company, the exercise is trivial as I can just run HoltWinters. I can extend this approach to my situation by looping across companies, but I am looking for a solution that avoids loops.</p>

<p>Any thoughts? </p>
","235349","","235349","","2010-08-03 19:02:16","2010-08-03 19:44:43","HoltWinters on Panel Data","<r><panel><forecasting>","1","0","1","","","CC BY-SA 2.5","3399709","4452","4452","r","404559","3625322","3607736","",""
"3400806","1","3401765","","2010-08-03 21:15:24","","3","5614","<p>I'm trying to replicate a linear discriminant analysis output from SPSS in R, and I'm having difficulties to find a way to perform an m-box test. </p>

<p>The only thing I found was some code posted in a forum, to manually implement the process, but I was wondering if there is nothing for this purpose already incorporated in the language itself.</p>
","48721","","48721","","2010-08-04 14:16:34","2018-03-03 09:43:00","R Box'M test for homocedasticity","<r><statistics><spss>","2","2","1","","","CC BY-SA 2.5","3400806","4452","4452","r","404559","3625322","3607736","",""
"3401639","1","","","2010-08-04 00:00:22","","3","438","<p>Very new to Social Network Analysis and R (read a few introductions online, created a few graphs on my own) but I am very eager to learn different ways to apply it.  That said, what are common significance tests applied to networks, and more specifically, if two network graphs are ""statistically different?""</p>

<p>Any help/tutorials you can point me to - especially in R - will be very much appreciated!</p>

<p>Thanks,</p>
","155406","","","","","2010-08-04 03:16:28","Significance Tests R","<r><social-networking>","1","2","1","","","CC BY-SA 2.5","3401639","4452","4452","r","404559","3625322","3607736","",""
"3402076","1","3402726","","2010-08-04 02:03:11","","0","1045","<p>I'd like to fix a package, but can't figure out how to edit it.  I can <a href=""https://r-forge.r-project.org/R/?group_id=316"" rel=""nofollow noreferrer"">download the source from R-Forge</a> as a .tar.gz and unzip it.  There is an ""R"" directory with the source and also a ""tests"" directory.</p>

<p>How do I include the sources in my own project to test my edits?</p>

<p>How do I run the tests?  The tests each start with ""library(blotter)"".  How do I make that load the library from the sources I've downloaded.</p>
","64421","","64421","","2010-08-04 17:58:52","2010-08-04 17:58:52","How do I fix a bug in an open source R package?","<r>","5","1","1","2017-02-25 07:27:36","","CC BY-SA 2.5","3402076","4452","4452","r","404559","3625322","3607736","",""
"3402371","1","3402488","","2010-08-04 03:25:45","","264","354438","<p>Is it possible to row bind two data frames that don't have the same set of columns?  I am hoping to retain the columns that do not match after the bind.  </p>
","155406","","680068","","2017-06-20 07:54:11","2019-11-19 09:53:32","Combine two data frames by rows (rbind) when they have different sets of columns","<r><dataframe><r-faq>","13","0","71","","","CC BY-SA 3.0","3402371","4452","4452","r","404559","3625322","3607736","",""
"3402581","1","3403148","","2010-08-04 04:32:06","","1","107","<p>i have two spatial xyz file with different resolution<br>
 how can i contour a composition of both files<br>
i like working with R or open source geographical systems like GMT<br>
 if u know of a different way of solving this i would be glad to listen</p>
","397521","","","","","2010-08-04 06:36:36","countouring two xyz files","<math><r><geospatial><gis>","1","0","","","","CC BY-SA 2.5","3402581","4452","4452","r","404559","3625322","3607736","",""
"3402662","1","3402780","","2010-08-04 04:48:47","","7","367","<p>I have a tab delimited file like</p>

<pre><code>A   B   0.5
A   C   0.75
B   D   0.2
</code></pre>

<p>And I want to convert it to a square matrix, like</p>

<pre><code>       A      B      C       D
A      0     0.5    0.75     0
B             0      0      0.2 
C                    0       0
D                            0
</code></pre>

<p>How can I go about it in R? 
Thanks,</p>
","408324","","","","","2010-08-04 17:51:32","Tab Delimited to Square Matrix","<r>","3","0","","","","CC BY-SA 2.5","3402662","4452","4452","r","404559","3625322","3607736","",""
"3403629","1","3403744","","2010-08-04 07:58:08","","3","887","<p>I am generating an automatically generated periodical report with Sweave. In order to create a nice header I use the fancyhdr package which works really well so far. Now, since my report is periodical I want to change the header dynamically without passing an argument to the function. That's why I wrote a little R function that just checks which period is the latest.
Based on this a Header String is generated in R. </p>

<p>Long story short, I know that there is \today in LaTeX but I need to use the specific information coming from R, not just the date. </p>

<p>Here's my code:  </p>

<pre><code>   \usepackage{fancyhdr}
 \pagestyle{fancy}

\renewcommand{\chaptermark}[1]{%
\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{%
\markright{\thesection\ #1}}
\fancyhf{}
\fancyhead[LE,RO]{\bfseries\thepage}
\fancyhead[LO]{\rightmark{
&lt;&lt;&gt;&gt;=
print(TexHeader)@
}}
\fancyhead[RE]{\bfseries\leftmark}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}
\addtolength{\headheight}{0.5pt}
\fancypagestyle{plain}{%
\fancyhead{}
\renewcommand{\headrulewidth}{0pt}}
</code></pre>

<p>which causes the following error:</p>

<pre><code>Package Fancyhdr Warning: \fancyhead's `E' option without twoside option is use
less on input line 23.
</code></pre>

<p>This is exactly the line where my TexHeader is placed.</p>
","366256","","3885376","","2017-10-29 19:56:59","2017-10-29 19:56:59","How to use Sweave (R) code inside a fancyhdr?","<r><latex><sweave>","2","0","","","","CC BY-SA 3.0","3403629","4452","4452","r","404559","3625322","3607736","",""
"3406975","1","3408133","","2010-08-04 15:15:56","","1","450","<p>My sysadmin installed <a href=""http://biostat.mc.vanderbilt.edu/rapache/index.html"" rel=""nofollow noreferrer"">RApache</a> for me on our 64 bit Solaris box.  I can access the <a href=""http://ri.imb.nrc.ca/zbroom/test/"" rel=""nofollow noreferrer"">RApacheInfo</a> page here, indicating that the module was successfully installed.  There is the following entry in the httpd.conf:</p>

<pre><code>&lt;Directory /websites/zbroom&gt;
  SetHandler r-script
  RHandler brew::brew
&lt;/Directory&gt;
</code></pre>

<p>which should require all files in the directory to be parsed through the brew function of the <a href=""http://www.rforge.net/brew/"" rel=""nofollow noreferrer"">brew</a> package.  As can be seen on my <a href=""http://ri.imb.nrc.ca/zbroom/Rtest"" rel=""nofollow noreferrer"">test page</a>, the R code is ignored.  There are no errors thrown (nothing in the Apache logs).</p>

<p>This is the test code:</p>

<pre><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;R test&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p&gt;here is some normal text&lt;/p&gt;

&lt;%=rnorm(100) %&gt;
&lt;% print(rnorm(100)) %&gt;

&lt;p&gt;Between this text and the first text there should be some R output.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>What do I need to change so that the R code will be evaluated and printed?</p>
","128245","","128245","","2010-08-04 17:35:12","2010-08-04 17:35:12","RApache config problem","<configuration><r><rapache>","1","1","0","","","CC BY-SA 2.5","3406975","4452","4452","r","404559","3625322","3607736","",""
"3407015","1","3449563","","2010-08-04 15:19:42","","6","9963","<p>RODBC error in Revolution R 64bit on winxp64 bit connected to Oracle using a 64bit ODBC driver thru a DSN</p>

<pre><code>library(RODBC)
db &lt;- odbcConnect(""oraclemiso"",uid=""epicedf"",pwd="""")
rslts = sqlQuery(db, ""select count(*) from FTRAuction"")

Error in .Call(C_RODBCFetchRows, attr(channel, ""handle_ptr""), max, buffsize,  : 
  negative length vectors are not allowed
</code></pre>

<p>I am able to connect but get an error when I query for stuff,
also the below works </p>

<pre><code> library(RODBC)
 channel &lt;- odbcConnect(""OraLSH"", &lt;user&gt;, &lt;password&gt;))
 odbcQuery (channel, ""select sysdate from dual"")
 sqlGetResults(channel, as.is=FALSE, errors=FALSE, max=1, buffsize=1,
nullstring=NA, na.strings=""NA"", believeNRows=TRUE, dec=getOption(""dec""))
              SYSDATE
1 2010-01-24 15:10:02
</code></pre>

<p>but what if I dont know the rowsize(max=1) before hand</p>

<p>Thanks,
Arun</p>
","153440","","143305","","2010-08-04 15:24:54","2011-11-20 02:47:51","Querying Oracle DB from Revolution R using RODBC","<r><rodbc>","4","0","","","","CC BY-SA 2.5","3407015","4452","4452","r","404559","3625322","3607736","",""
"3407610","1","3407850","","2010-08-04 16:25:49","","3","1482","<p>Thank you for your reading. I often find that I need to apply a function to slices of my data, and then bind the outputs. I usually build a loop for that purpose, but I am sure I am doing it wrong, and that in R I should be using a different way of thinking. Can you please help me learn a better way to do this?</p>

<p>With thanks,</p>

<p>adam</p>

<pre><code>    rm(m); m=0; # this variable will hold the output of the loop
    for (nobs in as.numeric(levels(factor(s1$obs)))) { # go over observer index
       for (nses in as.numeric(levels(factor(subset(s1, obs==nobs)$session)))) { # go over session index
          ns1=subset(s1, obs== nobs &amp; session==nses &amp; ky %in% c(1,2)); # the data slice of interest
          ds=round( clfdMc (ns1),2); cs=round( cfdMc (ns1),2); # apply function to data slice
          rw=cbind(nobs,nses,ds[2,3],ds[3,3],ds[2,3]-ds[3,3], cs[1,3],cs[2,3],nobs+nses/10, ds[2,4],ds[3,4],cs[1,4],cs[2,4]) # create a row from function output
          m=rbind(m,rw); #print(paste('obs:',nobs,' nses:',nses,'clear d:',ds[2,3],'red d',ds[3,3]))# bind new row to previous rows
        }
    }

m=data.frame(m[2:dim(m)[1],]) # create a data frame from these results
names(m)=c('obs','ses','D_clear','D_red','diffD','D_cg-1','D_cg+1','mark','C_clear','C_red','C_cg-1','C_cg+1') # give names to column variables
</code></pre>
","409828","","409828","","2010-08-04 18:31:36","2010-08-04 18:31:36","R - How to turn a loop to a function in R","<r><loops><if-statement>","1","2","","","","CC BY-SA 2.5","3407610","4452","4452","r","404559","3625322","3607736","",""
"3408943","1","3409185","","2010-08-04 19:08:21","","5","1848","<p>I want to create a function that takes a dataset name and a package name and returns the dataset as data.frame. Here is my try</p>

<pre><code>loadDataSet &lt;- function(name, pkg) {
      varname &lt;- data(name, package=pkg)
      return(get(varname[[1]]))
    }
loadDataSet(""acme"", ""boot"")
</code></pre>

<p>However, this function fails. The problem seems to be, that the call to data() does not look up the value of the name variable, but rather ""name"".</p>

<p>I already know how to go from a variable to its name, via deparse(substitute(var)). But how do I go the other way, from ""var"" to var?</p>

<p>Any hint appreciated!</p>
","216064","","4370109","","2015-12-03 21:02:37","2015-12-03 21:02:37","A function that returns a dataset","<r><dataframe><dataset>","1","0","0","","","CC BY-SA 2.5","3408943","4452","4452","r","404559","3625322","3607736","",""
"3409452","1","","","2010-08-04 20:14:23","","1","197","<p>R allows us to put code to run in the beginning/end of a session.</p>

<p>What codes would you suggest putting there?</p>

<p>I know of three interesting examples (although I don't have ""how to do them"" under my fingers here):</p>

<ol>
<li>Saving the session history when closing R.</li>
<li>Running a fortune() at the beginning of an R session.</li>
<li>I was thinking of having an automated saving of the workspace. But I didn't set on solving the issue of managing space (so there would always be X amount of space used for that backup)</li>
</ol>

<p>Any more ideas? (or how you implement the above ideas)</p>

<p>p.s: this is continuing a thread started on <a href=""https://stats.stackexchange.com/questions/1160/what-code-would-you-put-before-after-your-r-session-closed"">""stat.overflow""</a></p>
","256662","","-1","","2017-04-13 12:44:13","2010-08-04 20:51:02","What code would you put before/after your R session?","<r><startup>","2","0","1","","","CC BY-SA 2.5","3409452","4452","4452","r","404559","3625322","3607736","",""
"3409583","1","","","2010-08-04 20:31:19","","3","655","<p>I don't think this has been asked yet, but is there a way to combine information of a list with multiple levels and uneven structure into a data frame of ""long"" format?</p>

<p>Specifically:</p>

<pre><code>library(XML)
library(plyr)
xml.inning &lt;- ""http://gd2.mlb.com/components/game/mlb/year_2009/month_05/day_02/gid_2009_05_02_chamlb_texmlb_1/inning/inning_5.xml""
xml.parse &lt;- xmlInternalTreeParse(xml.inning)
xml.list &lt;- xmlToList(xml.parse)
## $top$atbat
## $top$atbat$pitch
##             des              id            type               x               y 
##          ""Ball""           ""310""             ""B""         ""70.39""        ""125.20"" 
</code></pre>

<p>Where the following is the structure:</p>

<pre><code>&gt; llply(xml.list, function(x) llply(x, function(x) table(names(x))))
$top
$top$atbat
.attrs  pitch 
     1      4 
$top$atbat
.attrs  pitch 
     1      4 
$top$atbat
.attrs  pitch 
     1      5 
$bottom
$bottom$action
     b    des  event      o  pitch player      s 
     1      1      1      1      1      1      1 
$bottom$atbat
.attrs  pitch 
     1      5 
$bottom$atbat
.attrs  pitch 
     1      5 
$bottom$atbat
.attrs  pitch runner 
     1      5      1 
$bottom$atbat
.attrs  pitch runner 
     1      7      1 
$.attrs
$.attrs$num
character(0)
$.attrs$away_team
character(0)
$.attrs$
</code></pre>

<p>What I'd like to have is a data frame from the named vector from the <strong>pitch</strong> category, along with the proper (<strong>top</strong>, <strong>atbat</strong>, <strong>bottom</strong>). Therefore, I would need to ignore levels that won't fit into a data.frame due to different number of columns. Something like this:</p>

<pre><code>   first second third    des     x
1    top  atbat pitch   Ball 70.29
2    top  atbat pitch Strike 69.24
3 bottom  atbat pitch    Out 67.22
</code></pre>

<p>Is there an elegant way of doing this? Thanks!</p>
","355014","","","","","2015-06-01 20:27:37","converting uneven hierarchical list to a data frame","<xml><list><r><dataframe><plyr>","2","1","1","","","CC BY-SA 2.5","3409583","4452","4452","r","404559","3625322","3607736","",""
"3410045","1","3412608","","2010-08-04 21:37:52","","4","1585","<p>how do I plot an area around a set of points on a map in R? e.g.</p>

<pre><code>map('world')
map.axes()
p &lt;- matrix(c(50, 50, 80, 100, 70, 40, 25, 60), ncol=2) # make some points
points(p, pch=19, col=""red"")

polygon(p, col=""blue"")
</code></pre>

<p>... which gives me a polygon with a vertex at each of the points, but it looks rather crappy. Is there any way to ""smooth"" the polygon into some sort of curve? </p>
","411308","","356426","","2010-08-05 07:31:32","2010-08-05 07:31:32","Plotting a smoothed area on a map from a set of points in R","<graphics><r><maps><curve>","2","0","1","","","CC BY-SA 2.5","3410045","4452","4452","r","404559","3625322","3607736","",""
"3411201","1","3411222","","2010-08-05 01:50:14","","38","36180","<p>Let's say I have a data.frame, like so: </p>

<pre><code>x &lt;- c(1:10,1:10,1:10,1:10,1:10,1:10,1:10,1:10,1:10,1:10)
df &lt;- data.frame(""Label 1""=x,""Label 2""=rnorm(100))
</code></pre>

<p>head(df,3)</p>

<p>returns:</p>

<pre><code>  Label.1    Label.2
1       1  1.9825458
2       2 -0.4515584
3       3  0.6397516
</code></pre>

<p>How do I get R to stop automagically replacing the space with a period in the column name? ie, ""Label 1"" instead of ""Label.1"".</p>
","170352","","202229","","2018-06-27 00:34:57","2019-02-13 16:31:38","Specifying column names in a data.frame changes spaces to "".""","<r><dataframe><names><illegal-characters>","4","0","3","","","CC BY-SA 3.0","3411201","4452","4452","r","404559","3625322","3607736","",""
"3411429","1","3411661","","2010-08-05 02:53:16","","4","3120","<p>Let's say I have a data.frame like: </p>

<pre><code>a &lt;- c(1:10,1:10,1:10,1:10,1:10,1:10,1:10,1:10,1:10,1:10)
df &lt;- data.frame(a,rnorm(100))
</code></pre>

<p>And I want to be able to write a csv file for each value of x. Is it possible to do this with ddply? </p>

<p>I can already do this with a for loop in a few lines... but I'm curious if it's possible to do it with ddply.</p>

<pre><code>for (x in 1:nrow(unique(df[""a""]))) {
tmp &lt;- unique(df[""a""])
tmp2 &lt;- paste(tmp[x,],"".csv"", sep="""")
write.table(subset(df, a == tmp[a,], drop=T),file=tmp2, sep="","", row.names=F)
}  
</code></pre>
","170352","","","","","2010-08-05 04:18:49","Is it possible to use write.table() and ddply, together?","<r>","2","0","3","","","CC BY-SA 2.5","3411429","4452","4452","r","404559","3625322","3607736","",""
"3412665","1","","","2010-08-05 07:41:59","","1","585","<p>How can I use command line arguments with a R script using Tinn-R.</p>

<p>I can give arguments with a R script like this:</p>

<pre><code>R.exe --args 2010 test.R
</code></pre>

<p>And after that read them in the script with <code>commandArgs</code>.</p>

<p>But how can I provide them when using Tinn-R? I cannot find anything in the Tinn-R help</p>
","293843","","","","","2014-12-30 07:56:53","Command line arguments R script using Tinn-R","<r>","2","0","1","","","CC BY-SA 2.5","3412665","4452","4452","r","404559","3625322","3607736","",""
"3412911","1","3415135","","2010-08-05 08:21:27","","117","69071","<p>I'm struggling with the different R executables. What exactly is the difference between R.exe (with or without CMD BATCH option), Rcmd.exe, Rscript.exe and Rterm.exe when running command line in a batch file?</p>

<p>And what is the difference between:</p>

<pre><code>R.exe --no-environ --no-save &lt; ""c:\temp\R\test.R"" &gt; ""c:\temp\R\out.txt"" 2&gt;&amp;1
</code></pre>

<p>and</p>

<pre><code>R.exe CMD BATCH --no-environ --no-save ""c:\temp\R\test.R"" ""c:\temp\R\out.txt""
</code></pre>

<p>No difference in the output.</p>

<p>I cannot find anything about Rcmd.exe and Rscript.exe in the 3079 pages R reference manual.</p>

<p>By the way: I am using Windows.</p>
","293843","","4468078","","2020-01-04 09:52:10","2020-08-13 02:17:33","R.exe, Rcmd.exe, Rscript.exe and Rterm.exe: what's the difference?","<r><executable><rgui><rterm>","1","2","51","","","CC BY-SA 3.0","3412911","4452","4452","r","404559","3625322","3607736","",""
"3412942","1","3602102","","2010-08-05 08:26:45","","4","1994","<p>Is there a way to allow a method of an S4 object to directly adjust the values inside the slots of that object without copying the entire object into memory and having to re-write it to the parent environment at the end of the method?  Right now I have an object that has slots where it keeps track of its own state.  I call a method that advances it to the next state, but right now it seems like I have to assign() each value (or a copy of the object invoking the method) back to the parent environment.  As a result, the object oriented code seems to be running <em>a lot</em> slower than code that simply adjusts the various state variables in a loop.</p>
","169095","","636656","","2012-10-03 19:28:42","2014-08-29 18:01:22","In R, how can one make a method of an S4 object that directly adjusts the values inside the slots of that object?","<r><oop><s4>","3","0","","","","CC BY-SA 2.5","3412942","4452","4452","r","404559","3625322","3607736","",""
"3413879","1","","","2010-08-05 10:39:48","","96","275182","<p>I want to use R in Python, as provided by the module Rpy2. I notice that R has very convenient <code>[]</code> operations by which you can extract the specific columns or lines. How could I achieve such a function by Python scripts?</p>

<p>My idea is to create an R vector and add those wanted elements into this vector so that the final vector is the same as that in R. I created a <code>seq()</code>, but it seems that it has an initial digit 1, so the final result would always start with the digit 1, which is not what I want. So, is there a better way to do this?</p>
","410111","","4470365","","2016-07-20 13:26:52","2020-01-20 18:46:26","How to create an empty R vector to add new items","<python><r><vector><rpy2>","7","0","27","","","CC BY-SA 3.0","3413879","4452","4452","r","404559","3625322","3607736","",""
"3414078","1","3414202","","2010-08-05 11:09:13","","47","14629","<p>I am confused by the use of the ellipsis (<code>...</code>) in some functions, i.e. how to pass an object containing the arguments as a single argument.</p>

<p>In Python it is called ""unpacking argument lists"", e.g.</p>

<pre><code>&gt;&gt;&gt; range(3, 6)             # normal call with separate arguments
[3, 4, 5]
&gt;&gt;&gt; args = [3, 6]
&gt;&gt;&gt; range(*args)            # call with arguments unpacked from a list
[3, 4, 5]
</code></pre>

<p>In R for instance you have the function <code>file.path(...)</code> that uses an ellipsis. I would like to have this behaviour:</p>

<pre><code>&gt; args &lt;- c('baz', 'foob') 
&gt; file.path('/foo/bar/', args)
[1] 'foo/bar/baz/foob'
</code></pre>

<p>Instead, I get </p>

<pre><code>[1] 'foo/bar/baz' 'foo/bar/foob'
</code></pre>

<p>where the elements of <code>args</code> are not ""unpacked"" and evaluated at the same time. Is there a R equivalent to Pythons <code>*arg</code>?</p>
","125085","","","","","2018-10-08 10:00:11","Unpacking argument lists for ellipsis in R","<list><r><ellipsis><iterable-unpacking>","3","0","11","","","CC BY-SA 2.5","3414078","4452","4452","r","404559","3625322","3607736","",""
"3415097","1","3415186","","2010-08-05 13:28:16","","10","17299","<p>I have some 100k values. When I plot them as a line in R (using <code>plot(type=""l"")</code> the numbers next to the x-axis ticks are printed in scientific format (e.g. <code>0e+00,2e+04,...,1e+05</code>). Instead, I would like them to be:</p>

<p>A) <code>0,20kb,...,100kb</code></p>

<p>B) the same but now the first coordinate should be 1 (i.e. starting to count from 1 instead of 0).</p>

<p><strong>BTW</strong> 
R arrays use numbering that starts from 1 (in contrast to arrays in perl, java etc.) so I wonder why when plotting ""they"" decided starting from 0...</p>
","377031","","172261","","2010-08-06 07:38:42","2016-03-21 10:39:53","Controlling number formatting at axis of R plots","<r><plot>","2","0","3","","","CC BY-SA 2.5","3415097","4452","4452","r","404559","3625322","3607736","",""
"3415922","1","","","2010-08-05 14:49:09","","1","9934","<p>I got the following R code and I need to convert it to python and run it in python environment, basically I have done this with rpy2 module, but it looks kind of dull with python doing the same things, so could someone find a better way to rewrite the following R code to an equivalent python script with the rpy2 module?</p>

<pre><code>mymad &lt;- function (x) 
{
    center &lt;- median(x)
    y &lt;- abs(x - center)
    n &lt;- length(y)
    if (n == 0) 
        return(NA)
    half &lt;- (n + 1)/2
    1.4826 * if (n%%2 == 1) {
        sort(y, partial = half)[half]
    }
    else {
        sum(sort(y, partial = c(half, half + 1))[c(half, half + 
            1)])/2
    }
}
</code></pre>
","410111","","394649","","2010-08-05 14:51:19","2014-03-18 13:23:45","Convert a R code into Python script","<python><r><rpy2>","3","0","1","","","CC BY-SA 2.5","3415922","4452","4452","r","404559","3625322","3607736","",""
"3416973","1","3416992","","2010-08-05 16:32:13","","4","3486","<p>Simple question, but cannot find the answer.</p>

<p>Instead of:</p>

<pre><code>Df &lt;- sqlQuery(ch, ""SELECT * FROM tblTest WHERE Id=25"")
</code></pre>

<p>I want a more dynamic piece of code. Something like:</p>

<pre><code>Id &lt;- 25
Df &lt;- sqlQuery(ch, c(""SELECT * FROM tblTest WHERE Id="", Id))
</code></pre>

<p>But this is not correct.</p>
","293843","","680068","","2016-11-11 07:32:44","2020-09-14 02:47:22","Dynamic ""string"" in R","<sql><r><rodbc>","4","0","","","","CC BY-SA 3.0","3416973","4452","4452","r","404559","3625322","3607736","",""
"3417234","1","","","2010-08-05 17:06:23","","4","4965","<p>This is related to <a href=""https://stackoverflow.com/questions/3391631/installing-rcpp-in-r-2-10-on-ubuntu"">an ongoing issue</a> that I'm having, where certain packages don't exist when I try <code>install.packages</code> in R 2.10 (which is what's available from Ubuntu 10.04 apt-get).  This includes <code>highlight</code> and <code>Rcpp</code>.  Does anyone know how to install R 2.11 on Ubuntu 10.04?</p>
","171249","","-1","","2017-05-23 11:57:02","2010-08-05 17:19:36","How to install R 2.11 on Ubuntu?","<r><ubuntu>","1","1","","","","CC BY-SA 2.5","3417234","4452","4452","r","404559","3625322","3607736","",""
"3417964","1","3418795","","2010-08-05 18:36:13","","2","179","<p>I have a huge datafile (~4GB) that I am passing through R (to do some string clean up) on its way into an MySQL database.  Each row/line is independent from the other.  Is there any speed advantage to be had by using parallel operations to finish this process?  That is, could one thread start with by skipping no lines and scan every second line and another start with a skip of 1 line and read every second line?  If so, would it actually speed up the process or would the two threads fighting for the 10K Western Digital hard drive (not SSD) negate any possible advantages?</p>
","169095","","","","","2010-08-06 01:14:52","Can parallel operations speed the availability of a file from a hard disk in R?","<multithreading><r><hardware><multicore>","5","2","","","","CC BY-SA 2.5","3417964","4452","4452","r","404559","3625322","3607736","",""
"3418128","1","3418192","","2010-08-05 18:53:32","","647","1014886","<p>When I convert a factor to a numeric or integer, I get the underlying level codes, not the values as numbers.</p>

<pre><code>f &lt;- factor(sample(runif(5), 20, replace = TRUE))
##  [1] 0.0248644019011408 0.0248644019011408 0.179684827337041 
##  [4] 0.0284090070053935 0.363644931698218  0.363644931698218 
##  [7] 0.179684827337041  0.249704354675487  0.249704354675487 
## [10] 0.0248644019011408 0.249704354675487  0.0284090070053935
## [13] 0.179684827337041  0.0248644019011408 0.179684827337041 
## [16] 0.363644931698218  0.249704354675487  0.363644931698218 
## [19] 0.179684827337041  0.0284090070053935
## 5 Levels: 0.0248644019011408 0.0284090070053935 ... 0.363644931698218

as.numeric(f)
##  [1] 1 1 3 2 5 5 3 4 4 1 4 2 3 1 3 5 4 5 3 2

as.integer(f)
##  [1] 1 1 3 2 5 5 3 4 4 1 4 2 3 1 3 5 4 5 3 2
</code></pre>

<p>I have to resort to <code>paste</code> to get the real values:</p>

<pre><code>as.numeric(paste(f))
##  [1] 0.02486440 0.02486440 0.17968483 0.02840901 0.36364493 0.36364493
##  [7] 0.17968483 0.24970435 0.24970435 0.02486440 0.24970435 0.02840901
## [13] 0.17968483 0.02486440 0.17968483 0.36364493 0.24970435 0.36364493
## [19] 0.17968483 0.02840901
</code></pre>

<p>Is there a better way to convert a factor to numeric?</p>
","409828","","2204410","","2018-04-01 11:06:59","2021-05-06 19:47:47","How to convert a factor to integer\numeric without loss of information?","<r><casting><r-faq>","11","2","295","","","CC BY-SA 3.0","3418128","4452","4452","r","404559","3625322","3607736","",""
"3420950","1","3421021","","2010-08-06 04:12:21","","4","302","<p>I have a data frame holding information on options like this</p>

<pre><code>&gt; chData
myIdx strike_price       date     exdate cp_flag strike_price    return
1 8355342       605000 1996-04-02 1996-05-18       P       605000  0.002340
2 8355433       605000 1996-04-02 1996-05-18       C       605000  0.002340
3 8356541       605000 1996-04-09 1996-05-18       P       605000 -0.003182
4 8356629       605000 1996-04-09 1996-05-18       C       605000 -0.003182
5 8358033       605000 1996-04-16 1996-05-18       P       605000  0.003907
6 8358119       605000 1996-04-16 1996-05-18       C       605000  0.003907
7 8359391       605000 1996-04-23 1996-05-18       P       605000  0.005695
</code></pre>

<p>where cp_flag means that a certain option is either a call or a put. What is a way to make sure that for each date, there is a both a call and a put, and drop the rows for which this does not exist? I can do it with a for loop, but is there a more clever way?</p>
","318976","","","","","2010-08-06 06:30:34","R checking pairs of rows in a dataframe","<r>","4","0","2","","","CC BY-SA 2.5","3420950","4452","4452","r","404559","3625322","3607736","",""
"3421331","1","3421563","","2010-08-06 05:58:38","","11","12588","<p>I'd like to create a geom_path() that has arrows pointing towards the next location in the path. </p>

<p>I can get the path to plot, without issue, for example: </p>

<pre><code>df &lt;- (x=1:12, y=20:31, z=1:12)
p &lt;- ggplot(df, aes(x=x, y=y))
p + geom_point() + geom_path()
</code></pre>

<p>Now what I'd like to be able to do is plot that point arrows from one element in the path to the next. </p>

<p>Extra marks if you could tell me how to smooth the lines from one element in the path to the next. </p>
","170352","","172261","","2010-08-06 06:54:43","2014-07-28 11:52:21","Example Needed: Using arrow() with ggplot2","<r><ggplot2>","1","0","2","","","CC BY-SA 2.5","3421331","4452","4452","r","404559","3625322","3607736","",""
"3421728","1","","","2010-08-06 07:14:33","","0","125","<p>I am trying to scan a dataset using a loop in R, to see if the data points in the subset of data fulfill some rules, an example is pasted here:</p>

<pre><code>loop.ward &lt;- 1
loop.control.chart &lt;- 1
while (loop.ward &lt;= length(unique(control.chart[,""ward""])))
{
   loop.weekly.count &lt;- 3
   while (loop.weekly.count &lt;= nrow(control.chart[control.chart[,""ward""]==unique(control.chart[,""ward""])[loop.ward] ,]))
   {
      temp &lt;- control.chart[control.chart[,""ward""]==unique(control.chart[,""ward""])[loop.ward] ,][(loop.weekly.count-2):(loop.weekly.count),]
      if (nrow(temp[temp[""UWL.out""]==1,])&gt;=2 | nrow(temp[temp[""LWL.out""]==1,])&gt;=2)
      {
         control.chart[control.chart[,""ward""]==unique(control.chart[,""ward""])[loop.ward],][(loop.weekly.count),""rules.violated""] &lt;- 2
      }
      loop.control.chart &lt;- loop.control.chart + 1
      loop.weekly.count &lt;- loop.weekly.count + 1
   }
   loop.ward &lt;- loop.ward + 1
}
</code></pre>

<p>The code is doing what I need, but in a very slow way (I have around 7000 data points total for all wards (i.e. max(loop.control.chart) = 7000), and 4 rules to do the scanning, it took me 10 minutes to finished one round.</p>

<p>I can't think of anyway of optimizing it (I thought of tapply, but don't know how to implement it), any suggestions?</p>

<p>Thanks!</p>

<p>(And one more trivial question, is the code here readable to you?)</p>

<hr>

<p>Update</p>

<p>A portion of the data is attached <a href=""http://www.speedfile.org/895644"" rel=""nofollow noreferrer"">here</a> for your reference.</p>
","373908","","373908","","2010-08-06 09:29:53","2010-08-06 09:29:53","how to optimize looped searching in R?","<optimization><r><loops>","1","2","","","","CC BY-SA 2.5","3421728","4452","4452","r","404559","3625322","3607736","",""
"3421898","1","3421965","","2010-08-06 07:50:48","","4","3421","<p>I try reading a <a href=""http://www.json.org/"" rel=""nofollow noreferrer"">JSON</a> file from R using <a href=""http://cran.r-project.org/web/packages/rjson/index.html"" rel=""nofollow noreferrer"">rjson</a> but keep getting errors. I validated the JSON file using various online validators. Here is the content of the JSON file:</p>

<pre><code>{
   ""scenarios"": [
      {
         ""files"": {
            ""type1"": ""/home/blah/Desktop/temp/scen_0.type1"",
            ""type2"": ""/home/blah/Desktop/temp/scen_0.type2""
         },
         ""ID"": ""scen_0"",
         ""arr"": [],
         ""TypeToElementStatsFilename"": {
            ""type1"": ""/home/blah/Desktop/temp/scen_0.type1.elements"",
            ""type2"": ""/home/blah/Desktop/temp/scen_0.type2.elements""
         }
      }
   ],
   ""randomSeed"": ""39327314969888"",
   ""zone"": {
      ""length"": 1000000,
      ""start"": 1
   },
   ""instanceFilename"": ""/home/blah/bloo/data/XY112.zip"",
   ""txtFilename"": ""/home/blah/bloo/data/XY112.txt"",
   ""nSimulations"": 2,
   ""TypeTodbFilename"": {
      ""type1"": ""/home/blah/bloo/data/map.type1.oneAmb.XY112.out""
   },
   ""arr"": {
      ""seg11"": {
         ""length"": 1000,
         ""start"": 147000
      },
      ""seg12"": {
         ""length"": 1000,
         ""start"": 153000
      },
      ""seg5"": {
         ""length"": 1000,
         ""start"": 145000
      },
      ""seg6"": {
         ""length"": 1000,
         ""start"": 146000
      },
      ""seg1"": {
         ""length"": 100,
         ""start"": 20000
      }
   },
   ""outPath"": ""/home/blah/Desktop/temp"",
   ""instanceID"": ""XY112"",
   ""arrIds"": [
      ""seg5"",
      ""seg6"",
      ""seg1"",
      ""seg11"",
      ""seg12""
   ],
   ""truth"": {
      ""files"": {
         ""type1"": ""/home/blah/Desktop/temp/truth.type1"",
         ""type2"": ""/home/blah/Desktop/temp/truth.type2""
      },
      ""ID"": ""truth"",
      ""TypeToElementStatsFilename"": {
         ""type1"": ""/home/blah/Desktop/temp/truth.type1.elements"",
         ""type2"": ""/home/blah/Desktop/temp/truth.type2.elements""
      }
   }
}
</code></pre>

<p>And the error:</p>

<pre><code>&gt; json_file &lt;- ""~/json""
&gt; json_data &lt;- fromJSON(paste(readLines(json_file), collapse=""""))
Error in fromJSON(paste(readLines(json_file), collapse = """")) :
  unexpected character: :
</code></pre>
","377031","","","","","2015-03-26 10:14:24","Reading JSON file from R","<json><r>","3","1","","","","CC BY-SA 2.5","3421898","4452","4452","r","404559","3625322","3607736","",""
"3422203","1","3422254","","2010-08-06 08:42:14","","49","70946","<p>Usually when I plot some R line plot and set <code>ylim=c(0,some_value)</code>, there is small space between the x axis and y=0.</p>

<p>I would like the y axis to show exactly at y=0 so points (x,0) will be plotted on the y axis (and not above).</p>
","377031","","","","","2014-08-22 16:10:31","Set R plots x axis to show at y=0","<r><plot>","2","0","22","","","CC BY-SA 2.5","3422203","4452","4452","r","404559","3625322","3607736","",""
"3422594","1","3427956","","2010-08-06 09:40:29","","9","11123","<p>I am trying to add arrows marking specific x coordinates below the x axis in an R plot. My x axis is at y=0 and when I try to use negative y-coordinates in <code>arrows</code>, so the arrows will be perpendicular to x axis, I get only the very edges of the arrow plotted (although is some space, e,g where the x-axis label and tickmarks are plotted).</p>
","377031","","2370483","","2018-08-15 12:51:40","2018-08-15 12:51:40","Adding an arrow below the x axis in R plots","<r><plot>","2","0","4","","","CC BY-SA 2.5","3422594","4452","4452","r","404559","3625322","3607736","",""
"3423085","1","3423105","","2010-08-06 10:54:51","","21","31295","<p>Is there a reason why R won't allow me to have a number as the column name of my dataframe? </p>

<p>Also noticed that if i do <code>data.frame(XX)</code> it adds an <code>X</code> to all the column headers that have numbers at the front.</p>
","380111","","1851712","","2019-01-02 18:25:27","2019-01-02 18:25:27","Numbers as column names of data frames","<r><dataframe><names>","2","0","3","","","CC BY-SA 4.0","3423085","4452","4452","r","404559","3625322","3607736","",""
"3423405","1","3424057","","2010-08-06 11:41:35","","0","146","<p>I'd like to create a showing the degree of concentration of resources creation among the users of a web application. The plot would have % of resources on the y axis, and % (percentile?) of users on the x axis. 
This feels like a cumulative distribution, but my experiments with the empirical cdf in the stats package aren't getting me what I want, because that gives me the % of resources y-axis, but the x axis is a scale from 1 to the number of users.</p>

<p>What I've done is follow the example plot(cdf(user_counts)) where user_counts is a list of resources created per user.</p>

<p>Does anyone know a better way to tackle this?</p>
","315062","","","","","2010-08-13 17:40:54","Plotting percent of resources vs percent of creators","<r>","2","1","","","","CC BY-SA 2.5","3423405","4452","4452","r","404559","3625322","3607736","",""
"3423610","1","3425270","","2010-08-06 12:11:46","","1","1199","<p>Then I read <a href=""http://www.json.org/"" rel=""nofollow noreferrer"">JSON</a> files from R using <a href=""http://cran.r-project.org/web/packages/rjson/index.html"" rel=""nofollow noreferrer"">rjson</a> it seems that JSON arrays (enclosed with <code>[]</code>) are converted to (unnamed) R lists, not vectors.</p>

<p>Therefore I have to first <code>unlist(recuresice=F)</code> each of those lists before I can work with them. </p>

<ol>
<li>Is there any logic behind this
conversion I am missing? I mean, why
use a list (and not a vector) to
store an array?</li>
<li>Is there any way to
control this behavior of rjson (or
perhaps another recommended JSON
parser for R)?</li>
</ol>
","377031","","","","","2010-08-06 15:28:03","Reading JSON arrays from R","<json><r>","1","2","1","","","CC BY-SA 2.5","3423610","4452","4452","r","404559","3625322","3607736","",""
"3423652","1","3442695","","2010-08-06 12:17:09","","0","788","<p>how dows this work in R...</p>

<p>I am using a package (zoo 1.6-4) that defines a S3 class for time series sets. 
I am writing a derived class where I want to override a few methods and can't get past this one:<code>[.zoo</code>!</p>

<p>in my derived class rows are indexed by timestamp, like in zoo, but differently from zoo, I allow only <code>POSIXct</code> values in the index.  my users will be selecting columns all of the time, while slicing series only occasionally so I want to offer <code>obj[name]</code> instead of <code>obj[, name]</code>.</p>

<p>my objects have class <code>c(""delftfews"", ""zoo"")</code>.</p>

<p>but...</p>

<p>how do I override a method?</p>

<p>I tried this:</p>

<pre><code>""[.delftfews"" &lt;- function(x, i, j, drop=TRUE, ...) {
  if (missing(i)) return(NextMethod())
  if (all(class(i) == ""character"") &amp;&amp; missing(j)) {
    return(NextMethod('[', x=x, i=1:NROW(x), j=i, drop=drop, ...))
  }
  NextMethod()
}
</code></pre>

<p>but I get this error: <code>Error in rval[i, j, drop = drop., ...] : incorrect number of dimensions</code>.</p>

<p>I have solved by editing the source from zoo: I removed those <code>...</code>, but I don't get why that works.  anybody can explain what is going on here?</p>
","78912","","78912","","2010-08-09 14:54:30","2010-08-09 17:50:44","overriding a method in R, using NextMethod","<oop><r>","2","1","","","","CC BY-SA 2.5","3423652","4452","4452","r","404559","3625322","3607736","",""
"3424002","1","3425410","","2010-08-06 13:05:22","","4","606","<p>I noticed I encounter this task quite often when programming in R, yet I don't think I implement it ""pretty"".</p>

<p>I get a list of file names, each containing a table or a simple vector. I want to read all the files into some construct (list of tables?) so I can later manipulate them in simple loops.</p>

<p>I know how to read each file into a table/vector, but I do not know how to put all these objects together in one structure (list?).</p>

<p>Anyway, I guess this is VERY routine so I'll be happy to hear about your tricks.</p>
","377031","","11343","","2014-12-08 16:50:18","2014-12-08 16:50:18","Aggregate data from different files into data structure","<r>","3","1","2","","","CC BY-SA 3.0","3424002","4452","4452","r","404559","3625322","3607736","",""
"3426356","1","","","2010-08-06 17:49:06","","17","7888","<p>I've been running some memory intensive processes on EC2 servers. The code runs quite well for about 12-14 hours (it's running 1000s of simulations on 12-14 large datasets) and then all of a sudden I just see the message ""Killed"" with no further explanation.</p>

<p>What makes R do that?</p>

<p>UPDATE: <a href=""http://developer.amazonwebservices.com/connect/entry.jspa?categoryID=223&amp;externalID=2053"" rel=""noreferrer"">My server specs.</a></p>
","313163","","313163","","2010-08-06 18:04:43","2018-05-24 09:44:34","What causes an R script to get Killed?","<r>","2","3","1","","","CC BY-SA 2.5","3426356","4452","4452","r","404559","3625322","3607736","",""
"3426508","1","3426578","","2010-08-06 18:08:29","","7","1331","<p>I am using <code>RCurl</code> in R to try and download data from a website, but I'm having trouble finding out what URL to use.  Here is the site: </p>

<p><a href=""http://www.invescopowershares.com/products/holdings.aspx?ticker=PGX"" rel=""nofollow noreferrer"">http://www.invescopowershares.com/products/holdings.aspx?ticker=PGX</a></p>

<p>See how in the upper right, above the displayed sheet, there's a link to download the data as a <code>.csv</code> file?  I was wondering if there was a way to find a regular HTTP address for that <code>.csv</code> file, because <code>RCurl</code> can't handle the Javascript commands. </p>
","413353","","844923","","2013-04-06 20:14:09","2013-04-06 20:14:09","Finding the web address of a Javascript link","<javascript><r>","4","0","1","","","CC BY-SA 3.0","3426508","4452","4452","r","404559","3625322","3607736","",""
"3426523","1","3426552","","2010-08-06 18:09:47","","7","9449","<p>Installing the RODBC package on Ubuntu is a bit of a kludge. First I learned to install the following: </p>

<pre><code>$ sudo apt-get install r-cran-rodbc
</code></pre>

<p>That wasn't good enough as the package was still looking for header files. I solved this issue by:</p>

<pre><code>$ sudo apt-get install unixodbc-dev
</code></pre>

<p>Good, RODBC installed properly on the Ubuntu machine. But when I try to run the following script:</p>

<pre><code>## import excel file from Dropbox

require(""RODBC"")

channel &lt;- odbcConnectExcel(""~/Dropbox/DATA/SAMPLE/petro.xls"")

petro &lt;- sqlFetch (channel, ""weekly"")

odbcClose(channel)

str(petro)
head(petro)
</code></pre>

<p>I get an error thrown that function odbcConnectExcel not found. I checked the case of each letter, making sure it was not a simple typo. Nope. Then I ran this same script on a Windows R installation (file path different, of course) and the script works.</p>

<p>Any idea of why Ubuntu R installation cannot find the odbcConnectExcel function and how I can get this to work? </p>
","296155","","","","","2015-08-18 18:41:23","odbcConnectExcel function from RODBC package for R not found on Ubuntu","<r><packages><rodbc>","2","0","1","","","CC BY-SA 2.5","3426523","4452","4452","r","404559","3625322","3607736","",""
"3427457","1","3427518","","2010-08-06 20:20:16","","10","17188","<p>I'd like to know how to make it so that x and y, in the following example data set are plotted on the vertical axis for each element of frame in the horizontal axis. How do I do this with ggplot2?</p>

<p>x, y = variables, frame = YYYYMM</p>

<p>Example Data: </p>

<pre><code>df &lt;- structure(list(x = c(0.000892333625290767, 0.0161153931761482, 
0.0188150880795816, 0.0268699106638318, 0.018657330651898, 0.0101065034206662, 
0.00154410447630379), y = c(1.35172948829027, 0.59654026447333, 
0.685835030118683, 0.741545898152761, 1.09653338596292, 0.119448208345102, 
0.104092642854814), frame = c(200912, 201001, 201002, 201003, 
201004, 201005, 201006)), .Names = c(""x"", ""y"", ""frame""), row.names = c(""1"", 
""2"", ""3"", ""4"", ""5"", ""6"", ""7""), class = ""data.frame"")
</code></pre>

<p>I've been able to get one plotted in a line, but it seems that it's not recognizing my frame as categorical (not that it is, nor do I know how to change it to such). </p>

<pre><code>p &lt;- ggplot(df, aes(x=frame, y=x))
p + geom_line()
</code></pre>
","170352","","","","","2012-10-22 00:28:08","ggplot and R: Two variables over time","<r><ggplot2>","2","0","2","","","CC BY-SA 2.5","3427457","4452","4452","r","404559","3625322","3607736","",""
"3428107","1","3428159","","2010-08-06 21:59:09","","1","232","<p>So I recently (1 hour ago) updated to a 64-bit version of R and tried installing some of my trusty packages in the fresh install (Windows seperates 64/32 bit programs now in two program folders). </p>

<p>Is there a work around for this? </p>

<pre><code>Warning message:
In getDependencies(pkgs, dependencies, available, lib) : package RMySQL is not available
</code></pre>
","170352","","","","","2010-08-06 22:09:20","Update Blues: install.packages(""XXX"")","<r>","1","0","1","","","CC BY-SA 2.5","3428107","4452","4452","r","404559","3625322","3607736","",""
"3428163","1","","","2010-08-06 22:10:01","","5","1215","<p>My question is the following:
Consider a undirect graph with 10000 nodes and 4800 edges.
Given this graph and given a node of this graph (for example, node 1), I need a command in igraph (R) to obtain the distance between this node 1 and the farest node in the graph, please. Thanks a lot, for your help! :)</p>

<p>Kind regards,
Ignacio.</p>
","413520","","","","","2010-08-07 18:21:49","Igraph: Obtain the longest geodesic distance","<r><graph><igraph>","2","0","1","","","CC BY-SA 2.5","3428163","4452","4452","r","404559","3625322","3607736","",""
"3428368","1","3436993","","2010-08-06 22:58:27","","1","1230","<p>Can I find out if my toplevel window is maximized, and can I maximize it programmatically? I am using R's tcltk package 8.5 on Windows XP.</p>

<p>The reason for the question is: I want to enforce a <code>&lt;Visibility&gt;</code> event by calling first withdraw and then deiconify. However, if the window was maximized before these two function calls, it is not after these calls. Is there an easier way to enforce the event?</p>
","216064","","","","","2010-08-09 02:27:14","Tcl/Tk: Maximize window / determine if window is maximized?","<r><tcl><tk>","2","0","","","","CC BY-SA 2.5","3428368","4452","4452","r","404559","3625322","3607736","",""
"3429013","1","3429297","","2010-08-07 03:22:46","","1","141","<p>I have vectors with mostly <code>NA</code> entries. I want to replace every <code>NA</code> with that vector's preceding non-<code>NA</code> entry. Specifically, the first entry will always be a 1, followed by a bunch of <code>NA</code>s, which I want to replace with 1. The <code>i</code>th entry could be another numeric, let's say 2, followed by more <code>NA</code>s that I want to replace with 2. And so on. The loop below achieves this, but there has to be a more R way to do it, right? I wanted to vectorize with <code>ifelse()</code>, but I couldn't figure out how to replace the <code>i</code>th entry with the <code>i-1</code>th entry.</p>

<pre><code>&gt; vec &lt;- rep(NA, 10)
&gt; vec
 [1] NA NA NA NA NA NA NA NA NA NA
&gt; vec[1] &lt;- 1; vec[4] &lt;- 2; vec[7] &lt;- 3
&gt; vec
 [1]  1 NA NA  2 NA NA  3 NA NA NA
&gt; for (i in 1:length(vec)) if (is.na(vec[i])) vec[i] &lt;- vec[i-1]
&gt; vec
 [1] 1 1 1 2 2 2 3 3 3 3
</code></pre>

<p>Thanks! </p>

<p>If context helps, I am adjusting for stock splits from the WRDS database, which has a column that shows when and how a split occurs.</p>
","334755","","","","","2010-08-07 09:36:22","Avoiding a loop when entry i might take the value of entry i-1","<r><loops>","2","0","","","","CC BY-SA 2.5","3429013","4452","4452","r","404559","3625322","3607736","",""
"3429676","1","3429712","","2010-08-07 08:08:17","","2","389","<p>How does R represent complex eigenvectors? For example:</p>

<pre><code>&gt; eigen(matrix(c(2,1,0,2),2,2))
$values
[1] 2 2
$vectors
[,1]          [,2] 
[1,]    0  4.440892e-16
[2,]    1 -1.000000e+00
</code></pre>

<p>This does not indicate that eigenvector is complex. So how can I determine if eigenvector returned by R is real or not?</p>
","236215","","","","","2010-08-07 08:18:14","complex eigenvectors","<r>","1","0","","","","CC BY-SA 2.5","3429676","4452","4452","r","404559","3625322","3607736","",""
"3431925","1","3431955","","2010-08-07 20:27:38","","0","1404","<p>How is R able to find eigenvectors for the following matrix? Eigenvalues are 2,2 so eigenvectors require solving <code>solve(matrix(c(0,1,0,0),2,2))</code> which is singular matrix with no solution.</p>

<pre><code>&gt; eigen(matrix(c(2,1,0,2),2,2))
$values
[1] 2 2
$vectors
[,1]          [,2] 
[1,]    0  4.440892e-16
[2,]    1 -1.000000e+00

&gt; solve(matrix(c(0,1,0,0),2,2))
Error in solve.default(matrix(c(0, 1, 0, 0), 2, 2)) : 
Lapack routine dgesv: system is exactly singular
</code></pre>

<p>Both the routines essentially do the same thing. They find x such that <code>(A-lambda<em>I)x = 0</code> without finding the inverse of <code>A-lambda</em>I</code>. Clearly (0 1) is a solution but how I can't understand why solve did not come up with it and how do I manually solve it.</p>
","236215","","236215","","2010-08-07 23:03:56","2018-10-16 22:49:37","eigenvectors when A-lx is singular with no solution","<r><linear-algebra>","3","2","","","","CC BY-SA 2.5","3431925","4452","4452","r","404559","3625322","3607736","",""
"3433114","1","","","2010-08-08 04:48:49","","3","10038","<p>I have a time column in the format of 00:00 00:30 01:00.  </p>

<p>I want to subset to certain hours but I don't understand how to convert it to the right format<br>
for the date i used as.date() is there someting similar?</p>
","397521","","114519","","2010-08-08 05:03:17","2014-10-08 14:10:13","Converting time string to time or numeric format","<r><time>","1","1","1","","","CC BY-SA 2.5","3433114","4452","4452","r","404559","3625322","3607736","",""
"3433603","1","3434100","","2010-08-08 08:25:31","","49","30769","<p>Is there any convenient way to automatically parse command line arguments passed to R scripts?</p>

<p>Something like perl's <code>Getopt::Long</code>?</p>
","377031","","","","","2021-02-24 23:40:55","Parsing command line arguments in R scripts","<parsing><r><command-line-arguments>","5","1","22","","","CC BY-SA 2.5","3433603","4452","4452","r","404559","3625322","3607736","",""
"3433729","1","3433738","","2010-08-08 09:06:08","","5","890","<p>Is it just a style preference?</p>

<p>As far as I can tell, they are the <a href=""http://developer.r-project.org/equalAssign.html"" rel=""nofollow noreferrer"">same</a>.</p>

<p>I see many people prefer the ""longer"" <code>&lt;-</code> version and I can't tell why (perhaps keeping away from <code>=</code> and <code>==</code> confusions?)</p>
","377031","","1968","","2020-01-24 14:42:33","2020-01-24 14:46:03","Are `=` and `<-` exactly the same in R?","<r><assignment-operator>","1","3","","2020-01-24 14:46:12","","CC BY-SA 4.0","3433729","4452","4452","r","404559","3625322","3607736","",""
"3433863","1","3434026","","2010-08-08 09:57:59","","1","2728","<p>OK, this really basic. How do I add an element to a (named) list in R?</p>

<p><strong>EDIT</strong>
when the key name is a varibale</p>

<pre><code>for (name in names(list$filenames)) {
  filename &lt;- list$filenames[[name]]
  x &lt;- read.table(filename)
  ret$name &lt;- x # I want name to be interpreted here, not use ""name""
}
</code></pre>
","377031","","377031","","2010-08-08 10:30:14","2014-06-14 18:39:24","push to list in R","<list><r>","2","1","","","","CC BY-SA 2.5","3433863","4452","4452","r","404559","3625322","3607736","",""
"3433981","1","","","2010-08-08 10:38:15","","2","262","<p>There are 2 eigenvectors corresponding to 1 eigenvalue (with multiplicity 4) for the following example. However, R returns 4 distinct eigenvectors. It looks like pairs of them are approximately the same only differing in machine floating point error (epsilon). Can you please check and confirm?</p>

<pre><code>&gt; B
 [,1] [,2] [,3] [,4]
 [1,]    2    0    0    0
 [2,]    1    2    0    0
 [3,]    0    1    2    0
 [4,]    0    0    1    2
&gt; eigen(B)
$values
[1] 2 2 2 2

$vectors
[,1]          [,2]          [,3]          [,4]
[1,]    0  0.000000e+00  0.000000e+00  8.758115e-47
[2,]    0  0.000000e+00  1.972152e-31 -1.972152e-31
[3,]    0  4.440892e-16 -4.440892e-16  4.440892e-16
[4,]    1 -1.000000e+00  1.000000e+00 -1.000000e+00
</code></pre>
","236215","","236215","","2010-08-08 10:56:06","2010-08-08 13:02:15","number of distinct eigenvectors in R","<r><linear-algebra>","1","2","","","","CC BY-SA 2.5","3433981","4452","4452","r","404559","3625322","3607736","",""
"3434268","1","3434294","","2010-08-08 12:21:50","","2","2476","<p>Do I need to initialize each level of a multi-level list in R?</p>

<pre><code>l=list()
l[[""top""]]=list()
l[[""top""]][[""mid""]]=list()
l[[""top""]][[""mid""]][[""low_key_1""]]=""key_1_val""
</code></pre>

<p>or is possible to apply some auto-initialization like on perl?</p>
","377031","","","","","2010-08-08 12:28:57","Multi-level lists in R","<list><r>","1","0","2","","","CC BY-SA 2.5","3434268","4452","4452","r","404559","3625322","3607736","",""
"3434349","1","3434900","","2010-08-08 12:47:56","","6","1193","<p>I'm trying to incorporate some plots from R in my LaTeX document through Sweave.</p>

<pre><code>\SweaveOpts{eps = FALSE, pdf = TRUE, echo = FALSE, prefix = TRUE, prefix.string = data}

&lt;&lt;label = abundanca:barplot, fig = TRUE, include = FALSE, results = hide&gt;&gt;=
barplot(abund, xlab=""Vzorne postaje"", ylab=""Abundanca"", main="""", col=""slategrey"", names.arg=c(""HM1"", ""HM2"", ""HM3"", ""HM4"", ""HM5"", ""HM6"", ""HM7"", ""HM8"", ""HM9"", ""HM10""))
@
</code></pre>

<p>The pdf device in Sweave uses native encoding (as set in <code>options(""encoding"")</code>), which doesn't recognize local characters () in xlab (replaces them with two dots).</p>

<p>I have tried setting the option to something that works in R:</p>

<pre><code>options(""encoding"" = ""CP1250.enc"")
</code></pre>

<p>but I get an error:</p>

<pre><code>Error in file() : unsupported conversion from 'CP1250.enc' to ''
</code></pre>

<p>Any solutions, workarounds...?</p>

<p><em>EDIT</em></p>

<p>Running aL3xa's Rnw through</p>

<pre><code>R CMD Sweave report.Rnw
</code></pre>

<p>doesn't work.</p>

<p>Running the same file through Eclipse+StatET</p>

<pre><code>Sweave(""report.Rnw"")
</code></pre>

<p>however, does.</p>

<p>My <a href=""http://dl.dropbox.com/u/8161901/report.Rnw"" rel=""nofollow noreferrer"">.Rnw</a> file and a <a href=""http://dl.dropbox.com/u/8161901/report.pdf"" rel=""nofollow noreferrer"">.pdf</a>.</p>
","322912","","322912","","2011-12-17 11:23:43","2011-12-17 11:23:43","Sweave not printing localized characters","<pdf><r><sweave>","1","1","3","","","CC BY-SA 3.0","3434349","4452","4452","r","404559","3625322","3607736","",""
"3437171","1","3437220","","2010-08-09 03:35:19","","2","998","<p>I have a set a data that I need to calculate their ""consecutive mean"" (I dunno if it is the correct name, but I can't find anything better), here is an example:</p>

<pre><code>ID  Var2 Var3    
1    A    1
2    A    3
3    A    5
4    A    7
5    A    9
6    A    11
7    B    2
8    B    4
9    B    6
10   B    8
11   B    10
</code></pre>

<p>Here I need to calculated the mean of 3 Var3 variable in the same subset consecutively (i.e. there will be 4 means caulculated for A: mean(1,3,5), mean(3,5,7), mean(5,7,9), mean(7,9,11), and 3 means calculated for B: mean(2,4,6), mean(4,6,8), mean(6,8,10). And the result should be:</p>

<pre><code>ID  Var2 Var3 Mean
1    A    1   N/A
2    A    3   N/A
3    A    5   3
4    A    7   5
5    A    9   7
6    A    11  9
7    B    2   N/A
8    B    4   N/A
9    B    6   4
10   B    8   6
11   B    10  8
</code></pre>

<p>Currently I am using a ""loop-inside-a-loop"" approach, I subset the dataset using Var2, and then I calculated the mean in another start from the third data.</p>

<p>It suits what I need, but it is very slow, is there any faster way for this problem?</p>

<p>Thanks!</p>
","373908","","","","","2010-08-09 05:19:17","how to calculate ""consecutive mean"" in R without using loop, or in a more efficient way?","<optimization><r><loops>","2","0","2","","","CC BY-SA 2.5","3437171","4452","4452","r","404559","3625322","3607736","",""
"3437664","1","3437847","","2010-08-09 06:03:52","","0","866","<p>Using R, I would like to find out which Samples (S1, S2, S3, S4, S5) fulfill the following criteria:contain minimally one value (x, y or z) bigger than 4. Thanks, Alex.</p>

<pre><code> Sample    x    y    z &lt;br&gt;
     S1 -0.3  5.3  2.5 &lt;br&gt;
     S2  0.4  0.2 -1.2 &lt;br&gt;
     S3  1.2 -0.6  3.2 &lt;br&gt;
     S4  4.3  0.7  5.7 &lt;br&gt;
     S5  2.4  4.3  2.3 &lt;br&gt;
</code></pre>
","410412","","168747","","2010-08-09 10:22:31","2010-08-09 14:02:54","Extract values from data frame in R","<r>","3","0","1","","","CC BY-SA 2.5","3437664","4452","4452","r","404559","3625322","3607736","",""
"3438049","1","3438108","","2010-08-09 07:22:08","","2","792","<p>I want to subtract the values in a vector from a scalar. However, if the result is lower than zero I want to set the result to zero.</p>
<p>I have tried using <code>max</code>, but it doesn't give me the expected result</p>
<pre><code>s
# [1]  750.0  975.0 1125.0 1237.5 1312.5 1400.0

max(1050 - s, 0)
# [1] 300
</code></pre>
<p>I expect result to be <code>c(300, 150,  0,  0,  0,  0)</code></p>
","236215","","1851712","","2020-07-02 21:34:50","2020-07-02 21:36:10","Constrain lower limit of the result of a subtraction","<r><limit><min>","1","1","","","","CC BY-SA 4.0","3438049","4452","4452","r","404559","3625322","3607736","",""
"3438226","1","3438372","","2010-08-09 07:52:25","","25","25041","<p>Is there a way to easily export R tables to a simple HTML page?</p>
","377031","","","","","2020-04-13 21:37:49","Exporting R tables to HTML","<html><r><export>","4","0","7","","","CC BY-SA 2.5","3438226","4452","4452","r","404559","3625322","3607736","",""
"3439248","1","3443060","","2010-08-09 10:46:10","","2","2088","<p>I have a problem at hand which I'd think is fairly common amongst
groups were R is being adopted for Analytics in place of SAS.
Users would like to obtain results for logistic regression in R that
they have become accustomed to in SAS.</p>

<p>Towards this end, I was able to propose the Design package in R which
contains many functions to extract the various metrics that SAS
reports.</p>

<p>If you have suggestions pertaining to other packages, or sample code
that replicates some of the SAS outputs for logistic regression, I
would be glad to hear of them.</p>

<p>Some of the requirements are:</p>

<ul>
<li><p>Stepwise variable selection for logistic regression</p></li>
<li><p>Choose base level for factor variables</p></li>
<li><p>The Hosmer-Lemeshow statistic</p></li>
<li><p>concordant and discordant</p></li>
<li><p>Tau C statistic</p></li>
</ul>

<p>Thank you for your suggestions.</p>
","177390","","","","","2010-08-11 04:23:26","Logistic Regression in R (SAS-like output)","<r><regression>","2","1","2","","","CC BY-SA 2.5","3439248","4452","4452","r","404559","3625322","3607736","",""
"3439410","1","3439502","","2010-08-09 11:13:04","","0","3601","<p>Okay, I'm trying to use <a href=""https://stackoverflow.com/questions/3397885/how-do-you-read-in-multiple-txt-files-into-r/3398543#3398543""> this </a> method to get my data into R, but I keep on getting the error:</p>

<pre><code>  Error in scan(file, what, nmax, sep, dec, quote, skip, nlines, na.strings,  : 
  line 1 did not have 22 elements
</code></pre>

<p>This is the script that I'm running:</p>

<pre><code>library(foreign)

setwd(""/Library/A_Intel/"")

filelist &lt;-list.files()

#assuming tab separated values with a header    
 datalist = lapply(filelist, function(xx)read.table(xx, header=T, sep="";"")) 

#assuming the same header/columns for all files
 datafr = do.call(""rbind"", datalist) 
</code></pre>

<p>Keep in mind, my priorities are:</p>

<ol>
<li>To read from a .txt file</li>
<li>To associate the headers with the content</li>
<li>To read from multiple files.</li>
</ol>

<p>Thanks!!!</p>
","385559","","-1","","2017-05-23 11:55:22","2010-08-09 16:45:59","Read in multiple .txt files with header in R","<r><visualization>","2","0","","","","CC BY-SA 2.5","3439410","4452","4452","r","404559","3625322","3607736","",""
"3439478","1","3439683","","2010-08-09 11:22:40","","2","1765","<p>In R, I have a data-frame of various statistics recorded throughout the day. (For example, heart-rate) . The time-stamps for each measurement-entry are automatically created, and I have already converted them into a POSIXt class element. </p>

<p>The number of observations varies from day to day. </p>

<p>I am wondering how I can calculate summary statistics by day/week/month.</p>
","287778","","2469","","2010-08-19 19:08:53","2010-08-19 19:08:53","Calculating Summary Statistics by Day/Week/Month","<datetime><r>","2","0","2","","","CC BY-SA 2.5","3439478","4452","4452","r","404559","3625322","3607736","",""
"3439750","1","3441244","","2010-08-09 11:59:08","","1","4552","<p>I'm using the following script to read in .txt files into R. For some reason, even though I only have 21 elements in the header it claims that I have 22. This makes the read table function bug because the rest of the lines of the file only have 21 items. </p>

<p>When I use the scan function I notice that my header actually starts at element 2 and element 1 is empty i.e. something like this. "" ""</p>

<p>It seems to me that the problem is that somehow something is being read into that first element when it shouldn't be. I don't understand this because the first line is a string with no spaces before it. </p>

<pre><code>library(foreign)

setwd(""/Library/A_Intel/"")

filelist &lt;-list.files()

#assuming tab separated values with a header    
datalist = lapply(filelist, function(xx)read.table(xx, header=T, sep="";"")) 

#assuming the same header/columns for all files
datafr = do.call(""rbind"", datalist)  
</code></pre>

<p>Thanks!</p>

<p><strong>EDIT 1</strong></p>

<pre><code>TIME ;POWER SOURCE ;qty MONITORS ;NUM PROCESSORS ;freq of CPU Mhz ;SCREEN SIZE ;CPU LOAD ;BATTERY LEVEL ; KEYBOARD MVT ; MOUSE MVT ;BATTERY MWH ;HARD DISK SPACE ;NUMBER PROCESSES ;RAM   ;FOCUS APP ;
2010-08-09-14:57:29.423 ; AC ; 1 ; 2 ; 1600 ; 1280 : 800  ; 0.434570 ; 100 ; NO ; NO ; 38119596 ; 66.388687  ;  65    ; 1446.54296875   ; Xcode-#6294  ; 
2010-08-09-14:57:30.422 ; AC ; 1 ; 2 ; 1600 ; 1280 : 800  ; 0.399414 ; 100 ; NO ; NO ; 38119596 ; 66.388687  ;  65    ; 1446.55859375   ; Xcode-#6294  ; 
2010-08-09-14:57:31.421 ; AC ; 1 ; 2 ; 1600 ; 1280 : 800  ; 0.399414 ; 100 ; NO ; YES ; 38119596 ; 66.388687  ;  65    ; 1446.9375   ; Xcode-#6294  ; 
2010-08-09-14:57:32.421 ; AC ; 1 ; 2 ; 1600 ; 1280 : 800  ; 0.399414 ; 100 ; NO ; YES ; 38119596 ; 66.388687  ;  65    ; 1446.875   ; Xcode-#6294  ; 
2010-08-09-14:57:33.421 ; AC ; 1 ; 2 ; 1600 ; 1280 : 800  ; 0.399414 ; 100 ; NO ; YES ; 38119596 ; 66.388695  ;  65    ; 1445.7890625   ; Xcode-#6294  ; 
2010-08-09-14:57:34.421 ; AC ; 1 ; 2 ; 1600 ; 1280 : 800  ; 0.399414 ; 100 ; NO ; YES ; 38119596 ; 66.388695  ;  65    ; 1444.84765625   ; Xcode-#6294  ; 
</code></pre>

<p>I Have been playing around with a single file and I still get the same problem. I did notice that when supposedly when you mark 'header=""TRUE"" the header needs to have <strong>one column less</strong> then the data. I thought this would help in that the first column would be considered the index, but instead the data frame has it marked in my first category i.e. the last value in the line doesn't have a column name. </p>

<p>Thanks again!</p>

<p><strong>EDIT 2</strong></p>

<p>and here is a typical error:</p>

<pre><code> Error in scan(file, what, nmax, sep, dec, quote, skip, nlines, na.strings,  : 
   line 1 did not have 16 elements
</code></pre>
","385559","","385559","","2010-08-09 14:16:24","2010-08-09 14:53:09","Superfluous data at the beginning of a R header","<r><visualization>","2","2","","","","CC BY-SA 2.5","3439750","4452","4452","r","404559","3625322","3607736","",""
"3439894","1","3440440","","2010-08-09 12:17:33","","3","2286","<p>In R, I want to call <em>apply</em> on a huge data.frame, and write values back into specific positions of other dataframes.</p>

<p>However, using '&lt;&lt;-' only works when I call the apply function from the global environment. As I understand, '&lt;&lt;-' searches the parent.env() for the variable. Why is the parent environment of the function called in bar() not bar's environment?
Thanks!</p>

<pre><code>do_write_foo1 &lt;- function(x) {
    cat(""parent environment of function called in bar():  "")
    print(parent.env(environment()))
    foo1[x['a']] &lt;&lt;- 100+x['a']
}
do_write_foo2 &lt;- function(x) {
    foo2[x['a']] &lt;&lt;- 100+x['a']
}

bar &lt;- function() {
    cat(""bar environment:  "")
    print(environment())
    foo1 &lt;- 1:10
    apply(data.frame(a=1:10),1,do_write_foo1)
    foo1
}

# this does not work:    
bar()
# bar environment:  &lt;environment: 0x3bb6278&gt;
# parent environment of function called in bar():  &lt;environment: R_GlobalEnv&gt;
# Error in foo1[x[""a""]] &lt;&lt;- 100 + x[""a""] : object 'foo1' not found


# this works:
foo2&lt;-1:10
apply(data.frame(a=1:10),1,do_write_foo2)
foo2
#  [1] 101 102 103 104 105 106 107 108 109 110
</code></pre>
","299878","","299878","","2010-08-09 13:03:27","2010-08-09 13:41:16","assign variables in apply()-d function using <<-","<r>","2","4","3","","","CC BY-SA 2.5","3439894","4452","4452","r","404559","3625322","3607736","",""
"3440373","1","3440645","","2010-08-09 13:19:21","","16","21071","<p>Still struggling with R, especially with error handling:</p>

<p>If I use:</p>

<pre><code>result &lt;- try(sqlSave(ch,df,tablename=""tblTest""))
</code></pre>

<p>I can use:</p>

<pre><code>if (class(result) != ""try-error"")
</code></pre>

<p>to check if something went wrong. No problem.</p>

<p>But if I use <code>try</code> in combination with a function it doesn't work as I expected:</p>

<pre><code> result &lt;- try(ch&lt;-odbcConnect(""TEST""))
</code></pre>

<p>gives ""-1"" for <code>result</code> and ""integer"" for <code>class(result)</code></p>

<p>So should I use</p>

<pre><code>ch&lt;-odbcConnect(""TEST"")
if (ch != -1)
</code></pre>

<p>and use <code>geterrmessage()</code> for the error message?</p>
","293843","","172261","","2012-02-20 21:19:07","2012-02-20 21:19:07","Functions and try() in R","<r><error-handling>","1","0","5","","","CC BY-SA 3.0","3440373","4452","4452","r","404559","3625322","3607736","",""
"3442153","1","3442339","","2010-08-09 16:37:36","","3","2015","<p>If I want to know what is stored in a <code>...</code> argument within an R function, I can simply convert it to be a list, like so</p>

<pre><code>foo &lt;- function(...)
{
  dots &lt;- list(...)
  print(dots)
}

foo(x = 1, 2, ""three"")
#$x
#[1] 1
#
#[[2]]
#[1] 2
#
#[[3]]
#[1] ""three""
</code></pre>

<p>What I can't figure out is how to evaluate <code>...</code> in the calling function.  In this next example I want the contents of <code>baz</code> to return the <code>...</code> argument to <code>bar</code>.</p>

<pre><code>bar &lt;- function(...)
{
  baz()
}

baz &lt;- function()
{ 
  # What should dots be assigned as?
  # I tried                                           
  # dots &lt;- get(""..."", envir = parent.frame())
  # and variations of
  # dots &lt;- eval(list(...), envir = parent.frame())
  print(dots)
}

bar(x = 1, 2, ""three"")
</code></pre>

<p><code>get(""..."", envir = parent.frame())</code> returns <code>&lt;...&gt;</code>, which looks promising, but I can't figure out how to extract anything useful from it.</p>

<p><code>eval(list(...), envir = parent.frame())</code> throws an error, claiming that <code>...</code> is used incorrectly.</p>

<p>How can I retrieve the <code>...</code> from <code>bar</code>?</p>
","134830","","","","","2010-08-13 02:06:05","In R, how do you evaluate ... in the calling function?","<r><environment><callstack>","3","0","","","","CC BY-SA 2.5","3442153","4452","4452","r","404559","3625322","3607736","",""
"3442305","1","3442536","","2010-08-09 16:57:04","","0","651","<p>Within the Windows XP Pro RGui, can't compile inline C code. Get error:
   <strong>'sh' is not recognized as an internal or external command</strong></p>

<p>Clearly there is a configuration error, but can't find a way to resolve it either in R documentation or via googling. Must be a simple solution!</p>

<p>The same R code works fine on linux: the inline C compiles and runs correctly.</p>
","415314","","143305","","2010-08-09 17:29:00","2010-08-09 17:29:00","R inline compilation of C code fails on Windows","<c><windows><r><line>","1","0","1","","","CC BY-SA 2.5","3442305","4452","4452","r","404559","3625322","3607736","",""
"3442781","1","","","2010-08-09 18:01:37","","1","1738","<p>I was using one of my favorite R packages today to read data from a google spreadsheet. It would not work. This problem is occurring on all my machines (I use windows) and it appears to be a new problem. I am using Version: 0.4-1 of RGoogleDocs</p>

<pre><code>library(RGoogleDocs)
ps &lt;-readline(prompt=""get the password in "")
sheets.con = getGoogleDocsConnection(getGoogleAuth(""fxxxh@gmail.com"", ps, service =""wise""))
ts2=getWorksheets(""OnCall"",sheets.con)
</code></pre>

<p>And this is what I get after running the last line.</p>

<blockquote>
  <p>Error in curlPerform(curl = curl, .opts = opts, .encoding = .encoding) : 
    SSL certificate problem, verify that the CA cert is OK. Details:
  error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed</p>
</blockquote>

<p>I did some reading and came across some interesting, but not useful to me at least, information.</p>

<p><a href=""http://www.omegahat.org/RCurl/FAQ.html"" rel=""nofollow noreferrer"">When I try to interact with a URL via https, I get an error of the form</a><br>
<a href=""http://ademar.name/blog/2006/04/curl-ssl-certificate-problem-v.html"" rel=""nofollow noreferrer"">Curl: SSL certificate problem, verify that the CA cert is OK</a></p>

<p>I got the very big picture message but did not know how to implement the solution in my script. I dropped the following line before getWorksheets.</p>

<pre><code>x = getURLContent(""https://www.google.com"", ssl.verifypeer = FALSE)
</code></pre>

<p>That did not work so I tried</p>

<pre><code>ts2=getWorksheets(""OnCall"",sheets.con,ssl.verifypeer = FALSE)
</code></pre>

<p>That also did not work.</p>

<p>Interestingly enough, the following line works</p>

<pre><code>getDocs(sheets.con,folders = FALSE)
</code></pre>

<p>What do you suggest I try to get it working again? Thanks.</p>
","168139","","","","","2011-03-31 05:25:45","RGoogleDocs (or RCurl) giving SSL certificate problem","<r><ssl-certificate><google-docs>","2","2","3","","","CC BY-SA 2.5","3442781","4452","4452","r","404559","3625322","3607736","",""
"3442810","1","3443924","","2010-08-09 18:06:53","","2","2127","<p>I'm looking for a built-in function that returns the sample quantile <strong>and an estimated confidence interval</strong> in something other than MATLAB (MATLAB's <code>ecdf</code> does this).</p>

<p>I'm guessing R has this built-in and I just haven't found it yet.</p>

<p>If you have any standalone code to do this, you could also point to it here, though I hope to find something that is included as part of a larger open code base.</p>

<p>-Trying to get away from MATLAB.</p>
","287238","","","","","2010-08-09 20:30:07","R, python or octave: empirical quantile (inverse cdf) with confidence intervals?","<c#><python><r><statistics><octave>","1","2","1","","","CC BY-SA 2.5","3442810","4452","4452","r","404559","3625322","3607736","",""
"3443576","1","5068939","","2010-08-09 19:43:05","","46","24944","<p>I was surprised to see that R will coerce factors into a number when concatenating vectors. This happens even when the levels are the same. For example:</p>

<pre><code>&gt; facs &lt;- as.factor(c(""i"", ""want"", ""to"", ""be"", ""a"", ""factor"", ""not"", ""an"", ""integer""))
&gt; facs
[1] i       want    to      be      a       factor  not     an      integer
Levels: a an be factor i integer not to want
&gt; c(facs[1 : 3], facs[4 : 5])
[1] 5 9 8 3 1
</code></pre>

<p>what is the idiomatic way to do this in R (in my case these vectors can be pretty large)? Thank you.</p>
","160015","","563532","","2017-01-16 03:22:18","2019-10-21 14:52:38","How to concatenate factors, without them being converted to integer level?","<r><concatenation><r-factor>","8","0","8","","","CC BY-SA 3.0","3443576","4452","4452","r","404559","3625322","3607736","",""
"3443687","1","12135122","","2010-08-09 19:57:41","","298","636407","<p>I have a number, for example 1.128347132904321674821 that I would like to show as only two decimal places when output to screen (or written to a file). How does one do that? </p>

<pre><code>x &lt;- 1.128347132904321674821
</code></pre>

<p>EDIT: </p>

<p>The use of: </p>

<pre><code>options(digits=2)
</code></pre>

<p>Has been suggested as a possible answer. Is there a way to specify this within a script for one-time use? When I add it to my script it doesn't seem to do anything different and I'm not interested in a lot of re-typing to format each number (I'm automating a very large report). </p>

<p>-- </p>

<p>Answer: round(x, digits=2)</p>
","170352","","903061","","2019-09-17 19:23:33","2021-04-08 02:38:52","Formatting Decimal places in R","<r><formatting><rounding><r-faq>","14","6","104","","","CC BY-SA 2.5","3443687","4452","4452","r","404559","3625322","3607736","",""
"3444440","1","3464953","","2010-08-09 21:42:17","","15","12262","<p><strong>Edit: Building off of aL3xa's answer below, I've modified his syntax below. Not perfect, but getting closer. I still haven't found a way to make xtable accept \multicolumn{} arguments for columns or rows. It also appears that Hmisc handles some of these type of tasks behind the scenes, but it looks like a bit of an undertaking to understand what's going on there. Does anyone have experience with the latex function in Hmisc?</strong></p>

<pre><code>ctab &lt;- function(tab, dec = 2, margin = NULL) {
    tab &lt;- as.table(tab)
    ptab &lt;- paste(round(prop.table(tab, margin = margin) * 100, dec), ""%"", sep = """")
    res &lt;- matrix(NA, nrow = nrow(tab) , ncol = ncol(tab) * 2, byrow = TRUE)
    oddc &lt;- 1:ncol(tab) %% 2 == 1
    evenc &lt;- 1:ncol(tab) %% 2 == 0
    res[,oddc ] &lt;- tab
    res[,evenc ] &lt;- ptab
    res &lt;- as.table(res)
    colnames(res) &lt;- rep(colnames(tab), each = 2)
    rownames(res) &lt;- rownames(tab)
    return(res)
}
</code></pre>

<p>I would like to create a table formatted for LaTeX output that contains both the counts and percentages for each column or variable. I have not found a ready made solution to this problem, but feel I must be recreating the wheel to some extent. </p>

<p>I have developed a solution for straight tabulations, but am struggling with adopting something for a cross tabulation.</p>

<p>First some sample data:</p>

<pre><code>#Generate sample data
dow &lt;- sample(1:7, 100, replace=TRUE)
purp &lt;- sample(1:4, 100, replace=TRUE)
dow &lt;- factor(dow, 1:7, c(""Mon"", ""Tues"", ""Wed"", ""Thurs"", ""Fri"", ""Sat"", ""Sun""))
purp &lt;- factor(purp, 1:4, c(""Business"", ""Commute"", ""Vacation"", ""Other""))
</code></pre>

<p>And now the working straight tab function:</p>

<pre><code>customTable &lt;- function(var, capt = NULL){
    counts &lt;- table(var)
    percs &lt;- 100 * prop.table(counts)       

    print(
        xtable(
            cbind(
                Count = counts
                , Percent = percs
            )
        , caption = capt
        , digits = c(0,0,2)
        )
    , caption.placement=""top""
    )
}

#Usage
customTable(dow, capt=""Day of Week"")
customTable(purp, capt=""Trip Pupose"")
</code></pre>

<p>Does anyone have any suggestions for adopting this for cross tabulations (i.e. day of week BY trip purpose)? Here is what I've currently written, which does NOT use the xtable library and ALMOST works, but is not dynamic and is quite ugly to work with:</p>

<pre><code>#Create table and percentages
a &lt;- table(dow, purp)
b &lt;- round(prop.table(a, 1),2)

#Column bind all of the counts &amp; percentages together, this SHOULD become dynamic in future
d &lt;- cbind( cbind(Count = a[,1],Percent =  b[,1])
        , cbind(Count = a[,2], Percent = b[,2])
        , cbind(Count = a[,3], Percent = b[,3])
        , cbind(Count = a[,4], Percent = b[,4])
)

#Ugly function that needs help, or scrapped for something else
crossTab &lt;- function(title){
    cat(""\\begin{table}[ht]\n"")
    cat(""\\begin{center}\n"")
    cat(""\\caption{"", title, ""}\n"", sep="""") 

    cat(""\\begin{tabular}{rllllllll}\n"")
    cat(""\\hline\n"")

    cat("""", cat("""", paste(""&amp;\\multicolumn{2}{c}{"",colnames(a), ""}""), sep = """"), ""\\\\\n"", sep="""")
    c(""&amp;"", cat("""", colnames(d), ""\\\\\n"", sep="" &amp; ""))
    cat(""\\hline\n"")
    c(""&amp;"", write.table(d, sep = "" &amp; "", eol=""\\\\\n"", quote=FALSE, col.names=FALSE))

    cat(""\\hline\n"")
    cat(""\\end{tabular}\n"")
    cat(""\\end{center}\n"")
    cat(""\\end{table}\n"")   
}   

crossTab(title = ""Day of week BY Trip Purpose"")
</code></pre>
","415635","","415635","","2010-08-10 02:12:03","2013-05-07 08:19:51","Counts & Percentages in xTable, Sweave, R, cross tabulations","<r><latex><sweave><xtable>","7","1","11","","","CC BY-SA 2.5","3444440","4452","4452","r","404559","3625322","3607736","",""
"3444889","1","5873573","","2010-08-09 23:15:12","","111","53111","<p>When I look at the source of R Packages, i see the function <code>sweep</code> used quite often.
Sometimes it's used when a simpler function would have sufficed (e.g., <code>apply</code>),
other times, it's impossible to know exactly what it's is doing without
spending a fair amount of time to step through the code block it's in.</p>

<p>The fact that I can reproduce <code>sweep</code>'s effect using a simpler function suggests that
i don't understand <code>sweep</code>'s core use cases, and the fact that this function is used so often suggests that it's quite useful.</p>

<p>The context:</p>

<p><code>sweep</code> is a function in R's standard library; its arguments are:</p>

<pre><code>sweep(x, MARGIN, STATS, FUN=""-"", check.margin=T, ...)

# x is the data
# STATS refers to the summary statistics which you wish to 'sweep out'
# FUN is the function used to carry out the sweep, ""-"" is the default
</code></pre>

<p>As you can see, the arguments are similar to <code>apply</code> though <code>sweep</code> requires
one more parameter, <code>STATS</code>.</p>

<p>Another key difference is that <code>sweep</code> returns an array of the <em>same shape</em> as the input array, whereas the result returned by <code>apply</code> depends on the function passed in.</p>

<p><code>sweep</code> in action:</p>

<pre><code># e.g., use 'sweep' to express a given matrix in terms of distance from 
# the respective column mean

# create some data:
M = matrix( 1:12, ncol=3)

# calculate column-wise mean for M
dx = colMeans(M)

# now 'sweep' that summary statistic from M
sweep(M, 2, dx, FUN=""-"")

     [,1] [,2] [,3]
[1,] -1.5 -1.5 -1.5
[2,] -0.5 -0.5 -0.5
[3,]  0.5  0.5  0.5
[4,]  1.5  1.5  1.5
</code></pre>

<p>So in sum, what i'm looking for is an exemplary use case or two for <code>sweep</code>.</p>

<p>Please, do not recite or link to the R Documentation, mailing lists, or any of the 'primary' R sources--assume I've read them. What I'm interested in is how experienced R programmers/analysts use <code>sweep</code> in their own code.</p>
","66549","","190277","","2018-04-19 23:53:57","2019-07-25 10:13:01","How to use the 'sweep' function","<r><statistics>","5","2","37","","","CC BY-SA 3.0","3444889","4452","4452","r","404559","3625322","3607736","",""
"3445316","1","3445486","","2010-08-10 01:06:29","","96","23828","<p>One of the basic data types in R is factors. In my experience factors are basically a pain and I never use them. I always convert to characters. I feel oddly like I'm missing something. </p>

<p>Are there some important examples of functions that use factors as grouping variables where the factor data type becomes necessary? Are there specific circumstances when I <em>should</em> be using factors?</p>
","37751","","215487","","2015-02-20 19:50:44","2017-01-24 19:16:46","Factors in R: more than an annoyance?","<r><language-design><internals><r-factor>","7","4","35","","","CC BY-SA 3.0","3445316","4452","4452","r","404559","3625322","3607736","",""
"3445540","1","3445649","","2010-08-10 02:06:20","","1","2446","<p>I've been learning ggplot in the last few weeks. Generally, I'm getting things done (slowly though), but now I'm stuck. I created the following facetted plot: <a href=""http://dl.dropbox.com/u/7752237/example_bad_y_scales.pdf"" rel=""nofollow noreferrer"">http://dl.dropbox.com/u/7752237/example_bad_y_scales.pdf</a></p>

<p>Faceting is done by </p>

<pre><code>pl &lt;- pl + facet_wrap(~sci_name,ncol=1,scale=""free"")
</code></pre>

<p>The Problem: Numbers on the y-scale don't look good, especially the scales that go from 0-70 (numbers overlapping).
I'd like the somehow change the number of breaks on the y-scale (to let's say just 1 or 2 breaks). Does anybody maybe have an idea how to do that? Any help would be very much appreciated. :)</p>

<p>PS: I didn't include a minimal example because I think it wouldn't help much to solve that specific problem.</p>

<p>Edit after Kohskes answer:</p>

<p>Hi Kohske,
Wow, that was a really fast answer, thanks! However, I think it doesn't work well with facetted plots. Look at</p>

<pre><code>p &lt;- ggplot(mtcars, aes(wt, mpg))
p &lt;- p + geom_point()
p &lt;- p + facet_wrap(~gear,ncol=1,scale=""free"")
</code></pre>

<p>On the y-scale, it gives 3 breaks in the middle plot and 8 breaks in the lower plot not very consistent (but at least not overlapping as in my example).</p>

<pre><code>p2 &lt;- p + scale_y_continuous(breaks=c(15,30),minor_breaks=c(10,20,25))
</code></pre>

<p>isn't really good neither: two major ticks on lower plots, only one in middle and upper plot.
When having scales with bigger differences than in mtcars, the result would be even less satisfying. Any other ideas? ;)</p>

<p>Edit after Kohskes edit:</p>

<p>Hi, I can't see how to implement this. Searching for ggplot and input_break on google yielded only 10 results, none of them did help. 
I tried </p>

<pre><code>p &lt;- ggplot(mtcars, aes(wt, mpg))
p &lt;- p + geom_point()
p &lt;- p + facet_wrap(~gear,ncol=1,scale=""free"")
p$input_breaks&lt;-function(., range) {
    pretty(range, n=3)
}
print(p)
</code></pre>

<p>However, I can't see any effects in the graph (tried for n=1, 3, 15). Could you describe how to implement this on the mtcars example? Thanks!</p>
","415697","","415697","","2010-08-10 13:28:28","2010-08-10 17:24:16","overlapping y-scales in facet (scale=""free"")","<r><ggplot2><facet><facet-wrap>","1","0","","","","CC BY-SA 2.5","3445540","4452","4452","r","404559","3625322","3607736","",""
"3445590","1","3445619","","2010-08-10 02:19:18","","70","256822","<p>Given a data frame &quot;foo&quot;, how can I select only those rows from &quot;foo&quot; where e.g. <code>foo$location = &quot;there&quot;</code>?</p>
<pre><code>foo = data.frame(location = c(&quot;here&quot;, &quot;there&quot;, &quot;here&quot;, &quot;there&quot;, &quot;where&quot;), x = 1:5, y = 6:10)
foo
#   location x  y
# 1     here 1  6
# 2    there 2  7
# 3     here 3  8
# 4    there 4  9
# 5    where 5 10
</code></pre>
<p>Desired result, &quot;bar&quot;:</p>
<pre><code>#   location x y
# 2    there 2 7
# 4    there 4 9
</code></pre>
","277434","","1851712","","2021-03-07 23:46:07","2021-03-07 23:46:07","Subset / filter rows in a data frame based on a condition in a column","<r><dataframe><subset><r-faq>","2","0","23","","","CC BY-SA 4.0","3445590","4452","4452","r","404559","3625322","3607736","",""
"3446041","1","3449118","","2010-08-10 04:32:00","","1","578","<p>I'm wondering if the following is possible.</p>

<p>I have a survey with 100+ questions, all categorical, collected in 4 locations. All questions are labeled q1, q2 and so on. Let's say there are 100 for simplicity.</p>

<p>I can visually compare the results of a particular question across locations with:</p>

<pre><code>library (lattice);
histogram(~ q75 | location, data = survey, layout=c(1,4));
</code></pre>

<p>or, with ggplot2,</p>

<pre><code>library (ggplot2);
qplot(q75, data=survey) + facet_grid(location ~ .);
</code></pre>

<p>This gives 4 histograms, aligned vertically, for <em>one</em> question.</p>

<p>I'm wondering if there is a <em>programmatic</em> way to generate the histograms for <em>all</em> 100 questions, so left most I have the stack of 4 histograms for q1, then to the right the stack of 4 histograms for q2 and so on. Granted, it's going to be a long line, but this is for visual inspection only and for spotting the initial areas to investigate further. Scrolling to the right is fine with me, I have a wide-screen monitor so I'll get a decent number of histograms fitting in at one time.</p>

<p>That the questions are labeled with 'q' + a counter is good. What I don't know is </p>

<ul>
<li>how to make this kind of plot with lattice (or ggplot2?) it's a bi-dimensional lattice.</li>
<li>how to feed such programmatically-generated field names into these commands.</li>
</ul>

<p>Suggestions are appreciated. I'm a programmer, but not in R where I'm a newbie. </p>
","277434","","277434","","2010-08-10 04:46:11","2010-08-10 16:54:52","Dynamically generate an R lattice graph for many fields","<r><ggplot2><data-visualization><histogram><lattice>","1","0","","","","CC BY-SA 2.5","3446041","4452","4452","r","404559","3625322","3607736","",""
"3446495","1","","","2010-08-10 06:15:35","","41","18149","<p>There are lots of general <a href=""http://devcheatsheet.com/tag/r/?page=1"" rel=""noreferrer"">R cheat sheets</a>, but is there a cheat sheet for ggplot2?</p>
","255564","","100297","","2013-10-19 11:19:01","2016-02-11 16:00:45","ggplot2 cheat sheet","<r><ggplot2>","4","1","40","2013-10-19 00:48:40","","CC BY-SA 2.5","3446495","4452","4452","r","404559","3625322","3607736","",""
"3447531","1","3450038","","2010-08-10 09:22:01","","20","2744","<p>Is there an ESS version of the Clear Console command that can be found in the RGui(Ctrl-L)?</p>

<p>I want to have a blank * R * buffer.</p>
","380111","","","","","2017-04-19 15:41:28","Emacs ESS version of Clear Console","<emacs><r><ess>","3","1","3","","","CC BY-SA 2.5","3447531","4452","4452","r","404559","3625322","3607736","",""
"3447648","1","3447776","","2010-08-10 09:37:21","","1","538","<p>I try to find out if x11 census type filtering is possible with R. I am pretty sure it is, but if I google or use ??x11 I only get information about the graphical device X11. Can anyone point me to some time series package respectively a function (e.g. within zoo or standard ts) that does it?</p>

<p>thx in advance!</p>
","366256","","","","","2010-08-10 10:52:17","Can someone point me to census x11 filtering for R?","<r>","1","0","","","","CC BY-SA 2.5","3447648","4452","4452","r","404559","3625322","3607736","",""
"3449666","1","3449753","","2010-08-10 13:53:51","","6","3503","<p>I am using a the <code>RSQLite</code> library in R in to manage a data set that is too large for RAM. For each regression I query the database to retrieve a fiscal year at a time. Now I have the fiscal year hard-coded:</p>

<pre><code>data.annual &lt;- dbGetQuery(db, ""SELECT * FROM annual WHERE fyear==2008"")
</code></pre>

<p>I would like to make the fiscal year (2008 above) to make changes a bit easier (and fool-proof). Is there a way that I can pass a variable into SQL query string? I would love to use:</p>

<pre><code>fiscal.year &lt;- 2008
data.annual &lt;- dbGetQuery(db, ""SELECT * FROM annual WHERE fyear==fiscal.year"")
</code></pre>
","334755","","680068","","2016-11-11 07:33:02","2016-11-11 07:33:02","RSQLite query with user specified variable in the WHERE field","<r><rsqlite>","2","1","3","2017-10-30 20:05:41","","CC BY-SA 3.0","3449666","4452","4452","r","404559","3625322","3607736","",""
"3450703","1","","","2010-08-10 15:36:40","","2","1086","<p>Windows XP, R 2.11.1, Java JRE6</p>

<p>I just installed the Jaguar package.</p>

<p>From an R console, I can do this:</p>

<pre><code>&gt; library(JGR)
Loading required package: rJava
Loading required package: JavaGD
Loading required package: iplots

Please use the corresponding JGR launcher to start JGR.
Run JGR() for details. You can also use JGR(update=TRUE) to update JGR.
</code></pre>

<p>and so JGR appears to be correctly installed.</p>

<p><code>JGR()</code> yields</p>

<pre><code>On Windows JGR must be started using the JGR.exe launcher.
Please visit http://www.rosuda.org/JGR/ to download it.
&gt; 
</code></pre>

<p>I'm not sure how to run Jaguar - I know I have to run jgr.exe - but should R be already open?  If so, should the JGR library be already loaded?  I've tried all of these, and what seems to happen regardless is a console window opens briefly, then disappears.  I've run jrg --debug, with no apparent error message: (same file regardless of choice made above).</p>

<p>What should I be doing?</p>

<p>Thanks!</p>

<p>System: Version 5.1 (build 2600), platform 2 [Service Pack 3]</p>

<pre><code>JGR loader version 1.61 (build Jul 23 2008)

parseParams&gt; 1 parameters parsed.
parseParams par 10&gt; ""--debug""
&gt; rhome=""C:\Program Files\R\R-2.11.1""
&gt; srhome=""C:\PROGRA~1\R\R-211~1.1""

getPkgVersion(JGR): 010702
getPkgVersion(rJava): 000805
getPkgVersion(JavaGD): 000503
getPkgVersion(iplots): 010103

Loading preferences from ""C:\Documents and Settings\gblais\.JGRprefsrc""
&gt; javakey=""Software\JavaSoft\Java Runtime Environment\1.6""
&gt; javah=""C:\Program Files\Java\jre6""
&gt; tp=""C:\Perl\site\bin;C:\Perl\bin;C:\PHP\;C:\Program Files\MiKTeX 2.8\miktex\bin;C:\Python26\Lib\site-packages\PyQt4;C:\Program Files\Tcl\bin;C:\oracle\product\10.2.0\client_2\BIN;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\Support Tools\;c:\belfry;c:\belfry\usr\local\wbin;C:\WINDOWS;C:\WINDOWS\System32;C:\WINDOWS\System32\WBEM;c:\Program Files\QuickTime\QTSystem\;C:\Program Files\SlikSvn\bin\;c:\progra~1\Microsoft Visual Studio 9.0\VC\bin\""
Got RuntimeLib from registry, using ""C:\Program Files\Java\jre6\bin\client;"" PATH prefix.
Java home: ""C:\Program Files\Java\jre6""
R home: ""C:\Program Files\R\R-2.11.1""
JAR files: ""-Drjava.class.path=C:\PROGRA~1\R\R-211~1.1\library\rJava\jri\JRI.jar;C:\PROGRA~1\R\R-211~1.1\library\iplots\java\iplots.jar;C:\PROGRA~1\R\R-211~1.1\library\JGR\java\JGR.jar;C:\PROGRA~1\R\R-211~1.1\etc\classes;C:\PROGRA~1\R\R-211~1.1\etc\classes.jar""
desired PATH: ""C:\Program Files\Java\jre6\bin\client;C:\Program Files\Java\jre6\bin\client;C:\Program Files\Java\jre6\bin;C:\Program Files\R\R-2.11.1\bin;C:\PROGRA~1\R\R-211~1.1\library\rJava\jri;C:\Perl\site\bin;C:\Perl\bin;C:\PHP\;C:\Program Files\MiKTeX 2.8\miktex\bin;C:\Python26\Lib\site-packages\PyQt4;C:\Program Files\Tcl\bin;C:\oracle\product\10.2.0\client_2\BIN;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\Support Tools\;c:\belfry;c:\belfry\usr\local\wbin;C:\WINDOWS;C:\WINDOWS\System32;C:\WINDOWS\System32\WBEM;c:\Program Files\QuickTime\QTSystem\;C:\Program Files\SlikSvn\bin\;c:\progra~1\Microsoft Visual Studio 9.0\VC\bin\""
actual PATH: ""C:\Program Files\Java\jre6\bin\client;C:\Program Files\Java\jre6\bin\client;C:\Program Files\Java\jre6\bin;C:\Program Files\R\R-2.11.1\bin;C:\PROGRA~1\R\R-211~1.1\library\rJava\jri;C:\Perl\site\bin;C:\Perl\bin;C:\PHP\;C:\Program Files\MiKTeX 2.8\miktex\bin;C:\Python26\Lib\site-packages\PyQt4;C:\Program Files\Tcl\bin;C:\oracle\product\10.2.0\client_2\BIN;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\Support Tools\;c:\belfry;c:\belfry\usr\local\wbin;C:\WINDOWS;C:\WINDOWS\System32;C:\WINDOWS\System32\WBEM;c:\Program Files\QuickTime\QTSystem\;C:\Program Files\SlikSvn\bin\;c:\progra~1\Microsoft Visual Studio 9.0\VC\bin\""
getenv PATH: ""C:\Perl\site\bin;C:\Perl\bin;C:\PHP\;C:\Program Files\MiKTeX 2.8\miktex\bin;C:\Python26\Lib\site-packages\PyQt4;C:\Program Files\Tcl\bin;C:\oracle\product\10.2.0\client_2\BIN;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\Support Tools\;c:\belfry;c:\belfry\usr\local\wbin;C:\WINDOWS;C:\WINDOWS\System32;C:\WINDOWS\System32\WBEM;c:\Program Files\QuickTime\QTSystem\;C:\Program Files\SlikSvn\bin\;c:\progra~1\Microsoft Visual Studio 9.0\VC\bin\""
argv[0]:C:\PROGRA~1\Java\jre6\bin\java.exe
argv[1]:-Drjava.class.path=C:\PROGRA~1\R\R-211~1.1\library\rJava\jri\JRI.jar;C:\PROGRA~1\R\R-211~1.1\library\iplots\java\iplots.jar;C:\PROGRA~1\R\R-211~1.1\library\JGR\java\JGR.jar;C:\PROGRA~1\R\R-211~1.1\etc\classes;C:\PROGRA~1\R\R-211~1.1\etc\classes.jar
argv[2]:-Xmx512m
argv[3]:-cp
argv[4]:C:\PROGRA~1\R\R-211~1.1\library\rJava\java\boot
argv[5]:-Drjava.path=C:\PROGRA~1\R\R-211~1.1\library\rJava
argv[6]:-Dmain.class=org.rosuda.JGR.JGR
argv[7]:-Djgr.load.pkgs=yes
argv[8]:-Djgr.loader.ver=1.61
argv[9]:RJavaClassLoader
argv[10]:--debug
</code></pre>
","372664","","176923","","2010-08-10 17:16:56","2011-01-05 00:51:38","Problem with launching JAGUAR in R","<r>","1","1","1","","","CC BY-SA 2.5","3450703","4452","4452","r","404559","3625322","3607736","",""
"3452086","1","3473388","","2010-08-10 18:17:32","","71","52469","<p>Is there a way to programmatically find the path of an R script inside the script itself?</p>

<p>I am asking this because I have several scripts that use <code>RGtk2</code> and load a GUI from a .glade file.</p>

<p>In these scripts I am obliged to put a <code>setwd(""path/to/the/script"")</code> instruction at the beginning, otherwise the .glade file (which is in the same directory) will not be found.</p>

<p>This is fine, but if I move the script in a different directory or to another computer I have to change the path. I know, it's not a big deal, but it would be nice to have something like:</p>

<p><code>setwd(getScriptPath())</code></p>

<p>So, does a similar function exist?</p>
","176923","","","","","2020-12-18 08:56:35","Getting path of an R script","<r><path>","12","3","19","","","CC BY-SA 2.5","3452086","4452","4452","r","404559","3625322","3607736","",""
"3452205","1","3452220","","2010-08-10 18:33:46","","13","22025","<p>I have two data.frames. For examples sake let's say they look like this: </p>

<pre><code>df1 &lt;- data.frame(x=rep(letters[1:26], 16))
df2 &lt;- data.frame(y=letters[1:4])
</code></pre>

<p>What I would like to do is subset 'df1' to contain the rows whose first column value matches any value within the first column of 'df2'. </p>

<p>Now, I've tried:</p>

<pre><code>subset(df1, df1$x == df2$y)
</code></pre>

<p>But this tells me that I need equally sized data.frames. Thoughts? </p>
","170352","","271616","","2011-05-23 14:11:55","2011-05-23 14:11:55","Subsetting a data frame based on contents of another data frame","<r><dataframe>","1","0","5","","","CC BY-SA 2.5","3452205","4452","4452","r","404559","3625322","3607736","",""
"3452206","1","3452235","","2010-08-10 18:33:57","","8","2622","<p>I am writing my thesis in LaTeX and because things got a bit long for my taste, I had split it into several files. Let's call them <code>thesis.tex</code>, <code>intro.tex</code>, <code>mat_n_met.tex</code>, <code>rslts.tex</code> and <code>discsn.tex</code>. I have linked <code>intro.tex</code>, <code>mat_n_met.tex</code>, <code>rslts.tex</code> and <code>discsn.tex</code> through <code>thesis.tex</code> with <code>\include{intro}</code> (and so on...).
I have also created a separate file called <code>r_crunching.Rnw</code> (that I run through Sweave) that holds a chunk that runs the R script with data analysis and chunks that produce pdf outputs of graphs that I embed via <code>\includegraphics</code> (in e.g., <code>rslts.tex</code>). Still following?</p>

<p>If I run a Rnw (i.e. I renamed <code>rslts.tex</code> to <code>rslts.Rnw</code>) without ""a link"" to the chunk with the R script, you will get a <code>Sweave()</code> error saying the reference in <code>\Sexpr{}</code> doesn't exist. Is there a way, without merging all the files into a single .Rnw, to call <code>\Sexpr{}</code> in say <code>rslts.Rnw</code>?</p>

<p>Other methods how to accomplish this are welcome.</p>
","322912","","355270","","2011-09-23 14:24:29","2018-04-21 16:35:37","How do I Sweave a multiple-file project?","<r><latex><sweave><literate-programming>","5","5","8","","","CC BY-SA 3.0","3452206","4452","4452","r","404559","3625322","3607736","",""
"3452803","1","","","2010-08-10 19:45:57","","1","3616","<p>The labels on the x-axis are defaulting to scientific notation no matter how small cex.axis is.  How can I override scientific notation to get the labels to print out as specified?  Here is the code (UNIT here is 0.0105):  </p>

<pre><code>plot( xm,yv ,log=""xy"",ylim=c(0.1,20)/UNIT,
  xlim=c(0.004,20)*UNIT,xlab=""Dose"",xaxt=""n"",ylab=""Amount"",type=""n"")
axis(1,at=c(0.0001,0.005,0.001,0.05,0.01,0.5,1),cex.axis=0.9)
</code></pre>
","416544","","","","","2010-08-11 16:52:51","log scale x-axis labels","<r>","2","0","1","","","CC BY-SA 2.5","3452803","4452","4452","r","404559","3625322","3607736","",""
"3453695","1","3454648","","2010-08-10 21:43:55","","26","62614","<p>I am an R newbie and had a question. I am trying to place some text into an R plot. Here's some code using the brightness dataset in the UsingR package.</p>

<pre><code>    library(UsingR)
    brightness

    MyMean &lt;- mean(brightness)
    MyMedian &lt;- median(brightness)
    MySd &lt;- sd(brightness)

    hist(brightness, breaks=35, main=""This is a Histogram"", 
         xlab=""Brightness"", ylab=""Frequency"", xlim=c(0,15), ylim=c(0, 200))

    text(3.5, 150, paste(""Mean ="", round(MyMean, 1), ""\n Median ="", 
         round(MyMedian, 1), ""\n Std.Dev ="", round(MySd, 1)))
</code></pre>

<p>This code produces:</p>

<p><img src=""https://i.stack.imgur.com/x8qKL.png"" alt=""enter image description here""></p>

<p>The issue with this output is that the text is not left left alligned. Does anyone know how to make the text left alligned.</p>

<p>Thanks.</p>
","406278","","6607497","","2017-05-16 12:10:02","2021-02-22 15:36:00","Align text inside a plot","<r><text><text-alignment>","2","0","7","","","CC BY-SA 3.0","3453695","4452","4452","r","404559","3625322","3607736","",""
"3453772","1","","","2010-08-10 21:54:41","","9","412","<p>Is it possible in R to protect function names (or variables in general) so that they cannot be masked.</p>

<p>I recently spotted that this can be a problem when creating a data frame with the name ""new"", which masked a function used by lmer and thus stopped it working.  (Recovery is easy once you know what the problem is, here ""rm(new)"" did it.)</p>
","416656","","416656","","2011-12-24 16:47:33","2011-12-24 16:47:33","Protecting function names in R","<r>","3","3","","","","CC BY-SA 3.0","3453772","4452","4452","r","404559","3625322","3607736","",""
"3454969","1","","","2010-08-11 02:59:17","","4","243","<p>I am building an user input interface in R.</p>

<p>onload of the program, I would like like to ask the user what their preferences are according to a set of 6 fields.  This will then be used as a comparison tool for the rest of the program.</p>

<p>e.g.,</p>

<pre><code>&gt;ThisProgram  
&gt;""Hello, on a scale of 1 to 10, how much would you say you rate the outdoors in your trips?    Enter a 10 for very important, and a 1 for not important at all.   
&gt;7  
&gt;""Great. on a scale of 1 to 10, how much would you say you rate the Family Friendly in your  trips?  Enter a 10 for very important, and a 1 for not important at all. 
&gt;2
  .
  .
  .
  and so on...
</code></pre>

<p>how would I get R to ask the user a question, and then store the response in a vector?</p>
","416798","","","","","2010-08-11 03:16:44","Command line Questions in R","<command-line><r><command-line-arguments><command-prompt>","1","0","","","","CC BY-SA 2.5","3454969","4452","4452","r","404559","3625322","3607736","",""
"3455190","1","3455377","","2010-08-11 04:03:19","","2","1815","<p>I have a bunch of histograms to plot on data that is still coming. As the sample sizes vary, in order to compare them I need to plot the histograms with percentages not counts.</p>

<pre><code>qplot (field, data=mydata, geom=""histogram"", binwidth=10)
</code></pre>

<p>the above qplot displays the counts. The <em>density</em> option is not applicable as it divides the counts within a bin to the bin's width, whereas I need to divide on the total number of samples.</p>

<p>I can precalculate a column containing the percentage, but it's cumbersome (I have many data sets). </p>

<p>Is there a better way to tell qplot to directly plot the histogram with percentages (ideally, also displayed as percentages (as 69%) and not as 0.69)?</p>

<p>Thanks!</p>
","277434","","","","","2010-08-11 04:51:35","Can qplot directly display percentages without intermediate columns?","<r><ggplot2>","1","0","1","","","CC BY-SA 2.5","3455190","4452","4452","r","404559","3625322","3607736","",""
"3459867","1","","","2010-08-11 15:12:46","","4","4282","<p>Say, I am using <code>facet_grid()</code> in ggplot2 to obtain 2 histograms. Now I want to superimpose these histograms with Poisson curves (having different means for the 2 histogram plots/grids) and a second curve of another distribution (for which I want to manually provide the probability function of values). How can this be done? </p>

<p>Constructing an example:</p>

<pre><code>library(ggplot2)

value&lt;-c(rpois(500,1.5))

group&lt;-rep(c(""A"",""B""),250)

data&lt;-data.frame(value,group)

g1&lt;-ggplot(data,aes(value))

g1+geom_histogram(aes(y=..count..),binwidth=1,position=""identity"")+facet_grid(.~group)
</code></pre>

<p>What next?</p>

<p>Alternatively, can it be done using the lattice package?</p>
","417405","","250259","","2012-07-25 14:29:42","2012-07-25 14:29:42","How to superimpose distribution curves on histograms using ggplot2 and lattice","<r><ggplot2><lattice>","2","0","1","","","CC BY-SA 3.0","3459867","4452","4452","r","404559","3625322","3607736","",""
"3460825","1","3461233","","2010-08-11 16:55:34","","2","1851","<p>So I have a data frame in R that contains integers, NA's, and a random assortment of strings inside the cells. Only one data type per cell. What I'm wondering is how to change all of the cells that contain strings into NA. Any idea how I could do this?</p>
","409050","","","","","2010-08-11 17:49:30","Remove all strings from a data frame in R?","<string><r><spreadsheet>","2","0","","","","CC BY-SA 2.5","3460825","4452","4452","r","404559","3625322","3607736","",""
"3460888","1","3460979","","2010-08-11 17:01:58","","4","662","<p>I'm using R under Windows XP. It picked up the environmental variable HOME from windows which is,</p>

<pre><code>&gt; Sys.getenv(""R_USER"")
R_USER 
""H:"" 
</code></pre>

<p>However, how can I use that variable quickly in a file name? In particular, if I have a file stored at <code>H:/tmp/data.txt</code>. How should I construct the following command?</p>

<pre><code>data &lt;- read.table(""$R_HOME/tmp/data.txt"")
</code></pre>

<p>That one clearly didn't work. </p>

<p>The only way I got it to work is the following:</p>

<pre><code>data &lt;- read.table(paste(Sys.getenv(""R_USER""), ""/tmp/data.txt"", sep = """"))
</code></pre>

<p>Which is so cumbersome that I have to believe there is an easier way. Does anyone know a quick evocation of the HOME variable in R?</p>
","291877","","1000551","","2017-07-05 17:07:21","2017-07-05 17:07:21","How to evoke R home directory in file name construction?","<r><environment-variables><home-directory>","1","0","","","","CC BY-SA 3.0","3460888","4452","4452","r","404559","3625322","3607736","",""
"3462154","1","3462205","","2010-08-11 19:39:19","","1","182","<p>How can one access <a href=""http://www.lim.com/"" rel=""nofollow noreferrer""><strong>LIM</strong></a> from <a href=""http://www.r-project.org"" rel=""nofollow noreferrer""><strong>R</strong></a>?</p>
","153440","","163053","","2010-08-11 19:48:07","2010-08-11 19:48:07","LIM data access from R","<r>","1","0","","","","CC BY-SA 2.5","3462154","4452","4452","r","404559","3625322","3607736","",""
"3463837","1","3464107","","2010-08-12 00:14:49","","11","2311","<p>I've started to use R a little while ago and am not sure how often to update the installed packages (at this time, I'm using mostly ggplot2 and rattle). One one hand it's the typical geek impulse to have the latest version :-) On the other, updates can break functionality and, as an R beginner, I don't want to waste time looking into package incompatibilities and reinstalling libraries, it's almost certain I wouldn't notice any difference with an improved package.</p>

<p>With other applications I have a sense developed from experience on how often to upgrade, how much to wait between the release of an upgrade and installing it and so on. But I'm in the dark with regards to R.</p>

<p>And to be clear: I'm not talking about R itself, but its libraries.</p>

<p>Thanks.</p>
","277434","","1033808","","2012-01-10 17:45:09","2016-01-04 22:32:05","Is it good practice to update R packages often?","<r>","6","0","1","2016-01-05 12:54:42","","CC BY-SA 3.0","3463837","4452","4452","r","404559","3625322","3607736","",""
"3463891","1","","","2010-08-12 00:34:34","","8","534","<p>I'm hoping to take advantage of Amazon spot instances which come at a lower cost but can terminate anytime. I want to set it up such that I can send myself data mid-way through a script so I can pick up from there in the future.</p>

<p>How would I email myself a .rdata file? </p>

<p>difficulty: The ideal solution will not involve RCurl since I am unable to install that package on my machine instance.</p>
","313163","","","","","2011-09-28 03:51:02","How do I email myself data from a R script?","<r><amazon-ec2>","3","0","4","","","CC BY-SA 2.5","3463891","4452","4452","r","404559","3625322","3607736","",""
"3464552","1","3464682","","2010-08-12 03:29:37","","5","5312","<p>I would like to change the stacking order of hospitals in the diagram below so #1 is at the top and #4 at the bottom.</p>

<p>The diagram was produced with </p>

<pre><code>ggplot(survey,aes(x=hospital, y=age))+geom_boxplot()+coord_flip()+xlab("""")+ylab (""\nPatient Age"")
</code></pre>

<p>and I need the top->down order to be the reverse of what is now. I'm not sure why it comes the way it does now. The 'hospital' column is a factor in case it matters.</p>

<p>Many thanks!</p>

<p><img src=""https://imgur.com/b8NxB.png"" alt=""alt text""></p>
","277434","","","","","2010-08-12 04:03:14","ggplot: how to specify vertical order of multiple boxplots?","<r><ggplot2><boxplot>","1","0","1","","","CC BY-SA 2.5","3464552","4452","4452","r","404559","3625322","3607736","",""
"3466599","1","3474049","","2010-08-12 10:10:16","","8","547","<p>How would a person <code>dput()</code> an S4 object? I tried this</p>

<pre><code>require(sp)
require(splancs)
plot(0, 0, xlim = c(-100, 100), ylim = c(-100, 100))
poly.d &lt;- getpoly() #draw a pretty polygon - PRETTY!
poly.d &lt;- rbind(poly.d, poly.d[1,]) # close the polygon because of Polygons() and its kin
poly.d &lt;- SpatialPolygons(list(Polygons(list(Polygon(poly.d)), ID = 1)))
poly.d
dput(poly.d)
</code></pre>

<p>Notice that if I <code>dput()</code> an S4 object, I cannot reconstruct it again. Your thoughts?</p>
","322912","","636656","","2012-10-03 19:28:32","2012-10-03 19:28:32","dputting an S4 object","<r><s4>","1","2","1","","","CC BY-SA 2.5","3466599","4452","4452","r","404559","3625322","3607736","",""
"3469975","1","3471465","","2010-08-12 16:42:54","","10","4775","<p>I want to added dark/light phase information to the background of my stacked area graphset to highlight the how light affects the shapes of the curves. My dataframe looks like this:</p>
<pre><code>&gt; str(MDist.median)
'data.frame':   2880 obs. of  6 variables:
 $ groupname: Factor w/ 8 levels &quot;rowA&quot;,&quot;rowB&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
 $ fCycle   : Factor w/ 6 levels &quot;predark&quot;,&quot;Cycle 1&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
 $ fPhase   : Factor w/ 2 levels &quot;Light&quot;,&quot;Dark&quot;: 2 2 2 2 2 2 2 2 2 2 ...
 $ starttime: num  0.3 60 120 180 240 300 360 420 480 540 ...
 $ dists    : Factor w/ 3 levels &quot;inadist&quot;,&quot;smldist&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
 $ value    : num  110 123 124 128 132 ...
</code></pre>
<p>example data:</p>
<pre><code>&gt; head(MDist.median)
  groupname  fCycle fPhase starttime   dists  value
1      rowA predark   Dark       0.3 inadist 110.00
2      rowA predark   Dark      60.0 inadist 123.25
3      rowA predark   Dark     120.0 inadist 124.10
4      rowA predark   Dark     180.0 inadist 128.35
5      rowA predark   Dark     240.0 inadist 131.80
6      rowA predark   Dark     300.0 inadist 140.30
</code></pre>
<p>My area plot stacks the 3 kinds of <code>dists</code> on the y axis by starttime on the x axis.</p>
<pre><code>dists.med.areaplot &lt;- qplot(starttime,value,fill=dists,facets=~groupname,
 geom='area',data=MDist.median, stat='identity') + 
 labs(y='median distances', x='time(s)', fill='Distance Types')+
 opts(title='Changes in Fish Activity and Activity Type') + 
 scale_fill_brewer(type='seq')
</code></pre>
<p>I want to add vertical rectangles behind each plot that are horizontally positioned by the min and max starttimes of each fCycle where fPhase==&quot;Dark&quot;.  I edited my graphset in GIMP to show what I mean:</p>
<p><img src=""https://imgur.com/4CfOa.png"" alt=""my altered graphset"" /></p>
<p>I've been attempting to use themes but that's not working out so well.  Thoughts?</p>
<h2>ETA</h2>
<p>So, using this example (from Hadley's <a href=""http://had.co.nz/ggplot2/book/toolbox.r"" rel=""noreferrer"">website</a>):</p>
<pre><code>(unemp &lt;- qplot(date, unemploy, data=economics, geom=&quot;line&quot;, 
  xlab = &quot;&quot;, ylab = &quot;No. unemployed (1000s)&quot;))

presidential &lt;- presidential[-(1:3), ]

yr &lt;- range(economics$unemploy)
unemp + geom_rect(
  aes(NULL, NULL, xmin = start, xmax = end, fill = party), 
  ymin = yr[1], ymax = yr[2], data = presidential) + 
  scale_fill_manual(values = alpha(c(&quot;blue&quot;, &quot;red&quot;), 0.2)
)
</code></pre>
<p>I can do this with my data:</p>
<pre><code>dists.med.areaplot + geom_rect(
      aes(NULL, NULL, xmin = phase_start, xmax = phase_end, fill = fPhase), 
      ymin = -Inf, ymax = Inf, data = phase_starts) + 
      scale_fill_manual(values = alpha(c(&quot;#cccccc&quot;, &quot;#000000&quot;), 0.2)
    )
</code></pre>
<p>which adds Light and Dark categories to the legend and changes ALL the colours to grey.</p>
<p>If I leave out the <code>scale_fill_manual(values = alpha(c(&quot;#cccccc&quot;, &quot;#000000&quot;), 0.2)</code>, I get the rectangles I expect still with the legend change, but they are completely opaque, on top of my original graph, and use the 1st 2 colours in my colour sequence.</p>
<p>How can I make the geom_rect behind the original plots?</p>
","128245","","-1","","2020-06-20 09:12:55","2018-04-18 18:46:48","ggplot2: adding a background layer","<r><ggplot2>","1","2","3","","","CC BY-SA 2.5","3469975","4452","4452","r","404559","3625322","3607736","",""
"3470259","1","3470604","","2010-08-12 17:13:34","","5","2658","<p>I am just starting to get beyond the basics in R and have come to a point where I need some help. I want to restructure some data.  Here is what a sample dataframe may look like:</p>

<pre><code>ID  Sex Res Contact
1   M   MA  ABR
1   M   MA  CON
1   M   MA  WWF
2   F   FL  WIT
2   F   FL  CON
3   X   GA  XYZ
</code></pre>

<p>I want the data to look like:</p>

<pre><code>ID  SEX Res ABR CON WWF WIT XYZ
1   M   MA  1   1   1   0   0
2   F   FL  0   1   0   1   0
3   X   GA  0   0   0   0   1
</code></pre>

<p>What are my options?  How would I do this in R? </p>

<p>In short, I am looking to keep the values of the CONT column and use them as column names in the restructred data frame.  I want to hold a variable set of columns constant (in th example above, I held ID, Sex, and Res constant).</p>

<p>Also, is it possible to control the values in the restructured data?  I may want to keep the data as binary. I may want some data to have the value be the count of times each contact value exists for each ID.</p>
","155406","","6359698","","2016-12-21 14:59:06","2016-12-21 14:59:06","Restructure Data in R","<r><data-manipulation>","2","0","1","","","CC BY-SA 3.0","3470259","4452","4452","r","404559","3625322","3607736","",""
"3470447","1","3470584","","2010-08-12 17:38:44","","39","16022","<p>Before using R, I used quite a bit of Perl. In Perl, I would often use hashes, and lookups of hashes are generally regarded as fast in Perl.</p>

<p>For example, the following code will populate a hash with up to 10000 key/value pairs, where the keys are random letters and the values are random integers. Then, it does 10000 random lookups in that hash.</p>

<pre><code>#!/usr/bin/perl -w
use strict;

my @letters = ('a'..'z');

print @letters . ""\n"";
my %testHash;

for(my $i = 0; $i &lt; 10000; $i++) {
    my $r1 = int(rand(26));
    my $r2 = int(rand(26));
    my $r3 = int(rand(26));
    my $key = $letters[$r1] . $letters[$r2] . $letters[$r3];
    my $value = int(rand(1000));
    $testHash{$key} = $value;
}

my @keyArray = keys(%testHash);
my $keyLen = scalar @keyArray;

for(my $j = 0; $j &lt; 10000; $j++) {
    my $key = $keyArray[int(rand($keyLen))];
    my $lookupValue = $testHash{$key};
    print ""key "" .  $key . "" Lookup $lookupValue \n"";
}
</code></pre>

<p>Now that increasingly, I am wanting to have a hash-like data structure in R. The following is the equivalent R code:</p>

<pre><code>testHash &lt;- list()

for(i in 1:10000) {
  key.tmp = paste(letters[floor(26*runif(3))], sep="""")
  key &lt;- capture.output(cat(key.tmp, sep=""""))
  value &lt;- floor(1000*runif(1))
  testHash[[key]] &lt;- value
}

keyArray &lt;- attributes(testHash)$names
keyLen = length(keyArray);

for(j in 1:10000) {
  key &lt;- keyArray[floor(keyLen*runif(1))]
  lookupValue = testHash[[key]]
  print(paste(""key"", key, ""Lookup"", lookupValue))
}
</code></pre>

<p>The code seem to be doing equivalent things. However, the Perl one is much faster:</p>

<pre><code>&gt;time ./perlHashTest.pl
real    0m4.346s
user    **0m0.110s**
sys 0m0.100s
</code></pre>

<p>Comparing to R:</p>

<pre><code>time R CMD BATCH RHashTest.R

real    0m8.210s
user    **0m7.630s**
sys 0m0.200s
</code></pre>

<p>What explains the discrepancy? Are lookups in R lists just not good?</p>

<p>Increasing to 100,000 list length and 100,000 lookups only exaggerates the discrepancy? Is there a better alternative for the hash data structure in R than the native list()?</p>
","318976","","559784","","2013-03-30 15:36:39","2020-06-06 14:00:03","Can I use a list as a hash in R? If so, why is it so slow?","<r><perl><hash>","7","4","16","","","CC BY-SA 3.0","3470447","4452","4452","r","404559","3625322","3607736","",""
"3471651","1","3477359","","2010-08-12 20:13:00","","0","2938","<p>I know there is <a href=""http://www.mathworks.com/access/helpdesk/help/toolbox/stats/coxphfit.html"" rel=""nofollow noreferrer"">COXPHFIT</a> function in MATLAB to do Cox regression, but I have problems understanding how to apply it. </p>

<p>1) How to compare two groups of samples with survival data in days (<code>survdays</code>), censoring (<code>cens</code>) and some predictor value (<code>x</code>)? The groups defined by <code>groups</code> logical variable. Groups have different number of samples.</p>

<p>2) What is the baseline parameter in coxphfit?  I did read the docs, but how should I choose the baseline properly?</p>

<p>It would be great if you know a site with good detailed examples on medical survival data. I found only the <a href=""http://www.mathworks.com/products/statistics/demos.html?file=/products/demos/shipping/stats/survivaldemo.html"" rel=""nofollow noreferrer"">Mathworks demo</a> that does not even mention coxphfit.</p>

<p>Do you know may be another 3rd party function for Cox regression?</p>

<p><strong>UPDATE</strong>: The <code>r</code> tag added since the answer I've got is for <strong>R</strong>.</p>
","163080","","840460","","2013-02-22 11:02:39","2013-02-22 11:02:39","Cox regression in MATLAB","<r><matlab><survival-analysis><cox-regression>","1","1","","","","CC BY-SA 3.0","3471651","4452","4452","r","404559","3625322","3607736","",""
"3472980","1","3473306","","2010-08-13 00:05:40","","251","275236","<p>I have used the following <code>ggplot</code> command:</p>

<pre><code>ggplot(survey, aes(x = age)) + stat_bin(aes(n = nrow(h3), y = ..count.. / n), binwidth = 10)
  + scale_y_continuous(formatter = ""percent"", breaks = c(0, 0.1, 0.2))
  + facet_grid(hospital ~ .)
  + theme(panel.background = theme_blank())
</code></pre>

<p>to produce</p>

<p><img src=""https://imgur.com/lXK7C.png"" alt=""alt text""></p>

<p>I'd like to change the <em>facet</em> labels, however, to something shorter (like <code>Hosp 1</code>, <code>Hosp 2</code>...) because they are too long now and look cramped (increasing the height of the graph is not an option, it would take too much space in the document). I looked at the <a href=""https://ggplot2.tidyverse.org/reference/facet_grid.html"" rel=""noreferrer"">facet_grid</a> help page but cannot figure out how.</p>
","277434","","680068","","2019-04-11 12:40:40","2021-02-22 19:15:24","How to change facet labels?","<r><ggplot2><symbols><facet><plotmath>","20","0","102","","","CC BY-SA 4.0","3472980","4452","4452","r","404559","3625322","3607736","",""
"3476015","1","3476133","","2010-08-13 10:30:47","","2","1641","<p>I have written the following function to calculate a check digit in R.</p>

<pre><code>verhoeffCheck &lt;- function(x)
{
## calculates check digit based on Verhoeff algorithm
## note that due to the way strsplit works, to call for vector x, use sapply(x,verhoeffCheck)

## check for string since leading zeros with numbers will be lost
if (class(x)!=""character""){stop(""Must enter a string"")}

#split and convert to numbers
digs &lt;- strsplit(x,"""")[[1]]
digs &lt;- as.numeric(digs)

digs &lt;- rev(digs)   ## right to left algorithm

## tables required for D_5 group

d5_mult &lt;- matrix(c(
                 0:9,
                 c(1:4,0,6:9,5),
                 c(2:4,0:1,7:9,5:6),
                 c(3:4,0:2,8:9,5:7),
                 c(4,0:3,9,5:8),
                 c(5,9:6,0,4:1),
                 c(6:5,9:7,1:0,4:2),
                 c(7:5,9:8,2:0,4:3),
                 c(8:5,9,3:0,4),
                 9:0
                 ),10,10,byrow=T)

d5_perm &lt;- matrix(c(
                 0:9,
                 c(1,5,7,6,2,8,3,0,9,4),
                 c(5,8,0,3,7,9,6,1,4,2),
                 c(8,9,1,6,0,4,3,5,2,7),
                 c(9,4,5,3,1,2,6,8,7,0),
                 c(4,2,8,6,5,7,3,9,0,1),
                 c(2,7,9,3,8,0,6,4,1,5),
                 c(7,0,4,6,9,1,3,2,5,8)
                 ),8,10,byrow=T)

d5_inv &lt;- c(0,4:1,5:9)

## apply algoritm - note 1-based indexing in R
d &lt;- 0

for (i in 1:length(digs)){
    d &lt;- d5_mult[d+1,(d5_perm[(i%%8)+1,digs[i]+1])+1]
    }

d5_inv[d+1]
}
</code></pre>

<p>In order to run on a vector of strings, <code>sapply</code> must be used. This is in part because of the use of <code>strsplit</code>, which returns a list of vectors. This does impact on the performance even for only moderately sized inputs.</p>

<p>How could this function be vectorized?</p>

<p>I am also aware that some performance is lost in having to create the tables in each iteration. Would storing these in a new environment be a better solution?</p>
","269476","","","","","2014-03-19 16:50:16","Optimizing the Verhoeff Algorithm in R","<optimization><r><vectorization><check-digit>","3","0","2","","","CC BY-SA 2.5","3476015","4452","4452","r","404559","3625322","3607736","",""
"3476391","1","3476492","","2010-08-13 11:35:22","","1","1081","<p>I am trying to read in some data that is is a text file that looks like this:</p>

<pre><code>2009-08-09 - 2009-08-15 0   2   0
2009-08-16 - 2009-08-22 0   1   0
2009-08-23 - 2009-08-29 0   1   0
2009-08-30 - 2009-09-05 0   1   0
2009-09-06 - 2009-09-12 0   1   0
2009-09-13 - 2009-09-19 0   1   0
2009-09-20 - 2009-09-26 0   1   0
2009-09-27 - 2009-10-03 0   1   0 
</code></pre>

<p>I have tried using this commmand</p>

<pre><code>test &lt;- read.table('test', sep =""\t"")
</code></pre>

<p>as well as lots of different variations on that theme. But all I ever get back is this:</p>

<pre><code>   V1
1  2
2     
3     
4     
5     
6     
7     
8     
9     
10    
11    
12    
13    
14    
15    
16  
</code></pre>

<p>whereas I want a four columned data frame.</p>

<p>Any ideas where I am going wrong?</p>
","366502","","","","","2013-06-25 07:38:19","I can't read in data to R","<r>","3","1","2","","","CC BY-SA 2.5","3476391","4452","4452","r","404559","3625322","3607736","",""
"3476782","1","3477158","","2010-08-13 12:30:39","","123","136741","<p>I was surprised to learn that R doesn't come with a handy function to check if the number is integer.</p>

<pre><code>is.integer(66) # FALSE
</code></pre>

<p>The <a href=""http://web.mit.edu/~r/current/lib/R/library/base/html/integer.html"" rel=""noreferrer"">help files warns</a>:</p>

<blockquote>
  <p><code>is.integer(x)</code> does not test if <code>x</code>
  contains integer numbers! For that,
  use <code>round</code>, as in the function
  <code>is.wholenumber(x)</code> in the examples.</p>
</blockquote>

<p>The example has this custom function as a ""workaround""</p>

<pre><code>is.wholenumber &lt;- function(x, tol = .Machine$double.eps^0.5)  abs(x - round(x)) &lt; tol
is.wholenumber(1) # is TRUE
</code></pre>

<p>If I would have to write a function to check for integers, assuming I hadn't read the above comments, I would write a function that would go something along the lines of</p>

<pre><code>check.integer &lt;- function(x) {
    x == round(x)
}
</code></pre>

<p>Where would my approach fail? What would be your work around if you were in my hypothetical shoes?</p>
","322912","","680068","","2016-05-26 12:12:43","2021-01-27 19:07:19","Check if the number is integer","<r><integer><rounding>","13","5","30","","","CC BY-SA 3.0","3476782","4452","4452","r","404559","3625322","3607736","",""
"3476928","1","","","2010-08-13 12:47:18","","0","1222","<p>I need to fit <code>Y_ij ~ NegBin(m_ij,k)</code>, hence a negative binomial distribution to a count. However, the data I have observed are censored, I know the value of <code>y_ij</code>, but it could be more than that value. Writting down the loglikelihood going with this problem is:</p>

<pre><code>ll = \sum_{i=1}^n w_i (c_i log(P(Y_ij=y_ij|X_ij)) + (1- c_i) log(1- \sum_{k=1}^32 P(Y_ij = k|X_ij)))
</code></pre>

<p>Where <code>X_ij</code> represent the design matrix (with the covariates of interest), <code>w_i</code> is the weight for each observation, <code>y_ij</code> is the response variable and <code>P(Y_ij=y_ij|Xij)</code> is the negative binomial distribution where the <code>m_ij=exp(X_ij \beta)</code> and <code>\alpha</code> is the overdispersion parameter.</p>

<p>Does someone knows if there exist a build-in code in R that could be used to obtain this?</p>
","404309","","","user4275591","2014-12-08 10:37:04","2014-12-08 10:37:04","How to fit a negative binomial distribution in R while incorporating censoring","<r>","1","1","1","","","CC BY-SA 3.0","3476928","4452","4452","r","404559","3625322","3607736","",""
"3478923","1","3480305","","2010-08-13 16:36:32","","4","903","<p>I am trying to display the actual values of the parameters that were supplied when the function was called. `match.call' does something along the lines I want but it does not evaluate variables. For example</p>

<pre><code>foo &lt;- function(x) match.call()
foo(2)
</code></pre>

<p>prints </p>

<pre><code>foo(x = 2)
</code></pre>

<p>and I am happy with that. However:</p>

<pre><code>xxx &lt;- 2
foo(xxx)
</code></pre>

<p>will print</p>

<pre><code>foo(x = xxx)
</code></pre>

<p>instead of <code>foo(x = 2)</code> as I would like to have it. </p>

<p>I have tried various combinations of <code>substitute</code>, <code>eval</code>, and company, but was not succesful.</p>
","245603","","","","","2014-11-14 13:21:05","Displaying the actual parameter list of the function during execution","<r><function-call>","2","0","3","","","CC BY-SA 2.5","3478923","4452","4452","r","404559","3625322","3607736","",""
"3479472","1","3479937","","2010-08-13 17:54:47","","2","478","<p>I need to take a data.frame in the format of:</p>

<pre><code>  id1 id2 mean start end
1   A   D    4    12  15
2   B   E    5    14  15
3   C   F    6     8  10
</code></pre>

<p>and generate duplicate rows based on the difference in <code>start - end</code>. For example, I need 3 rows for the first row, 1 for the second, and 2 for the third. The start and end fields should be in sequential order in the final data.frame. The end result for this data.frame should be:</p>

<pre><code>   id1 id2 mean start end
1    A   D    4    12  13
2    A   D    4    13  14
3    A   D    4    14  15
21   B   E    5    14  15
31   C   F    6     8   9
32   C   F    6     9  10
</code></pre>

<p>I have written this function which works, but isn't written in very R'esque code:</p>

<pre><code>dupData &lt;- function(df){
    diff &lt;- abs(df$start - df$end)
    ret &lt;- {}

    #Expand our dataframe into the appropriate number of rows.
    for (i in 1:nrow(df)){
        for (j in 1:diff[i]){
            ret &lt;- rbind(ret, df[i,])
        } 
    }

    #If matching ID1 and ID2, generate a sequential ordering of start &amp; end dates
    for (k in 2:nrow(ret) - 1) {
        if ( ret[k,1] == ret[k + 1, 1] &amp; ret[k, 2] == ret[k, 2]  ){ 
            ret[k, 5] &lt;- ret[k, 4] + 1
            ret[k + 1, 4] &lt;- ret[k, 5]  
        }
    }
    return(ret)
}
</code></pre>

<p>Does anyone have suggestions on how to optimize this code? Is there a function in <code>plyr</code> which may be applicable?</p>

<pre><code>#sample daters
df &lt;- data.frame(id1 = c(""A"", ""B"", ""C"")
        , id2 = c(""D"", ""E"", ""F"")
        , mean = c(4,5,6)  
        , start = c(12,14,8)
        , end = c(15, 15, 10)
)
</code></pre>
","415635","","","","","2017-12-14 06:58:07","Reshape data based on column in dataframe","<r><reshape><plyr>","4","0","","","","CC BY-SA 2.5","3479472","4452","4452","r","404559","3625322","3607736","",""
"3479476","1","3479516","","2010-08-13 17:55:14","","6","11057","<p>I'm working on a script in R that processes some data and writes an output file.  I'd like that output file to be named in a way that reflects the input file, and I'd like something about the file to be unique so older files aren't overwritten.</p>

<p>So I thought to use a timestamp.  But this isn't working the way I'd hoped, and I'd like to understand what's happening and how to do this correctly.</p>

<p>This is how I'm trying to name the file (file_base is the name of the input file):</p>

<pre><code>now&lt;-format(Sys.time(), ""%b%d%H%M%S"")
outputfile&lt;-cat(file_base, ""-"",now,""-output.txt"", sep="""")
</code></pre>

<p>The output of this pair of functions looks great.  But executing 'outputfile' subsequently results in 'NULL' as output.</p>

<p>What's happening here and how can I create an output filename with the properties that I'd like?</p>
","392742","","","","","2017-08-04 17:00:30","problem creating dynamic file name in R","<r>","3","0","1","","","CC BY-SA 2.5","3479476","4452","4452","r","404559","3625322","3607736","",""
"3480222","1","3480257","","2010-08-13 19:47:29","","14","4129","<p>Is there a simple way to convert data in a dataframe from fraction to decimal format?  I have a column of data that that's been recorded as a fraction:</p>

<p>Levels:   1/2  1/3  1/4  1/5  1/8  2/3</p>

<p>Is there a quick way to convert it to .5 .333 25 .2 .125 .67?  </p>
","416566","","","","","2010-08-16 18:17:44","R- converting data from fraction to decimal","<r>","1","0","5","2017-06-01 11:27:56","","CC BY-SA 2.5","3480222","4452","4452","r","404559","3625322","3607736","",""
"3480281","1","3480324","","2010-08-13 19:58:05","","0","591","<p>I have a data frame with a quantitative variable, x, and several different factors, f1, f2, ...,fn.  The number of levels is not constant across factors.</p>

<p>I want to create a (single) plot of densities of x by factor level fi.  </p>

<p>I know how to hand code this for a specific factor.  For example, here is the plot for a factor with two levels.</p>

<pre><code># set up the background plot 
plot(density(frame$x[frame$f1==""level1""]))

# add curves 
lines(density(frame$x[frame$f1==""level2""]))
</code></pre>

<p>I could also do this like so:</p>

<pre><code># set up the background plot 
plot(NA)

# add curves 
lines(density(frame$x[frame$f1==""level1""]))
lines(density(frame$x[frame$f1==""level2""]))
</code></pre>

<p>What I'd like to know is how can I do this if I only specify the factor as input.  I don't even know how to write a for loop that would do what I need, and I have the feeling that the 'R way' would avoid for loops.</p>

<p>Bonus:  For the plots, I would like to specify limiting values for the axes.  Right now I do this in this way:</p>

<pre><code>xmin=min(frame$x[frame$f1==""level1""],frame$x[frame$f1==""level2""])
</code></pre>

<p>How can I include this type of calculation in my script?</p>
","392742","","","","","2010-08-13 20:34:08","how to script in R over a factor's levels","<r>","3","0","1","","","CC BY-SA 2.5","3480281","4452","4452","r","404559","3625322","3607736","",""
"3480388","1","3480460","","2010-08-13 20:18:16","","89","255841","<p>I'm trying to draw a smooth curve in <code>R</code>. I have the following simple toy data:</p>

<pre><code>&gt; x
 [1]  1  2  3  4  5  6  7  8  9 10
&gt; y
 [1]  2  4  6  8  7 12 14 16 18 20
</code></pre>

<p>Now when I plot it with a standard command it looks bumpy and edgy, of course:</p>

<pre><code>&gt; plot(x,y, type='l', lwd=2, col='red')
</code></pre>

<p>How can I make the curve smooth so that the 3 edges are rounded using estimated values? I know there are many methods to fit a smooth curve but I'm not sure which one would be most appropriate for this type of curve and how you would write it in <code>R</code>. </p>
","60628","","4497050","","2016-12-08 04:45:09","2019-04-08 21:49:52","How to fit a smooth curve to my data in R?","<r><plot><curve-fitting>","8","5","47","","","CC BY-SA 3.0","3480388","4452","4452","r","404559","3625322","3607736","",""
"3480813","1","3481080","","2010-08-13 21:33:48","","10","11031","<p>Suppose I have a data frame with columns c1, ..., cn, and a function f that takes in the columns of this data frame as arguments.
How can I apply f to each row of the data frame to get a new data frame?</p>

<p>For example,</p>

<pre><code>x = data.frame(letter=c('a','b','c'), number=c(1,2,3))
# x is
# letter | number
#      a | 1
#      b | 2
#      c | 3

f = function(letter, number) { paste(letter, number, sep='') }

# desired output is
# a1
# b2
# c3
</code></pre>

<p>How do I do this? I'm guessing it's something along the lines of {s,l,t}apply(x, f), but I can't figure it out.</p>
","420029","","","","","2010-08-13 22:26:43","mapping over the rows of a data frame","<r>","3","1","1","","","CC BY-SA 2.5","3480813","4452","4452","r","404559","3625322","3607736","",""
"3482513","1","3482697","","2010-08-14 07:58:44","","3","2797","<p>I have been trying to define multiple combo boxes in R using the tcltk package but to no avail.  I am using the below code.  My inspiration was <a href=""http://bioinf.wehi.edu.au/~wettenhall/RTclTkExamples/DropDown.html"" rel=""nofollow noreferrer"">here</a>, however I can't seem to just <em>label</em> them comboBox1, comboBox2, etc... so I decided to try and set their output values into a vector... but their output values don't make any sense to me... any ideas out there?</p>

<p>many thanks</p>

<pre><code>require(tcltk)
tclRequire(""BWidget"")
tt &lt;- tktoplevel()
tkgrid(tklabel(tt,text=""What's your favorite fruits?""))
fruit &lt;- c(""Apple"",""Orange"",""Banana"",""Pear"")
num &lt;- c(0:3)
num.fruit &lt;- cbind(num, fruit)
#####1st box
comboBox &lt;- tkwidget(tt,""ComboBox"",editable=FALSE,values=num.fruit[,2])
tkgrid(comboBox)
Cbox1&lt;- comboBox
tkfocus(tt)

######2nd box

comboBox &lt;- tkwidget(tt,""ComboBox"",editable=FALSE,values=num.fruit[,2])
tkgrid(comboBox)
Cbox2 &lt;- comboBox
###

##preliminary wrap-ip to pass to OnOK function
pref1 &lt;- tcl(Cbox1,""getvalue"")
pref2 &lt;- tcl(Cbox2,""getvalue"")

  Prefs &lt;- c(pref1,pref2)
######action on OK button
OnOK &lt;- function()
{
    fruitChoice &lt;- fruits[as.numeric(tclvalue(tcl(Prefs,""getvalue"")))+1]

    tkdestroy(tt)
    msg &lt;- paste(""Good choice! "",fruitChoice,""s are delicious!"",sep="""")
    tkmessageBox(title=""Fruit Choice"",message=msg)

}
OK.but &lt;-tkbutton(tt,text=""   OK   "",command=OnOK)
tkgrid(OK.but)
tkfocus(tt)
</code></pre>
","416798","","301832","","2010-08-15 06:29:54","2010-08-15 06:29:54","multiple comboboxes in R using tcltk","<r><tk><combobox>","2","0","2","","","CC BY-SA 2.5","3482513","4452","4452","r","404559","3625322","3607736","",""
"3483203","1","3483657","","2010-08-14 12:12:28","","17","38254","<p>Is there a way to create a boxplot in R that will display with the box (somewhere) an ""N=(sample size)""?  The varwidth logical adjusts the width of the box on the basis of sample size, but that doesn't allow comparisons between different plots.</p>

<p>FWIW, I am using the boxplot command in the following fashion, where 'f1' is a factor:</p>

<pre><code>boxplot(xvar ~ f1, data=frame, xlab=""input values"", horizontal=TRUE)
</code></pre>
","392742","","232888","","2013-06-27 11:04:07","2016-11-10 10:53:42","create a boxplot in R that labels a box with the sample size (N)","<r><graph><plot><label><boxplot>","5","0","8","","","CC BY-SA 2.5","3483203","4452","4452","r","404559","3625322","3607736","",""
"3485228","1","3485256","","2010-08-14 21:41:22","","29","47750","<p>How do I view source code in R? For example, for function <code>portfolio.optim</code></p>

<pre><code>&gt; require(tseries)
&gt; portfolio.optim
function (x, ...) 
UseMethod(""portfolio.optim"")
&lt;environment: namespace:tseries&gt;

&gt; methods(portfolio.optim)
[1] portfolio.optim.default* portfolio.optim.ts*     

Non-visible functions are asterisked
&gt; portfolio.optim.ts
Error: object 'portfolio.optim.ts' not found
&gt; portfolio.optim.default
Error: object 'portfolio.optim.default' not found
</code></pre>

<p>When I install R package locally, does it download source code as well? Where does it store on the computer? Does anyone know?</p>
","236215","","1768232","","2015-07-21 02:38:56","2015-07-21 02:38:56","view source code in R","<r>","4","1","19","2013-11-05 07:30:23","","CC BY-SA 2.5","3485228","4452","4452","r","404559","3625322","3607736","",""
"3485456","1","3486057","","2010-08-14 22:54:33","","34","14525","<p>What are the functions that you wrote, don't quite deserve a package, but you wish to share?</p>

<p>I will throw in some of mine:</p>

<pre><code>destring &lt;- function(x) {
    ## convert factor to strings
    if (is.character(x)) {
        as.numeric(x)
    } else if (is.factor(x)) {
        as.numeric(levels(x))[x]
    } else if (is.numeric(x)) {
        x
    } else {
        stop(""could not convert to numeric"")
    }
}

pad0 &lt;- function(x,mx=NULL,fill=0) {
  ## pad numeric vars to strings of specified size
  lx &lt;- nchar(as.character(x))
  mx.calc &lt;- max(lx,na.rm=TRUE)
  if (!is.null(mx)) {
    if (mx&lt;mx.calc) {
      stop(""number of maxchar is too small"")
    }
  } else {
    mx &lt;- mx.calc
  }
  px &lt;- mx-lx
  paste(sapply(px,function(x) paste(rep(fill,x),collapse="""")),x,sep="""")
}


.eval &lt;- function(evaltext,envir=sys.frame()) {
  ## evaluate a string as R code
  eval(parse(text=evaltext), envir=envir)
}

## trim white space/tabs
## this is marek's version
trim&lt;-function(s) gsub(""^[[:space:]]+|[[:space:]]+$"","""",s)
</code></pre>
","143377","","143377","","2010-08-18 01:28:50","2019-08-06 09:07:59","Useful little functions in R?","<r>","7","6","51","2011-11-18 04:48:31","2010-08-14 22:54:33","CC BY-SA 2.5","3485456","4452","4452","r","404559","3625322","3607736","",""
"3485861","1","3486332","","2010-08-15 01:40:28","","0","590","<p>Gnuplot allows for three dimensional datasets, which are a set of tables separated by empty lines, for instance:</p>

<pre><code>54.32,16.17,7.42,4.28,3.09,2.11,1.66,1.22,0.99,0.82,7.9

54.63,15.50,8.53,5.31,3.75,1.66,1.14,0.83,0.94,0.52,7.18
56.49,16.67,6.38,3.69,2.80,1.45,1.12,0.89,1.12,0.89,8.50
56.35,16.26,7.76,3.57,2.62,1.89,1.05,1.15,0.63,1.05,7.66

53.79,16.19,6.47,4.57,3.47,1.74,1.95,1.37,1.00,0.74,8.73
55.63,16.28,7.87,3.72,2.48,1.99,1.40,1.19,0.70,1.08,7.65
54.09,15.76,7.96,4.70,2.77,2.21,1.27,1.27,0.66,1.11,8.19
53.79,16.19,6.47,4.57,3.47,1.74,1.95,1.37,1.00,0.74,8.73

...
</code></pre>

<p>This is for instance to show a dataset evolving through, for instance, time. In Gnuplot, you can then select which dataset (using it's index and the keyword, huh, <strong>index</strong> IIRC) you want to use for a given plot.</p>

<p>I've been using R, and up to now, I have been manually feeding it datasets one at a time, using the scan/table functions. Instead of having one big file with all the datasets in them, I have one file per dataset, and I create the tables one at a time.</p>

<p>Is there a (built-in, or very simple) way to read the aggregate datasets all at once, in such a way that I would have</p>

<pre><code>dataset &lt;- neatInput(""my-aggregate-data"")
dataset[1]    # first data set
dataset[2]    # second data set
...
</code></pre>

<p>or something similar?</p>
","408734","","4370109","","2015-12-03 21:02:58","2015-12-03 21:02:58","Reading 3-dimensional datasets into R","<r><statistics><dataset><gnuplot>","2","0","1","","","CC BY-SA 2.5","3485861","4452","4452","r","404559","3625322","3607736","",""
"3486575","1","3486685","","2010-08-15 07:32:43","","2","4518","<p>I am using <code>open( my $command_out, ""-|"", $command_string )</code> to execute a command and process its output on the fly  (not having to wait for the command to finish first, as in <code>system()</code>).</p>

<p>I noticed that when I call some R scripts this way, some of R messages are printed to the screen (e.g. <code>Loading required package: ...</code>). I guess this is because R sends this output to stderr (? although these are not really errors).</p>

<p>Is it possible to direct this output too to <code>$command_out</code> when <code>open()</code>-ing so the screen will remain clean?</p>
","377031","","321731","","2014-05-12 16:58:46","2019-06-17 16:05:49","Direct STDERR when opening pipe in perl","<r><perl><pipe><execution>","5","0","","","","CC BY-SA 2.5","3486575","4452","4452","r","404559","3625322","3607736","",""
"3487329","1","3487684","","2010-08-15 12:20:06","","24","19209","<p>I have a few R packages installed under <code>~/R/i486-pc-linux-gnu-library/2.11</code>. </p>

<p>I would like to make them, and any other R package I install from now on, available to all R users. I don't mind re-installing the packages I already have in a neutral place (they are just a few). So how do I do that?</p>
","377031","","","","","2015-02-27 10:10:51","Installing R packages available for all users","<r><installation><packages>","3","0","10","","","CC BY-SA 2.5","3487329","4452","4452","r","404559","3625322","3607736","",""
"3489288","1","","","2010-08-15 21:14:02","","1","346","<p>I have an <code>R</code> newbie question about storing data. </p>

<p>I have 3 different files, each of which contains one column. Now I would like to read them into a structure <code>x</code> so that <code>x[1]</code> is the column of the first file, <code>x[2]</code> is the column of the second file, etc. So <code>x</code> would be a two-dim vector.</p>

<p>I tried this, but it wants <code>x[f]</code> to be a single number rather than a whole vector:</p>

<pre><code>files &lt;- c(""dir1/data.txt"", ""dir2b/data.txt"", ""dir3/data2.txt"")
for(f in 1:length(files)) {
  x[f] &lt;- scan(files[f])
}
</code></pre>

<p>How can I fix this?</p>
","60628","","1505120","","2015-09-20 11:12:57","2015-09-20 11:12:57","R: How to read different files into a two-dim vector?","<r>","1","0","","","","CC BY-SA 2.5","3489288","4452","4452","r","404559","3625322","3607736","",""
"3489953","1","","","2010-08-16 00:56:34","","1","2875","<p>How do I normalize/scale matrices in R by column. For example, when I compute eigenvectors of a matrix, R returns:</p>

<pre><code>&gt; eigen(matrix(c(2,-2,-2,5),2,2))$vectors
       [,1]       [,2]
[1,] -0.4472136 -0.8944272
[2,]  0.8944272 -0.4472136

// should be normalized to
     [,1] [,2]
[1,]   -1   -2
[2,]    2   -1
</code></pre>

<p>The function ""scale"" subtracts the means and divided by standard deviation by column which does not help in this case. How do I achieve this?</p>
","236215","","","","","2010-08-16 01:26:34","normalizing matrices in R","<r><linear-algebra>","2","0","","","","CC BY-SA 2.5","3489953","4452","4452","r","404559","3625322","3607736","",""
"3490196","1","3490213","","2010-08-16 02:09:42","","9","1671","<p>I need to do a rounding like this and convert it as a character:</p>

<pre><code>as.character(round(5.9999,2))
</code></pre>

<p>I expect it to become <code>6.00</code>, but it just gives me <code>6</code></p>

<p>Is there anyway that I can make it show <code>6.00</code>?</p>
","373908","","680068","","2016-10-03 13:27:38","2017-06-26 16:09:21","How to make ""pretty rounding""?","<r><rounding>","3","0","","","","CC BY-SA 3.0","3490196","4452","4452","r","404559","3625322","3607736","",""
"3490918","1","","","2010-08-16 06:00:20","","1","702","<p>I've got a first vector, let's say x that consists only of 1's and -1's. Then, I have a second vector y that consists of 1's, -1's, and zeros. Now, I'd like to create a vector z that contains in index i a 1 if <code>x[i]</code> equals 1 and a 1 exists within the vector y between the n precedent elements <code>(y[(i-n):i])</code>...</p>

<p>more formally: <code>z &lt;- ifelse(x == 1 &amp;&amp; 1 %in% y[(index(y)-n):index(y)],1,0)</code></p>

<p>I'm looking to create such a vector in R without looping or recursion. The proposition above does not work since it does not recognize to take the expression <code>y[(index(y)-n):index(y)]</code> element by element.</p>

<p>Thanks a lot for your support</p>
","421403","","176923","","2010-08-16 06:03:32","2010-08-16 09:32:08","Creation of a specific vector without loop or recursion in R","<r><vectorization>","2","0","","","","CC BY-SA 2.5","3490918","4452","4452","r","404559","3625322","3607736","",""
"3491175","1","3493311","","2010-08-16 07:00:32","","1","14915","<p>This histogram is really ugly:</p>

<pre><code>hist(rbinom(10000, 20000, 0.0001),freq=F,right=F)
</code></pre>

<p>I don't want spaces between my bars. I tried different <code>breaks=</code> methods but they all produce similar results. Any ideas?</p>

<p>I also want each bin value (or mean values )to be printed under the <strong>center</strong> of it's bar.</p>
","377031","","","","","2010-08-16 13:47:42","adjusting x-axis in R histograms","<r><plot><histogram>","4","0","1","","","CC BY-SA 2.5","3491175","4452","4452","r","404559","3625322","3607736","",""
"3491421","1","","","2010-08-16 07:49:54","","3","5700","<p>I wonder if it's possible to slice a graph respectively a .png file generated with ggsave. If I do not want to use the default legend ort title and set it to FALSE it leaves me with a lot of white space. So is there an R way to just cut the file several pixels above and below the graph itself? </p>

<p>Thx in advance!</p>
","366256","","","","","2013-05-22 03:21:22","Slicing plots generated by ggplot2","<r><ggplot2>","1","0","2","","","CC BY-SA 2.5","3491421","4452","4452","r","404559","3625322","3607736","",""
"3492379","1","14370455","","2010-08-16 10:37:57","","142","200616","<p>I have a data.frame which I would like to convert to a list by rows, meaning each row would correspond to its own list elements. In other words, I would like a list that is as long as the data.frame has rows.</p>

<p>So far, I've tackled this problem in the following manner, but I was wondering if there's a better way to approach this.</p>

<pre><code>xy.df &lt;- data.frame(x = runif(10),  y = runif(10))

# pre-allocate a list and fill it with a loop
xy.list &lt;- vector(""list"", nrow(xy.df))
for (i in 1:nrow(xy.df)) {
    xy.list[[i]] &lt;- xy.df[i,]
}
</code></pre>
","322912","","","","","2019-10-24 12:23:27","data.frame rows to a list","<list><r><dataframe>","12","0","40","","","CC BY-SA 2.5","3492379","4452","4452","r","404559","3625322","3607736","",""
"3492741","1","3493043","","2010-08-16 11:41:54","","5","939","<p>Given a list (length = n) of 2x2 matrices, how do I calculate the sum of all those matrices (and get a 2x2 matrix) ?</p>

<p>How can I do it, if instead of a list I have those matrices in a (2 x 2 x n) dimensional array ?</p>
","299077","","","","","2010-08-16 12:23:41","Calculate the sum of matrices in a list or a 3D array","<arrays><list><r>","2","2","1","","","CC BY-SA 2.5","3492741","4452","4452","r","404559","3625322","3607736","",""
"3494593","1","3494767","","2010-08-16 15:23:40","","98","29192","<p>I frequently use kernel density plots to illustrate distributions. These are easy and fast to create in R like so:</p>

<pre><code>set.seed(1)
draws &lt;- rnorm(100)^2
dens &lt;- density(draws)
plot(dens)
#or in one line like this: plot(density(rnorm(100)^2))
</code></pre>

<p>Which gives me this nice little PDF:</p>

<p><a href=""https://i.stack.imgur.com/lAOVK.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/lAOVK.png"" alt=""enter image description here""></a></p>

<p>I'd like to shade the area under the PDF from the 75th to 95th percentiles. It's easy to calculate the points using the <code>quantile</code> function:</p>

<pre><code>q75 &lt;- quantile(draws, .75)
q95 &lt;- quantile(draws, .95)
</code></pre>

<p>But how do I shade the the area between <code>q75</code> and <code>q95</code>?</p>
","37751","","37751","","2017-05-01 10:33:54","2020-09-02 21:48:59","Shading a kernel density plot between two points.","<r><plot>","5","1","58","","","CC BY-SA 3.0","3494593","4452","4452","r","404559","3625322","3607736","",""
"3494719","1","3495283","","2010-08-16 15:34:28","","2","264","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/2347410/how-can-i-declare-a-thousand-separator-in-read-csv"">How can I declare a thousand separator in read.csv?</a>  </p>
</blockquote>



<p>I actually have a solution for this problem, but I am curious if there is a better way to do what I was trying to do.  </p>

<p>I scraped some data from the majorleaguesoccer.com and read it into R using </p>

<pre><code>mls.reg.tmp &lt;- read.table(""../data/mls_reg_season_20100812.csv"",
                          header = F, sep = "";"")
</code></pre>

<p>Note that I used sep = "";"" because some of the attendance figures where in the thousands on the websites and I scraped ""as is"", e.g.,  </p>

<pre><code>&gt; str(mls.reg.dat$a_tot)
 Factor w/ 164 levels "" 166,060"","" 171,282"",..: 132 45 159 153 46 160 
158 148 150 98 ...
</code></pre>

<p>In hindsight, I should've just removed the commas in python in the pre-processing step of this project.  I should also point out that there were some text fields in the data set as well.  </p>

<pre><code>&gt; str(mls.reg.dat$team)
 Factor w/ 20 levels ""Chicago Fire"",..: 4 9 19 11 3 10 13 16 5 6 ...
</code></pre>

<p>Given that I want to use the attendance data as a numeric value, I converted using as.numeric and gsub.  As an example in a call to ggplot:</p>

<pre><code>ggplot(data = mls.reg.dat, aes(x = as.numeric(gsub("","", """", 
  mls.reg.dat$a_tot)), y = sog)) + geom_point() + 
  facet_wrap(~ team)
</code></pre>

<p>Question:  Is this the most efficient way of working with data such as this?  Or is there a specialized function for doing something along these lines?  </p>

<p>I'm posting the question here because I spent quite a bit of time (> 30 min) just working in this simple solution and thought that others might benefit from this as well.  </p>
","404650","","-1","","2017-05-23 12:21:55","2010-08-16 19:26:06","Manipulating values with commas","<r>","1","0","","2011-09-01 05:37:56","","CC BY-SA 2.5","3494719","4452","4452","r","404559","3625322","3607736","",""
"3496429","1","3496626","","2010-08-16 19:08:15","","4","1272","<p>Say I want to have a simple web app that takes some user input, performs a quick calculation in some predefined R script, and returns some cool looking graphic with say ggplot. One way to do this would be:</p>

<ol>
<li>Have PHP accept some input from a web form</li>
<li>Sanitize the user input in PHP</li>
<li>Send the arguments to some pre-written R script using some combination of the PHP exec() command and Rscript</li>
<li>R does some calculations and saves the plot graphic to the server as well as some meta info to a MySQL database</li>
<li>The client can then access their cool new graphic from their web browser</li>
</ol>

<p>This seems fairly straight forward to me.  Thus my question is, what advantages would the rapache package have over the process described?</p>
","355431","","","","","2010-08-16 19:32:22","Rscript + PHP exec() command vs rapache","<r><rapache>","1","0","1","","","CC BY-SA 2.5","3496429","4452","4452","r","404559","3625322","3607736","",""
"3496536","1","3498066","","2010-08-16 19:22:03","","5","7550","<p>I have time series data (I've posted it here as a data.frame):</p>

<pre><code>x &lt;- structure(list(date = structure(c(1264572000, 1266202800, 1277362800, 
1277456400, 1277859600, 1278032400, 1260370800, 1260892800, 1262624400, 
1262707200), class = c(""POSIXt"", ""POSIXct""), tzone = """"), data = c(-0.00183760994446658, 
0.00089738603087497, 0.000423513598318936, 0, -0.00216496690393131, 
-0.00434836817931339, -0.0224199153445617, 0.000583823085470003, 
0.000353088613905206, 0.000470295331234771)), .Names = c(""date"", 
""data""), row.names = c(""1"", ""2"", ""3"", 
""4"", ""5"", ""6"", ""7"", ""8"", ""9"", ""10""
), class = ""data.frame"")
</code></pre>

<p>What's the best way to plot this as a bar plot in ggplot that would show the total value per month (with the month name as text)?</p>

<p>I can do this manually by adding a month field:</p>

<pre><code>x$month &lt;- format(x$date, format=""%B"")
ddply(x, .(month), function(x) sum(x[, ""data""]))
</code></pre>

<p>Then plotting this independently, but the months are not ordered correctly using this approach (suppose that I need to create an ordered factor?); I am also presuming that there's an ""easier"" way with ggplot.</p>
","171249","","","","","2010-08-16 23:11:34","Barplot totals by month with ggplot?","<r><ggplot2><time-series>","1","0","5","","","CC BY-SA 2.5","3496536","4452","4452","r","404559","3625322","3607736","",""
"3496882","1","3497117","","2010-08-16 20:03:20","","3","1590","<p>When I run solve.QP on my problem, I get the following error from R:</p>

<pre><code>Error in solve.QP(sigma, rep(0, 5), t(Amat), bvec, meq = 2) : 
  matrix D in quadratic function is not positive definite!
</code></pre>

<p>My sigma matrix is symmetric but is not positive definite. Why is this needed? If I solve it myself using Lagrangian functions, I am able to get the solution. Then why is R imposing this requirement?</p>
","236215","","","","","2016-08-25 04:40:16","solve.QP require D to be symmetric positive definite in R","<r><minimize><solver>","2","0","","","","CC BY-SA 2.5","3496882","4452","4452","r","404559","3625322","3607736","",""
"3497129","1","","","2010-08-16 20:40:11","","0","1019","<p>Is there R solver function similar to solve.QP but for non linear constraints? Also, is there another generic solver for cubic or higher degree contraints and minimum/maximum functions?</p>
","236215","","236215","","2010-08-18 03:55:18","2010-08-18 03:55:18","R solver for non linear constraints","<r><max><minimum>","1","0","","","","CC BY-SA 2.5","3497129","4452","4452","r","404559","3625322","3607736","",""
"3497464","1","3497515","","2010-08-16 21:20:07","","33","18684","<p>In R, I have two vectors:</p>

<pre><code>a &lt;- c(1, 2, 3, 4)
b &lt;- c(NA, 6, 7, 8)
</code></pre>

<p>How do I find the element-wise mean of the two vectors, removing NA, without a loop? i.e. I want to get the vector of </p>

<pre><code>(1, 4, 5, 6)
</code></pre>

<p>I know the function <code>mean()</code>, I know the argument <code>na.rm = 1</code>. But I don't know how to put things together. To be sure, in reality I have thousands of vectors with NA appearing at various places, so any dimension-dependent solution wouldn't work. Thanks.</p>
","291877","","","","","2019-11-04 10:54:32","Element-wise mean in R","<r><mean>","3","0","1","","","CC BY-SA 2.5","3497464","4452","4452","r","404559","3625322","3607736","",""
"3501528","1","3501803","","2010-08-17 10:40:14","","2","2818","<p>A question about this R code:</p>

<pre><code>library(RODBC)

ch &lt;- tryCatch(odbcConnect(""RTEST""),
  warning=function(w){print(""FAIL! (warning)"");return(NA)},
  error=function(e){print(paste(""ERROR:"",geterrmessage()));return(NA)})

df &lt;- tryCatch(sqlQuery(ch,""SELECT Test from tblTest""),
  warning=function(w){print(""FAIL! (warning)"");return(NA)},
  error=function(e){print(paste(""ERROR:"",geterrmessage()));return(NA)})

odbcClose(ch)
</code></pre>

<p>Code works fine for errors (forced by omitting the required paramaters in the code) in both cases (warning- and error part are almost exactly the same): I get a NA value and an errormessage.</p>

<p>Also for an error with sqlQuery (give an invalid DSN): NA value and an errormessage.</p>

<p>But not for warnings with sqlQuery. No message output, but <code>df</code> contains the message (so no NA). Why?</p>
","293843","","293843","","2010-08-17 12:25:58","2017-06-20 10:09:41","RODBC functions and errors/warnings","<r><rodbc>","2","3","1","","","CC BY-SA 2.5","3501528","4452","4452","r","404559","3625322","3607736","",""
"3502095","1","","","2010-08-17 11:56:24","","2","861","<p>I am running R-2.11.1-x64, on a Win7 machine, with all packages updated through the update command.
I am trying to install the Deducer package. For that I ran:</p>

<pre><code>install.packages(""Deducer"",,""http://rforge.net/"")
install.packages('iplots',,'http://www.rforge.net/')
install.packages('JavaGD',,'http://www.rforge.net/')
install.packages('rJava',,'http://www.rforge.net/')
install.packages('iWidgets',,'http://www.rforge.net/')
install.packages('JGR',,'http://www.rforge.net/')
</code></pre>

<p>Now, when I type </p>

<pre><code>&gt; library(Deducer)
</code></pre>

<p>I get the error: </p>

<pre><code>Error: package 'JavaGD' is not installed for 'arch=x64'
</code></pre>

<p>How to solve this? I tried to solve it by getting the x64-version of JavaGD from the rforge website and installing it manually. This yields</p>

<pre><code>&gt; package 'JavaGD' successfully unpacked and MD5 sums checked
</code></pre>

<p>but doesn'solve the error message when I try to start up Deducer. </p>

<p>What can solve this?</p>

<p>Thanks, Peter</p>
","386820","","168747","","2010-08-17 12:56:22","2010-08-19 19:41:28","Error: package 'JavaGD' is not installed for 'arch=x64'","<r>","1","0","1","","","CC BY-SA 2.5","3502095","4452","4452","r","404559","3625322","3607736","",""
"3502661","1","3502956","","2010-08-17 13:04:36","","3","716","<p>I'm porting an application written in R that currently runs under Windows over to Linux (Fedora 12) and am having some problems. Currently, under Windows I invoke R to run as a batch process as:</p>

<p>Rterm.exe  --no-save --no-restore --quiet &lt; myRprog.r  > myRprog.log 2>&amp;1</p>

<p>This little batch gem executes the program myRprog.r and outputs the processed statements and errors/warnings to myRprog.log and the the executed results into myRprog.lst.</p>

<p>I would like to recreate the same behavior under Linux. I've tried many different variations of the following without success.</p>

<p>R CMD BATCH myRprog.r myRprog.lst myRprog.log</p>

<p>Is there a way to emulate the behavior of writing two files out (log and listing) under Linux using batch?</p>

<p>Thanks.</p>

<p>Phil Rack</p>
","174029","","","","","2010-08-17 14:15:48","Invoking R in Linux","<r>","3","0","","","","CC BY-SA 2.5","3502661","4452","4452","r","404559","3625322","3607736","",""
"3502925","1","3502950","","2010-08-17 13:31:59","","49","24087","<p>Is it possible to use include files in R like in most programming languages, for example C?</p>
","293843","","293843","","2012-05-22 12:41:29","2012-05-22 12:41:29","Include files R?","<r>","1","1","7","","","CC BY-SA 2.5","3502925","4452","4452","r","404559","3625322","3607736","",""
"3503811","1","","","2010-08-17 14:58:32","","7","1790","<p>If i want to look through a long output or variable in R, is there an equivalent to the bash command more?</p>
","186248","","","","","2011-10-29 04:25:56","Is there an R equivalent to the bash command more?","<r>","7","2","2","","","CC BY-SA 2.5","3503811","4452","4452","r","404559","3625322","3607736","",""
"3505701","1","7141669","","2010-08-17 18:31:12","","1086","414018","<p>Whenever I want to do something ""map""py in R, I usually try to use a function in the <code>apply</code> family. </p>

<p>However, I've never quite understood the differences between them -- how {<code>sapply</code>, <code>lapply</code>, etc.} apply the function to the input/grouped input, what the output will look like, or even what the input can be -- so I often just go through them all until I get what I want.</p>

<p>Can someone explain how to use which one when?</p>

<p>My current (probably incorrect/incomplete) understanding is...</p>

<ol>
<li><p><code>sapply(vec, f)</code>: input is a vector. output is a vector/matrix, where element <code>i</code> is <code>f(vec[i])</code>, giving you a matrix if <code>f</code> has a multi-element output</p></li>
<li><p><code>lapply(vec, f)</code>: same as <code>sapply</code>, but output is a list?</p></li>
<li><code>apply(matrix, 1/2, f)</code>: input is a matrix. output is a vector, where element <code>i</code> is f(row/col i of the matrix)</li>
<li><code>tapply(vector, grouping, f)</code>: output is a matrix/array, where an element in the matrix/array is the value of <code>f</code> at a grouping <code>g</code> of the vector, and <code>g</code> gets pushed to the row/col names</li>
<li><code>by(dataframe, grouping, f)</code>: let <code>g</code> be a grouping. apply <code>f</code> to each column of the group/dataframe. pretty print the grouping and the value of <code>f</code> at each column.</li>
<li><code>aggregate(matrix, grouping, f)</code>: similar to <code>by</code>, but instead of pretty printing the output, aggregate sticks everything into a dataframe.</li>
</ol>

<p>Side question: I still haven't learned plyr or reshape -- would <code>plyr</code> or <code>reshape</code> replace all of these entirely?</p>
","231588","","680068","","2018-10-03 06:39:33","2020-07-17 13:47:02","Grouping functions (tapply, by, aggregate) and the *apply family","<r><lapply><sapply><tapply><r-faq>","10","5","1189","","","CC BY-SA 3.0","3505701","4452","4452","r","404559","3625322","3607736","",""
"3506007","1","3506020","","2010-08-17 19:08:15","","28","53878","<p>I have some R code inside a file called analyse.r. I would like to be able to, from the command line (CMD), run the code in that file without having to pass through the R terminal and I would also like to be able to pass parameters and use those parameters in my code, something like the following pseudocode:</p>

<pre><code>C:\&gt;(execute r script) analyse.r C:\file.txt
</code></pre>

<p>and this would execute the script and pass ""C:\file.txt"" as a parameter to the script and then it could use it to do some further processing on it.</p>

<p>How do I accomplish this?</p>
","400055","","1451346","","2017-06-09 20:52:19","2020-06-01 14:59:11","Running R Code from Command Line (Windows)","<windows><command-line><r>","4","0","12","","","CC BY-SA 3.0","3506007","4452","4452","r","404559","3625322","3607736","",""
"3506444","1","3506647","","2010-08-17 20:01:45","","0","479","<p>I have several questions to do with handling some data in R:</p>

<ol>
<li><p>I am using this statement: detailsTable &lt;- read.table(file=commandArgs()[6], header=TRUE, col.names=c(""a"", ""b"", ""c"", ""d"", ""e"")) and it seems that the table is not being loaded correctly... but if I specify the path of the file I am loading excplicitly then all goes well. What am I doing wrong?</p></li>
<li><p>I plot the data contained in that table mentioned above. How do I save the plot (eg: plot.savePDF(""plot.pdf"")) to a PDF file?</p></li>
<li><p>How could I redirect the output of, for example, cor(detailsTable$a, detailsTable$b) to a file? and how do I write a simple string to a file. eg: ""Correlation of the data: "" + cor(...)</p></li>
<li><p>How do I plot the line of best fit on an existing plot?</p></li>
</ol>

<p>All of this is in R.</p>

<p>Many thanks to anyone who can help,</p>

<p>ExtremeCoder</p>
","400055","","","","","2010-08-18 09:43:39","Arguments, Plots, Outputs and Lines of best fit in R","<windows><r><plot>","3","3","","","","CC BY-SA 2.5","3506444","4452","4452","r","404559","3625322","3607736","",""
"3507451","1","3507487","","2010-08-17 22:22:10","","6","647","<p>Right now, I use a combination of Python and R for all of my data processing needs. However, some of my datasets are incredibly large and would benefit strongly from multithreaded processing. </p>

<p>For example, if there are two steps that each have to performed on a set of several millions of data points, I would like to be able to start the second step while the first step is still being run, using the part of the data that has already been processed through the first step.</p>

<p>From my understanding, neither Python nor R is the ideal language for this type of work (at least, I don't know how to implement it in either language). What would be the best language/implementation for this type of data processing?</p>
","391126","","","","","2010-08-18 01:01:17","Recommended language for multithreaded data work","<python><multithreading><r>","6","1","1","","","CC BY-SA 2.5","3507451","4452","4452","r","404559","3625322","3607736","",""
"3507744","1","3507948","","2010-08-17 23:23:15","","27","61493","<p>This is a newbie question in R. I am downloading yahoo finance monthly stock price data  using R where the ticker names are read from a text file. I am using a loop to read the ticker names to download the data  and putting them in a list. My problem is some ticker names may not be correct thus my code stops when it encounters this case. I want the following.</p>

<ol>
<li>skip the ticker name if it is not correct.</li>
<li>Each element in the list is a dataframe. I want the ticker names to be appended to variable names in element dataframes.</li>
<li>I need an efficient way to create a dataframe that has the closing prices as variables.</li>
</ol>

<p>Here is the sample code for the simplified version of my problem.</p>

<pre><code>library(tseries)  
tckk &lt;- c(""MSFT"", ""C"", ""VIA/B"", ""MMM"") # ticker names defined  
numtk &lt;- length(tckk);  
ustart &lt;- ""2000-12-30"";
uend &lt;- ""2007-12-30"" # start and end date  
all_dat &lt;- list(); # empty list to fill in the data  
for(i in 1:numtk)  
{  
  all_dat[[i]] &lt;- xxx &lt;- get.hist.quote(instrument = tckk[i], start=ustart, end=uend, quote = c(""Open"", ""High"", ""Low"", ""Close""), provider = ""yahoo"", compression = ""m"")  
}   
</code></pre>

<p>The code stops at the third entry but I want to skip this ticker and move on to ""MMM"". I have heard about Trycatch() function but do not know how to use it.  </p>

<p>As per question 2, I want the variable names for the first element of the list to be ""MSFTopen"", ""MSFThigh"", ""MSFTlow"", and ""MSFTclose"". Is there a better to way to do it apart from using a combination of loop and paste() function.  </p>

<p>Finally, for question 3, I need a dataframe with three columns corresponding to closing prices. Again, I am trying to avoid a loop here.</p>

<p>Thank you.</p>
","227290","","493729","","2017-07-01 19:30:51","2020-10-27 18:10:59","Downloading Yahoo stock prices in R","<r><finance>","8","2","26","","","CC BY-SA 3.0","3507744","4452","4452","r","404559","3625322","3607736","",""
"3508318","1","3508380","","2010-08-18 01:29:43","","4","15156","<p>I have a data frame with 251 observations and 45 variables. There are 6 observations in the middle of the data frame that i'd like to exclude from my analyses. All 6 belong to one level of a factor. It is easy to generate a new data frame that, when printed, appears to exclude the 6 observations. When I use the new data frame to plot variables by the factor in question, however, the supposedly excluded level is still included in the plot (sans observations). Using str() confirms that the level is still present in some form. Also, the index for the new data frame skips 6 values where the observations formerly resided.</p>

<p>How can I create a new data frame that excludes the 6 observations and does not continue to recognize the excluded factor level when plotting? Can the new data frame be made to ""re-index"", so that the new index does not skip values formerly assigned to the excluded factor level?</p>

<p>I've provided an example with made up data:</p>

<pre><code># ---------------------------------------------
# data
char &lt;- c( rep(""anc"", 4), rep(""nam"", 3), rep(""oom"", 5), rep(""apt"", 3) )
a &lt;- 1:15 / pi
b &lt;- seq(1, 8, .5)
d &lt;- rep(c(3, 8, 5), 5)
dat &lt;- data.frame(char, a, b, d)
dat

# two ways to remove rows that contain a string
datNew1 &lt;- dat[-which(dat$char == ""nam""), ]
datNew1
datNew2 &lt;- dat[grep(""nam"", dat[ ,""char""], invert=TRUE), ]
datNew2

# plots still contain the factor level that was excluded
boxplot(datNew1$a ~ datNew1$char)
boxplot(datNew2$a ~ datNew2$char)

# str confirms that it's still there
str(datNew1)
str(datNew2)
# ---------------------------------------------
</code></pre>
","230850","","33225","","2010-08-18 01:32:10","2014-02-12 15:18:53","Remove rows of a dataframe that match a factor level (and then plot the data excluding that factor level)","<r>","3","2","4","","","CC BY-SA 2.5","3508318","4452","4452","r","404559","3625322","3607736","",""
"3508333","1","3508350","","2010-08-18 01:33:21","","4","3773","<p>I'd like to convert my csv files into xts objects as efficiently as possible. I seem to be stuck though with having to first applying the read.zoo method to create a zoo objects before being able to convert it to an xts object.</p>

<pre><code>gold &lt;- read.zoo(""GOLD.CSV"", sep="","", format=""%m/%d/%Y"", header=TRUE)

Gold &lt;- as.xts (gold, order.by=index(gold), frequency=NULL)
</code></pre>

<p>Is this the most efficient way of converting my initial GOLD.CSV file into an R xts object?</p>
","296155","","271616","","2011-08-13 17:52:04","2011-08-13 17:52:04","data.frame object to xts object conversion in R","<r><dataframe><xts>","2","0","3","","","CC BY-SA 2.5","3508333","4452","4452","r","404559","3625322","3607736","",""
"3508747","1","","","2010-08-18 03:27:08","","7","906","<p>Have been using Stata to run negative binomial regressions in a replication.  Not sure what is under the hood on how Stata does this, but wanted to know if there is an R function/package that does the same thing?  The R will give me a better idea of how this works, since I can see the code. </p>
","423549","","1820446","","2013-07-01 00:33:14","2013-07-01 00:33:18","is there an R function for Stata's xtnbreg?","<r><statistics><regression><stata>","2","0","1","","","CC BY-SA 3.0","3508747","4452","4452","r","404559","3625322","3607736","",""
"3510619","1","3511841","","2010-08-18 09:26:52","","19","14995","<p>When I call <code>rnorm</code> passing a single value as mean, it's obvious what happens: a value is generated from Normal(10,1). </p>

<pre><code>y &lt;- rnorm(20, mean=10, sd=1)
</code></pre>

<p>But, I see examples of a whole vector being passed to <code>rnorm</code> (or <code>rcauchy</code>, etc..); in this case, I am not sure what the R machinery really does. For example:</p>

<pre><code>a = c(10,22,33,44,5,10,30,22,100,45,97)
y &lt;- rnorm(a, mean=a, sd=1)
</code></pre>

<p>Any ideas?</p>
","423805","","936420","","2016-10-18 17:15:46","2020-05-01 12:28:52","Calling rnorm with a vector of means","<r><vector><statistics><normal-distribution>","2","0","4","","","CC BY-SA 2.5","3510619","4452","4452","r","404559","3625322","3607736","",""
"3512779","1","3513581","","2010-08-18 13:49:12","","1","1453","<p>Using R CMD Sweave my .tex file is always generated in my HOME directory. Is it possible to change this? I mean i could mv it with a shell script, but I guess there`s some better trick to do it</p>

<p>@Dirk: 
I used the script that I posted <a href=""https://stackoverflow.com/questions/3510353/set-directory-of-files-created-by-a-shell-script"">here</a> and pdflatex does not find the file because it's always written to the HOME directory of my user. </p>
","366256","","-1","","2017-05-23 10:33:16","2012-06-30 04:38:41","How can I change the output directory of R CMD Sweave?","<r><sweave>","2","0","","","","CC BY-SA 3.0","3512779","4452","4452","r","404559","3625322","3607736","",""
"3514213","1","3514447","","2010-08-18 16:16:15","","2","3029","<p>I generate a QQ plot to compare the distribution of my ranom number generator with a beta distribution. I can do this using the usual plot commands in R via </p>

<pre><code>samples1 &lt;- read.csv(""test1-clean.dat"")
qqplot( samples1$p0, qbeta(seq(0,1,length=length(samples1$p0)),1,3) )
abline( 0, 1 )
</code></pre>

<p>but I want to use the <code>ggplot2</code> library, and I just cannot get my head around the documentation (I am a n00b when it comes to R)</p>

<p>I tried</p>

<pre><code>qplot( sample = p0, data = samples1 ) + stat_qq( distribution = qbeta, seq(0,1,length=length(samples1$p0)), 1, 3 )
</code></pre>

<p>but that leads to an error of the form</p>

<pre><code>Error: ggplot2 doesn't know how to deal with data of class numeric
</code></pre>

<p>Any suggestions? Also, good references on learning R would be great (I am familiar with C, C++, Matlab, etc, but R seems a bit odd to me right now)</p>

<p><strong>Update:</strong></p>

<p>As suggested below, I tried</p>

<pre><code>params = list(shape1 = 1, shape2 = 3, lower.tail = TRUE, log.p = FALSE)

qplot( sample = p0, data = samples3 ) + stat_qq( distribution = qbeta, dparams = params )
</code></pre>

<p>This still does not seem to work. The error I get is</p>

<pre><code>Error in function (p, shape1, shape2, ncp = 0, lower.tail = TRUE, log.p = FALSE)  : 
  element 2 is empty;
   the part of the args list of '.Internal' being evaluated was:
   (p, shape1, shape2, lower.tail, log.p)
</code></pre>

<p>I tried adding lower.tail and log.p into params, as well as the list of probabilities p, but that did not change the error message.</p>
","375646","","375646","","2010-08-18 18:33:57","2010-08-18 18:33:57","ggplot2 and QQ plot for non-Gaussian distribution","<r><ggplot2>","2","2","1","","","CC BY-SA 2.5","3514213","4452","4452","r","404559","3625322","3607736","",""
"3515269","1","4286313","","2010-08-18 18:16:42","","3","2277","<p>i am using rpy2-2.0.7 (i need this to work with windows 7, and compiling the binaries for the newer rpy2 versions is a mess) to push a two-column dataframe into r, create a few layers in ggplot2, and output the image into a &lt;.png>.  </p>

<p>i have wasted countless hours fidgeting around with the syntax; i did manage to output the files i needed at one point, but (stupidly) did not notice and continued fidgeting around with my code ... </p>

<p>i would sincerely appreciate any help; below is a (trivial) example for demonstration.  Thank you very much for your help!!!   ~  Eric Butter</p>

<hr>

<pre><code>import rpy2.robjects as rob
from rpy2.robjects import r
import rpy2.rlike.container as rlc
from array import array

r.library(""grDevices"")    # import r graphics package with rpy2
r.library(""lattice"")
r.library(""ggplot2"")
r.library(""reshape"")

picpath = 'foo.png' 

d1 = [""cat"",""dog"",""mouse""]
d2 = array('f',[1.0,2.0,3.0])

nums = rob.RVector(d2)
name = rob.StrVector(d1)

tl = rlc.TaggedList([nums, name], tags = ('nums', 'name'))
dataf = rob.RDataFrame(tl)

## r['png'](file=picpath, width=300, height=300)
## r['ggplot'](data=dataf)+r['aes_string'](x='nums')+r['geom_bar'](fill='name')+r['stat_bin'](binwidth=0.1)
r['ggplot'](data=dataf)
r['aes_string'](x='nums')
r['geom_bar'](fill='name')
r['stat_bin'](binwidth=0.1)
r['ggsave']()
## r['dev.off']()
</code></pre>

<p>*The output is just a blank image (181 b).  </p>

<hr>

<p>here are a couple common errors R itself throws as I fiddle around in ggplot2: </p>

<pre><code>r['png'](file=picpath, width=300, height=300)
r['ggplot']()
r['layer'](dataf, x=nums, fill=name, geom=""bar"")
r['geom_histogram']()
r['stat_bin'](binwidth=0.1)
r['ggsave'](file=picpath)
r['dev.off']()
</code></pre>

<p>*RRuntimeError: Error: No layers in plot</p>

<pre><code>r['png'](file=picpath, width=300, height=300)
r['ggplot'](data=dataf)
r['aes'](geom=""bar"")
r['geom_bar'](x=nums, fill=name)
r['stat_bin'](binwidth=0.1)
r['ggsave'](file=picpath)
r['dev.off']()
</code></pre>

<p>*RRuntimeError: Error: When <em>setting</em> aesthetics, they may only take one value. Problems: fill,x</p>
","424380","","","","","2011-02-17 10:58:05","ggplot2 hell with rpy2-2.0.7 + python 2.6 + r 2.11 (windows 7)","<python><r><device><ggplot2><rpy2>","3","8","6","","","CC BY-SA 2.5","3515269","4452","4452","r","404559","3625322","3607736","",""
"3515388","1","","","2010-08-18 18:30:08","","3","1754","<p>The following code works well:</p>

<pre><code>p &lt;- ggplot(df,aes(x=x,y=y))
p &lt;- p + geom_tile(aes(fill=z))
p
</code></pre>

<p>It plots a nice heatmap. Here <code>df</code> contains <code>x</code> and <code>y</code>, created using <code>expand.grid()</code>, and <code>z</code> which contains the value at each (<code>x</code>,<code>y</code>) co-ordinate.</p>

<p>This code, on the other hand</p>

<pre><code>p &lt;- ggplot(df,aes(x=x,y=y))
p &lt;- p + coord_map(project=""lagrange"")
p &lt;- p + geom_tile(aes(fill=z))
p
</code></pre>

<p>doesn't plot anything much at all (and doesn't plot anything with all the coordinate transforms I've tried). My understanding is that the coord_map works on the x and y data, and the fill should be drawn on top of the transformed co-ordinates. However, this must be wrong as nothing's being plotted once the co-ordinates have been mapped to a new frame.</p>

<p>So my question is: how should I go about this so that it works properly? Could it be something to do with my data.frame <code>df</code>?</p>
","270572","","","","","2011-01-09 18:14:46","R + ggplot: coordinate transforms and geom_fill","<r><ggplot2>","1","4","","","","CC BY-SA 2.5","3515388","4452","4452","r","404559","3625322","3607736","",""
"3515608","1","3516017","","2010-08-18 18:53:27","","8","1686","<p>I'd like to export SVG graphics from R. There appear to be two alternatives: RSvgDevice and Cairo. Can anyone comment on these packages? Is either the default, or clearly better than the other?</p>

<p>Many thanks,</p>
","399440","","","","","2013-10-16 17:23:24","Best device for SVG graphics in R?","<r><svg>","2","1","1","2013-10-17 12:35:53","","CC BY-SA 2.5","3515608","4452","4452","r","404559","3625322","3607736","",""
"3515611","1","3515706","","2010-08-18 18:53:38","","3","1639","<p>I have been playing around with the merge command in R and am trying to figure out how to use the SUFFIX parameter. The online documentation does not do a very good job at explaining it.</p>

<p>What I'd like to do is import some csv files:</p>

<pre><code>data1&lt;-read.csv(""fileA"", header=T)
data2&lt;-read.csv(""fileB"", header=T)
</code></pre>

<p>And then use the merge command to merge them. However, I would like for some variables to be truly merged, while other variables that hold the same name to be labeled by the file they came from. So for instance, if a ""NAME"" variable existed in both of my spreadsheets, then I'd like for them to be merged as normal, but if a ""GRADE"" variable showed up, it would be changed to GRADE.fileA and GRADE.fileB. I am already able to get GRADE.x and GRADE.y, but I would prefer more useful labels on these variables. Any help on this would be appreciated. Thank you.</p>
","409050","","","","","2010-08-18 19:04:06","Merge Command in R","<r><csv><merge>","2","0","","","","CC BY-SA 2.5","3515611","4452","4452","r","404559","3625322","3607736","",""
"3516008","1","3516094","","2010-08-18 19:42:02","","29","89056","<p>I am trying to print out a line that contains a mixture of a String and a variable. Here is the R code at present:</p>

<pre><code>cat(""&lt;set name=\"",df$timeStamp,\"" value=\"",df$Price,\"" &gt;&lt;/set&gt;\n"")
</code></pre>

<p>Here is what it prints out when run:</p>

<pre><code>&lt;set name="",df$timeStamp,"" value="",df$Price,"" &gt;&lt;/set&gt;
</code></pre>

<p>I would like it to have the value of df$timeStamp and df$Price printed out. I would like for example the following:</p>

<pre><code>&lt;set name=""2010-08-18 12:00:59"" value=""17.56"" &gt;&lt;/set&gt;
</code></pre>

<p>Any idea where I am going wrong in the code?</p>

<p>Any and all help greatly appreciated.</p>

<p>Regards,</p>

<p>Anthony.</p>
","386448","","","","","2020-03-14 17:58:18","How to print R variables in middle of String","<r>","4","0","11","","","CC BY-SA 2.5","3516008","4452","4452","r","404559","3625322","3607736","",""
"3517398","1","","","2010-08-18 22:56:43","","1","341","<p>can anyone point me to a good start for developing a JGR dependable R application?
Roughly speaking I want to do something that enhances the JGR menu by some options just like <a href=""http://www.r-statistics.com/2010/08/ggplot2-plot-builder-is-now-available-on-cran-through-deducer-0-4-gui-for-r/"" rel=""nofollow noreferrer"">Deducer (btw now available with ggplot2!!)</a> does (of course I want to do it in a much much simpler way). 
Basically the application is a GUI for rendering periodical reports that use Sweave .Rnw as some ""templating language"", but have some frequently changing text. </p>

<p>So ... </p>

<p>1) Is it reasonable to connect it to R / JGR ? or should I just create some stand-alone Java program or Python script that does the job... ?</p>

<p>2) Which part should be written in Java and which in R ? I checked Deducer's source code and found quite a bit of JAVA... which parts would you recommend doing in JAVA ?</p>

<p>3) Can you point me to other packages, and less complex than Deducer that use JGR, so hopefully I can learn from their code? </p>

<p>4) Is there another way to add some menu to the standard R GUI, that would work on ""all"" OS (Linux, Windows, Mac OS X) ?</p>

<p>Thx for any suggestions, pointers and do-NOT-do-it shouts in adavance!</p>
","366256","","","","","2010-08-19 12:45:59","How to get started with creating an R application that is based on / uses JGR?","<java><r>","2","4","1","","","CC BY-SA 2.5","3517398","4452","4452","r","404559","3625322","3607736","",""
"3518010","1","3518036","","2010-08-19 01:12:30","","2","11504","<p>I have a table whose header looks like this (I've simplified it):</p>

<pre><code>id, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10
</code></pre>

<p>where each row, except for id, is a categorical variable. Let's name the categories A, B, C, D, E.</p>

<p>I would like to create a contingency table for <em>some</em> of the columns, such as below (for brevity, I have not put sample numbers in the cells). Getting the total column/row would be great, but not mandatory, I can calculate it myself later.</p>

<pre><code>      a1  a2  a3  a4 Total
    ----------------------
    A|
    B|
    C|
    D|
    E|
Total|
</code></pre>

<p>Thus, the question is how to create a crosstab based on multiple columns in R? The examples I've seen with table() and xtabs() use a column only. In my case, the columns are adjacent, so one crosstab would summarize columns a1..a4, another a5..a7 and so on. I hope there is an elegant way to do this.</p>

<p>I'm a programmer, but a newbie in R.</p>

<p>Thank you in advance.</p>
","277434","","","","","2010-08-19 16:31:24","How to create contigency tables (crosstabs) in R for a subset of columns with categorical data?","<r><crosstab>","2","0","2","","","CC BY-SA 2.5","3518010","4452","4452","r","404559","3625322","3607736","",""
"3518409","1","","","2010-08-19 03:01:50","","0","2415","<p>I have a data frame that I am outputting to MS Word.  Lets say I'm trying to output the data frame mtcars, then using the R2wd package, I get:</p>

<pre><code>#install.packages(""R2wd"")
require(R2wd)
wdGet()
wdTable(mtcars)
</code></pre>

<blockquote>
  <p>'>ncol(mtcars)<br>
  11</p>
</blockquote>

<p>however a count shows that there are actually 12 columns.  R doesn't include the model of car.</p>

<p>I have a dataframe that's outputting the numeric sequence of a dataframe and I really need that suppressed.  In the report I'm outputting to it's useless information.  So I basically need to suppress the model column of mtcars.</p>

<p>Also, how is it that they can get the car names to be the ""hidden"" column?</p>
","416798","","271616","","2010-10-17 01:38:44","2010-10-17 01:38:44","Getting rid of the ""hidden column"" in data frames of R","<r><dataframe>","2","3","","","","CC BY-SA 2.5","3518409","4452","4452","r","404559","3625322","3607736","",""
"3519062","1","","","2010-08-19 05:48:37","","1","841","<p>I am working in R, trying to export a dataframe to MS Word.  I am using R2wd and would like a dataframe to export to MSWORD, and wrap a long string of text within a cell.  Is that even possible?</p>

<p>Bare minimum at least pass a command from R to set the height of each row to fit the contents of the cell...</p>

<p>I don't see any demos or documentation but surely somebody must need to do that sometimes!</p>
","416798","","271616","","2010-10-17 01:39:27","2011-01-06 01:08:21","Wrap text in dataframe in R- or in output cell to Word","<r><ms-word><export><dataframe>","2","1","0","","","CC BY-SA 2.5","3519062","4452","4452","r","404559","3625322","3607736","",""
"3520876","1","3521103","","2010-08-19 10:32:17","","2","692","<p>I have the following data read into R as a data frame named ""data_old"":</p>

<pre><code>   yes year month
1  15 2004     5
2   9 2005     6
3  15 2006     3
4  12 2004     5
5  14 2005     1
6  15 2006     7
.   .  ...     .
.   .  ...     .
</code></pre>

<p>I have written a small loop which goes through the data and sums up the yes variable for each month/year combination:</p>

<pre><code>year_f &lt;- c(2004:2006)
month_f &lt;- c(1:12)

for (i in year_f){
    for (j in month_f){
        x &lt;- subset(data_old, month == j &amp; year == i, select=""yes"")
        if (nrow(x) &gt; 0){
            print(sum(x))
            }
        else{print(""Nothing"")}
        }
    }
</code></pre>

<p>My question is this: I can print the sum for each month/year combination in the terminal, but how do i store it in a vector? (the nested loop is giving me headaches trying to figure this out).</p>

<p>Thomas</p>
","363268","","","","","2010-08-19 13:09:22","writing the outcome of a nested loop to a vector object in R","<r><loops><statistics><nested>","3","0","1","","","CC BY-SA 2.5","3520876","4452","4452","r","404559","3625322","3607736","",""
"3522503","1","3522601","","2010-08-19 13:58:38","","2","930","<p>I've recently installed the latest version of ggplot, by downloading the source from CRAN and then running </p>

<pre><code>install.packages(""/path/to/ggplot2_0.8.8.tar.gz"", repos = NULL, type=""source"")
</code></pre>

<p>Now, running the first example from geom_tile()'s documentation on the ggplot2 website:</p>

<pre><code>library('ggplot2')
pp &lt;- function (n,r=4) { 
    x &lt;- seq(-r*pi, r*pi, len=n) 
    df &lt;- expand.grid(x=x, y=x) 
    df$r &lt;- sqrt(df$x^2 + df$y^2) 
    df$z &lt;- cos(df$r^2)*exp(-df$r/6) 
    df 
} 
p &lt;- ggplot(pp(20), aes(x=x,y=y)) 
p + geom_tile(aes(fill=z))
</code></pre>

<p>gives the following error:</p>

<pre><code>Error in get(""make_aesthetics"", env = x, inherits = TRUE)(x, ...) : 
  could not find function ""empty""
</code></pre>

<p>Anyone got any ideas? </p>

<pre><code>&gt; sessionInfo()
R version 2.10.1 Patched (2010-01-25 r51042) 
x86_64-apple-darwin9.8.0 

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/C/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] grid      stats     graphics  grDevices utils     datasets  methods  
[8] base     

other attached packages:
[1] ggplot2_0.8.8 proto_0.3-8   reshape_0.8.3 plyr_0.1.9
</code></pre>
","270572","","","","","2010-08-19 14:09:24","R + ggplot: update problems with geom_tile","<r><ggplot2>","1","0","","","","CC BY-SA 2.5","3522503","4452","4452","r","404559","3625322","3607736","",""
"3523528","1","3527849","","2010-08-19 15:42:58","","7","2916","<p>Are there any traditional (cheap, shared) web hosting services that have R on the server?</p>

<p>UPDATE: I went with Dreamhost on this one. I first tried to build R on a shared server, but I needed their support staff installed some packages (ex gfortran). After some struggles, I was able to get R built from source with the exception of the x11 headers, which means that graphics couldn't be saved using the png() function. Not a great resuls, so I upgraded to the private server package.  Their private server gives you full root access to a Debian server, so installing R was as easy as executing <code>sudo apt-get install r-base-dev</code>.  Still very affordable for a pet project, plus they don't care about long running processes, just memory usage (which is how their private server plan is priced).</p>
","355431","","355431","","2010-08-25 13:24:05","2010-08-25 13:24:05","Where can I find a hosting service with R?","<r>","2","4","2","2012-08-24 22:11:43","","CC BY-SA 2.5","3523528","4452","4452","r","404559","3625322","3607736","",""
"3523641","1","","","2010-08-19 15:54:27","","13","6580","<p>I am interested in running Newman's <a href=""http://www.ncbi.nlm.nih.gov/pmc/articles/PMC1482622/"" rel=""noreferrer"">modularity</a> clustering algorithm on a large graph. If you can point me to a library (or R package, etc) that implements it I would be most grateful.</p>

<p>best
~lara</p>
","175029","","376454","","2010-09-24 21:24:10","2014-06-04 08:19:22","Newman's modularity clustering for graphs","<r><statistics><graph><cluster-analysis><modularity>","3","3","4","","","CC BY-SA 2.5","3523641","4452","4452","r","404559","3625322","3607736","",""
"3525239","1","3525352","","2010-08-19 19:00:43","","1","521","<p>I am running a Batch file on Windows that runs an Rscript that creates two XML files.
However at the end of the second XML file the following gets appended onto it: </p>

<pre><code>&gt; proc.time()

user  system elapsed 

4.97    0.62    7.78
</code></pre>

<p>Is there a way of stopping this from happening?</p>

<p>Regards,</p>

<p>Anthony.</p>
","386448","","","","","2010-08-19 20:02:49","How to Stop proc.time being run when exiting R using quit()","<r>","2","0","","","","CC BY-SA 2.5","3525239","4452","4452","r","404559","3625322","3607736","",""
"3525658","1","3525724","","2010-08-19 19:51:02","","1","792","<p>I have the following two lines of code that both run fine in both R and Python (via Rpy):</p>

<pre><code>[R] rcut = cut(vector, brks)
[Python] rcut = r.cut(vector, brks)
</code></pre>

<p>However, if I want to add the argument of <code>include.lowest=TRUE</code>, it runs as expected in R:</p>

<pre><code>[R] rcut = cut(vector, brks, include.lowest=TRUE)
</code></pre>

<p>But it doesn't work in Rpy:</p>

<pre><code>[Python] rcut = r.cut(vector, brks, include_lowest=""TRUE"")
</code></pre>

<p>which gives the following error:</p>

<pre><code>rpy.RPy_RException: Error in ok &amp;&amp; include.lowest : invalid 'y' type in 'x &amp;&amp; y'
</code></pre>

<p>Do you know what might cause that and what should I do to make it work? Thx!</p>
","291877","","","","","2010-08-19 20:09:29","passing R function arguments in rpy","<python><r><rpy2>","2","0","2","","","CC BY-SA 2.5","3525658","4452","4452","r","404559","3625322","3607736","",""
"3525659","1","3525696","","2010-08-19 19:51:16","","0","328","<p>I have this code:</p>

<pre><code>filenames=[""file1"",""FILE2"",""file3"",""fiLe4""]


def alignfilenames():
    #build a string that can be used to add labels to the R variables.
    #format goal: suffixes=c("".fileA"","".fileB"")
    filestring='suffixes=c("".'
    for filename in filenames:
        filestring=filestring+str(filename)+'"","".'

    print filestring[:-3]
    #now delete the extra characters
    filestring=filestring[-1:-4]
    filestring=filestring+')'
    print ""New String""
    print str(filestring)

alignfilenames()
</code></pre>

<p>I'm trying to get the string variable to look like this format: <code>suffixes=c("".fileA"","".fileB"".....)</code> but adding on the final parenthesis is not working. When I run this code as is, I get:</p>

<pre><code>suffixes=c("".file1"","".FILE2"","".file3"","".fiLe4""
New String
)
</code></pre>

<p>Any idea what's going on or how to fix it?</p>
","409050","","869912","","2012-07-07 15:10:49","2012-07-07 15:10:49","String concatenation produces incorrect output in Python?","<python><string><r><concatenation>","3","0","","","","CC BY-SA 3.0","3525659","4452","4452","r","404559","3625322","3607736","",""
"3527046","1","","","2010-08-19 23:20:39","","1","1679","<p>I have a list of matrices I wish to plot.  Each element in the list ultimately represents a facet to be plotted.  Each matrix element has dimensions Row * Col, where all values in a row are grouped and plotted as a scatterplot (i.e. X-axis is categorical for the row names, Y-axis is the value, Col. values per row).</p>

<p>Additionally, I would like to add the CV for the distribution of points at each X.</p>

<pre><code>  X1       X2        value     L1
  a  subject1     8.026494 facet1
  b  subject1     7.845277 facet1
  c  subject1     8.189731 facet1
</code></pre>

<p>(10 categorical groupings - a-j)</p>

<pre><code>  a  subject2     5.148875 facet1
  b  subject2     8.023356 facet1
</code></pre>

<p>(33 subjects plotted for each categorical grouping)</p>

<pre><code>  a  subject1     5.148875 facet2
  b  subject1     8.023356 facet2
</code></pre>

<p>(multiple facets (in my specific case, 50) with identical categorical grouping and subject names)</p>

<p>I managed to plot this to my satisfaction with the following:</p>

<pre><code>p &lt;- (qplot(X1, value, data=melt(df), colour=X2)
     + facet_wrap(~Probeset, ncol=10, nrow=5, scales=""free_x""))
</code></pre>

<p>However, I would like to add the CV of each grouping of points along the X-axis as a label hovering above the group.  I tried variations on this:</p>

<pre><code>p + geom_text(aes(x=X1, y=""arbitrary value at the top of the Y-axis scale"", label=""vector of labels"")))
</code></pre>

<p>But none of them behaved as I wish.  How would I go about getting the CV of each group above the group of points, as a label?</p>

<p>Thank you in advance!</p>
","425849","","236587","","2010-08-20 00:49:24","2010-08-20 13:35:20","Adding arbitrary labels to each group in a grouped scatterplot in ggplot2","<r><ggplot2>","1","0","","","","CC BY-SA 2.5","3527046","4452","4452","r","404559","3625322","3607736","",""
"3527460","1","","","2010-08-20 00:55:09","","0","1196","<p>I have a time series (zoo with index type chron) and I need to calculate <code>cummax(mydata)-mydata</code> on every day separately, in a new zoo object.</p>

<p>I've tried this:</p>

<pre><code>aggregate(mydata, as.date, cummax)
</code></pre>

<p>but <code>aggregate</code> can only produce a single scalar result for each subset instead of a vector.  I've read that maybe <code>tapply</code>, <code>lapply</code>, <code>plyr</code>, <code>cut</code>, or <code>rollapply</code> could do it, but I couldn't get them to work.</p>
","425895","","271616","","2012-08-31 03:41:23","2012-08-31 03:41:23","Vector operations by time intervals , in R ??, aggregate","<r><aggregate><time-series><zoo>","3","1","","","","CC BY-SA 3.0","3527460","4452","4452","r","404559","3625322","3607736","",""
"3528058","1","3528136","","2010-08-20 03:50:47","","1","636","<p>I am new to R so I apologize if this is easy and straight forward.  I have successfully read a web page into a character vector.  I want to strip this string down to a smaller segment so I can extract some data.  So far, so easy.</p>

<p>The problem is that I am new to regex and R, so this has been pretty hard for me.  I simply want to shorten the string such that it includes everything between the </p>

<pre><code>&lt;div class=""appForm""

and 

&lt;/div&gt;
</code></pre>

<p>For some reason, I am having a hard time using the stringr package and ?str_match. </p>

<p>Any help - more efficient solutions - will be very much appreciated.  A newbie at web scraping, but determined to stay within R.</p>
","155406","","","","","2010-08-20 15:23:58","Regex pattern match in a character","<r><string>","3","0","1","","","CC BY-SA 2.5","3528058","4452","4452","r","404559","3625322","3607736","",""
"3528947","1","3529452","","2010-08-20 07:27:59","","6","1298","<p>I need your help in order to send email message that includes text in Greek, from within R, using the function sendmail {sendmailR}.</p>

<p>I tried using the function <code>iconv</code>, like that but it didn't work</p>

<pre><code>subject &lt;- iconv(""text in greek"", to = ""CP1253"")
sendmail(from, to, subject, msg, control=list(smtpServer=""blabla""))
</code></pre>

<p>The mail arrives immediately but the greek characters are unreadable. Any ideas?</p>

<p><strong>EDIT</strong> </p>

<p>Another question that came up:
The second argument <code>to</code> accepts one recipient. What if want to send it to more than one? (I think 'll try <em>sapply</em> ing the <code>sendmail</code> function to a vector of recipients) - Ok, that worked. However, I'm not completely satisfied because each one of the recipients has no way to know who else has received the message.</p>
","170792","","170792","","2010-08-20 08:57:20","2010-08-20 09:08:32","sendmailR: Submit encoded message to local SMTP server","<email><r><encoding><smtp>","1","0","3","","","CC BY-SA 2.5","3528947","4452","4452","r","404559","3625322","3607736","",""
"3529212","1","3529390","","2010-08-20 08:15:16","","6","3387","<p>I'm trying to plot a box within a filled.contour plot, but unfortunately, when I plot the lines() after the filled.contour plot is created, the figure is shifted to the right because the scale forces the image to the left, but the box stays at the same coordinates. Here's what my code looks like:</p>

<pre><code>dev.new(width=6,height=7)
mypredict&lt;-matrix(data=mypredict,nrow=20,ncol=25)
filled.contour(x=seq(from=-1.5,to=1.5,length=20),
y=seq(from=1,to=3.75,length=25),
z=mypredict,
col=hsv(h=seq(from=2/3,to=0,length=20),s=1,v=1)
)
top &lt;- 3.42
bot &lt;- 1.56
lines(c(-1,-1),c(bot,top))
lines(c(1,1),c(bot,top))
lines(c(-1,1),c(top,top))
lines(c(-1,1),c(bot,bot))
</code></pre>

<p>Does anyone know how I can plot those lines within the filled.contour function? Otherwise, the lines do not plot correctly onto the main image, since the scale/legend of the graph is placed on the right.</p>

<p>Thanks!</p>
","426124","","176923","","2010-08-20 08:34:54","2010-08-20 08:46:17","Plotting a box within filled.contour plots in R?","<r>","1","0","1","","","CC BY-SA 2.5","3529212","4452","4452","r","404559","3625322","3607736","",""
"3529996","1","3530940","","2010-08-20 10:25:50","","3","4350","<p>I am trying to produce some example graphics using ggplot2, and one of the examples I picked was the <a href=""http://en.wikipedia.org/wiki/Birthday_problem"" rel=""nofollow noreferrer"">birthday problem</a>, here using code 'borrowed' from a Revolution <a href=""http://www.oscon.com/oscon2009/public/schedule/detail/8972"" rel=""nofollow noreferrer"">computing presentation</a> at Oscon.</p>

<pre><code>birthday&lt;-function(n){
    ntests&lt;-1000
    pop&lt;-1:365
    anydup&lt;-function(i){
        any(duplicated(sample(pop,n,replace=TRUE)))
        }
    sum(sapply(seq(ntests), anydup))/ntests
    }

x&lt;-data.frame(x=rep(1:100, each=5)) 
x&lt;-ddply(x, .(x), function(df) {return(data.frame(x=df$x, prob=birthday(df$x)))})
birthdayplot&lt;-ggplot(x, aes(x, prob))+
        geom_point()+geom_smooth()+
        theme_bw()+
        opts(title = ""Probability that at least two people share a birthday in a random group"")+
        labs(x=""Size of Group"", y=""Probability"")
</code></pre>

<p>Here my graph is what I would describe as exponential, but the geom_smooth doesn't fit the data particularly well.  I've tried the loess method but this didn't change things much.  Can anyone suggest how to add a better smooth ?</p>

<p>Thanks</p>

<p>Paul.</p>
","74658","","","","","2010-08-20 13:50:59","Adding an exponential geom_smooth in ggplot2 / R","<r><ggplot2>","2","0","","","","CC BY-SA 2.5","3529996","4452","4452","r","404559","3625322","3607736","",""
"3530896","1","3532078","","2010-08-20 12:40:55","","2","736","<p>The real goal here is to find the quantile means (or sums, or median, etc.) in Python. Since I'm not a power user of Python but have used R for a while, my chosen route is via Rpy. However, I ran into the problem that the returned list of means are not correspondent to the order of the quantiles. In particular, I have the followings in R:</p>

<pre><code>&gt; a = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
&gt; b = c(2, 4, 20, 40, 200, 400, 2000, 4000, 20000, 40000)
&gt; prob = seq(0,5)/5
&gt; br = quantile(a,prob)
&gt; rcut = cut(a, br, include.lowest = TRUE)
&gt; quintile_means = tapply(b, rcut, mean)
&gt; quintile_means
[1,2.8] (2.8,4.6] (4.6,6.4] (6.4,8.2]  (8.2,10] 
      3        30       300      3000     30000 
</code></pre>

<p>which is all very good. However, if I translate the code into Rpy, I got</p>

<pre><code>&gt;&gt;&gt; import rpy
&gt;&gt;&gt; from rpy import r
&gt;&gt;&gt; a = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
&gt;&gt;&gt; b = [2, 4, 20, 40, 200, 400, 2000, 4000, 20000, 40000]
&gt;&gt;&gt; prob = [ x / 5.0 for x in range(6)]
&gt;&gt;&gt; br = r.quantile(a, prob)
&gt;&gt;&gt; rcut = r.cut(a, br, include_lowest=r.TRUE)
&gt;&gt;&gt; quintile_means = r.tapply(b, rcut, r.mean)
&gt;&gt;&gt; print quintile_means
[30.0, 300.0, 3000.0, 30000.0, 3.0]
</code></pre>

<p>Note the final list is mis-ordered (we know it because <code>a</code> and <code>b</code> are both ordered in this case). In general, I just have no way to recover the correct order from the lowest to highest quantile in Rpy. Any suggestions?</p>

<p>In addition (not in substitution, as I'd like to know the answer to the above question), if you can suggest a way to directly perform the analysis in python, that will be great too. (I don't have numpy or scipy installed.) Thx! </p>

<p><strong>EDIT</strong>: To clarify, <code>a</code> and <code>b</code> are <em>paired</em> but not necessarily <em>ordered</em>. For example, <code>a</code> is the size of eyes and <code>b</code> is the size of nose. I'm trying to find out that in the various quantiles of <code>a</code>, what are the means of the correspondent <code>b</code>s. Thanks.</p>
","291877","","291877","","2010-08-20 13:51:34","2010-08-20 14:57:07","Sorted quantile mean via Rpy","<python><r><rpy2><quantile>","3","0","1","","","CC BY-SA 2.5","3530896","4452","4452","r","404559","3625322","3607736","",""
"3533334","1","3533396","","2010-08-20 17:28:20","","3","560","<p>I wish to scrape the home page of one of the new stackexchange websites: <a href=""https://webapps.stackexchange.com/"">https://webapps.stackexchange.com/</a>  (just once, and for only several pages, nothing that should bother the servers).  If I had wanted it from stackoverflow, I know there is a database dump, but for the new stackexchange, they don't exist yet.</p>

<p>Here is what I want to do.</p>

<p>Step 1: choose URL</p>

<pre><code>URL &lt;- ""https://webapps.stackexchange.com/""
</code></pre>

<p>Step 2: read the table</p>

<pre><code>readHTMLTable(URL)  # oops, doesn't work - gives NULL
</code></pre>

<p>Step 2: this time, let's try it with XML</p>

<pre><code>htmlTreeParse(URL) # o.k, this reads the data - but it is all in &lt;div&gt; - now what?
</code></pre>

<p>So I was able to read the page, but now the structure is in divs.  How can it now be used to create the same thing as readHTMLTable ?</p>
","256662","","-1","","2017-04-13 12:57:16","2010-08-20 18:28:19","How to scrape ""table like"" data from stackexchange homepage? (in R)","<r><web-scraping>","2","2","3","","","CC BY-SA 2.5","3533334","4452","4452","r","404559","3625322","3607736","",""
"3536036","1","3536263","","2010-08-21 02:40:29","","32","84188","<p>This is a very minor issue, but I would like to understand exactly what is going on here.</p>

<p>Say I do the following:</p>

<pre><code>library(RMySQL)
con &lt;- dbConnect(MySQL(), host=""some.server.us-east-1.rds.amazonaws.com"",user=""aUser"", password=""password"", dbname=""mydb"")

values1 &lt;- dbGetQuery(con,""select x,y from table1"")
attach(values1)
</code></pre>

<p>At this point, I can do</p>

<pre><code>rm(list=ls())

values2 &lt;- dbGetQuery(""select x,y from table1"")
attach(values2)
</code></pre>

<p>but the attach gives me a warning about masking an x and y. I thought I had already clobbered those. What is going on? How do I completely clear a workspace?</p>
","318976","","","","","2017-10-01 19:56:15","rm(list=ls()) doesn't completely clear the workspace","<r>","7","1","11","","","CC BY-SA 2.5","3536036","4452","4452","r","404559","3625322","3607736","",""
"3539826","1","3540036","","2010-08-22 02:17:03","","16","62652","<p>Not sure how else to ask this but, I want to search for a term within several string elements. Here's what my code looks like (but wrong):</p>

<pre><code>inplay = vector(length=nrow(des))
for (ii in 1:nrow(des)) {
 if (des[ii] = 'In play%')
  inplay[ii] = 1
 else inplay[ii] = 0
}
</code></pre>

<p>des is a vector that stores strings such as ""Swinging Strike"", ""In play (run(s))"", ""In play (out(s) recorded)"" and etc. What I want inplay to store is a 1s and 0s vector corresponding with the des vector, with the 1s in inplay indicating that the des value had ""In play%"" in it and 0s otherwise.</p>

<p>I believe the 3rd line is incorrect, because all this does is return a vector of 0s with a 1 in the last element.</p>

<p>Thanks in advance!</p>
","426124","","","","","2014-10-31 14:38:05","What's the R equivalent of SQL's LIKE 'description%' statement?","<sql><r>","3","0","4","","","CC BY-SA 2.5","3539826","4452","4452","r","404559","3625322","3607736","",""
"3539916","1","3553203","","2010-08-22 02:51:45","","3","1161","<p>I am looking for a standardized method for arranging data in relative time. Applications include accounting data such as FY1,FY2,etc... and economic data such as the term structure of interest rates using the 1 year, 2 year, 3 year, etc...</p>

<p>I would like to be able to compare a set of time series data that is current and several historic time series sets that represent similar situations or historic norms. I was looking at xts but it looks like I need to use an absolute time reference.</p>

<p>I would eventually like to use Quantmod's charting functions or graphs with equivalent capability to visualize the data. Since chartSeries requires a time series object, does anyone know how to do this? Even a point in the right direction would be helpful. Thanks.</p>

<pre><code>require(quantmod)
symbols=c(""DGS1"",""DGS2"",""DGS3"",""DGS5"",""DGS7"",""DGS10"",""DGS20"")
getSymbols(symbols,src=""FRED"")
one.h=mean(na.omit(DGS1));two.h=mean(na.omit(DGS2));three.h=mean(na.omit(DGS3));five.h=mean(na.omit(DGS5));seven.h=mean(na.omit(DGS7));ten.h=mean(na.omit(DGS10));twenty.h=mean(na.omit(DGS20))
historic=c(one.h,two.h,three.h,five.h,seven.h,ten.h,twenty.h)
current=c(last(DGS1),last(DGS2),last(DGS3),last(DGS5),last(DGS7),last(DGS10),last(DGS20))
years=c(1,2,3,5,7,10,20)
plot(years,current,type=""o"",pch=20,ann=FALSE)
lines(years,historic,type=""o"",pch=20,col=""red"",lty=3)
title(main=""Term Structure of Interest Rates"",col.main=""red"", font.main=4)
title(xlab=""Years to Maturity"",ylab=""Interest Rate"",col.lab=rgb(0,0.5,0))
legend(3, c(""Current"",""Historic""),cex=0.8,col=c(""black"",""red""),pch=20)
</code></pre>

<p>Problem:
I would like to be able to select a time period such as September of 2007 and grab each daily yield curve to plot against the current yield curve. I'm sure I could use several pages of first and last functions but that would be more work than building it in Excel.</p>
","376239","","271616","","2011-08-13 18:10:05","2011-08-13 18:10:05","Relative Time Series","<r><time-series>","1","3","3","","","CC BY-SA 2.5","3539916","4452","4452","r","404559","3625322","3607736","",""
"3540600","1","3639470","","2010-08-22 07:40:31","","0","2349","<p>I have a R Job that is submitted to the condor, The R file(one.R) which is submitted to the condor is reading another R file(two.R), when I submit the job to the condor its is failed and the reason for that is the submitted R(one.R) file is not reading the called R file(two.R)
Error in text file is :</p>

<pre><code>Error in file(file, ""rt"") : cannot open the connection
Calls: read.table -&gt; file
In addition: Warning message:
In file(file, ""rt"") :
  cannot open file 'C:/Users/pcname/Desktop/test_case/two.R': Permission denied
Execution halted 
</code></pre>

<p>and my submit file is</p>

<pre><code>#test_input.condor
#

executable = C:\R\R-2.10.1\bin\Rscript.exe
arguments = one.R
universe = vanilla
getenv = true
#requirements = ARCH == ""INTEL"" &amp;&amp; OPSYS == ""WINNT60"" 
input = one.R

should_transfer_files = yes
transfer_executable = false
when_to_transfer_output = ON_EXIT
transfer_input_files = C:/Users/OmegaAdmin/Desktop/test_case/two.R

log = test_input.log
output = test_input.out
error = test_input.err

queue 
</code></pre>

<p>Appreciate any ideas on this.</p>

<p>Thanks,</p>
","302058","","168868","","2012-01-16 19:31:31","2019-10-07 18:10:40","error in reading R file while submitting a r job to condor","<r><distributed-computing>","2","3","","","","CC BY-SA 2.5","3540600","4452","4452","r","404559","3625322","3607736","",""
"3541713","1","3542115","","2010-08-22 13:54:27","","238","460537","<p>I am using R and I have two data frames: carrots and cucumbers. Each data frame has a single numeric column that lists the length of all measured carrots (total: 100k carrots) and cucumbers (total: 50k cucumbers).</p>
<p>I wish to plot two histograms - carrot length and cucumbers lengths - on the same plot. They overlap, so I guess I also need some transparency. I also need to use relative frequencies not absolute numbers since the number of instances in each group is different.</p>
<p>Something like this would be nice but I don't understand how to create it from my two tables:</p>
<p><img src=""https://i.stack.imgur.com/nn4JT.png"" alt=""overlapped density"" /></p>
","377031","","3552975","","2021-05-10 14:00:49","2021-05-10 14:00:49","How to plot two histograms together in R?","<r><plot><histogram>","9","3","155","","","CC BY-SA 4.0","3541713","4452","4452","r","404559","3625322","3607736","",""
"3543754","1","3543787","","2010-08-22 22:39:21","","2","376","<p>I have a long list e2i, which ""maps"" rownames to values, and has duplicate rownames:</p>

<pre><code>&gt; head(e2i)
$`679594`
[1] ""IPR019956""

$`679594`
[1] ""IPR019954""

$`679594`
[1] ""IPR019955""

$`679594`
[1] ""IPR000626""

$`682397`
[1] ""IPR019956""

$`682397`
[1] ""IPR019954""
</code></pre>

<p>I need to convert it into a list with unique rownames, where each named element would be a list of (either named or unnamed) values:</p>

<pre><code>&gt; str(mylist)
List of 2
 $ 679594:List of 3
  ..$ : chr ""IPR019956""
  ..$ : chr ""IPR019954""
  ..$ : chr ""IPR019955""
 $ 682397:List of 2
  ..$ : chr ""IPR019956""
  ..$ : chr ""IPR019954""
</code></pre>

<p>I believe there's a short and elegant solution.</p>

<p>As for long and ugly solution - I think I could do that with a loop like this:</p>

<pre><code>mytest = function(e2i) {
    result = list()
    for (e in names(e2i)) {
            # iterate all rownames, including duplicates
            if (e %in% names(result)) {
                    # convert existing element to a list (if not already a list),
                    # then append new value e2i[[e]] to that nested list
            }
            else {
                    # just add the value to the result
                    result = c(result, e2i[[e]])
            }
    }
    return(result)
}
</code></pre>

<p>Initially data was in a matrix, and for my loop solution draft above I'd use it as input:</p>

<pre><code>&gt; head(entrez2interpro_matrix)
  EntrezGene.ID Interpro.ID
1        679594   IPR019956
2        679594   IPR019954
3        679594   IPR019955
4        679594   IPR000626
5        682397   IPR019956
6        682397   IPR019954
</code></pre>
","209489","","","","","2010-08-22 23:00:00","How do I convert a list with non-unique rownames to a (nested) list with unique rownames?","<r>","1","0","","","","CC BY-SA 2.5","3543754","4452","4452","r","404559","3625322","3607736","",""
"3544002","1","3544568","","2010-08-23 00:08:25","","31","35635","<p>I'm looking for an easier way to draw the cumulative distribution line in ggplot.</p>

<p>I have some data whose histogram I can immediately display with</p>

<pre><code>qplot (mydata, binwidth=1);
</code></pre>

<p>I found a way to do it at <a href=""http://www.r-tutor.com/elementary-statistics/quantitative-data/cumulative-frequency-graph"" rel=""noreferrer"">http://www.r-tutor.com/elementary-statistics/quantitative-data/cumulative-frequency-graph</a> but it involves several steps and when exploring data it's time consuming.</p>

<p>Is there a way to do it in a more straightforward way in ggplot, similar to how trend lines and confidence intervals can be added by specifying options?</p>
","277434","","1832942","","2015-09-01 00:14:25","2016-01-27 03:48:32","Easier way to plot the cumulative frequency distribution in ggplot?","<r><ggplot2>","3","0","24","","","CC BY-SA 3.0","3544002","4452","4452","r","404559","3625322","3607736","",""
"3545057","1","3548160","","2010-08-23 06:01:55","","9","14359","<p>long-time R and Python user here. I use R for my daily data analysis and Python for tasks heavier on text processing and shell-scripting. I am working with increasingly large data sets, and these files are often in binary or text files when I get them. The type of things I do normally is to apply statistical/machine learning algorithms and create statistical graphics in most cases. I use R with SQLite sometimes and write C for iteration-intensive tasks; before looking into Hadoop, I am considering investing some time in NumPy/Scipy because I've heard it has better memory management [and the transition to Numpy/Scipy for one with my background seems not that big] - I wonder if anyone has experience using the two and could comment on the improvements in this area, and if there are idioms in Numpy that deal with this issue. (I'm also aware of Rpy2 but wondering if Numpy/Scipy can handle most of my needs). Thanks -</p>
","143476","","832621","","2013-05-12 21:42:59","2013-05-12 21:42:59","Numpy for R user?","<python><r><numpy><scipy>","3","1","9","","","CC BY-SA 2.5","3545057","4452","4452","r","404559","3625322","3607736","",""
"3545559","1","3546155","","2010-08-23 07:40:51","","4","2368","<p>I am using a Pentium 4 HT machine at office for running R, some of the code requires plyr package, which I usually need to wait for 6-7 minutes for the script to finish running, while I saw my processor is only half utilized.</p>

<p>I have heard of using Multicore package in R for better utilizing the multicore processor, is my case suitable for this?</p>

<p>Thanks!</p>
","373908","","","","","2010-08-23 16:28:25","Using Multicore in R for a pentium 4 HT machine","<r><multicore>","2","2","1","","","CC BY-SA 2.5","3545559","4452","4452","r","404559","3625322","3607736","",""
"3545865","1","3545902","","2010-08-23 08:32:24","","4","2848","<p>I have a one line batch file that I want to call from a web page via a button what is the best way to achieve this?</p>

<p>The BATCH File is as follows:</p>

<pre><code>c:\R\bin\Rscript.exe ""c:\Users\user\Desktop\Shares.R"" 
</code></pre>

<p>Or is it possible just to call the R script straight from the web page and skip the BATCH file altogether, Can this be done? It is all being done on a local host so I don't think there should be a problem with permissions etc...</p>

<p>Any Help would be greatly appreciated.</p>

<p>Regards, </p>

<p>Anthony.</p>
","386448","","","","","2013-12-04 17:03:43","How to get a BATCH file executed from a web page?","<r><batch-file><webpage>","1","0","","","","CC BY-SA 2.5","3545865","4452","4452","r","404559","3625322","3607736","",""
"3545893","1","3545941","","2010-08-23 08:37:42","","4","108","<p>I want to list all objects in R that start with something, like starts with character ""A"", I only know how to use ls(), is there a way to do so? Thanks!</p>
","373908","","","","","2010-08-23 09:03:13","how to list a portion of objects in R?","<list><r>","1","0","1","","","CC BY-SA 2.5","3545893","4452","4452","r","404559","3625322","3607736","",""
"3546923","1","3547287","","2010-08-23 11:06:32","","0","3549","<p>I have an R data frame:</p>

<pre><code>&gt; tab1
  pat  t conc
1  P1  0  788
2  P1  5  720
3  P1 10  655
4  P2  0  644
5  P2  5  589
6  P2 10  544
</code></pre>

<p>I am trying to create a new column for <code>conc</code> as a percentage of <code>conc</code> at <code>t</code>=0 for each patient. As well as many other things, I have tried: </p>

<pre><code>tab1$conct0 &lt;- tab1$conc / tab1$conc[tab1$t == 0  &amp; tab1$pat == tab1$pat]
</code></pre>

<p>But I am clearly miles off with the correct code that means ""conc WHERE t==0 AND pat == pat for this particular row""</p>

<p>I am sure I could use a for loop or something but hoped there was something easier?</p>

<p>Thanks</p>
","428338","","","","","2010-08-30 22:39:21","Create a new column in data.frame using conditions of each row","<r><where-clause><dataframe>","5","0","1","","","CC BY-SA 2.5","3546923","4452","4452","r","404559","3625322","3607736","",""
"3547275","1","","","2010-08-23 11:59:40","","0","1325","<p>I've been playing for a while with zoo package.
I can read files using the <code>format=""%Y-%m-%d %H:%M""</code>  option</p>

<p>But how can I use this option when writing the results back to the disk?
I mean, the default format seems to be 
<code>""%m/%d/%Y %H:%M""</code></p>

<p>and I need to be <code>""%Y-%m-%d %H:%M""</code></p>

<p>Where can I change it?</p>

<p>cheers</p>
","425895","","168747","","2010-09-20 12:16:08","2012-11-13 02:53:05","R: Date format when writing a zoo object to a file?","<r><time><format><zoo>","1","1","","","","CC BY-SA 2.5","3547275","4452","4452","r","404559","3625322","3607736","",""
"3547831","1","3551234","","2010-08-23 13:11:36","","10","516","<p>I am playing around a bit with my program (trying to multicore a few parts) and I've noticed the ""CPU history"" looks a bit different, depend on how many workers I start. 2-4 workers seems to produce a ""stable"" workflow, however pegging 5-8 workers produces erratic behavior (from zero to max, see pictures). I should point out that all runs started out with ""smooth"" max capacity (e.g. 2 cores with only 25%), and started to exhibit erratic behavior only after a minute or so.
What's going on? I have 4 core processor, and do you think this behavior may be related to this fact?</p>

<p>I hope you can see the pics.</p>

<p>2 workers
<img src=""https://i.stack.imgur.com/qHsTw.jpg"" alt=""2 workers""></p>

<p>3 workers
<img src=""https://i.stack.imgur.com/jyVeE.jpg"" alt=""3 workers""></p>

<p>4 workers
<img src=""https://i.stack.imgur.com/gyVn4.jpg"" alt=""4 workers""></p>

<p>5 workers
<img src=""https://i.stack.imgur.com/9lGqU.jpg"" alt=""5 workers""></p>

<p>6 workers
<img src=""https://i.stack.imgur.com/Nubcs.jpg"" alt=""6 workers""></p>

<p>7 workers
<img src=""https://i.stack.imgur.com/8HEsM.jpg"" alt=""7 workers""></p>

<p>8 workers
<img src=""https://i.stack.imgur.com/r1GVJ.jpg"" alt=""8 workers""></p>
","322912","","322912","","2011-09-04 11:26:09","2011-09-04 11:26:09","different behavior when using different number of multicoring workers","<windows><r><multicore>","1","4","3","","","CC BY-SA 2.5","3547831","4452","4452","r","404559","3625322","3607736","",""
"3548090","1","3548767","","2010-08-23 13:39:18","","11","13388","<p>I am trying to create facet grid with the following code</p>

<pre><code>p &lt;- ggplot(melted,aes(factor(country))) + geom_bar() +opts(axis.text.x =   theme_text(angle = 90,hjust = 1)) 

p + facet_grid(. ~ provider)
</code></pre>

<p>but I always get the following error:</p>

<p>Error in sub(""^[^:]+: ([^\n]+)\n[0-9]+:(.*)$"", ""\1\2"", expr) : 
   input string 1 is invalid in this locale</p>

<p>I do not have any idea what I am doing wrong. also tried to factor my facet, which doesn't work either.</p>

<p>Thx in advance!</p>
","366256","","","","","2014-12-09 09:40:21","facet_grid problem : input string 1 is invalid in this locale?","<r><ggplot2>","1","0","3","","","CC BY-SA 2.5","3548090","4452","4452","r","404559","3625322","3607736","",""
"3548199","1","3548354","","2010-08-23 13:52:03","","4","5359","<p>I have a melted dataset containing a column ""value"" which represent an absolute number which varies with every row of the dataset. I want to display this number in a barchart by country. </p>

<pre><code>p &lt;- ggplot(melted,aes(factor(country),y=as.numeric(value))) + geom_bar() +opts(axis.text.x = theme_text(angle = 90,hjust = 1)) 
</code></pre>

<p>all I get is:  </p>

<blockquote>
  <p>Error in pmin(y, 0) : Objekt 'y' not found. </p>
</blockquote>

<p>Of course I triple-checked if there was a ""value"" variable I just can't find what's wrong. If a leave the y=... out I get the observations per country which are the same for every country in my case.</p>
","366256","","3885376","","2017-10-29 19:54:14","2017-10-29 19:54:14","How to barplot frequencies with ggplot2?","<r><ggplot2>","1","1","","","","CC BY-SA 3.0","3548199","4452","4452","r","404559","3625322","3607736","",""
"3548263","1","3552084","","2010-08-23 14:00:46","","12","2608","<p>Say I have an R list like this:</p>

<pre><code>&gt; summary(data.list)
                                 Length Class      Mode
aug9104AP                        18     data.frame list
Aug17-10_acon_7pt_dil_series_01  18     data.frame list
Aug17-10_Picro_7pt_dil_series_01 18     data.frame list
Aug17-10_PTZ_7pt_dil_series_01   18     data.frame list
Aug17-10_Verat_7pt_dil_series_01 18     data.frame list
</code></pre>

<p>I want to process each data.frame in the list using <code>l_ply</code>, but I also need the name (e.g. aug9104AP) to be passed into the processing function along with the data.frame.  Something like:</p>

<pre><code>l_ply(data.list,function(df,...) {

    cli.name&lt;- arg_to_access_current_list_item_name

    #make plots with df, use cli.name in plot titles
    #save results in a file called cli.name

  }, arg_to_access_current_list_item_name
)
</code></pre>

<p>What should <code>arg_to_access_current_list_item_name</code> be?</p>
","128245","","","","","2010-08-25 00:28:30","l_ply: how to pass the list's name attribute into the function?","<list><r><plyr>","3","0","3","","","CC BY-SA 2.5","3548263","4452","4452","r","404559","3625322","3607736","",""
"3548600","1","3548854","","2010-08-23 14:39:41","","0","341","<p>First I read-in a csv and create an xts object.</p>

<pre><code>require(quantmod)

sugar  &lt;- as.xts(read.zoo(""SUGAR.CSV"", sep="","", format =""%m/%d/%Y"", header=TRUE))
</code></pre>

<p>Then I create a new series of RSI values using TTR (loads with quantmod)</p>

<pre><code>sugarRSI &lt;- RSI(sugar)
</code></pre>

<p>Now I'd like to get a new series that only includes the value of the last day of each month. There is a last() function in xts, but not clear on how to deploy it efficiently. </p>
","296155","","271616","","2011-08-13 17:54:28","2011-08-13 17:54:28","HT index RSI value at end of each month in an xts time series object","<r><xts>","1","0","","","","CC BY-SA 2.5","3548600","4452","4452","r","404559","3625322","3607736","",""
"3549593","1","3549966","","2010-08-23 16:29:41","","1","2012","<p>I have two data.frames in R, one of which has two columns and of the other of each has three columns, and where two columns are common between the two frames. The frame have the same number of rows. An example of the frames, a and b, is provided below. What I need to do is reorder the rows of b using the order of rows in a. Note that in frame b, any unique combination of the first two columns, id and lob, will be associated with a unique value in the val column. The id and lob columns given here are a factor and a character, but I would want a solution to work for any datatype.</p>

<p>Note that if we were to consider a case where frame a just had the id column and frame b just had the id and val columns, I would accomplish this with something like</p>

<pre><code>b[match(a$id,b$id),]
</code></pre>

<p>Unfortunately, I'm not sure how to accomplish the same thing when I need to order by two columns.</p>

<p>a:</p>

<pre><code>  id lob
1 1+   X
2  3   X
3  2   X
4  1   X
5  1   Y
6 1+   Y
7 1+   X
8  3   X
9  3   X
</code></pre>

<p>b:</p>

<pre><code>  id lob val
1 1+   X   1
2 1+   Y   9
3 1+   X   1
4  3   X   5
5  3   X   5
6  3   X   5
7  2   X   4
8  1   X   3
9  1   Y   2
</code></pre>

<p>I want to get this:</p>

<pre><code>  id lob val
1 1+   X   1
2  3   X   5
3  2   X   4
4  1   X   3
5  1   Y   2
6 1+   Y   9
7 1+   X   1
8  3   X   5
9  3   X   5
</code></pre>
","233446","","","","","2013-10-31 20:22:47","Reorder one data.frame using two columns from another data.frame in R","<r>","2","2","","","","CC BY-SA 2.5","3549593","4452","4452","r","404559","3625322","3607736","",""
"3550341","1","29999300","","2010-08-23 18:06:02","","97","68641","<p>Has anybody used R to create a <a href=""http://en.wikipedia.org/wiki/Gantt_chart"" rel=""noreferrer"">Gantt chart</a>?</p>

<p>P.S. I could live without the dependency arrows.</p>
","170792","","2706826","","2019-10-20 08:15:40","2020-04-27 21:20:54","Gantt charts with R","<r><charts><gantt-chart>","14","0","73","2020-11-07 14:29:32","","CC BY-SA 4.0","3550341","4452","4452","r","404559","3625322","3607736","",""
"3551519","1","3551664","","2010-08-23 20:41:56","","3","12957","<p>Trying to do an xy scatter plot with the z value being denoted by the color of the xy point.</p>

<p>Data:  </p>

<pre><code>1.1, 32.27, 19.4  
1.2, 21.34, 18  
1.4, 47.45, 19.4
</code></pre>

<p>R code:  </p>

<pre><code> inp &lt;- scan(""beps.txt"",list(x=0,y=0,z=0))  
 plot(inp$x, inp$y,pch=""."")
</code></pre>

<p>Creates a great scatter plot, but I would like the points to be colored by the Z value.</p>
","213080","","","","","2010-08-24 16:34:45","R xy scatter plot marker color","<r><plot>","3","1","2","","","CC BY-SA 2.5","3551519","4452","4452","r","404559","3625322","3607736","",""
"3551955","1","3552115","","2010-08-23 21:45:19","","2","712","<p>I have a data.frame x in R for which dim(x) = (m,n) and a vector y of numbers of length m and with values between 1 and n. In other words, y has an entry for each row in x and each value is a valid column number in x. I would like to extract a ""jagged"" column of numbers from x using the column numbers in y. For example, if </p>

<pre><code>y &lt;- c(2,4,1,6,5) 
</code></pre>

<p>then I would like to get a vector of numbers equal to </p>

<pre><code>c(x[1,2],x[2,4],x[3,1],x[4,6],x[5,5])
</code></pre>

<p>What is the most efficient way to do this?</p>

<p>Thanks.</p>
","233446","","","","","2010-08-23 22:13:24","Extract ""jagged"" column from R data.frame/matrix using vector of column numbers","<r>","2","1","","","","CC BY-SA 2.5","3551955","4452","4452","r","404559","3625322","3607736","",""
"3554572","1","","","2010-08-24 08:10:30","","14","65238","<p>I have a problem when I import a csv file with R:</p>

<p>example lines to import:</p>

<pre><code>2010-07-27;91
2010-07-26;93
2010-07-23;88
</code></pre>

<p>I use the statement:</p>

<pre><code>data &lt;- read.csv2(file=""..."", sep="";"", dec=""."", header=FALSE)
</code></pre>

<p>when I try to aggregate this data with other ones originated by statistical analysis using <code>cbind</code>, the date is showed as an integer number because it was imported as factor.</p>

<p>If I try to show it as a string using <code>as.character</code>, the numerical data are transformed into characters too so they are unusable for statistical procedures.</p>
","429272","","4895725","","2017-04-04 12:23:09","2017-12-29 11:15:41","Read csv with dates and numbers","<r><read.csv>","3","0","6","","","CC BY-SA 3.0","3554572","4452","4452","r","404559","3625322","3607736","",""
"3555526","1","","","2010-08-24 10:35:40","","18","14048","<p>I have a zoo time series with missing days.
In order to fill it and have a continuous series I do...</p>

<p>I generate a chron date-time sequence from start to end.</p>

<p>I merge my series with this one.</p>

<p>I use na.locf to substitute NAs with las obsservation.</p>

<p>I remove the syntetic chron sequence.</p>

<p>Can I do same easier?
Maybe with some index function related to the frequency?</p>
","425895","","2679518","","2013-09-24 03:02:58","2013-09-24 03:02:58","R: Filling missing dates in a time series?","<r><time-series><fill><zoo>","2","0","6","","","CC BY-SA 2.5","3555526","4452","4452","r","404559","3625322","3607736","",""
"3556650","1","3556750","","2010-08-24 13:01:07","","3","553","<p>I have a matrix filled with <code>TRUE</code>/<code>FALSE</code> values and I am trying to find the index position of the first <code>TRUE</code> value on each row (or return <code>NA</code> if there is no <code>TRUE</code> value in the row). The following code gets the job done, but it uses an <code>apply()</code> call, which I believe is just a wrapper around a for loop. I'm working with some large datasets and performance is suffering. Is there a faster way?</p>

<pre><code>&gt; x &lt;- matrix(rep(c(F,T,T),10), nrow=10)
&gt; x
       [,1]  [,2]  [,3]
 [1,] FALSE  TRUE  TRUE
 [2,]  TRUE  TRUE FALSE
 [3,]  TRUE FALSE  TRUE
 [4,] FALSE  TRUE  TRUE
 [5,]  TRUE  TRUE FALSE
 [6,]  TRUE FALSE  TRUE
 [7,] FALSE  TRUE  TRUE
 [8,]  TRUE  TRUE FALSE
 [9,]  TRUE FALSE  TRUE
[10,] FALSE  TRUE  TRUE

&gt; apply(x,1,function(y) which(y)[1])
 [1] 2 1 1 2 1 1 2 1 1 2
</code></pre>
","233446","","2204410","","2018-04-16 11:32:25","2018-04-16 11:32:25","How to vectorize this operation on every row of a matrix","<r>","3","1","","","","CC BY-SA 3.0","3556650","4452","4452","r","404559","3625322","3607736","",""
"3557652","1","3558123","","2010-08-24 14:40:29","","7","7758","<p>I'm using R, and I have two data.frames, <code>A</code> and <code>B</code>. They both have 6 rows, but <code>A</code> has 25000 columns (genes), and <code>B</code> has 30 columns. I'd like to apply a function with two arguments <code>f(x,y)</code> where <code>x</code> is every column of <code>A</code> and <code>y</code> is every column of <code>B</code>. So far it looks like this:</p>

<pre><code>i = 1
for (x in A){
    j = 1
    for (y in B){
        out[i,j] &lt;- f(x,y)
        j = j + 1
    }
    i = i + 1
}
</code></pre>

<p>I have two issues with this: from my Python programming I associate keeping track of counters like this as crufty, and from my R programming I am nervous of for loops. However, I can't quite see how to apply <code>apply</code> (or even if I should apply <code>apply</code>) to this problem and was hoping someone might enlighten me. I need to treat <code>f()</code> as atomic (it's actually <code>cor.test()</code>) for now.</p>
","270572","","429846","","2013-01-03 20:35:10","2013-01-03 20:35:10","Apply over two data frames","<r><apply>","3","2","7","","","CC BY-SA 3.0","3557652","4452","4452","r","404559","3625322","3607736","",""
"3558592","1","3559850","","2010-08-24 16:18:28","","2","1781","<p>I am having trouble finding clear documentation on how to set up a batch file for a Sweave document on Windows XP.</p>

<p>I am using the batch  files that are found <a href=""http://cran.r-project.org/contrib/extra/batchfiles/"" rel=""nofollow noreferrer"">here</a></p>

<p>I have created a batch file names <code>run.bat</code> which contains the following:</p>

<pre><code>Sweave myFile.Rnw
</code></pre>

<p>The first thing I do in my Sweave file after setting the wd is read in a dataset using the <code>RODBC</code> package:</p>

<pre><code>library(RODBC)
fetch &lt;- odbcConnect(""myDatabase"")
myData &lt;- ""select * from myTable""
x &lt;- sqlQuery(fetch, myData)
odbcCloseAll()
</code></pre>

<p>When I run my batch file, I receive the following error:</p>

<pre><code>Error: chunk 2
Error in library(RODBC) : there is no package called RODBC
In addition: Warning message:
In library(package, lib.loc = lib.loc, character.only = TRUE, logical.return = TRUE, :
    there is no package called 'xtable'
</code></pre>

<p>Obviously these packages do exist and are functional, but something isn't right in the permissions or it isn't finding the right directories. Any thoughts?</p>

<p>Related question <a href=""https://stackoverflow.com/questions/1188544/getting-windows-to-start-r-in-batch-mode-using-the-start-command"">here</a></p>
","415635","","-1","","2017-05-23 12:19:50","2010-08-24 18:40:35","Windows batch R Sweave error loading packages","<windows><r><batch-file><sweave>","2","0","","","","CC BY-SA 2.5","3558592","4452","4452","r","404559","3625322","3607736","",""
"3558988","1","3559204","","2010-08-24 17:04:19","","39","77763","<p>Will most likely expose that I am new to R, but in SPSS, running lags is very easy.  Obviously this is user error, but what I am missing?</p>

<pre><code>x &lt;- sample(c(1:9), 10, replace = T)
y &lt;- lag(x, 1)
ds &lt;- cbind(x, y)
ds
</code></pre>

<p>Results in:</p>

<pre><code>      x y
 [1,] 4 4
 [2,] 6 6
 [3,] 3 3
 [4,] 4 4
 [5,] 3 3
 [6,] 5 5
 [7,] 8 8
 [8,] 9 9
 [9,] 3 3
[10,] 7 7
</code></pre>

<p>I figured I would see:</p>

<pre><code>     x y
 [1,] 4 
 [2,] 6 4
 [3,] 3 6
 [4,] 4 3
 [5,] 3 4
 [6,] 5 3
 [7,] 8 5
 [8,] 9 8
 [9,] 3 9
[10,] 7 3
</code></pre>

<p>Any guidance will be much appreciated.</p>
","155406","","271616","","2012-08-31 02:49:42","2020-08-20 21:18:26","Basic lag in R vector/dataframe","<r><time-series><xts><zoo>","13","0","30","","","CC BY-SA 2.5","3558988","4452","4452","r","404559","3625322","3607736","",""
"3559632","1","3560604","","2010-08-24 18:15:45","","8","3083","<p>I have a stacked areaplot made with ggplot2:</p>
<pre><code>dists.med.areaplot&lt;-qplot(starttime,value,fill=dists,facets=~groupname,
    geom='area',data=MDist.median, stat='identity') + 
    labs(y='median distances', x='time(s)', fill='Distance Types')+
    opts(title=subt) + 
    scale_fill_brewer(type='seq') +
    facet_wrap(~groupname, ncol=2) + grect #grect adds the grey/white vertical bars
</code></pre>
<p>It looks like this:
<img src=""https://i.stack.imgur.com/sNFRS.png"" alt=""stacked area graph"" /></p>
<p>I want to add a an overlay of the profile of the control graph (bottom right) to all the graphs in the output (groupname==rowH is the control).</p>
<p>So far my best efforts have yielded this:</p>
<pre><code>cline&lt;-geom_line(aes(x=starttime,y=value), 
  data=subset(dists.med,groupname=='rowH'),colour='red')

dists.med.areaplot + cline
</code></pre>
<p><img src=""https://i.stack.imgur.com/IDDyb.png"" alt=""problem graph"" /></p>
<p>I need the 3 red lines to be 1 red line that skims the top of the dark blue section. And I need that identical line (the rowH line) to overlay each of the panels.</p>
<p>The dataframe looks like this:</p>
<pre><code>&gt; str(MDist.median)
'data.frame':   2880 obs. of  6 variables:
 $ groupname: Factor w/ 8 levels &quot;rowA&quot;,&quot;rowB&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
 $ fCycle   : Factor w/ 6 levels &quot;predark&quot;,&quot;Cycle 1&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
 $ fPhase   : Factor w/ 2 levels &quot;Light&quot;,&quot;Dark&quot;: 2 2 2 2 2 2 2 2 2 2 ...
 $ starttime: num  0.3 60 120 180 240 300 360 420 480 540 ...
 $ dists    : Factor w/ 3 levels &quot;inadist&quot;,&quot;smldist&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
 $ value    : num  110 117 115 113 114 ...
</code></pre>
<p>The red line should be calculated as the sum of the <code>value</code> at each starttime, where groupname='rowH'. I have tried creating <code>cline</code> the following ways. Each results in an error or incorrect output:</p>
<pre><code>#sums the entire y for all points and makes horizontal line
cline&lt;-geom_line(aes(x=starttime,y=sum(value)),data=subset(dists.med,groupname=='rowH'),colour='red') 

 #using related dataset with pre-summed y's 
&gt; cline&lt;-geom_line(aes(x=starttime,y=tot_dist),data=subset(t.med,groupname=='rowH'))
&gt; dists.med.areaplot + cline
Error in eval(expr, envir, enclos) : object 'dists' not found
</code></pre>
<p>Thoughts?</p>
<h1>ETA:</h1>
<p>It appears that the issue I was having with <code>'dists' not found</code> has to do with the fact that the initial plot, <code>dists.med.areaplot</code> was created via qplot. To avoid this issue, I can't build on a qplot. This is the code for the working plot:</p>
<pre><code>cline.data &lt;- subset(
        ddply(MDist.median, .(starttime, groupname), summarize, value = sum(value)),
        groupname == &quot;rowH&quot;) 
cline&lt;-geom_line(data=transform(cline.data,groupname=NULL), colour='red') 

dists.med.areaplot&lt;-ggplot(MDist.median, aes(starttime, value)) +
  grect + nogrid +
  geom_area(aes(fill=dists),stat='identity') + 
  facet_grid(~groupname)+ scale_fill_brewer(type='seq') +
  facet_wrap(~groupname, ncol=2) + 
  cline
</code></pre>
<p>resulting in this graphset:
<img src=""https://i.stack.imgur.com/Uq8CG.png"" alt=""alt text"" /></p>
","128245","","-1","","2020-06-20 09:12:55","2010-08-25 13:30:30","ggplot2: overlay control group line on graph panel set","<r><graph><ggplot2>","1","0","7","","","CC BY-SA 2.5","3559632","4452","4452","r","404559","3625322","3607736","",""
"3560641","1","","","2010-08-24 20:13:44","","5","8854","<p>I have a BATCH File script on a Windows machine that consists of the following line:</p>

<pre><code>c:\R\bin\Rscript.exe ""c:\Users\user\Documents\Shares.R"" 
</code></pre>

<p>I want to do the same thing but using Mac OS X at the moment I am using Automator => Run Shell Script and the following line:</p>

<pre><code>open ""/usr/bin/Rscript"" ""/Users/usr/Documents/Shares.R""
</code></pre>

<p>It opens R, finds the file and displays the R code. I want the R code contained in the script to run (like it does in Windows). </p>

<p>Any ideas?</p>

<p>Anthony. </p>
","386448","","","","","2018-06-20 14:42:11","Running an Rscript on Mac OS X","<macos><r>","2","0","1","","","CC BY-SA 2.5","3560641","4452","4452","r","404559","3625322","3607736","",""
"3562811","1","3568453","","2010-08-25 04:13:23","","7","4157","<p>Assume A  follows Exponential distribution; B follows Gamma distribution
How to plot the PDF of 0.5*(A+B)</p>
","297850","","","","","2010-08-25 20:16:32","How to plot the probabilistic density function of a function?","<r>","4","0","","","","CC BY-SA 2.5","3562811","4452","4452","r","404559","3625322","3607736","",""
"3562966","1","3563042","","2010-08-25 05:01:06","","3","145","<p>I have an R question--I want to make a vector of functions, and then be able to call one of the functions by name.  However, when I use this name, I want to use a tag which maps to that name, so that I can chance which name I use without having to change the code. For example:</p>

<pre><code>#define tag
tag&lt;-""F""
#define functions
f &lt;- function(x) print(x^2)
g &lt;- function(x) print(x^3)
#define vector
fs&lt;-c(f,g)
names(fs)&lt;-c(""F"", ""G"")
#create input data
x&lt;-5
fs$F(x)
#this gives the desired output but I want to use tag
#that is, I want syntax which uses tag, so that which element I use from fs is flexible until tag is defined
#e.g. I had hoped the following would work, but it doesn't
fs[tag](x)
</code></pre>

<p>Any suggestions?</p>
","430283","","","","","2010-08-25 05:20:21","In R, how can an element of a vector of functions be selected and applied?","<r><user-defined-functions>","1","0","1","","","CC BY-SA 2.5","3562966","4452","4452","r","404559","3625322","3607736","",""
"3564044","1","","","2010-08-25 08:22:24","","3","2352","<p>I have a data set like this one below:</p>

<pre><code>DataFrame &lt;- data.frame(x=runif(25),y=runif(25),
                        z=sample(letters[1:4],25,rep=TRUE))
</code></pre>

<p>and using the Lattice package, I can make a scatter plot with equal axes (with a 1:1 line going through the centre) with the following lines:</p>

<pre><code>xyplot(y ~ x | z, data=DataFrame,
       scales=list(relation=""free""),
       prepanel=function(x,y,...) {
         rg &lt;- range(na.omit(c(x,y)))
         list(xlim=rg,ylim=rg)
       },panel=function(x,y,...) {
         panel.abline(0,1)
         panel.xyplot(x,y,...)
       })
</code></pre>

<p>In ggplot2, I have gotten this far: </p>

<pre><code>ggplot(data=DataFrame) + geom_point(aes(x=x,y=y)) +
  facet_grid(~z,scales=""free"") + coord_equal(ratio=1) +
  geom_abline(intercept=0,slope=1)
</code></pre>

<p>But I'm not sure that coord_equal() is the function I'm looking for. What might be the equivalent function call in ggplot2?</p>
","143476","","37751","","2010-08-25 14:44:24","2011-12-02 01:04:30","scatterplot with equal axes","<r><ggplot2>","2","0","1","","","CC BY-SA 2.5","3564044","4452","4452","r","404559","3625322","3607736","",""
"3565429","1","","","2010-08-25 11:42:50","","1","198","<p>I have a zoo series. It lasts 10 years and its frequency is 15min.</p>

<p>I'd like to get a new zoo series (or vector) with the same number of elements, whith each element equal to the first element of the day.
That's, The first element everyday is repeated throughout the wole day.</p>

<p>This is not same as aggregate(originalseries,as.Date,head,1) because this gives a vector with just one element for each day.</p>

<p>cheers</p>
","425895","","52626","","2011-03-28 20:16:12","2011-03-28 20:16:12","R. Zoo. Repeat the first day data through all the day","<r><zoo>","1","1","","","","CC BY-SA 2.5","3565429","4452","4452","r","404559","3625322","3607736","",""
"3567025","1","","","2010-08-25 14:40:00","","1","979","<p>How can I get the duration of the drawdowns in a zoo serie?
the drawdowns can be calculated with cummax(mydata)-mydata.  Whenever this value is above zero I have a drawdown.
The Drawdown is the measure of the decline from a historical peak (maximum).
It lasts till this value is reached again.</p>
","425895","","","","","2010-08-27 17:21:12","Drawdown duration","<r>","1","1","","","","CC BY-SA 2.5","3567025","4452","4452","r","404559","3625322","3607736","",""
"3567941","1","3570259","","2010-08-25 16:07:22","","4","1542","<p>A cashflow diagram is often used when explaining derivatives in financial engineering.  It shows the payoffs at different times.  I couldn't find a great example online, but it looks something like this:</p>

<p><img src=""https://i.stack.imgur.com/Hq2EW.gif"" alt=""alt text""></p>

<p>I would like to make something roughly equivalent using <code>ggplot2</code>.  My thought was to use a stacked <a href=""http://had.co.nz/ggplot2/geom_bar.html"" rel=""nofollow noreferrer"">bar plot</a>, where the zero axis is somewhere in the middle.  Does anyone know how to do this?</p>

<p>Here's some example data:</p>

<pre><code>data.frame(time=c(1, 2, 3), positive=c(5, 0, 4), negative=c(-2, 0, 0))
</code></pre>

<p><em>Edit:</em></p>

<p>Thanks to Hadley's answer; the resulting image looks like:</p>

<p><img src=""https://i.stack.imgur.com/NPw5V.jpg"" alt=""alt text""></p>

<p>With boxes it looks like:</p>

<p><img src=""https://i.stack.imgur.com/kN4s8.jpg"" alt=""alt text""></p>
","163053","","163053","","2010-08-26 02:52:07","2010-08-26 02:52:07","Cashflow diagram in R?","<r><ggplot2>","2","0","2","","","CC BY-SA 2.5","3567941","4452","4452","r","404559","3625322","3607736","",""
"3569045","1","3573486","","2010-08-25 18:25:11","","3","392","<p>I have a data frame with three columns: timestamp, key, event which is ordered by time. </p>

<pre><code>ts,key,event
 3,12,1
 8,49,1
 12,42,1
 46,12,-1
 100,49,1
</code></pre>

<p>From this, I want to create a data frame with timestamp and (all unique keys - all unique keys with cumulative sum 0 up until a given timestamp) divided by all unique keys until the same timestamp. E.g. for the above example the result should be:</p>

<pre><code>ts,prob
3,1
8,1
12,1
46,2/3
100,2/3
</code></pre>

<p>My initial step is to calculate the cumsum grouped by key:</p>

<pre><code>items = data.frame(ts=c(3,8,12,46,100), key=c(12,49,42,12,49), event=c(1,1,1,-1,1))
sumByKey = ddply(items, .(key), transform, sum=cumsum(event))
</code></pre>

<p>In the second (and final) step i iterate over <code>sumByKey</code> with a for-loop and keep track of both all unique keys and all unique keys that have a 0 in their sum using vectors, e.g. <code>if(!(k %in% uniqueKeys) uniqueKeys = append(uniqueKeys, key)</code>. The prob is derived using the two vectors.</p>

<p>Initially, i tried to solve the second step using plyr, but i wanted to avoid re-calculating the unique keys up to a certain timestamp for each row in <code>sumByKey</code>. What im missing is a way to either refer to external variables from a function passed to ddply. Or, alternatively (and more functional), use an accumulator passed back into the function, e.g. function(acc, x) acc + x. </p>

<p>Is it possible to solve the second step in a better way, using e.g. ddply?</p>
","430927","","430927","","2010-08-26 17:30:14","2010-08-26 17:30:14","calculating sums of unique values in a log in R","<r>","2","1","","","","CC BY-SA 2.5","3569045","4452","4452","r","404559","3625322","3607736","",""
"3569051","1","3574413","","2010-08-25 18:25:51","","0","931","<p>How do you create your status line at the bottom of your window? An inactive entry does not look very nice. What other options are there?</p>

<p>Is possible to integrate a progress bar which is visible only on demand?</p>

<p>(I am using tk and ttk from within R.)</p>

<p><strong>EDIT</strong>: Now here is my second version, which works fine for me, but I would like to display the whole status bar on demand only (similar to what the status bar in the Chrome browser does). How can I do that? Calling tklower(f) does not help...</p>

<pre><code>library(tcltk)
library(tcltk2)
tkdestroy(root)
root &lt;- tktoplevel()
status &lt;- tclVar("""")
progress &lt;- tclVar(""0"")
b &lt;- tk2button(root, text=""fake doing something!"")
tkpack(b, padx=40, pady=10)
o &lt;- tk2checkbutton(root, text=""show progress"", variable=progress)
tkpack(o, pady=10)

f &lt;- tk2frame(root, relief=""sunken"")
l &lt;- tk2label(f, textvariable=status)
tkpack(l, side=""left"", pady=2, padx=5, expand=0, fill=""x"")
tkpack(f, side=""left"", expand=1, fill=""x"", anchor=""s"")

sg &lt;- ttksizegrip(root)
tkpack(sg, side=""left"", expand=0, anchor=""se"")

doit &lt;- function() {
    tclvalue(status) &lt;- ""working (hard) ...""
    tcl(""update"")
    do.pb &lt;- tclvalue(progress)==""1""
    if(do.pb) {
        pb &lt;- tk2progress(f, length=60, mode=""determinate"")
        tkpack(pb, side=""right"", expand=0, padx=3, pady=2)        
        tkconfigure(pb, maximum=100, value=0)
    }
    for(i in 1:100) {
        if(do.pb) {
            tkconfigure(pb, value=i)
            tcl(""update"")
        }
        Sys.sleep(0.03)
    }
    if(do.pb) tkdestroy(pb)
    tclvalue(status) &lt;- ""Ready.""
}
tkconfigure(b, command=doit)

tclvalue(status) &lt;- ""Ready.""
</code></pre>
","216064","","301832","","2010-09-06 08:50:46","2010-09-06 08:50:46","How to create a status line with ttk?","<r><tcl><tk><ttk>","2","0","","","","CC BY-SA 2.5","3569051","4452","4452","r","404559","3625322","3607736","",""
"3570700","1","","","2010-08-25 22:23:08","","2","5795","<p>I have the following R code:</p>

<pre><code>df &lt;- xmlToDataFrame(/Users/usr/Desktop/shares.xml)
df$timeStamp &lt;- strptime(as.character(df$XTimeStamp), ""%H:%M:%OS"")
df$SharePrice &lt;- as.numeric(as.character(df$SharePrice))
sapply(df, class)
options(""digits.secs""=3)
diff &lt;- diff(df$SharePrice)
diff
sink (file=""c:/xampp/htdocs/data.xml"", type=""output"",split=FALSE)
cat(""&lt;graph caption=\""Share Price Data Wave\"" subcaption=\""For Company's Name\""    xAxisName=\""Time\"" yAxisMinValue=\""0\"" yAxisName=\""Price\"" decimalPrecision=\""5\"" formatNumberScale=\""0\"" numberPrefix=\""\"" showNames=\""1\"" showValues=\""0\"" showAlternateHGridColor=\""1\"" AlternateHGridColor=\""ff5904\"" divLineColor=\""ff5904\"" divLineAlpha=\""20\"" alternateHGridAlpha=\""5\""&gt;\n"")
cat(sprintf(""    &lt;set name=\""%s\"" value=\""%f\"" hoverText = \""The difference from last value = %d\"" &gt;&lt;/set&gt;\n"", df$XTimeStamp, df$SharePrice, diff))
</code></pre>

<p>I am creating a new xml file in a format that FusionChart Free can read and I am trying to put the message in the hoverText area. However, when I run the commands I get the following error:</p>

<pre><code>Error in sprintf(""    &lt;set name=\""%s\"" value=\""%f\"" hoverText = \""The difference from last value = %d\"" &gt;&lt;/set&gt;\n"",  : 
 arguments cannot be recycled to the same length
</code></pre>

<p>When I view the diff it has one less diff than SharePrice (obviously because the difference from point 1 to point 1 is zero), so how can account for this in the sprint function (It produces the correct format xml file if I leave out the diff)?</p>
","386448","","","","","2010-08-26 07:05:52","Help with sprintf function in R","<r><printf>","2","0","","","","CC BY-SA 2.5","3570700","4452","4452","r","404559","3625322","3607736","",""
"3570767","1","3576262","","2010-08-25 22:37:43","","7","11201","<p>I would like to generate a random sequence composed of 3000 points, which follows the normal distribution. The mean is c and the standard deviation is d. But I would like these 3000 points lies in the range of [a,b].</p>

<p>Can you tell me how to do it in R?</p>

<p>If I would like to plot this sequence, if Y-axis uses the generated 3000 points, then how should I generate the points corresponding to X-axis.</p>
","285109","","","","","2010-08-26 14:46:22","generate random sequence and plot in R","<r>","4","0","4","","","CC BY-SA 2.5","3570767","4452","4452","r","404559","3625322","3607736","",""
"3571909","1","3572115","","2010-08-26 03:47:11","","51","137535","<p>I have a dataframe and would like to calculate the <a href=""http://stat.ethz.ch/R-manual/R-patched/library/stats/html/cor.html"" rel=""noreferrer"">correlation</a> (with Spearman, data is categorical and ranked) but only for a subset of columns. I tried with all, but R's <a href=""http://stat.ethz.ch/R-manual/R-patched/library/stats/html/cor.html"" rel=""noreferrer"">cor</a>() function only accepts numerical data (x must be numeric, says the error message), even if Spearman is used.</p>

<p>One brute approach is to delete the non-numerical columns from the dataframe. This is not as elegant, for speed I still don't want to calculate correlations between <em>all</em> columns. </p>

<p>I hope there is a way to simply say ""calculate correlations for columns x, y, z"". Column references could by number or by name. I suppose the flexible way to provide them would be through a vector.</p>

<p>Any suggestions are appreciated. </p>
","277434","","202229","","2020-01-11 13:02:54","2020-01-11 13:02:54","Calculate correlation with cor(), only for numerical columns","<r><correlation>","4","2","31","","","CC BY-SA 4.0","3571909","4452","4452","r","404559","3625322","3607736","",""
"3572607","1","23551909","","2010-08-26 06:39:58","","22","14106","<p>Following the directions provided in <a href=""https://stackoverflow.com/questions/3528947/sendmailr-submit-encoded-message-to-local-smtp-server"">this</a> related question, I was able to send html formated mail messages. Now the question is this: How should I modify the following code, in order to attach one or more files (of any type) to this message?</p>

<pre><code>library(sendmailR)

from &lt;- ""&lt;sendmailR@myserver.mycompany.com&gt;""
to &lt;- c(""&lt;someone@mycompany.com&gt;"",""&lt;anotherone@mycompany.com&gt;"")
subject &lt;- iconv(""Message Title"", to = ""utf8"")

msg &lt;- ""&lt;hr size='2' width='33%' style='text-align: left;'&gt;&lt;font size='2'&gt;
  &lt;i&gt;This email was sent automatically using &lt;a href='http://finzi.psych.upenn.edu/R/library/sendmailR/html/00Index.html' rel='nofollow' target='_blank'&gt;sendmailR&lt;/a&gt;.&lt;br&gt;
  Please do not reply directly to this e-mail.&lt;/i&gt;&lt;/font&gt;""

msg &lt;- iconv(msg, to = ""utf8"")

sapply(to,function(x) sendmail(from, x, subject, msg, control=list(smtpServer=""###.###.###.###""), headers=list(""Content-Type""=""text/html; charset=UTF-8; format=flowed"")))
</code></pre>
","170792","","-1","","2017-05-23 12:17:33","2017-03-30 18:30:28","sendmailR (Part2): Sending files as mail attachments","<r><email><smtp><email-attachments>","5","1","9","","","CC BY-SA 2.5","3572607","4452","4452","r","404559","3625322","3607736","",""
"3574114","1","3574473","","2010-08-26 10:15:00","","5","6458","<p>I am using the following code for the Share Price Application I have been developing (with plenty of help from people here that is greatly appreciated!). One of the things it should do is allow the user to pick a company to analyse from stored XML Files, I have been using the following code to do this:</p>

<pre><code>df &lt;- xmlToDataFrame(file.choose())
</code></pre>

<p>Instead of using file.choose () {as apparently the dialogue box reveals to much of the system structure}, it has been suggested to use a drop down menu, with a list of the companies and a link to the file.</p>

<p>Is such a thing possible in R and is there an easy-ish  way of implementating it?</p>
","386448","","881229","","2014-03-25 16:29:25","2014-09-12 11:33:53","Drop down list implementation in R","<r><drop-down-menu>","2","2","3","","","CC BY-SA 3.0","3574114","4452","4452","r","404559","3625322","3607736","",""
"3574385","1","3574436","","2010-08-26 10:54:00","","9","3659","<p>Sometimes it would be useful to name variables like no programmer should name his or her variables. Of course there's some good reason for conventions and limitations on stoopid variable names, but still I'd be nice. Particularly in a language like R that is used frequently to create graphs and some labels with the graphs. Thus, some labels contain variable names. </p>

<p>Is there a way to use something like a+b as a variable name in R? Or is there something like a display name? For example in faceting with ggplot2 such an option would be great.</p>

<pre><code>p_big + facet_grid(x ~ y,scales=""free"") +labs(x="""",y="""")

# with x containing a+b, d&amp;c 
</code></pre>

<p>thx for any ideas in advance!</p>
","366256","","366256","","2010-08-26 12:00:49","2010-08-26 22:18:54","Can I escape characters in variable names?","<r><escaping>","1","0","4","","","CC BY-SA 2.5","3574385","4452","4452","r","404559","3625322","3607736","",""
"3574858","1","3575135","","2010-08-26 12:03:38","","1","360","<p>Consider this output from <code>browser()</code> that is located inside <code>calcDistance</code>:</p>

<pre><code>Called from: calcDistance(object = rst, xy = xy[[i]][j, ], effect.distance = effect.distance)
Browse[1]&gt; ls.str()
effect.distance :  num 236
object : Formal class 'RasterLayer' [package ""raster""] with 12 slots
xy :  Named num [1:2] -101.8 35.5

Browse[1]&gt; 
debugging in: xyValues(object = object, xy = xy, buffer = effect.distance)
debug: standardGeneric(""xyValues"")

Browse[2]&gt; ls.str()
object : Formal class 'RasterLayer' [package ""raster""] with 12 slots
xy :  Named num [1:2] -101.8 35.5
</code></pre>

<p>Functions are as follows: simulationRun > createDistRaster > calcDistance > raster::xyValues. In the above output, you only see the last two. <code>xyValues</code> is from raster package.</p>

<p>First paragraph of code shows that three objects are present: <code>effect.distance</code>, <code>object</code>, <code>xy</code>.
In second paragraph, we descend into xyValues by calling debug(xyValues).
In third paragraph we can see that <code>effect.distance</code> is missing.</p>

<p>My question is: Even though <code>object</code> and <code>xy</code> seem to be copied to the <code>xyValues</code> environment just fine, <code>effect.distance</code> is not. How could this be explained?</p>

<p>My sessionInfo()</p>

<pre><code>R version 2.11.1 (2010-05-31) 
i386-pc-mingw32 

locale:
[1] LC_COLLATE=Slovenian_Slovenia.1250  LC_CTYPE=Slovenian_Slovenia.1250   
[3] LC_MONETARY=Slovenian_Slovenia.1250 LC_NUMERIC=C                       
[5] LC_TIME=Slovenian_Slovenia.1250    

attached base packages:
[1] splines   stats     graphics  grDevices utils     datasets  methods  
[8] base     

other attached packages:
 [1] raster_1.3-11   foreach_1.3.0   codetools_0.2-2 iterators_1.0.3
 [5] Hmisc_3.8-2     survival_2.35-8 spam_0.22-0     splancs_2.01-27
 [9] sp_0.9-66       spatstat_1.20-2 deldir_0.0-12   mgcv_1.6-2     

loaded via a namespace (and not attached):
[1] cluster_1.12.3     grid_2.11.1        lattice_0.18-8     Matrix_0.999375-39
[5] nlme_3.1-96        tools_2.11.1 
</code></pre>
","322912","","","","","2010-08-27 10:10:11","values not being copied to the next (local) environment?","<r><function><environment>","2","0","","","","CC BY-SA 2.5","3574858","4452","4452","r","404559","3625322","3607736","",""
"3579043","1","3582281","","2010-08-26 20:04:16","","1","1306","<p>I have to solve the following convolution related numerical integration problem in R or perhaps computer algebra system like Maxima.<br>
<strong>Integral[({k(y)-l(y)}^2)dy]</strong><br>
where<br>
 k(.) is the pdf of a standard normal distribution<br>
l(y)=integral[k(z)*k(z+y)dz] (standard convolution)<br>
z and y are scalars<br>
The domain of y is -inf to +inf.<br>
The integral in function l(.) is an indefinite integral. Do I need to add any additional assumption on z  to obtain this?<br>
Thank you.</p>
","227290","","227290","","2010-08-26 20:47:09","2021-01-06 16:21:57","Computation of numerical integral involving convolution","<r><statistics><maxima>","4","2","0","","","CC BY-SA 2.5","3579043","4452","4452","r","404559","3625322","3607736","",""
"3580532","1","3582783","","2010-08-27 00:26:23","","10","6480","<p>Using R, I just want to read the contents of a file into a variable like:</p>

<pre><code>query &lt;- read_file_contents('biglongquery.sql')
</code></pre>

<p>As to avoid putting, well, big long queries in the R script itself. I do <em>not</em> want to read in data like CSV (e.g. <code>read.tables</code>), etc- just the raw text.</p>
","160511","","","","","2010-08-27 13:14:27","R: read contents of text file as a query?","<r>","3","6","5","","","CC BY-SA 2.5","3580532","4452","4452","r","404559","3625322","3607736","",""
"3581289","1","","","2010-08-27 04:15:44","","0","1988","<p>Can anyone tell me what does Rterm.exe and Rcmd.exe do.</p>

<p>Thanks,</p>
","302058","","302058","","2010-08-27 07:34:38","2010-08-27 08:40:05","Rterm.exe and Rcmd.exe","<r>","1","1","","","","CC BY-SA 2.5","3581289","4452","4452","r","404559","3625322","3607736","",""
"3582316","1","3583559","","2010-08-27 08:00:34","","5","3564","<p>I have successfully completed a multiple imputation on the missing data of my questionnaire research using the MICE package in R and performed a linear regression on the pooled imputed variables. I can't seem to work out how to extract single pooled variables and plot in a graph. Any ideas?</p>

<p>e.g.</p>

<pre><code>&gt;imp &lt;- mice(questionnaire) 
&gt;fit &lt;- with(imp, lm(APE~TMAS+APB+APA+FOAP))  
&gt;summary(pool(fit))  
</code></pre>

<p>I want to plot pooled APE by TMAS.</p>

<p><strong>Reproducible Example using nhanes:</strong></p>

<pre><code>&gt; library(mice)
&gt; nhanes
&gt; imp &lt;-mice(nhanes)
&gt; fit &lt;-with(imp, lm(bmi~chl+hyp))
&gt; fit
&gt; summary(pool(fit))
</code></pre>

<p>I would like to plot pooled chl against pooled bmi (for example).</p>

<p>Best I have been able to achieve is</p>

<pre><code>&gt; mat &lt;-complete(imp, ""long"")
&gt; plot(mat$chl~mat$bmi)
</code></pre>

<p>Which I believe gives the combined plot of all 5 imputations and is not quite what I am looking for (I think).</p>
","471431","","8916031","","2019-09-04 23:01:59","2019-09-04 23:01:59","Plot Multiple Imputation Results","<r><plot><missing-data><imputation><r-mice>","1","3","3","","","CC BY-SA 3.0","3582316","4452","4452","r","404559","3625322","3607736","",""
"3583057","1","3583311","","2010-08-27 09:55:38","","0","689","<p>I'm new to R and ggplot2 - any advice appreciated!</p>

<p>For each year I am trying to plot the ratios of incomes between different skill groups in ggplot. I.e. I want to have the ratio of incomes Level_4/Level_3, Level_4/Level_2 and Level_4/Level_1 in the same plot.</p>

<p>Data frame column headings are Skills (Levels 1 to 4), Year and MeanIncome</p>

<p>Here an extract from my data frame:</p>

<pre><code>   Skills Year MeanIncome


1  Level_1 1970        9330.00
2  Level_1 1973       11525.00
3  Level_1 1976       12740.00
4  Level_1 1979       15533.33
14 Level_2 1970       10171.00
15 Level_2 1973       12400.00
16 Level_2 1976       12012.50
17 Level_2 1979       18550.00
27 Level_3 1970        8580.00
28 Level_3 1973       12433.33
29 Level_3 1976       14673.33
30 Level_3 1979       14400.00
40 Level_4 1973       35000.00
41 Level_4 1976       30000.00
42 Level_4 1979       36000.00
</code></pre>

<p>Thanks in advance for any advice. </p>

<p>(edited for legibility)</p>
","432780","","432780","","2010-08-27 16:49:23","2010-08-27 16:49:23","How to plot ratios based on characteristic in another column","<r>","2","1","","","","CC BY-SA 2.5","3583057","4452","4452","r","404559","3625322","3607736","",""
"3584329","1","3584394","","2010-08-27 12:56:20","","14","20874","<p>I am in my way of finishing the graphs for a paper and decided (<a href=""https://stats.stackexchange.com/questions/2067/follow-up-in-a-mixed-within-between-anova-plot-estimated-ses-or-actual-ses"">after a discussion on stats.stackoverflow</a>), in order to transmit as much information as possible, to create the following graph that present both in the foreground the means and in the background the raw data:
<img src=""https://i.stack.imgur.com/mLNqy.png"" alt=""alt text""></p>

<p>However, one problem remains and that is overplotting. For example, the marked point looks like it reflects one data point, but in fact 5 data points exists with the same value at that place.<br>
<strong>Therefore, I would like to know if there is a way to deal with overplotting in <code>base graph</code> using <code>points</code> as the function.</strong><br>
It would be ideal if e.g., the respective points get darker, or thicker or,...  </p>

<p>Manually doing it is not an option (too many graphs and points like this). Furthermore, <code>ggplot2</code> is also not what I want to learn to deal with this single problem (one reason is that I tend to like dual-axes what is not supprted in <code>ggplot2</code>).</p>

<hr>

<p><strong>Update:</strong> I wrote a function which automatically creates the above graphs and avoids overplotting by adding vertical or horizontal jitter (or both): <a href=""http://www.psychologie.uni-freiburg.de/Members/singmann/R/raw.means.plot"" rel=""nofollow noreferrer"">check it out!</a></p>

<p>This function is now available as <code>raw.means.plot</code> and <code>raw.means.plot2</code> in the <a href=""http://cran.r-project.org/web/packages/plotrix/index.html"" rel=""nofollow noreferrer""><code>plotrix</code></a> package (on CRAN).</p>
","289572","","-1","","2017-04-13 12:44:13","2013-05-31 09:54:58","How to avoid overplotting (for points) using base-graph?","<r><graphics><plot><points>","4","0","8","","","CC BY-SA 3.0","3584329","4452","4452","r","404559","3625322","3607736","",""
"3585631","1","3585976","","2010-08-27 15:19:53","","9","37751","<p>I'd like to create a function that automatically generates uni and multivariate regression analyses, but I'm not able to figure out how I can specify **variables in vectors...**This seems very easy, but skimming the documentation I havent figured it out so far...</p>

<p>Easy example</p>

<pre><code>a&lt;-rnorm(100)
b&lt;-rnorm(100)
k&lt;-c(""a"",""b"")
d&lt;-c(a,b)
summary(k[1])
</code></pre>

<p>But k[1]=""a"" and is a character vector...d is just b appended to a, not the variable names. In effect I'd like k[1] to represent the vector a. </p>

<p>Appreciate any answers...</p>

<p>//M</p>
","338745","","","","","2010-08-27 15:56:19","vector of variable names in R","<variables><r><vector>","3","0","6","","","CC BY-SA 2.5","3585631","4452","4452","r","404559","3625322","3607736","",""
"3586866","1","3587011","","2010-08-27 17:52:18","","7","2038","<p>I am building a gui which lets me select a subset of a data.frame by clicking on the various factor names.
After having received user input, how do i pass it to the subset function? </p>

<p>e.g.: I have a dataframe df with factors MORNING and EVENING in column timeofday and RECEIVE and SEND in column optype. From the GUI I know that the user wants to a subset containing only RECEIVE operations, so i have the following strings as well:</p>

<p>RequestedFactor1 which equals ""optype""<br>
RequestedRelationship1 equals ""==""<br>
RequestedValue1 which equals ""RECEIVE""  </p>

<p>What can i do to those strings to pass them to subset, so that I will receive the same output as if i had called <strong>subset(df,optype==""RECEIVE"")</strong> ?</p>

<p>TIA</p>
","422126","","422126","","2010-08-27 17:58:48","2010-08-27 19:05:05","how do i pass parameters to subset()?","<r>","2","0","2","","","CC BY-SA 2.5","3586866","4452","4452","r","404559","3625322","3607736","",""
"3588961","1","","","2010-08-28 00:41:16","","21","22355","<p>I would like to force specific variables into glm regressions without fully specifying each one.  My real data set has ~200 variables.  I haven't been able to find samples of this in my online searching thus far.</p>

<p>For example (with just 3 variables):</p>

<pre><code>n=200
set.seed(39) 
samp = data.frame(W1 = runif(n, min = 0, max = 1), W2=runif(n, min = 0, max = 5)) 
samp = transform(samp, # add A
A = rbinom(n, 1, 1/(1+exp(-(W1^2-4*W1+1))))) 
samp = transform(samp, # add Y
Y = rbinom(n, 1,1/(1+exp(-(A-sin(W1^2)+sin(W2^2)*A+10*log(W1)*A+15*log(W2)-1+rnorm(1,mean=0,sd=.25))))))
</code></pre>

<p>If I want to include all main terms, this has an easy shortcut:</p>

<pre><code>glm(Y~., family=binomial, data=samp)
</code></pre>

<p>But say I want to include all main terms (W1, W2, and A) plus W2^2:</p>

<pre><code>glm(Y~A+W1+W2+I(W2^2), family=binomial, data=samp)
</code></pre>

<p>Is there a shortcut for this?</p>

<p>[editing self before publishing:] This works! <code>glm(formula = Y ~ . + I(W2^2), family = binomial, data = samp)</code> </p>

<p>Okay, so what about this one!</p>

<p>I want to omit one main terms variable and include only two main terms (A, W2) and W2^2 and W2^2:A:</p>

<pre><code>glm(Y~A+W2+A*I(W2^2), family=binomial, data=samp)
</code></pre>

<p>Obviously with just a few variables no shortcut is really needed, but I work with high dimensional data.  The current data set has ""only"" 200 variables, but some others have thousands and thousands.</p>
","282892","","","user1131435","2013-04-14 23:40:47","2014-03-09 22:27:58","Specifying formula in R with glm without explicit declaration of each covariate","<r><main><regression><glm>","2","1","21","","","CC BY-SA 2.5","3588961","4452","4452","r","404559","3625322","3607736","",""
"3590040","1","3591463","","2010-08-28 08:24:45","","4","3444","<p>I use <code>par(new=T)</code> before each of my plots to add my plot to the same graph.</p>

<p>However, when I do that it superimposes the two plots and the axis values get overwritten over each other and look messed up.</p>

<p>How do I properly add plot to the same graph that also normalizes axis intervals based on the two plots?</p>
","236215","","133203","","2010-08-28 08:44:14","2010-08-28 16:15:37","Combine plots with axis normalization","<r><plot>","2","0","2","","","CC BY-SA 2.5","3590040","4452","4452","r","404559","3625322","3607736","",""
"3590045","1","3596420","","2010-08-28 08:28:35","","3","317","<p>I have to merge to data frames in R. The two data frames share a common id variable, the name of the subject. However, the names in one data frame are partly capitalized, while in the other they are in lower cases. Furthermore the names appear in reverse order. Here is a sample from the data frames:</p>

<pre><code>DataFrame1$Name:
""Van Brempt Kathleen""
""Grle Ingeborg""
""Gauzs Jean-Paul""
""Winkler Iuliu"" 

DataFrame2$Name:
""Kathleen VAN BREMPT"" 
""Ingeborg GRSSLE""
""Jean-Paul GAUZS""
""Iuliu WINKLER""
</code></pre>

<p>Is there a way in R to make these two variables usable as an identifier for merging the data frames?</p>

<p>Best, Thomas</p>
","363268","","1505120","","2015-09-20 11:21:58","2015-09-20 11:21:58","Transforming character strings in R","<r><data-structures><statistics>","4","0","","","","CC BY-SA 2.5","3590045","4452","4452","r","404559","3625322","3607736","",""
"3591558","1","3591574","","2010-08-28 16:43:17","","3","361","<p>I know nothing about R, when I read a R code, in the very first line, there appears</p>

<pre><code>rm(list=ls())
</code></pre>

<p>What does it mean?  Thanks</p>
","427183","","101258","","2010-08-28 16:44:10","2010-08-28 16:49:05","What is this statement doing in R code?","<r>","1","1","","","","CC BY-SA 2.5","3591558","4452","4452","r","404559","3625322","3607736","",""
"3592244","1","3592328","","2010-08-28 20:07:17","","4","772","<p>The following R code generates a snippet from data frame I am working with at the moment:</p>

<pre><code>rep1 &lt;- c(""20/02/01"",""23/03/02"")
rep2 &lt;- c(NA, ""03/05/02"")
rep3 &lt;- c(""16/04/01"",NA)
rep4 &lt;- c(NA,""12/02/03"")
data &lt;- data.frame(rep1 = rep1, rep2 = rep2, rep3 = rep3, rep4 = rep4)
</code></pre>

<p>The data frame generated by the code looks like this:</p>

<pre><code>      rep1     rep2     rep3     rep4
1 20/02/01     &lt;NA&gt; 16/04/01     &lt;NA&gt;
2 23/03/02 03/05/02     &lt;NA&gt; 12/02/03
</code></pre>

<p>I would like to rearrange this data frame so it looks like this:</p>

<pre><code>      rep1     rep2   rep3     rep4
1 20/02/01 16/04/01    &lt;NA&gt;     &lt;NA&gt;
2 23/03/02 03/05/02   12/02/03   &lt;NA&gt; 
</code></pre>

<p>That is, for every row I would like to replace every NA with the next entry in the row, untill there are only NAs left in the row.</p>

<p>The true data frame consists of many thousand rows, so doing this by hand would mean many late hours in the office.</p>

<p>If anyone could tell me how to do this in R, I would be most grateful!</p>
","363268","","4370109","","2015-12-03 21:03:28","2015-12-03 21:03:28","Rearranging a data frame in R","<r><dataframe>","2","2","","","","CC BY-SA 3.0","3592244","4452","4452","r","404559","3625322","3607736","",""
"3592568","1","3592604","","2010-08-28 21:36:29","","2","170","<p>I read a R code on loess regression, here is part of it:</p>

<pre><code>f.lo&lt;- loess(bgs ~ f[,1], span=bw, degree=1)
bsln &lt;- f.lo$fitted
</code></pre>

<p>What are their functions: <code> bgs~f[,1]  </code>, the <code>~</code> and the <code>$</code> in the next line? thanks</p>
","427183","","61855","","2010-08-28 21:48:03","2010-08-29 09:34:12","what are the meaning of these R notes","<r>","2","0","","","","CC BY-SA 2.5","3592568","4452","4452","r","404559","3625322","3607736","",""
"3592856","1","3594115","","2010-08-28 23:09:09","","5","5698","<p>When running</p>

<pre><code>R CMD BATCH [options] filename.r
</code></pre>

<p>I want to control where the output is printed. I can suppress the creation of the .Rout file with </p>

<pre><code>R CMD BATCH [options] filename.r /dev/null
</code></pre>

<p>but is it possible to direct the output to the screen? Like when I run it by</p>

<pre><code>R [options] &lt; filename.r
</code></pre>

<p>?</p>
","143476","","","","","2011-12-15 08:54:16","running R in batch-mode - print to screen?","<r>","3","1","1","","","CC BY-SA 2.5","3592856","4452","4452","r","404559","3625322","3607736","",""
"3593734","1","3593932","","2010-08-29 06:09:07","","5","229","<p>Given a vector a=[1,2, 3.2, 4, 5] and an element x=3 In vector a, how to find the exact entry which is bigger than x? In R, is there any function to do that?</p>
","288609","","","","","2010-08-29 15:09:38","Given a vector a=[1,2, 3.2, 4, 5] and an element x=3 In vector a, how to find the exact entry which is bigger than x?","<r>","3","0","","","","CC BY-SA 2.5","3593734","4452","4452","r","404559","3625322","3607736","",""
"3595459","1","3595882","","2010-08-29 16:00:00","","5","2269","<p>I would like to implement a simulation program, which requires the following structure:</p>

<p>It has a for loop, the program will generate an vector in each iteration. I need each generated vector is appended to the existing vector.</p>

<p>I do not how how to do this in R. Thanks for the help.</p>
","285109","","","","","2010-08-30 02:38:50","vector binding in R","<r>","4","0","","","","CC BY-SA 2.5","3595459","4452","4452","r","404559","3625322","3607736","",""
"3595582","1","3596178","","2010-08-29 16:36:58","","28","58027","<p>A journal we are sending an article to is asking for the following:</p>

<blockquote>
  <p>To ensure the best reproduction quality of your figures we would appreciate high resolution files. All figures should preferably be in TIFF or EPS format... and should have the following resolution: <br />
  Graph: 800 - 1200 DPI  <br />
  Photo: 400 - 800 DPI <br />
  Color (only CMYK): 300 - 400 DPI (DPI = dots per inch)</p>
</blockquote>

<p>Since I am sending a graph, I am trying to save it using tiff.</p>

<p>Here is the code I am using:</p>

<pre><code>tiff(filename = ""c:\\aaa.tiff"", 
     res = 800, pointsize = 2)
plot(1:100)
dev.off()    
</code></pre>

<p>But sadly, it produces a very ""bulky"" image - and if I where to not use <code>pointsize = 2</code>, I would get the error message: </p>

<blockquote>
  <p>Error in plot.new() : figure margins too large</p>
</blockquote>

<p>Any suggestions?</p>
","256662","","3419103","","2015-07-29 11:03:15","2016-07-12 16:46:31","Saving plot to tiff, with high resolution for publication (in R)","<r><tiff>","4","9","16","","","CC BY-SA 3.0","3595582","4452","4452","r","404559","3625322","3607736","",""
"3599103","1","3599525","","2010-08-30 08:59:48","","2","1126","<p>I have the following data frame:</p>

<pre><code>    Date1              Date2            Date3               Date4              Date5 
1    25 April 2005       10 May 2006   28 March 2007   14 November 2007      1 April 2008  
2    25 April 2005       10 May 2006   28 March 2007   14 November 2007      1 April 2008  
3  29 January 2008   4 December 2008    6 April 2009       1 March 2010   NA 
4  29 January 2008   4 December 2008    6 April 2009       1 March 2010   1 February 2010  
5  29 January 2008   4 December 2008    6 April 2009       1 March 2010   1 February 2010  
6  29 January 2008   4 December 2008    6 April 2009       NA             NA 
</code></pre>

<p>And the following vector:</p>

<pre><code>   1 01/09/2004 
   2 20/03/2007 
   3 16/09/2009 
   4 16/09/2009 
   5 15/07/2008 
   6 16/09/2009
</code></pre>

<p>I would like to make a count of the dates in each row of the data frame that are the same or before the dates in the vector. For instance for the first row the count should be zero as all the dates are after the corresponding date in the vector. </p>

<p>Anyone know how this can be done?</p>

<p>Here is output from the dput() command so you guys can read the data into R more easily for testing (if you want to):</p>

<p>Dataframe:</p>

<pre><code>structure(c("" 25 April 2005 "", "" 25 April 2005 "", "" 29 January 2008 "", 
"" 29 January 2008 "", "" 29 January 2008 "", "" 29 January 2008 "", 
"" 10 May 2006 "", "" 10 May 2006 "", "" 4 December 2008 "", "" 4 December 2008 "", 
"" 4 December 2008 "", "" 4 December 2008 "", "" 28 March 2007 "", 
"" 28 March 2007 "", "" 6 April 2009 "", "" 6 April 2009 "", "" 6 April 2009 "", 
"" 6 April 2009 "", "" 14 November 2007 "", "" 14 November 2007 "", 
"" 1 March 2010 "", "" 1 March 2010 "", "" 1 March 2010 "", "" 1 March 2010 "", 
"" 1 April 2008 "", "" 1 April 2008 "", "" 1 February 2010 "", "" 1 February 2010 "", 
"" 1 February 2010 "", "" 1 February 2010 ""), .Dim = c(6L, 5L), .Dimnames = list(
    c(""1"", ""2"", ""3"", ""4"", ""5"", ""6""), c(""Rep1"", ""Rep2"", ""Rep3"", 
    ""Rep4"", ""Rep5"")))
</code></pre>

<p>Vector:</p>

<pre><code>c(""01/09/2004"", ""20/03/2007"", ""16/09/2009"", ""16/09/2009"", ""15/07/2008"", 
""16/09/2009"")
</code></pre>
","363268","","881229","","2015-08-07 16:29:08","2015-08-07 16:29:08","Count number of entries in a row based on external criteria","<r><vector><dataframe>","2","1","","","","CC BY-SA 3.0","3599103","4452","4452","r","404559","3625322","3607736","",""
"3599851","1","3599922","","2010-08-30 11:20:18","","2","355","<p>I noticed already a couple of times that working with dates doesn't allow for using the usual tricks in R. Say I have a dataframe Data with Dates (see below), and I want to convert the complete dataframe to a date class. The only solution I could come up with until now is :</p>

<pre><code>for (i in 1:ncol(Data)){
    Data[,i] &lt;- as.Date(Data[,i],format=""%d %B %Y"")
}
</code></pre>

<p>This gives a dataframe with the correct structure :</p>

<pre><code>&gt; str(Data)
'data.frame':   6 obs. of  4 variables:
 $ Rep1:Class 'Date'  num [1:6] 12898 12898 13907 13907 13907 ...
 $ Rep2:Class 'Date'  num [1:6] 13278 13278 14217 14217 14217 ...
 $ Rep3:Class 'Date'  num [1:6] 13600 13600 14340 14340 14340 ...
 $ Rep4:Class 'Date'  num [1:6] 13831 13831 14669 14669 14669 ...
</code></pre>

<p>Using a classic apply approach gives something completely different. Although all variables are of the same class and go to the same class, I can't get a data-frame or matrix of the correct class as output :</p>

<pre><code>&gt; str(sapply(Data,as.Date,format=""%d %B %Y""))
 num [1:6, 1:4] 12898 12898 13907 13907 13907 ...
 - attr(*, ""dimnames"")=List of 2
  ..$ : NULL
  ..$ : chr [1:4] ""Rep1"" ""Rep2"" ""Rep3"" ""Rep4""
&gt; str(apply(Data,2,as.Date,format=""%d %B %Y""))
 num [1:6, 1:4] 12898 12898 13907 13907 13907 ...
 - attr(*, ""dimnames"")=List of 2
  ..$ : NULL
  ..$ : chr [1:4] ""Rep1"" ""Rep2"" ""Rep3"" ""Rep4""
</code></pre>

<p>If you want to transform these matrices again in Date objects, you need an origin. That origin can differ from system to system, so using as.Date or another function after the apply() doesn't help much either. If you apply the origin, you get a vector again. </p>

<p>Anybody a clean solution for this kind of data? Below is the dataframe I used in the examples.</p>

<pre><code>Data &lt;- structure(list(Rep1 = c("" 25 April 2005 "", "" 25 April 2005 "", 
"" 29 January 2008 "", "" 29 January 2008 "", "" 29 January 2008 "", 
"" 29 January 2008 ""), Rep2 = c("" 10 May 2006 "", "" 10 May 2006 "", 
"" 4 December 2008 "", "" 4 December 2008 "", "" 4 December 2008 "", 
"" 4 December 2008 ""), Rep3 = c("" 28 March 2007 "", "" 28 March 2007 "", 
"" 6 April 2009 "", "" 6 April 2009 "", "" 6 April 2009 "", "" 6 April 2009 ""
), Rep4 = c("" 14 November 2007 "", "" 14 November 2007 "", "" 1 March 2010 "", 
"" 1 March 2010 "", "" 1 March 2010 "", "" 1 March 2010 "")), .Names = c(""Rep1"", 
""Rep2"", ""Rep3"", ""Rep4""), row.names = c(""1"", ""2"", ""3"", ""4"", ""5"", 
""6""), class = ""data.frame"")
</code></pre>
","428790","","428790","","2010-08-30 11:27:50","2010-08-30 16:23:53","How to transform a dataframe of characters to the respective dates?","<datetime><r><apply>","2","0","","","","CC BY-SA 2.5","3599851","4452","4452","r","404559","3625322","3607736","",""
"3600431","1","3602514","","2010-08-30 12:46:02","","13","14016","<p>I'm making word frequency tables with R and the preferred output format would be a JSON file. sth like 
   {
     ""word"" : ""dog"",
     ""frequency"" : 12
   }
Is there any way to save the table directly into this format? I've been using the write.csv() function and convert the output into JSON but this is very complicated and time consuming.</p>
","260145","","1505120","","2015-09-20 11:13:21","2015-10-08 18:22:29","Is it possible to write a table to a file in JSON format in R?","<json><r>","3","2","3","","","CC BY-SA 2.5","3600431","4452","4452","r","404559","3625322","3607736","",""
"3600658","1","3601042","","2010-08-30 13:15:24","","3","1449","<p>At the end of a survey I've conducted, we give respondents an open ended box to tell us anything we didn't cover in the survey.These comments will often span several pages. I am familiar with the <code>longtable</code> package for LaTeX and here is the solution I have mocked up:</p>

<pre><code>&lt;&lt;results = tex&gt;&gt;=
cat(""\\begin{longtable}{p{14cm}}\n"")
cat(""\\hline\n"")
write.table(toBePrinted, eol = ""\\\\\n"", col.names = FALSE)
cat(""\\hline\n"")
cat(""\\end{longtable}"")
@
</code></pre>

<p>While this solution technically works, it doesn't look terribly polished and needs to be improved. I have two related questions:</p>

<ol>
<li>Text sanitation tips for Sweave output that is to be treated as <code>tex</code>. For example, if someone says <code>Your survey is awesome &amp; I would take more surveys for  $$$ 100% of the time!</code> the special characters <code>&amp;, $, %</code> reak havok when processing through <code>LaTeX</code>. Is there something more efficient than a list of <code>gsub</code> calls to replace the offending characters with something benevolent?</li>
<li>Suggestions for a better way to print these long comments with <code>Sweave &amp; LaTeX</code>.</li>
</ol>
","415635","","415635","","2010-08-30 13:30:07","2010-08-30 15:55:05","Print long strings of text LaTeX / Sweave","<r><latex><sweave><longtable>","1","0","","","","CC BY-SA 2.5","3600658","4452","4452","r","404559","3625322","3607736","",""
"3602154","1","3611896","","2010-08-30 16:14:25","","73","4808","<p>I program regularly in R in a professional context, and I write packages for clients or co-workers as well. Some of the programmers here have a Java background and insist on doing everything the object-oriented way, using S4 methods. My experience on the other hand is that S4 implementations often perform worse and cause a lot more headache when trying to get the code do what you want it to do. </p>

<p>I definitely agree that in some cases, you have to be able to construct complex objects or append existing objects in a controlled manner. But most of the time, S4 implementations can easily be done using classic lists as well, without all the hassle like defining standardGeneric, methods, constructors, initializers and the likes.</p>

<p>When do you consider writing S4 implementations for R?</p>

<p>EDIT : For clarity, I do appreciate the answers and the discussion about OO in general in R. OOP can be done in numerous ways in R, but my question is really aimed at the added value of using S4 methods specifically. </p>
","428790","","602276","","2011-08-25 13:15:15","2017-03-29 16:59:35","When does it pay off to use S4 methods in R programming","<oop><r><methods><s4>","7","7","25","","","CC BY-SA 2.5","3602154","4452","4452","r","404559","3625322","3607736","",""
"3603865","1","","","2010-08-30 20:10:05","","9","2448","<p>This procedure works from the MySQL commandline both remotely and on localhost and it works when called from PHP. In all cases the grants are adequate:</p>

<pre><code>CREATE PROCEDURE `myDB`.`lee_expout` (IN e int, IN g int)
BEGIN

select lm.groupname, lee.location, starttime, dark,
  inadist,smldist,lardist,emptydur,inadur,smldur,lardur,emptyct,entct,inact,smlct,larct
from lee join leegroup_map lm using (location)
where exp_id= e and std_interval!=0 and groupset_id= g
order by starttime,groupname,location;

END
</code></pre>

<p>I'm trying to call it from R:</p>

<pre><code>library(DBI)
library(RMySQL)

db &lt;- dbConnect(MySQL(), user=""user"", password=""pswd"",
        dbname=""myDB"", host=""the.host.com"")

#args to pass to the procedure
exp_id&lt;-16
group_id&lt;-2

#the procedure call
p &lt;- paste('CALL lee_expout(', exp_id, ',', group_id,')', sep= ' ') 

#the bare query
q &lt;- paste('select lm.groupname, lee.location, starttime, dark,
inadist,smldist,lardist,emptydur,inadur,smldur,lardur,emptyct,entct,inact,smlct,larct
from lee join leegroup_map lm using (location)
where exp_id=', 
exp_id, 
' and std_interval!=0 and groupset_id=', 
group_id, 
'order by starttime,groupname,location', sep=' ') 

rs_p &lt;- dbSendQuery(db, statement=p) #run procedure and fail
p_data&lt;-fetch(rs_p,n=30)

rs_q &lt;- dbSendQuery(db, statement=q) #or comment out p, run query and succeed
q_data&lt;-fetch(rs_q,n=30)
</code></pre>

<p>The bare query runs fine. The procedure call fails with </p>

<blockquote>
  <p>RApache Warning/Error!!!Error in
  mysqlExecStatement(conn, statement,
  ...) :    RS-DBI driver: (could not
  run statement: PROCEDURE
  myDB.lee_expout can't return a
  result set in the given context)</p>
</blockquote>

<p>The <a href=""http://dev.mysql.com/doc/refman/5.1/en/create-procedure.html"" rel=""noreferrer"">MySQL docs</a> say </p>

<blockquote>
  <p>For statements that can be determined
  only at runtime to return a result
  set, a PROCEDURE %s can't return a
  result set in the given context error
  occurs.</p>
</blockquote>

<p>One would think that if a procedure were going to throw that error, it would be thrown under all circumstances instead of just from R.</p>

<p>Any thoughts on how to fix this?</p>
","128245","","","","","2016-06-14 17:36:36","MySQL stored procedure fails when called from R","<mysql><stored-procedures><r><rmysql>","3","3","1","","","CC BY-SA 2.5","3603865","4452","4452","r","404559","3625322","3607736","",""
"3605364","1","3605654","","2010-08-31 01:05:50","","1","195","<p>I've been put in charge of automating the graph production at work and need a specific way of displaying the scale on our bar plots. currently what we have is i.imgur.com/bWjk9.png</p>

<p>and they would like the value of each of the scales listed below. When i change the scale it comes out like this.</p>

<p>i.imgur.com/1D9up.png     </p>

<p>And the way they want it is like the way don't know (9) is displayed</p>

<p>Here's my code for the graph which looks up the scale elsewhere using barplot2</p>

<pre><code>plot.graph &lt;- function(data, px, py, scale_lab){
  par(mar=c(5.1, 4, 1, 2))
  #Plotting the Barplot
 barplot2(summary(data),
  #main = strwrap(heading, width = 50),
  xlab = ""Response"",
  ylab = ""Number of Responses"",
  prcol = ""#FAF4E6"",
  col = ""#800000"",
  space = 1.5,
  ylim = c(0, max(summary(data))+2),
  names.arg = sapply(scale_lab,wordwrap,USE.NAMES=TRUE),

  plot.grid = TRUE)
 points(px, py, pch=21, cex=4, col=""black"", bg=""yellow"", lwd=1)
 par(mar=c(5, 4, 4, 2) + 0.1)
 }
</code></pre>

<p>Any help would be greatly appreciated.</p>

<p>Cameron.</p>
","435473","","","","","2010-08-31 02:28:10","How to define next line in a list for label","<r>","1","2","","","","CC BY-SA 2.5","3605364","4452","4452","r","404559","3625322","3607736","",""
"3605527","1","3605546","","2010-08-31 01:56:38","","1","423","<p>I need to pick up some numbers from lines with irregular length, like this:</p>

<pre><code>AAAAAAAAA 250.00
BBB 240.00
CCCCCCC 13.00
</code></pre>

<p>I need to capture 250.00, 240.00 and 13.00, but since both the numeric and character strings are irregular, I can't use ""substr"" for that, I think regex maybe the solution, but I dunno much about it.</p>

<p>Can anyone help? Thanks!</p>

<p>EDIT #1</p>

<p>Thanks for Joshua's speedy reply, but I'm afraid it is not exactly the case, as space and numbers may also present in AAAAAAAA, BBB, CCCCC strings.</p>

<p>Thanks again.</p>

<p>EDIT #2</p>

<p>Joshua I've tried, but still fail, I'll show a sample of the line here:</p>

<pre><code> 01 JUN 2003 02 JUN 2002 OCTOPUS CARDS LTD HONG KONG HK 250.00
</code></pre>

<p>Hope it helps, and thanks again.</p>

<p>EDIT #3</p>

<p>Joshua thanks again.</p>

<p>Now I have a more complicated case:</p>

<pre><code> 01 JUN 2003 02 JUN 2002 OCTOPUS CARDS LTD HONG KONG HK 834591283405347 250.00
</code></pre>

<p>The ""OCTOPUS CARDS LTD HONG KONG HK"" AND ""834591283405347"" are two separate columns and I want to extract them also, how can I do that?</p>
","373908","","373908","","2010-08-31 02:51:58","2010-09-02 17:25:29","how to pick up a set of numbers from the end of lines with irregular length in R?","<r><string>","6","5","1","","","CC BY-SA 2.5","3605527","4452","4452","r","404559","3625322","3607736","",""
"3606697","1","3606798","","2010-08-31 07:03:24","","383","607834","<p>I plot the following:</p>

<pre><code>library(ggplot2)    

carrots &lt;- data.frame(length = rnorm(500000, 10000, 10000))
cukes &lt;- data.frame(length = rnorm(50000, 10000, 20000))
carrots$veg &lt;- 'carrot'
cukes$veg &lt;- 'cuke'
vegLengths &lt;- rbind(carrots, cukes)

ggplot(vegLengths, aes(length, fill = veg)) +
 geom_density(alpha = 0.2)
</code></pre>

<p>Now say I only want to plot the region between <code>x=-5000</code> to <code>5000</code>, instead of the entire range.</p>

<p>How can I do that?</p>
","377031","","680068","","2017-04-10 06:38:03","2019-12-16 12:27:19","How to set limits for axes in ggplot2 R plots?","<r><plot><ggplot2>","2","0","102","","","CC BY-SA 3.0","3606697","4452","4452","r","404559","3625322","3607736","",""
"3606879","1","3614065","","2010-08-31 07:26:25","","7","1895","<p>I have generated the following plot using the R code that follows it:
<img src=""https://i.stack.imgur.com/EmWTJ.png"" alt=""alt text""></p>

<pre><code>ggplot(lengths, aes(length, fill = library)) + geom_density(alpha = 0.2) + coord_cartesian(xlim = c(0, 60000)) 
</code></pre>

<p>Now I would like to make the plot a bit prettier:</p>

<ol>
<li>Make the x-axis show length every
5000 units (instead of every 20000)</li>
<li>Add x-values on top of the three
    peaks (approx 3000,5000 and 35000).</li>
</ol>

<p>How can I do that?</p>

<p><strong>update</strong>
in response to James:
<img src=""https://i.stack.imgur.com/ToV3b.png"" alt=""alt text""></p>
","377031","","3687447","","2015-02-27 08:39:14","2015-02-27 08:39:14","How to make ggplot2 plots prettier?","<r><plot><ggplot2>","2","2","4","","","CC BY-SA 2.5","3606879","4452","4452","r","404559","3625322","3607736","",""
"3609721","1","3609859","","2010-08-31 13:59:40","","3","2340","<p>How can I add one hour to all the elements of the index of a zoo series? </p>

<p>I've tried </p>

<pre><code>newseries &lt;- myzooseries 
index(newseries) &lt;- index(myzooseries)+times(""1:00:00"") 
</code></pre>

<p>but I get the message </p>

<pre><code>Incompatible methods   (""Ops.dates"", ""Ops.times"") for ""+"" 
</code></pre>

<p>thanks </p>

<p>My index is a chron object with date and time   but I've tried with simpler examples and I can't get it</p>
","425895","","168747","","2010-08-31 15:13:39","2010-08-31 15:13:39","One hour increment in R, zoo","<r><time><increment><zoo>","2","2","1","","","CC BY-SA 2.5","3609721","4452","4452","r","404559","3625322","3607736","",""
"3610291","1","3610506","","2010-08-31 15:01:59","","11","1900","<p>In vanilla plotting, it is possible to use a <code>polygon</code> call in the <code>panel.first</code> argument to <code>plot</code> to highlight a background region. Is it possible to do the same in <code>ggplot2</code>? Can it be done while preserving the gridlines?</p>

<p>eg:</p>

<pre><code># plot hp and wt for mtcars data, highlighting region where hp/wt ratio &lt; 35
with(mtcars,plot(hp,wt,
     panel.first=polygon(c(0,0,max(wt)*35),c(0,max(wt),max(wt)),
     col=""#d8161688"",border=NA)))
</code></pre>
","269476","","","","","2010-08-31 15:31:50","Highlighting regions of interest in ggplot2","<r><ggplot2>","1","0","5","","","CC BY-SA 2.5","3610291","4452","4452","r","404559","3625322","3607736","",""
"3611314","1","","","2010-08-31 16:55:52","","16","37931","<p>I have two data frames in R. One frame has a persons year of birth:</p>

<pre><code>YEAR
/1931
/1924
</code></pre>

<p>and then another column shows a more recent time.</p>

<pre><code>RECENT
09/08/2005
11/08/2005
</code></pre>

<p>What I want to do is subtract the years so that I can calculate their age in number of years, however I am not sure how to approach this. Any help please?</p>
","409050","","680068","","2017-11-28 10:45:32","2018-03-07 17:59:04","Calculate ages in R","<r><date>","8","1","12","","","CC BY-SA 3.0","3611314","4452","4452","r","404559","3625322","3607736","",""
"3612522","1","","","2010-08-31 19:33:15","","5","11028","<p>How do I start a new .R file default in a new session for new objects in that session?  </p>
","436311","","","","","2010-09-01 07:16:37","R workspaces i.e. .R files","<r>","3","0","","","","CC BY-SA 2.5","3612522","4452","4452","r","404559","3625322","3607736","",""
"3613368","1","3613399","","2010-08-31 21:26:54","","3","1344","<p>I am currently running numerous apply lines that look like this:</p>

<pre><code>test=data.frame(t=seq(1,5,1),e=seq(6,10,1))
mean(apply(test,2,mean))
</code></pre>

<p>I want to convert the second line to mclapply which produces the same result as lapply. I realize that I could extract each item from the lapply statement using a for loop then use mean on that vector but that would slow down performance which I am trying to improve by using mclapply. The problem is both lapply and mcapply return a list which mean cannot use. I can either use [[]] to get the actual value or test$t and test$e but the number of columns in test is variable and typically runs over 1,000. There must be an easier way to handle this. Basically I want to get the mean of this statement:</p>

<pre><code>mclapply(test,mean,mc.preschedule=TRUE)
</code></pre>

<p>preferably without generating new variables or using for loops. The solution should be equivalent to getting the mean of this statement:</p>

<pre><code>lapply(test,mean)
</code></pre>
","376239","","","","","2015-07-13 18:36:54","Extracting lapply or mclapply results","<r>","2","0","0","","","CC BY-SA 2.5","3613368","4452","4452","r","404559","3625322","3607736","",""
"3613679","1","3613730","","2010-08-31 22:28:29","","0","737","<p>database$VAR
which has values of 0's and 1's.</p>

<p>How can I redefine the data frame so that the 1's are removed?</p>

<p>Thanks!</p>
","409050","","","","","2010-09-01 13:02:28","Redefine Data Frame in R","<r><dataframe>","3","2","","","","CC BY-SA 2.5","3613679","4452","4452","r","404559","3625322","3607736","",""
"3615718","1","3615880","","2010-09-01 07:06:34","","6","12086","<p>In the following code I use bootstrapping to calculate the C.I. and the p-value under the null hypothesis that two different fertilizers applied to tomato plants have no effect in plants yields (and the alternative being that the ""improved"" fertilizer is better). The first random sample (x) comes from plants where a standard fertilizer has been used, while an ""improved"" one has been used in the plants where the second sample (y) comes from.</p>

<pre><code>x &lt;- c(11.4,25.3,29.9,16.5,21.1)
y &lt;- c(23.7,26.6,28.5,14.2,17.9,24.3)
total &lt;- c(x,y)
library(boot)
diff &lt;- function(x,i) mean(x[i[6:11]]) - mean(x[i[1:5]])
b &lt;- boot(total, diff, R = 10000)

ci &lt;- boot.ci(b)
p.value &lt;- sum(b$t&gt;=b$t0)/b$R
</code></pre>

<p>What I don't like about the code above is that resampling is done as if there was only one sample of 11 values (separating the first 5 as belonging to sample x leaving the rest to sample y).
Could you show me how this code should be modified in order to draw resamples of size 5 with replacement from the first sample and separate resamples of size 6 from the second sample, so that bootstrap resampling would mimic the separate samples design that produced the original data?</p>
","170792","","12258459","","2020-08-30 15:27:15","2020-08-30 15:27:15","Bootstrapping to compare two groups","<r><statistics-bootstrap>","3","0","1","","","CC BY-SA 2.5","3615718","4452","4452","r","404559","3625322","3607736","",""
"3615779","1","3615927","","2010-09-01 07:15:41","","1","584","<p>From Feller (1950) An Introduction to Probability Theory:</p>

<blockquote>
  <p>A path of length n can be interpreted as the record of an ideal experiment consisting of n successive tosses of a coin. If +1 stands for heads, then Sk equals the (positive or negative) excess of the accumulated number of heads over tails at the conclusion of the kth trial. The classical description introduces the fictitious gambler Peter who at each trial wins or loses a unit amount. The sequence S1, S2,...Sn then represents Peter's successive cumulative gains.</p>
</blockquote>

<p>I have a column of ones and zeros from a real coin toss experiment and would like to construct a graph similar to that Feller presents (as described above). cumsum and plotCsum don't seem to be quite what I am looking for.</p>
","471431","","180239","","2011-06-01 09:04:53","2011-06-01 09:04:53","Coin Toss Plot similar to Feller","<r><plot><coin-flipping>","1","0","1","","","CC BY-SA 3.0","3615779","4452","4452","r","404559","3625322","3607736","",""
"3615988","1","3617538","","2010-09-01 07:49:13","","2","644","<p>I have a data frame with several columns. rows have names.</p>

<p>I want to calculate some value for each row (<code>col1/col2</code>) and create a new data frame with the original row names. If I just do something like <code>data$col1/data$col2</code> I get a vector with the results but lose the row names.</p>

<p>i know it's very basic but I'm quite new to R.</p>
","377031","","271616","","2010-10-17 01:40:36","2017-04-20 23:48:41","basic R question on manipulating dataframes","<r><dataframe>","3","0","","","","CC BY-SA 2.5","3615988","4452","4452","r","404559","3625322","3607736","",""
"3616406","1","3616820","","2010-09-01 08:55:23","","5","2888","<p>I am trying to use the <strong>getURL</strong> function of <strong>RCurl</strong> Package in order to access an <strong>ASP</strong> Webpage as:</p>

<pre><code>my_url &lt;- ""http://www.my_site.org/my_site/main.asp?ID=11&amp;REFID=33""
webpage &lt;- getURL(my_url)
</code></pre>

<p>but I get an <strong>Object Moved</strong> redirection error message like:</p>

<pre><code>    ""&lt;head&gt;&lt;title&gt;Object moved&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;&lt;h1&gt;Object Moved&lt;/h1&gt;
This object may be found &lt;a HREF=\""/my_site/index.asp\""&gt;here&lt;/a&gt;.&lt;/body&gt;\n""
</code></pre>

<p>I followed various suggestions like using the <strong>curlEscape</strong> URL encoding function or by setting the <strong>CURLOPT_FOLLOWLOCATION</strong> and <strong>CCURLOPT_SSL_VERIFYHOST</strong> Parameters via the  <strong>curlSetOpt</strong> Function as listed in the <a href=""https://stackoverflow.com/questions/1279340/php-ssl-curl-object-moved-error"">php ssl curl : object moved error </a> link, but the later 2 were not recognized as valid RCurl options.</p>

<p>Any suggestions how to overcome the issue?</p>
","274136","","-1","","2017-05-23 11:45:58","2010-09-01 16:47:36","""Object Moved"" error in using the RCurl getURL function in order to access an ASP Webpage","<r><curl>","1","2","7","","","CC BY-SA 2.5","3616406","4452","4452","r","404559","3625322","3607736","",""
"3618556","1","","","2010-09-01 13:30:12","","6","3431","<p>I have an R script that's usually started from the command line with arguments:</p>

<pre><code>./script.R --width=10
</code></pre>

<p>It uses Rscript as interpreter:</p>

<pre><code>#!/usr/bin/env Rscript 
</code></pre>

<p>Unfortunately it gives me a segmentation fault when it executes my compiled C code in R using <code>.C(""compiled_function"")</code>.</p>

<p>So how can I run my <code>R</code> script with the <code>gdb</code> debugger attached? </p>

<p><code>Rscript</code> apparently does not know the <code>-d</code> option.</p>

<p>I tried this</p>

<pre><code>R -d gdb --vanilla --args --width=10 &lt; script.R
</code></pre>

<p>But it didn't work since it passed the <code>--width=10</code> to the debugger. What is the right call?</p>

<p>Maybe I should start <code>R</code> interactively:</p>

<pre><code>$ R -d gdb --vanilla 
</code></pre>

<p>But then I don't know how to <code>source</code> my script and pass the arguments (<code>--width=10</code>).</p>
","60628","","","","","2010-09-01 14:18:55","How to run R script with gdb attached?","<debugging><r><gdb>","1","0","3","","","CC BY-SA 2.5","3618556","4452","4452","r","404559","3625322","3607736","",""
"3618840","1","3619006","","2010-09-01 14:00:20","","3","6366","<p>I'm using rgedit plugin for gedit.
I would like to allow more than one graphic (plot) window to show at a time. Currently, whenever I <code>plot()</code>, the plot overwrites the previous plot window.</p>
","377031","","","","","2010-09-02 06:01:53","show multiple R graphics windows in (r)gedit","<r><plot><gedit>","3","0","","","","CC BY-SA 2.5","3618840","4452","4452","r","404559","3625322","3607736","",""
"3619067","1","3619493","","2010-09-01 14:22:57","","24","25489","<p>I'm a novice with ggplot2 and have a question about generating a stacked bar plot. I checked the book and the dedicated webpage, but can't solve the problem. I have two factors, one of which has 2 levels (presence-absence), the other 10 levels. Lets call these two ""variable"" and ""fruit"". </p>

<p>I'd like to create a stacked bar plot where each bar reflects a type of fruit and the number of presence-absence observations in ""variable"" are stacked on top of each other. This is relatively easy (see code for plot 1 below), but I would also like the bars and y axis to express the number of counts of presence-absence in ""variable"" as a percentage. In other words, all the bars should be the same height (reflecting a total of 100%) and the counts of presence-absence observations should be converted into percentages. </p>

<p>I can change the y axis scale to a percentage using  ..count..*100/sum(..count..)  but I can't fathom how to convert the actual bars. I created another plot with faceting (code for plot 2 below) that achieves what I want in terms of percentages, but I would prefer the two bars on top of each other. Does anyone have an idea of how to achieve this? I've provided dummy data and reproducible example. Thanks for any help. </p>

<p>Steve</p>

<pre><code>dat &lt;- data.frame( fruit=c(""Apple"", ""Apple"", ""Orange"", ""Orange"", ""Orange"", ""Orange"",
                   ""Orange"", ""Pear"", ""Pear"", ""Pear""), variable=c(""Present"", ""Absent"",
                   ""Present"", ""Present"", ""Present"", ""Present"", ""Absent"", ""Absent"",
                   ""Absent"", ""Present"") )  

# stacked bar plot  
ggplot(dat, aes(x = fruit, fill = variable) ) +  
    geom_bar( aes(y = ..count..*100/sum(..count..) ) ) +
    xlab(""Fruit"") +
    ylab(""Would like this to be percentage"") + 
    scale_fill_manual(""Condition"", values = alpha( c(""firebrick"", ""dodgerblue4""), 1) )  
</code></pre>

<p><a href=""https://i.stack.imgur.com/uPzBG.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/uPzBG.png"" alt=""enter image description here""></a></p>

<pre><code># with faceting  
ggplot(dat, aes(x = variable, fill = variable) ) +   
    geom_bar( aes(y = ..count..*100/sum(..count..) ) ) +   
    facet_grid(. ~ fruit) +  
    xlab(""Fruit"") +
    ylab(""Would like this to be percentage"") + 
    scale_fill_manual(""Condition"", values = alpha( c(""firebrick"", ""dodgerblue4""), 1) )  
</code></pre>

<p><a href=""https://i.stack.imgur.com/xMh88.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/xMh88.png"" alt=""enter image description here""></a></p>
","230850","","1457380","","2016-05-17 10:34:41","2016-05-17 10:34:41","Stacked bar chart in R (ggplot2) with y axis and bars as percentage of counts","<r><ggplot2>","1","0","12","","","CC BY-SA 3.0","3619067","4452","4452","r","404559","3625322","3607736","",""
"3620426","1","19797250","","2010-09-01 17:02:31","","12","15608","<p>How to upload a file to a server via FTP using R?</p>
","256662","","918414","","2012-01-30 09:22:39","2015-09-25 17:21:17","How to upload a file to a server via FTP using R?","<r><file-upload><ftp>","4","0","5","","","CC BY-SA 3.0","3620426","4452","4452","r","404559","3625322","3607736","",""
"3620569","1","3620880","","2010-09-01 17:21:22","","3","6333","<p>I've been attempting to aggregate (some what erratic) daily data. I'm actually working with csv data, but if i recreate it - it would look something like this:</p>

<pre><code>library(zoo)

dates &lt;- c(""20100505"", ""20100505"", ""20100506"", ""20100507"")
val1 &lt;- c(""10"", ""11"", ""1"", ""6"")
val2 &lt;- c(""5"", ""31"", ""2"", ""7"")

x &lt;- data.frame(dates = dates, val1=val1, val2=val2)
z &lt;- read.zoo(x, format = ""%Y%m%d"")
</code></pre>

<p>Now i'd like to aggregate this on a daily basis (notice that some times there are >1 datapoint for a day, and sometimes there arent. </p>

<p>I've tried lots and lots of variations, but i cant seem to aggregate, so for instance this fails:</p>

<pre><code>aggregate(z, as.Date(time(z)), sum)
# Error in Summary.factor(2:3, na.rm = FALSE) : sum not meaningful for factors
</code></pre>

<p>There seems to be a lot of content regarding aggregate, and i've tried a number of versions  but cant seem to sum this on a daily level. I'd also like to run cummax and cumulative averages in addition to the daily summing. </p>

<p>Any help woudl be greatly appreciated.</p>

<p><strong><em>Update</em></strong></p>

<p>The code I am actually using is as follows:</p>

<pre><code>z &lt;- read.zoo(file = ""data.csv"", sep = "","", header = TRUE, stringsAsFactors = FALSE, blank.lines.skip = T, na.strings=""NA"", format = ""%Y%m%d"");
</code></pre>

<p>It seems my (unintentional) quotation of the numbers above is similar to what is happening in practice, because when I do:</p>

<pre><code>aggregate(z, index(z), sum)
#Error in Summary.factor(25L, na.rm = FALSE) : sum not meaningful for factors
</code></pre>

<p>There a number of columns (100 or so), how can i specify them to be as.numeric automatically ? (<code>stringAsFactors = False</code> doesnt appear to work?)</p>
","434441","","429846","","2013-03-27 03:09:59","2013-03-27 03:09:59","Aggregating daily content","<r><aggregate>","4","0","2","","","CC BY-SA 3.0","3620569","4452","4452","r","404559","3625322","3607736","",""
"3620781","1","3621222","","2010-09-01 17:52:28","","2","584","<p>Since length is a generic method, why can't I do</p>

<pre><code>length.character &lt;- nchar
</code></pre>

<p>? It seems that strings are treated special in R. Is there a reason for that? Would you discourage defining functions like head.character and tail.character?</p>
","216064","","","","","2010-09-02 22:05:57","redefine length.character in R","<string><r>","3","0","1","","","CC BY-SA 2.5","3620781","4452","4452","r","404559","3625322","3607736","",""
"3621963","1","3622255","","2010-09-01 20:35:18","","24","19119","<p>I'm trying to group one variable of my data by another and then plot a line through the means. It works fine when both variables are numbers. However, I'm having a problem when the grouping variable is a factor. I have a mock up below. </p>

<pre><code>x &lt;- sample(1:3, 40, replace=T)
y &lt;- rnorm(40)

df1 &lt;- data.frame(x, y)
qplot(x, y, data=df1) + stat_summary(fun.y=mean, colour=""red"", geom=""line"")
</code></pre>

<p><img src=""https://i.stack.imgur.com/MvrbB.png"" alt=""alt text""></p>

<p>This is looks great. However if the x variable is a factor I don't get the line. </p>

<pre><code>df2 &lt;- data.frame(x=as.factor(x), y)
qplot(x, y, data=df2) + stat_summary(fun.y=mean, colour=""red"", geom=""line"")
</code></pre>

<p><img src=""https://i.stack.imgur.com/Sanw8.png"" alt=""alt text""></p>

<p>Is there something I can do to get this line displayed?</p>

<p>Ps. geom=""point"" works but not geom=""line""</p>

<pre><code>qplot(x, y, data=df2) + stat_summary(fun.y=mean, colour=""red"", geom=""point"")
</code></pre>

<p><img src=""https://i.stack.imgur.com/7RoA5.png"" alt=""alt text""></p>
","342362","","5325862","","2019-12-27 16:53:26","2019-12-27 16:53:26","ggplot2: line connecting the means of grouped data","<r><ggplot2>","1","0","10","","","CC BY-SA 4.0","3621963","4452","4452","r","404559","3625322","3607736","",""
"3622042","1","3622899","","2010-09-01 20:48:36","","0","6342","<p>We keep all our laboratory data in a Sybase database. When I want to do data manipulation and analysis I read the data into R with RODBC.</p>

<pre><code>library(RODBC)
channellab &lt;- odbcConnect(""Labdata"")
indivs &lt;-sqlQuery(channellab,'SELECT * from CGS.Specimen')
</code></pre>

<p>So far so good, except that CGS.Specimen is a table for our entire lab holdings. There are almost 40000 specimens (rows) with 66 variables. It takes an unnecessary amount of time to read especially when I am only interested in the holdings of one study which has about 1000 specimens. The obvious way to fix it would be   </p>

<pre><code>indivs &lt;-sqlQuery(channellab,'SELECT * from CGS.Specimen WHERE StudyCode=""RP""')  
</code></pre>

<p>But when I run that I get </p>

<blockquote>
  <p>[1] ""42S22 -143 [Sybase][ODBC Driver][Adaptive Server Anywhere]Column not found: Column 'RP' not found"" ""[RODBC] ERROR: Could not SQLExecDirect 'SELECT * from CGS.Specimen WHERE StudyCode=\""RP\""'""   </p>
</blockquote>

<p>I have played with quotation marks and I have played with escape slashes but alas I have gotten nowhere. </p>

<p>for instance  </p>

<pre><code>indivs &lt;-sqlQuery(channellab,'SELECT * from CGS.Specimen WHERE StudyCode= 'RP'  ')
</code></pre>

<p>Error: unexpected symbol in ""indivs &lt;-sqlQuery(channellab,'SELECT * from CGS.Specimen WHERE StudyCode= 'RP""</p>

<pre><code>indivs &lt;-sqlQuery(channellab,""SELECT * from CGS.Specimen WHERE StudyCode= 'RP'  "")
</code></pre>

<p>Error in .Call(C_RODBCFetchRows, attr(channel, ""handle_ptr""), max, buffsize,  : 
  negative length vectors are not allowed</p>

<p>What do you suggest?</p>
","168139","","1563422","","2013-03-14 06:49:46","2013-03-14 06:49:46","Why will WHERE statement not work in sqlQuery in RODBC?","<r><rodbc><sybase-asa>","2","3","","","","CC BY-SA 2.5","3622042","4452","4452","r","404559","3625322","3607736","",""
"3622375","1","","","2010-09-01 21:46:28","","3","719","<p>When using <code>ROracle</code> in <code>R</code>, I want to bind some parameters to data, so I do this:</p>

<pre><code>&gt; dbh &lt;- dbConnect('Oracle', 'user/pass@host.com:port/sid')
&gt; st &lt;- dbPrepareStatement(dbh, statement=""SELECT x FROM mytab WHERE id=:1"",
                           bind=""character"")
&gt; st &lt;- dbExecStatement(st, data.frame(id=c(""9ae"", ""1f3""), stringsAsFactors=F))
&gt; fetch(st)
    x
0 FOO
</code></pre>

<p>What's unexpected is that it only uses the <em>first</em> row of the data frame to do the <code>SELECT</code> (if it were using both rows, I'd get 2 output rows in this case, not 1), contrary to the <code>ROracle</code> documentation:</p>

<blockquote>
  <p>The object that <code>dbPrepareStatement</code>
  produces is then used together with a
  <code>data.frame</code> (which should agree with
  the bound specification) in calls to
  <code>dbExecStatement</code> to be executed for
  each row of the <code>data.frame</code>.</p>
</blockquote>

<p>Am I doing this wrong, or does the above verbiage perhaps only apply to <code>INSERT</code>/<code>UPDATE</code> statements?</p>
","169947","","","","","2012-04-10 17:28:07","Bound parameters in ROracle SELECT statements","<oracle><r>","1","0","1","","","CC BY-SA 2.5","3622375","4452","4452","r","404559","3625322","3607736","",""
"3622407","1","3625421","","2010-09-01 21:52:26","","3","3612","<p>I have a data frame with (to simplify) judges, movies, and ratings (ratings are on a 1 star to 5 star scale):</p>

<pre><code>d = data.frame(judge=c(""alice"",""bob"",""alice""), movie=c(""toy story"", ""inception"", ""inception""), rating=c(1,3,5))
</code></pre>

<p>I want to create a bar chart where the x-axis is the number of stars and the height of each bar is the number of ratings with that star.</p>

<p>If I do</p>

<pre><code>ggplot(d, aes(rating)) + geom_bar()
</code></pre>

<p>this works fine, except that the bars aren't centered over each rating and the width of each bar isn't ideal.</p>

<p>If I do</p>

<pre><code>ggplot(d, aes(factor(rating))) + geom_bar()
</code></pre>

<p>the order of the number of stars gets messed up on the x-axis. (On my Mac, at least; for some reason, the default ordering works on a Windows machine.) Here's what it looks like:
<img src=""https://i.stack.imgur.com/Bi9za.png"" alt=""alt text""></p>

<p>I tried</p>

<pre><code>ggplot(d, aes(factor(rating, ordered=T, levels=-3:3))) + geom_bar()
</code></pre>

<p>but this doesn't seem to help.</p>

<p>How can I get my bar chart to look like the above picture, but with the correct ordering on the x-axis?</p>
","231588","","","","","2010-09-02 08:38:03","ordered factors in ggplot2 bar chart","<r><ggplot2>","1","0","2","","","CC BY-SA 2.5","3622407","4452","4452","r","404559","3625322","3607736","",""
"3624686","1","3625854","","2010-09-02 07:37:00","","1","770","<p>I'm taking a random sample from dataframe (a) I've got. The qualifier a[,1] is to be exported into excel. However I'm in trouble.   </p>

<pre><code>str(a)

'data.frame':   2299 obs. of  5 variables:
 $ A          : Factor w/ 2284 levels ""01012223427"",..: 1339 78 779 1590 1687 64 1034 633 1321 109 


a[sample(a[,1],300),]-&gt;q
</code></pre>

<p>This results in 300 random samples, but several of them are NA. Any ideas?</p>

<pre><code>q[,1]-&gt;r

str(r)
 Factor w/ 2284 levels ""01012223427"",..: 85 1162 1886 549 1996 789 185 321 632 2273
</code></pre>

<p>I need to get the r vector in the 01012223427 format into excel, but doing <code>write.csv(r,""r.csv"")</code> results in a file with concactenated 1,""01012223427"" etc in every cell for the column. I tried <code>write.csv(as.numeric(r),""r.csv"")</code> to no help with the factors themselves being output. How can I do this?</p>

<p>--edit</p>

<p>write.csv2(r,""300.csv"",row.names=F) solved my problems, but I'm still uncertain with regards to why the NA's are introduced...</p>

<p>//M</p>
","338745","","338745","","2010-09-02 07:42:53","2010-09-02 10:10:10","random sample from dataframe and output into excel","<r>","2","0","1","","","CC BY-SA 2.5","3624686","4452","4452","r","404559","3625322","3607736","",""
"3624934","1","3627450","","2010-09-02 08:15:22","","1","558","<p>I use R and I have a long numeric vector. I would like to look for all the maximal continuous subranges in this vector, where all values are lower then some threshold.</p>

<p>For example, if the given vector is </p>

<p><code>5 5 6 6 7 5 4 4 4 3 2 1 1 1 2 3 4 5 6 7 6 5 4 3 2 2 3 4 4</code></p>

<p>and my threshold is 4 (i.e., <code>=&lt;3</code>), then the values that meet this condition are marked with x:</p>

<p><code>0 0 0 0 0 0 0 0 0 x x x x x x x 0 0 0 0 0 0 0 x x x x 0 0</code></p>

<p>I would also like to return something like <code>(10,16), (24,27)</code>. How do I do that?</p>
","377031","","377031","","2010-09-02 08:21:42","2013-11-08 05:12:02","Scanning an array in R","<r><vector>","4","0","","","","CC BY-SA 2.5","3624934","4452","4452","r","404559","3625322","3607736","",""
"3625498","1","","","2010-09-02 08:49:30","","0","629","<p>I am having trying to cat different strings to a file for different conditions using if - else statements:</p>

<pre><code>cat(""&lt;graph caption=\""ECG Data Wave\"" subcaption=\""For Person's Name\""  xAxisName=\""Time\"" yAxisMinValue=\""-0.025\"" yAxisName=\""Voltage\"" decimalPrecision=\""5\""  formatNumberScale=\""0\"" numberPrefix=\""\"" showNames=\""1\"" showValues=\""0\""  showAlternateHGridColor=\""1\"" AlternateHGridColor=\""ff5904\"" divLineColor=\""ff5904\""  divLineAlpha=\""20\"" alternateHGridAlpha=\""5\""&gt;\n"")
    if (df$BP &gt; 140 &amp;&amp; df$Yvoltage &lt; -0.05){  
    cat(sprintf(""    &lt;set name=\""%s\"" value=\""%f\"" hoverText = \""Blood Pressure High, Level of Activity Low\"" &gt;&lt;/set&gt;\n"", df$XTimeStamp, df$YVoltage, diff))else
        if (df$BP &gt; 140 &amp;&amp; df$Yvoltage &gt; -0.05) 
            cat(sprintf(""    &lt;set name=\""%s\"" value=\""%f\"" hoverText = \""Blood Pressure Normal, Level of Activity Normal\"" &gt;&lt;/set&gt;\n"", df$XTimeStamp, df$YVoltage, diff)) else
                 if (df$BP &gt; 140 &amp;&amp; df$Yvoltage &gt; -0.35)
                    cat(sprintf(""    &lt;set name=\""%s\"" value=\""%f\"" hoverText = \""Blood Pressure High, Level of Activity High\"" &gt;&lt;/set&gt;\n"", df$XTimeStamp, df$YVoltage, diff))}
    cat(' &lt;trendlines&gt;
       &lt;line startvalue=""0.30"" displayValue=""High Activity"" color=""FF0000"" thickness=""1"" isTrendZone=""0""&gt;&lt;/line&gt;
       &lt;line startvalue=""-0.05"" displayValue=""Low Activity"" color=""009999"" thickness=""1""   isTrendZone=""0""&gt;&lt;/line&gt;
</code></pre>

<p>\n')
        cat (""\n"")</p>

<p>When I try to run the code I keep getting an error as follows:</p>

<pre><code>Error: unexpected 'else' in:
""if (df$BP &gt; 140 &amp;&amp; df$Yvoltage &lt; -0.05){  
 cat(sprintf(""    &lt;set name=\""%s\"" value=\""%f\"" hoverText = \""Blood Pressure High, Level of Activity Low\"" &gt;&lt;/set&gt;\n"", df$XTimeStamp, df$YVoltage, diff))else""
</code></pre>

<p>Any ideas where I am going wrong? Is this the right way do this are is there a better way to write the file?</p>

<p>I am trying to follow Spacedman's advice and use brew. I have tried different variances of it and I either get the following error message:</p>

<pre><code>Error: unexpected input in ""cat (sprintf(""    &lt;set name=\""%s\"" value=\""%f\"" hoverText = ""&lt;%= hovertext =&gt;"" &gt;&lt;/set&gt;\n"", df$XTimeStamp, df$YVoltage))""
</code></pre>

<p>or if I get it working the hovertext remains the same the whole way down.</p>

<p>Currently the R code is as follows:</p>

<pre><code>if(df$BP &gt; 140 &amp;&amp; df$YVoltage &lt; -0.05){
    hovertext =""Blood Pressure High, Level of Activity Low""
}else{
   if(df$BP &lt; 140 &amp;&amp; df$BP &gt; 90 &amp;&amp; df$YVoltage &gt; -0.05 &amp;&amp; df$YVoltage &lt; 0.30 ){
    hovertext =""Blood Pressure normal, Level of Activity normal""
      } else {
    hovertext =""Blood Pressure High, Level of Activity high""
       }

sink (file=""c:/Users/usr/Desktop/data.xml"", type=""output"",split=FALSE)
cat(""&lt;graph caption=\""ECG Data Wave\"" subcaption=\""For Person's Name\"" xAxisName=\""Time\"" yAxisMinValue=\""-0.025\"" yAxisName=\""Voltage\"" decimalPrecision=\""5\"" formatNumberScale=\""0\"" numberPrefix=\""\"" showNames=\""1\"" showValues=\""0\"" showAlternateHGridColor=\""1\"" AlternateHGridColor=\""ff5904\"" divLineColor=\""ff5904\"" divLineAlpha=\""20\"" alternateHGridAlpha=\""5\""&gt;\n"")
cat(sprintf(""    &lt;set name=\""%s\"" value=\""%f\"" hoverText = ""&lt;%= hovertext =&gt;"" &gt;&lt;/set&gt;\n"", df$XTimeStamp, df$YVoltage))
cat(' &lt;trendlines&gt;   
    &lt;line startvalue=""0.30"" displayValue=""High Activity"" color=""FF0000"" thickness=""1"" isTrendZone=""0""&gt;&lt;/line&gt;
   &lt;line startvalue=""-0.05"" displayValue=""Low Activity"" color=""009999"" thickness=""1"" isTrendZone=""0""&gt;&lt;/line&gt;
&lt;/trendlines&gt;\n')
cat (""&lt;/graph&gt;\n"")
unlink(""data.xml"")
</code></pre>

<p>Any ideas on where I am still going wrong in the code?</p>
","386448","","386448","","2010-09-06 10:29:22","2010-09-06 10:29:22","R Syntax Problem","<r>","3","1","","2014-09-17 12:58:55","","CC BY-SA 2.5","3625498","4452","4452","r","404559","3625322","3607736","",""
"3625842","1","","","2010-09-02 09:39:01","","2","1493","<p>The text to be checked is in Greek, but I would like to know if it can be done for English words too. My initial idea is described <a href=""https://stackoverflow.com/questions/3624477/get-in-column-b-the-words-of-column-a-that-are-not-in-dictionary"">here</a>, and I have already found a way to do it using VBA. But I wonder if there's a way to do it using R. If there isn't a way in R, do you think of something better than Excel-vba? </p>
","170792","","-1","","2017-05-23 12:11:47","2010-09-02 12:55:34","Is there a way to check the spelling of words in a character vector?","<r><text><spell-checking>","2","0","3","","","CC BY-SA 2.5","3625842","4452","4452","r","404559","3625322","3607736","",""
"3626324","1","3627269","","2010-09-02 10:45:09","","3","9084","<p>I am looking for a way to add labels, i.e. absolute values, into a stacked bar chart using the basic plot functions of R. The labels should be inside the stacked bars.</p>

<p>Thank you!</p>
","333758","","","","","2017-02-16 17:12:30","R graphics: Add labels to stacked bar chart","<r><label><bar-chart><stacked>","3","0","1","","","CC BY-SA 2.5","3626324","4452","4452","r","404559","3625322","3607736","",""
"3629550","1","3637486","","2010-09-02 17:23:19","","1","1696","<p>I have a zoo series in R.  I can choose between a chron or a POSIXct index.</p>

<p>How can I aggregate to 15min, taking the last element every 15min?</p>

<p>I know how to aggregate daily, writing as.Date, but not how to aggregate every 15min.</p>

<p>thanks.</p>
","425895","","","","","2010-09-03 15:57:09","15min time aggregation in R","<r><time>","2","1","","","","CC BY-SA 2.5","3629550","4452","4452","r","404559","3625322","3607736","",""
"3630036","1","3630306","","2010-09-02 18:28:53","","3","429","<p>Im writing up a small function giving a combined conditional density and empirical cumulative distribution plot.</p>

<pre><code>cdpl&lt;-function(df,dep,indep){
    attach(df)

    cdplot(dep~indep,xlab=deparse(substitute(indep)),ylab=deparse(substitute(dep)))
    g&lt;-indep
    ec&lt;-ecdf(indep)
    lines(knots(ec),as.numeric(names(table(ec(g)))),col=""red"",lw=3)
    detach(df)
    }
</code></pre>

<p>This works fine, however when  I try to sweave it my luck is all out...</p>

<pre><code>&lt;&lt;fig1,fig=T&gt;&gt;=
par(mfrow=c(1,2))
print(cdpl(tre,A,B))
print(cdpl(tre,A,C))
@
</code></pre>

<blockquote>
  <p>Sweave(""re.rnw"")
  Writing to file re.tex
  Processing code chunks ...</p>
</blockquote>

<p>1 : echo term verbatim eps pdf (label=fig1)</p>

<p>Error:  chunk 1 (label=fig1) 
Error in model.frame.default(formula = dep ~ indep) : 
  invalid type (list) for variable 'dep'</p>

<p>How can this be when it works allright outside sweave?</p>

<p>//M</p>
","338745","","","","","2010-09-02 19:02:32","R Sweave user defined function","<r><sweave>","1","0","","","","CC BY-SA 2.5","3630036","4452","4452","r","404559","3625322","3607736","",""
"3632245","1","3634569","","2010-09-03 00:25:44","","3","2928","<p>I am providing this example data to get my question across.</p>

<pre><code>aid=c(1,2,3,4,5,6,7,8,9,10)
foson=c(0,1,2,0,6,9,0,0,3,0)
fosof=c(0,0,2,3,0,0,0,5,0,0)
data=data.frame(aid,foson,fosof)
</code></pre>

<p>Now, I need to create a new variable (column) named data$hist with the following conditions:</p>

<pre><code>if foson==0 and fosof==0, then hist = 0;
if foson &gt;=1 and fosof==0, then hist = 1;
if foson==0 and fosof&gt;=1, then hist = 2; and
if foson&gt;=1 and fosof&gt;=1, then hist = 3
</code></pre>

<p>I tried to use the ""ifelse"" function but fell short. </p>

<p>I hope that the question is clear enough.</p>

<p>Thanks for all the help,</p>

<p>Bazon</p>
","438498","","438498","","2010-09-03 01:49:42","2010-09-03 09:43:27","creating a new variable using two columns when they satisfy certain conditions using R","<r><conditional-statements><multiple-columns>","2","0","1","","","CC BY-SA 2.5","3632245","4452","4452","r","404559","3625322","3607736","",""
"3632837","1","3633510","","2010-09-03 03:20:45","","2","478","<p>When using plyr, I often want to 1) perform an operation on only a subset of the variables and 2) name the output of the operation. For example:</p>

<pre><code>d = data.frame(sex=c(""m"",""f"",""m"",""m"",""f"",""f""), age=c(30,20,15,50,10,40), weight=c(130,120,115,150,90,180))
ddply(d, .(sex), function(df) data.frame(age_mu = mean(df$age)))
</code></pre>

<p>But this seems kinda clunky, and it seems like I should be able to write something like:</p>

<pre><code>ddply(d, .(sex), age_mu = mean(age))
</code></pre>

<p>From what I've read, it looks like there is (or used to be?) a summarise function included in plyr, that would allow me to write:</p>

<pre><code>ddply(d, .(sex), transform, age_mu = mean(age))
</code></pre>

<p>However, when I try to use the summarise function, R tells me it doesn't exist. Has it been renamed or moved into another package? I'm using plyr version 0.1.5 (which I believe is the latest -- I tried updating) on a Mac.</p>
","231588","","","","","2010-09-03 06:35:49","Does the 'summarise' function in plyr still exist?","<r><plyr>","1","2","","","","CC BY-SA 2.5","3632837","4452","4452","r","404559","3625322","3607736","",""
"3636476","1","","","2010-09-03 13:59:06","","3","179","<p>How can you integrate R and Flex (e.g. web server using rapache)?</p>
","297925","","134830","","2010-09-03 17:31:41","2010-09-03 17:44:39","Integrating R and Flex","<apache-flex><r>","1","0","1","","","CC BY-SA 2.5","3636476","4452","4452","r","404559","3625322","3607736","",""
"3638196","1","3638402","","2010-09-03 17:41:35","","0","2769","<p>I'm using the cut function to convert a numeric variable into a factor with two levels and using this in a boxplot like this:</p>

<pre><code>boxplot(Sp$Var1 ~ cut(Spt$Var5, breaks = c(0,50,100), labels =c(""below 50%"", ""above 50%"")), ...)
</code></pre>

<p>I want to include sample size as ""n=..."" below each of the labels used in the cut function. I can get the sample size using length with a subset, as this,</p>

<pre><code>length(subset(Sp$Var1, SpDet$Var5&lt;50)
</code></pre>

<p>And use cat and paste to get the sample size below the label</p>

<pre><code>cat(paste(""above 50%"", ""\n"", ""n ="", length(subset(Sp$Var1, Sp$Var5&lt;50)), sep=""""))
</code></pre>

<p>My problem is that I've not been able to insert this into the labels argument of the cut function. Simply, inserting the above into the labels vector prints the boxplot ok, but prints the labels in the R console. I think I may need to use the expression function, but I haven't got this to work either. Any help or alternative methods appreciated.</p>
","253579","","","","","2010-09-03 18:08:13","labels including an expression in cut function used in a boxplot in R","<r><labels><cut><boxplot>","1","0","","","","CC BY-SA 2.5","3638196","4452","4452","r","404559","3625322","3607736","",""
"3638773","1","3638931","","2010-09-03 19:03:55","","12","13536","<p>I'm trying to output 6 figures into one image, in a 3x2 layout. I'd like to place extra space between the top row and the bottom two rows.  Is this possible using R? I've looked through the documentation for par and plot and can't seem to find an appropriate option.</p>

<p>Here's some example code:</p>

<pre><code>a = rnorm(100,100,10)
b = rnorm(100,100,10)

par(mfrow=c(3,2), oma=c(1,1,1,1), mar=c(2,2,2,2))
hist(a)
hist(b)
plot(a,b)
plot(a,b)
plot(a,b)
plot(a,b)
</code></pre>

<hr>

<p>Here's what that code outputs:</p>

<hr>

<p><img src=""https://i.stack.imgur.com/coEMA.png"" alt=""alt text""></p>

<hr>

<p>Here's what I'd like it to output (I modified this image in an external editor). Note the extra space between the top row and bottom rows.</p>

<hr>

<p><img src=""https://i.stack.imgur.com/SyBtg.png"" alt=""alt text""></p>

<hr>
","152159","","429846","","2013-01-02 09:49:06","2013-01-02 09:49:06","Add extra spacing between a subset of plots","<r><graphics><plot><spacing>","3","0","2","","","CC BY-SA 3.0","3638773","4452","4452","r","404559","3625322","3607736","",""
"3638786","1","3638923","","2010-09-03 19:07:11","","3","8265","<pre><code>ggplot() +
layer(
 data = diamonds, mapping = aes(x = carat, y = price),
 geom = ""point"", stat = ""identity""
)
</code></pre>

<p>In the above example, I am wondering if I can specify the parameters for the ""aes"" function  by indexes.</p>

<p>I know that carat and price correspond to the 1st and 8th elements in the names array of diamond. Can you explain why the following does not work?</p>

<pre><code>ggplot() +
layer(
 data = diamonds, mapping = aes(x = names(diamonds)[1], y = names(diamonds)[8]),
 geom = ""point"", stat = ""identity""
)
</code></pre>

<p>Thanks, Derek</p>
","296564","","243587","","2013-06-07 00:27:26","2013-06-07 00:27:26","R ggplot: specify aes by index","<r><ggplot2>","1","0","1","","","CC BY-SA 3.0","3638786","4452","4452","r","404559","3625322","3607736","",""
"3640925","1","3641459","","2010-09-04 04:35:34","","5","6706","<p>I created a function for processing some of my data, like this:</p>

<pre><code>a &lt;- ""old"" 
test &lt;- function (x) {
   assign(x, ""new"", envir = .GlobalEnv)
} 
test(a)
</code></pre>

<p>But I can't see the a change from ""old"" to ""new"", I guess this is some of the ""global variable"", any suggestion?</p>

<p>Thanks!</p>
","373908","","","","","2010-09-06 14:05:51","global variable in R function","<variables><r><function>","2","1","2","","","CC BY-SA 2.5","3640925","4452","4452","r","404559","3625322","3607736","",""
"3642188","1","","","2010-09-04 12:09:12","","5","3662","<p>The following function does not use row pivoting for LU decomposition. Is there an existing function in R that does LU decomposition with <em>row pivot</em>?</p>

<pre><code>&gt; require(Matrix)
&gt; expand(lu(matrix(rnorm(16),4,4)))
$L
4 x 4 Matrix of class ""dtrMatrix""
     [,1]        [,2]        [,3]        [,4]       
[1,]  1.00000000           .           .           .
[2,]  0.13812836  1.00000000           .           .
[3,]  0.27704442  0.39877260  1.00000000           .
[4,] -0.08512341 -0.24699820  0.04347201  1.00000000

$U
4 x 4 Matrix of class ""dtrMatrix""
     [,1]       [,2]       [,3]       [,4]      
[1,]  1.5759031 -0.2074224 -1.5334082 -0.5959756
[2,]          . -1.3096874 -0.6301727  1.1953838
[3,]          .          .  1.6316292  0.6256619
[4,]          .          .          .  0.8078140

$P
4 x 4 sparse Matrix of class ""pMatrix""

[1,] | . . .
[2,] . | . .
[3,] . . . |
[4,] . . | .
</code></pre>
","236215","","","","","2017-01-10 12:06:44","LU decomposition with row pivot","<r><linear-algebra>","2","1","1","","","CC BY-SA 2.5","3642188","4452","4452","r","404559","3625322","3607736","",""
"3642520","1","3643300","","2010-09-04 13:43:21","","5","1719","<p>I'm used to perl and new to R. I know you can read whole tables using <code>read.table()</code> but I wonder how can I use R to parse a single line from an input file.</p>

<p>Specifically, what is the equivalent to the following perl snippet:</p>

<pre><code>open my $fh, $filename or die 'can't open file $filename';
my $line = &lt;$fh&gt;;
my ($first, $second, $third) = split (""\t"", $line);
</code></pre>
","377031","","377031","","2010-09-05 06:57:16","2010-09-05 17:33:35","Basic input file parsing in R","<perl><parsing><file><r>","3","0","1","","","CC BY-SA 2.5","3642520","4452","4452","r","404559","3625322","3607736","",""
"3642535","1","3642768","","2010-09-04 13:47:37","","115","137040","<p>I would like to construct a dataframe row-by-row in R. I've done some searching, and all I came up with is the suggestion to create an empty list, keep a list index scalar, then each time add to the list a single-row dataframe and advance the list index by one. Finally, <code>do.call(rbind,)</code> on the list.</p>

<p>While this works, it seems very cumbersome. Isn't there an easier way for achieving the same goal?</p>

<p>Obviously I refer to cases where I can't use some <code>apply</code> function and explicitly need to create the dataframe row by row. At least, is there a way to <code>push</code> into the end of a list instead of explicitly keeping track of the last index used?</p>
","377031","","271616","","2010-10-17 01:41:06","2020-02-15 03:07:58","Creating an R dataframe row-by-row","<list><r><dataframe>","8","2","49","","","CC BY-SA 2.5","3642535","4452","4452","r","404559","3625322","3607736","",""
"3643555","1","3650510","","2010-09-04 18:51:20","","76","78085","<p>I have a numeric <code>matrix</code> with 25 columns and 23 rows, and a vector of length 25. How can I multiply each row of the matrix by the vector without using a <code>for</code> loop?</p>

<p>The result should be a 25x23 matrix (the same size as the input), but each row has been multiplied by the vector.</p>

<p><strong>Added reproducible example from @hatmatrix's answer:</strong></p>

<pre><code>matrix &lt;- matrix(rep(1:3,each=5),nrow=3,ncol=5,byrow=TRUE)

     [,1] [,2] [,3] [,4] [,5]
[1,]    1    1    1    1    1
[2,]    2    2    2    2    2
[3,]    3    3    3    3    3

vector &lt;- 1:5
</code></pre>

<p><strong>Desired output:</strong></p>

<pre><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    2    3    4    5
[2,]    2    4    6    8   10
[3,]    3    6    9   12   15
</code></pre>
","296427","","8366499","","2019-03-21 17:01:01","2020-12-20 01:35:44","Multiply rows of matrix by vector?","<r><vector><matrix><multiplication>","6","0","19","","","CC BY-SA 4.0","3643555","4452","4452","r","404559","3625322","3607736","",""
"3643606","1","","","2010-09-04 19:05:47","","3","1899","<p>With the linear model function lm() polynomial formulas can contain a shortcut notation like this:</p>

<pre><code>m &lt;- lm(y ~ poly(x,3))
</code></pre>

<p>this is a shortcut that keeps the user from having to create x^2 and x^3 variables or typing them in the formula like <code>I(x^2) + I(x^3)</code>. Is there comparable notation for the nonlinear function <code>nls()</code>? </p>
","37751","","37751","","2010-09-05 17:52:17","2010-09-05 17:52:17","R: polynomial shortcut notation in nls() formula","<r><formula><nls><lm>","2","0","3","","","CC BY-SA 2.5","3643606","4452","4452","r","404559","3625322","3607736","",""
"3644510","1","3645051","","2010-09-05 00:23:46","","3","5723","<p>I am importing a csv file into R using the <code>sqldf</code>-package. I have several missing values for both numeric and string variables. I notice that missing values are left empty in the dataframe (as opposed to being filled with NA or something else). I want to replace the missing values with an user defined value. Obviously, a function like <code>is.na()</code> will not work in this case.</p>

<p>Toy dataframe with three columns:</p>

<pre><code>A  B  C  
3  4  
2  4  6   
34 23 43   
2  5   
</code></pre>

<p>I want:</p>

<pre><code>A  B  C  
3  4  NA  
2  4  6   
34 23 43   
2  5  NA 
</code></pre>

<p>Thank you in advance.</p>
","227290","","2204410","","2017-12-21 20:45:34","2017-12-21 20:45:34","Treatment of 'empty' values","<r>","1","0","2","","","CC BY-SA 3.0","3644510","4452","4452","r","404559","3625322","3607736","",""
"3647744","1","3649880","","2010-09-05 20:45:55","","16","20131","<p>I am working with shapefiles in <strong>R</strong>, one is point.shp the other is a polygon.shp.
Now, I would like to intersect the points with the polygon, meaning that all the values from the polygon should be attached to the table of the point.shp.</p>

<p>I tried overlay() and spRbind in package sp, but nothing did what I expected them to do. </p>

<p>Could anyone give me a hint?</p>
","333758","","4370109","","2017-05-03 19:24:53","2019-02-25 06:10:14","Intersecting Points and Polygons in R","<r><spatial><shapefile><intersect>","3","0","3","","","CC BY-SA 3.0","3647744","4452","4452","r","404559","3625322","3607736","",""
"3650444","1","3660847","","2010-09-06 09:42:33","","6","2695","<p>I found this <a href=""https://stackoverflow.com/questions/1445964/r-script-line-numbers-at-error"">post</a> from a year ago, and I'm using <code>R version 2.11.1 (2010-05-31)</code>, but  still getting error messages without line numbers.</p>

<p>Any solution?</p>
","377031","","-1","","2017-05-23 11:46:19","2011-09-14 03:56:11","R script line numbers at error?","<debugging><r>","2","4","2","2016-04-11 21:20:19","","CC BY-SA 2.5","3650444","4452","4452","r","404559","3625322","3607736","",""
"3650636","1","3652472","","2010-09-06 10:15:42","","36","17723","<p>I have (again) a problem with combining data frames in R. But this time, one is a SpatialPolygonDataFrame (<code>SPDF</code>)  and the other one is usual data.frame (<code>DF</code>). The <code>SPDF</code> has around 1000 rows the <code>DF</code> only 400. Both have a common column, QDGC</p>

<p>Now, I tried  </p>

<pre><code>oo &lt;- merge(SPDF,DF, by=""QDGC"", all=T)
</code></pre>

<p>but this only results in a normal data.frame, not a spatial polygon data frame any more.
I read somewhere else, that this does not work, but I did not understand  what to do in such a case (has to do something with the ID columns, merge uses)</p>

<p>oooh such a hard question, I quess...</p>

<p>Thanks!
Jens</p>
","333758","","684229","","2014-11-13 09:42:03","2018-02-02 06:50:53","How to attach a simple data.frame to a SpatialPolygonDataFrame in R?","<r><merge><polygon><spatial><dataframe>","5","0","16","","","CC BY-SA 3.0","3650636","4452","4452","r","404559","3625322","3607736","",""
"3650862","1","15821706","","2010-09-06 10:50:15","","69","24522","<p>I would like to know if it is possible to get a profile from <code>R</code>-Code in a way that is similar to <code>matlab</code>'s Profiler. That is, to get to know which line numbers are the one's that are especially slow.</p>

<p>What I acchieved so far is somehow not satisfactory. I used <code>Rprof</code> to make me a profile file. Using <code>summaryRprof</code> I get something like the following:</p>

<blockquote>
<pre><code>$by.self
                  self.time self.pct total.time total.pct
[.data.frame               0.72     10.1       1.84      25.8
inherits                   0.50      7.0       1.10      15.4
data.frame                 0.48      6.7       4.86      68.3
unique.default             0.44      6.2       0.48       6.7
deparse                    0.36      5.1       1.18      16.6
rbind                      0.30      4.2       2.22      31.2
match                      0.28      3.9       1.38      19.4
[&lt;-.factor                 0.28      3.9       0.56       7.9
levels                     0.26      3.7       0.34       4.8
NextMethod                 0.22      3.1       0.82      11.5
...
</code></pre>
</blockquote>

<p>and </p>

<blockquote>
<pre><code>$by.total
                      total.time total.pct self.time self.pct
data.frame                  4.86      68.3      0.48      6.7
rbind                       2.22      31.2      0.30      4.2
do.call                     2.22      31.2      0.00      0.0
[                           1.98      27.8      0.16      2.2
[.data.frame                1.84      25.8      0.72     10.1
match                       1.38      19.4      0.28      3.9
%in%                        1.26      17.7      0.14      2.0
is.factor                   1.20      16.9      0.10      1.4
deparse                     1.18      16.6      0.36      5.1
...
</code></pre>
</blockquote>

<p>To be honest, from this output I don't get where my bottlenecks are because (a) I use <code>data.frame</code> pretty often and (b) I never use e.g., <code>deparse</code>. Furthermore, what is <code>[</code>?</p>

<p>So I tried Hadley Wickham's <code>profr</code>, but it was not any more useful considering the following graph:
<img src=""https://i.stack.imgur.com/YIm0J.png"" alt=""alt text""></p>

<p><strong>Is there a more convenient way to see which line numbers and particular function calls are slow?<br>
Or, is there some literature that I should consult?</strong></p>

<p>Any hints appreciated.</p>

<p><strong>EDIT 1:</strong><br>
Based on Hadley's comment I will paste the code of my script below and the base graph version of the plot. But note, that my question is not related to this specific script. It is just a random script that I recently wrote. <strong>I am looking for a general way of how to find bottlenecks and speed up <code>R</code>-code.</strong></p>

<p>The data (<code>x</code>) looks like this:</p>

<blockquote>
<pre><code>type      word    response    N   Classification  classN
Abstract  ANGER   bitter      1   3a              3a
Abstract  ANGER   control     1   1a              1a
Abstract  ANGER   father      1   3a              3a
Abstract  ANGER   flushed     1   3a              3a
Abstract  ANGER   fury        1   1c              1c
Abstract  ANGER   hat         1   3a              3a
Abstract  ANGER   help        1   3a              3a
Abstract  ANGER   mad         13  3a              3a
Abstract  ANGER   management  2   1a              1a
... until row 1700
</code></pre>
</blockquote>

<p>The script (with short explanations) is this:</p>

<blockquote>
<pre><code>Rprof(""profile1.out"")

# A new dataset is produced with each line of x contained x$N times 
y &lt;- vector('list',length(x[,1]))
for (i in 1:length(x[,1])) {
  y[[i]] &lt;- data.frame(rep(x[i,1],x[i,""N""]),rep(x[i,2],x[i,""N""]),rep(x[i,3],x[i,""N""]),rep(x[i,4],x[i,""N""]),rep(x[i,5],x[i,""N""]),rep(x[i,6],x[i,""N""]))
}
all &lt;- do.call('rbind',y)
colnames(all) &lt;- colnames(x)

# create a dataframe out of a word x class table
table_all &lt;- table(all$word,all$classN)
dataf.all &lt;- as.data.frame(table_all[,1:length(table_all[1,])])
dataf.all$words &lt;- as.factor(rownames(dataf.all))
dataf.all$type &lt;- ""no""
# get type of the word.
words &lt;- levels(dataf.all$words)
for (i in 1:length(words)) {
  dataf.all$type[i] &lt;- as.character(all[pmatch(words[i],all$word),""type""])
}
dataf.all$type &lt;- as.factor(dataf.all$type)
dataf.all$typeN &lt;- as.numeric(dataf.all$type)

# aggregate response categories
dataf.all$c1 &lt;- apply(dataf.all[,c(""1a"",""1b"",""1c"",""1d"",""1e"",""1f"")],1,sum)
dataf.all$c2 &lt;- apply(dataf.all[,c(""2a"",""2b"",""2c"")],1,sum)
dataf.all$c3 &lt;- apply(dataf.all[,c(""3a"",""3b"")],1,sum)

Rprof(NULL)

library(profr)
ggplot.profr(parse_rprof(""profile1.out""))
</code></pre>
</blockquote>

<p>Final data looks like this:</p>

<blockquote>
<pre><code>1a    1b  1c  1d  1e  1f  2a  2b  2c  3a  3b  pa  words   type    typeN   c1  c2  c3  pa
3 0   8   0   0   0   0   0   0   24  0   0   ANGER   Abstract    1   11  0   24  0
6 0   4   0   1   0   0   11  0   13  0   0   ANXIETY Abstract    1   11  11  13  0
2 11  1   0   0   0   0   4   0   17  0   0   ATTITUDE    Abstract    1   14  4   17  0
9 18  0   0   0   0   0   0   0   0   8   0   BARREL  Concrete    2   27  0   8   0
0 1   18  0   0   0   0   4   0   12  0   0   BELIEF  Abstract    1   19  4   12  0
</code></pre>
</blockquote>

<p>The base graph plot:
<img src=""https://i.stack.imgur.com/FtbVh.png"" alt=""alt text""></p>

<p><a href=""https://imgur.com/8grk7.png"" rel=""noreferrer"">Running the script today also changed the ggplot2 graph a little (basically only the labels), see here.</a></p>
","289572","","289572","","2010-09-07 13:49:23","2015-09-23 14:50:31","How to efficiently use Rprof in R?","<r><profiling><profiler>","4","4","44","","","CC BY-SA 2.5","3650862","4452","4452","r","404559","3625322","3607736","",""
"3650910","1","3651017","","2010-09-06 11:02:17","","3","7800","<p>I would like to apply some function on each row of a dataframe in R.</p>

<p>The function can return a single-row dataframe or nothing (I guess 'return ()' return nothing?).</p>

<p>I would like to apply this function on each of the rows of a given dataframe, and get the resulting dataframe (which is possibly shorter, i.e. has less rows, than the original one).</p>

<p>For example, if the original dataframe is something like:</p>

<pre><code>id size name
1  100  dave
2  200  sarah
3  50   ben
</code></pre>

<p>And the function I'm using gets a row n the dataframe (i.e. a single-row dataframe), returns it as-is if the name rhymes with ""brave"", otherwise returns null, then the result should be:</p>

<pre><code>id size name
1  100  dave
</code></pre>

<p>This example actually refers to filtering a dataframe, and I would love to get both an answer specific to this kind of task but also to a more general case when even the result of the helper function (the one that operates on a single row) may be an arbitrary data frame with a single row. Please note than even in the case of filtering, I would like to use some sophisticated logic (not something simple like <code>$size&gt;100</code>, but a more complex condition that is checked by a function, let's say <code>boo(single_row_df)</code>.</p>

<p>P.s.
What I have done so far in these cases is to use <code>apply(df, MARGIN=1)</code> then <code>do.call(rbind ...)</code> but I think it give me some trouble when my dataframe only has a single row (I get <code>Error in do.call(rbind, filterd) : second argument must be a list</code>)</p>

<p><strong>UPDATE</strong></p>

<p>Following Stephen reply I did the following:</p>

<pre><code>ranges.filter &lt;- function(ranges,boo) {
    subset(x=ranges,subset=!any(boo[start:end]))
}
</code></pre>

<p>I then call <code>ranges.filter</code> with some ranges dataframe that looks like this:</p>

<pre><code>start end
100   200
250   400
698   1520
1988  2147
...
</code></pre>

<p>and some boolean vector</p>

<pre><code>(TRUE,FALSE,TRUE,TRUE,TRUE,...)
</code></pre>

<p>I want to filter out any ranges that contain a TRUE value from the boolean vector. For example, the first range <code>100 .. 200</code> will be left in the data frame iff the boolean vector is <code>FALSE</code> in positions <code>100 .. 200</code>.</p>

<p>This seems to do the work, but I get a warning saying <code>numerical expression has 53 elements: only the first used</code>.</p>
","377031","","271616","","2010-10-17 01:41:26","2010-10-17 01:41:26","Applying a function on each row of a data frame in R","<r><filter><dataframe>","3","0","","","","CC BY-SA 2.5","3650910","4452","4452","r","404559","3625322","3607736","",""
"3651198","1","3651304","","2010-09-06 11:51:10","","30","53069","<p>Can I insert a <code>vector</code> as a row in a <code>data.frame</code>?  If so how?</p>
","430322","","445131","","2017-03-05 03:38:08","2017-11-25 17:46:15","R: Insert a vector as a row in data.frame","<r><dataframe>","3","0","8","","","CC BY-SA 3.0","3651198","4452","4452","r","404559","3625322","3607736","",""
"3651651","1","3651776","","2010-09-06 13:02:30","","54","116278","<p>I have the following dataframe (<code>df</code>)</p>

<pre><code> start     end
1    14379   32094
2   151884  174367
3   438422  449382
4   618123  621256
5   698271  714321
6   973394  975857
7   980508  982372
8   994539  994661
9  1055151 1058824
.   .       .
.   .       .
.   .       .
</code></pre>

<p>And a long vector with numeric values (<code>vec</code>).</p>

<p>I would like to add to each row another column, with the mean of the values in the corresponding places in <code>vec</code>. for example, the first row will have <code>mean(vec[14379:32094])</code>. I have tried playing with <code>transform</code> but wasn't able to accomplish this simple task.</p>
","377031","","271616","","2010-10-17 01:42:02","2018-07-18 13:29:43","Adding a column to a dataframe in R","<r><dataframe>","2","1","24","","","CC BY-SA 2.5","3651651","4452","4452","r","404559","3625322","3607736","",""
"3651987","1","3652167","","2010-09-06 13:51:35","","0","2469","<p>I have the following dataframe (<code>df</code>)</p>

<pre><code> start     end
1    14379   32094
2   151884  174367
3   438422  449382
4   618123  621256
5   698271  714321
6   973394  975857
7   980508  982372
8   994539  994661
9  1055151 1058824
.   .       .
.   .       .
.   .       .
</code></pre>

<p>And a long boolean vector with <strong>boolean</strong> values (<code>vec</code>).</p>

<p>I would like to filter out all ranges in <code>df</code> that contain at least one <code>TRUE</code> value in the corresponding locations in <code>vec</code>.</p>

<p>In other words, a row with <code>start=x</code> <code>end=y</code> will be outputted iff <code>!any(vec[x:y])</code>.</p>

<p>Any ideas on how to accomplish that?</p>
","377031","","271616","","2010-10-17 01:42:22","2010-10-17 01:42:22","Filtering a dataframe in R","<r><filter><dataframe>","2","2","1","","","CC BY-SA 2.5","3651987","4452","4452","r","404559","3625322","3607736","",""
"3653038","1","","","2010-09-06 16:47:12","","1","731","<p>How can I use a <code>zoo</code> object with <a href=""http://cran.r-project.org/package=PerformanceAnalytics"" rel=""nofollow noreferrer"">the <code>PerformanceAnalytics</code> package</a>?
It says that I need a timeseries but I can convert it properly.</p>

<p>thanks</p>
","425895","","4895725","","2016-05-07 21:38:34","2016-05-07 21:38:34","R, zoo with performance analytics","<r><zoo><performanceanalytics>","1","0","","","","CC BY-SA 3.0","3653038","4452","4452","r","404559","3625322","3607736","",""
"3654998","1","3659017","","2010-09-07 00:16:08","","4","1048","<p>Has anyone worked with NY police stops data mentioned in Gelman, Hill book <em>Data Analysis Using Reg. and Multi/Hier Modeling</em> (ARM). The data is under</p>

<p><a href=""http://www.stat.columbia.edu/~gelman/arm/examples/police/"" rel=""nofollow noreferrer"">http://www.stat.columbia.edu/~gelman/arm/examples/police/</a></p>

<p>the file is frisk_with_noise.dat. I removed the description part of this data, renamed past.arrests as arrests, saved it as frisk.dat. Called glm from R like this:</p>

<pre><code>library (""foreign"")
frisk &lt;- read.table (""frisk.dat"", header=TRUE)
attach (frisk)
glm(formula = stops ~ 1, family=poisson, offset=log(arrests))
</code></pre>

<p>The glm call is right out of ARM book. In any case, I get the error:</p>

<pre><code>Error: NA/NaN/Inf in foreign function call (arg 4)
</code></pre>

<p>Any ideas? Gelman has a piece of code under the same directory called police_setup.R that is supposed to have some cleanup code, but that doesnt work either.</p>
","423805","","172261","","2010-09-07 07:30:07","2015-04-21 14:36:41","GLM on police stops data in Gelman / Hill book","<r><statistics>","3","0","","","","CC BY-SA 2.5","3654998","4452","4452","r","404559","3625322","3607736","",""
"3655717","1","3659440","","2010-09-07 04:13:00","","8","7256","<p>Given a random variable with probability density function f(x), how to compute the expected value of this random variable in R?</p>
","297850","","","","","2020-09-05 20:40:50","Given a random variable with probability density function f(x), how to compute the expected value of this random variable in R?","<r>","3","0","3","","","CC BY-SA 2.5","3655717","4452","4452","r","404559","3625322","3607736","",""
"3656644","1","3659823","","2010-09-07 07:39:00","","4","11913","<p>I noticed that sometimes I get errors in my R scripts when I forget checking whether the dataframe I'm working on is actually empty (has zero rows).</p>

<p>For example, when I used apply like this</p>

<p><code>apply(X=DF,MARGIN=1,FUN=function(row) !any(vec[ row[[""start""]]:row[[""end""]] ]))</code></p>

<p>and <code>DF</code> happened to be empty, I got an error about the subscripts.</p>

<p>Why is that? Aren't empty dataframes valid? Why does <code>apply()</code> with <code>MARGIN=1</code> even try to do anything when there are no rows in the dataframe? Do I really need to add a condition before each such apply to make sure the dataframe isn't empty?</p>

<p>Thank you!</p>
","377031","","271616","","2010-10-17 01:42:42","2010-10-17 01:42:42","How to handle with empty dataframes in R?","<r><dataframe>","4","4","","","","CC BY-SA 2.5","3656644","4452","4452","r","404559","3625322","3607736","",""
"3657876","1","3658478","","2010-09-07 10:42:06","","3","1605","<p>I'm used to work on my R scripts with some GUI, so I can easily run commands line-by-line, then pause and inspect my objects as they are created and changed.</p>

<p>I currently need to work with some data on a remote server. Is it possible to run line-by-line using R console or some other application (please, not vi) that does not require real GUI?</p>
","377031","","","","","2012-08-03 21:55:01","How to run R script line by line from linux shell?","<shell><r>","2","0","","","","CC BY-SA 2.5","3657876","4452","4452","r","404559","3625322","3607736","",""
"3661302","1","3662267","","2010-09-07 17:57:27","","8","5610","<p>In the statistics programming language R, the following formula (e.g. in <code>lm()</code> or <code>glm()</code>)</p>

<pre><code>z ~ (x+y)^2  
</code></pre>

<p>is equivalent to</p>

<pre><code>z ~ x + y + x:y
</code></pre>

<p>Assuming, I only have continuous predictors, is there a concise way to obtain</p>

<pre><code>z ~ I(x^2) + I(y^2) + I(x) + I(y) + I(x*y)
</code></pre>

<p>A formula that does the right thing for factor predictors is a plus.</p>

<p>One possible solution is</p>

<pre><code>z ~ (poly(x,2) + poly(y,2))^2
</code></pre>

<p>I am looking for something more elegant.</p>
","411038","","5436877","","2019-05-06 13:54:15","2019-05-06 13:54:15","Formula for all first and second order predictors including interactions in R","<r><formula>","1","6","0","","","CC BY-SA 4.0","3661302","4452","4452","r","404559","3625322","3607736","",""
"3661451","1","3661854","","2010-09-07 18:20:14","","6","2940","<p>Im trying to produce a sorted table and export in to latex. However it seems xtable cannot cope with sorted tables. Suggestions?</p>

<pre><code>   a&lt;-sample(letters,500,replace=T)
    b&lt;-table(a)
    c&lt;-sort(table(a),decreasing=T)
    xtable(b)
    xtable(c)
</code></pre>

<p>//M</p>
","338745","","","","","2010-09-07 19:09:52","sorting a table for latex output with xtable","<r><xtable>","1","0","1","","","CC BY-SA 2.5","3661451","4452","4452","r","404559","3625322","3607736","",""
"3661500","1","3661813","","2010-09-07 18:26:03","","7","5698","<p>I'm using the package <a href=""http://cran.r-project.org/web/packages/glmulti/index.html"" rel=""noreferrer"">glmulti</a> to fit models to several datasets. Everything works if I fit one dataset at a time.</p>

<p>So for example:</p>

<pre><code>output &lt;- glmulti(y~x1+x2,data=dat,fitfunction=lm) 
</code></pre>

<p>works just fine.</p>

<p>However, if I create a wrapper function like so:</p>

<pre><code>analyze &lt;- function(dat)
{
out&lt;- glmulti(y~x1+x2,data=dat,fitfunction=lm)
return (out)
}
</code></pre>

<p>simply doesn't work. The error I get is </p>

<pre><code>error in evaluating the argument 'data' in selecting a method for function 'glmulti'
</code></pre>

<p>Unless there is a data frame named dat, it doesn't work. If I use <code>results=lapply(list_of_datasets, analyze)</code>, it doesn't work. 
So what gives? Without my said wrapper, I can't lapply a list of datasets through this function. If anyone has thoughts or ideas on why this is happening or how I can get around it, that would be great.</p>

<p><em>example 2:</em></p>

<pre><code>dat=list_of_data[[1]]
analyze(dat)
</code></pre>

<p>works fine. So in a sense it is ignoring the argument and just literally looking for a data frame named dat. It behaves the same no matter what I call it.</p>
","313163","","","","","2010-09-07 19:20:05","Why can't I pass a dataset to a function?","<r>","1","0","3","","","CC BY-SA 2.5","3661500","4452","4452","r","404559","3625322","3607736","",""
"3661579","1","3661943","","2010-09-07 18:36:35","","1","2554","<p>I'm trying to work on data from .csv files of known general format but varying group and measure names. I can get a data.frame using:</p>

<pre><code>mydata=read.csv(file.choose(),header=T)    
mydata

    GroupNames  Measure1    Measure2    Measure3  etc
1   group1      value1      value1
2   group1      value2      value2
3   group2      value3      value3
4   group2      value4      value4
5   group2      value5      value5
6   group3      value6      value6
7   group3      value7      value7

etc
</code></pre>

<p>Is there a way to subset the data and do the required tests if I don't know the numbers of groups or Measures (or their names) ahead of time?</p>

<p>I can get the first row using:</p>

<pre><code>names(mydata)
[1] ""GroupNames"" ""Measure1"" ""Measure2"" ""Measure3"" 
</code></pre>

<p>I can get the groups using:</p>

<pre><code>Groups&lt;-levels(factor(mydata[[1]]))
Groups
[1] ""group1"" ""group2""  ""group3""
</code></pre>

<p>I can create a subset using:</p>

<pre><code>g1&lt;-subset(mydata, GroupNames %in% Groups[1])
g1
    GroupNames  Measure1    Measure2    Measure3  etc
1   group1      value1      value1
2   group1      value2      value2
</code></pre>

<p>but how do I automatically put ""GroupNames"" in the above subset command without knowing it ahead of time? Current experiments using:</p>

<pre><code>Titles&lt;-names(mydata)
</code></pre>

<p>then</p>

<pre><code>g1&lt;-subset(mydata, Titles[1] %in% Groups[1])
</code></pre>

<p>fail, and return:</p>

<pre><code>[1] GroupNames Measure1 Measure2 Measure3     
&lt;0 rows&gt; (or 0-length row.names)
</code></pre>

<p>Sorry, but I am a beginner...</p>
","441706","","","","","2010-09-07 19:19:49","Can one use 'subset' on data from .csv files of known structure but varying details?","<r><dataframe>","1","0","","","","CC BY-SA 2.5","3661579","4452","4452","r","404559","3625322","3607736","",""
"3662176","1","3662220","","2010-09-07 19:53:03","","5","6809","<p>I have two sets of data (3 columns: x=categorical, y = numerical, l = location) and I would like to create a bar chart with the categories on the x axis and, for each value of the category, two vertical bars, coloured differently, with the y values for each location. By the default, Excel/OpenOffice produce this kind of chart.</p>

<p>I tried</p>

<pre><code>qplot (x,y,data=mydata,col=location, geom=""histogram"")
</code></pre>

<p>but it produces stacked bars, not side by side. I then looked in the ggplot2 documentation and didn't find any other geom I could use (see below for full list).</p>

<p>Is this not possible with ggplot2?</p>

<p>Thanks in advance.</p>

<pre><code>Name Description
abline - Line, specied by slope and intercept
area - Area plots
bar - Bars, rectangles with bases on y-axis
blank - Blank, draws nothing
boxplot - Box-and-whisker plot
contour - Display contours of a 3d surface in 2d
crossbar - Hollow bar with middle indicated by horizontal line
density - Display a smooth density estimate
density_2d - Contours from a 2d density estimate
errorbar - Error bars
histogram - Histogram
hline - Line, horizontal
interval - Base for all interval (range) geoms
jitter - Points, jittered to reduce overplotting
line - Connect observations, in order of x value
linerange - An interval represented by a vertical line
path - Connect observations, in original order
point - Points, as for a scatterplot
pointrange - An interval represented by a vertical line, with a point
in the middle
polygon - Polygon, a lled path
quantile - Add quantile lines from a quantile regression
ribbon - Ribbons, y range with continuous x values
rug - Marginal rug plots
segment - Single line segments
smooth - Add a smoothed condition mean
step - Connect observations by stairs
text - Textual annotations
tile - Tile plot as densely as possible, assuming that every tile is the same size
vline - Line, vertical
</code></pre>
","277434","","277434","","2010-09-08 00:32:39","2010-09-08 00:32:39","How to create side-by-side bar charts (for multiple series) with ggplot?","<r><ggplot2>","1","2","2","","","CC BY-SA 2.5","3662176","4452","4452","r","404559","3625322","3607736","",""
"3664279","1","3664439","","2010-09-08 02:40:58","","0","1841","<p>From the (simplified) data below that represents a user choosing between three options, I want to create a set of boxplots of the percentage of times a user chose a value, based upon the factor of value. So I want three boxplots, the percentage users chose 0, 1 and 2.</p>

<p>I'm sure I'm missing something obvious, as I often do with R. I can get the percentages using <code>by(dat, dat$user, function(user) {table(user$value)/length(user$value)*100})</code>, but don't know how to turn that into boxplots.</p>

<p>Hope that makes sense.</p>

<pre><code>user|value
1|2
1|1
1|0
1|2
1|0
2|2
2|2
2|2
2|0
2|2
3|2
3|0
3|1
3|0
3|1
4|2
4|0
4|1
4|0
4|1
5|2
5|0
5|1
5|0
5|1
6|2
6|0
6|0
6|1
6|2
7|0
7|0
7|1
7|0
7|1
8|2
8|2
8|1
8|1
8|2
9|1
9|0
9|0
9|0
9|0
10|1
10|2
10|0
10|2
10|1
</code></pre>
","109678","","","","","2010-09-08 08:01:35","R boxplot over summary","<r><boxplot>","2","0","","","","CC BY-SA 2.5","3664279","4452","4452","r","404559","3625322","3607736","",""
"3664493","1","3669437","","2010-09-08 03:43:44","","12","7930","<p>I've started to produce the charts for a paper. For some of them which are bar charts I've used the ""Pastel1"" palette (as recommended in the book on ggplot2, pastel colours are better than saturated ones for fill areas, such as bars).</p>

<p>The problem with Pastel1 at least is that when printed on a B&amp;W laser printer, the colours are indistinguishable. I don't know if the readers will view the paper on screen or will print it on B&amp;W, so I'm looking for either of the following:</p>

<ul>
<li>how to <em>add hash lines</em> to a palette such as Pastel1 (hopefully the hash lines are also subtle)</li>
<li><em>a colour palette easy on the eyes that also produces distinct grey areas for B&amp;W</em> for, say, up to 3-4 different colours.</li>
</ul>

<p>Granted, I could find the latter by experimenting and using toner, but perhaps this has already been solved, I suppose it's a common problem. And yes, I did google for this, but didn't find anything pertinent.</p>

<p>Thank you.</p>
","277434","","","","","2010-09-08 16:12:56","ggplot: recommended colour palettes also distinguishable for B&W printing?","<r><ggplot2>","3","1","1","","","CC BY-SA 2.5","3664493","4452","4452","r","404559","3625322","3607736","",""
"3664819","1","","","2010-09-08 05:18:39","","3","408","<p>I have a server client system where the server is a vc++ program and the client is in R.
Can I use a shared memory between these two? with boost::interprocess at the vc++ end and R bigmemory at the R end?</p>

<p>the server and the client are on the same pc</p>
","430322","","","","","2013-01-29 05:39:06","boost::interprocess shared memory and R bigmemory","<c++><visual-c++><r>","1","1","2","","","CC BY-SA 2.5","3664819","4452","4452","r","404559","3625322","3607736","",""
"3665233","1","3665555","","2010-09-08 06:45:53","","7","1429","<p>I have written a <em>shebang</em> R script and would like to execute it from a Perl script. I currently use <code>system ($my_r_script_path, $r_script_arg1, $r_script_arg2, ...)</code> and my question is how can I verify the R script terminates normally (no errors or warnings).</p>

<p>guess I should make my R script return some true value at the end, only if everything is OK, then catch this value in Perl, but I'm not sure how to do that.</p>

<p>Thanks!</p>
","377031","","","","","2010-09-08 09:44:16","How to verify normal termination of R scripts executed from Perl?","<perl><r><return-value>","1","5","2","","","CC BY-SA 2.5","3665233","4452","4452","r","404559","3625322","3607736","",""
"3665885","1","3666232","","2010-09-08 08:33:30","","2","18466","<p>How can I add a list of vectors to a preallocated data.frame such that the vectors form the rows of the data.frame?</p>

<p>eg. </p>

<pre><code>ll&lt;-list(c(1,2,3),c(2,3,4))
dd&lt;-data.frame(matrix(nrow=10,ncol=3))  
</code></pre>

<p>I need dd to look like</p>

<pre><code>1 2 3
2 3 4
</code></pre>
","430322","","6852937","","2017-10-09 10:44:55","2017-10-09 10:44:55","adding a list of vectors to a data.frame in R","<r>","2","0","3","","","CC BY-SA 3.0","3665885","4452","4452","r","404559","3625322","3607736","",""
"3666969","1","3667014","","2010-09-08 10:56:45","","4","1731","<p>I have a sequence of ones and zeros and I would like to count the number of alternations. e.g.</p>

<pre><code>x &lt;- rbinom(10, 1, 1/2)
&gt; x
 [1] 0 0 1 1 1 1 1 0 1 0
</code></pre>

<p>Thus I would like to count (in R) how many times the sequence alternates (or flips) from one to zero. In the above sequence the number of alternations (counted by hand) is 4.</p>
","471431","","180239","","2011-06-01 08:19:16","2011-06-01 08:19:16","Count number of alternations in a coin flip sequence","<r><simulation><coin-flipping>","4","1","","","","CC BY-SA 3.0","3666969","4452","4452","r","404559","3625322","3607736","",""
"3668102","1","","","2010-09-08 13:16:58","","7","10853","<p>I need to plot and display several jpeg images in a single combined display (or canvas?). For example, suppose I have images {a,b,c,d}.jpg, each of different size, and I would like to plot them on one page in a 2x2 grid. It would be also nice to be able to set a title for each subplot.</p>

<p>I've been thoroughly looking for a solution, but couldn't find out how to do it, so any ideas would really help. I would preferably use a solution that is based on the EBImage package. </p>
","442446","","","","","2010-09-08 16:18:46","Plotting several jpeg images in a single display","<image><r><plot>","3","1","1","","","CC BY-SA 2.5","3668102","4452","4452","r","404559","3625322","3607736","",""
"3668962","1","3669246","","2010-09-08 14:49:41","","0","217","<p>Using  R, I generate a list that contains certain unquoted elements. Please see at the bottom- it is invalid javascript code.</p>

<p><strong>R code (does not work)</strong></p>

<pre><code>outq &lt;- lapply (out, function (el){
 el &lt;- if( is.factor(el$ann) ){ 
 el$ann &lt;- apply(el$ann, 1, function(e){ e &lt;- paste('""', e, '""', sep="""") })
 }   
}) 
</code></pre>

<p>In the R language, How can I quote the members of the <code>list$x$ann</code> factor?  </p>

<p>When I try to parse this JSON, json2.js fails. </p>

<p><strong>Sample Data (Invalid JSON)</strong></p>

<pre><code>results = JSON.parse(
{
 ""result"": {
 ""tot"": {
 ""molal"": [ 0.00071243, 0.00071243,      4,      4 ],
   ""ann"": [ , , ,  ] 
},
   ""desc"": {
 ""val"": [ 8.3486,      4, 0.8531, 4.0025, 0.99999, 0.00072541, 0.00071243,    100, -1.2983e-05, -0.00016223,     17, 111.02, 55.511 ],
   ""ann"": [ Charge balance, Adjusted to redox eq, , , , , , , , , , ,  ] 
},
   ""species"": {
 ""molal"": [ 55.508, 0.00029101, 2.3071e-09, 0.00042017, 0.00028731, 4.4532e-06, 4.9292e-07, 0.00069149, 1.0274e-05, 6.2142e-06, 4.9139e-12,      4,      0, 4.1166e-27,      4, 8.5144e-21 ],
   ""act"": [ 0.8531, 0.00010921, 4.4812e-09, 1.4857e-06, 7.7889e-05, 4.4532e-06, 9.6777e-07, 0.00024834, 3.3916e-06, 0.00028204, 4.9139e-12, 2.2702,      0, 4.1166e-27, 3.7925, 1.8453e-20 ] 
},
   ""master"": {
 ""molal"": [ 0.00071243, 0.00071243,      4, 8.2332e-27,      4, 1.7029e-20 ] 
},
   ""pphases"": {
 ""moles"": 9.9993,
   ""delta"": -0.00071243 
},
   ""ListInfo"": {
 ""n"": 1,
   ""format"": true 
} 
} 
}
);
</code></pre>
","202553","","1900149","","2014-07-30 10:27:23","2014-07-30 10:27:23","quoting unquoted members in nested list","<r><list><r-factor><quoting>","2","0","","","","CC BY-SA 3.0","3668962","4452","4452","r","404559","3625322","3607736","",""
"3671862","1","3672029","","2010-09-08 20:59:30","","6","1441","<p>I'm following the example from the Rcpp intro Vignette, trying it with inline.</p>

<pre><code>f&lt;-cxxfunction(signature(), plugin=""Rcpp"", body=""
    Environment global = Environment::global_env();
    std::vector&lt;double&gt; vx = global['x'];
"")
</code></pre>

<p>but I get a compile error.</p>

<pre><code>file12384509.cpp: In function 'SEXPREC* file12384509()':
file12384509.cpp:31: error: invalid use of incomplete type 'struct SEXPREC'
C:/PROGRA~1/R/R-211~1.1/include/Rinternals.h:333: error: forward declaration of 'struct SEXPREC'
file12384509.cpp:31: error: conversion from 'SEXPREC' to non-scalar type 'std::vector&lt;double, std::allocator&lt;double&gt; &gt;' requested
make: *** [file12384509.o] Error 1

ERROR(s) during compilation: source code errors or compiler configuration errors!

Program source:
  1: // includes from the plugin
  2: 
  3: #include &lt;Rcpp.h&gt;
  4: 
  5: 
  6: #ifndef BEGIN_RCPP
  7: #define BEGIN_RCPP
  8: #endif
  9: 
 10: #ifndef END_RCPP
 11: #define END_RCPP
 12: #endif
 13: 
 14: using namespace Rcpp;
 15: 
 16: 
 17: // user includes
 18: 
 19: 
 20: // declaration
 21: extern ""C"" {
 22: SEXP file12384509( ) ;
 23: }
 24: 
 25: // definition
 26: 
 27: SEXP file12384509(  ){
 28: BEGIN_RCPP
 29: 
 30: Environment global = Environment::global_env();
 31: std::vector&lt;double&gt; vx = global['x'];
 32: 
 33: END_RCPP
 34: }
 35: 
 36: 
Error in compileCode(f, code, language = language, verbose = verbose) : 
  Compilation ERROR, function(s)/method(s) not created! file12384509.cpp: In function 'SEXPREC* file12384509()':
file12384509.cpp:31: error: invalid use of incomplete type 'struct SEXPREC'
C:/PROGRA~1/R/R-211~1.1/include/Rinternals.h:333: error: forward declaration of 'struct SEXPREC'
file12384509.cpp:31: error: conversion from 'SEXPREC' to non-scalar type 'std::vector&lt;double, std::allocator&lt;double&gt; &gt;' requested
make: *** [file12384509.o] Error 1
</code></pre>

<p>What is wrong and is there a way to fix this?  This is just the toy example, I have a more important complicated problem depending on the answer to this.</p>
","65148","","65148","","2010-09-08 21:11:18","2013-05-15 17:23:54","Read variables from global environment with inline Rcpp?","<r><rcpp>","1","0","1","","","CC BY-SA 2.5","3671862","4452","4452","r","404559","3625322","3607736","",""
"3672260","1","","","2010-09-08 22:08:05","","9","3562","<p>I have a cloud of points scattered in a 2D Euclidean space. I would like to calculate the area inside the polygon linking the most extreme (=peripheral) points of the cloud. In other words, I would like to estimate the area covered by the cloud in this space. 
Is there a formula in R?
Thanks a lot for any response
Julien</p>
","442877","","50846","","2010-09-09 09:05:20","2010-09-09 09:05:20","Area covered by a point cloud with R","<r><cloud><2d><surface><area>","1","0","3","","","CC BY-SA 2.5","3672260","4452","4452","r","404559","3625322","3607736","",""
"3672527","1","3672568","","2010-09-08 22:56:35","","33","42982","<p>I am trying to take an existing vector and repeat each element of it six times.  I feel like this should be easy using <code>rep()</code> but I keep hitting the wall.
Basically I would like to take this vector:</p>

<pre><code>1027 1028 1030 1032 1037
</code></pre>

<p>And turn it into this:</p>

<pre><code>1027 1027 1027 1027 1027 1027 1028 1028 1028 1028 1028 1028 ...
</code></pre>
","163809","","680068","","2020-03-30 07:32:57","2020-10-08 08:06:29","Generate a repeating sequence based on vector","<r><repeat>","1","1","6","","","CC BY-SA 4.0","3672527","4452","4452","r","404559","3625322","3607736","",""
"3672761","1","5487708","","2010-09-08 23:45:45","","4","1299","<p>Learning R language - I know how to do a moving average but I need to do more - but I am not a statistician - unfortunately all the docs seem to be written for statisticians.</p>

<p>I do this in excel a lot, it's really handy for analysis of operational activities.</p>

<p>Here are the fields on each row to make <a href=""http://www.bollingerbands.com/"" rel=""nofollow noreferrer"">bollinger bands</a>:</p>

<p>Value could be # of calls, complaint ratio, anything</p>

<p>TimeStamp | Value | Moving Average | Moving STDEVP | Lower Control | Upper Control</p>

<p>Briefly, the moving avg and the stdevP point to the prior 8 or so values in the series. Lower control at a given point in time is = moving average - 2*moving stdevP and upper control = moving average + 2*moving stdevP</p>

<p>This can easily be done in excel for a single file, but if I can find a way to make R work R will be better for my needs. Hopefully faster and more reliable when automated, too.</p>

<p>links or tips would be appreciated.</p>
","442916","","428790","","2011-03-31 17:23:05","2011-04-03 23:51:09","R Time series - having trouble making bollinger lines - need simple example please","<r><statistics><time-series>","2","1","1","","","CC BY-SA 2.5","3672761","4452","4452","r","404559","3625322","3607736","",""
"3672908","1","3674909","","2010-09-09 00:17:14","","1","2027","<p>Im trying to clean the factor variables in a dataframe from trailing spaces. However the levels assignment doesnt work inside my lapply function.</p>

<pre><code>rm.space&lt;-function(x){
    a&lt;-gsub("" "","""",x)
    return(a)}


lapply(names(barn),function(x){
    levels(barn[,x])&lt;-rm.space(levels(barn[,x]))
    })
</code></pre>

<p>Any ideas how I can assign levels inside a lapply function?</p>

<p>//M</p>
","338745","","","","","2010-09-09 10:14:08","setting levels inside lapply loop in r","<r><lapply>","3","1","1","","","CC BY-SA 2.5","3672908","4452","4452","r","404559","3625322","3607736","",""
"3674942","1","","","2010-09-09 08:27:10","","2","7049","<p>I used sample function in R to generate a sample of 100 fair coin flips, here is the commands i used.</p>

<pre><code>fair.coin = c(""heads"" = 0.5, ""tails"" = 0.5)
</code></pre>

<p>then,</p>

<pre><code>x &lt;- sample(fair.coin, size = 100, replace = TRUE)
&gt; x

tails tails tails heads tails tails tails heads heads tails heads heads tails tails

  0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5 

heads tails heads tails tails tails tails heads heads heads heads tails heads tails 

  0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5 

tails tails tails heads heads heads heads heads heads heads tails heads tails tails 

  0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5 

tails heads tails heads heads heads tails tails heads tails tails heads heads heads 

  0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5 

heads tails tails tails heads heads tails tails tails heads heads heads heads tails 

  0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5 

tails heads heads heads tails tails tails heads heads heads tails heads tails tails 

  0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5 

heads tails heads heads tails heads tails tails tails heads heads heads tails heads 

  0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5   0.5 

tails tails 

  0.5   0.5 
</code></pre>

<p>That's what I'm getting right now. And I am looking to find the total number of heads that is in this sample, how could I do that? I tried <code>sum(x&gt;0.5)</code>, <code>x[-tails]</code> and so on, they are all counting the numbers (since they are fair, all r 0.5), instead of the names of the vector. Is there any functions in R I can use to count the number of heads in this 100 samples?</p>

<p>Thanks in advance!</p>
","443197","","168747","","2010-09-09 10:23:56","2010-09-09 10:23:56","In R, how do you count the character vectors?","<r>","2","0","","","","CC BY-SA 2.5","3674942","4452","4452","r","404559","3625322","3607736","",""
"3675492","1","","","2010-09-09 09:51:48","","2","152","<p>I have the following XML File: </p>

<pre><code>&lt;Company &gt;
    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:00.01&lt;/timeStamp&gt;
        &lt;Price&gt;  25.02&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:00.02&lt;/timeStamp&gt;
        &lt;Price&gt;  15&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:01.025&lt;/timeStamp&gt;
        &lt;Price&gt;  15.02&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:01.031&lt;/timeStamp&gt;
        &lt;Price&gt;  18.25&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:01.039&lt;/timeStamp&gt;
        &lt;Price&gt;  18.54&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:01.050&lt;/timeStamp&gt;
        &lt;Price&gt; 16.52&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:02.01&lt;/timeStamp&gt;
        &lt;Price&gt;  17.50&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:03.01&lt;/timeStamp&gt;
        &lt;Price&gt;  25.02&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:05.02&lt;/timeStamp&gt;
        &lt;Price&gt;  30&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:11.025&lt;/timeStamp&gt;
        &lt;Price&gt;  32.25&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:12.031&lt;/timeStamp&gt;
        &lt;Price&gt;  26.05&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:15.039&lt;/timeStamp&gt;
        &lt;Price&gt;  18.54&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:19.050&lt;/timeStamp&gt;
        &lt;Price&gt; 16.52&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:01:02.01&lt;/timeStamp&gt;
        &lt;Price&gt;  17.50&lt;/Price&gt;
    &lt;/shareprice&gt;
&lt;/Company&gt;
</code></pre>

<p>And I also have the following R Code:</p>

<pre><code>library (ggplot2)
library (XML)
df &lt;- xmlToDataFrame(file.choose()) 
df$timeStamp &lt;- strptime(as.character(df$timeStamp), ""%H:%M:%OS"")
df$Price &lt;- as.numeric(as.character(df$Price))
sapply(df, class)          
options(""digits.secs""=3)   
summary (df)              
df$timeStamp &lt;- df[1,""timeStamp""] + cumsum(runif(1:length(df$timeStamp))*60)
summary(df)
diff1 = 0
diff &lt;- append(diff1,diff(df$Price))
summary (df$Price)
Ymin &lt;- min(df$Price)
Ymax &lt;- max(df$Price)
Ymedian &lt;- median (df$Price)
Ymean &lt;- mean(df$Price)
Ysd &lt;- sd (df$Price)
sink (file=""c:/xampp/htdocs/Sharedata.xml"", type=""output"",split=FALSE)
cat(""&lt;graph caption=\""Share Data Wave\"" subcaption=\""For Person's Name\""   xAxisName=\""Time\"" yAxisMinValue=\""-0.025\"" yAxisName=\""Voltage\"" decimalPrecision=\""5\""  formatNumberScale=\""0\"" numberPrefix=\""\"" showNames=\""1\"" showValues=\""0\"" showAlternateHGridColor=\""1\"" AlternateHGridColor=\""ff5904\"" divLineColor=\""ff5904\"" divLineAlpha=\""20\"" alternateHGridAlpha=\""5\""&gt;\n"")
cat(sprintf(""    &lt;set name=\""%s\"" value=\""%f\"" hoverText = \""The difference from last value: %s\"" &gt;&lt;/set&gt;\n"", df$timeStamp, df$Price, diff))
cat (""&lt;/graph&gt;\n"")
unlink(""data.xml"")
sink (file=""c:/xampp/htdocs/Sharesstatistics.xml"", type=""output"",split=FALSE)
cat (""  &lt;statistics&gt;\n"")
cat (sprintf(""    &lt;mean&gt;%s&lt;/mean&gt;\n"", Ymean))
cat (sprintf(""    &lt;sd&gt;%s&lt;/sd&gt;\n"",Ysd))
cat (sprintf(""    &lt;min&gt;%s&lt;/min&gt;\n"", Ymin))
cat (sprintf(""    &lt;median&gt;%s&lt;/median&gt;\n"",Ymedian))
cat (sprintf(""    &lt;max&gt;%s&lt;/max&gt;\n"", Ymax))
cat (""  &lt;/statistics&gt;\n"")
unlink(""statistics.xml"")
quit()
</code></pre>

<p>The R code does all I want and need it do on the full file. My question relates to how to let the user to select a range of the input file to analyse instead of the full file, how would this be done? For example if the user just wants the 2nd to 5th enteries of the input xml file and keep the same output as defined by the cat statements.</p>

<pre><code>&lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:00.02&lt;/timeStamp&gt;
        &lt;Price&gt;  15&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:01.025&lt;/timeStamp&gt;
        &lt;Price&gt;  15.02&lt;/Price&gt;
    &lt;/shareprice&gt;

    &lt;shareprice&gt;
        &lt;timeStamp&gt; 12:00:01.031&lt;/timeStamp&gt;
        &lt;Price&gt;  18.25&lt;/Price&gt;
    &lt;/shareprice&gt;
</code></pre>

<p>All help greatly appreciated.</p>

<p>Regards,</p>

<p>Anthony. </p>
","386448","","428790","","2010-09-09 12:19:16","2010-10-21 23:40:41","Allow the user to select range of data file to be analyzed?","<xml><r>","1","0","","","","CC BY-SA 2.5","3675492","4452","4452","r","404559","3625322","3607736","",""
"3676224","1","3676590","","2010-09-09 11:49:17","","6","757","<p>Working in Windows, I've created an r package that links to a c++ dll as a shared library. This works fine and installs without problems on Windows. When I switch to linux, however, the so is not found.</p>

<p>Am I right in thinking that the only file in the src directory should be the .cpp file?</p>

<p>Do I actually need to run the SHLIB command in that directory before I create the package?</p>

<p>In the NAMESPACE I use:</p>

<pre><code>useDynLib(myc.cpp,my.c.function)
</code></pre>

<p>and in the function call:</p>

<pre><code>my.r.f &lt;- .Call(my.c.function, a, b)
</code></pre>

<p>On windows running R CMD check works fine. Could it be my linux R configuration that is to blame? It seems to install 3rd party packages fine.</p>

<p>I'm stumped!</p>
","443342","","1900149","","2014-11-26 09:14:52","2014-11-26 09:14:52","Creating a r package with a C++ dll in windows and ensuring portability to linux","<r>","3","2","1","","","CC BY-SA 3.0","3676224","4452","4452","r","404559","3625322","3607736","",""
"3678614","1","3678679","","2010-09-09 16:39:03","","3","2760","<p>I installed the stringr package on my Ubuntu 10.04 machine under R 2.10.1. When I try to use the str_extract() function R stops and gives the following error message:</p>

<p>Error in recyclable(string, pattern, replacement) :
   could not find function ""vapply""</p>

<p>How can I solve this problem? Is there any specific package that contains this vapply function?</p>
","260145","","8562","","2010-09-09 16:49:18","2010-10-30 14:56:42","How can I resolve the ""could not find function vapply"" error in R?","<r>","2","0","","","","CC BY-SA 2.5","3678614","4452","4452","r","404559","3625322","3607736","",""
"3679761","1","3679945","","2010-09-09 19:10:41","","5","567","<p>I have a C++/Rcpp function the I need to compile and link to the pomp package to get access to a random number generator.  I can get the header file included but how to I get it to link to the compiled code?</p>

<pre><code>CppColonized&lt;-cxxfunction(
  sig=signature(x=""numeric"", t=""numeric"", params=""numeric"", dt=""numeric""),
  plugin='Rcpp',
  includes = sprintf(""#include &lt;Rmath.h&gt;\n#include &lt;math.h&gt;\n#include\""%s\"""", 
    base:::system.file(""include/pomp.h"",package=""pomp"")),
  body=Code,verbose=T)
</code></pre>

<p>The code uses the reulermultinom function in the pomp package and when I evaluate it it gives the error </p>

<blockquote>
  <p>undefined reference to `reulermultinom(int, double, double*, double, double*)</p>
</blockquote>

<p>The commands being issued are </p>

<blockquote>
  <p>g++
  -I""C:/PROGRA~1/R/R-211~1.1/include""   -I""C:/PROGRA~1/R/R-211~1.1/library/Rcpp/include""
  -O2 -Wall  -c file2f752742.cpp -o file2f752742.o g++ -shared -s
  -static-libgcc -o file2f752742.dll tmp.def file2f752742.o
  C:/PROGRA~1/R/R-211~1.1/library/Rcpp/lib/libRcpp.a
  -LC:/PROGRA~1/R/R-211~1.1/bin -lR</p>
</blockquote>

<p>Is seems like there should be a -lpomp or something like that.</p>
","65148","","","","","2010-09-09 19:34:24","Linking to another package with R inline","<gcc><r><rcpp>","1","0","2","","","CC BY-SA 2.5","3679761","4452","4452","r","404559","3625322","3607736","",""
"3681647","1","3682851","","2010-09-10 01:03:34","","130","70101","<p>I have several faceted histograms (obtained with the command below) which are nicely plotted one under the other. I would like to increase the spacing between them, however, they are tight.</p>

<p>I looked at the <a href=""http://had.co.nz/ggplot2/facet_grid.html"" rel=""noreferrer"">doc</a> but didn't find a parameter for this. </p>

<pre><code>qplot (Happiness.Level, Number.of.Answers, data=mydata, geom=""histogram"") + facet_grid (Location ~ .) 
</code></pre>
","277434","","107625","","2020-02-14 05:29:06","2021-01-07 17:25:02","ggplot: How to increase spacing between faceted plots?","<r><ggplot2>","2","2","26","","","CC BY-SA 4.0","3681647","4452","4452","r","404559","3625322","3607736","",""
"3681693","1","3681937","","2010-09-10 01:12:36","","0","1886","<p>I have a faceted plot (about which I had this <a href=""https://stackoverflow.com/questions/3681647/ggplot-how-to-increase-spacing-between-faceted-plots"">other</a> question). I would like to control the interval of ylim() to reduce the clutter because it looks like this:</p>

<p><img src=""https://i.stack.imgur.com/Znukm.png"" alt=""alt text""></p>

<p>It's too detailed and I would like to display only 0 and 500, that is <em>not even the maximum</em> (the thin horizontal lines are enough). The reasons I want only those 2 values are:</p>

<ul>
<li>reduce the granularity (the values every 200 are crammed vertically)</li>
<li>by avoid 1000 there will be more space between 0 and the next value belonging to the facet plot below.</li>
</ul>

<p>Thanks in advance. </p>
","277434","","-1","","2017-05-23 12:30:39","2010-09-10 02:32:48","ggplot: How to override the ylim interval?","<r><ggplot2>","1","1","","","","CC BY-SA 2.5","3681693","4452","4452","r","404559","3625322","3607736","",""
"3681719","1","3683488","","2010-09-10 01:21:41","","12","4969","<p>In R some functions can print information and return values, can the print be silenced?  </p>

<p>For example:</p>

<pre><code>print.and.return &lt;- function() {
  print(""foo"")
  return(""bar"")
}
</code></pre>

<p>returns</p>

<pre><code>&gt; print.and.return()
[1] ""foo""
[1] ""bar""
&gt; 
</code></pre>

<p>I can store the return like:</p>

<pre><code>&gt; z &lt;- print.and.return()
[1] ""foo""
&gt; z
[1] ""bar""
&gt; 
</code></pre>

<p>Can I suppress the print of <code>""foo""</code>?</p>
","138470","","321731","","2014-07-31 07:08:17","2019-11-23 10:11:38","Can the print() command in R be quieted?","<r><printing>","5","2","4","","","CC BY-SA 2.5","3681719","4452","4452","r","404559","3625322","3607736","",""
"3684319","1","3688561","","2010-09-10 11:43:36","","2","3663","<p>I have successfully fit a linear mixed-effects model, and I'm looking to extract the random effect component for individual groups.  I know that the full list of random effects can be extracted using </p>

<pre><code>random.effects(model)
</code></pre>

<p>Then print(random.effects(model)) gives a two-column list of group names and random effects, even though the data itself appears to have only one column.  My question is whether it is possible to ""look up"" the random effect associated with a particular group by the group name, or, if not, how I can find a list of group names in the same order as the random effects in the data frame that is output by random.effects().</p>

<p>Thanks<br>Mark Ch.</p>
","394957","","","","","2010-09-10 21:41:35","How do I extract random effects for a particular group from an R lme object?","<r>","3","2","","","","CC BY-SA 2.5","3684319","4452","4452","r","404559","3625322","3607736","",""
"3684359","1","","","2010-09-10 11:52:28","","0","2141","<p>I want to create a graphics of a function in R. The code is:</p>

<pre><code> x &lt;- seq(from=0, to=1, by=0.00001)
 f &lt;- function(x) ....
 y &lt;- f(x)
 plot(x, y, xlab=""x"", ylab=""f(x)"", pch=16, cex=0.5)
 min(y)
 [1] 0.2291203
 max(y)
 [1] 0.7708797
</code></pre>

<ol>
<li><p>When I save the graphics as bmp from RGui, it looks like <a href=""http://tinypic.com/view.php?pic=w80npv&amp;s=7"" rel=""nofollow noreferrer"">here</a> and this is fine. When I save it as eps and include in LaTeX with: </p>

<pre><code>\begin{figure}[htbp]
\centering
    \includegraphics[scale=0.4]{./images/f-probart.eps}
\end{figure}
</code></pre>

<p>it is skewed, as shown in the screen capture from <a href=""http://tinypic.com/r/v4a49w/7"" rel=""nofollow noreferrer"">here</a>
What is wrong? I guess there is a problem with exporting from RGui in eps, as the resulted eps is also shown skewed in IrfanView. Hence I suspect that is not the LaTeX inclusion code that is wrong...</p></li>
<li><p>How could I create this graphics with a requested resolution, say 244 dpi? Is there another package/function that allows me to export eps with a specific resolution?</p></li>
</ol>

<p>Thanks</p>
","11464","","","","","2016-04-03 14:24:44","Plotting with R - skewed eps image & resolution problem","<r><graphics><latex><eps>","2","2","1","","","CC BY-SA 2.5","3684359","4452","4452","r","404559","3625322","3607736","",""
"3684382","1","","","2010-09-10 11:54:49","","5","1075","<p>I've a data frame with time events on each row. In one row I've have the events types of sender (typeid=1) and on the other the events of the receiver (typeid=2). I want to calculate the delay between sender and receiver (time difference).</p>

<p>My data is organized in a data.frame, as the following snapshot shows:</p>

<pre><code>dd[1:10,]
     timeid   valid typeid
1  18,00035 1,00000      1
2  18,00528 0,00493      2
3  18,02035 2,00000      1
4  18,02116 0,00081      2
5  18,04035 3,00000      1
6  18,04116 0,00081      2
7  18,06035 4,00000      1
8  18,06116 0,00081      2
9  18,08035 5,00000      1
10 18,08116 0,00081      2

calc_DelayVIDEO &lt;- function (dDelay ){

        pktProcess &lt;- TRUE
        nLost &lt;- 0
        myDelay &lt;- data.frame(time=-1, delay=-1, jitter=-1, nLost=-1)
        myDelay &lt;- myDelay[-1, ]
        tini &lt;- 0
        tend &lt;- 0
        for (itr in c(1:length(dDelay$timeid))) {
           aRec &lt;- dDelay[itr,]
           if (aRec$typeid == 1){
                tini &lt;- as.numeric(aRec$timeid)
                if (!pktProcess ) {
                   nLost &lt;- (nLost + 1)
                   myprt(paste(""Packet Lost at time "", aRec$timeid, "" lost= "", nLost, sep=""""))
                }

                pktProcess &lt;- FALSE 
           }else if (aRec$typeid == 2){

                tend &lt;- as.numeric(aRec$timeid)
                dd &lt;- tend - tini
                jit &lt;- calc_Jitter(dant=myDelay[length(myDelay), 2], dcur=dd)
                myDelay &lt;- rbind(myDelay, c(aRec$timeid, dd, jit, nLost))
                pktProcess &lt;- TRUE
                #myprt(paste(""time="", aRec$timeev, "" delay="", dd, "" Delay Var="", jit, "" nLost="", nLost ))
           }
        }
        colnames(myDelay) &lt;- c(""time"", ""delay"", ""jitter"", ""nLost"")
        return (myDelay)
}
</code></pre>

<p>To perform the calculations for delay I use  calc_DelayVideo function, neverthless for data frames with a high number of records (~60000) it takes a lot of time. </p>

<p>How can I substitute the for loop with more optimized R functions?
Can I use lapply to do such computation? If so, can you provide me an example?  </p>

<p>Thanks in advance,</p>
","444292","","428790","","2011-02-09 11:09:24","2011-02-09 11:09:24","how to substitute a for loop in R with an optimized function (lapply?)","<r><loops><vectorization>","4","1","1","","","CC BY-SA 2.5","3684382","4452","4452","r","404559","3625322","3607736","",""
"3685285","1","3685496","","2010-09-10 14:15:02","","66","75500","<p>In the following example, how do I get the y-axis limits to scale according to the data in each panel?</p>

<pre><code>mt &lt;- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) + geom_point() 
</code></pre>

<p>Neither of these will do it:</p>

<pre><code>mt + facet_grid(. ~ cyl, scales=""free"")
mt + facet_grid(. ~ cyl, scales=""free_y"")
</code></pre>
","143476","","","","","2020-07-27 10:25:52","ggplot2, facet_grid, free scales?","<r><ggplot2>","3","2","8","","","CC BY-SA 2.5","3685285","4452","4452","r","404559","3625322","3607736","",""
"3685492","1","3685919","","2010-09-10 14:39:07","","36","9448","<p>I have a simulation that has a huge aggregate and combine step right in the middle. I prototyped this process using plyr's ddply() function which works great for a huge percentage of my needs. But I need this aggregation step to be faster since I have to run 10K simulations. I'm already scaling the simulations in parallel but if this one step were faster I could greatly decrease the number of nodes I need. </p>

<p>Here's a reasonable simplification of what I am trying to do:</p>

<pre><code>library(Hmisc)

# Set up some example data
year &lt;-    sample(1970:2008, 1e6, rep=T)
state &lt;-   sample(1:50, 1e6, rep=T)
group1 &lt;-  sample(1:6, 1e6, rep=T)
group2 &lt;-  sample(1:3, 1e6, rep=T)
myFact &lt;-  rnorm(100, 15, 1e6)
weights &lt;- rnorm(1e6)
myDF &lt;- data.frame(year, state, group1, group2, myFact, weights)

# this is the step I want to make faster
system.time(aggregateDF &lt;- ddply(myDF, c(""year"", ""state"", ""group1"", ""group2""),
                     function(df) wtd.mean(df$myFact, weights=df$weights)
                                 )
           )
</code></pre>

<p>All tips or suggestions are appreciated! </p>
","37751","","403310","","2013-04-19 09:24:41","2015-10-06 16:21:42","R: speeding up ""group by"" operations","<performance><r><plyr>","5","2","37","","","CC BY-SA 2.5","3685492","4452","4452","r","404559","3625322","3607736","",""
"3686075","1","","","2010-09-10 15:45:36","","3","1166","<p>I have two apply functions excecuting the average and standard deviation across the first two dimensions on a large three dimentional array (437216,8,3). It takes 16 minutes to complete on Rx32. It's the first of many large arrays in a database we are applying this script on a regular basis. Any thoughts on how to speed up runtime?</p>
","444506","","","","","2010-09-13 16:54:10","Run time - using apply functions","<r><apply>","3","3","0","","","CC BY-SA 2.5","3686075","4452","4452","r","404559","3625322","3607736","",""
"3686439","1","3686474","","2010-09-10 16:33:41","","14","5546","<p>A friend needs to do some R programming for her PhD and since I'm a programmer, asked me to give her a hand.</p>

<p>So I took a look at some <a href=""http://www.r-project.org/"" rel=""noreferrer"">r</a> <a href=""http://www.programmingr.com/"" rel=""noreferrer"">related</a> <a href=""http://www.reddit.com/r/programming"" rel=""noreferrer"">webstuff</a> and discovered that you can interact with it through RPy (python) and statistics::R (perl).  Is there a way for Rubyists to hook into R?  </p>

<p>Is there a dummy's guide to learning R (like a video series)?  </p>
","227863","","734289","","2015-07-12 14:14:00","2015-07-12 14:18:23","Can Ruby interface with r?","<ruby><r>","4","2","2","","","CC BY-SA 3.0","3686439","4452","4452","r","404559","3625322","3607736","",""
"3686982","1","3689360","","2010-09-10 17:52:27","","0","1176","<p>Imagine I have a vector with ones and zeroes</p>

<p>I write it compactly:</p>

<p>1111111100001111111111110000000001111111111100101</p>

<p>I need to get a new vector replacing the ""N"" ones following the zeroes to new zeroes.</p>

<p>For example for N = 3.</p>

<p>1111111100001111111111110000000001111111111100101  becomes
1111111100000001111111110000000000001111111100000</p>

<p>I can do it with a for loop but I've read is not a good practice,  How can I do it then?</p>

<p>cheers</p>

<p>My vector is a zoo series, indeed, but I guess it doesn't make any difference.
If I wanted zeroes up to end I would use cumprod.</p>
","425895","","","","","2010-09-20 05:10:56","R: Adding zeroes after old zeroes in a vector?","<r><vector><zero>","8","2","1","","","CC BY-SA 2.5","3686982","4452","4452","r","404559","3625322","3607736","",""
"3689279","1","4784004","","2010-09-11 00:40:19","","85","18215","<p>Suppose I'm using R's interactive console, and I've just done something like this:</p>

<pre><code>long_running_command()
</code></pre>

<p>That long-running command returns a value, and I've just realized that I wanted to assign that value to a variable instead of discard it. So how can I get that value without running the command again? Is there a command like this?</p>

<pre><code>result = get_last_return_value()
</code></pre>
","125921","","2204410","","2017-12-21 08:16:48","2017-12-21 08:16:48","How to assign the result of the previous expression to a variable?","<r><return-value><interactive><built-in>","1","0","15","","","CC BY-SA 3.0","3689279","4452","4452","r","404559","3625322","3607736","",""
"3691944","1","3694299","","2010-09-11 17:34:33","","21","5846","<p>We are a medium-sized academic research lab whose main outputs are new statistical methods for analyzing large datasets.  We generally develop in R and MATLAB/Octave.</p>

<p>We would like to expand the reach of our work by building simple, wizard-style user interfaces to access our methods, either web-apps like <a href=""http://rna.tbi.univie.ac.at/cgi-bin/RNAfold.cgi"" rel=""nofollow noreferrer"">RNAfold</a> or stand-alone applications to analyze private data.</p>

<p>Ideally, we would like the interfaces to do some data checking, to only use FOSS, to run in Mac and Windows environments, and to be able to generate simple charts and graphs that can be output as figures suitable for publication.  Also, we like Python because its a popular language in the lab and in our research community. </p>

<p>However, we want to be able to develop and release quickly and cheaply.  We are lucky to be able to fund one developer in the lab and s/he has to support multiple projects.</p>

<p>There are a lot of groups with the same needs and constraints as us, so it would be useful to be able to develop a consistent long-term strategy for this type of challenge.</p>

<p><strong>Edit</strong>
I asked for comments on four possible approaches, included below with summary of comments:</p>

<ol>
<li>Calling the R and Octave methods from Python.<br>
Answers:

<ul>
<li>R / Python integration

<ul>
<li><a href=""http://rpy.sourceforge.net/"" rel=""nofollow noreferrer"">Rpy</a>  (from <a href=""https://stackoverflow.com/users/151744/chrisc"">ChrisC</a>)</li>
<li><a href=""http://www.ralph-heinkel.com/pyRserve/index.html"" rel=""nofollow noreferrer"">pyRserve</a> (from <a href=""https://stackoverflow.com/users/319487/radek"">radek</a>) </li>
<li><a href=""http://sourceforge.net/projects/rinpy/files/"" rel=""nofollow noreferrer"">PypeR</a>  (from <a href=""https://stackoverflow.com/users/319487/radek"">radek</a>, see answer for paper link)</li>
</ul></li>
<li>Using a Python client to call in to an Octave server (from <a href=""https://stackoverflow.com/users/151744/chrisc"">ChrisC</a>)</li>
</ul></li>
<li>Re-implementing our methods in Python.  In general, this is not easy because our methods rely on other methods also implemented in R and Octave.
Answers:

<ul>
<li>There was no comment on this approach, it's probably a bad idea.</li>
</ul></li>
<li>Using a different framework to build user-interfaces.<br>
Answers:

<ul>
<li>How about building GUIs and web-apps directly in R? (from <a href=""https://stackoverflow.com/users/16632/hadley"">hadley</a>, see answer for tool refs)</li>
</ul></li>
<li>Other ideas that we havent considered, e.g., integrating with workflow management systems like <a href=""http://www.taverna.org.uk/"" rel=""nofollow noreferrer"">Taverna</a>.<br>
Answers:

<ul>
<li>Try a visual programming interface like <a href=""http://www.red-r.org/"" rel=""nofollow noreferrer"">RedR</a> (from <a href=""https://stackoverflow.com/users/152159/chrisamiller"">chrisamiller</a>)</li>
</ul></li>
</ol>

<p><strong>My preferred answer</strong></p>

<p>I'm first going to look into the approach suggested by <a href=""https://stackoverflow.com/users/211116/spacedman"">Spacedman</a>: using  <a href=""http://doc.trolltech.com/4.3/qt4-designer.html"" rel=""nofollow noreferrer"">QtDesigner</a> to build the UI for <a href=""http://wiki.python.org/moin/PyQt4"" rel=""nofollow noreferrer"">PyQt4</a> and calling R with <a href=""http://rpy.sourceforge.net/"" rel=""nofollow noreferrer"">RPy</a>.  We get a lot of students without a programming background who want to volunteer in the lab, and QtDesigner looks like something that we could train them to use effectively.</p>

<p>I would like develop GUIs directly in R as recommended by <a href=""https://stackoverflow.com/users/16632/hadley"">hadley</a> but <a href=""http://sourceforge.net/projects/rqt/"" rel=""nofollow noreferrer"">RQt</a>, which I presume that I need to use QtDesigner, does not appear to be in active development (last update was summer of 2009).</p>

<p>Also, it looks like we may have to start implementing our methods exclusively in R, and translating over from MATLAB/Octave to R.  In my field, this is probably not a bad idea anyways.</p>

<p><strong>Appendix:</strong>  </p>

<ol>
<li>Python libraries to simplify user interface construction:  

<ul>
<li><a href=""http://www.wxpython.org/"" rel=""nofollow noreferrer"">wxPython</a> (<a href=""https://stackoverflow.com/users/151744/chrisc"">ChrisC</a>)  </li>
<li><a href=""http://wiki.python.org/moin/PyQt4"" rel=""nofollow noreferrer"">PyQt4</a> (from <a href=""https://stackoverflow.com/users/211116/spacedman"">Spacedman</a>)</li>
</ul></li>
<li>Other projects that integrate Python, R, and Octave:

<ul>
<li><a href=""http://www.sagemath.org/"" rel=""nofollow noreferrer"">SAGE</a> (<a href=""https://stackoverflow.com/users/143305/dirk-eddelbuettel"">Dirk Eddelbuettel</a>)</li>
<li><a href=""http://www.shogun-toolbox.org/"" rel=""nofollow noreferrer"">Shogun</a> (<a href=""https://stackoverflow.com/users/143305/dirk-eddelbuettel"">Dirk Eddelbuettel</a>)</li>
</ul></li>
<li>GUIs to make GUIs:

<ul>
<li><a href=""http://doc.trolltech.com/4.3/qt4-designer.html"" rel=""nofollow noreferrer"">QtDesigner</a> with <a href=""http://wiki.python.org/moin/PyQt4"" rel=""nofollow noreferrer"">PyQt4</a> (from <a href=""https://stackoverflow.com/users/211116/spacedman"">Spacedman</a>).  Note <a href=""http://qt.nokia.com/"" rel=""nofollow noreferrer"">Qt4</a> is both commercial and available under a LGPL.</li>
</ul></li>
</ol>
","443985","","-1","","2017-05-23 12:34:02","2012-12-05 14:45:02","How should I do rapid GUI development for R and Octave methods (possibly with Python)?","<python><user-interface><r><octave>","7","2","21","","","CC BY-SA 2.5","3691944","4452","4452","r","404559","3625322","3607736","",""
"3692563","1","3692710","","2010-09-11 20:33:22","","38","92030","<p>I have a vector and I'm able to return highest and lowest value, but how to return 5 topmost values? Is there a simple one-line solution for this?</p>
","296427","","","","","2010-09-12 08:07:32","How to return 5 topmost values from vector in R?","<r><vector><topmost>","4","0","6","","","CC BY-SA 2.5","3692563","4452","4452","r","404559","3625322","3607736","",""
"3692988","1","3693205","","2010-09-11 22:52:04","","12","1527","<p>I have used Stata and gVim on Windows for a while now. Recently I have switched to Linux, and I am planning to also change from Stata to R.</p>

<p>A friend of mine is using R and Emacs ESS which seems to work perfect, however i'd rather like to keep using vim. I have installed the vim-r-plugin2, however, i can only send code to a seperate terminal running R. I would much rather split my screen into a buffer running R and one buffer with my .R file, and then send code from one to the other. With ESS in Emacs this seems to work, you can run a terminal/R in a buffer without a problem. I haven't found a way to make this work. The R plugin for vim uses screen, and the only way to open a buffer running a shell I could find is the Conque Shell plugin.</p>

<p>I know that unlike Emacs, Vim is designed to be a simple text editor. However, having R run in a buffer seems just so much more practical.</p>

<p>I hope my problem is understandable, please bear with me I only recently switched to Linux and know virtually nothing about programming besides statistics. Thanks!</p>
","278616","","967840","","2013-08-25 18:02:34","2013-08-25 18:02:34","Running R inside a buffer in Vim","<vim><plugins><shell><r>","3","2","2","","","CC BY-SA 2.5","3692988","4452","4452","r","404559","3625322","3607736","",""
"3693043","1","3693048","","2010-09-11 23:08:38","","2","4025","<p>Imagine I have a data frame with data like this:</p>

<pre><code> A | B | C
---+---+---
 1 | 2 | a
 1 | 2 | b
 5 | 5 | a
 5 | 5 | b
</code></pre>

<p>I want to take only columns A and B, and I want to remove any rows that have become duplicates as a result of eliminating all other columns (that is, column C). So my desied result for the table above would be:</p>

<pre><code> A | B
---+---
 1 | 2 
 5 | 5 
</code></pre>

<p>What is the best way to do this?</p>
","125921","","","","","2010-09-11 23:09:57","In R, how can I take a subset of columns of a data frame and then eliminate duplicate rows?","<r><duplicates><subset><dataframe>","1","0","","","","CC BY-SA 2.5","3693043","4452","4452","r","404559","3625322","3607736","",""
"3693121","1","3693232","","2010-09-11 23:37:59","","8","2672","<p>I have been implementing binary tree search algorithm recently in R, and before that I used linked array-like structures. These algorithm would be much easier if there were pointers in R (not C pointers, but references to objects). I wonder if there is a workaround. I don't know S4 at all; maybe it is possible in that framework? I would avoid environment-related tricks, since that pass-by-reference is a little too bit of a workaround. And I would avoid invocations of C or C++'s STL. It's an R question after all.</p>
","143813","","","","","2010-09-15 16:36:12","Workaround for pointers in R?","<pointers><r>","2","0","3","","","CC BY-SA 2.5","3693121","4452","4452","r","404559","3625322","3607736","",""
"3694862","1","3695548","","2010-09-12 12:44:31","","2","7581","<p><img src=""https://i.stack.imgur.com/Hls7T.png"" alt=""alt text"">Hello All,
I have the following molten data:</p>

<pre><code> X      variable       value    
1 StationA SAR11.cluster 0.001309292
2 StationB SAR11.cluster 0.002712237
3 StationC SAR11.cluster 0.002362708
4 StationD SAR11.cluster 0.002516751
5 StationE SAR11.cluster 0.004301075
6 StationF SAR11.cluster 0.0

.
.
.
etc.
etc.
</code></pre>

<p>I used the following code to chart a bubblechart of the data:</p>

<pre><code>ggplot(foomelt, aes(x=foomelt$Station, y=variable, angle=45, size=(value))) + 
+geom_point() +  opts(theme_bw(), axis.text.x = theme_text(size=10, angle = 70)) 
+ scale_area()
</code></pre>

<p>All is well except that I want to ignore the 0 (zero) values and only use for the scaling of the dots values between all those that are grater than zeroes and the max value.
I don't want to delete the zero values rows from the data because in order to prove a point I want all the stations and variables to be included and to have those with the zero value left blank.</p>

<p>I managed to use this to ignore the zero values but scaling does not work:</p>

<pre><code>   ggplot(foomelt, aes(x=foomelt$Station, y=variable, angle=45, size=(value&gt;0))) +
    + geom_point() +  opts(theme_bw(), axis.text.x = theme_text(size=10, angle = 70)) 
    + scale_area(""Ratio"") + scale_size_identity()
</code></pre>

<p>any help would be greatly appreciated.</p>
","235425","","235425","","2010-09-12 12:59:14","2010-09-13 10:14:54","How to draw only a range of values in geom_point from the ggplot2 package?","<r><ggplot2><scatter-plot>","2","0","","","","CC BY-SA 2.5","3694862","4452","4452","r","404559","3625322","3607736","",""
"3695310","1","3695368","","2010-09-12 15:08:27","","0","5146","<p>I am puzzled by why the output is not what I expect it to be in the following nested while loops:</p>

<pre><code>i = 1
j = 1
while(i&lt;5){
 print(""i"")
 print(i)
 i = i + 1
 while(j&lt;5){
  print(""j"")
  print(j)
  j = j + 1
 }
}
</code></pre>

<p>The output I get is:</p>

<pre><code>[1] ""i""
[1] 1
[1] ""j""
[1] 1
[1] ""j""
[1] 2
[1] ""j""
[1] 3
[1] ""j""
[1] 4
[1] ""i""
[1] 2
[1] ""i""
[1] 3
[1] ""i""
[1] 4
</code></pre>

<p>But I was expecting something along the lines of </p>

<pre><code>[1] ""i""
[1] 1
[1] ""j""
[1] 1
[1] ""j""
[1] 2
[1] ""j""
[1] 3
[1] ""j""
[1] 4
[1] ""i""
[1] 2
[1] ""j""
[1] 1
[1] ""j""
[1] 2
[1] ""j""
[1] 3
[1] ""j""
[1] 4
...
</code></pre>

<p>Any suggestions? Thank you for your help.</p>
","","user308883","168747","","2010-09-13 07:58:32","2019-06-26 12:23:04","Nested while loop behavior in R","<r><while-loop>","1","0","","","","CC BY-SA 2.5","3695310","4452","4452","r","404559","3625322","3607736","",""
"3695497","1","14511974","","2010-09-12 15:58:17","","184","238627","<p>I'm plotting a categorical variable and instead of showing the counts for each category value.</p>

<p>I'm looking for a way to get <code>ggplot</code> to display the percentage of values in that category. Of course, it is possible to create another variable with the calculated percentage and plot that one, but I have to do it several dozens of times and I hope to achieve that in one command.</p>

<p>I was experimenting with something like </p>

<pre><code>qplot(mydataf) +
  stat_bin(aes(n = nrow(mydataf), y = ..count../n)) +
  scale_y_continuous(formatter = ""percent"")
</code></pre>

<p>but I must be using it incorrectly, as I got errors.</p>

<p>To easily reproduce the setup, here's a simplified example:</p>

<pre><code>mydata &lt;- c (""aa"", ""bb"", NULL, ""bb"", ""cc"", ""aa"", ""aa"", ""aa"", ""ee"", NULL, ""cc"");
mydataf &lt;- factor(mydata);
qplot (mydataf); #this shows the count, I'm looking to see % displayed.
</code></pre>

<p>In the real case, I'll probably use <code>ggplot</code> instead of <code>qplot</code>, but the right way to use <a href=""http://had.co.nz/ggplot2/stat_bin.html"" rel=""noreferrer"">stat_bin</a> still eludes me.</p>

<p>I've also tried these four approaches:</p>

<pre><code>ggplot(mydataf, aes(y = (..count..)/sum(..count..))) + 
  scale_y_continuous(formatter = 'percent');

ggplot(mydataf, aes(y = (..count..)/sum(..count..))) + 
  scale_y_continuous(formatter = 'percent') + geom_bar();

ggplot(mydataf, aes(x = levels(mydataf), y = (..count..)/sum(..count..))) + 
  scale_y_continuous(formatter = 'percent');

ggplot(mydataf, aes(x = levels(mydataf), y = (..count..)/sum(..count..))) + 
  scale_y_continuous(formatter = 'percent') + geom_bar();
</code></pre>

<p>but all 4 give:</p>

<blockquote>
<pre><code>Error: ggplot2 doesn't know how to deal with data of class factor
</code></pre>
</blockquote>

<p>The same error appears for the simple case of </p>

<pre><code>ggplot (data=mydataf, aes(levels(mydataf))) +
  geom_bar()
</code></pre>

<p>so it's clearly something about how <code>ggplot</code> interacts with a single vector. I'm scratching my head, googling for that error gives a single <a href=""http://groups.google.com/group/ggplot2/browse_thread/thread/0489a702f3afc83b"" rel=""noreferrer"">result</a>. </p>
","277434","","7941188","","2020-08-02 10:52:08","2021-02-08 23:47:18","Show percent % instead of counts in charts of categorical variables","<r><ggplot2>","9","2","72","","","CC BY-SA 4.0","3695497","4452","4452","r","404559","3625322","3607736","",""
"3695677","1","3695700","","2010-09-12 16:52:59","","177","208343","<p>Can anyone tell me how to find the common elements from multiple vectors?</p>

<pre><code>a &lt;- c(1,3,5,7,9)
b &lt;- c(3,6,8,9,10)
c &lt;- c(2,3,4,5,7,9)
</code></pre>

<p>I want to get the common elements from the above vectors (ex: 3 and 9) </p>
","445665","","680068","","2020-01-17 10:39:18","2020-01-17 10:39:18","How to find common elements from multiple vectors?","<r><vector><r-faq>","3","3","48","","","CC BY-SA 2.5","3695677","4452","4452","r","404559","3625322","3607736","",""
"3699405","1","","","2010-09-13 10:05:43","","58","91682","<pre><code>cbind(1:2, 1:10)  
     [,1] [,2]  
  [1,]    1    1  
  [2,]    2    2  
  [3,]    1    3  
  [4,]    2    4  
  [5,]    1    5  
  [6,]    2    6  
  [7,]    1    7  
  [8,]    2    8  
  [9,]    1    9  
 [10,]    2   10  
</code></pre>

<p>I want an output like below  </p>

<pre><code>[,1] [,2]  
[1,] 1 1  
[2,] 2 2  
[3,]   3  
[4,]   4  
[5,]   5  
[6,]   6  
[7,]   7  
[8,]   8  
[9,]   9  
[10,]  10  
</code></pre>
","445665","","168747","","2010-09-13 11:08:51","2021-04-09 11:30:41","How to cbind or rbind different lengths vectors without repeating the elements of the shorter vectors?","<r><vector>","6","2","19","","","CC BY-SA 2.5","3699405","4452","4452","r","404559","3625322","3607736","",""
"3701170","1","3701896","","2010-09-13 14:05:14","","28","80475","<p>I want to perform a <strong>stepwise linear Regression</strong> using <strong>p-values</strong> as a selection criterion, e.g.: at each step dropping variables that have the highest i.e. the most insignificant p-values, stopping when all values are significant defined by some threshold <em>alpha</em>.</p>

<p>I am totally aware that I should use the AIC (e.g. command <em>step</em> or <em>stepAIC</em>) or some other criterion instead, but my boss has no grasp of statistics and insist on using p-values.</p>

<p>If necessary, I could program my own routine, but I am wondering if there is an already implemented version of this.</p>
","276049","","680068","","2018-02-12 10:29:24","2018-11-23 20:10:45","Stepwise regression using p-values to drop variables with nonsignificant p-values","<r><statistics><regression><p-value>","6","8","36","","","CC BY-SA 3.0","3701170","4452","4452","r","404559","3625322","3607736","",""
"3703434","1","3703486","","2010-09-13 18:51:46","","2","164","<p>I have a dataset that looks like so:</p>

<pre><code>            x             y
1       0.0000  0.4459183993
2     125.1128  0.4068805502
3     250.2257  0.3678521348
4     375.3385  0.3294434397
5     500.4513  0.2922601919
6     625.5642  0.2566381551
7     750.6770  0.2229130927
8     875.7898  0.1914207684
9    1000.9026  0.1624969456
10   1126.0155  0.1364773879
11   1251.1283  0.1136978589
12   1376.2411  0.0944717371
13   1501.3540  0.0786550515
14   1626.4668  0.0656763159
15   1751.5796  0.0549476349
16   1876.6925  0.0458811131
17   2001.8053  0.0378895151
18   2126.9181  0.0304416321
19   2252.0309  0.0231041362
20   2377.1438  0.0154535572
21   2502.2566  0.0070928195
22   2627.3694 -0.0020708606
23   2752.4823 -0.0119351534
24   2877.5951 -0.0223944877
25   3002.7079 -0.0332811155
26   3127.8208 -0.0442410358
27   3252.9336 -0.0548855203
...
</code></pre>

<p>Full data available <a href=""http://snipt.org/kOw"" rel=""nofollow noreferrer"">here</a>. </p>

<p>It's easier to see visually by plotting x and y with a zero intercept line:</p>

<pre><code>ggplot(dat,aes(x,y)) + geom_line() + geom_hline(yintercept=0)
</code></pre>

<p>You can see the plot <a href=""https://imgur.com/8pUSg.jpg"" rel=""nofollow noreferrer"">here</a> (if you don't want to download the data and plot it yourself.)</p>

<p>I want to pick out 'patches' defined as the distance along x from when the line goes above zero on the y till it goes below zero. This will always happen at least once (since the line starts above zero), but can happen many times.</p>

<p>Picking out the first patch is easy. </p>

<pre><code>patch1=dat[min(which(dat$y&lt;=0.000001)),]
</code></pre>

<p>But how would I loop through and pick up subsequent patches?</p>
","313163","","","","","2010-09-13 19:13:12","How do I write a generic function to pick out distance between positive values?","<r>","1","1","1","","","CC BY-SA 2.5","3703434","4452","4452","r","404559","3625322","3607736","",""
"3703803","1","3703855","","2010-09-13 19:40:47","","17","17854","<p>Im trying to split a string on ""."" and create additional columns with the two strings before and after ""."".</p>

<pre><code>tes&lt;-c(""1.abc"",""2.di"",""3.lik"")
dat&lt;-c(5,3,2)
h&lt;-data.frame(tes,dat)
h$num&lt;-substr(h$tes,1,1)

h$prim&lt;-unlist(strsplit(as.character(h$tes),""\\.""))[2]
h$prim&lt;-sapply(h$tes,unlist(strsplit(as.character(h$tes),""\\.""))[2])
</code></pre>

<p>Id like <code>h$prim</code> to contain ""abc"",""di"",""lik""..However Im not able to figure it out. I guess <code>strsplit</code> is not vectorized, but then I thought the <code>sapply</code> version should have worked.  However I assume it should be easy:-)</p>

<p>Regards,
//M</p>
","338745","","3962914","","2015-11-09 11:38:45","2015-11-09 11:38:45","apply strsplit rowwise","<r><strsplit>","5","0","13","","","CC BY-SA 3.0","3703803","4452","4452","r","404559","3625322","3607736","",""
"3707010","1","","","2010-09-14 07:56:40","","2","20901","<p>I have the following R function that checks a range of values and writes out a sentence about them. The problem is when I use the function and then call it all the sentences are the same regardless of Value. </p>

<pre><code>hover &lt;- function (){
if(df$Value &gt; 140 &amp;&amp; df$Change &lt; -0.05){
hovertext =""Price High, Level of Activity Low""
}else{
   if(df$Value &lt; 140 &amp;&amp; df$Change &gt; 90 &amp;&amp; df$YVoltage &gt; -0.05 &amp;&amp;
      df$YVoltage &lt; 0.30 ){
    hovertext =""Price Normal, Level of Activity normal""
      } else {
hovertext =""Price High, Level of Activity high""
      }
  }
}
hovertext &lt;- hover ()
hovertext
</code></pre>

<p>Any ideas as to how to fix this problem.</p>

<p>Here is sample data:</p>

<pre><code>TimeStamp,Price,Change
12:00:00,140,0.05
12:12:03,148,0.06
12:12:40,130,-0.05
12:12:50,135,0.01
12:13:00,135,0
12:13:10,1.37,0.01
</code></pre>

<p>Here is what I have at present:</p>

<pre><code>library (ggplot2)
df &lt;- read.csv(file.choose(), header =TRUE) 
df
df$Price &lt;- as.numeric(as.character(df$Price))
df$Change &lt;- as.numeric(as.character(df$Change))
df$TimeStamp &lt;- strptime(as.character(df$TimeStamp), ""%H:%M:%OS"")
sapply(df, class)          
options(""digits.secs""=3)   
summary (df)              
df$TimeStamp &lt;- df[1,""TimeStamp""] +
  cumsum(runif(1:length(df$TimeStamp))*60)
summary(df)
hover &lt;- function (df){ 
    out &lt;- ifelse((df$Value &gt; 140 &amp; df$Change &lt; -0.05), 
              ""Price High, Level of Activity Low"", 
    ifelse((df$Value &lt; 140 &amp; df$Change &gt; 90 &amp;&amp; 
          df$YVoltage &gt; -0.05 &amp; df$Change &lt; 0.30), 
              ""Price Normal, Level of Activity normal"", 
              ""Price High, Level of Activity high"" 
          )) 
    return(out) 
} 
hovertext &lt;- hover(df) 
hovertext 

sink (file=""c:/Users/user/text.txt"", type=""output"",split=FALSE)
cat(sprintf(""    Time=\""%s\"" value=\""%f\"" hoverText =\"" %s\"" &gt;&lt;/set&gt;\n"",
            df$TimeStamp, df$Price, hovertext))
unlink(""text.txt"")
</code></pre>

<p>Hope this helps.</p>
","400058","","429846","","2013-01-02 14:20:36","2013-01-02 14:20:36","Function using if-statement only returning one else condition regardless of value","<r>","1","1","2","","","CC BY-SA 3.0","3707010","4452","4452","r","404559","3625322","3607736","",""
"3709614","1","3710587","","2010-09-14 14:04:33","","0","477","<p>Suppose I have an R data frame with columns that specify location (lat/long), height, and gender of individuals:</p>

<pre><code>x &lt;- data.frame(
  lat=c(39.5,39.51,38,38.1,38.2),
  long=c(86,86,87,87,87),
  gender=c(""M"",""F"",""F"",""M"",""F""),
  height=c(72,60,61,70,80)
)
</code></pre>

<p>I want to bin the data in two dimensions (e.g. into 1000m x 1000m squares) and compute the following (then display on a map):</p>

<ol>
<li>What percentage of individuals in each bin are female</li>
<li>What is the average height of males in each bin</li>
</ol>

<p>If possible I'd like to use ggplot2.</p>
","289692","","172261","","2010-09-14 14:17:48","2010-09-14 15:55:09","Compute/plot statistics on a 2d grid","<r><ggplot2><geospatial>","1","1","","","","CC BY-SA 2.5","3709614","4452","4452","r","404559","3625322","3607736","",""
"3710773","1","","","2010-09-14 16:15:52","","3","892","<p>Well, I'm working with the <code>igraph</code> package, and I'd like to pick the edges by the name that I've assigned to their vertex, in a tiny example..</p>

<pre><code>library(igraph)

g &lt;- barabasi.game(8)

labels&lt;-c(""G1"",""G2"",""G3"",""T1"",""T2"",""T3"",""H1"",""H2"")

V(g)$name&lt;-labels
</code></pre>

<p>Now My edge list hast this form</p>

<pre><code>&gt; E(g)
Edge sequence:

    [0] G2 -&gt; G1
    [1] G3 -&gt; G2
    [2] T1 -&gt; G2
    [3] T2 -&gt; G3
    [4] T3 -&gt; G1
    [5] H1 -&gt; G1
    [6] H2 -&gt; H1
</code></pre>

<p>What i want now is to find a way of, instead of using this</p>

<pre><code>E(g)[1%--%2]
</code></pre>

<p>doing something more like E(g)[G2%--%G1] (calling the vertex by the name i've assigned), or an equivalent way of knowing some edges attributes by the name of the vertex involved.</p>
","447544","","4895725","","2016-05-07 21:40:14","2016-05-07 21:40:14","edge sequence by vertex name","<r><labels><vertex><igraph><edges>","2","1","","","","CC BY-SA 3.0","3710773","4452","4452","r","404559","3625322","3607736","",""
"3710978","1","3711052","","2010-09-14 16:40:52","","1","11289","<p>I am looking to assign objects in a loop. I've read that some form of <code>eval(parse(</code> is what I need to perform this, but I'm running into errors listing <code>invalid text</code> or <code>no such file or directory.</code> Below is sample code of generally what I'm attempting to do:</p>

<pre><code>x &lt;- array(seq(1,18,by=1),dim=c(3,2,3))
for (i in 1:length(x[1,1,])) {
  eval(parse(paste(letters[i],""&lt;-mean(x[,,"",i,""])"",sep="""")
}
</code></pre>

<p>And when I'm finished using these objects, I would like to remove them (the actual objects are very large and cause memory problems later on...)</p>

<pre><code>for (i in 1:length(x[1,1,])) eval(parse(paste(""rm("",letters[i],"")"",sep="""")))
</code></pre>

<p>Both <code>eval(parse(paste(</code> portions of this script return errors for <code>invalid text</code> or <code>no such file or directory</code>. Am I missing something in using <code>eval(parse(</code>? Is there a easier/better way to assign objects in a loop?</p>
","","curransk","168747","","2010-09-14 19:46:23","2011-10-17 19:12:26","Assigning and removing objects in a loop: eval(parse(paste(","<r><loops><object><eval><paste>","4","0","4","","","CC BY-SA 2.5","3710978","4452","4452","r","404559","3625322","3607736","",""
"3712402","1","","","2010-09-14 19:59:15","","16","29860","<p>The default theme on my installation is something which maps the values to pink and cyan. How to change it for example to a gray scale theme?</p>
","442446","","","","","2015-03-07 10:09:26","R: how to change lattice (levelplot) color theme?","<r><graphics><colors><lattice>","5","0","10","","","CC BY-SA 2.5","3712402","4452","4452","r","404559","3625322","3607736","",""
"3713810","1","3713855","","2010-09-15 00:09:29","","1","5886","<p>I have seen a number of posts here that describe how to parse HTML tables using the XML package.  That said, I have got my code to work except that my first data row gets read in as my column names.  </p>

<p>My code is taken from the answser at <a href=""https://stackoverflow.com/questions/1395528/scraping-html-tables-into-r-data-frames-using-the-xml-package"">this link</a></p>

<p>How can I get around this?</p>

<p>Many thanks,</p>

<p>Brock</p>
","155406","","-1","","2017-05-23 12:09:17","2017-03-06 11:58:12","Read HTML Table in R - Troubleshooting","<r><web-scraping>","1","0","","","","CC BY-SA 2.5","3713810","4452","4452","r","404559","3625322","3607736","",""
"3716764","1","3716824","","2010-09-15 10:31:17","","15","16160","<p>Is it possible to reset an instance of R?</p>

<p>Eg. if I have used the commands</p>

<pre><code>x &lt;- 1:10
plot(x, -x)
</code></pre>

<p>And thus polluted the system with the x variable. In this state can I then revert back to a clean state without shutting R down and launching it again?</p>
","185475","","","","","2018-01-10 12:43:55","Reset R instance","<r>","2","0","5","","","CC BY-SA 2.5","3716764","4452","4452","r","404559","3625322","3607736","",""
"3717734","1","3719142","","2010-09-15 12:53:12","","3","9982","<p>merge is a very nice function: It merges matrices and data.frames, and returns a data.frame.</p>

<blockquote>
  <p>Having rather big character matrices,
  is there another good way to merge -
  without data.frame conversion?</p>
</blockquote>

<hr>

<p>Comment 1:
A small function to merge a named vector with a matrix or data.frame. Elements of the vector can link to multiple entries in the matrix:</p>

<pre><code>expand &lt;- function(v,m,by.m,v.name='v',...) {
  df &lt;- do.call(rbind,lapply(names(v),function(x) {
    pos &lt;- which(m[,by.m] %in% v[x])
    cbind(x,m[pos,],...)
  }))
  colnames(df)[1] &lt;- v.name
  df
}
</code></pre>

<p>Example:</p>

<pre><code>v &lt;- rep(letters,each=3)[seq_along(letters)]
names(v) &lt;- letters
m &lt;- data.frame(a=unique(v),b=seq_along(unique(v)),stringsAsFactors=F)
expand(v,m,'a')
</code></pre>
","299878","","299878","","2010-09-16 19:32:14","2016-08-04 17:02:33","R: merging matrices (not data.frames)","<r>","3","2","3","","","CC BY-SA 2.5","3717734","4452","4452","r","404559","3625322","3607736","",""
"3718497","1","3769981","","2010-09-15 14:17:37","","3","2667","<p>Is there an easy way to get ride of the traditional quartiles returned by <code>summary.formula</code> with <code>method=""reverse""</code> from the Hmisc R library? I would like to get the Mean/SD + Min/Max for each of my continuous variable but didn't succeed. It is possible to pass a custom function call through the argument <code>fun</code>, but it doesn't work when <code>method=""reverse""</code>.</p>
","420055","","","","","2010-09-22 13:59:04","Change summary variables returned by Hmisc summary()","<r>","3","3","","","","CC BY-SA 2.5","3718497","4452","4452","r","404559","3625322","3607736","",""
"3719976","1","3720039","","2010-09-15 17:04:10","","3","1975","<p>I am getting a novel error message, which I am unable to debug. I have two data sets x, x2:</p>

<pre><code>        ID returns.x returns.y
 111111118  0.012852 -0.001436
 1145JXAP4  0.000000  0.025316
 114LYTBB1 -0.090909  0.100000
 114R88BT4  0.000000  0.000000
 114Y4KDH0 -0.055344 -0.094950
 1198CUV40  0.016043  0.005263
</code></pre>

<p>and </p>

<pre><code>       ID   returns
111111118 -0.043392
11D7GQAK9  0.000000
11JS8VT41 -0.036116
11NJGF6V7  0.000000
11NSZA7T1  0.113978
11STQQNH7  0.000000
</code></pre>

<p>when giving a <code>merge(x, x2, by = ""ID"", all = TRUE)</code> I obtain a message</p>

<pre><code>Error in match.names(clabs, names(xi)) :
  names do not match previous names
</code></pre>

<p>What's the culprit?</p>
","143813","","","","","2010-09-15 17:11:55","Strange error merging data frames","<r>","1","3","","","","CC BY-SA 2.5","3719976","4452","4452","r","404559","3625322","3607736","",""
"3721285","1","3721493","","2010-09-15 19:53:29","","0","732","<p>How can I get the output as a vector in R?</p>

<p>For example, if I want to have</p>

<pre><code>for (i in 1:1000) {if i mod 123345 = 0, a = list(i)}
a
</code></pre>

<p>but I would want to find all <code>i</code> that divide evenly into 123345 (i.e., factors), and not just the largest one.</p>
","446667","","168747","","2010-09-16 07:20:57","2010-09-16 07:20:57","get output as a vector in R during a loop","<vba><r><vector><modulo>","3","1","0","","","CC BY-SA 2.5","3721285","4452","4452","r","404559","3625322","3607736","",""
"3721431","1","","","2010-09-15 20:13:10","","4","1439","<p>I ran the same probit regression in SAS and R and while my coefficient estimates are (essentially) equivalent, the reported test statistics are different. Specifically, SAS reports test statistics as t-statistics whereas R reports test statistics as z-statistics.</p>

<p>I checked my econometrics text and found (with little elaboration) that it reports probit results in terms of t statistics.</p>

<p>Which statistic is appropriate? And why does R differ from SAS?</p>

<p>Here's my SAS code:</p>

<pre><code>proc qlim data=DavesData;
 model y = x1 x2 x3/ discrete(d=probit);
run;
quit;
</code></pre>

<p>And here's my R code:</p>

<pre><code>&gt; model.1 &lt;- glm(y ~ x1 + x2 + x3, family=binomial(link=""probit""))
&gt; summary(model.1)
</code></pre>
","448841","","168747","","2010-09-16 07:19:10","2010-09-16 08:10:20","same regression, different statistics (R v. SAS)?","<r><sas>","1","4","1","","","CC BY-SA 2.5","3721431","4452","4452","r","404559","3625322","3607736","",""
"3722638","1","3722740","","2010-09-15 23:33:59","","3","235","<p>This is my data set what i am trying to do is draw a graph TAD Vs IPRE,DV,PRED as a whole which i have no issues in producing them.</p>

<p>Second part is I am trying to produce an individual graph for ID (n=35) so 35 graph for (TAD Vs IPRE,DV,PRED)</p>

<p>Third Part is to try and produce a graph based on Ward (TAD Vs IPRE,DV,PRED) which will have 5 graphs.</p>

<p>Tried few options and struggling to write a code...no luck (new to R). Can some body help me on this?</p>

<p>Thanks in Advance.</p>

<pre><code>ID TIME TAD AMT BL WARD IPRE DV PRED RES WRES
1 0 0 0 0 0 0 0.01 0 0 0.95
1 0.01 0 20 0 0 0 0 0 0 0
1 1 0.99 0 0 0 0.11 0.13 0.02 0.11 3.85
1 2 1.99 0 0 0 0.11 0.12 0.02 0.1 4
1 4 3.99 0 0 0 0.1 0.07 0.02 0.05 -0.48
1 6 5.99 0 0 0 0.09 0.03 0.02 0.02 -3.07
1 8 7.99 0 0 0 0.08 0.04 0.02 0.03 -2.04
1 24 24 0 0 0 0.04 0.03 0.01 0.02 -0.32
1 48 0 20 0 0 0.02 0 0.01 0 0
1 49 1 0 0 0 0.12 0.25 0.02 0.23 3.07
1 50 2 0 0 0 0.12 0.26 0.02 0.23 3.33
1 52 4 0 0 0 0.11 0.17 0.02 0.15 1.99
1 54 6 0 0 0 0.1 0.09 0.02 0.07 0.7
1 56 8 0 0 0 0.09 0.05 0.02 0.04 -0.03
1 72 24 0 0 0 0.05 0.01 0.01 0 -1.09
2 0 0 20 0 0 0 0 0 0 0
2 1 1 0 0 0 0.01 0 0.02 -0.02 -1.09
2 2 2 0 0 0 0.01 0.01 0.02 -0.01 -0.55
2 4 4 0 0 0 0.01 0.01 0.02 -0.01 -0.58
2 6 6 0 0 0 0.01 0 0.01 -0.01 -0.71
2 8 8 0 0 0 0.01 0 0.01 -0.01 -0.63
2 24 24 0 0 0 0.01 0 0.01 0 -0.44
2 72 0 20 0 0 0 0 0 0 0
2 73 1 0 0 0 0.02 0.04 0.02 0.02 2.51
2 74 2 0 0 0 0.01 0.02 0.02 0 0.02
2 76 4 0 0 0 0.01 0.01 0.02 -0.01 -0.05
2 78 6 0 0 0 0.01 0.01 0.01 -0.01 -0.09
2 80 8 0 0 0 0.01 0.02 0.01 0 0.14
2 96 24 0 0 0 0.01 0 0.01 0 0
3 0 0 20 0 0 0 0 0 0 0
3 1 1 0 0 0 0.04 0.02 0.02 0 -0.61
3 2 2 0 0 0 0.04 0.03 0.02 0.01 -0.16
3 4 4 0 0 0 0.03 0.08 0.02 0.06 5.95
3 6 6 0 0 0 0.03 0.01 0.01 0 -1.29
3 8 8 0 0 0 0.03 0.01 0.01 0 -1.64
3 24 24 0 0 0 0.01 0 0.01 0 -2.32
4 0 0 20 0 0 0 0 0 0 0
4 1 1 0 0 0 0.08 0.1 0.02 0.09 1.45
4 2 2 0 0 0 0.07 0.13 0.02 0.12 4.73
4 4 4 0 0 0 0.07 0.13 0.02 0.12 5.94
4 6 6 0 0 0 0.06 0.07 0.01 0.06 -0.09
4 8 8 0 0 0 0.06 0.07 0.01 0.06 0.21
4 24 24 0 0 0 0.03 0.02 0.01 0.02 -3
4 72 72 0 0 0 0 0.01 0 0.01 0.98
4 72 0 20 0 0 0 0 0 0 0
4 73 0.99 0 0 0 0.08 0.09 0.02 0.07 0.51
4 74 1.99 0 0 0 0.08 0.06 0.02 0.04 0.02
4 76 3.99 0 0 0 0.07 0.04 0.02 0.02 -0.34
4 78 5.99 0 0 0 0.06 0.02 0.01 0 -0.71
4 80 7.99 0 0 0 0.06 0.02 0.01 0.01 -0.65
4 96 24 0 0 0 0.03 0.01 0.01 0 -1.02
5 0 0 20 0 0 0 0 0 0 0
5 1 1 0 0 0 0.06 0.08 0.02 0.07 2.05
5 2 2 0 0 0 0.06 0.07 0.02 0.05 1.17
5 4 4 0 0 0 0.05 0.06 0.02 0.04 0.56
5 6 6 0 0 0 0.05 0.08 0.01 0.07 3.47
5 24 24 0 0 0 0.02 0.01 0.01 0 -4.17
6 0 0 20 0 0 0 0 0 0 0
6 1 1 0 0 0 0.05 0 0.02 0 0
6 2 2 0 0 0 0.04 0.01 0.02 -0.01 -2.99
6 4 4 0 0 0 0.04 0.05 0.02 0.03 0.98
6 6 6 0 0 0 0.04 0.06 0.01 0.04 2.92
6 8 8 0 0 0 0.03 0.05 0.01 0.04 2.47
7 0 0 0 0 0 0 0 0 0 0.31
7 0 0 20 0 0 0 0 0 0 0
7 1 1 0 0 0 0.17 0.28 0.02 0.26 8.57
7 2 2 0 0 0 0.16 0.3 0.02 0.28 11
7 4 4 0 0 0 0.15 0.19 0.02 0.18 3.63
7 6 6 0 0 0 0.14 0.14 0.02 0.12 -0.72
7 8 8 0 0 0 0.13 0.11 0.02 0.1 -2.03
7 24 24 0 0 0 0.07 0.04 0.01 0.04 -4.53
8 0 0 20 0 0 0 0 0 0 0
8 1 1 0 0 0 0.02 0.03 0.02 0.02 1.64
8 2 2 0 0 0 0.02 0.01 0.02 -0.01 -0.66
8 4 4 0 0 0 0.01 0.02 0.02 0 0.16
8 6 6 0 0 0 0.01 0 0.01 -0.01 -1.17
8 8 8 0 0 0 0.01 0.01 0.01 0 -0.28
8 24 24 0 0 0 0.01 0.01 0.01 0 -0.07
9 0 0 20 0 3 0 0 0 0 0
9 1 1 0 0 3 0.05 0.09 0.02 0.07 4.59
9 2 2 0 0 3 0.04 0.06 0.02 0.04 2.24
9 4 4 0 0 3 0.04 0.03 0.02 0.01 -0.63
9 6 6 0 0 3 0.04 0.02 0.01 0 -1.64
9 8 8 0 0 3 0.03 0.01 0.01 -0.01 -2.88
9 24 24 0 0 3 0.02 0 0.01 0 0
10 0 0 20 0 3 0 0 0 0 0
10 1 1 0 0 3 0.02 0.04 0.02 0.02 1.78
10 2 2 0 0 3 0.02 0.01 0.02 -0.01 -0.54
10 4 4 0 0 3 0.02 0.01 0.02 -0.01 -0.86
10 6 6 0 0 3 0.01 0.02 0.01 0 0.37
10 8 8 0 0 3 0.01 0.01 0.01 -0.01 -1.04
10 24 24 0 0 3 0.01 0 0.01 0 0
11 0 0 0 0 3 0 0 0 0 -0.26
11 0.01 0 20 0 3 0 0 0 0 0
11 1 0.99 0 0 3 0.01 0.01 0.02 -0.01 -0.41
11 2 1.99 0 0 3 0.01 0.01 0.02 -0.01 -0.24
11 4 3.99 0 0 3 0.01 0.01 0.02 -0.01 -0.16
11 6 5.99 0 0 3 0.01 0.01 0.02 -0.01 -0.21
11 8 7.99 0 0 3 0.01 0.01 0.02 -0.01 -0.13
11 24 24 0 0 3 0 0 0.01 -0.01 -0.27
12 0 0 20 0 3 0 0 0 0 0
12 1 1 0 0 3 0.01 0.01 0.02 -0.01 0.02
12 2 2 0 0 3 0.01 0.01 0.02 -0.01 -0.08
12 4 4 0 0 3 0.01 0.01 0.02 -0.01 -0.23
12 6 6 0 0 3 0.01 0.01 0.01 -0.01 -0.45
12 8 8 0 0 3 0.01 0.01 0.01 0 -0.04
12 24 24 0 0 3 0 0 0.01 0 0
13 0 0 20 0 2 0 0 0 0 0
13 1 1 0 0 2 0.04 0.08 0.02 0.06 5.23
13 2 2 0 0 2 0.04 0.02 0.02 0.01 -0.42
13 4 4 0 0 2 0.04 0 0.02 -0.01 -2.33
13 6 6 0 0 2 0.03 0.01 0.01 -0.01 -2.01
13 8 8 0 0 2 0.03 0 0.01 0 0
13 24 24 0 0 2 0.02 0 0.01 0 0
14 0 0 20 0 3 0 0 0 0 0
14 1 1 0 0 3 0.01 0.01 0.02 -0.01 -0.39
14 2 2 0 0 3 0.01 0.01 0.02 -0.01 -0.49
14 4 4 0 0 3 0.01 0.01 0.02 0 0.33
14 6 6 0 0 3 0.01 0.01 0.01 0 -0.04
14 8 8 0 0 3 0.01 0.01 0.01 0 0.17
14 24 24 0 0 3 0 0 0.01 0 0
15 0 0 20 0 1 0 0 0 0 0
15 1 1 0 0 1 0.01 0.01 0.02 -0.01 -0.3
15 2 2 0 0 1 0.01 0.01 0.02 -0.01 -0.41
15 4 4 0 0 1 0 0 0.02 0 0
15 6 6 0 0 1 0 0 0.01 0 0
15 8 8 0 0 1 0 0 0.01 0 0
15 24 24 0 0 1 0 0 0.01 0 0
16 0 0 20 0 1 0 0 0 0 0
16 1 1 0 0 1 0 0 0.02 -0.02 -0.54
16 2 2 0 0 1 0 0 0.02 -0.01 -0.45
16 4 4 0 0 1 0 0 0.02 -0.01 -0.26
16 6 6 0 0 1 0 0.01 0.01 -0.01 0.05
16 8 8 0 0 1 0 0 0.01 -0.01 -0.12
16 24 24 0 0 1 0 0 0.01 0 -0.02
18 0 0 20 0 1 0 0 0 0 0
18 1 1 0 0 1 0.02 0.01 0.02 -0.01 -1.03
18 2 2 0 0 1 0.02 0.02 0.02 0 0.01
18 4 4 0 0 1 0.02 0 0.02 -0.01 -1.27
18 6 6 0 0 1 0.02 0.02 0.01 0 0.59
18 8 8 0 0 1 0.02 0.02 0.01 0 0.57
18 24 24 0 0 1 0.01 0.02 0.01 0.01 2.69
19 0 0 20 0 1 0 0 0 0 0
19 1 1 0 0 1 0.01 0 0.02 -0.02 -0.67
19 2 2 0 0 1 0.01 0 0.02 -0.01 -0.56
19 4 4 0 0 1 0.01 0.01 0.02 -0.01 -0.03
19 6 6 0 0 1 0.01 0.01 0.01 -0.01 -0.01
19 8 8 0 0 1 0.01 0.01 0.01 -0.01 0.15
19 24 24 0 0 1 0 0.01 0.01 0 0.49
20 0 0 20 0 1 0 0 0 0 0
20 1 1 0 0 1 0.01 0.03 0.02 0.01 0.98
20 2 2 0 0 1 0.01 0.02 0.02 0 0.31
20 4 4 0 0 1 0.01 0.01 0.02 -0.01 -0.49
20 6 6 0 0 1 0.01 0.01 0.01 -0.01 -0.53
20 8 8 0 0 1 0.01 0.01 0.01 -0.01 -0.59
20 24 24 0 0 1 0 0 0.01 0 -0.39
22 0 0 20 0 1 0 0 0 0 0
22 1 1 0 0 1 0.01 0.01 0.02 -0.01 -0.65
22 2 2 0 0 1 0.01 0.01 0.02 -0.01 -0.18
22 4 4 0 0 1 0.01 0.02 0.02 0 0.53
22 6 6 0 0 1 0.01 0.01 0.01 -0.01 -0.16
22 8 8 0 0 1 0.01 0.01 0.01 -0.01 -0.18
22 24 24 0 0 1 0 0 0.01 0 0
23 0 0 20 0 1 0 0 0 0 0
23 1 1 0 0 1 0.02 0.02 0.02 0 -0.47
23 2 2 0 0 1 0.02 0.05 0.02 0.03 2.6
23 4 4 0 0 1 0.02 0.02 0.02 0.01 0.21
23 6 6 0 0 1 0.02 0.01 0.01 0 -0.47
23 8 8 0 0 1 0.02 0.01 0.01 0 -0.86
23 24 24 0 0 1 0.01 0 0.01 0 -1.38
24 0 0 0 0 1 0 0 0 0 0.16
24 0.01 0 20 0 1 0 0 0 0 0
24 1 0.99 0 0 1 0.01 0.02 0.02 0 0.56
24 2 1.99 0 0 1 0.01 0.01 0.02 -0.01 -0.53
24 4 3.99 0 0 1 0.01 0.01 0.02 -0.01 -0.02
24 6 5.99 0 0 1 0.01 0.01 0.02 -0.01 -0.48
24 8 7.99 0 0 1 0.01 0.01 0.02 -0.01 -0.39
24 24 24 0 0 1 0.01 0 0.01 -0.01 -0.59
25 0 0 20 0 2 0 0 0 0 0
25 1 1 0 0 2 0.06 0.1 0.02 0.09 4.51
25 2 2 0 0 2 0.05 0.07 0.02 0.05 1.54
25 4 4 0 0 2 0.05 0.06 0.02 0.05 1.2
25 6 6 0 0 2 0.05 0.06 0.01 0.05 1.58
25 8 8 0 0 2 0.04 0.02 0.01 0.01 -2.52
25 24 24 0 0 2 0.02 0 0.01 0 -4.48
26 0 0 20 0 2 0 0 0 0 0
26 1 1 0 0 2 0.15 0.12 0.02 0.1 -2.99
26 2 2 0 0 2 0.15 0.24 0.02 0.22 9.42
26 4 4 0 0 2 0.14 0.22 0.02 0.21 9.35
26 6 6 0 0 2 0.12 0.17 0.01 0.16 5.55
26 8 8 0 0 2 0.11 0.14 0.01 0.12 2.46
26 24 24 0 0 2 0.06 0.01 0.01 0 -12.9
28 0 0 20 0 2 0 0 0 0 0
28 1 1 0 0 2 0.1 0.01 0.02 -0.01 -5.13
28 2 2 0 0 2 0.09 0.03 0.02 0.02 -2.94
28 4 4 0 0 2 0.08 0.18 0.02 0.17 13.7
28 6 6 0 0 2 0.08 0.07 0.01 0.06 2.22
28 8 8 0 0 2 0.07 0.04 0.01 0.03 -1.01
28 24 24 0 0 2 0.04 0 0.01 0 0
29 0 0 20 0 2 0 0 0 0 0
29 1 1 0 0 2 0.01 0.01 0.02 -0.01 -0.46
29 2 2 0 0 2 0.01 0.01 0.02 -0.01 -0.22
29 4 4 0 0 2 0.01 0 0.02 0 0
29 6 6 0 0 2 0 0 0.01 0 0
29 8 8 0 0 2 0 0 0.01 0 0
29 24 24 0 0 2 0 0 0.01 0 0
30 0 0 20 0 0 0 0 0 0 0
30 1 1 0 0 0 0.07 0 0.02 0 0
30 2 2 0 0 0 0.07 0.01 0.02 -0.01 -4.61
30 4 4 0 0 0 0.06 0.09 0.02 0.08 4.77
30 6 6 0 0 0 0.06 0.09 0.01 0.07 5.02
30 8 8 0 0 0 0.05 0.03 0.01 0.01 -1.98
30 24 24 0 0 0 0.03 0.04 0.01 0.03 3.14
31 0 0 20 0 4 0 0 0 0 0
31 1 1 0 0 4 0 0 0.02 -0.01 -0.26
31 2 2 0 0 4 0 0 0.02 -0.01 -0.46
31 4 4 0 0 4 0 0 0.02 -0.01 -0.27
31 6 6 0 0 4 0 0 0.01 -0.01 -0.15
31 8 8 0 0 4 0 0 0.01 -0.01 -0.21
31 24 24 0 0 4 0 0 0.01 0 0.06
32 0 0 20 0 4 0 0 0 0 0
32 1 1 0 0 4 0 0 0.02 0 0
32 2 2 0 0 4 0 0 0.02 -0.01 -0.23
32 4 4 0 0 4 0 0 0.02 -0.02 -0.62
32 6 6 0 0 4 0 0 0.01 -0.01 -0.38
32 24 24 0 0 4 0 0 0.01 0 0.05
33 0 0 20 0 4 0 0 0 0 0
33 1 1 0 0 4 0 0 0.02 -0.01 -0.32
33 2 2 0 0 4 0 0 0.02 -0.01 -0.29
33 4 4 0 0 4 0 0 0.02 -0.01 -0.37
33 6 6 0 0 4 0 0.01 0.01 -0.01 -0.08
33 8 8 0 0 4 0 0 0.01 -0.01 -0.29
33 24 24 0 0 4 0 0 0.01 0 0.06
34 0 0 20 0 4 0 0 0 0 0
34 1 1 0 0 4 0.01 0.01 0.02 -0.01 0.04
34 2 2 0 0 4 0.01 0 0.02 -0.01 -0.49
34 4 4 0 0 4 0.01 0 0.02 -0.01 -0.41
34 6 6 0 0 4 0.01 0 0.01 -0.01 -0.36
34 8 8 0 0 4 0.01 0.01 0.01 -0.01 -0.15
34 24 24 0 0 4 0 0.01 0.01 0 0.69
35 0 0 20 0 4 0 0 0 0 0
35 1 1 0 0 4 0 0 0.02 -0.02 -0.39
35 2 2 0 0 4 0 0.01 0.02 -0.01 -0.1
35 4 4 0 0 4 0 0 0.02 -0.01 -0.26
35 6 6 0 0 4 0 0 0.01 -0.01 -0.24
35 8 8 0 0 4 0 0 0.01 -0.01 -0.3
35 24 24 0 0 4 0 0 0.01 -0.01 -0.46
</code></pre>

<p>Kind Regards</p>

<p>rcmoulirc</p>
","448962","","176923","","2010-09-15 23:50:36","2010-09-16 13:29:13","Trying to fit a graph in R","<r>","2","1","","","","CC BY-SA 2.5","3722638","4452","4452","r","404559","3625322","3607736","",""
"3723194","1","3724196","","2010-09-16 02:01:14","","2","814","<p>I have glad to hear that there is an updated version for reshape2 package.</p>

<p>I installed the package, but discovered that ggplot2 package still insist to have the reshape package, rather than the reshape2 package, as I manually removed the reshape package and then ggplot2 cannot run.</p>

<p>Anything I can do to fix it? Thanks!</p>
","373908","","","","","2010-09-16 06:26:07","ggplot2 and reshape2","<r><ggplot2><reshape>","1","0","0","","","CC BY-SA 2.5","3723194","4452","4452","r","404559","3625322","3607736","",""
"3726076","1","3728387","","2010-09-16 11:13:33","","0","580","<p>I have this feature_list that contains several possible values, say ""A"", ""B"", ""C"" etc. And there is time in time_list.</p>

<p>So I will have a loop where I will want to go through each of these different values and put it in a formula.</p>

<p>something like <code>for(i in ...)</code> and then <code>my_feature &lt;- feature_list[i]</code> and <code>my_time &lt;- time_list[i]</code>.</p>

<p>Then I put the time and the chosen feature to a dataframe to be used for regression</p>

<pre><code>feature_list&lt;- c(""GPRS"")
time_list&lt;-c(""time"")
calc&lt;-0

feature_dim &lt;- length(feature_list)
time_dim &lt;- length(time_list)

data &lt;- read.csv(""data.csv"", header = TRUE, sep = "";"")
result &lt;- matrix(nrow=0, ncol=5)
errors&lt;-matrix(nrow=0, ncol=3)

for(i in 1:feature_dim) {
    my_feature &lt;- feature_list[i]
    my_time &lt;- time_list[i]

    fitdata &lt;- data.frame(data[my_feature], data[my_time])

    for(j in 1:60) {

        my_b &lt;- 0.0001 * (2^j)

        for(k in 1:60) {
            my_c &lt;- 0.0001 * (2^k)
            cat(""Feature: "", my_feature, ""\t"")
            cat(""b: "", my_b, ""\t"")
            cat(""c: "", my_c, ""\n"")

            err &lt;- try(nlsfit &lt;- nls(GPRS ~ 53E5*exp(-1*b*exp(-1*c*time)), data=fitdata, start=list(b=my_b, c=my_c)), silent=TRUE)
            calc&lt;-calc+1

            if(class(err) == ""try-error"") {
                next
            }

            else {
                coefs&lt;-coef(nlsfit)
                ess&lt;-deviance(nlsfit)
                result&lt;-rbind(result, c(coefs[1], coefs[2], ess, my_b, my_c))
            }
    }
} 
}
</code></pre>

<p>Now in the <code>nls()</code> call I want to be able to call my_feature instead of just ""A"" or ""B"" or something and then to the next one on the list. But I get an error there. What am I doing wrong?</p>
","213334","","4895725","","2017-04-04 12:21:46","2017-04-04 12:21:46","Entering variables into regression function","<r><dataframe><statistics><nls>","2","5","","","","CC BY-SA 3.0","3726076","4452","4452","r","404559","3625322","3607736","",""
"3727238","1","3727555","","2010-09-16 13:41:00","","11","1921","<p>There are lots of examples of sending integers to C++ from R, but none I can find of sending strings. </p>

<p>What I want to do is quite simple:</p>

<pre><code>SEXP convolve(SEXP filename){
  pfIn = fopen(filename, ""r"");
}
</code></pre>

<p>This gives me the following compiler error: </p>

<blockquote>
  <p>loadFile.cpp:50: error: cannot convert 'SEXPREC*' to 'const char*' for argument<br/>
  '1' to 'FILE* fopen(const char*, const char*)'</p>
</blockquote>

<p>So I need to convert filename to a <code>const char*</code>? Do I use CHAR?</p>
","443342","","1457051","","2015-09-20 10:06:24","2015-09-20 10:06:24","Sending a string from R to C++","<c++><r>","2","0","","","","CC BY-SA 3.0","3727238","4452","4452","r","404559","3625322","3607736","",""
"3727822","1","3727884","","2010-09-16 14:46:41","","10","12603","<p>I have started to try to use StatET and Texlipse with a view to producing SWEAVE reports. When starting the R console in the StatET plug-in for Eclipse (OS X 10.6.4), I get the message:</p>

<pre><code>[INFO] The R package 'rj' is not available, R-StatET tools cannot be initialized.
</code></pre>

<p>Information on <a href=""http://www.walware.de/goto/statet"" rel=""noreferrer"">http://www.walware.de/goto/statet</a> states:</p>

<p>""The package only works in the default R Console (RJ) in StatET. Therefore you have to install and update it using the command line"":</p>

<pre><code>R CMD INSTALL --no-test-load rj_*.tar.gz
</code></pre>

<p>What does this mean exactly?</p>

<p>In Eclipse under ""Install new Software"" and the site </p>

<pre><code>WalWare - http://download.walware.de/eclipse-3.6
</code></pre>

<p>it states that </p>

<pre><code>  RJ Core Library 0.5.0.b201008271600sw
</code></pre>

<p>is already installed. </p>

<p>Any helpful guidance gratefully received.</p>
","441706","","","","","2017-07-22 20:15:12","How does one install 'rj' in StatET plugin for Eclipse?","<eclipse><r>","5","0","2","","","CC BY-SA 2.5","3727822","4452","4452","r","404559","3625322","3607736","",""
"3727906","1","","","2010-09-16 14:55:02","","8","589","<p>I know it is possible, but the provided documentation here: </p>

<p><a href=""http://code.google.com/p/augustus/"" rel=""noreferrer"">http://code.google.com/p/augustus/</a></p>

<p>is thin. </p>

<p>The documentation for setting up the web service states:</p>

<p>""Configuring the Augustus PMML consumer is covered in great detail elsewhere so we will limit our discussion to what is needed to get the consumer to accept data via HTTP, namely the fromHTTP child element of inputData."" </p>

<p>The problem is that ""in great detail elsewhere"" isn't in great enough detail for me, i.e., I'm looking for something kind of ""hello world""-ish.  </p>
","271844","","","","","2010-09-16 14:55:02","Is there a good tutorial on setting up the Augustus PMML scoring engine as a web service?","<python><r>","0","2","1","2011-09-04 03:23:56","","CC BY-SA 2.5","3727906","4452","4452","r","404559","3625322","3607736","",""
"3729421","1","3733651","","2010-09-16 18:04:21","","1","645","<p>What would be a good way to create a timer in R. One that would require little system resources.</p>

<p>So far I have a simple delay:</p>

<pre><code>t1=as.numeric(format(Sys.time(), ""%s""));
t2=t1; 
while (t2-t1&lt;5) t2=as.numeric(format(Sys.time(), ""%s""));
</code></pre>

<p>And the corresponding timer:</p>

<pre><code>t1=as.numeric(format(Sys.time(), ""%s""));t2=t1;
</code></pre>

<p>[Event]</p>

<pre><code>t2=as.numeric(format(Sys.time(), ""%s""));
time=t2-t1;
</code></pre>

<p>Thanks for reading.</p>
","409828","","","","","2010-09-17 08:13:59","R - How to 'time' delays as well as user input","<r><timing>","3","0","2","","","CC BY-SA 2.5","3729421","4452","4452","r","404559","3625322","3607736","",""
"3729548","1","3730550","","2010-09-16 18:21:54","","2","435","<p>I'm slightly confused on the following point: I am running R on 32-bit Windows.  My understanding is that I should be able to allocate up to 2GB.  </p>

<p>I read though <code>help(""Memory"")</code> and launched my R session with the flag <code>RGui.exe --max-mem-size=1000M</code>.  Then confirmed this within R:</p>

<pre><code>&gt; memory.limit()
[1] 1000
</code></pre>

<p>But when I run a particular operation, I'm getting an error message which says something like ""Cannot allocate object of size 512MB"".  </p>

<p>Am I doing something wrong?</p>
","171249","","171249","","2010-09-16 18:41:01","2010-09-16 20:33:54","Allocating a larger object in R?","<memory><r>","2","0","1","","","CC BY-SA 2.5","3729548","4452","4452","r","404559","3625322","3607736","",""
"3729744","1","3729806","","2010-09-16 18:46:34","","6","826","<p>How can I get the byte sequence of a particular UTF-8 string?  I'm seeing what looks like some bug in the regex engine which is only triggered in some edge cases, and I'd like to know exactly what data it's working on.</p>
","169947","","","","","2010-09-16 20:23:17","See the exact byte sequence of an R string?","<r><unicode><string>","2","0","2","","","CC BY-SA 2.5","3729744","4452","4452","r","404559","3625322","3607736","",""
"3730350","1","3730366","","2010-09-16 20:03:14","","11","4499","<p>the title exactly -- is there a way to call an r process from an excel macro?</p>
","446667","","","","","2016-02-15 15:05:00","Embed an R process in a VBA macro","<vba><r><embed>","3","0","1","","","CC BY-SA 2.5","3730350","4452","4452","r","404559","3625322","3607736","",""
"3731559","1","3735182","","2010-09-16 23:12:07","","2","3906","<p>Stacked bar charts use a hue-based colour scale by default, in order to distinguish the different sections of bar.  Since the factor levels corresponding to my stacks are ordered, I would like to use a gradient scale.</p>

<p>Here's some made-up questionnaire data</p>

<pre><code>dfr &lt;- data.frame(
  question = c(""Do you like R?"", ""How about Stack Overflow?""),
  rubbish  = c(2, 1),
  so.so    = c(7, 9),
  yippee   = c(41, 40)
)

mdfr &lt;- melt(dfr, measure.vars = c(""rubbish"", ""so.so"", ""yippee""))
</code></pre>

<p>Here's a plot that works, but without the gradient colour scale</p>

<pre><code>p1 &lt;- ggplot(mdfr, aes(question, value, fill = variable)) +
  geom_bar(position = ""stack"") +
  coord_flip()
</code></pre>

<p>If I add the gradient scale, I get told that I should be using a numerical variable for it, not categorical.</p>

<pre><code>p1 + scale_fill_gradient2()
#Error: Non-continuous variable supplied to scale_fill_gradient2.
</code></pre>

<p>If I force the fill colour variable to be numerical, then <code>geom_bar</code> complains that it should be stacking a categorical variable</p>

<pre><code>ggplot(mdfr, aes(question, value, fill = as.integer(variable))) +
  scale_fill_gradient2() +
  geom_bar(position = ""stack"") +
  coord_flip()
#Error in pmin(y, 0) : object 'y' not found
</code></pre>

<p>Is there a way round this?</p>

<p>EDIT:</p>

<p>After sleeping on the question, I thought a manual scale might be the answer, but I can't get that working either.</p>

<pre><code>cols &lt;- c(rubbish = ""red"", so.so = ""white"", yippee = ""blue"")
p1 + scale_colour_manual(values = cols)
# Manual scale silently ignored
</code></pre>
","134830","","134830","","2010-09-17 09:10:22","2014-11-21 22:04:06","Colours gradients with stacked bar charts in ggplot2","<r><ggplot2>","2","1","","","","CC BY-SA 2.5","3731559","4452","4452","r","404559","3625322","3607736","",""
"3733556","1","4633752","","2010-09-17 07:54:54","","0","4990","<p>When trying to read a csv file in StatET/Eclipse (OS X 10.6, Eclipse 3.6) using the following command:</p>

<pre><code> read.csv(file.choose(),header=T)
</code></pre>

<p>I get the response:</p>

<pre><code>Error in file.choose() : file choice cancelled
</code></pre>

<p>The command works as expected in 'R' itself and reading a named csv file works in StatET. What am I doing wrong? </p>

<p>Thanks in advance.</p>
","441706","","441706","","2010-09-17 11:44:52","2011-01-08 12:03:02","read.csv(file.choose()) problem in StatET/Eclipse","<eclipse><r>","2","1","","","","CC BY-SA 2.5","3733556","4452","4452","r","404559","3625322","3607736","",""
"3735286","1","3735337","","2010-09-17 12:28:34","","124","82639","<p>Is it possible to plot a matrix of scatter plots with <code>ggplot2</code>, using <code>ggplot</code>'s nice features like mapping additional factors to color, shape etc. and adding smoother?</p>

<p>I am thinking about something similar to the <code>base</code> function <code>pairs</code>.</p>
","216064","","1851712","","2015-05-27 09:17:23","2017-12-12 22:11:43","Create a matrix of scatterplots (pairs() equivalent) in ggplot2","<r><ggplot2>","3","2","54","","","CC BY-SA 3.0","3735286","4452","4452","r","404559","3625322","3607736","",""
"3736742","1","3738164","","2010-09-17 15:33:26","","1","781","<p>I have a project in which i need to be able to calculate different voting power indexes in R. As a first attempt at this I wrote a small function to calculate the banzhaf index. It takes two arguments, a dataframe that has two columns which must be labelled member and vote, and how many votes are needed for a majority (quota):</p>

<pre><code>library(combinat)
banzhaf &lt;- function(data,quota){
 f &lt;- vector()
 m &lt;- vector()
 score &lt;- vector()
 name &lt;- vector()
 pivot &lt;- vector()
 for (n in 1:nrow(data)){
  y &lt;- as.matrix(combn(data$member,n))
  for (i in 1:ncol(y)){
   for ( j in 1:n){
    f[j] &lt;- data[data$member == y[j,i],]$vote
    m[j] &lt;- as.character(data[data$member == y[j,i],]$member)
    o &lt;- data.frame(member = m, vote = f)
    }

   if (sum(o$vote) &gt;= quota){
    for (k in 1:length(o$member)){
     t &lt;- o[-k,]
    if (sum(t$vote) &lt; quota){
     pivot[length(pivot) + 1] &lt;- as.character(o$member[k])
     }
    }
   }
  }
 }

 for (l in unique(pivot)){
  score[length(score) + 1] &lt;- sum(pivot == l)
  name[length(name) + 1] &lt;- l
  }
 out &lt;- data.frame(name = name, score = score/length(pivot))
 return(out)
}
</code></pre>

<p>The problem with this function is that it becomes incredibly slow when i have more than 8 members in the dataframe. This is due to the combn() function used in the outermost loop (I think). Does anyone know how this can be made to run faster?</p>

<p>Best, Thomas</p>

<p>P.S: If you want to test it use the following data, but beware that it might run forever!</p>

<pre><code>x &lt;- c(""Germany"",""France"",""UK"",""Italy"",""Spain"",""Poland"",""Romania"",""Netherlands"",""Greece"",""Portugal"",""Belgium"",""Czech Rep."",""Hungary"",""Sweden"",""Austria"",""Bulgaria"",""Denmark"",""Slovakia"",""Finland"",""Ireland"",""Lithuania"",""Latvia"",""Slovenia"",""Estonia"",""Cyprus"",""Luxembourg"",""Malta"")
z &lt;- c(29,29,29,29,27,27,14,13,12,12,12,12,12,10,10,10,7,7,7,7,7,4,4,4,4,4,3)

dat &lt;- data.frame(member = as.character(x),vote = z)

oi &lt;- banzhaf(dat, 255)
oi
</code></pre>
","363268","","363268","","2010-09-17 23:02:14","2010-09-20 04:53:41","Calculating voting power indexes in R","<r><function><permutation><voting-system>","2","3","","","","CC BY-SA 2.5","3736742","4452","4452","r","404559","3625322","3607736","",""
"3737165","1","3737183","","2010-09-17 16:27:49","","7","1160","<p>Yesterday I <a href=""http://www.cerebralmastication.com/2010/09/principal-component-analysis-pca-vs-ordinary-least-squares-ols-a-visual-explination/"" rel=""nofollow noreferrer"">worked up an example of</a> the difference between Ordinary Least Squares (OLS) vs. Principal Components Analysis (PCA). For that illustration I wanted to show the errors minimized by OLS and PCA so I plotted the actuals, the predicted line and then I manually (with GIMP) drew in a drop line to illustrate a couple of the error terms. How can I code the creation of the error lines in R? Here's the code I used for my example:</p>

<pre><code>set.seed(2)
x &lt;- 1:100

y &lt;- 20 + 3 * x
e &lt;- rnorm(100, 0, 60)
y &lt;- 20 + 3 * x + e

plot(x,y)
yx.lm &lt;- lm(y ~ x)
lines(x, predict(yx.lm), col=""red"")
</code></pre>

<p>Then I manually added the yellow lines to produce the following:</p>

<p><img src=""https://i.stack.imgur.com/p0uWZ.png"" alt=""alt text""></p>
","37751","","","","","2019-01-03 15:58:24","Drop lines from actual to modeled points in R","<r><graphics><lm>","2","0","3","","","CC BY-SA 2.5","3737165","4452","4452","r","404559","3625322","3607736","",""
"3737194","1","","","2010-09-17 16:32:57","","18","11856","<p>In R, I have, for example:</p>

<pre><code>&gt; foo &lt;- list(a=1,b=2,c=3)
</code></pre>

<p>If I type <code>foo</code>, I get:</p>

<pre><code>$a
[1] 1

$b
[1] 2

$c
[1] 3
</code></pre>

<p>How can I look through <code>foo</code> to get a list of ""keys"" only? In this case, (a, b, c).</p>
","","user187268","135724","","2012-10-18 00:10:34","2015-01-07 17:41:41","Dictionary data structure in R","<list><r><dictionary><lookup>","2","0","2","","","CC BY-SA 3.0","3737194","4452","4452","r","404559","3625322","3607736","",""
"3737619","1","3741676","","2010-09-17 17:37:37","","7","3473","<p>I'm having trouble passing a POSIXct stored in a variable as the xmin/xmax for geom_rect. I've tried to construct a free-standing example without trivializing what I'm trying to do...</p>

<p>The idea is to take a ggplot2 plot object, whose x is a POSIXt, and ""zoom in"" on a particular range in time. The zoom is in the top 80% and the entire series is in the bottom 20% with an indicator as to what part is zoom'd on top.</p>

<p>My problem is that I can't seem to get the xmin/xmax passed into geom_rect -- each thing I've tried (other than assembling the plot by hand instead of function) gives me a different error. I've tries using aes(), aes_string(), passing as parameters instead of aesthetics, passing just strings, etc.</p>

<p>The example below tells me:</p>

<pre><code>Error in eval(expr, envir, enclos) : object 'lims' not found
</code></pre>

<p>I think my problem is that the variables I'm using to set the aesthetics aren't in scope when the aesthetics get processed, but I can't figure out how else to go about it. Help.</p>

<pre><code>library(ggplot2)

subplot &lt;- function(x, y) viewport(layout.pos.col=x, layout.pos.row=y)
vplayout &lt;- function(x, y) {
  grid.newpage()
  pushViewport(viewport(layout=grid.layout(y,x)))
}

anm_zoom &lt;- function(limits, p) {

  lims &lt;- as.POSIXct(limits)
  limlab &lt;- paste(lims, collapse="" to "")

  top &lt;- p + scale_x_datetime(limlab, limits=lims, expand=c(0,0))

  bottom &lt;- p;
  bottom &lt;- bottom + opts(title="""")
  bottom &lt;- bottom + opts(legend.position=""none"")
  bottom &lt;- bottom + opts(axis.title.y=theme_blank())
  bottom &lt;- bottom + scale_x_datetime("""", expand=c(0,0))
  bottom &lt;- bottom + geom_rect(aes(xmin=lims[1], xmax=lims[2]),
 ymin=-Inf, ymax=Inf, fill=""grey80"", alpha=0.01)

  ## Render the plots
  vplayout(1,5)
  print(top, vp=subplot(1,c(1,2,3,4)))
  print(bottom, vp=subplot(1,5))
}


pdate &lt;- seq.POSIXt(from=as.POSIXct(""2010-09-09 00:00""),
   to=as.POSIXct(""2010-09-10 23:59""), by=""2 mins"")
var1 &lt;- rnorm(length(pdate))
var2 &lt;- rnorm(length(pdate))
df1 &lt;- data.frame(pdate, var1, var2)

dm  &lt;- melt(df1, id=""pdate"")

p &lt;- ggplot(dm) + aes(x=pdate, y=value) + stat_summary(fun.y=""sum"", geom=""line"")

anm_zoom(c(""2010-09-09 12:15"", ""2010-09-09 12:30""), p)
</code></pre>
","450862","","","","","2014-10-07 17:14:40","How can I pass a ggplot2 aesthetic from a variable?","<r><ggplot2>","3","0","3","","","CC BY-SA 2.5","3737619","4452","4452","r","404559","3625322","3607736","",""
"3738589","1","3738997","","2010-09-17 20:01:28","","2","674","<p>I try am trying to use the ""to.minutes3"" function in the xts package to segment my data. </p>

<p>This function does correctly put the time column into the desired intervals. But data columns becomes ""open"" , ""close"", ""high"" and ""low"". Is there are way tell the function to average the data points that fall into the same interval?</p>

<p>Thanks,
Derek</p>
","296564","","271616","","2011-08-13 17:52:21","2011-08-13 17:52:21","R XTS package to.minutes3","<r><time-series><xts>","2","0","","","","CC BY-SA 2.5","3738589","4452","4452","r","404559","3625322","3607736","",""
"3739366","1","","","2010-09-17 22:01:09","","5","3654","<p>There are 25 symbols defined by 'pch' paramter in the points function.</p>

<p>How can I draw more than these 25 symbols</p>

<p>Thanks</p>
","","user187268","","","","2016-01-06 19:33:24","Point symbols in R","<r><plot><symbols><draw>","3","3","1","","","CC BY-SA 2.5","3739366","4452","4452","r","404559","3625322","3607736","",""
"3740181","1","3746045","","2010-09-18 02:43:27","","0","2520","<p>I am somewhat new to R and I have run into a point where I need some help. I figure the reshape package can accomplish what I need to do.</p>

<p>Here is the structure of the original data frame:</p>

<pre><code>&gt; str(bruins)
'data.frame':   10 obs. of  6 variables:
 $ gameid  : Factor w/ 1 level ""20090049"": 1 1 1 1 1 1 1 1 1 1
 $ team    : chr  ""NYI"" ""BOS"" ""NYI"" ""BOS"" ...
 $ home_ind: chr  ""V"" ""H"" ""V"" ""H"" ...
 $ period  : Factor w/ 5 levels ""1"",""2"",""3"",""4"",..: 1 1 2 2 3 3 4 4 5 5
 $ goals   : int  0 0 3 0 0 3 0 0 3 3
 $ shots   : int  16 7 9 7 8 12 5 4 38 30
</code></pre>

<p>Here are the first few rows:</p>

<pre><code>&gt; head(bruins)
      gameid team home_ind period goals shots
409 20090049  NYI        V      1     0    16
410 20090049  BOS        H      1     0     7
411 20090049  NYI        V      2     3     9
412 20090049  BOS        H      2     0     7
413 20090049  NYI        V      3     0     8
414 20090049  BOS        H      3     3    12
</code></pre>

<p>I am looking to create a new data frame that pivots on gameid and period, with the rest of the columns summarizing the data for each home_ind row (10 columns in all).</p>

<p>When I run the following code:</p>

<pre><code>b.melt &lt;- melt(bruins, id=c(""gameid"", ""period""), na.rm=TRUE)
</code></pre>

<p>I get the following error:</p>

<pre><code>Warning messages:
1: In `[&lt;-.factor`(`*tmp*`, ri, value = c(0L, 0L, 3L, 0L, 0L, 3L, 0L,  :
  invalid factor level, NAs generated
2: In `[&lt;-.factor`(`*tmp*`, ri, value = c(16L, 7L, 9L, 7L, 8L, 12L,  :
  invalid factor level, NAs generated
</code></pre>

<p>Any help will be very much appreciated!</p>

<p>Edit:  This is what I am hoping to get the restructured data to look like</p>

<pre><code>    gameid period vis_team vis_goals vis_shots home_team home_goals home_shots
1 20090049      1     NYI      0      16       BOS          0          7
2 20090049      2     NYI      3      9        BOS          0          7
3 20090049      3     NYI      0      8        BOS          3         12
</code></pre>
","155406","","155406","","2010-09-18 15:19:14","2010-09-19 14:20:32","Reshape error - invalid factor","<r><data-manipulation>","4","0","","","","CC BY-SA 2.5","3740181","4452","4452","r","404559","3625322","3607736","",""
"3742415","1","3841712","","2010-09-18 16:16:25","","3","595","<p>I think I'm getting a scoping error when using transformBy(), part of the doBy package for R.  Here is a simple example of the problem:</p>

<pre><code>&gt; library(doBy)
&gt;
&gt; test.data = data.frame(
+  herp = c(1,2,3,4,5),
+  derp = c(2,3,1,3,5)
+ )
&gt;
&gt; transformData = function(data){
+ 
+  five = 5
+ 
+  transformBy(
+   ~ herp,
+   data=data,
+   sum=herp + derp + five
+  )
+ }
&gt;
&gt; transformData(test.data)
Error in eval(expr, envir, enclos) : object 'five' not found
</code></pre>

<p>When I run transformBy() within a sub-scope (non-global scope) no local variables or functions seem to be available for use in transformBy.  If, on the other hand, I define those variables or functions globally, they become available.  Here is a slightly modified example that works:</p>

<pre><code>&gt; library(doBy)
&gt;
&gt; test.data = data.frame(
+  herp = c(1,2,3,4,5),
+  derp = c(2,3,1,3,5)
+ )
&gt;
&gt; five = 5
&gt;
&gt; transformData = function(data){
+  transformBy(
+   ~ herp,
+   data=data,
+   sum=herp + derp + five
+  )
+ }
&gt;
&gt; transformData(test.data)
  herp derp sum
1    1    2   8
2    2    3  10
3    3    1   9
4    4    3  12
5    5    5  15
</code></pre>

<p>Am I misunderstanding something about how transformBy is supposed to work or is something broken?</p>

<p><strong>Versions:</strong></p>

<ul>
<li>ubuntu: 8.04 (x64)</li>
<li>R: 2.10.1</li>
<li>doBy: 4.0.5</li>
</ul>
","301329","","","","","2010-10-01 23:35:16","R (statistical) scoping error using transformBy(), part of the doBy package","<r><statistics>","3","2","","","","CC BY-SA 2.5","3742415","4452","4452","r","404559","3625322","3607736","",""
"3744178","1","3744432","","2010-09-19 01:29:17","","59","109725","<p>I have a data.frame, that is sorted from highest to lowest. For example: </p>

<pre><code>x &lt;- structure(list(variable = structure(c(10L, 6L, 3L, 4L, 2L, 8L, 
9L, 5L, 1L, 7L), .Label = c(""a"", ""b"", ""c"", ""d"", ""e"", ""f"", ""g"", 
""h"", ""i"", ""j""), class = c(""ordered"", ""factor"")), value = c(0.990683229813665, 
0.975155279503106, 0.928571428571429, 0.807453416149068, 0.717391304347826, 
0.388198757763975, 0.357142857142857, 0.201863354037267, 0.173913043478261, 
0.0496894409937888)), .Names = c(""variable"", ""value""), row.names = c(10L, 
6L, 3L, 4L, 2L, 8L, 9L, 5L, 1L, 7L), class = ""data.frame"")

ggplot(x, aes(x=variable,y=value)) + geom_bar(stat=""identity"") + 
 scale_y_continuous("""",label=scales::percent) + coord_flip() 
</code></pre>

<p>Now, the data is nice and sorted, but when I plot, it comes out sorted by factor. It's annoying, how do I fix it?</p>
","170352","","9093302","","2018-12-18 11:42:11","2018-12-18 11:53:58","ggplot2: sorting a plot","<r><ggplot2>","5","3","24","","","CC BY-SA 4.0","3744178","4452","4452","r","404559","3625322","3607736","",""
"3746256","1","3746557","","2010-09-19 15:22:21","","29","40871","<p>The two posts below are great examples of different approaches of extracting data from websites and parsing it into R.  </p>

<p><a href=""https://stackoverflow.com/questions/1395528/scraping-html-tables-into-r-data-frames-using-the-xml-package"">Scraping html tables into R data frames using the XML package</a></p>

<p><a href=""https://stackoverflow.com/questions/2443127/how-can-i-use-r-rcurl-xml-packages-to-scrape-this-webpage"">How can I use R (Rcurl/XML packages ?!) to scrape this webpage</a></p>

<p>I am very new to programming, and am just starting out with R, so I am hoping this question is pretty basic, but given those posts above, I imagine that it is.</p>

<p>All I am looking to do is extract links that match a given pattern.  I feel like I could probably use RCurl to read in the web pages and extract them brute force method using string expressions.  That said, if the webpage is fairly well formed, how would I go about doing so using the XML package.  </p>

<p>As I learn more, I like to ""look"" at the data as I work through the problem.  The issue is that some of these approaches generate lists of lists of lists, etc., so it is hard for someone that is new (like me) to walk through where I need to go.</p>

<p>Again, I am very new to all that is programming, so any help or code snippets will be greatly appreciated.  </p>
","155406","","-1","","2017-05-23 11:53:17","2020-12-04 08:06:09","Extract Links from Webpage using R","<r><web-scraping>","3","0","20","","","CC BY-SA 2.5","3746256","4452","4452","r","404559","3625322","3607736","",""
"3747671","1","","","2010-09-19 22:08:00","","2","323","<p>I'm doing coarsened exact matching on an imputed dataset. To validate I do bootstrapping of the results from cem. However I'm unable to get <code>boot.ci</code> output to work. I get the error message: </p>

<pre><code>Error in bca.ci(boot.out, conf, index[1L], L = L, t = t.o, t0 = t0.o,  : 
  estimated adjustment 'a' is NA
</code></pre>

<p>The object is there but for some reason I cannot get the bias corrected result.</p>

<pre><code>library(boot)
library(cem)
library(Amelia)

am.bo&lt;-function(data,ind) {
  data&lt;-data[ind,]
  a9&lt;-amelia(data,ords=c(""gck"",""gc.m"",""gc.e"",""gc.v""),id=c(""as2"",""d30""))
  os&lt;-a9$imputations[1:5]
  os2&lt;-cem(treatment=""as2"",datalist=os,data=data,drop=""bc"")
  os3&lt;-att(os2,gck~bc,data=os)
  print(os3,T)-&gt;g
  intercept&lt;-g[1,1]
  bac&lt;-g[1,2]
  vec&lt;-c(intercept,bc)
  return(vec)
}

dlply(a4,.(as),function(x) boot(x,am.bo,R=30)) -&gt; bootas_gcadm
lapply(bootas_gcadm,boot.ci)
</code></pre>

<p>Basically everything is running smoothly, except that I cannot for get the <code>bca</code> bootstrap CI.</p>
","338745","","12258459","","2021-01-30 19:14:59","2021-01-30 19:14:59","bootstrapping imputed cem output","<r><statistics-bootstrap>","0","1","","","","CC BY-SA 3.0","3747671","4452","4452","r","404559","3625322","3607736","",""
"3748780","1","3748882","","2010-09-20 04:52:32","","1","1774","<p>I have a function, as follows: </p>

<pre><code>f.factor &lt;- function(x) {
print(length(unique(x)))
z &lt;- 1 
    for (i in 1:length(unique(x))) {
        z[i] &lt;- readline("":"")
    }
x &lt;- factor(x, labels=c(z)) 
return(x)
}
</code></pre>

<p>Essentially, it allows me to copy/paste/type or just simply write into my script the factors for a particular variable without having to type c("".."",""..."") a million times. </p>

<p>I've run into a problem when I try to use this function in a loop, perhaps the loop structure will not allow lines to be read within the loop? </p>

<pre><code>for(i in 1:ncol(df.)) {
df[,paste(""q4."",i,sep="""")] &lt;- f.factor(df[,paste(""q4."",i,sep="""")])
Never Heard of
Heard of but Not at all Familiar
Somewhat Familiar
Familiar
Very Familiar
Extremely Familiar
}
</code></pre>

<p>In the end, I'm looking for a way to specify the factor label without having to rewrite it over and over. </p>
","170352","","","","","2010-09-20 16:03:18","Using readline() within a for loop","<r>","2","0","","","","CC BY-SA 2.5","3748780","4452","4452","r","404559","3625322","3607736","",""
"3750153","1","3751314","","2010-09-20 09:33:20","","15","6024","<p>I am just starting out with R, and beginning to start producing charts.  I am aware that there are at least three different plotting packages, the standard one, ggplot2 and lattice.</p>

<p>Are these packages complementary, or do they cover much the same ground?  If they are complementary, when do I use each?  If they cover the same ground, which one should I, as a new R user, put my energy into mastering?</p>
","103225","","","","","2011-11-11 08:17:18","Relationship between plotting packages in R","<r><visualization><plot><ggplot2><lattice>","2","0","6","","","CC BY-SA 2.5","3750153","4452","4452","r","404559","3625322","3607736","",""
"3750175","1","3750241","","2010-09-20 09:36:05","","4","3194","<p>How can I substitute <code>NA</code> values by zero in a R zoo series?
I've been reading about <code>na.locf</code> and <code>na.omit</code>  but I think none of them do what I need.</p>

<p>thanks.</p>
","425895","","168747","","2010-09-20 12:10:08","2014-05-14 23:38:48","R, Substitute NAs by zero","<r><zoo>","2","0","","","","CC BY-SA 2.5","3750175","4452","4452","r","404559","3625322","3607736","",""
"3751571","1","3752098","","2010-09-20 12:43:48","","1","4593","<p>I tried to do something like this:</p>

<pre><code>x &lt;- data.frame(1:20)  
attach(x)  
assign(""x2"",1:20,pos=""x"")  
</code></pre>

<p>However, <code>x$x2</code> gives me <code>NULL</code>.<br>
With <code>x2</code> I get what I want but it is not part of the data.frame.  </p>

<p>Attaching <code>x2</code> to <code>x</code> manually would work in this simple case but not in the more complex one I need. I try to <code>assign</code> in a loop where I loop over the varnames used in the <code>assign</code> call.</p>
","289572","","","","","2010-09-21 17:28:20","How can I use assign to change variables within a dataframe in R?","<r><environment><variable-assignment><dataframe>","3","1","2","","","CC BY-SA 2.5","3751571","4452","4452","r","404559","3625322","3607736","",""
"3753341","1","","","2010-09-20 16:13:32","","1","369","<p>I have a large dataset with repeat assessment across subjects. How do I go from:</p>

<pre><code>subj, assessment, test1, test2  
A,    1,          10,    20  
A,    2,          12,    13  
A,    3,          11,    12  
B,    1,          14,    14  
B,    2,          13,    12
</code></pre>

<p>To:</p>

<pre><code>subj, test1_1, test1_2, test1_3  
A,    10,      12,      11  
B,    14,      13  
</code></pre>

<p>Thanks,</p>

<p>Jon</p>
","452923","","219519","","2014-02-11 10:27:18","2014-02-11 10:27:18","R reorder dataframe within subject","<r><reshape><reshape2>","2","0","","","","CC BY-SA 3.0","3753341","4452","4452","r","404559","3625322","3607736","",""
"3753687","1","","","2010-09-20 17:02:07","","51","66847","<p>How can I remove the last 100 elements of a zoo series? </p>

<p>I know the name[-element] notation 
but I can't get it work to substract a full section</p>
","425895","","143305","","2010-09-20 17:06:32","2016-06-08 06:20:36","R: removing the last elements of a vector","<r><vector><elements>","6","2","11","","","CC BY-SA 2.5","3753687","4452","4452","r","404559","3625322","3607736","",""
"3755434","1","3755626","","2010-09-20 20:56:19","","3","29918","<p>The <a href=""http://cran.r-project.org/doc/manuals/R-intro.html#Arrays"" rel=""nofollow noreferrer"">R documentation on arrays</a> states</p>

<blockquote>
  <p>The values in the data vector give the values in the array in the same order as they would occur in FORTRAN, that is ""column major order,"" <strong>with the first subscript moving fastest and the last subscript slowest</strong>.</p>
</blockquote>

<p>It then later gives <a href=""http://cran.r-project.org/doc/manuals/R-intro.html#Index-matrices"" rel=""nofollow noreferrer"">a clarifying example</a> of this by loading data into a two dimensional array:</p>

<pre><code> &gt; x &lt;- array(1:20, dim=c(4,5))   # Generate a 4 by 5 array.
 &gt; x
      [,1] [,2] [,3] [,4] [,5]
 [1,]    1    5    9   13   17
 [2,]    2    6   10   14   18
 [3,]    3    7   11   15   19
 [4,]    4    8   12   16   20
</code></pre>

<p>From experience with other languages, I would think <code>x[1, 2]</code>, rather than <code>x[2, 1]</code>, would be <code>2</code>, but this is pretty easy to adjust my thinking to. However, just as quickly as I perform my mental model shift, the next example smashes it apart:</p>

<pre><code> &gt; i &lt;- array(c(1:3,3:1), dim=c(3,2))
 &gt; i                             # i is a 3 by 2 index array.
      [,1] [,2]
 [1,]    1    3
 [2,]    2    2
 [3,]    3    1
 &gt; x[i]                          # Extract those elements
 [1] 9 6 3
</code></pre>

<p>So, I can see what happened here is that we extracted elements <code>x[1, 3]</code>, <code>x[2,2]</code>, and <code>x[3, 1]</code>. Okay, but doesn't this run completely counter to above claim of ""column major order""?</p>

<p>From what I had understood, <code>i</code> should have been a <em>2 by 3</em> array, and R should have interpreted <code>x[i]</code> as <code>x[i[1, 1], i[2, 1]], x[i[1, 2], i[2, 2]], ...</code>. However, what we observe is that, instead, R did <code>x[i[1, 1], i[1, 2]], x[i[2, 1], i[2, 2]], ...</code></p>

<p>Is this a fundamental inconsistency in R, or have I completely misunderstood the documentation?</p>
","38140","","","","","2016-07-25 19:10:27","Understanding array indexing in R","<arrays><r>","2","0","2","","","CC BY-SA 2.5","3755434","4452","4452","r","404559","3625322","3607736","",""
"3755473","1","3755570","","2010-09-20 21:00:51","","4","4091","<p>I have a dataframe in R with a vector of non-sequential numbers (<code>data$SiteID</code>) that i would like to map to a vector of sequential numbers (<code>data$site</code>) to the unique values of <code>data$SiteID</code>. Within each site, I would like to map <code>data$TrtID</code> to <code>0</code> where <code>data$TrtID == 'control'</code> or to the next sequential integer, for the other unique <code>data$TrtID</code>'s:</p>

<pre><code>data &lt;- data.frame(SiteID = c(1,1,1,9,'108','108','15', '15'), 
                   TrtID = c('N', 'control', 'N', 'control', 'P', 'control', 'N', 'P'))
</code></pre>

<ol>
<li><code>data$site</code> should be <code>c(1,1,1,2,3,3,4,4)</code>.</li>
<li><code>data$trt</code> should be <code>c(1,0,1,0,1,0,0,1)</code>.</li>
</ol>
","199217","","2204410","","2016-06-04 13:32:26","2016-06-04 13:32:26","What is an efficient way to map unique values of a vector to sequential integers?","<r>","2","0","1","","","CC BY-SA 3.0","3755473","4452","4452","r","404559","3625322","3607736","",""
"3757036","1","3761642","","2010-09-21 03:09:03","","3","4213","<p>I have a question about the <code>colnames</code> function in the base package</p>

<p>Let's say you have a data.frame, as follows: </p>

<pre><code>df &lt;- data.frame(variable = letters[1:100], value = rnorm(100))
</code></pre>

<p>As one would expect, <code>colnames(df[1])</code> returns: </p>

<pre><code>colnames(df[1]) 
# [1] ""variable""
</code></pre>

<p>However, it doesn't seem that assignment is possible when calling a specific column</p>

<pre><code>colnames(df[1]) &lt;- c(""test"")
colnames(df[1])
# [1] ""variable""
</code></pre>

<p>Why is that? </p>
","170352","","1851712","","2016-01-22 12:36:24","2016-01-22 12:37:39","Assigning colnames() to specific column of a data frame","<r>","3","0","1","","","CC BY-SA 3.0","3757036","4452","4452","r","404559","3625322","3607736","",""
"3757321","1","3759774","","2010-09-21 04:32:29","","25","10563","<p>I am trying to use R to estimate a multinomial logit model with a manual specification. I have found a few packages that allow you to estimate MNL models <a href=""http://hosho.ees.hokudai.ac.jp/~kubo/Rdoc/library/VGAM/html/multinomial.html"" rel=""noreferrer"">here</a> or <a href=""http://cran.r-project.org/web/packages/mlogit/index.html"" rel=""noreferrer"">here</a>.  </p>

<p>I've found some other writings on ""rolling"" your own MLE function <a href=""http://www.mayin.org/ajayshah/KB/R/documents/mle/mle.html"" rel=""noreferrer"">here</a>. However, from my digging around - all of these functions and packages rely on the internal <code>optim</code> function. </p>

<p>In my benchmark tests, <code>optim</code> is the bottleneck. Using a simulated dataset with ~16000 observations and 7 parameters, R takes around 90 seconds on my machine. The equivalent model in <a href=""http://transp-or.epfl.ch/page63023.html"" rel=""noreferrer"">Biogeme</a> takes ~10 seconds. A colleague who writes his own code in <a href=""http://www.doornik.com/"" rel=""noreferrer"">Ox</a> reports around 4 seconds for this same model.</p>

<p>Does anyone have experience with writing their own MLE function or can point me in the direction of something that is optimized beyond the default <code>optim</code> function (no pun intended)? </p>

<p>If anyone wants the R code to recreate the model, let me know - I'll glady provide it. I haven't provided it since it isn't directly relevant to the problem of optimizing the <code>optim</code> function and to preserve space...</p>

<p><em>EDIT: Thanks to everyone for your thoughts. Based on a myriad of comments below, we were able to get R in the same ballpark as Biogeme for more complicated models, and R was actually faster for several smaller / simpler models that we ran. I think the long term solution to this problem is going to involve writing a separate maximization function that relies on a fortran or C library, but am certainly open to other approaches.</em></p>
","415635","","415635","","2010-09-23 02:35:59","2018-05-03 20:06:20","Moving beyond R's optim function","<optimization><r>","4","3","11","","","CC BY-SA 2.5","3757321","4452","4452","r","404559","3625322","3607736","",""
"3759878","1","3761468","","2010-09-21 11:37:30","","11","3714","<p><a href=""https://stackoverflow.com/questions/3757321/moving-beyond-rs-optim-function"">This question</a> came at the right time, as I'm struggling with optimization as well. I am aware of the different ""normal"" optimization routines in R, and I am aware of parallel packages like snow, snowfall, Rmpi and the likes. Yet, I didn't manage to get an optimization running in parallel on my computer. </p>

<p>Some toy code to illustrate :</p>

<pre><code>f &lt;- function(x) sum((x-1:length(x))^2)
a &lt;- 1:5
optim(a,f)
nlm(f,a)
</code></pre>

<p>What I want to do, is to parallelize the optim() function ( or the nlm() function, which does basically the same). My real function f() is a lot more complicated, and one optimization round lasts about half an hour. If I want to run a simulation of 100 samples, that one takes ages. I'd like to avoid writing my own Newton-like algorithm for parallel computing, so I hope somebody could give me some hints on how to use parallel computing for complex optimization problems in R.</p>

<hr>

<p><em>I reckon this problem is of a different nature than the one in the related question. My request is specifically directed towards parallel computing, not some faster alternative for optim.</em></p>
","428790","","-1","","2017-05-23 12:09:09","2018-05-03 20:11:21","Parallel optimization in R","<optimization><r><parallel-processing>","3","2","4","","","CC BY-SA 2.5","3759878","4452","4452","r","404559","3625322","3607736","",""
"3761410","1","3761502","","2010-09-21 14:37:34","","19","64276","<p>This seems a simple question, so I hope its a simple answer. I am plotting my points and fitting a linear model, which I can do OK. I then want to plot some summary statistics, for example the R Squared value, on the plot also. I can only seem to get the R Squared value at the command line.
Any advice; do I need to be looking at ggplot or anything else? Thanks in advance.</p>

<pre><code>#Does the plot
plot(df$VAR1, df$VAR2)
#Adds the line
abline(lm(df$VAR2~df$VAR1), col=""red"")
#Shows stats on command line
summary(lm(df$VAR2~df$VAR1))
</code></pre>
","389065","","1717729","","2014-01-30 17:11:30","2016-11-12 23:15:28","How can I plot my R Squared value on my scatterplot using R?","<r><plot><statistics><linear-regression>","2","0","8","","","CC BY-SA 2.5","3761410","4452","4452","r","404559","3625322","3607736","",""
"3762634","1","","","2010-09-21 17:00:23","","1","7129","<p>I'm having trouble getting access to the pwr. This is on Ubuntu Lucid Lynx, 64 bit. </p>

<p>I'm installing pwr via <code>packages.install('pwr')</code>, and loading it via <code>library(pwr)</code>, both of which appear successful.</p>

<p>Strangely, I never get access to the pwr object in R.</p>

<p>I tried installing it to /usr/local/lib/R/site-library and ~/R/x86_64-pc-linux-gnu-library.</p>

<p>I also tried installing it with R CMD INSTALL pwr.</p>

<p>I have also tried installing it on my mac mini running Leopard but it can't even find the packages object, and CMD INSTALL pwr returns </p>

<blockquote>
  <p>invalid package 'pwr'</p>
</blockquote>

<p>What am I doing wrong? Thanks!</p>
","454227","","","user4275591","2014-12-08 10:37:57","2015-08-19 11:48:36","Can install, but can't access, the pwr package in R","<r>","1","0","","","","CC BY-SA 3.0","3762634","4452","4452","r","404559","3625322","3607736","",""
"3763518","1","3763648","","2010-09-21 18:59:28","","8","4265","<p>How can you reverse a string of numbers in R? </p>

<p>for instance, I have a vector of about 1000 six digit numbers, and I would like to know if they are palindromes.  I would like to create a second set which is the exact reverse, so I could do a matchup.</p>
","446667","","","","","2019-12-02 12:27:01","Reverse digits in R","<r><reverse><palindrome>","7","2","5","","","CC BY-SA 2.5","3763518","4452","4452","r","404559","3625322","3607736","",""
"3764292","1","3764352","","2010-09-21 20:39:23","","41","20092","<p>So let's say I have a directory with a bunch of .rdata files</p>

<pre><code>file_names=as.list(dir(pattern=""stock_*""))

[[1]]
[1] ""stock_1.rdata""

[[2]]
[1] ""stock_2.rdata""
</code></pre>

<p>Now, how do I load these files with a single call?</p>

<p>I can always do:</p>

<pre><code>for(i in 1:length(file_names)) load(file_names[[i]]) 
</code></pre>

<p>but why can't I do something like <code>do.call(load, file_names)</code>?
I suppose none of the apply functions would work because most of them would return lists but nothing should be returned, just that these files need to be loaded. I cannot get the <code>get</code> function to work in this context either. Ideas?</p>
","313163","","","","","2020-07-10 07:58:19","Loading many files at once?","<r>","3","0","24","","","CC BY-SA 2.5","3764292","4452","4452","r","404559","3625322","3607736","",""
"3765668","1","3767732","","2010-09-22 01:16:29","","19","22110","<p>I have one variable called <code>Started</code> which is the date on which human subjects enrolled in a study and another variable called <code>dos1</code> which is the date upon which the subject last had surgery. I want to work out how many months since their last surgery to the day of enrollment.  I tried:</p>

<pre><code>as.period(syrrupan$Started-syrrupan$dos1,units=c(""month""))
</code></pre>

<p>I expected this to give me something like: </p>

<pre><code>14, 18, 1, 26 
</code></pre>

<p>With each number being the number of months.</p>

<p>Instead I get:</p>

<pre><code>1 year, -4 months, -5 days and -1 hours   1 year, -5 months, -23 days and -1 hours   1 year, -7 months, 2 days and -1 hours   1 year, -8 months, -28 days and 1 hour   1 year, -7 months, -23 days and 1 hour.   
</code></pre>

<p>How can I get just the numeric value of months?</p>
","168139","","4470365","","2016-01-07 19:41:51","2020-07-14 13:33:06","Have lubridate subtraction return only a numeric value","<r><date><package><lubridate>","3","0","3","","","CC BY-SA 3.0","3765668","4452","4452","r","404559","3625322","3607736","",""
"3765754","1","3765787","","2010-09-22 01:40:29","","4","4991","<p>Is there an easy way to remove HTML tags from a character string in R?</p>

<p>Currently I'm extracting out survey data from an XML document and for the title of the question have HTML from the survey design in it, like this.</p>

<pre><code>""Why did you give this performance question a low score?&lt;br /&gt;""
</code></pre>

<p>Any way to easily remove the <code>&lt;br /&gt;</code>?</p>

<p>Any help would be appreciated.</p>
","435473","","","","","2019-04-08 19:59:31","Remove HTML tags from string (R Programming)","<html><r><tags>","1","1","1","","","CC BY-SA 2.5","3765754","4452","4452","r","404559","3625322","3607736","",""
"3765950","1","3766007","","2010-09-22 02:39:49","","33","32292","<p>I'd like to use R to make a series of boxplots which are sorted by median value. Suppose then I execute:</p>

<pre><code>boxplot(cost ~ type)
</code></pre>

<p>This would give me some boxplots were cost is shown on the y axis and the type category is visible on the x-axis:</p>

<pre><code>-----     -----
  |         |
 [ ]        |
  |        [ ]
  |         |
-----     -----
  A         B
</code></pre>

<p>However, what I'd like is the boxplot figures sorted from highest to lowest median value. My suspicion is that what I need to do is change the labels of the type (A or B) to numerically indicate which is the lowest and highest median value, but I wonder if there is a more clever way to solve the problem.</p>
","39584","","680068","","2017-12-12 20:34:39","2017-12-12 22:30:24","Sorting a boxplot based on median value","<r><boxplot>","3","0","11","","","CC BY-SA 2.5","3765950","4452","4452","r","404559","3625322","3607736","",""
"3766290","1","3767195","","2010-09-22 04:24:12","","-1","3652","<p>Read a list of files with R, each file contains a list of float numbers. what's the proper way to do it?</p>

<p>I'v never used R before. Just want to try a little bit of R</p>

<p>All files contains 121 float numbers, one number per line</p>

<p>any words will help. Thanks!</p>
","264442","","264442","","2010-09-22 04:48:45","2010-09-22 07:38:16","Read a list of files with R, each file contains a list of float numbers. what's the proper way to do it?","<r>","2","0","1","","","CC BY-SA 2.5","3766290","4452","4452","r","404559","3625322","3607736","",""
"3766586","1","","","2010-09-22 05:37:06","","2","509","<p>I have date that looks like this:</p>

<pre><code>""date"", ""sunrise""
2009-01-01, 05:31
2009-01-02, 05:31
2009-01-03, 05:33
2009-01-05, 05:34
....
2009-12-31, 05:29
</code></pre>

<p>and I want to plot this in R, with ""date"" as the x-axis, and ""sunrise"" as the y-axis.</p>
","454690","","","","","2010-09-22 08:16:39","How to plot sunrise over a year in R?","<r>","2","0","1","","","CC BY-SA 2.5","3766586","4452","4452","r","404559","3625322","3607736","",""
"3768417","1","3769742","","2010-09-22 10:42:42","","7","11827","<p>I tried to use <code>acast</code> from <code>reshape2</code> within a self written function, but had the problem that acast did not find the data I send to it.</p>

<p>Here is my data:</p>

<pre><code>library(""reshape2"")
x &lt;- data.frame(1:3, rnorm(3), rnorm(3), rnorm(3))    
colnames(x) &lt;- c(""id"", ""var1"", ""var2"", ""var3"")
y &lt;-melt(x, id = ""id"", measure = c(""var1"", ""var2"", ""var3""))
</code></pre>

<p><code>y</code> then looks like this:</p>

<pre><code>  id variable      value
1  1     var1  0.1560812
2  2     var1  1.0343844
3  3     var1 -1.4157728
4  1     var2  0.8808935
5  2     var2  0.1719239
6  3     var2  0.6723758
7  1     var3 -0.7589631
8  2     var3  1.1325995
9  3     var3 -1.5744876
</code></pre>

<p>now I can cast it back via <code>acast</code>:</p>

<pre><code>&gt; acast(y,y[,1] ~ y[,2])
        var1      var2       var3
1  0.1560812 0.8808935 -0.7589631
2  1.0343844 0.1719239  1.1325995
3 -1.4157728 0.6723758 -1.5744876
</code></pre>

<p>However, when writing a small wrapper for <code>acast</code> that should do the same, i get a stupid error messages:</p>

<pre><code>wrap.acast &lt;- function(dat, v1 = 1, v2 = 2) {
    out &lt;- acast(dat, dat[,v1] ~ dat[,v2])
    return(out)
}

wrap.acast(y)

Error in eval(expr, envir, enclos) : object 'dat' not found
</code></pre>

<p>The problem is obviously related to something like environments and global/local variables. As it gives other error messages after declaring <code>dat</code> in the global environment (i.e., <code>v1</code> and <code>v2</code> not found as long as they aren't global).</p>

<p><strong>I would like to use resahpe (especially acast) within a function without the necessity of declaring the variables outside the function. What is the trick?</strong></p>

<p>Thanks.</p>
","289572","","289572","","2010-09-22 12:36:06","2010-09-22 14:08:22","How to use acast (reshape2) within a function in R?","<r><function><global-variables><local-variables><reshape>","4","3","4","","","CC BY-SA 2.5","3768417","4452","4452","r","404559","3625322","3607736","",""
"3770589","1","3770714","","2010-09-22 15:02:34","","11","5139","<p>R newbie question here. I have a list called <code>dbdata</code>. Normally I use it like this:</p>

<pre><code>myresults &lt;- rlm(V001 ~ V002+V003, data=dbdata)
</code></pre>

<p>However, I would like to make these references dynamic. I need to have something like this:</p>

<pre><code>var1 &lt;- ""V001""
var2 &lt;- ""V002""
var3 &lt;- ""V003""
myresults &lt;- rlm(var1 ~ var2+var3, data=dbdata)
</code></pre>

<p>How would I reference the variables in the context of <code>rlm()</code>? I thought perhaps something like <code>eval()</code>, but that didn't work.</p>

<p>Thanks!</p>
","283763","","445565","user4275591","2021-04-15 11:27:12","2021-04-15 11:27:12","Strings as variable references in an R formula","<r>","2","0","5","","","CC BY-SA 4.0","3770589","4452","4452","r","404559","3625322","3607736","",""
"3770737","1","","","2010-09-22 15:14:30","","2","249","<p>I use a photoelectric cell to time an event in a response time experiment. It works well in Matlab, but I wanted to control it in R. Would any of you be able to help me translate the Matlab code to R?</p>

<pre><code>global AI ch0
AI = analoginput('nidaq', 1);
AI.InputType = 'SingleEnded';
ch0 = addchannel(AI,0);
</code></pre>

<p>Thanks!</p>
","409828","","","","","2010-09-23 19:45:31","How read an analogue input in R? / or how to translate an existing Matlab code","<r><matlab><input>","4","4","1","","","CC BY-SA 2.5","3770737","4452","4452","r","404559","3625322","3607736","",""
"3771877","1","3773070","","2010-09-22 17:19:11","","2","1183","<p>I have two matrices (of approximately 300 x 100) and I would like to plot a graph to see the parts of the first one that are higher than those of the second.</p>

<p>I can do, for instance:</p>

<pre><code># Calculate the matrices and put them into m1 and m2
# Note that the values are between -1 and 1
par(mfrow=c(1,3))
image(m1, zlim=c(-1,1))
image(m2, zlim=c(-1,1))
image(m1-m2, zlim=c(0,1))
</code></pre>

<p>This will plot only the desired regions in the 3rd plot but I would like to do something a bit different, like putting a line around those areas over the first plot in order to highlight them directly there.</p>

<p>Any idea how I can do that?</p>

<p>Thank you
nico</p>
","176923","","","","","2010-09-23 08:11:11","Graph to compare two matrices in R","<r><matrix>","3","2","","","","CC BY-SA 2.5","3771877","4452","4452","r","404559","3625322","3607736","",""
"3773969","1","3774173","","2010-09-22 22:04:52","","0","2948","<p>I have a fairly simple data.frame dput(x), below: </p>

<pre><code>x &lt;- structure(list(variable = c(""a"", ""b"", ""c"", ""d"", ""e"", ""f"", ""g"", 
""h"", ""i"", ""j"", ""k"", ""l"", ""m"", ""n"", ""o"", ""p""), top2 = c(0.51, 
0.24, 0.55, 0.36, 0.56, 0.67, 0.36, 0.22, 0.48, 0.6, 0.59, 0.06, 
0.04, 0.2, 0.26, 0.25), bottom = c(0.03, 0.05, 0.03, 0.01, 0.02, 
0.03, 0.01, 0.05, 0.03, 0, 0.03, 0.2, 0.11, 0.06, 0.16, 0.07)), .Names = c(""variable"", 
""top2"", ""bottom""), row.names = c(NA, -16L), class = ""data.frame"")
</code></pre>

<p>What I'd like to do is create a graph that shows top2 and bottom beside each other for each ""variable"". I'm trying to implement position=""dodge"" but so far it seems to be largely ignored by ggplot2</p>

<pre><code>ggplot() + geom_bar(aes(variable, top2), data=x, position=""dodge"") +
geom_bar(aes(x$variable, x$bottom), data=x, position=""dodge"", fill=""pink"") + 
coord_flip()
</code></pre>

<p>The pink isn't staying :P</p>
","170352","","","","","2010-09-24 13:43:13","ggplot: position=""dodge"" question","<r><ggplot2>","1","0","0","","","CC BY-SA 2.5","3773969","4452","4452","r","404559","3625322","3607736","",""
"3775007","1","3776704","","2010-09-23 02:23:23","","2","3941","<p>I have a function that I use to get a ""quick look"" at a data.frame... I deal with a lot of survey data and this acts as a quick tool to see what's what. </p>

<pre><code>f.table &lt;- function(x) {

    if (is.factor(x[[1]])) { 
        frequency &lt;- function(x) {
            x &lt;- round(length(x)/n, digits=2)
        }
        x &lt;- na.omit(melt(x,c()))
        x &lt;- cast(x, variable ~ value, frequency)
        x &lt;- cbind(x,top2=x[,ncol(x)]+x[,ncol(x)-1], bottom=x[,2])
    }

    if (is.numeric(x[[1]])) {
        frequency &lt;- function(x) { 
            x[x &gt; 1] &lt;- 1
            x[is.na(x)] &lt;- 0
            x &lt;- round(sum(x)/n, digits=2) 
            } 

        x &lt;- na.omit(melt(x))
        x &lt;- cast(x, variable ~ ., c(frequency, mean, sd, min, max))
        x &lt;- transform(x, variable=reorder(variable, frequency))
    }

return(x) 
}
</code></pre>

<p>What I find happens is that if I don't define ""frequency"" outside of the function, it returns wonky results for data frames with continuous variables. It doesn't seem to matter which definition I use outside of the function, so long as I do. </p>

<p>try: </p>

<pre><code>n &lt;- 100    
x &lt;- data.frame(a=c(1:25),b=rnorm(100),c=rnorm(100))
x[x &gt; 20] &lt;- NA 
</code></pre>

<p>Now, select either one of the frequency functions and paste them in and try it again: </p>

<pre><code>frequency &lt;- function(x) {
                x &lt;- round(length(x)/n, digits=2)
            }
f.table(x)
</code></pre>

<p>Why is that?</p>
","170352","","170352","","2010-09-23 02:31:18","2010-09-23 08:50:51","Function within function not activating as expected","<r>","2","4","1","","","CC BY-SA 2.5","3775007","4452","4452","r","404559","3625322","3607736","",""
"3775435","1","3776958","","2010-09-23 04:20:34","","1","3301","<p>I used to have 2 factor by 2 level experiment that got made into a 3 factor by 2 level experiment.</p>

<p>By using paste I could make 4 unique groups from my two factors and run a Fisher test with the outcome being whether an organism lived or died.</p>

<pre><code>fisher.test(mortal$alv.dead,paste(mortal$Strain,mortal$capsule))
</code></pre>

<p>But then when I wanted to investigate pairwise comparisons between the individual groups I had to make some inelegant filtering so that only two groups entered the analysis at a time. Now that I have more groups it is too tedious to hand code each paring. So here is the Fisher test to test all the groups in one analysis</p>

<pre><code>fisher.test(mortal$alv.dead,paste(mortal$Strain,mortal$capsule,mortal$cassette))
</code></pre>

<p>How do I set up a method that creates and tests all possible pairings?</p>
","168139","","4370109","","2019-02-13 20:43:29","2019-02-13 20:43:29","Post-hoc pairwise fisher exact test","<r>","1","3","","","","CC BY-SA 4.0","3775435","4452","4452","r","404559","3625322","3607736","",""
"3775678","1","","","2010-09-23 05:38:14","","0","15140","<p>I would like to make a scatter plot using R base graphics, though I can use ggplot if it is necesary.  I have a data frame containing the x and y coordinates, and also two other covariates, call them a and b.  I would like the size of each point to vary with a (high values of a -> larger points) and the brightness/solidity of each point to vary with b (so that those points with low enough b are practically invisiable).  Does anyone have any advice on how to do this?  The documentation for R graphics seems comprehensive, but so general and high-level that I scarcely know where to begin.
Thanks for your help</p>
","377282","","","","","2010-09-23 12:57:24","Changing size of points in R","<r><graphics><plot>","3","0","","","","CC BY-SA 2.5","3775678","4452","4452","r","404559","3625322","3607736","",""
"3777174","1","3780353","","2010-09-23 09:53:40","","324","518083","<p>A very newbish question, but say I have data like this:</p>

<pre><code>test_data &lt;-
  data.frame(
    var0 = 100 + c(0, cumsum(runif(49, -20, 20))),
    var1 = 150 + c(0, cumsum(runif(49, -10, 10))),
    date = seq(as.Date(""2002-01-01""), by=""1 month"", length.out=100)
  )
</code></pre>

<p>How can I plot both time series <code>var0</code> and <code>var1</code> on the same graph, with <code>date</code> on the x-axis, using <code>ggplot2</code>?  Bonus points if you make <code>var0</code> and <code>var1</code> different colours, and can include a legend!</p>

<p>I'm sure this is very simple, but I can't find any examples out there.</p>
","103225","","1851712","","2018-05-02 11:37:25","2020-03-06 21:53:42","Plotting two variables as lines using ggplot2 on the same graph","<r><ggplot2><graph><time-series><r-faq>","5","0","131","","","CC BY-SA 3.0","3777174","4452","4452","r","404559","3625322","3607736","",""
"3778084","1","3778466","","2010-09-23 11:56:53","","46","195467","<p>How can I adjust only the size of Y-axis labels in R?</p>

<p>I know that cex.axis alters the size of the axis labels but it only affects the x-axis. Why, and how can I adjust the y axis?</p>
","333758","","2104287","","2014-11-15 10:46:27","2014-11-15 10:46:27","How to adjust the size of y axis labels only in R?","<r><plot><labels>","3","0","7","","","CC BY-SA 3.0","3778084","4452","4452","r","404559","3625322","3607736","",""
"3779864","1","3780455","","2010-09-23 15:20:27","","16","9161","<p>I am writing a package in R and I would appreciate some example bash code to process the Rd files  to latex and then to pdf.</p>

<p>It is in the directory ~/mypkg/dev/. I have generated the file structure and Rd templates. </p>

<p>from ~/mypkg/dev/man, I have tried </p>

<pre><code>R CMD Rdconv -o mypkg-package.tex --type=latex mypkg-package.Rd
</code></pre>

<p>mypkg-package.tex file is generated, but </p>

<pre><code>pdflatex mypkg-package.tex
</code></pre>

<p>generates tex without any preamble.  </p>

<p>I have read the documentation in ""Writing R extensions"" and ""R CMD Rdconv --help"" on this subject, but no examples are provided.</p>

<p>Thank you</p>
","199217","","199217","","2010-09-23 15:49:00","2017-02-17 17:40:04","How do I convert Rd files to pdf for a package that I am creating in R?","<r>","4","0","9","","","CC BY-SA 2.5","3779864","4452","4452","r","404559","3625322","3607736","",""
"3780776","1","3781315","","2010-09-23 17:03:07","","1","819","<p>I'd like to include the glyph used in a scatter plot directly in a text annotation. </p>

<p>E.g.,  Suppose I have: </p>

<pre><code>g &lt;- g + geom_text(aes(x=14, y = 17, label=""GOOD"")) 
</code></pre>

<p>where g is a scatter plot w/ a linear trend line, labeled by ""GOOD"" at (14,17). Instead of 
""GOOD"", I'd like to have ""X = GOOD"" where X is a plotting glyph (e.g., a hollow triangle, circle etc.) used in the scatter plot. This way I can dispense w/ the legend.   </p>
","271844","","","","","2010-09-24 10:36:50","How do I include plotting symbol glyphs in a text annotation in ggplot2?","<r><ggplot2>","2","0","","","","CC BY-SA 2.5","3780776","4452","4452","r","404559","3625322","3607736","",""
"3781058","1","3781260","","2010-09-23 17:37:59","","2","2276","<p>Say, I have a variable <code>rv</code> which has some numerical value. Now, I want to plot the value of this variable on a base plot but preceded by a nicely formatted symbol e.g., r subscript m, using <code>expression</code>. To write on the plot I use <code>mtext</code>.<br>
However, what I get is either the value of the variable, but no nicely formatted symbol (left annotation), or a nicely formatted symbol, but not the value of the variable, but the variable name...</p>

<p>I  tried to play around with <code>eval</code>, but didn't get what I wanted. Here is my code:  </p>

<pre><code>plot(1:10, rep(10,10), ylim=c(0,12))
rv &lt;- 0.43

#left annotation:
mtext(paste(expression(italic(r[M])), "" = "", rv), side = 1, line = -1.5, adj = 0.1)
#right annotation:
mtext(expression(paste(italic(r[M]), "" = "", rv)), side = 1, line = -1.5, adj = 0.9)
</code></pre>

<p>This is the result:
<img src=""https://i.stack.imgur.com/YIr5J.png"" alt=""alt text""> </p>

<p><strong>How do i get both, nice format and value of the variable?</strong> Thanks.</p>

<p>btw: I know that I can get it, if I use two times <code>mtext</code> and play around with <code>adj</code> and stuff. But I would really like to get it in one call or without playing around with the position of two annotations.</p>
","289572","","289572","","2010-09-23 17:44:47","2010-09-23 18:06:57","How to add nice formated anotations to a R base graph using expression and the value of a variable?","<r><formatting><graph>","2","0","1","","","CC BY-SA 2.5","3781058","4452","4452","r","404559","3625322","3607736","",""
"3782337","1","3782694","","2010-09-23 20:33:04","","4","2399","<p>I'm working on filling in an Rd file for a function.</p>

<p>When I use \eqn{2^{x}} in the Details section, then build and install the package, there is no superscripted exponent.</p>

<p>Looking at R-exts.pdf, it points to Poisson.Rd as an example on how to use \eqn or \deqn. In the example in that file, there is a superscripted exponent.</p>

<p>When I look at the help file for Poisson (<code>?Poisson</code>), There are no superscripted exponents.</p>

<p>Is this an issue on my computer or is this standard behavior?</p>

<p>Thanks!</p>

<pre><code>&gt; sessionInfo()
R version 2.11.1 (2010-05-31) 
i386-apple-darwin9.8.0 

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
[1] cimis_0.1-3    RLastFM_0.1-4  RCurl_1.4-2    bitops_1.0-4.1 XML_3.1-0      lattice_0.18-8

loaded via a namespace (and not attached):
[1] grid_2.11.1  tools_2.11.1
</code></pre>
","309600","","","","","2017-11-28 19:54:32","Mathematical notion/superscripts in Rd files","<r><documentation>","2","0","","","","CC BY-SA 2.5","3782337","4452","4452","r","404559","3625322","3607736","",""
"3783157","1","","","2010-09-23 23:09:24","","1","378","<p>I have a function that requires both a S4 object and a data frame as arguments. </p>

<p>But functions like <code>lapply</code> and <code>llply</code> will only allow one list and one function.
example: <code>new_list=llply(list, function)</code></p>

<p>I could make a single list with alternating S4 object and data but <code>llply</code> will push one list item at a time which means that it will either be the S4 object or the data (the function cannot perform with just one or the other). </p>

<p>In some sense what I am looking for is akin to a 2D list (where each row has the S4 obj and data and a row gets pushed through at a time).</p>

<p>So how would I make this work?</p>

<p>Here's a more general version of my problem. If I have a function like so:</p>

<pre><code>foobar &lt;- function(dat, threshold=0.5, max=.99)
{
...
}
</code></pre>

<p>and I wanted to push a list through this function, I could do:</p>

<pre><code>new_list=llply(list, foobar)
</code></pre>

<p>but if I also wanted to pass a non-default value for threshold or max, how would I do so in this context?</p>
","313163","","313163","","2010-09-24 00:51:37","2010-09-24 02:42:14","How does one pass multiple data types in llply?","<r>","2","0","2","","","CC BY-SA 2.5","3783157","4452","4452","r","404559","3625322","3607736","",""
"3783582","1","3783863","","2010-09-24 01:18:07","","4","6834","<p>This question is similar to the previous one.</p>

<p>I am providing this example data to get my question across.</p>

<pre><code>id=c(1,2,3,4,5,6,7,8,9,10) 
var1=c(0,1,2,0,6,9,0,0,3,0) 
var2=c(0,0,2,3,0,0,0,5,0,0)
var3=c(0,1,4,3,6,9,0,5,3,0) 
data=data.frame(id,var1,var2, var3) 
</code></pre>

<p>What I need is:
if values of <code>var1==var2</code>, then make <code>var3==NA</code> but if they are not then keep the value of <code>var3</code>. 
Would be glad to get it done using the <code>ifelse</code> function in R but other options are welcomed.</p>

<p>I hope that the question is clear enough.</p>

<p>Regards,
Bazon</p>
","438498","","172261","","2010-09-24 07:04:39","2010-09-24 13:31:37","if values of two columns are equal, change the value of resultant column to NA and if not keep to original value of resultant column - using R","<r><multiple-columns>","2","0","","","","CC BY-SA 2.5","3783582","4452","4452","r","404559","3625322","3607736","",""
"3784187","1","3784240","","2010-09-24 04:25:44","","10","2320","<p>Using R's builtin ToothGrowth example dataset, this works:</p>

<pre><code>ddply(ToothGrowth, .(supp,dose), function(df) mean(df$len)) 
</code></pre>

<p>But I would like to have the subsetting factors be variables, something like</p>

<pre><code>factor1 = 'supp'
factor2 = 'dose'
ddply(ToothGrowth, .(factor1,factor2), function(df) mean(df$len)) 
</code></pre>

<p>That doesn't work. How should this be done?</p>

<p>I thought perhaps something like this:</p>

<pre><code>factorCombo = paste('.(',factor1,',',factor2,')', sep='') 
ddply(ToothGrowth, factorCombo, function(df) mean(df$len)) 
</code></pre>

<p>But it doesn't work either. I think I am close, but not sure the proper way to do it. I suppose the entire command could be put into a string, followed by an eval() call of the string, but hopefully is there a more elegant way?</p>
","302378","","","","","2010-09-24 04:44:09","How to use string variables to create variables list for ddply?","<r><plyr>","1","0","","","","CC BY-SA 2.5","3784187","4452","4452","r","404559","3625322","3607736","",""
"3784617","1","3785511","","2010-09-24 06:08:50","","4","2223","<p>I generated a file which contains a logical value either a ""TRUE"" or a ""FALSE"" on each line. Now I would like to read the logical data from the file into R. However the data that are read in are of mode ""character"" not logical values. I was wondering how to read the data as logical values from the file.</p>

<p>My R code is</p>

<pre><code>cat(FALSE,""\n"", file=""1.txt"", append=FALSE);
for (i in 2:5) cat(TRUE,""\n"",file=""1.txt"", append=TRUE);
a=scan(file=""1.txt"", what=""logical"")
</code></pre>

<p>The output is:</p>

<pre><code>&gt; mode(a)
[1] ""character""
&gt; mode(a[1])
[1] ""character""
&gt; a[1]
[1] ""FALSE""
</code></pre>

<p>I want a[1] to be logical value.</p>

<p>Thanks and regards!</p>
","156458","","","","","2010-09-24 15:44:07","How to read logical data from a file in R","<r>","2","0","","","","CC BY-SA 2.5","3784617","4452","4452","r","404559","3625322","3607736","",""
"3785089","1","3785321","","2010-09-24 07:43:19","","81","215275","<p>How can I change the spacing of tick marks on the axis of a plot?</p>

<p>What parameters should I use with base plot or with <code>rgl</code>?</p>
","425895","","2204410","","2017-08-27 08:43:56","2018-09-12 14:31:44","Change the spacing of tick marks on the axis of a plot?","<r><plot>","5","1","36","","","CC BY-SA 3.0","3785089","4452","4452","r","404559","3625322","3607736","",""
"3785320","1","3785550","","2010-09-24 08:18:27","","22","22897","<p>This is really a newbie question - but basically, how do I enable a template for certain filetypes.</p>

<p>Basically, I just want the template to insert a header of sorts, that is with some functions that I find useful, and libraries loaded etc.</p>

<p>I interpret </p>

<pre><code>:help templates
</code></pre>

<p>the way that I should place this in my vimrc</p>

<pre><code>au BufNewFile,BufRead ~/.vim/skeleton.R
</code></pre>

<p>Running a R script then shows that something could happen, but apparently does not:</p>

<pre><code>--- Auto-Commands ---
</code></pre>

<p>This may be because a template consists of commands (and there are no such in skeleton.R) - and in this case I just want it to insert a text header (which skelton.R consist of).</p>

<p>Sorry if this question is mind boggeling stupid ;-/</p>
","162832","","6447634","","2017-07-01 10:21:02","2018-11-12 03:31:53","How to use a template in vim","<r><vim>","7","1","14","","","CC BY-SA 3.0","3785320","4452","4452","r","404559","3625322","3607736","",""
"3786189","1","3787626","","2010-09-24 10:34:50","","6","18761","<p>Could you give me an example on how to use rgl to plot 3 variables at the axes x, y and z and a fourth one with different colours?</p>

<p>thanks</p>
","425895","","21234","","2010-09-24 10:37:03","2015-02-27 16:01:59","R: 4D plot, x, y, z, colours","<r><plot>","3","1","8","","","CC BY-SA 2.5","3786189","4452","4452","r","404559","3625322","3607736","",""
"3786988","1","","","2010-09-24 12:20:08","","1","280","<p>Friends</p>

<p>I'm trying t set up a <code>matrix</code> or <code>data.frame</code> for a canonical correlation analysis. The original dataset has a column designating one of x conditions and subsequent columns of explanatory variables. I need to set up an array that sets an indicator variable for each condition ""x"". eg. Columns in df are:  </p>

<pre><code>ID cond task1 taskN  
A, x, 12, 14  
B, x, 13, 17  
C, y, 11, 10  
D, z, 10, 13  
</code></pre>

<p>here ""cond"" can be x,y,z,... (can vary, so I don't know how many). This needs to go to:   </p>

<pre><code>ID, x, y, z, task1, taskN  
A, 1, 0, 0, 12, 14  
B, 1, 0, 0, 13, 17  
C, 0, 1, 0, 11, 10  
D, 0, 0, 1, 10, 13  
</code></pre>

<p>So, I can set up the indicators in an array </p>

<pre><code>iv&lt;-as.data.frame(array(,c(nrow(df),length(levels(cond)))))  
</code></pre>

<p>and then <code>cbind</code> this to df, but I can't figure out how to go into the array and set the appropriate indicator to ""1"" and the rest to ""0"".</p>

<p>Any suggestions?</p>

<p>Thanks</p>

<p>Jon</p>
","452923","","168747","","2010-09-24 13:26:05","2010-09-28 06:13:23","r row-wide conditional replacement","<r>","4","0","","","","CC BY-SA 2.5","3786988","4452","4452","r","404559","3625322","3607736","",""
"3787231","1","3788097","","2010-09-24 12:54:40","","36","72789","<p>I will be analysing vast amount of network traffic related data shortly, and will pre-process the data in order to analyse it. I have found that R and SPSS are among the most popular tools for statistical analysis. I will also be generating quite a lot of graphs and charts. Therefore, I was wondering what is the basic difference between these two softwares. </p>

<p>I am not asking which one is better, but just wanted to know what are the difference in terms of workflow between the two (besides the fact that SPSS has a GUI). I will be mostly working with scripts in either case anyway so I wanted to know about the other differences.</p>
","213334","","4895725","","2017-04-04 12:18:23","2021-01-26 06:46:33","R and SPSS difference","<r><statistics><spss><data-analysis>","12","0","21","","","CC BY-SA 3.0","3787231","4452","4452","r","404559","3625322","3607736","",""
"3787886","1","3792872","","2010-09-24 14:11:31","","2","1074","<p>I'm extending <a href=""http://r-forge.r-project.org/scm/viewvc.php/pkg/svUnit/?root=sciviews"" rel=""nofollow noreferrer"">svUnit</a> (a unit testing suite for R, part of <a href=""http://www.sciviews.org/SciViews-R/"" rel=""nofollow noreferrer"">sciViews</a>) so that it produces also output that can be read by Hudson.  actually I already have something that does this, but it does not handle 'deactivated' tests.</p>

<p>to see what I mean, have a look at the <code>protocol_junit.svTestData</code> method in the <a href=""http://r-forge.r-project.org/scm/viewvc.php/pkg/svUnit/R/svTestData.R?view=markup&amp;root=sciviews"" rel=""nofollow noreferrer"">svTestData.R</a> file.</p>

<p>the problem is that I did not manage to find any definition of the schema accepted by Hudson and I did manage to convince a Java project to fail and error, so that its test suite would add a <code>&lt;failure/&gt;</code> and <code>&lt;error/&gt;</code> element inside of a few <code>&lt;testcase/&gt;</code> elements, but I did not manage to see what happens with a <code>@Ignore @Test</code> decoration.</p>

<p>many others have asked this same question, for example <a href=""https://stackoverflow.com/questions/442556"">here too</a>, but in the end one gets to <a href=""http://ant.1045680.n5.nabble.com/schema-for-junit-xml-output-td1375274.html"" rel=""nofollow noreferrer"">this page</a> which is a good starting point but is not complete.  for example, it does not mention the <code>&lt;error/&gt;</code> element I discovered by trial and error.</p>

<p>I tried to read the source read by Hudson, but I did not find where to start.</p>

<p>any hints?</p>
","78912","","-1","","2017-05-23 12:04:09","2011-04-21 12:16:49","producing a correct and complete xml unit testing report (for Hudson)","<unit-testing><r><hudson><junit4><jenkins>","1","1","3","","","CC BY-SA 3.0","3787886","4452","4452","r","404559","3625322","3607736","",""
"3788188","1","3788324","","2010-09-24 14:45:38","","1","114","<p>I have some irregularly spaced data, say table A. The frequency is every 2-5 days. I have another data set, table B, which has entries for every weekday. I want to run the following regression:</p>

<p>A_{t} = alpha + beta1 * B_{t-2 months} + error</p>

<p>where, when I lag B, if there isn't something that isn't exactly 60 days ago, e.g. if 60 days ago was a Sunday, then just pick the next Monday. I can of course construct this w/ a for loop, but what is the R way. Currently, the data are store in MySQL tables and I am using RMySQL to access.</p>

<p>Thanks for the help.</p>
","318976","","","","","2010-09-24 15:13:10","correctly lagging with irregularly spaced data","<r>","1","0","1","","","CC BY-SA 2.5","3788188","4452","4452","r","404559","3625322","3607736","",""
"3788944","1","","","2010-09-24 16:11:43","","4","173","<p>Is there anything I can do to get partial results from after bumping into errors in a big file? I am using the following command to import data from files. This is the fastest way I know, but it's not robust. It can easily screw up everything because of a small error. I hope at least there is way that scan(or any reader) can quickly return which row/line has the error, or partial results it read (than I will have an idea where the error is). Then, I can skip enough lines to recover over 99% good data. </p>

<pre><code>rawData = scan(file = ""rawData.csv"", what = scanformat, sep = "","", skip = 1, quiet = TRUE, fill = TRUE, na.strings = c(""-"", ""NA"", ""Na"",""N""))
</code></pre>

<p>All importing data tutorials I found seem to assume the files are in good shape. I didn't find a useful hint to deal with dirty files. </p>

<p>I will sincerely appreciate any hint or suggestion! It was really frustrating. </p>
","457501","","","user4275591","2014-12-08 10:43:51","2014-12-08 10:43:51","Can scan (or any import function) return partial results after it bump into errors?","<r>","2","0","3","","","CC BY-SA 3.0","3788944","4452","4452","r","404559","3625322","3607736","",""
"3789260","1","","","2010-09-24 16:52:21","","10","3653","<p>I have a pre-binned frequency table for a rather large dataset. That is, a single column vector of bins and a single column vector of counts associated with those bins. I'd like R to plot a histogram of this data by doing further binning and summing the existing counts. For example, if in the pre-binned data I have something like [(0.01, 5000), (0.02, 231), (0.03, 948)], where the first number is the bin and the second is the count, and I choose 0.04 as the new bin width, I'd expect to get [(0.04, 6179)]. What's the fastest and or easiest way to do this in R?</p>
","457538","","4370109","","2015-12-03 21:04:30","2015-12-03 21:04:30","How to Plot a Pre-Binned Histogram In R","<r><dataset><histogram><binning>","2","0","1","","","CC BY-SA 2.5","3789260","4452","4452","r","404559","3625322","3607736","",""
"3789549","1","3790025","","2010-09-24 17:32:03","","32","45638","<p>What I'd like to do is take this matrix: </p>

<pre><code>&gt; partb
                0.5  1.5   1a   1b   -2   -3
A1FCLYRBAB430F 0.26 0.00 0.74 0.00 0.00 0.00
A1SO604B523Q68 0.67 0.33 0.00 0.00 0.00 0.00
A386SQL39RBV7G 0.00 0.33 0.33 0.33 0.00 0.00
A3GTXOXRSE74WD 0.41 0.00 0.08 0.03 0.05 0.44
A3OOD9IMOHPPFQ 0.00 0.00 0.33 0.00 0.33 0.33
A8AZ39QM2A9SO  0.13 0.54 0.18 0.13 0.00 0.03
</code></pre>

<p>And then make a heatmap that has each of the values in the now colored cells. </p>

<p>Making a heatmap is easy:</p>

<pre><code>&gt; heatmap( partb, Rowv=NA, Colv=NA, col = heat.colors(256),  margins=c(5,10))
</code></pre>

<p>But for the life of me I can't figure out how to put the value in each of the cells. </p>

<p>What am I missing? Surely this is a common thing.</p>
","419842","","","","","2020-04-12 16:05:38","display a matrix, including the values, as a heatmap","<r><heatmap>","6","0","6","","","CC BY-SA 2.5","3789549","4452","4452","r","404559","3625322","3607736","",""
"3789968","1","3790309","","2010-09-24 18:41:04","","18","28272","<p>I'm trying to generate a list of primes below 1 billion.  I'm trying this, but this kind of structure is pretty shitty.  Any suggestions?</p>

<pre><code>a &lt;- 1:1000000000
d &lt;- 0
b &lt;- for (i in a) {for (j in 1:i) {if (i %% j !=0) {d &lt;- c(d,i)}}}
</code></pre>
","446667","","2204410","","2017-09-18 07:08:49","2020-09-12 19:13:21","Generate a list of primes up to a certain number","<algorithm><r><primes>","11","3","14","","","CC BY-SA 3.0","3789968","4452","4452","r","404559","3625322","3607736","",""
"3790012","1","","","2010-09-24 18:46:43","","4","528","<p>I'm examining some biological data which is basically a long list (a few million values) of integers, each saying how well this position in the genome is covered. Here is a graphical example for a data set:
<img src=""https://i.stack.imgur.com/5UEOg.png"" alt=""alt text"">
<img src=""https://i.stack.imgur.com/tlaV1.png"" alt=""alt text""></p>

<p>I would like to look for ""valleys"" in this data, that is, regions which are significantly lower than their surrounding environment.</p>

<p>Note that the size of the valleys I'm looking for is not really known - it may range from 50 bases to a few thousands. Defining what is a valley is of course one of the questions I'm struggling with, but the previous examples are relatively easy for me:
<img src=""https://i.stack.imgur.com/MaR6O.jpg"" alt=""alt text"">
<img src=""https://i.stack.imgur.com/GP9UZ.jpg"" alt=""alt text""></p>

<p>What kind of paradigms would you recommend using to find those valleys? I mainly program using Perl and R.</p>

<p>Thanks!</p>
","377031","","","","","2014-10-24 18:08:10","How can I find low regions in a graph using Perl/R?","<perl><r><statistics><graph>","3","2","2","","","CC BY-SA 2.5","3790012","4452","4452","r","404559","3625322","3607736","",""
"3790116","1","3793955","","2010-09-24 19:01:52","","8","2638","<p>I am analyzing a dataset in which data is clustered in several groups (towns in regions). The dataset looks like: </p>

<pre><code>R&gt; df &lt;- data.frame(x = rnorm(10), 
                     y = 3*rnorm(x), 
                     groups = factor(sample(c('0','1'), 10, TRUE)))
R&gt; head(df)
        x     y groups
1 -0.8959  1.54      1
2 -0.1008 -2.73      1
3  0.4406  0.44      0
4  0.0683  1.62      1
5 -0.0037 -0.20      1
6 -0.8966 -2.34      0
</code></pre>

<p>I want my lm() estimates to account for intraclass correlation in groups and for that purpose I am using a function <code>cl()</code> that takes an <code>lm()</code> and returns the robust clustered covariance matrix (original <a href=""http://people.su.se/~ma/clustering.pdf"" rel=""noreferrer"">here</a>):</p>

<pre><code>cl  &lt;- function(fm, cluster) {
  library(sandwich)
  M &lt;- length(unique(cluster))   
  N &lt;- length(cluster)              
  K &lt;- fm$rank                   
  dfc &lt;- (M/(M-1))*((N-1)/(N-K-1))
  uj  &lt;- apply(estfun(fm), 2, function(x) tapply(x, cluster, sum));
  vcovCL &lt;- dfc * sandwich(fm, meat = crossprod(uj)/N)
  return(vcovCL)
}
</code></pre>

<p>Now, </p>

<pre><code>output &lt;- lm(y ~ x, data = df)
clcov &lt;- cl(output, df$groups)
coeftest(output, clcov, nrow(df) - 1)
</code></pre>

<p>gives me the estimates I need. The problem now is that I want to use the model for prediction, and I need the standard error of the prediction to be calculated with the new covariance matrix <code>clcov</code>. That is, I need</p>

<pre><code>predict(output, se.fit = TRUE)
</code></pre>

<p>but using <code>clcov</code> instead of <code>vcov(output)</code>. Something like a <code>vcov() &lt;-</code> would be perfect. </p>

<p>Of course, I could write my own function to do predictions, but I am just wondering whether there is a more practical method that allows me to use methods for signature <code>lm</code> (like arm::sim).</p>
","346667","","346667","","2010-09-25 00:20:30","2012-01-27 21:18:32","Using clustered covariance matrix in predict.lm()","<r>","2","2","4","","","CC BY-SA 2.5","3790116","4452","4452","r","404559","3625322","3607736","",""
"3791039","1","3791271","","2010-09-24 21:13:16","","1","956","<p>I have a melted data.frame, dput(x), below:</p>

<pre><code>## dput(x)    
x &lt;- structure(list(variable = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 
2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 4L, 4L, 4L, 4L, 
4L, 4L), .Label = c(""a"", ""b"", ""c"", ""d""), class = ""factor""), 
value = structure(c(1L, 
2L, 3L, 4L, 5L, 6L, 1L, 2L, 3L, 4L, 5L, 6L, 1L, 2L, 3L, 4L, 5L, 
6L, 1L, 2L, 3L, 4L, 5L, 6L), .Label = c(""Never Heard of"", 
""Heard of but Not at all Familiar"", 
""Somewhat Familiar"", ""Familiar"", ""Very Familiar"", ""Extremely Familiar""
), class = ""factor""), freq = c(10L, 24L, 32L, 90L, 97L, 69L, 
15L, 57L, 79L, 94L, 58L, 19L, 11L, 17L, 34L, 81L, 94L, 85L, 4L, 
28L, 59L, 114L, 82L, 35L)), .Names = c(""variable"", ""value"", ""freq""
), row.names = c(NA, -24L), class = ""data.frame"")
</code></pre>

<p>Which looks like this (for those of you who don't need a test set):</p>

<pre><code>   variable                            value freq
1         a                   Never Heard of   10
2         a Heard of but Not at all Familiar   24
3         a                Somewhat Familiar   32
4         a                         Familiar   90
5         a                    Very Familiar   97
6         a               Extremely Familiar   69
7         b                   Never Heard of   15
8         b Heard of but Not at all Familiar   57
9         b                Somewhat Familiar   79
10        b                         Familiar   94
11        b                    Very Familiar   58
12        b               Extremely Familiar   19
13        c                   Never Heard of   11
14        c Heard of but Not at all Familiar   17
15        c                Somewhat Familiar   34
16        c                         Familiar   81
17        c                    Very Familiar   94
18        c               Extremely Familiar   85
19        d                   Never Heard of    4
20        d Heard of but Not at all Familiar   28
21        d                Somewhat Familiar   59
22        d                         Familiar  114
23        d                    Very Familiar   82
24        d               Extremely Familiar   35
</code></pre>

<p>Now, I can make a nice and pretty plot akin to this: </p>

<pre><code>ggplot(x, aes(variable, freq, fill = value)) + 
geom_bar(position = ""fill"") + 
coord_flip() + 
scale_y_continuous("""", formatter=""percent"")
</code></pre>

<h2>Question</h2>

<p>What I would like to do is sort a,b,c,d by the highest to lowest ""freq"" of ""Extremely Familiar""</p>

<p><code>?relevel</code> and <code>?reorder</code> haven't provided any constructive examples for this usage. </p>

<p>Your help, is always appreciated. </p>

<p>Cheers, </p>

<p>BEB</p>
","170352","","170352","","2010-09-24 21:23:34","2010-09-24 22:00:06","ggplot2 sorting a plot Part II","<r><ggplot2>","2","0","2","","","CC BY-SA 2.5","3791039","4452","4452","r","404559","3625322","3607736","",""
"3792803","1","3793183","","2010-09-25 06:43:10","","15","36661","<p>I searched for this and found that with {grid} there are ways to rotate an image, and that for some plots you can play with their rotation (for example plot(x,y) instead of plot(y,x)). </p>

<p>However, I want to know if there is <strong>a generic method to rotate a plot in R</strong> (one that would work for ANY plot generated in base graphics) ?</p>
","256662","","","","","2016-03-21 10:15:58","Is it possible to rotate a plot in R (base graphics)?","<r><rotation><plot>","6","2","2","","","CC BY-SA 2.5","3792803","4452","4452","r","404559","3625322","3607736","",""
"3792846","1","3793339","","2010-09-25 06:59:50","","21","47974","<p>I am trying to export a data.frame to a csv with utf-8 encoding. I have tried generating the file with write.csv with no success and the help(write.csv) did not mention any specific advice on creating that specific output. Here is my current export line.</p>

<pre><code>write.csv(prod_out, file=""product_output.csv"",append=FALSE,eol=""\r"")
</code></pre>

<p>Any advice you can offer is appreciated. </p>
","302274","","","","","2016-11-04 13:48:09","How to export a csv in utf-8 format?","<r>","2","0","7","","","CC BY-SA 2.5","3792846","4452","4452","r","404559","3625322","3607736","",""
"3793964","1","","","2010-09-25 13:18:41","","0","438","<p>When using aggregate, how can I make reference to a previous period within the function? 
For example if aggregating by days how can make reference to the previous day from the next day in order to calculate the function.</p>

<p>For example if I had a one year hourly time series and I like to calculate the maximum of one day minus the minimum of the previous day I could use two different aggregates, shifting one of them and substracting from the other, but how could I do it all from within just one aggregate?</p>

<p>How can I know the number of the piece (here the day) where am I in order to use it inside the function?</p>

<p>cheers</p>
","425895","","429846","","2013-03-27 03:09:46","2013-03-27 03:09:46","How to reference to other periods or columns when using aggregate()","<r><aggregate>","1","5","0","","","CC BY-SA 3.0","3793964","4452","4452","r","404559","3625322","3607736","",""
"3794413","1","3794732","","2010-09-25 15:36:22","","1","229","<p>This is comp sci 101 stuff, but I couldn't find an answer applicable to R (or matlab).</p>

<p>I have a <code>for</code> loop that I want to initialize with a first guess (all zeros here, but maybe something else later), but I want to keep updating with each iteration. What I have below works, but it kind of clunky and embarrassing.</p>

<p>I would like to avoid the one iteration before the <code>for</code> loop. I could do it with an <code>ifelse</code> inside the loop, but that seems inefficient. Thanks!</p>

<pre><code>alpha &lt;- 0.3
beta &lt;- 0.6
m &lt;- 5 # elements in k
n &lt;- 10 # iterations
k.prime &lt;- v &lt;- matrix(0, n, m)
k &lt;- seq(from=0.04, to=0.2, length.out=m) # poss values for k
colnames(v) &lt;- colnames(k.prime) &lt;- round(k, digits=2)

# first loop for taking the first guess for v()
i &lt;- 1
for (j in 1:m) {
    temp.v &lt;- log(k[j]^alpha - k) + beta*rep(0, times=m)
    v[i, j] &lt;- max(temp.v)
    k.prime[i, j] &lt;- k[which.max(temp.v)]
}

# remaining loops
for (i in 2:n) {
    for (j in 1:m) {
        temp.v &lt;- log(k[j]^alpha - k) + beta*v[i-1, ]
        v[i, j] &lt;- max(temp.v)
        k.prime[i, j] &lt;- k[which.max(temp.v)]
    }
}

v 
k.prime
</code></pre>
","334755","","334755","","2010-09-25 16:08:19","2010-09-25 17:30:17","-- How to start a loop with a first guess?","<r><loops><for-loop>","2","4","","","","CC BY-SA 2.5","3794413","4452","4452","r","404559","3625322","3607736","",""
"3795220","1","3795824","","2010-09-25 19:26:25","","0","254","<p>I'm trying to fit a function consisting of several gauss bells to some experimental data. The method used is the nls function from R. But it is difficult to get the initial guess good enough, such that the method can converge.</p>

<p>Is it possible to visualize the initial guess BEFORE the optimization routine is called?</p>

<p>The code I'm working on is shown below (I cannot provide access to the datafile).</p>

<pre><code>library(signal)
# Load data from file
spectre &lt;- read.table(""LIA159.UXD"")

# Extract variables and perform median filtering of the signal count
scatterangle &lt;- spectre$V1
signal &lt;- medfilt1(spectre$V2, n = 5)

#Perform a non linear fit of several gauss bells to the signal peaks
res &lt;- nls( signal ~ bg + a*scatterangle 
    + h1*exp(-((scatterangle - m1)/s1)^2) 
    + h2*exp(-((scatterangle - m2)/s2)^2) 
    + h3*exp(-((scatterangle - m3)/s3)^2)
    + h4*exp(-((scatterangle - m4)/s4)^2)
    + h5*exp(-((scatterangle - m5)/s5)^2)
    + h6*exp(-((scatterangle - m6)/s6)^2)
    + h7*exp(-((scatterangle - m7)/s7)^2)
    , 
    start=list( 
        h1 =  2300, m1 = 23.42, s1 = 0.3, 
        h2 =  900,  m2 = 11.64, s2 = 0.2, 
        h3 =   100,     m3 = 34.80, s3 = 0.6, 
        h4 =   6,   m4 = 39.43, s4 = 1.3, 
        h5 =   3,   m5 = 46.83, s5 = 1.6, 
        h6 =  10,   m6 = 60.23, s6 = 0.3, 
        h7 =  10,   m7 = 61.46, s7 = 0.3, 
        bg=2, a = -0.1))

# Show the values of the fit
print(summary(res))

plot(signal ~ scatterangle, t='l', axes=F, xlab=expression(2*theta), 
ylab="""")

# Draw the fitted function on top of the original data.
lines(scatterangle, predict(res, data.frame(scatterangle)), col='red')
</code></pre>
","185475","","","","","2010-09-25 23:21:55","Initial guess visualizing with the nls function","<r><nls><model-fitting>","1","0","","","","CC BY-SA 2.5","3795220","4452","4452","r","404559","3625322","3607736","",""
"3796266","1","3797343","","2010-09-26 01:38:58","","82","212636","<p>What is the quickest/best way to change a large number of columns to numeric from factor? </p>

<p>I used the following code but it appears to have re-ordered my data.</p>

<pre><code>&gt; head(stats[,1:2])
  rk                 team
1  1 Washington Capitals*
2  2     San Jose Sharks*
3  3  Chicago Blackhawks*
4  4     Phoenix Coyotes*
5  5   New Jersey Devils*
6  6   Vancouver Canucks*

for(i in c(1,3:ncol(stats))) {
    stats[,i] &lt;- as.numeric(stats[,i])
}

&gt; head(stats[,1:2])
  rk                 team
1  2 Washington Capitals*
2 13     San Jose Sharks*
3 24  Chicago Blackhawks*
4 26     Phoenix Coyotes*
5 27   New Jersey Devils*
6 28   Vancouver Canucks*
</code></pre>

<p>What is the best way, short of naming every column as in:</p>

<pre><code>df$colname &lt;- as.numeric(ds$colname)
</code></pre>
","155406","","4636017","","2018-08-21 16:52:24","2019-06-20 14:02:01","Change the class from factor to numeric of many columns in a data frame","<r>","16","1","45","","","CC BY-SA 4.0","3796266","4452","4452","r","404559","3625322","3607736","",""
"3796919","1","3798648","","2010-09-26 07:09:34","","4","13751","<p>I am using read.csv to import a file that contains some columns with empty cells. I need these cells to remain empty and not contain any values. </p>

<p>However, an <code>NA</code> is getting added everytime I import. I have tried variations of <code>na.strings</code> (like <code>na.strings=""NULL""</code> or <code>na.strings=""""</code>) to no avail. </p>

<p>Is there a simple way to force the observations to remain empty?</p>

<p>Any advice is appreciated. </p>
","302274","","1315767","","2013-10-15 20:52:55","2013-10-15 20:52:55","Using read.csv, empty fields have NA added to data.frame","<r>","1","4","","","","CC BY-SA 3.0","3796919","4452","4452","r","404559","3625322","3607736","",""
"3797083","1","3797132","","2010-09-26 08:30:21","","3","5724","<p>Imagine I have a data frame with 2 columns</p>

<pre><code>Id    Value
12    13
32    3
6022  11
9142  231
12    23
119   312
...
</code></pre>

<p>and I want to get the mean value for each ""Id"". Do you know of any fast way of doing this?</p>
","228846","","168747","","2010-09-27 10:18:20","2010-09-27 10:18:20","Getting the mean value for every Id in a data frame","<r><dataframe>","5","1","","","","CC BY-SA 2.5","3797083","4452","4452","r","404559","3625322","3607736","",""
"3798527","1","3798581","","2010-09-26 15:46:14","","3","196","<p>Which of the dataset formats listed at <a href=""http://wps.aw.com/aw_deveaux_stats_series/80/20537/5257491.cw/index.html"" rel=""nofollow"">this link</a> is the easiest to load for processing in R? A few minutes with a text editor should be enough to turn the text version into literal data but can one of the other forms be loaded in less than O(n) user effort?</p>

<p>I've found this <a href=""http://cran.r-project.org/doc/manuals/R-data.html#Reading-Excel-spreadsheets"" rel=""nofollow"">laundry list of IO options</a> but it dosn't seem especially helpful.</p>

<hr>

<p>P.s. I've never used R before and am <a href=""http://xkcd.com/627/"" rel=""nofollow"">trying to help a friend</a> who is the one that needs to do this.</p>
","1343","","","","","2010-09-26 16:23:31","What is the preferred data source for R programs?","<r><input>","3","1","","","","CC BY-SA 2.5","3798527","4452","4452","r","404559","3625322","3607736","",""
"3798676","1","3799261","","2010-09-26 16:20:03","","4","10920","<p>I have a vector of integers, e.g.: <code>2,8,11,19</code>.</p>

<p>I would like to plot a line of length e.g. 20 then plot a dot for each value that exist in the list (at some constant height), so I get something like this:</p>

<p><code>-+-----+--+-------+-</code></p>
","377031","","","","","2020-09-24 19:05:42","How can I plot a 1-D plot in R?","<r><plot>","6","1","","","","CC BY-SA 2.5","3798676","4452","4452","r","404559","3625322","3607736","",""
"3798998","1","3799143","","2010-09-26 17:36:13","","43","116395","<p>I'm running <code>cor()</code> on a <code>data.frame</code>with all numeric values and I'm getting this as the result:</p>

<pre><code>       price exprice...
price      1      NA
exprice   NA       1
...
</code></pre>

<p>So it's either <code>1</code> or <code>NA</code> for each value in the resulting table.  Why are the <code>NA</code>s showing up instead of valid correlations?</p>
","35229","","680068","","2017-03-23 07:19:54","2020-04-06 15:28:50","cor shows only NA or 1 for correlations - Why?","<r><correlation>","6","0","10","","","CC BY-SA 3.0","3798998","4452","4452","r","404559","3625322","3607736","",""
"3800130","1","3801037","","2010-09-26 22:43:15","","6","2312","<p>The discussion in <a href=""https://stackoverflow.com/questions/3787231/r-and-spss-difference"">this question</a> is the direct cause for me asking this question. The more general reason is the fact that I often have to explain R use to people that are only familiar with SPSS. I know most of the basics of SPSS, as we still use it in the base course statistics. But as I'm more of an R guy, it's difficult to know how SPSS users experience the first meeting with R.</p>

<p>I know there is the book <a href=""http://rforsasandspssusers.com/"" rel=""nofollow noreferrer"">R for SAS and SPSS users</a> and that contains already some information. Yet, I would like to know what the more difficult parts are when you switch from SPSS to R. </p>

<p>Or in other words : if you would have to explain R in one day to SPSS users, which topics would you focus on? This is <strong>not</strong> a hypothetical question by the way (yeah, I know, it's not because one get paid for it that it always makes sense...).</p>
","428790","","-1","","2017-05-23 12:09:11","2013-08-26 14:12:33","How did you experience the transition from SPSS to R?","<r><spss>","4","2","7","2013-08-26 17:16:01","2010-09-26 23:00:59","CC BY-SA 2.5","3800130","4452","4452","r","404559","3625322","3607736","",""
"3803618","1","3804063","","2010-09-27 12:12:54","","4","1598","<p>I am currently using this code to input data from numerous files into R:</p>

<pre><code>library(foreign)

setwd(""/Users/ericbrotto/Desktop/A_Intel/"")

filelist &lt;-list.files()

#assuming tab separated values with a header    
datalist = lapply(filelist, function(x)read.table(x, header=T, sep="";"", comment.char="""")) 

#assuming the same header/columns for all files
datafr = do.call(""rbind"", datalist) 
</code></pre>

<p>The headers look like this:</p>

<pre><code>TIME ;POWER SOURCE ;qty MONITORS ;NUM PROCESSORS ;freq of CPU Mhz ;SCREEN SIZE ;CPU LOAD ;BATTERY LEVEL ; KEYBOARD MVT ; MOUSE MVT ;BATTERY MWH ;HARD DISK SPACE ;NUMBER PROCESSES ;RAM ;RUNNING APPS  ;FOCUS APP ;BYTES IN ;BYTES OUT ;ACTIVE NETWORKS ; IP ADDRESS ; NAMES OF FILES ; 
</code></pre>

<p>and an example of the data looks like this:</p>

<pre><code> 2010-09-11-19:28:34.680 ; BA ; 1 ; 2 ; 2000 ; 1440 : 900  ; 0.224121 ; 92 ; NO ; NO ; NULL ; 92.581558  ;  57    ; 196.1484375   ; +NULL  ; loginwindow-#35  ;  5259  ;  4506  ; en1 :   ;  192.168.1.3  ;  NULL  ;    
</code></pre>

<p>Rather then input all of the columns into a data frame I would like to just grab one, say, FOCUS APP. </p>
","385559","","1457051","","2015-01-04 22:20:08","2015-01-04 22:20:08","Inputting one column of info into a R data frame.","<r>","3","0","","","","CC BY-SA 3.0","3803618","4452","4452","r","404559","3625322","3607736","",""
"3804292","1","","","2010-09-27 13:35:48","","3","5221","<p>I apologize if this has been asked previously, but I haven't been able to find an example online or elsewhere.</p>

<p>I have very dirty data file in a text file (it may be JSON).  I want to analyze the data in R, and since I am still new to the language, I want to read in the raw data and manipulate as needed from there.  </p>

<p>How would I go about reading in JSON from a text file on my machine?  Additionally, if it isn't JSON, how can I read in the raw data as is (not parsed into columns, etc.) so I can go ahead and figure out how to parse it as needed?</p>

<p>Thanks in advance!</p>
","155406","","203420","","2010-09-27 13:44:54","2015-10-15 16:12:23","Read a Text File into R","<json><r>","3","1","1","","","CC BY-SA 2.5","3804292","4452","4452","r","404559","3625322","3607736","",""
"3804376","1","3806261","","2010-09-27 13:43:36","","4","5452","<p>I recently created a barplot in R using some sample data with no trouble. Then I tried it again using the real data which was exactly the same as the sample data except there was more of it. The problem is now I get this error:</p>

<pre><code>Error in barplot.default(table(datafr)) : 
   'height' must be a vector or a matrix
</code></pre>

<p>I don't know if this is of help but when I print out the table these are what the last lines look like. </p>

<pre><code>33333  2010-09-13-19:25:50.206                             Google Chrome-#135   NA
  [ reached getOption(""max.print"") -- omitted 342611 rows ]]
</code></pre>

<p>Is it possible that this is too much data to process? Any suggestion as to how I can fix this?</p>

<p>Thanks :)</p>

<hr>

<p><strong>EDIT 1</strong></p>

<p>Hey Joris,</p>

<p>Here is the info from str(datafr) :</p>

<pre><code>'data.frame':   375944 obs. of  3 variables:
 $ TIME     : Factor w/ 375944 levels ""2010-09-11-19:28:34.680 "",..: 1 2 3 4 5 6 7 8 9 10 ...
 $ FOCUS.APP: Factor w/ 107 levels "" Finder-#101  "",..: 3 3 3 3 3 3 3 3 1 1 ...  
 $ X        : logi  NA NA NA NA NA NA ...
</code></pre>

<p>and from traceback()</p>

<pre><code>3: stop(""'height' must be a vector or a matrix"")
2: barplot.default(table(datafr))
1: barplot(table(datafr))
</code></pre>

<p>I also ran the other command you told me, but the feedback was super verbose; too much to print here. Let me know if you need any other info or if the last information was really important I can figure out a way to post it.</p>

<p>Thanks,</p>
","385559","","385559","","2010-09-27 14:50:10","2010-09-27 17:27:00","Barplot Error in R","<r>","1","4","","","","CC BY-SA 2.5","3804376","4452","4452","r","404559","3625322","3607736","",""
"3805029","1","3809071","","2010-09-27 14:55:15","","17","7334","<p>Sorry for not included any example data for my problem. I couldnt find a way to easily produce an example shape file. Hopefully, experienced users of <code>ggplot</code> can see what Id like to do from the description below.</p>

<p>Ive got:</p>

<ul>
<li><p>A <code>data.frame</code> X with information about sample plots (<code>plotid</code>, <code>var1</code>, <code>var2</code>, <code>var3</code>, <code>var4</code>, )</p></li>
<li><p>A polygon shapefile <code>Y</code> with spatial information for the sample plots</p></li>
</ul>

<p>Importation of the shapefile <code>Y</code> (with <code>maptools</code>) and <code>fortify</code>ing as <code>data.frame</code> <code>Z</code> (<code>ggplot2</code>) works fine. <code>melt</code>ing <code>X</code> to <code>X_melted</code> works equally fine. <code>merge</code>-ing <code>Z</code> and <code>X_melted</code> to <code>mapdf</code> works as well.</p>

<p>That means that now we have a <code>data.frame</code> in long form with spatial information and <code>var1</code>, <code>var2</code>, <code>var3</code>, </p>

<p>Now I want to plot this data frame like this:</p>

<pre><code>pl1 &lt;- ggplot(mapdf,aes(long,lat),group=group)
pl1 &lt;- pl1 + geom_polygon(aes(group=group,fill=value),colour=""black"")
pl1 &lt;- pl1 + facet_grid(variable ~ .)
pl1 &lt;- pl1 + coord_equal(ratio = 1)
pl1
</code></pre>

<p>The result is a nice plot with one panel for each variable. The maps of the panels are identical, but fill colour varies with the values of the variables. Up to now, everything works like a charm with one problem:</p>

<p>The variables have different min and max values. For example <code>var1</code> goes from <code>0</code> to <code>5</code>, <code>var2</code> from <code>0</code> to <code>400</code>, <code>var3</code> from <code>5</code> to <code>10</code>, etc. In that example, the legend for the fill colour goes from <code>0</code> to <code>400</code>. <code>var2</code> is nicely drawn, but <code>var1</code> and <code>var3</code> are basically in the same colour.</p>

<p>Is there a way I could use a different legend for each panel of the facet? Or is this simply not (yet) possible with <code>facet_wrap</code> or <code>facet_grid</code> in <code>ggplot</code>?</p>

<p>I could make individual plots for each variable and join them with viewports, but there a plenty of variables and this would be a lot of work.</p>

<p>Or is there maybe another package or method I could use to accomplish what Id like to do?</p>

<p>And help would be very much appreciated. :)</p>

<p>Edit:
With the help of the <code>ggplot2</code>-package description, I constructed an example that illustrates my problem:</p>

<pre><code>ids &lt;- factor(c(""1.1"", ""2.1"", ""1.2"", ""2.2"", ""1.3"", ""2.3""))
values &lt;- data.frame(
id = ids,
val1 = cumsum(runif(6, max = 0.5)),
val2 = cumsum(runif(6, max = 50))
)
positions &lt;- data.frame(
id = rep(ids, each = 4),
x = c(2, 1, 1.1, 2.2, 1, 0, 0.3, 1.1, 2.2, 1.1, 1.2, 2.5, 1.1, 0.3,
0.5, 1.2, 2.5, 1.2, 1.3, 2.7, 1.2, 0.5, 0.6, 1.3),
y = c(-0.5, 0, 1, 0.5, 0, 0.5, 1.5, 1, 0.5, 1, 2.1, 1.7, 1, 1.5,
2.2, 2.1, 1.7, 2.1, 3.2, 2.8, 2.1, 2.2, 3.3, 3.2)
)

values &lt;- melt(values)
datapoly &lt;- merge(values, positions, by=c(""id""))

p &lt;- ggplot(datapoly, aes(x=x, y=y)) + geom_polygon(aes(fill=value, group=id),colour=""black"")
p &lt;- p + facet_wrap(~ variable)
p
</code></pre>

<p>The panel on the right illustrates different values for <code>var2</code> on the map. On the panel on the left however, all polygons have the same colour. This is logical, because only one colour gradient is used for all panels. Could I use a different colour gradient for each panel?</p>
","415697","","1457051","","2015-01-04 22:19:41","2021-02-12 15:39:14","Different legends and fill colours for facetted ggplot?","<r><ggplot2><spatial><shapefile>","5","0","4","","","CC BY-SA 3.0","3805029","4452","4452","r","404559","3625322","3607736","",""
"3805452","1","3805493","","2010-09-27 15:45:41","","2","427","<p>I have a column of data in a R data frame that has values such as:</p>

<pre><code>Blue-#105
Green-#8845
Yellow-#5454
Blue-#999
</code></pre>

<p>I want to remove the last number part (starting at -#) so that <code>Blue-#999</code> and <code>Blue-#105</code> are consider the same thing when plotting. How could I accomplish this?</p>
","385559","","3946766","","2014-12-16 09:59:41","2014-12-16 09:59:41","Splitting a column in an R dataframe","<r>","2","1","2","","","CC BY-SA 3.0","3805452","4452","4452","r","404559","3625322","3607736","",""
"3806878","1","3807051","","2010-09-27 18:56:02","","17","42515","<p>I want to use the equivalent of the subset command in R for some Python code I am writing.</p>

<p>Here is my data:</p>

<pre><code>col1    col2    col3    col4    col5
100002  2006    1.1 0.01    6352
100002  2006    1.2 0.84    304518
100002  2006    2   1.52    148219
100002  2007    1.1 0.01    6292
10002   2006    1.1 0.01    5968
10002   2006    1.2 0.25    104318
10002   2007    1.1 0.01    6800
10002   2007    4   2.03    25446
10002   2008    1.1 0.01    6408
</code></pre>

<p>I want to subset the data based on contents of <code>col1</code> and <code>col2</code>. (The unique values in col1 are 100002 and 10002, and in col2 are 2006,2007 and 2008.)</p>

<p>This can be done in R using the subset command, is there anything similar in Python?</p>
","308827","","3924118","","2017-05-11 18:50:23","2017-05-11 18:50:23","Subsetting data in Python","<python><arrays><r><numpy><subset>","3","0","5","","","CC BY-SA 3.0","3806878","4452","4452","r","404559","3625322","3607736","",""
"3807136","1","3807553","","2010-09-27 19:30:38","","6","3062","<p>I have a million points and a large shape file8GBwhich is too big for to load into memory in R on my system.  The shape file is single-layer so a given <code>x</code>, <code>y</code> will hit at most one polygon - as long as it's not exactly on a boundary!  Each polygon is labelled with a <code>severity</code> - e.g. <code>1</code>, <code>2</code>, <code>3</code>.  I'm using R on a 64-bit ubuntu machine with 12GB ram.</p>

<p>What's the simplest way to be able to ""tag"" the data frame to the polygon <code>severity</code> so that I get a <code>data.frame</code> with an extra column, i.e. <code>x</code> ,<code>y</code>, <code>severity</code>?</p>
","459839","","1457051","","2015-01-04 22:16:32","2015-01-04 22:16:32","r points in polygons","<r><gis>","6","0","3","","","CC BY-SA 3.0","3807136","4452","4452","r","404559","3625322","3607736","",""
"3808457","1","3808530","","2010-09-27 22:45:10","","6","1939","<p>What I'd like to do is label both of the geom_bar() 's in the following example with their respective data labels. So far, I can only get one or the other to show up: </p>

<p>dput(): </p>

<pre><code>x &lt;- structure(list(variable = c(""a"", ""b"", ""c""), f = c(0.98, 0.66, 
0.34), m = c(0.75760989010989, 0.24890977443609, 0.175125)), .Names = c(""variable"", 
""f"", ""m""), row.names = c(NA, 3L), class = ""data.frame"")

ggplot(x, aes(variable, f, label=paste(f*100,""%"", sep=""""))) + 
geom_bar() + 
geom_text(size=3, hjust=1.3, colour=""white"") +
geom_bar(aes(variable, m, label=paste(m*100,""%"",sep="""")), fill=""purple"") + 
coord_flip()
</code></pre>

<p><img src=""https://i.stack.imgur.com/wC7KI.jpg"" alt=""Multilayered Bar Graph""></p>

<p>See how on the inside of the black there is a data label. In the same plot, I'd like to do the same thing on the inside of the purple. </p>
","170352","","","","","2010-09-28 14:19:31","ggplot2 Labeling a multilayered bar plot","<r><ggplot2>","2","0","6","","","CC BY-SA 2.5","3808457","4452","4452","r","404559","3625322","3607736","",""
"3808527","1","3809973","","2010-09-27 23:01:11","","2","821","<p>I think I'm not asking the right question to begin with.</p>

<p>New Question:
I have a 1.5gig tsv file. It has 6 lines of junk at the top and one line of junk at the bottom, all of which I want to remove without having to open the file. Line 7 are the headers. I have 13 headers. Number of rows is unknown.</p>

<p>How do I read the file into a dataframe so that I can do basic descriptive stats, boxplots, etc....</p>

<hr>

<p>Original Question:</p>

<p>Hi</p>

<p>I have a feeling this one is really easy. I'm just missing something.</p>

<p>I have a txt file, tab separated, with 6 lines of junk at the top and a junk line at the very bottom as well.
In between the junk I have data of form
Label1  Label2  Label3  Label4....Label13
text   ID       number   percent....number</p>

<p>Here is what I enter in R:</p>

<pre><code>datadump &lt;- read.delim2(""truncate.txt"", header=TRUE, skip=""6"")

cleandata &lt;- datadump[c(-dim(datadump)[1]),]

avgposition &lt;- cleandata$Avg.Position

hist(avgposition)
</code></pre>

<p>Avg.Position is label13 and a number of form #.#</p>

<p>Yet I get an error:
Error in hist.default(avgposition) : 'x' must be numeric</p>

<p>Why is it not seeing the data as numeric?</p>

<p>Thanks!</p>

<p>As requested here is some data:</p>

<pre><code>&gt; dput(cleandata)
structure(list(Account = structure(c(2L, 2L), .Label = c(""Crap1"", 
""XXS""), class = ""factor""), Campaign = structure(c(1L, 1L), .Label = c(""3098012"", 
""Crap2""), class = ""factor""), Customer.Id = structure(c(2L, 2L
), .Label = c("""", ""nontech broad (7)""), class = ""factor""), Ad.Group = structure(c(2L, 
2L), .Label = c("""", ""RR 236 (300)""), class = ""factor""), Keyword = structure(2:3, .Label = c("""", 
""chagall pro"", ""matisse""), class = ""factor""), Keyword.Matching = structure(c(2L, 
2L), .Label = c("""", ""Broad""), class = ""factor""), Impressions = c(4L, 
16L), Clicks = c(1L, 1L), CTR = structure(2:3, .Label = c("""", 
""25.00%"", ""6.25%""), class = ""factor""), Avg.CPC = structure(2:3, .Label = c("""", 
""$0.05 "", ""$0.11 ""), class = ""factor""), Avg.CPM = structure(2:3, .Label = c("""", 
""$12.50 "", ""$6.88 ""), class = ""factor""), Cost = structure(2:3, .Label = c("""", 
""$0.05 "", ""$0.11 ""), class = ""factor""), Avg.Position = structure(2:3, .Label = c("""", 
""3"", ""3.1""), class = ""factor"")), .Names = c(""Account"", ""Campaign"", 
""Customer.Id"", ""Ad.Group"", ""Keyword"", ""Keyword.Matching"", ""Impressions"", 
""Clicks"", ""CTR"", ""Avg.CPC"", ""Avg.CPM"", ""Cost"", ""Avg.Position""
), row.names = 1:2, class = ""data.frame"")
</code></pre>
","450889","","168747","","2010-09-28 05:58:29","2010-09-28 09:17:05","Not reading the data the right way?","<r>","4","3","1","","","CC BY-SA 2.5","3808527","4452","4452","r","404559","3625322","3607736","",""
"3808895","1","3978467","","2010-09-28 00:37:50","","1","324","<p>I can specify the maximum amount of memory used by R or by an object in R with parameters such as</p>

<pre><code>--max-mem-size=1400M
</code></pre>

<p>at command line.
But how can I use it with Revolution Analytics?
I've tried but it seems not no accept any parameter.
I've also tried to look for configuration files, unsuccesfully.</p>
","425895","","376454","","2010-10-08 18:40:25","2010-10-20 13:41:07","R: Revolution Analytics max-mem-size?","<memory><r><command-line><configuration-files><max>","1","1","","","","CC BY-SA 2.5","3808895","4452","4452","r","404559","3625322","3607736","",""
"3810927","1","4947179","","2010-09-28 08:27:11","","6","1629","<p>is there a way in ggplot2 to get the plot type ""b""? See example:</p>

<pre><code>x &lt;- c(1:5)
y &lt;- x 
plot(x,y,type=""b"")
</code></pre>

<p>Ideally, I want to replace the points by their values to have something similar to this famous example:</p>

<p><img src=""https://i.stack.imgur.com/dTDgY.jpg"" alt=""alt text""></p>

<p>EDIT:
Here some sample data (I want to plot each ""cat"" in a facet with plot type ""b""):</p>

<pre><code>df &lt;- data.frame(x=rep(1:5,9),y=c(0.02,0.04,0.07,0.09,0.11,0.13,0.16,0.18,0.2,0.22,0.24,0.27,0.29,0.31,0.33,0.36,0.38,0.4,0.42,0.44,0.47,0.49,0.51,0.53,0.56,0.58,0.6,0.62,0.64,0.67,0.69,0.71,0.73,0.76,0.78,0.8,0.82,0.84,0.87,0.89,0.91,0.93,0.96,0.98,1),cat=rep(paste(""a"",1:9,sep=""""),each=5))
</code></pre>

<p>Regards,
Musa</p>
","279497","","7941188","","2019-12-22 11:05:51","2020-05-15 08:52:54","Getting R plot type ""b"" with text instead of points","<r><ggplot2>","3","3","2","","","CC BY-SA 4.0","3810927","4452","4452","r","404559","3625322","3607736","",""
"3811868","1","3811905","","2010-09-28 10:40:13","","2","3550","<p>Hello friendly computer people,</p>

<p>I'm new to R and am getting a bit lost in the vast world of setting plot parameters. Currently I have a barplot that <a href=""http://lofonic.com/extra/images/Ugly_Graph.png"" rel=""nofollow"">looks like this</a>. My main issue is cleaning up the graph so that each bar is associated with a category. Right now the fonts are set so they overlap and don't show all the categories.</p>

<p>In other words, I would like to:</p>

<ol>
<li>Have the bar names read horizontally.</li>
<li>Set the font paramaters so that each category is shown i.e. each bar has a name. Maybe this involves shrinking the font size?</li>
</ol>

<p>Any help on this matter would be greatly appreciated!</p>

<p>Thank you :)</p>
","385559","","","","","2010-09-28 11:47:50","Cleaning up a barplot in R","<r>","1","0","2","","","CC BY-SA 2.5","3811868","4452","4452","r","404559","3625322","3607736","",""
"3812265","1","3812409","","2010-09-28 11:33:30","","3","1515","<p>I've installed R in Ubuntu Lucid with the command</p>

<blockquote>
  <p>sudo aptitude install r-base</p>
</blockquote>

<p>When I try to ""install.packages"" it seems to download source and then spend ages compiling it.  How can I get it to just download and install the binaries, like I'm used to on Windows?  </p>

<p>Is there any need to compile the packages myself? I'm running inside a VM so it would be great to keep things as slim as possible.</p>

<p>Thanks</p>
","160356","","","","","2010-09-28 12:02:09","Install R packages from binary in Ubuntu Lucid","<r><ubuntu><cran>","2","1","2","","","CC BY-SA 2.5","3812265","4452","4452","r","404559","3625322","3607736","",""
"3813190","1","3813500","","2010-09-28 13:30:02","","1","15889","<p>I have a single column in a data frame in R that looks something like this:</p>

<pre><code>blue
green
blue
yellow
black
blue
green
</code></pre>

<p>How do I remove all the rows that indicate <strong>blue</strong>? Please keep in mind that I don't want a NULL value represented in that row: I want the entire row removed.</p>

<p>Thank you :)</p>
","385559","","203420","","2010-09-28 13:41:19","2010-09-28 14:43:08","Removing a particular category from a data frame in R","<r><dataframe>","4","1","","","","CC BY-SA 2.5","3813190","4452","4452","r","404559","3625322","3607736","",""
"3814048","1","3816792","","2010-09-28 14:54:52","","23","5608","<p>I'm currently looking into Clojure and Incanter as an alternative to R. (Not that I dislike R, but it just interesting to try out new languages.) I like Incanter and find the syntax appealing, but vectorized operations are quite slow as compared e.g. to R or Python.</p>

<p>As an example I wanted to get the first order difference of a vector 
using Incanter vector operations, Clojure map and R . Below is the code and timing for all 
versions. As you can see R is clearly faster. </p>

<p>Incanter and Clojure: </p>

<pre><code>(use '(incanter core stats)) 
(def x (doall (sample-normal 1e7))) 
(time (def y (doall (minus (rest x) (butlast x))))) 
""Elapsed time: 16481.337 msecs"" 
(time (def y (doall (map - (rest x) (butlast x))))) 
""Elapsed time: 16457.850 msecs""
</code></pre>

<p>R: </p>

<pre><code>rdiff &lt;- function(x){ 
   n = length(x) 
   x[2:n] - x[1:(n-1)]} 
x = rnorm(1e7) 
system.time(rdiff(x)) 
   user  system elapsed 
  1.504   0.900   2.561
</code></pre>

<p>So I was wondering is there a way to speed up the vector operations in Incanter/Clojure? Also solutions involving the use of loops, Java arrays and/or libraries from Clojure are welcome.</p>

<p>I have also posted this question to Incanter Google group with no responses so far.</p>

<p><strong>UPDATE:</strong> I have marked Jouni's answer as accepted, see below for my own answer where I have cleaned up his code a bit and added some benchmarks.</p>
","217595","","217595","","2010-09-30 07:13:56","2010-09-30 18:28:59","Fast vector math in Clojure / Incanter","<r><vector><clojure><incanter>","5","9","17","","","CC BY-SA 2.5","3814048","4452","4452","r","404559","3625322","3607736","",""
"3814322","1","3814359","","2010-09-28 15:24:04","","18","57249","<p>I have a list of about 1000 single integers.  I need to be able to do some mathematical computations, but they're stuck in list or character form.  How can I switch them so they're usable?</p>

<p>sample data:</p>

<pre><code>&gt; y [[1]] 
  [1] ""7"" ""3"" ""1"" ""6"" ""7"" ""1"" ""7"" ""6"" ""5"" ""3"" ""1"" ""3"" ""3"" ""0"" ""6"" ""2"" ""4"" ""9"" 
  [19] ""1"" ""9"" ""2"" ""2"" ""5"" ""1"" ""1"" ""9"" ""6"" ""7"" ""4"" ""4"" ""2"" ""6"" ""5"" ""7"" ""4"" ""7""     
  [37] ""4"" ""2"" ""3"" ""5"" ""5"" ""3"" ""4"" ""9"" ""1"" ""9"" ""4"" ""9"" ""3"" ""4"" ""9"" ""6"" ""9"" ""8"" 
  [55] ""3"" ""5"" ""2"" ""0"" ""3"" ""1"" ""2"" ""7"" ""7"" ""4"" ""5"" ""0"" ""6"" ""3"" ""2"" ""6"" ""2"" ""3"" 
  [73] ""9"" ""5"" ""7"" ""8"" ""3"" ""1"" ""8"" ""0"" ""1"" ""6"" ""9"" ""8"" ""4"" ""8"" ""0"" ""1"" ""8"" ""6"" ...
</code></pre>

<p>Just the first couple of lines.</p>
","446667","","322912","","2016-08-12 12:21:48","2016-08-12 12:21:48","List to integer or double in R","<list><r><vector>","2","1","4","","","CC BY-SA 3.0","3814322","4452","4452","r","404559","3625322","3607736","",""
"3815157","1","3815453","","2010-09-28 16:56:28","","3","3456","<p>I'm quite new to R and I have a following problem:</p>

<p>I have a simple 2-factor linear model:</p>

<pre><code>Rate~factor1 + factor2 //factor1 has 8 categorical values, factor2 has 6 categories;
model1 &lt;- lm(Rate~factor1+factor2, data=myData)
</code></pre>

<p>And want to put constraints SUM of factor1 coefficients = 0, the same for factor2.</p>

<p>None of the manuals gives any clue how to do this.</p>

<p>I found a link to similar problem <a href=""https://stackoverflow.com/q/1551554"">here</a> but it is different and I couldn't figure out how to modify it...</p>
","254015","","10607772","","2019-08-04 13:01:52","2019-08-04 13:01:52","Linear model with Constraints","<r>","1","3","1","","","CC BY-SA 4.0","3815157","4452","4452","r","404559","3625322","3607736","",""
"3817182","1","3820125","","2010-09-28 21:29:04","","12","3904","<p>Is it possible to have confint use the robust vcov obtained by vcovHC (from the sandwich package) after fitting a model? </p>
","338745","","","","","2010-09-29 08:58:32","vcovHC and confidence interval","<r><confidence-interval>","1","1","8","","","CC BY-SA 2.5","3817182","4452","4452","r","404559","3625322","3607736","",""
"3818147","1","3818169","","2010-09-29 01:17:13","","34","113937","<p>In R, if you test a condition on a vector instead of a scalar, it will return a vector containing the result of the comparison for each value in the vector. For example...</p>

<pre><code>&gt; v &lt;- c(1,2,3,4,5)
&gt; v &gt; 2
[1] FALSE FALSE  TRUE  TRUE  TRUE
</code></pre>

<p>In this way, I can determine the number of elements in a vector that are above or below a certain number, like so.</p>

<pre><code>&gt; sum(v &gt; 2)
[1] 3
&gt; sum(v &lt; 2)
[1] 1
</code></pre>

<p>Does anyone know how I can determine the number of values in a given range? For example, how would I determine the number of values greater than 2 but less than 5?</p>
","459780","","","","","2010-09-29 17:26:52","Count number of vector values in range with R","<r><vector><comparison>","3","0","4","","","CC BY-SA 2.5","3818147","4452","4452","r","404559","3625322","3607736","",""
"3818521","1","3818540","","2010-09-29 03:27:50","","9","1130","<p>I apologize if this has already been asked a different way but I couldn't find anything getting at what I wanted.</p>

<p>I am really getting into R from other packages (SPSS).  As I learn about what truly can be done, I realize that there are additional ""tools"" that I need.  This gets me to my question. </p>

<p>What setup do you have for developing R code?  I can't see myself actually developing r packages anywhere in the near future, but I do see myself wanting to manage my r projects effeciently, as well as create reports and presentations in LaTeX.  </p>

<p>For context, I develop my R code in Eclipse for Windows, but I have had a real hard time successfully setting up Latex/Sweave and Github plugins.  </p>

<p>Lastly, do you develop code using Windows or something else?</p>

<p>Many thanks in advance for any insight you can lend.   </p>
","155406","","155406","","2010-09-29 03:33:43","2011-06-22 08:37:28","Tools Commonly used to Program in R","<r><ide>","10","1","6","","","CC BY-SA 2.5","3818521","4452","4452","r","404559","3625322","3607736","",""
"3820402","1","3821967","","2010-09-29 09:42:27","","3","847","<p>I am trying to add a <code>gtkProgressBar</code> to a little interface I created for an R script (using the <code>RGtk2</code> package).</p>

<p>If I do something simple, as:</p>

<pre><code>for (i in 1:50)
    {
    gtkProgressBarSetFraction(progress, i/50)
    Sys.sleep(1)
    }
</code></pre>

<p>everything runs smoothly and the bar is updated every second.</p>

<p>However, when I go to my actual code, I have a loop in which I do something like</p>

<pre><code>for(i in 1:1000)
    {
    gtkProgressBarSetFraction(progress, i/1000)
    #do some heavy computation here
    }
</code></pre>

<p>The problem here is that the interface ""freezes"" and the progress bar is only updated at the end of the loop, therefore defeating completely its use...</p>

<p>Am I missing something here? How can I periodically ""wake up"" the interface so that it refreshes?</p>

<p>Thank you
nico</p>

<p><strong>EDIT</strong>: OK, I solved the problem, but I still don't understand what is going on. I added a <code>Sys.sleep</code> call after the <code>gtkProgressBarSetFraction</code> and now the interface updates happily. To reduce ""wasted time"" I just did <code>Sys.sleep(0.0001)</code> (so for 1000 cycles I would only have ~0.1-1s more computing time, which is acceptable). Anyone could explain why is this happening?</p>
","176923","","176923","","2010-09-29 11:23:10","2010-09-29 13:20:48","gtkProgressBar in RGtk2","<r><gtk><progress-bar>","2","2","1","","","CC BY-SA 2.5","3820402","4452","4452","r","404559","3625322","3607736","",""
"3821796","1","3822383","","2010-09-29 13:00:57","","0","328","<p>i think its an regular problem, answered several times, but I just don't know how to ask the question right =(</p>

<p>in MySQL:<br>
i have 2 tables with some kind of strings inside, now i want:<br>
1. the data that occur in both tables<br>
2. the data from a that is not in table b  </p>

<p>same in R:<br>
i have 2 R data.frame s and i want:<br>
1. the data that occur in a and b<br>
2. the data that occur in a but not in b  </p>
","329001","","","","","2010-09-29 14:07:39","show data that exists in both MYSQL tables and/or R objects","<mysql><r><overlap>","2","3","","","","CC BY-SA 2.5","3821796","4452","4452","r","404559","3625322","3607736","",""
"3822535","1","3822706","","2010-09-29 14:24:53","","87","147908","<p>I've read the answers to this <a href=""https://stackoverflow.com/questions/382186/fitting-polynomials-to-data"">question</a> and they are quite helpful, but I need help particularly in R. </p>

<p>I have an example data set in R as follows:</p>

<pre><code>x &lt;- c(32,64,96,118,126,144,152.5,158)  
y &lt;- c(99.5,104.8,108.5,100,86,64,35.3,15)
</code></pre>

<p>I want to fit a model to these data so that <code>y = f(x)</code>. I want it to be a 3rd order polynomial model.</p>

<p>How can I do that in R? </p>

<p>Additionally, can R help me to find the best fitting model?</p>
","192377","","-1","","2017-05-23 12:34:34","2018-09-21 20:00:41","Fitting polynomial model to data in R","<r><curve-fitting><data-analysis><polynomial-math>","4","0","48","","","CC BY-SA 2.5","3822535","4452","4452","r","404559","3625322","3607736","",""
"3823211","1","3823665","","2010-09-29 15:38:56","","130","251079","<p>I have a matrix (32X48).</p>

<p>How can I convert the matrix into a single dimensional array?</p>
","241314","","680068","","2016-12-02 21:46:50","2021-03-16 15:12:03","Convert a matrix to a 1 dimensional array","<arrays><r><matrix>","11","0","17","","","CC BY-SA 3.0","3823211","4452","4452","r","404559","3625322","3607736","",""
"3823549","1","3824062","","2010-09-29 16:10:53","","4","8374","<p>I have a long time series of daily data and 101 columns. Each month I would like to calculate the <code>cov</code> of each of the first 100 columns with the 101st column. This would generate a monthly covariance with the 101st column for each of the 100 columns based on daily data. It seems that <code>aggregate</code> does what I want with functions that take a single vector, such as <code>mean</code>, but I can't get it to work with <code>cov</code> (or <code>prod</code>).</p>

<p>Please let me know if a <code>dput</code> of a few months would help.</p>

<pre><code>&gt; library(""zoo"")
&gt; data &lt;- read.zoo(""100Size-BM.csv"", header=TRUE, sep="","", format=""%Y%m%d"")
&gt; head(data[, c(""R1"", ""R2"", ""R3"", ""R100"", ""Mkt.RF"")])
                 R1       R2       R3     R100  Mkt.RF
1963-07-01 -0.00212  0.00398 -0.00472 -0.00362 -0.0066
1963-07-02 -0.00242  0.00678  0.00068 -0.00012  0.0078
1963-07-03  0.00528  0.01078  0.00598  0.00338  0.0063
1963-07-05  0.01738 -0.00932 -0.00072 -0.00012  0.0040
1963-07-08  0.01048 -0.01262 -0.01332 -0.01392 -0.0062
1963-07-09 -0.01052  0.01048  0.01738  0.01388  0.0045
</code></pre>

<p><code>mean</code> works great, and gives me the monthly data I want.</p>

<pre><code>&gt; mean.temp &lt;- aggregate(data[, 1:100], as.yearmon, mean)
&gt; head(mean.temp[, 1:3])
                    R1            R2            R3
Jul 1963  0.0003845455  7.545455e-05  0.0004300000
Aug 1963 -0.0006418182  2.412727e-03  0.0022263636
Sep 1963  0.0016250000  1.025000e-03 -0.0002600000
Oct 1963 -0.0007952174  2.226522e-03  0.0004873913
Nov 1963  0.0006555556 -5.211111e-03 -0.0013888889
Dec 1963 -0.0027066667 -1.249524e-03 -0.0005828571
</code></pre>

<p>But I can't get a function that uses two different columns/vectors to work.</p>

<pre><code>&gt; cov.temp &lt;- aggregate(data[, 1:100], as.yearmon, cov(x, data[, ""Mkt.RF""]))
Error in inherits(x, ""data.frame"") : object 'x' not found
</code></pre>

<p>Nor can I get it work making a <code>cov</code> wrapper.</p>

<pre><code>&gt; f &lt;- function(x) cov(x, data[, ""Mkt.RF""])
&gt; cov.temp &lt;- aggregate(data[, 1:100], as.yearmon, f)
Error in cov(x, data[, ""Mkt.RF""]) : incompatible dimensions
</code></pre>

<p>Should I do this with a <code>for</code> loop? I am hoping there is a more <code>R</code> way. Thanks!</p>
","334755","","271616","","2010-09-29 17:05:28","2010-10-05 00:53:01","Use aggregate with a function that uses data from two columns (e.g. cov or prod)","<r><aggregate><zoo>","4","1","1","","","CC BY-SA 2.5","3823549","4452","4452","r","404559","3625322","3607736","",""
"3823818","1","","","2010-09-29 16:40:29","","0","921","<p>How can I write this all in one line?</p>

<p><code>mydata</code> is a <code>""zoo""</code> series, limit is a numeric vector of the same size</p>

<pre><code>tmp &lt;- ave(coredata(mydata), as.Date(index(mydata)),
           FUN = function(x) cummax(x)-x)
tmp &lt;- (tmp &lt; limit)
final &lt;- ave(tmp, as.Date(index(mydata)),
             FUN = function(x) cumprod(x))
</code></pre>

<p>I've tried to use two vectors as argument to <code>ave(...)</code>  but it seems to accept just one even if I join them into a matrix.</p>

<p>This is just an example, but any other function could be use.</p>

<p>Here I need to compare the value of <code>cummax(mydata)-mydata</code> with a numeric vector and 
once it surpasses it I'll keep zeros till the end of the day. The <code>cummax</code> is calculated from the beginning of each day.</p>

<p>If limit were a single number instead of a vector (with different possible numbers) I could write it:</p>

<pre><code>ave(coredata(mydata), as.Date(index(mydata)),
    FUN = function(x) cumprod((cummax(x) - x) &lt; limit))
</code></pre>

<p>But I can't introduce there a vector longer than <code>x</code> (it should have the same length than each day) and I don't know how to introduce it as another argument in <code>ave()</code>.</p>
","425895","","429846","","2013-03-27 03:12:35","2013-03-27 03:12:35","Simplify ave() or aggregate() with several inputs","<r><aggregate><time-series><simplify>","1","0","","","","CC BY-SA 3.0","3823818","4452","4452","r","404559","3625322","3607736","",""
"3824412","1","3824489","","2010-09-29 17:50:54","","3","1109","<p>I would like to create 10 plots that have different data, but the same optical appearance. As an example, Id like to change the colour of the gridline for each plot. This could be done by adding </p>

<pre><code>+ opts(panel.grid.major = theme_line(colour = ""white"")
</code></pre>

<p>to each plot definition. However, when I now decide to change background colour to lets say grey25, Id have to modify each plot individually. This seems like way too much work. ;)</p>

<p>So, I thought about doing something like</p>

<pre><code>opt1 &lt;- '+ opts(panel.grid.major = theme_line(colour = ""white"")'
</code></pre>

<p>and then define each plot like</p>

<pre><code>pl_x &lt;- pl_x + opt1
pl_y &lt;- pl_y + opt1
...
</code></pre>

<p>Other options (margins, fonts, scales,) could then be added to opt1.
However, that doesnt work (error message when trying to print pl_x). Anybody maybe knows how to accomplish what Id like to do?</p>

<p>I also played around with theme_set and theme_update, but that resulted in none off my plots working anymore unless I completely restarted R. </p>
","415697","","","","","2013-05-22 03:14:28","ggplot2: Use options for multiple plots","<r><layout><plot><ggplot2>","1","0","1","","","CC BY-SA 2.5","3824412","4452","4452","r","404559","3625322","3607736","",""
"3824891","1","3825186","","2010-09-29 18:54:16","","3","595","<p>Well, the title is quite self-explanatory... Is it possible to set default port number for R's HTML help? Each time I start HTML help, port number gets changed.</p>
","457898","","","","","2010-09-29 19:36:43","Set default port number in HTML help","<r>","1","0","","","","CC BY-SA 2.5","3824891","4452","4452","r","404559","3625322","3607736","",""
"3824996","1","3825665","","2010-09-29 19:09:24","","3","1414","<p>I saw <a href=""https://stackoverflow.com/questions/2492947/boxplot-in-r-showing-the-mean"">Boxplot in R showing the mean</a></p>

<p>I'm interested in the ggplot solution. But what I am plotting are averages already so I don't want to do an average of an average. I do have the true mean stored in TrueAvgCPC.</p>

<p>Here is what I tried, but it's not working:</p>

<pre><code>p &lt;- qplot(Mydf$Network,Mydf$Avg.CPC,data=Mydf,geom='boxplot')
p &lt;- p+stat_summary(TrueAvgCPC,shape=1,col='red',geom='point')
print(p)
</code></pre>

<p>Thanks!</p>
","450889","","-1","","2017-05-23 11:51:17","2010-09-29 20:40:13","Boxplot in R showing the mean (again)","<r><plot><ggplot2>","1","1","","","","CC BY-SA 2.5","3824996","4452","4452","r","404559","3625322","3607736","",""
"3825065","1","3825319","","2010-09-29 19:20:36","","1","1095","<p>I'm using the <code>plotmatrix</code> function in ggplot2 (ggplot2_0.8.8) and would like to override the column names displayed from my dataframe, e.g.</p>

<pre><code>plotmatrix(mtcars) + opts(strip.text.x = theme_text(size=20))
</code></pre>

<p>I can alter the properties of strip.text.x and strip.text.y with opts, but where can I change the text itself e.g. I would like ""mpg"" replaced by ""Miles / Gallon"" which causes problems as a colname.  I assume there may be something like the <code>labeller</code> option in <code>facet_grid</code> which allows me to substitute arbitrary text for the existing colnames?</p>
","249387","","","","","2010-09-29 19:52:08","ggplot2 plotmatrix - changing text labels","<r><plot><ggplot2><lattice>","1","0","","","","CC BY-SA 2.5","3825065","4452","4452","r","404559","3625322","3607736","",""
"3826022","1","3826476","","2010-09-29 21:30:52","","4","3766","<p>I'm wondering if anyone else has ever encountered this problem. I'm writing a fairly small amount of data to a csv file. It's about 30 lines, 50 times. </p>

<p>I'm using a for loop to write data to the file. </p>

<p>It seems ""finicky"" sometimes the operation completes successfully, and other times it stops after the first ten times (300 lines) other times 3, or 5... by telling me </p>

<p>""cannot open connection"". </p>

<p>I imagine it is some type of timeout. Is there a way to tell R to ""slow down"" when writing tables?</p>

<p>Before you ask: there's just too much code to provide an example here. </p>
","170352","","170352","","2010-09-29 21:39:27","2010-09-30 00:12:03","write.table(...,append=T) : Cannot open the connection","<r>","2","1","1","","","CC BY-SA 2.5","3826022","4452","4452","r","404559","3625322","3607736","",""
"3826917","1","3827004","","2010-09-30 00:37:43","","1","5994","<p>I am working on exporting a data.frame to a csv for use in an ecommerce system after I have done some analysis on it. </p>

<p>I am removing the NA values before the extract as they are not allowed in the system I am adding the data to. The process I have looks like this, my data.frame is called prod_out:</p>

<pre><code>prod_out[is.na(prod_out)] &lt;- c("""")

prod_con&lt;-file('product_output.csv',encoding=""utf8"")

write.csv(prod_out,file=prod_con,append=FALSE,eol=""\r"",quote=TRUE,row.names=FALSE)
</code></pre>

<p>This generates the file, however, for the fields that are NULL they are all double quoted like this:</p>

<pre><code>...,"""",...
</code></pre>

<p>I need to not have the double quotes for NULL fields and leave them for any character field like this:</p>

<pre><code>...,,...
</code></pre>

<p>I did change quote=FALSE, however that removed all double quoting and I need the character fields to remain intact. Is there any way to unquote the NULL values?</p>

<p>Any help is appreciated. </p>

<p>Thanks,</p>

<p>Jason</p>
","302274","","","","","2010-09-30 01:08:52","How to remove double quotes around NULL values in write.csv?","<r>","2","1","1","","","CC BY-SA 2.5","3826917","4452","4452","r","404559","3625322","3607736","",""
"3827624","1","3845429","","2010-09-30 04:00:50","","10","6226","<p>Right now, the legend by default looks something like this: </p>

<pre><code>Legend Title
x-1 
y-2 
z-3 
</code></pre>

<p>But is it possible to make it look something like this? </p>

<pre><code>Legend Title 
x-1 y-2 z-3
</code></pre>
","170352","","203420","","2011-10-07 15:43:04","2013-11-19 17:03:51","ggplot2: Changing the layout of the legend","<r><ggplot2><legend>","4","2","1","","","CC BY-SA 2.5","3827624","4452","4452","r","404559","3625322","3607736","",""
"3828410","1","3829122","","2010-09-30 06:50:29","","2","1560","<p>Either it's late, or I've found a bug, or cast doesn't like colnames with ""."" in them. This all happens inside a function, but it ""doesn't work"" outside of a function as much as it doesn't work inside of it.</p>

<pre><code>x &lt;- structure(list(df.q6 = structure(c(1L, 1L, 1L, 11L, 11L, 9L, 
4L, 11L, 1L, 1L, 2L, 2L, 11L, 5L, 4L, 9L, 4L, 4L, 1L, 9L, 4L, 
10L, 1L, 11L, 9L), .Label = c(""a"", ""b"", ""c"", ""d"", ""e"", ""f"", ""g"", 
""h"", ""i"", ""j"", ""k""), class = ""factor""), df.s5 = structure(c(4L, 
4L, 1L, 2L, 4L, 4L, 4L, 3L, 4L, 1L, 2L, 1L, 2L, 4L, 1L, 3L, 4L, 
2L, 2L, 4L, 4L, 4L, 2L, 2L, 1L), .Label = c(""a"", ""b"", ""c"", ""d"", 
""e""), class = ""factor"")), .Names = c(""df.q6"", ""df.s5""), row.names = c(NA, 
25L), class = ""data.frame"")

cast(x, df.q6 + df.s5 ~., length)
</code></pre>

<p>No worky. </p>

<p>However, if: </p>

<pre><code>colnames(x) &lt;- c(""variable"", ""value"")
cast(x, variable + value ~., length)
</code></pre>

<p>Works like a charm. </p>
","170352","","","","","2010-10-01 23:44:07","reshape: cast oddity","<r>","3","1","","","","CC BY-SA 2.5","3828410","4452","4452","r","404559","3625322","3607736","",""
"3831026","1","3831080","","2010-09-30 13:37:05","","5","12797","<p>I'm trying to read time series from CSV file and save them as xts to be able to process them with quantmod. The problem is that numeric values are not parsed.</p>

<p>CSV file:</p>

<pre><code>name;amount;datetime
test1;3;2010-09-23 19:00:00.057
test2;9;2010-09-23 19:00:00.073
</code></pre>

<p>R code:</p>

<pre><code>library(xts)
ColClasses = c(""character"", ""numeric"", ""character"")
Data &lt;- read.zoo(""c:\\dat\\test2.csv"", index.column = 3, sep = "";"", header = TRUE, FUN = as.POSIXct, colClasses = ColClasses)
as.xts(Data)
</code></pre>

<p>Result:</p>

<pre><code>                    name    amount
2010-09-23 19:00:00 ""test1"" ""3""   
2010-09-23 19:00:00 ""test2"" ""9""   
</code></pre>

<p>See amount column contains character data but expected to be numeric. What's wrong with my code?</p>
","194635","","271616","","2010-09-30 14:30:19","2010-10-01 04:17:15","Read xts from CSV file in R","<r><time-series><zoo><xts>","2","0","5","","","CC BY-SA 2.5","3831026","4452","4452","r","404559","3625322","3607736","",""
"3832850","1","3835099","","2010-09-30 16:45:55","","15","18129","<p>Does <code>R</code> have color palettes? </p>

<p>In other words, I am looking for an array of 6 or so color names that go well together in a graph or plot; maybe there are some predefined schemes like that?</p>
","60628","","","","","2016-11-10 02:35:29","Color schemes in R?","<r><plot>","5","1","4","","","CC BY-SA 2.5","3832850","4452","4452","r","404559","3625322","3607736","",""
"3835280","1","3835575","","2010-09-30 22:30:13","","13","24262","<p>Suppose (to simplify) I have a table containing some control vs. treatment data:</p>

<pre><code>Which, Color, Response, Count
Control, Red, 2, 10
Control, Blue, 3, 20
Treatment, Red, 1, 14
Treatment, Blue, 4, 21
</code></pre>

<p>For each color, I want a single row with the control and treatment data, i.e.:</p>

<pre><code>Color, Response.Control, Count.Control, Response.Treatment, Count.Treatment
Red, 2, 10, 1, 14
Blue, 3, 20, 4, 21
</code></pre>

<p>I guess one way of doing this is by using an internal merge on each control/treatment subset (merging on the Color column), but is there a better way? I was thinking the reshape package or the stack function could somehow do it, but I'm not sure.</p>
","231588","","1270695","","2015-01-01 07:34:57","2017-12-14 08:00:01","Pivoting rows into columns","<r><reshape>","4","1","5","","","CC BY-SA 2.5","3835280","4452","4452","r","404559","3625322","3607736","",""
"3835714","1","3835740","","2010-10-01 00:19:13","","9","1876","<p>Is there a straightforward way to turn the functions of a .RData file into a normal code file (.R)?</p>
","25282","","680068","","2017-07-11 09:57:11","2017-07-11 09:57:11","Turning RData file into script files","<r><rdata>","3","0","6","","","CC BY-SA 3.0","3835714","4452","4452","r","404559","3625322","3607736","",""
"3837520","1","","","2010-10-01 08:18:41","","1","9971","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/2842579/equivalent-to-unix-less-command-within-r-console"">Equivalent to unix &ldquo;less&rdquo; command within R console</a>  </p>
</blockquote>



<p>I am using R under unix in bash.</p>

<p>Sometimes the output of a command has more lines than the bash.</p>

<p>How do I prevent the output from scrolling away? I.e. is there some equivalent of less and less -S in R?</p>
","","user438602","-1","","2017-05-23 12:29:46","2010-10-03 12:39:04","how to prevent the output of R to scroll away in bash?","<r>","6","3","","2010-10-04 13:48:38","","CC BY-SA 2.5","3837520","4452","4452","r","404559","3625322","3607736","",""
"3838774","1","3838820","","2010-10-01 11:36:40","","104","68955","<p>Is there a function in R to display large numbers separated with commas?</p>

<p>i.e., from <code>1000000</code> to <code>1,000,000</code>.</p>
","329001","","1832942","","2015-09-09 23:16:57","2020-02-23 11:04:01","Comma separator for numbers in R?","<r>","4","1","15","","","CC BY-SA 3.0","3838774","4452","4452","r","404559","3625322","3607736","",""
"3838996","1","3839136","","2010-10-01 12:11:28","","4","572","<p>after using sciviews-K for a while, I am about to give the R Eclipse combo another chanced. I updated to Helios on my Mac OS X Snow Leopard. So far everything that used to make trouble with Eclipse works, but somehow I miss the auto-completion of code. Or at least the standard suggestion of paramaters when you use R functions. This is even possible in the standard R GUI. </p>

<p>How can I use some of these enhancements with StatET Eclipse?</p>

<p>Thx in advance for not telling me to use Emacs / ESS !</p>
","366256","","","","","2010-10-01 14:15:56","Auto-completion for Stat ET / Eclipse?","<r><ide>","1","1","","","","CC BY-SA 2.5","3838996","4452","4452","r","404559","3625322","3607736","",""
"3840183","1","3840220","","2010-10-01 14:38:18","","4","2485","<p>I want to return a logical vector for regexp matches over a character vector, but match or %in do not seem to support regular expressions, e.g.:</p>

<pre><code>&gt; x &lt;- c(""Bill"", ""Brett"", ""Jane"")
&gt; grep(""^B"", x)
[1] 1 2
&gt; x %in% ""^B""
[1] FALSE FALSE FALSE
</code></pre>

<p>I would like this to return </p>

<pre><code>[1] TRUE TRUE FALSE
</code></pre>

<p>Ideas?</p>

<p>Thanks,</p>

<p>Roberto</p>
","344513","","","","","2010-10-01 15:29:31","Returning a logical vector for matches: regexp supported?","<regex><r>","3","0","","","","CC BY-SA 2.5","3840183","4452","4452","r","404559","3625322","3607736","",""
"3840769","1","3855358","","2010-10-01 15:43:32","","14","3230","<p>This question comes from a range of other questions that all deal with essentially the same problem. For some strange reason, using a function within another function sometimes fails in the sense that variables defined within the local environment of the first function are not found back in the second function.</p>

<p>The classical pattern in pseudo-code :</p>

<pre><code>ff &lt;- function(x){
    y &lt;- some_value
    some_function(y)
}
ff(x)
</code></pre>

<blockquote>
  <p>Error in eval(expr, envir, enclos) :
  object 'y' not found</p>
</blockquote>

<p>First I thought it had something to do with S4 methods and the scoping in there, but it also happens with other functions. I've had some interaction with the R development team, but all they did was direct me to the bug report site (which is not the most inviting one, I have to say). I never got any feedback.</p>

<p>As the problem keeps arising, I wonder if there is a logic explanation for it. Is it a common mistake made in all these cases, and if so, which one? Or is it really a bug? </p>

<p>Some of those questions :</p>

<ul>
<li><a href=""https://stackoverflow.com/questions/2646402/using-functions-and-environments"">Using functions and environments</a></li>
<li><a href=""https://stackoverflow.com/questions/3742415/r-statistical-scoping-error-using-transformby-part-of-the-doby-package"">R (statistical) scoping error using transformBy(), part of the doBy package.</a></li>
<li><a href=""https://stackoverflow.com/questions/3768417/how-to-use-acast-reshape2-within-a-function-in-r"">How to use acast (reshape2) within a function in R?</a></li>
<li><a href=""https://stackoverflow.com/questions/3661500/why-cant-i-pass-a-dataset-to-a-function"">Why can't I pass a dataset to a function?</a></li>
<li><a href=""https://stackoverflow.com/questions/3574858/values-not-being-copied-to-the-next-local-environment"">Values not being copied to the next local environment</a></li>
</ul>

<p>PS : I know the R-devel list, in case you wondered...</p>
","428790","","-1","","2017-05-23 12:23:08","2010-10-04 13:08:43","Scoping and functions in R 2.11.1 : What's going wrong?","<r><function><environment><scoping>","4","2","5","","","CC BY-SA 2.5","3840769","4452","4452","r","404559","3625322","3607736","",""
"3840966","1","","","2010-10-01 16:06:41","","0","207","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/102056/how-to-search-for-r-materials"">How to search for &ldquo;R&rdquo; materials?</a>  </p>
</blockquote>



<p>Dear all,
I have recently picked up the task of programming in R.
R is the statistical package / programming enviroment/language.</p>

<p>But there is horror! Because searching for R related questions
in, say, google will yield a lot of irrelevant matches simply because
'R' is, well, such a common thing a document to contain...</p>

<p>e.g. 
R non-parametric distribution fit</p>

<p>Question: Is there a better way to search for R questions in google and other search engines?</p>

<p>thanks</p>
","385390","","-1","","2017-05-23 12:26:48","2010-10-01 16:21:15","How does one searches efficiently the internet for [R,the statistical package] related questions?","<search><r>","2","3","","2010-10-01 17:52:41","","CC BY-SA 2.5","3840966","4452","4452","r","404559","3625322","3607736","",""
"3841611","1","3842233","","2010-10-01 17:29:16","","1","244","<p>I am new to R and keen to learn but am finding myself particularly stuck on what seems to be a relatively straightforward idea.</p>

<p>I have 2 dataframes. The first (ants) is data pertaining to a number of sites, each site has a unique ID, some sites have more than one row of data.
It look like this:</p>

<pre><code> Site           Date          Time          Temp 
71             8-Jun-10       14:50:35       14.32  
71             8-Jun-10       14:51:29       14.31  
70             8-Jun-10       14:53:55       14.3      
70             8-Jun-10       14:54:09       14.3     
70             8-Jun-10       14:54:24       14.3      
69             8-Jun-10       14:56:30       14.28     
</code></pre>

<p>The second (HRsites) is an index of the latitudes and longitudes associated with each site number.</p>

<pre><code>Site    lat_52           long_00 
69      56.3075            9.1957 
70      56.4207            8.9147 
71      56.5208            8.6265  
</code></pre>

<p>What I would like to do is...Where the site numbers of the two dataframes match, I would like the corresponding lat and long data held in 'HRsites' to be added under additional new columns in the 'ants' dataframe.</p>

<p>I see that a new column is added by 
    ants$lat_52&lt;- </p>

<p>...and this is where I'm stuck, I'm not sure of the huge range of functions available on R and feel I'm perhaps not searching using quite the correct language. Any help would be hugely appreciated....even if it's jus the terms of functions I should be searching for.</p>
","464104","","1033581","","2016-12-28 14:00:42","2016-12-28 14:00:42","referencing to an index dataframe and retrieving data where matches occur","<r><dataframe>","1","1","","","","CC BY-SA 3.0","3841611","4452","4452","r","404559","3625322","3607736","",""
"3843112","1","3843180","","2010-10-01 21:19:23","","0","111","<p>Frequently, I use functions to shape or numerically alter data that I'm passing to ggplot, so that I don't have to alter my data before putting it in.</p>

<p>If I've saved a plot to a variable. Is there a way to see the actual data that I'm plotting? It's a sanity check. </p>

<p>For example: </p>

<pre><code>c &lt;- ggplot(mtcars, aes(factor(cyl))) + geom_bar()
</code></pre>

<p>If I type <code>str(c)</code>, I'm presented with $data at the top, but I would like to see it in tabular form. </p>
","170352","","","","","2010-10-01 21:32:14","ggplot2: Viewing data generated for a plot","<r><ggplot2>","1","0","","","","CC BY-SA 2.5","3843112","4452","4452","r","404559","3625322","3607736","",""
"3843284","1","3843365","","2010-10-01 21:54:35","","1","415","<p>I have a dataframe:</p>

<pre><code>priors &lt;- data.frame(dist = c('lnorm', 'beta', 'gamma'),
                      a   = c(0.5, 1, 10),
                      b   = c(0.4, 25, 4),
                      n   = c(100, 100, 100)
                     )
</code></pre>

<p>and I would like to take n samples from the distribution with parameters a and b.</p>

<p>I have written this function:</p>

<pre><code>pr.samp &lt;- function(n,dist,a,b) {eval (parse ( 
                    text = 
                    paste(""r"",dist,""("",n,"","",a,"","",b,"")"",sep = """")
                    ))}
</code></pre>

<p>I would like to know:</p>

<ol>
<li>is there a better approach?</li>
<li>how would I use one of the apply functions to run this on each row?</li>
<li>do I have to convert the dataframe to a matrix to do this?</li>
</ol>

<p>Thanks in advance!</p>
","199217","","","","","2010-10-01 22:21:05","how to sample distributions, given n, distribution name, and parameters in a dataframe?","<r><performance><apply>","1","2","1","","","CC BY-SA 2.5","3843284","4452","4452","r","404559","3625322","3607736","",""
"3843816","1","3843918","","2010-10-02 00:20:01","","8","4023","<p>I created a skeleton R package:</p>

<pre><code>lib
 jarFileHere.jar 
R
 r_code_file.R
</code></pre>

<p>The <em>r_code_file.R</em> tries to references a class file in <em>jarFileHere.jar</em>:</p>

<pre><code>library(""rJava"")
library(""rjson"")

.onLoad &lt;- function(libname, pkgname) {
  .jpackage(pkgname, lib.loc=libname)
}

.onLoad(""packagename"", ""../lib/jarFileHere.jar"")

.jnew(""com/test/ClassHere"", """") 
</code></pre>

<p>But I get a failure due to java.lang.NoClassDefFoundError.</p>

<p>I was able to get it to work using</p>

<pre><code>.jinit
.jaddClassPath(""../lib/jarFileHere.jar"")
</code></pre>

<p>but the rJava docs explicitly says not to use .jinit because it won't work when the code is used as a package.</p>
","337493","","680068","","2018-09-28 09:39:17","2018-09-28 09:39:17","Include jar file when creating an R package","<java><r><rjava>","1","0","3","","","CC BY-SA 4.0","3843816","4452","4452","r","404559","3625322","3607736","",""
"3843882","1","3856844","","2010-10-02 00:42:38","","6","6538","<p>I want to run a two stage probit least square regression in R. Does anyone know how to do this? Is there any package out there? I know it's possible to do it using Stata, so I imagine it's possible to do it with R.</p>
","242673","","1493368","","2013-08-25 16:56:34","2015-06-19 14:47:00","Two stage least square in R","<r><regression><stata><least-squares>","3","0","6","","","CC BY-SA 3.0","3843882","4452","4452","r","404559","3625322","3607736","",""
"3844112","1","3844222","","2010-10-02 02:27:19","","5","3429","<p>I am plotting a simple histogram of data sampled at, say, 10%.  I want counts on the y-axis, but since the data are sampled, I want them to be scaled appropriately.  If I were using base graphics, I'd do something like </p>

<pre><code>foo &lt;- rnorm(50)
foo.hist &lt;- hist(foo,plot=F)
foo.hist$counts &lt;- foo.hist$counts * 10
plot(foo.hist)
</code></pre>

<p>Is there an easy way to accomplish this with ggplot2?..  There are all sorts of ""canned"" y-axis transformations (scale_y_log(), etc); is there something more general-purpose?</p>
","133234","","","","","2012-08-30 14:52:56","Scale y-axis (counts) in ggplot2 histogram","<r><ggplot2>","1","0","1","","","CC BY-SA 2.5","3844112","4452","4452","r","404559","3625322","3607736","",""
"3846353","1","","","2010-10-02 15:24:23","","16","1713","<p>I'm a statistician by trade and I'd like some recommendations on how to set up a website that can collect data into a database.  For personal use, I use Google Forms to collect data, and everything gets populated into a spreadsheet.  However, this may not be appropriate in a more professional setting, especially when we have multiple pages/forms.  I imagine two uses:</p>

<ol>
<li>A website where I can send the link to others so they can fill out, similar to Google Forms.</li>
<li>A website where only authorized users can log in to fill out data.  Think of a setting where patients are followed periodically in a research study.  It'd be cool to have the clinician enter the data directly into the database as he/she fills out the forms as opposed to having another data analyst transcribe his written forms into the database.</li>
</ol>

<p>The obvious solution would be to hire a web developer.  However, I like doing things myself when they are manageable.  I imagine a web developer would have to know html, php, and database knowledge (eg, MySQL or PostgreSQL).  My experience in these are limited to setting up a wordpress blog on my linux server.  My experience with html is also limited as I use emacs org-mode to generate them from plain text.  I hope to hear about solutions with a minimal learning curve.  My preference of course would be free open source software and Linux-based, but I'd like to hear all available solutions (our data manager is a Windows user).</p>

<p>I recently read a <a href=""http://www.linuxjournal.com/content/redcap-tool-collecting-clinical-trails-data?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+linuxjournalcom+%28Linux+Journal+-+The+Original+Magazine+of+the+Linux+Community%29&amp;utm_content=Google+Reader"" rel=""noreferrer"">post</a> on Linux Journal that mentions <a href=""http://www.project-redcap.org/cite.php"" rel=""noreferrer"">REDCap</a>, but it seems you have to get institutional permission to use.</p>

<p>I also tagged ""R"" on this post as I'd like to hear what R users are doing about data collection.  I'll ultimately analyze the data with R, but all data analysis begins with the scientific question and data collection.</p>

<p>Thanks!</p>

<p>UPDATE 10/4/2010: Thanks everyone for the responses so far.  It appears most of the third-party solutions proposed so far has data housed in a database hosted by the vendor.  I'd like to house all data in our SQL Server.  That is, data entry from the web enters the database in real time, ready for data analysis.</p>
","199140","","398212","","2011-05-02 22:49:56","2014-07-08 17:29:56","data collection for statistics: from web to a database","<database><r><webforms><statistics>","4","5","6","","","CC BY-SA 3.0","3846353","4452","4452","r","404559","3625322","3607736","",""
"3847270","1","","","2010-10-02 19:46:21","","1","5319","<p>In R, what is the difference between class <code>ts</code> and class <code>timeSeries</code>? I think I am getting a problem in <code>HoltWinters</code> because of that. I'm getting:</p>

<pre><code>data(LakeHuron)
x &lt;- LakeHuron
before &lt;- window(x, end=1935)
after &lt;- window(x, start=1935)
a &lt;- .2
b &lt;- 0
g &lt;- 0
model &lt;- HoltWinters(before, alpha=a, beta=b, gamma=g)
</code></pre>

<blockquote>
  <p>""Error in decompose(ts(x[1L:wind], start = start(x), frequency = f), seasonal) : 
    time series has no or less than 2 periods""</p>
</blockquote>

<p>even though <code>gamma=0</code>.</p>

<p>Running R 2.11.1 (win32 x86) on a Windows 7 x64 machine.</p>
","464787","","","user4275591","2014-12-08 11:12:30","2014-12-08 11:12:30","In R, what is the difference between class ts and class timeSeries?","<r><time-series>","3","2","","","","CC BY-SA 3.0","3847270","4452","4452","r","404559","3625322","3607736","",""
"3847616","1","","","2010-10-02 21:34:32","","1","1413","<p>In R, how can you use Holt-Winters smoothing for a financial (""business-day"")-based time series? </p>

<p>(For example, a stock data time series has an irregular time index).</p>
","464787","","805808","","2012-05-05 13:54:48","2012-05-05 13:54:48","In R, how can you use Holt-Winters smoothing for a financial (""business-day"")-based time series?","<r><time-series>","2","1","1","","","CC BY-SA 2.5","3847616","4452","4452","r","404559","3625322","3607736","",""
"3849470","1","3849520","","2010-10-03 10:57:09","","9","8495","<p>I'd like to rbind the prediction output of an arima model to my original ts series object in a melt type of data format. But I get the following error message that I don't understand:</p>

<pre><code>Error in `[&lt;-.ts`(`*tmp*`, ri, value = c(12.2567768232753, -0.0141881223732589,  : 
  only replacement of elements is allowed
</code></pre>

<p>Heres some reproducible code, with some example data from yahoo finance:</p>

<pre><code># custom function to extract years from ts object
tsyears = function (ts){

years = as.data.frame(trunc(time(ts)))
return(years)

}

library(quantmod)
sp500 = new.env()

### get some fresh data directly from yahoo finance
getSymbols(""^GSPC"", env = sp500, src =""yahoo"", from = as.Date(""1960-01-01""),to =as.Date(""2010-09-29"") )


GSPC = sp500$GSPC

check what we got (last 6 entries)
tail(GSPC)

#calculate annual returns from all the adjusted closes
annual=annualReturn(GSPC)

model = arima(annual,c(1,1,0))
pd = predict(model,10)

q = ts(pd$pred,start=2010,end=2020)
w = as.ts(annual,start=1960,end=2009)

e=data.frame(tsyears(q),unclass(q),""prediction"")
names(e) = c(""years"",""return"",""series"")

w = data.frame(tsyears(w),unclass(w),""historical"")
names(w) = c(""years"",""return"",""series"")     

rbind(w,e)
</code></pre>

<p>What I would like to have is:</p>

<pre><code>year   return   series
2008     5        original
2009     -3       original
2010     6        prediction
2011     4        prediction
</code></pre>

<p>and so forth. From then on I would melt the dataset and use it with ggplot assigning different colors to the series value.</p>
","366256","","3885376","","2017-10-29 19:49:56","2017-10-29 19:49:56","Trouble rbinding ts objects  only replacement of elements is allowed?","<r>","1","0","4","","","CC BY-SA 3.0","3849470","4452","4452","r","404559","3625322","3607736","",""
"3852343","1","3852374","","2010-10-04 01:41:28","","4","11330","<p>Perhaps my brain is not working today but i cant figure out how to create a list from 2 character strings.</p>

<p>I've currently got </p>

<pre><code>scale_lab
[1] ""Very Poor""  ""Poor""       ""Average""    ""Good""       ""Very Good"" 
[6] ""Don't Know""
</code></pre>

<p>and</p>

<pre><code>scale_rep
[1] ""1"" ""2"" ""3"" ""4"" ""5"" ""9""
</code></pre>

<p>So what I want to do is combine the two into a list so that  1 = very poor, 2 = poor and so on.</p>
","435473","","172261","","2010-10-04 09:14:27","2010-10-04 09:14:27","Create Lists from Character String","<list><r><automation><character>","2","0","","","","CC BY-SA 2.5","3852343","4452","4452","r","404559","3625322","3607736","",""
"3852354","1","3852394","","2010-10-04 01:44:32","","41","42552","<p>Is it possible to parse text data from PDF files in R? There <a href=""http://crantastic.org/search?q=parse+pdf"" rel=""noreferrer"">does not appear to be a relevant package for such extraction</a>, but has anyone attempted or seen this done in R?</p>

<p>In <a href=""https://stackoverflow.com/questions/3637781/converting-a-pdf-to-text-html-in-python-so-i-can-parse-it"">Python there is PDFMiner</a>, but I would like to keep this analysis all in R if possible.</p>

<p>Any suggestions?</p>
","144537","","-1","","2017-05-23 12:18:17","2019-07-11 17:35:21","Extracting text data from PDF files","<pdf><r><parser-generator>","7","2","17","","","CC BY-SA 3.0","3852354","4452","4452","r","404559","3625322","3607736","",""
"3853654","1","3853770","","2010-10-04 08:27:42","","2","4096","<p>I have data of students from several schools. I want to show a histogram of the percentage of all students that passed the test in each school, using R.
My data looks like this (id,school,passed/failed):</p>

<p>432342 school1 passed</p>

<p>454233 school2 failed</p>

<p>543245 school1 failed</p>

<p>etc'</p>

<p>(The point is that I am only interested in the percent of students that passed, obviously those that didn't passed have failed. I want to have one column for each school that shows the percent of the students in that school that passed)</p>

<p>Thanks</p>
","131201","","131201","","2010-10-04 08:39:13","2016-10-09 07:07:48","Histogram in R when using a binary value","<r><histogram>","3","0","1","","","CC BY-SA 2.5","3853654","4452","4452","r","404559","3625322","3607736","",""
"3856245","1","3856372","","2010-10-04 14:36:31","","5","1763","<p>Let me add another scoping problem in R, this time with the snowfall package. If I define a function in my global environment, and I try to use that one later in an sfApply() inside another function, my first function isn't found any more :</p>

<pre><code>#Runnable code. Don't forget to stop the cluster with sfStop()
require(snowfall)
sfInit(parallel=TRUE,cpus=3)

func1 &lt;- function(x){
    y &lt;- x+1
    y
}

func2 &lt;- function(x){
    y &lt;- sfApply(x,2,function(i) func1(i) )
    y
}

y &lt;- matrix(1:10,ncol=2)
func2(y)
sfStop()
</code></pre>

<p>This gives :</p>

<pre><code>&gt; func2(y)
Error in checkForRemoteErrors(val) : 
  2 nodes produced errors; first error: could not find function ""func1""
</code></pre>

<p>If I nest my function inside the other function however, it works. It also works when I use the sfApply() in the global environment. Thing is, I don't want to nest my function func1 inside that function2, as that would cause that func1 is defined many times (func2 is used in a loop-like structure).</p>

<p>I've tried already simplifying the code to get rid of the double looping, but that's quite impossible due to the nature of the problem. Any ideas?</p>
","428790","","","","","2010-10-04 14:57:47","Scoping problem when sfApply is used within function (package snowfall - R)","<r><function><scoping>","2","0","1","","","CC BY-SA 2.5","3856245","4452","4452","r","404559","3625322","3607736","",""
"3857860","1","3860179","","2010-10-04 17:59:59","","1","1855","<p>So far I have this:</p>

<pre><code>hist &lt;- ggplot(Mydf, aes(x=Mydf$Avg.CPC))
breaks &lt;- c(min(Mydf$Avg.CPC), median(Mydf$Avg.CPC), max(Mydf$Avg.CPC))
h &lt;- hist + geom_bar(binwidth = 0.025, colour = ""black"", breaks = breaks)
print(h)
</code></pre>

<p>I get an error. It doesn't like having different widths. I would also like to have the Q1 and Q3 quartiles as breaks while I am at it. Is that not possible? I think it is called a violin plot. Thanks</p>
","450889","","","","","2010-10-05 00:47:09","How to have ggplot histogram bins follow boxplot breaks","<r><plot><ggplot2>","1","1","1","","","CC BY-SA 2.5","3857860","4452","4452","r","404559","3625322","3607736","",""
"3858461","1","3858569","","2010-10-04 19:33:41","","10","35439","<p>Is there a way that this can be improved, or done more simply?</p>

<pre><code>means.by&lt;-function(data,INDEX){
  b&lt;-by(data,INDEX,function(d)apply(d,2,mean))
  return(structure(
    t(matrix(unlist(b),nrow=length(b[[1]]))),
      dimnames=list(names(b),col.names=names(b[[1]]))
  ))
}
</code></pre>

<p>The idea is the same as a SAS MEANS BY statement.  The function 'means.by' takes a data.frame and an indexing variable and computes the mean over the columns of the data.frame for each set of rows corresponding to the unique values of INDEX and returns a new data frame with with the row names the unique values of INDEX.</p>

<p>I'm sure there must be a better way to do this in R but I couldn't think of anything.</p>
","65148","","","","","2016-02-05 02:30:22","compute means of a group by factor","<r><statistics>","4","1","3","","","CC BY-SA 2.5","3858461","4452","4452","r","404559","3625322","3607736","",""
"3858636","1","3864309","","2010-10-04 19:55:08","","1","511","<p>I'm making a prime generator, and to make it more efficient, i'm trying to only test numbers against primes that I've already found rather than all numbers &lt; sqrt of the number being tested.  I'm trying to get a to be my list of primes, but i'm not sure how to make it recur inside my second for loop.  I think this is only testing against <code>a &lt;- 2</code> and not <code>a &lt;- c(a,i)</code></p>

<pre><code>x &lt;- 3:1000
a &lt;- 2
for (i in x)
 {for (j in a)
  {if (i %% j == 0)
   {next}
  else {a &lt;- unique(c(a,i))}}}
a
</code></pre>
","446667","","680068","","2016-10-18 06:39:05","2016-10-18 06:39:05","Recursion in a prime generator","<r><primes>","2","2","","","","CC BY-SA 3.0","3858636","4452","4452","r","404559","3625322","3607736","",""
"3859312","1","3859548","","2010-10-04 21:34:21","","0","309","<p>can anyone tell me whats the algorithm used for this function:</p>

<p><a href=""http://stat.ethz.ch/R-manual/R-devel/library/utils/html/combn.html"" rel=""nofollow"">http://stat.ethz.ch/R-manual/R-devel/library/utils/html/combn.html</a> ? I want to implement the same for php, so any pointers to php implementation of the same function would also be helpful. Thanks.</p>
","429113","","","","","2010-10-04 22:11:22","algorithm of combn r","<php><algorithm><r>","1","3","","","","CC BY-SA 2.5","3859312","4452","4452","r","404559","3625322","3607736","",""
"3862418","1","3863074","","2010-10-05 09:35:36","","16","16678","<p>I have data that is mostly centered in a small range (1-10) but there is a significant number of points (say, 10%) which are in (10-1000). I would like to plot a histogram for this data that will focus on (1-10) but will also show the (10-1000) data. Something like a log-scale for th histogram.</p>

<p>Yes, i know this means not all bins are of equal size</p>

<p>A simple <code>hist(x)</code> gives
<img src=""https://i.stack.imgur.com/q4KFm.png"" alt=""alt text"">
while <code>hist(x,breaks=c(0,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,3,4,5,7.5,10,15,20,50,100,200,500,1000,10000)))</code> gives
<img src=""https://i.stack.imgur.com/iHgkp.png"" alt=""alt text""></p>

<p>none of which is what I want.</p>

<p><strong>update</strong>
following the answers here I now produce something that is almost exactly what I want (I went with a continuous plot instead of bar-histogram):</p>

<pre><code>breaks &lt;- c(0,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,4,8)
ggplot(t,aes(x)) + geom_histogram(colour=""darkblue"", size=1, fill=""blue"") + scale_x_log10('true size/predicted size', breaks = breaks, labels = breaks)![alt text][3]
</code></pre>

<p><img src=""https://i.stack.imgur.com/gnfLv.png"" alt=""alt text"">
the only problem is that I'd like to match between the scale and the actual bars plotted. There two options for doing that : the one is simply use the actual margins of the plotted bars (how?) then get ""ugly"" x-axis labels like 1.1754,1.2985 etc. The other, which I prefer, is to control the actual bins margins used so they will match the breaks.</p>
","377031","","377031","","2010-10-05 13:31:26","2019-04-15 01:17:20","How can I plot a histogram of a long-tailed data using R?","<r><histogram>","3","9","10","","","CC BY-SA 2.5","3862418","4452","4452","r","404559","3625322","3607736","",""
"3864475","1","5148141","","2010-10-05 14:12:38","","1","593","<p>I am running some large regression models in R in a grid computing environment.  As far as I know, the grid just gives me more memory and faster processors, so I think this question would also apply for those who are using R on a powerful computer.</p>

<p>The regression models I am running have lots of observations, and several factor variables that have many (10s or 100s) of levels each.  As a result, the regression can get computationally intensive.  I have noticed that when I line up 3 regressions in a script and submit it to the grid, it exits (crashes) due to memory constraints.  However, if I run it as 3 different scripts, it runs fine.  </p>

<p>I'm doing some clean up, so after each model runs, I save the model object to a separate file, rm(list=ls()) to clear all memory, then run gc() before the next model is run.  Still, running all three in one script seems to crash, but breaking up the job seems to be fine.</p>

<p>The sys admin says that breaking it up is important, but I don't see why, if I'm cleaning up after each run.  3 in one script runs them in sequence anyways.  Does anyone have an idea why running three individual scripts works, but running all the models in one script would cause R to have memory issues?</p>

<p>thanks!  EXL</p>
","424005","","134830","","2015-01-14 18:29:29","2015-01-14 18:29:29","Running R jobs on a grid computing environment","<r><memory-management><grid-computing>","1","1","","","","CC BY-SA 2.5","3864475","4452","4452","r","404559","3625322","3607736","",""
"3864535","1","3865225","","2010-10-05 14:18:31","","27","26705","<p>I tried adding a subtitle using <code>+opts(subtitle=""text"")</code> but nothing showed up. The main title does work (<code>+opts(title=""text"")</code>).</p>

<p>I would also like to use a larger font for the axis (labels and coordinates), but I can't tell how to do that.</p>
","377031","","","","","2016-11-17 21:21:09","How can I add a subtitle and change the font size of ggplot plots in R?","<r><ggplot2>","2","2","8","","","CC BY-SA 2.5","3864535","4452","4452","r","404559","3625322","3607736","",""
"3865096","1","3865179","","2010-10-05 15:19:49","","1","549","<p>I would like to run a sequence of R scripts from the bash command line. Can I keep the R session 'open' between calls? Or do I have to save and load objects and re-load the libraries in each script?</p>

<p>Thanks in advance</p>
","199217","","","","","2010-10-05 16:36:19","with sequential calls to $R CMD or $R --vanilla, do I have to reload libraries in each R script?","<bash><scripting><r>","2","0","1","","","CC BY-SA 2.5","3865096","4452","4452","r","404559","3625322","3607736","",""
"3865188","1","3865608","","2010-10-05 15:29:41","","1","1388","<p>I have a file where a data structure containing 6 columns is stored side by side. That means I have n times 6 columns stored in a flat file.<br>
Basically, I want to rearrange the data in a form that I only have a data.frame containing 6 columns but appending all the data from the file to the end of the first 6 columns.  </p>

<pre><code>Row 1V1 1V2 1V3 1V4 1V5 1V6 2V1 2V2 2V3 2V4 2V5 2V6 3V1...  
1  
2
</code></pre>

<p>The result should look like that moving data from 2V1-2V6 to the end of 1V1-1V6   </p>

<pre><code>Row V1 V2 V3 V4 V5 V6   
1-1  
1-2  
2-1  
2-2
</code></pre>

<p>I looked up some code snippets and could load the data into a data frame with all the vectors. Then I tried to create n dataframes containing always the repeating data structures. Then I tried to combine the single dataframes to a final one but it does not work.</p>

<pre><code>df&lt;-read.table(""test.txt"",header = FALSE, sep = "";"", skip = 2)
columnmax=as.integer(ncol(df)/6)
dfnew &lt;- vector(mode=""list"",length=columnmax)
for ( i in 1:columnmax) {
 start&lt;-((i-1)*6+1)
 end&lt;-(i*6)
 dfnew[[i]]&lt;-df[,start:end]
}
y &lt;- do.call(rbind, dfnew)
</code></pre>

<p><strong>RESULT:</strong></p>

<pre><code>Error in match.names(clabs, names(xi)) : 
  names do not match previous names
</code></pre>

<p>I used the list mode because I didnt get it working to separate the dataframe otherwise.
But it seems now to me that it makes the rbind to a problem because the ""columnnames"" are not identically.
I havent not even an idea how to change the column names because its not a matrix in R termini but a list.
I am sure there must be a much simpler way to do what I want but I am just beginning in R and not familiar with the many different concepts of data types.</p>

<p><strong>EDIT:</strong> DATA   </p>

<pre><code>structure(list(V1 = NA, V2 = NA, V3 = NA, V4 = NA, V5 = NA, V6 = NA, 
    V7 = NA, V8 = NA, V9 = NA, V10 = NA, V11 = NA, V12 = NA, 
    V13 = structure(1L, .Label = ""1,20101E+27"", class = ""factor""), 
    V14 = structure(1L, .Label = ""05.07.2010 14:50"", class = ""factor""), 
    V15 = structure(1L, .Label = ""ADMINISTRATOR"", class = ""factor""), 
    V16 = 1L, V17 = NA, V18 = NA, V19 = structure(1L, .Label = ""1,20101E+27"", class = ""factor""), 
    V20 = structure(1L, .Label = ""05.07.2010 14:50"", class = ""factor""), 
    V21 = structure(1L, .Label = ""ADMINISTRATOR"", class = ""factor""), 
    V22 = 1L, V23 = NA, V24 = NA, V25 = structure(1L, .Label = ""1,20101E+27"", class = ""factor""), 
    V26 = structure(1L, .Label = ""05.07.2010 14:50"", class = ""factor""), 
    V27 = structure(1L, .Label = ""ADMINISTRATOR"", class = ""factor""), 
    V28 = 1L, V29 = NA, V30 = NA, V31 = structure(1L, .Label = ""1,20101E+27"", class = ""factor""), 
    V32 = structure(1L, .Label = ""05.07.2010 14:50"", class = ""factor""), 
    V33 = structure(1L, .Label = ""ADMINISTRATOR"", class = ""factor""), 
    V34 = 1L, V35 = NA, V36 = NA, V37 = NA, V38 = NA, V39 = NA, 
    V40 = NA, V41 = NA, V42 = NA, V43 = NA, V44 = NA, V45 = NA, 
    V46 = NA, V47 = NA, V48 = NA, V49 = NA, V50 = NA, V51 = NA, 
    V52 = NA, V53 = NA, V54 = NA, V55 = NA, V56 = NA), .Names = c(""V1"", 
""V2"", ""V3"", ""V4"", ""V5"", ""V6"", ""V7"", ""V8"", ""V9"", ""V10"", ""V11"", 
""V12"", ""V13"", ""V14"", ""V15"", ""V16"", ""V17"", ""V18"", ""V19"", ""V20"", 
""V21"", ""V22"", ""V23"", ""V24"", ""V25"", ""V26"", ""V27"", ""V28"", ""V29"", 
""V30"", ""V31"", ""V32"", ""V33"", ""V34"", ""V35"", ""V36"", ""V37"", ""V38"", 
""V39"", ""V40"", ""V41"", ""V42"", ""V43"", ""V44"", ""V45"", ""V46"", ""V47"", 
""V48"", ""V49"", ""V50"", ""V51"", ""V52"", ""V53"", ""V54"", ""V55"", ""V56""
), row.names = 1L, class = ""data.frame"")
</code></pre>
","467007","","680068","","2014-05-15 11:41:15","2014-05-15 11:41:15","How to re arrange data in a dataframe using R(combine similiar repeating columns)","<r>","2","3","1","","","CC BY-SA 3.0","3865188","4452","4452","r","404559","3625322","3607736","",""
"3865865","1","3866273","","2010-10-05 16:50:06","","0","1465","<p>This is (the greatest part of) the cost function for a genetic optimization, so it needs to be really fast.  Right now it's painfully slow even for toy problem sizes.  I'm pretty sure there are faster ways to do many of the operations in this code, but I'm not that good at tuning R code.  Can anyone suggest anything?</p>

<p><code>Fb</code>, <code>Ft</code>, and <code>Fi</code> are scalar constants.  <code>tpat</code> is a large, constant 2D matrix.  <code>jpat</code> is a smaller matrix which is being optimized.  <code>nrow(tpat) == nrow(jpat)</code> and <code>ncol(tpat) %% ncol(jpat) == 0</code> are invariants.  All entries in <code>tpat</code> and <code>jpat</code> are real numbers in [0,1].</p>

<pre><code># Toy jamming model for genetic optimization.
#
# A jamming pattern is a vector of real numbers \in [0,1], interpreted
# as a matrix with subcarrier frequency bands in the rows and time
# slots in the columns.  Every time slot, the jammer transmits
# Gaussian noise centered on the subcarrier frequency (todo: should
# that be Gaussian baseband noise *modulated* onto the subcarrier
# frequency?) with intensity equal to the number in the appropriate
# matrix cell (0 = off, 1 = maximum power).
#
# A transmission pattern is similar, but there are many more time
# slots; the jamming pattern is repeated horizontally to cover the
# complete transmission pattern.  (todo: implement jamming duty cycles.)
#
# The transmitter is required to transmit complete packets of some
# fixed length equal to several time slots, and it uses a fixed
# intensity Itr &lt; 1 for each packet (we assume that the jammer is in
# between the transmitter and receiver, so its effective power at the
# receiver is higher).

Itr &lt;- 0.75;
Fb  &lt;- 0.1;
Ft  &lt;- 0.1;
Fi  &lt;- 0.5;

Nb  &lt;- 100;
Sj  &lt;- 30;
St  &lt;- Sj * 20;

# success metric
pkt.matrix &lt;- function(tpat) {
  # Find all the packets in tpat.  A packet is a contiguous sequence
  # of timeslots during which the transmitter was active on at least
  # one frequency band.  Returns a logical matrix with
  # nrow=(number of packets), ncol=(total timeslots), in which each
  # row will select one packet from the original matrix.
  runs &lt;- rle(ifelse(apply(tpat, 2, sum) &gt; 0, TRUE, FALSE));
  pkt  &lt;- matrix(FALSE, nrow=sum(runs$values == TRUE),
                 ncol=sum(runs$lengths));
  i &lt;- 1
  j &lt;- 1
  for (r in 1:length(runs$lengths)) {
    if (runs$values[r]) {
      pkt[i, j:(runs$lengths[r]+j-1)] &lt;- TRUE;
      i &lt;- i + 1;
    }
    j &lt;- j + runs$lengths[r];
  }
  return(pkt);
}

success.metric &lt;- function(jpat, tpat) {
  if (ncol(tpat) %% ncol(jpat)) error(""non-conformable arrays"");
  if (ncol(tpat) &gt; ncol(jpat))
    # there must be a better way to do this...
    jpat &lt;- do.call(cbind, rep(alist(jpat), ncol(tpat)/ncol(jpat)));

  pktm &lt;- pkt.matrix(tpat);
  pkts &lt;- nrow(pktm);
  jammed &lt;- 0;
  for (i in 1:pkts) {
    pkt &lt;- tpat[,pktm[i,]];
    jam &lt;- jpat[,pktm[i,]];

    # jamming on a channel not being used by the transmitter at the time
    # is totally ineffective
    jam[pkt==0] &lt;- 0;

    # at least Ft of the time slots used by `pkt` must have had at least
    # one channel jammed
    if (sum(apply(jam, 2, sum) &gt; 0) &lt; Ft * ncol(pkt)) next;

    # at least Fb of the time slots used by `pkt` must have been jammed
    # at least once
    if (sum(apply(jam, 1, sum) &gt; 0) &lt; Fb * nrow(pkt)) next;

    # the total intensity produced by the jammer must be at least Fi the
    # total intensity produced by the source
    if (sum(jam) &lt; Fi * sum(pkt)) next;

    jammed &lt;- jammed + 1;
  }
  return((pkts - jammed) * 100 / pkts);
}

# some `tpat` examples; `jpat` is generated by genoud()
## saturation transmission: on for 19, off for 1
sat.base &lt;- c(rep(Itr, 19), 0);
### single constant subcarrier
sat.scs &lt;- matrix(0, nrow=Nb, ncol=St);
sat.scs[Nb/2,] &lt;- sat.base;

### FHSS with an incredibly foolish hopping pattern
sat.fhss &lt;- matrix(0, nrow=Nb, ncol=St);
# razzum frazzum 1-based arrays
sat.fhss[((col(sat.fhss) - 1) %% nrow(sat.fhss)) + 1 == 
         row(sat.fhss)] &lt;- sat.base;
</code></pre>
","388520","","388520","","2010-10-05 18:44:46","2010-10-05 21:14:08","R - optimize objective function (does lots of matrix manipulation)","<optimization><r>","3","3","","","","CC BY-SA 2.5","3865865","4452","4452","r","404559","3625322","3607736","",""
"3866208","1","3866378","","2010-10-05 17:39:23","","2","1381","<p>I have a factored time series that looks like this: </p>

<pre><code>df &lt;- data.frame(a=c(""11-JUL-2004"", ""11-JUL-2005"", ""11-JUL-2006"", 
                   ""11-JUL-2007"", ""11-JUL-2008""),
                 b=c(""11-JUN-1999"", ""11-JUN-2000"", ""11-JUN-2001"", 
                     ""11-JUN-2002"", ""11-JUN-2003""))
</code></pre>

<p>First, I would like to convert this to a format native to R. Second, I would like to calculate the number of months between the two columns. </p>

<h1>Update:</h1>

<p>Essentially I'm trying to recreate what I do in SPSS, in R. </p>

<p>In SPSS I would: </p>

<ol>
<li>Convert the strings to date format DD-MMM-YYYY</li>
<li>COMPUTE. RND((a-b)/60/60/24/30.416)</li>
</ol>

<p>30.416 is short for 365/12 I don't care so much about month edge cases, hence the rounding operation. </p>
","170352","","170352","","2010-10-05 18:02:15","2010-10-06 15:30:07","Calculating Months between Factored Time Variables","<r>","5","4","2","","","CC BY-SA 2.5","3866208","4452","4452","r","404559","3625322","3607736","",""
"3867127","1","3867291","","2010-10-05 19:44:35","","2","2765","<p>Suppose I have a data array,</p>

<p><code>dat &lt;- array(NA, c(115,45,10))</code></p>

<p>How can I get a new data array</p>

<p><code>dat1&lt;- array(NA, c(115,45))</code> by averaging <code>dat</code> by the third dimension?</p>

<p>Thanks</p>
","467243","","176923","","2010-10-05 20:10:42","2010-10-05 20:10:42","How to reduce the array dimensions in R?","<r>","1","1","","","","CC BY-SA 2.5","3867127","4452","4452","r","404559","3625322","3607736","",""
"3867140","1","3867252","","2010-10-05 19:46:14","","4","564","<p>I'm interested in experimenting with writing R code on my laptop which I then execute on an Amazon S3 machine. I want the execution to be interactive because I'm building a work flow and the data is only on my EC2 instance, not on my local machine. </p>

<p>I could redirect X11 to put the remove ESS window on my local machine, but I've had some latency issues with that. What I would like to do is just have ESS send the execute command to the remote machine. </p>

<p>In Googling around I found a <a href=""http://blog.nguyenvq.com/2009/06/01/run-a-remote-r-session-in-emacs-emacs-ess-r-ssh/"" rel=""nofollow"">very interesting blog post</a> that seems to do exactly this including redirecting graphical output to my local machine. Anyone had experience with this type of work flow on Amazon EC2 and have any tips/tricks/advice? </p>
","37751","","143305","","2010-10-05 19:56:41","2013-08-31 15:46:23","Using ESS on my desktop to run R in the cloud","<r><amazon-ec2><cloud><ess>","2","3","4","","2010-10-05 19:46:14","CC BY-SA 2.5","3867140","4452","4452","r","404559","3625322","3607736","",""
"3868018","1","3868113","","2010-10-05 21:47:00","","1","527","<p>The command <code>R CMD check</code> runs the R files in the project's tests directory.</p>

<p>The directory structure:</p>

<pre><code>toplevel
  project
    R
      rmongo.R
    tests
      RMongo-Ex.R
</code></pre>

<p>When I <code>R CMD check</code> project in toplevel directory, i run into this error:</p>

<pre><code>cannot open file '../R/rmongo.R': No such file or directory
</code></pre>

<p>because my test file sources the R code file <code>source('../R/rmongo.R', chdir = TRUE)</code></p>

<p>How can I make <code>R CMD check</code> cd into the test directory before running test file?</p>
","337493","","5861244","","2018-06-30 19:24:23","2018-06-30 19:24:23","How can I specify the working directory while running R CMD check?","<r><packages>","1","1","1","","","CC BY-SA 4.0","3868018","4452","4452","r","404559","3625322","3607736","",""
"3868988","1","","","2010-10-06 01:45:51","","0","168","<p>Has anyone ever received a runtime error '13' type mismatch when trying to run R from within Excel using RExcel?  </p>

<p>The install previously worked.</p>

<p>Any help very much appreciated.</p>
","155406","","","","","2010-10-12 23:18:24","RExcel Runtime Error","<r>","1","3","","","","CC BY-SA 2.5","3868988","4452","4452","r","404559","3625322","3607736","",""
"3870303","1","","","2010-10-06 07:35:14","","4","3579","<p>I need to draw many different tile plots, which have squares and dots on top of the tiles according to 
data. Unfortunately I cannot include illustrating picture, but basically the plot consist of tiles which either have squares and dots on them or not. </p>

<p>Each of those figures has different number of tiles on x-direction and y-direction. As a result, I cannot use  absolute units (mm) to scale the dot sizes and box sizes. Is there any way to specify the size of the dot in relative terms. For instance, like <code>geom_point(aes(x=x, y=y), size = 0.5 * tile_size())</code>. </p>

<p>The following <strong>buggy</strong> code snippet</p>

<blockquote>
  <p><code>df &lt;- data.frame(x=factor(c(1:4), labels=c(""a"", ""b"", ""c"", ""d"")), y=factor(c(1:4), labels=c(""f"", ""g"", ""h"", ""j"")))</code><br>
  <code>p &lt;- ggplot(data = df) + geom_tile(aes(x=x, y=y), fill=""green"", color=""black"")</code><br>
  <code>p &lt;- p + opts(aspect.ratio=2)</code><br> 
  <code>p &lt;- p + geom_point(aes(x=x, y=y), color=""red"", size = 4, shape=15, color=""red"")</code><br>
  <code>p &lt;- p + geom_point(aes(x=x, y=y), color=""blue"", size = 2)</code><br>
  <code>p &lt;- p + scale_x_discrete(""Variables"") + scale_y_discrete(""Time"")</code><br>
  <code>show(p)</code></p>
</blockquote>

<p>almost achieves the desired functionality, except if I resize the graphical window or the pdf dimensions, the relative size of  points and boxes with respect to the tile sizes changes. In particular, the dots and boxes might be larger than the tile they are drawn on, which is absolute no-no. </p>

<p>If relative scaling of point size is impossible, then I would like to know is it possible to specify the dimensions of the plot area (plot without axes labels, ticks and so on) using <code>ggsave()</code> or <code>pdf()</code>. Then I could do relative scaling by myself.        </p>
","467686","","467686","","2010-10-06 11:39:13","2010-10-06 12:40:35","Controlling relative size of points in ggplot2 plots","<r><ggplot2><plot>","1","2","","","","CC BY-SA 2.5","3870303","4452","4452","r","404559","3625322","3607736","",""
"3871473","1","3873375","","2010-10-06 10:17:24","","4","2620","<p>Here is an example of my problem</p>

<pre><code>library(RWeka)
iris &lt;- read.arff(""iris.arff"")
</code></pre>

<p>Perform nfolds to obtain the proper accuracy of the classifier.</p>

<pre><code>m&lt;-J48(class~., data=iris)
e&lt;-evaluate_Weka_classifier(m,numFolds = 5)
summary(e)
</code></pre>

<p>The results provided here are obtained by building the model with a part of the dataset and testing it with another part, therefore provides accurate precision</p>

<p>Now I Perform AdaBoost to optimize the parameters of the classifier</p>

<pre><code>m2 &lt;- AdaBoostM1(class ~. , data = temp ,control = Weka_control(W = list(J48, M = 30)))
summary(m2)
</code></pre>

<p>The results provided here are obtained by using the same dataset for building the model and also the same ones used for evaluating it, therefore the accuracy is not representative of real life precision in which we use other instances to be evaluated by the model. Nevertheless this procedure is helpful for optimizing the model that is built.</p>

<p>The main problem is that I can not optimize the model built, and at the same time test it with data that was not used to build the model, or just use a nfold validation method to obtain the proper accuracy.</p>
","455865","","428790","","2010-10-06 10:50:09","2010-10-06 14:25:37","Using r and weka. How can I use meta-algorithms along with nfold evaluation method?","<r><machine-learning><data-mining><weka>","1","4","2","","","CC BY-SA 2.5","3871473","4452","4452","r","404559","3625322","3607736","",""
"3871686","1","","","2010-10-06 10:48:34","","1","239","<p>I have two data frames that both have a column containing a factor like the following:</p>

<pre><code>&gt; head(test.data)
      var0     var1       date  store
1 109.5678 109.5678 1990-03-30 Store1
2 109.3009 108.4261 1990-06-30 Store1
3 108.8262 106.2517 1990-09-30 Store1
4 108.2443 108.6417 1990-12-30 Store1
5 109.5678 109.5678 1991-03-30 Store1
6 109.3009 108.4261 1991-06-30 Store1
&gt; summary(test.data)
      var0             var1              date                store   
 Min.   : -9.72   Min.   : -2.297   Min.   :1990-03-30   Store1 : 8  
 1st Qu.: 68.32   1st Qu.: 71.305   1st Qu.:1990-09-07   Store2 : 8  
 Median :102.19   Median :101.192   Median :1991-02-13   Store3 : 8  
 Mean   :101.09   Mean   :103.042   Mean   :1991-02-13   Store4 : 8  
 3rd Qu.:151.22   3rd Qu.:151.940   3rd Qu.:1991-07-23   Store5 : 8  
 Max.   :196.55   Max.   :201.099   Max.   :1991-12-30   Store6 : 8  
                                                         (Other):48  
&gt;
&gt; head(test.clusters)
   store cluster
1 Store1       A
2 Store2       C
3 Store3       A
4 Store4       B
5 Store5       D
6 Store6       A
&gt;
&gt; summary(test.clusters)
     store   cluster
 Store1 :1   A:5    
 Store2 :1   B:4    
 Store3 :1   C:2    
 Store4 :1   D:1    
 Store5 :1          
 Store6 :1          
 (Other):6          
&gt; 
</code></pre>

<p>I want to add a column to <code>test.data</code> containing each row's <code>cluster</code>, based on their shared <code>store</code>.  I am currently doing this using a doubly nested loop:</p>

<pre><code>new_col &lt;- rep(test.clusters$cluster[1], length(test.data$store))
for (i in seq(test.data$store)){
  for (j in seq(test.clusters$store)){
    if (test.data$store[i] == test.clusters$store[j]){
      new_col[i] &lt;- test.clusters$cluster[j]
      break
    }       
  }
}
test.data$cluster &lt;- new_col
</code></pre>

<p>This is very verbose, grossly inefficient and frankly ugly.  What is the idiomatic method for doing this in R?</p>
","103225","","","","","2010-10-06 12:37:01","Idiomatic R method for ""left joining"" two data frames","<r><loops><join><idioms>","3","0","1","","","CC BY-SA 2.5","3871686","4452","4452","r","404559","3625322","3607736","",""
"3872070","1","3872213","","2010-10-06 11:46:59","","127","215293","<p>How can I tell R to use a certain level as reference if I use binary explanatory variables in a regression?</p>

<p>It's just using some level by default. </p>

<pre><code>lm(x ~ y + as.factor(b)) 
</code></pre>

<p>with <code>b {0, 1, 2, 3, 4}</code>. Let's say I want to use 3 instead of the zero that is used by R. </p>
","366256","","5856119","","2017-08-11 11:28:21","2019-10-28 12:51:13","How to force R to use a specified factor level as reference in a regression?","<r><regression><linear-regression><categorical-data><dummy-variable>","6","3","55","","","CC BY-SA 3.0","3872070","4452","4452","r","404559","3625322","3607736","",""
"3874376","1","3874552","","2010-10-06 15:50:29","","3","267","<p>I have some code where it is more convenient to call <code>fix</code> via <code>do.call</code>, rather than directly.  Any old data frame will work for this example:</p>

<pre><code>dfr &lt;- data.frame(x = 1:5, y = letters[1:5])
</code></pre>

<p>The obvious first attempt is </p>

<pre><code>do.call(""fix"", list(dfr))
</code></pre>

<p>Unfortunately, this fails with </p>

<pre><code>Error in fix(list(x = 1:5, y = 1:5)) : 'fix' requires a name
</code></pre>

<p>So, we give it a name:</p>

<pre><code>do.call(""fix"", list(dfr = dfr))
</code></pre>

<p>This time it fails with</p>

<pre><code>Error in is.name(subx) : 'subx' is missing
</code></pre>

<p>For the record, <code>edit</code> doesn't work either.</p>

<pre><code>dfr &lt;- do.call(""edit"", list(dfr = dfr))
</code></pre>

<p>Can anyone think of a sensible workaround, please?</p>

<p>EDIT: Upon reflection, I'd forgotten that <code>fix</code> always dumps its answer into the global environment, which is fine for test examples, but not so good for use with functions.  Joshua's excellent workaround doesn't extend to use with <code>edit</code>.  </p>

<p>For bonus points, how do you call <code>edit</code> via <code>do.call</code>?</p>
","134830","","428790","","2011-02-10 17:06:36","2011-02-10 17:06:36","Can you use fix via do.call?","<r><do.call>","2","0","2","","","CC BY-SA 2.5","3874376","4452","4452","r","404559","3625322","3607736","",""
"3874500","1","3874864","","2010-10-06 16:02:19","","0","640","<p>Suppose I have a data array,</p>

<pre><code>dat &lt;- array(NA, c(115,45,248))
</code></pre>

<p>Q1: What I do if I want to get a new data array, </p>

<pre><code>datnew &lt;- array(NA, c(115,45,248))
</code></pre>

<p>in which, all the positive value remain and the negative value changed to <code>NA</code>?</p>

<p>Q2: What I do if I want to get a new data array,</p>

<pre><code> datnew &lt;- array(NA,c(115,45,31))
</code></pre>

<p>by averaging with the third dimension, but only averaging every 8 values?</p>

<p>Thanks a lot.</p>
","467243","","168747","","2010-10-06 16:06:50","2010-10-06 17:48:56","How to keep certain values in an array in R?","<r>","3","1","","","","CC BY-SA 2.5","3874500","4452","4452","r","404559","3625322","3607736","",""
"3875608","1","13045045","","2010-10-06 18:15:35","","7","6259","<p>Let's say I have a data frame like this: </p>

<pre><code>df &lt;- data.frame(a=letters[1:26],1:26)
</code></pre>

<p>And I would like to ""re"" factor a, b, and c as ""a"".</p>

<p>How do I do that?</p>
","170352","","","","","2015-04-29 01:57:53","Grouping/recoding factors in the same data.frame","<r>","5","0","4","","","CC BY-SA 2.5","3875608","4452","4452","r","404559","3625322","3607736","",""
"3876219","1","3877100","","2010-10-06 19:36:05","","4","8194","<p>I have two density curves plotted using this:</p>

<pre><code>Network &lt;- Mydf$Networks
quartiles &lt;-  quantile(Mydf$Avg.Position,  probs=c(25,50,75)/100)
density &lt;- ggplot(Mydf, aes(x = Avg.Position, fill = Network))
d &lt;- density + geom_density(alpha = 0.2) + xlim(1,11) + opts(title = ""September 2010"") + geom_vline(xintercept = quartiles, colour = ""red"")
print(d)
</code></pre>

<p>I'd like to compute the area under each curve for a given Avg.Position range. Sort of like pnorm for the normal curve. Any ideas? </p>
","450889","","1140748","","2012-05-06 16:42:58","2012-05-06 16:42:58","Calculating an area under a continuous density plot","<r><ggplot2><area><curve>","2","0","4","","","CC BY-SA 2.5","3876219","4452","4452","r","404559","3625322","3607736","",""
"3876571","1","3877167","","2010-10-06 20:25:25","","8","4070","<p>The xml file has this snippet:</p>

<pre><code>&lt;?xml version=""1.0""?&gt;
&lt;PC-AssayContainer
    xmlns=""http://www.ncbi.nlm.nih.gov""
    xmlns:xs=""http://www.w3.org/2001/XMLSchema-instance""
    xs:schemaLocation=""http://www.ncbi.nlm.nih.gov ftp://ftp.ncbi.nlm.nih.gov/pubchem/specifications/pubchem.xsd""
&gt;
....
    &lt;PC-AnnotatedXRef&gt;
      &lt;PC-AnnotatedXRef_xref&gt;
        &lt;PC-XRefData&gt;
          &lt;PC-XRefData_pmid&gt;17959251&lt;/PC-XRefData_pmid&gt;
        &lt;/PC-XRefData&gt;
      &lt;/PC-AnnotatedXRef_xref&gt;
    &lt;/PC-AnnotatedXRef&gt;
</code></pre>

<p>I tried to parse it using xpath's global search and also tried with some namespacing:</p>

<pre><code>library('XML')
doc = xmlInternalTreeParse('http://s3.amazonaws.com/tommy_chheng/pubmed/485270.descr.xml')
&gt;xpathApply(doc, ""//PC-XRefData_pmid"")
list()
attr(,""class"")
[1] ""XMLNodeSet""
&gt; getNodeSet(doc, ""//PC-XRefData_pmid"")
list()
attr(,""class"")
[1] ""XMLNodeSet""
&gt; xpathApply(doc, ""//xs:PC-XRefData_pmid"", ns=""xs"")
list()
&gt; xpathApply(doc, ""//xs:PC-XRefData_pmid"", ns= c(xs = ""http://www.w3.org/2001/XMLSchema-instance""))
list()
</code></pre>

<p>Shouldn't the xpath match:</p>

<pre><code>&lt;PC-XRefData_pmid&gt;17959251&lt;/PC-XRefData_pmid&gt;
</code></pre>
","337493","","1036500","user357812","2014-03-07 07:26:18","2014-03-07 07:26:18","How can I use xpath querying using R's XML library?","<xml><r><xpath><xquery>","2","2","1","","","CC BY-SA 3.0","3876571","4452","4452","r","404559","3625322","3607736","",""
"3879520","1","","","2010-10-07 07:26:46","","2","1212","<p>I'm trying to implement a variable exponential moving average on a time series of intraday data (i.e 10 seconds). By variable, I mean that the size of the window included in the moving average depends on another factor (i.e. volatility). I was thinking of the following:</p>

<p>MA(t)=alpha(t)*price(t) + (1-alpha(t))MA(t-1), </p>

<p>where alpha corresponds for example to a changing volatility index.</p>

<p>In a backtest on huge series (more than 100000) points, this computation causes me ""troubles"". I have the complete vectors alpha and price, but for the current values of MA I always need the value just calculated before. Thus, so far I do not see a vectorized solution????</p>

<p>Another idea, I had, was trying to directly apply the implemented EMA(..,n=f()) function to every data point, by always having a different value for f(). But I do not find a fast solution neither so far.</p>

<p>Would be very kind if somebody could help me with my problem??? Even other suggestions of how constructing a variable moving average would be great.</p>

<p>Thx a lot in advance
Martin </p>
","468808","","428790","","2010-10-07 08:31:39","2010-10-09 23:31:17","Efficient computation of ""variable (number of points included)"" moving average in R","<variables><r><performance><moving-average>","3","1","1","","","CC BY-SA 2.5","3879520","4452","4452","r","404559","3625322","3607736","",""
"3879522","1","3879807","","2010-10-07 07:26:51","","31","64361","<p>Suppose you have a list of values</p>

<pre><code>x &lt;- list(a=c(1,2,3), b = c(2,3,4), c=c(4,5,6))
</code></pre>

<p>I would like to find unique values from all list elements combined. So far, the following code did the trick</p>

<pre><code>unique(unlist(x))
</code></pre>

<p>Does anyone know a more efficient way? I have a hefty list with a lot of values and would appreciate any speed-up.</p>
","322912","","","","","2015-07-13 17:46:03","finding unique values from a list","<list><r><unique>","1","0","10","","","CC BY-SA 2.5","3879522","4452","4452","r","404559","3625322","3607736","",""
"3881278","1","3881365","","2010-10-07 11:46:39","","33","24145","<p>Is there a way to produce a PDF of a table from R in the same way you produce a plot (ie with pdf() or ggsave())? I realize there are ways with other programs (using sweave etc.), but I would like to produce it just from R. </p>
","378085","","","","","2019-03-14 13:40:59","Create a PDF table","<r>","5","0","21","","","CC BY-SA 2.5","3881278","4452","4452","r","404559","3625322","3607736","",""
"3882063","1","3882235","","2010-10-07 13:23:56","","3","915","<p>I recently investigate a integration between ruby and R on Windows 7. So far, <em>rinruby</em> hangs (on my <em>Windows7</em> machine) when I run a script.  Now I learn from <a href=""http://rubyforge.org/forum/message.php?msg_id=91848"" rel=""nofollow"">this post</a> that <em>rsruby</em> does not work on Windows at all. Does anybody know a library that would work?</p>
","410823","","226476","","2010-10-07 13:26:15","2010-10-07 13:57:55","Is there a library that integrates R into ruby?","<ruby><r><windows-7><integration>","2","1","","","","CC BY-SA 2.5","3882063","4452","4452","r","404559","3625322","3607736","",""
"3883607","1","3884353","","2010-10-07 16:11:09","","3","5008","<p>I have question about ddply and subset.</p>

<p>I have dataframe df like this : </p>

<pre><code>df &lt;- read.table(textConnection(
""   id v_idn v_seed v_time v_pop v_rank v_perco 
    1  15    125648 0      150   1      15      
    2  17    125648 0      120   2      5       
    3  18    125648 0      100   3      6       
    4  52    125648 0      25    4      1       

    5  17    125648 10     220   1      5      
    6  15    125648 10     160   2      15       
    7  18    125648 10     110   3      6      
    8  52    125648 10     50    4      1       

    9  56   -11152  0      250   1      17      
    10 15   -11152  0      180   2      15      
    11 18   -11152  0      110   3      6       
    12 22   -11152  0      5     4      14      

    13 56   -11152  10     250   1      17      
    14 15   -11152  10     180   2      15      
    15 22   -11152  10     125   3      14      
    16 18   -11152  10     120   4      6 ""), header=TRUE)      
</code></pre>

<p><strong>STEP ONE :</strong> </p>

<p>I have a list of equal interval with cut_interval like this : </p>

<pre><code>myinterval &lt;- cut_interval(c(15,5,6,1,17,14), length=10)  
</code></pre>

<p>So i have two levels here : [0,10) and (10,20] </p>

<p><strong>STEP TWO :</strong></p>

<p>I want each group/class is define by my two levels in v_cut ... like this :</p>

<pre><code>id v_idn v_seed v_time v_pop v_rank v_perco v_cut
1  15    125648 0      150   1      15      (10,20]
2  17    125648 0      120   2      5       [0,10)
3  18    125648 0      100   3      6       [0,10)
4  52    125648 0      25    4      1       [0,10)

5  17    125648 10     220   1      5       [0,10)
6  15    125648 10     160   2      15      (10,20] 
7  18    125648 10     110   3      6       [0,10)
8  52    125648 10     50    4      1       [0,10)

9  56   -11152  0      250   1      17      (10,20]
10 15   -11152  0      180   2      15      (10,20]
11 18   -11152  0      110   3      6       [0,10)
12 22   -11152  0      5     4      14      (10,20]

13 56   -11152  10     250   1      17      (10,20]
14 15   -11152  10     180   2      15      (10,20]
15 22   -11152  10     125   3      14      (10,20]
16 18   -11152  10     120   4      6       [0,10)
</code></pre>

<p><strong>STEP 3 :</strong></p>

<p>I want to know the variability of v_rank for x axis, and time for y axis, for each group v_cut, so i need to compute min,mean,max,sd for v_rank value with something like </p>

<pre><code>ddply(df, .(v_cut,v_time), summarize ,mean = mean(v_rank), min = min(v_rank), max = max(v_rank), sd = sd(v_rank))
</code></pre>

<p>*<em>RESULT WANTED : *</em></p>

<pre><code>id  v_time MEAN.v_rank ... v_cut
1   0      2.25            (10,20]
2   0      2.42            [0,10)
3   10     2.25            [0,10)
4   10     2.42            (10,20]
</code></pre>

<p><strong>MY PROBLEM</strong> </p>

<p>I don't know how to pass step 1 -> step 2 :/</p>

<p>And if it's possible to group by v_cut like my example in step 3 ?</p>

<p>Is there a possibility to make the same things with the ""subset"" option of ddply ? </p>

<p>One more time, thanks a lot for your help great R guru !</p>

<p><strong>UPDATE 1 :</strong></p>

<p>I have an answer to go step1 to step2 : </p>

<pre><code>df$v_cut &lt;- cut_interval(df$v_perco,n=10)
</code></pre>

<p>I'm using plyr, but there are perhaps a better answer in this case ?</p>

<p>Answer to go to step 2 to step 3 ?</p>

<p><strong>UPDATE 2 :</strong></p>

<p>Brandon Bertelsen give me a good answer with melt + cast, but now (to understand) i want to make the same operation with plyr and ddply .. with a different result : </p>

<pre><code>id  v_idn v_time MEAN.v_rank ... v_cut
    1   15   0      2.25            (10,20]
    2   15   10     2.45            (10,20]
    2   17   0      1.52            [0,10)
    2   17   10     2.42            [0,10)
    etc. 
</code></pre>

<p>I'm trying with something like this : </p>

<pre><code>r('sumData &lt;- ddply(df, .(v_idn,v_time), summarize,min = min(v_rank),mean =  mean(v_rank), max = max(v_rank), sd=sd(v_rank))')
</code></pre>

<p>But i want to have v_cut in my sumData dataframe, how can i do with ddply ? is there an option to make this ? Or merging with initial df and key = v_idn to add column v_cut to sumData is the only good answer ?</p>
","385881","","385881","","2010-10-08 09:15:18","2010-10-08 15:50:27","Classify or cut dataframe by list of class range and summarize it with ddply","<r><subset><summary><cut><plyr>","2","2","","","","CC BY-SA 2.5","3883607","4452","4452","r","404559","3625322","3607736","",""
"3884339","1","","","2010-10-07 17:47:48","","1","243","<p>I'm trying to find the maximum diagonal product of 2 digit numbers in a 20x20 matrix. </p>

<p>This gives an error message :</p>

<pre><code>i &lt;- 17:1
z &lt;- for (j in 1:(18-i))
        {b &lt;- max ((x[i,j]*x[i+1,j+1]*x[i+2,j+2]*x[i+3,j+3]))}}
</code></pre>

<p>But this doesn't:</p>

<pre><code>z &lt;- for (i &lt;- 17:1)
{for (j in 1:(18-i))
        {b &lt;- max ((x[i,j]*x[i+1,j+1]*x[i+2,j+2]*x[i+3,j+3]))}}
</code></pre>

<p>but the second version gives me a number too small .  Why does the first one not work, i think it would yield the correct answer, but i don't understand the error message.</p>
","446667","","428790","","2010-10-08 10:20:57","2010-10-08 10:22:43","in or out of a for loop in R - calculating the diagonal product of a matrix","<r><matrix><for-loop>","2","2","","","","CC BY-SA 2.5","3884339","4452","4452","r","404559","3625322","3607736","",""
"3885022","1","","","2010-10-07 19:10:14","","3","1036","<p><br>
here is my question:<br>
i have these data</p>

<pre><code> summary(data)

   Date                  
 1990/01:  1                
 1990/02:  1               
 1990/03:  1                
 1990/04:  1               
 1990/05:  1               
 1990/06:  1               
 (Other):242               

  attribute
 Min.   :164.9  
 1st Qu.:201.5  
 Median :244.1  
 Mean   :274.6  
 3rd Qu.:313.3  
 Max.   :512.1  
 NA's   :  1.0  
</code></pre>

<p>and i want to draw a time series plot</p>

<p>so i tried this:</p>

<pre><code>qplot(as.Date(Date, ""%Y/%m/%d""), attribute, data = data, geom = ""line"", main=""Attribute per month 1990-2010"", xlab=""month-year"", ylab=""attribute"" , colour = I(""steelblue4""),fill = I(""steelblue4""))
</code></pre>

<p>and i got:<br>
Error in seq.int(r1$year, to$year, by) : 'from' must be finite<br>
In addition: Warning messages:<br>
1: In min(x) : no non-missing arguments to min; returning Inf<br>
2: In max(x) : no non-missing arguments to max; returning -Inf  </p>

<p>any ideas to solve it?</p>

<p>thank you</p>
","469496","","170792","","2010-10-08 07:29:17","2010-10-12 15:59:10","time series in R","<r><ggplot2><time-series>","1","1","","","","CC BY-SA 2.5","3885022","4452","4452","r","404559","3625322","3607736","",""
"3885029","1","3885226","","2010-10-07 19:10:45","","2","8656","<p>I have a simple <code>R</code> beginner's question:</p>

<p>How do I express the sum below most concisely in <code>R</code>?</p>

<pre><code>sum_{i=1}^n a / (a+i)
</code></pre>

<p>I tried the following, but there must be a better way, without actually calling <code>for</code>:</p>

<pre><code>r&lt;-0
for(i in 1:n){ r &lt;- r + (a / (a+i)) }
</code></pre>

<p>Thanks!</p>
","60628","","60628","","2010-10-07 19:17:35","2010-10-07 19:35:36","How to express this sum concisely in R?","<r><for-loop>","2","0","","","","CC BY-SA 2.5","3885029","4452","4452","r","404559","3625322","3607736","",""
"3887291","1","3887325","","2010-10-08 02:28:08","","3","324","<p>I think this is very easy but my R kung-fu is weak. I'm trying to create a vector of itself in a cumulative way. This code works but I'd like something much more elegant and automated. I have millions of rows that need to be cumulated.</p>

<pre><code>a &lt;- c(4,4,5,1,9)
a &lt;- a[order(-a[])]
k &lt;- a[1:length(a)]/sum(a)
w &lt;- c(k[1],k[1]+k[2],k[1]+k[2]+k[3],k[1]+k[2]+k[3]+k[4],k[1]+k[2]+k[3]+k[4]+k[5])
w
</code></pre>
","450889","","","","","2010-10-08 13:43:10","How to create self cumulating vector in R","<r>","2","0","","","","CC BY-SA 2.5","3887291","4452","4452","r","404559","3625322","3607736","",""
"3889065","1","3889197","","2010-10-08 09:00:04","","4","601","<p>I haven't quite got my head around R and how to rearrange data. I have an old SPSS data file that needs rearranging so I can conduct an ANOVA in R.</p>

<p>My current data file has this format:</p>

<pre><code>ONE &lt;- matrix(c(1, 2, 777.75, 609.30, 700.50, 623.45, 701.50, 629.95, 820.06, 651.95,""nofear"",""nofear""), nr=2,dimnames=list(c(""1"", ""2""), c(""SUBJECT"",""AAYY"", ""BBYY"", ""AAZZ"", ""BBZZ"", ""XX"")))
</code></pre>

<p>And I need to rearrange it to this:</p>

<pre><code>TWO &lt;- matrix(c(1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 777.75, 701.5, 700.5, 820.06, 609.3, 629.95, 623.95, 651.95), nr=8, dimnames=list(c(""1"", ""1"", ""1"", ""1"", ""2"", ""2"", ""2"", ""2""), c(""SUBJECT"",""AA"", ""ZZ"", ""XX"", ""RT"")))
</code></pre>

<p>I am sure that there is an easy way of doing it, rather than hand coding. Thanks for the consideration.</p>
","471431","","180239","","2011-06-01 08:56:54","2011-06-01 08:56:54","Rearrange data for ANOVA","<r>","2","0","","","","CC BY-SA 3.0","3889065","4452","4452","r","404559","3625322","3607736","",""
"3892033","1","3892128","","2010-10-08 15:29:13","","1","479","<p>Why this works:</p>

<pre><code>ncota &lt;- 1
nslope &lt;- 29
resul &lt;- matrix(rep(0,ncota*nslope*4),ncota*nslope,4)
</code></pre>

<p>But this doesn't?</p>

<pre><code>ncota &lt;- 1
sini &lt;- 0.1; sfin &lt;- 1.5; spaso &lt;- 0.05; nslope &lt;- 1+((sfin-sini)/spaso)
resul &lt;- matrix(rep(0,ncota*nslope*4),ncota*nslope,4)
</code></pre>

<p>I guess the problem is that the division gives a noninteger number.
How can I get the second one work?
I need to create a zero matrix with its size calculated from a equation calculation.</p>

<p>cheers</p>
","425895","","428790","","2010-10-08 15:38:39","2010-10-08 16:19:25","R: Why this doesn't work?, matrix, rounding error?","<r><matrix>","2","2","","","","CC BY-SA 2.5","3892033","4452","4452","r","404559","3625322","3607736","",""
"3892510","1","3892699","","2010-10-08 16:30:28","","7","5034","<p>I've been using R in Ubuntu to make system calls using <code>system()</code> for things like spinning up Amazon EC2 instances, managing files on S3, etc. If I start R from the command line everything works fine. But if I start R from a script using Rscript, or from ESS, I have issues with environment variables not being set. </p>

<p>I <strong>think</strong> this is an issue with me not properly grokking where to set environment variables in Ubuntu. I thought the ""right place"" (for some definition of ""right"") was to set user environment variables in ~/.bashrc. This is where I set things like <code>export EC2_HOME=/home/jd/ec2</code> but when I execute R from ESS and make system calls, the .bashrc script is not being run. I've tried Googing about and I see many an exegesis on environment variables in Ubuntu, such as <a href=""http://ubuntuforums.org/showthread.php?s=828aae97393039af756ddcd9ca72a894&amp;t=2793"" rel=""noreferrer"">this one</a>. My knee jerk reaction is to try each recommendation in the aforementioned thread and stop giving a shit as soon as one of the options works. But then I end up with non-standard settings which bite me in the ass later. </p>

<p>So how should I set environment variables so that they are properly set when I run a <code>system()</code> call in R?</p>
","37751","","37751","","2010-10-08 16:47:40","2010-10-08 17:14:44","set environment variables for system() in R?","<r><ubuntu><system><environment-variables><bash>","3","0","4","","","CC BY-SA 2.5","3892510","4452","4452","r","404559","3625322","3607736","",""
"3892580","1","3893445","","2010-10-08 16:43:04","","7","1690","<p>How to create an ""empty object"" in R? [edit: I don't know how to rightly call this ""thing"" so I am calling it ""empty object"", others: ""empty symbol"", ""zero length symbol"", ""missing object"" might also be used]</p>

<p>[edit2: finally I tend to settle down on the ""missing symbol object"" for the name of the ""thing"". It also appears that J.Chambers is using this terminology in his 2008 book, see comments for @mbq's answer. According to Chambers, the ""missing symbol"" has a zero-length string as it's contents. Thus, as.symbol("""")  should create such an object, which it doesn't in current version of R(2.11.1) ] </p>

<p>The simplest way I could find is </p>

<pre><code>x &lt;- alist(a=)$a
</code></pre>

<p>[Clarification] </p>

<p>Note that ""empty object"" is not a NULL object or a vector of length 0. 
""Empty object"" x in my above example could be used in the function's formals manipulation, which is what I need it for.</p>

<p>Here is an example:</p>

<pre><code>&gt; al &lt;- alist(a = 323, b = , c = 434)  
&gt; al  
$a  
[1] 323  
$b  
$c  
[1] 434  

&gt;   
&gt; al[[""c""]] &lt;- numeric()  
&gt; al  
$a  
[1] 323  
$b  
$c                                   #not empty  
numeric(0)  

&gt;   
&gt; al[[""c""]] &lt;- list()              
&gt; al  
$a  
[1] 323  
$b  
$c                                   #not empty  
list()  

&gt;   
&gt;   
&gt; al[[""c""]] &lt;- NULL                    #object removed  
&gt; al  
$a  
[1] 323  
$b  


&gt;   
&gt; al[[""c""]] &lt;- alist(a = )$a  
&gt; al  
$a  
[1] 323  
$b  
$c                                      #empty  
</code></pre>

<p>So, I am just looking for a way  to create empty objects for use in function's formals manipulations. I am pretty sure there must be a way in base R.   </p>

<p>Here is an example:</p>

<pre><code>&gt; foo &lt;- function(a = 3232, b = 234){b+a}  
&gt; formals(foo)  
$a  
[1] 3232  

$b  
[1] 234  

&gt; formals(foo)$c &lt;- alist(a = )$a  
&gt; formals(foo)  
$a  
[1] 3232  

$b  
[1] 234  

$c  


&gt; foo &lt;- function(a = 3232, b = 234){b+a}  
&gt; formals(foo)  
$a  
[1] 3232  

$b  
[1] 234  

&gt; formals(foo)$c &lt;- alist(a = )$a  
&gt; formals(foo)  
$a  
[1] 3232  

$b  
[1] 234  

$c  
</code></pre>

<p>Thanks.</p>
","453735","","453735","","2010-10-08 20:06:39","2010-10-08 20:06:39","Create ""missing objects"" (aka: ""empty symbols"" , ""empty objects"") / needed for formals manipulation/","<r>","7","0","2","","","CC BY-SA 2.5","3892580","4452","4452","r","404559","3625322","3607736","",""
"3893073","1","3893181","","2010-10-08 18:00:09","","2","696","<p>I have data that looks like this:</p>

<pre><code>                   model                aspect cover contour
1                        flowering ~ 1      2    52    2400
2   flowering ~ 1 + temp + precip:temp      1    52    2390
3        flowering ~ 1 + temp + precip      1    52    2390
4        flowering ~ 1 + temp + precip      1    52    2390
5 flowering ~ 1 + precip + precip:temp      1    52    2400
6 flowering ~ 1 + precip + precip:temp      1    52    2400
</code></pre>

<p>There are 40,000 rows in this dataset with 54 unique models.</p>

<p>How do I get a summarized dataset showing how many times each model occurs in a aspect x contour x cover combination?</p>
","313163","","1308031","","2013-07-31 13:08:13","2013-07-31 13:08:13","How do I summarise data using reshape/plyr?","<r><plyr><reshape>","2","0","2","","","CC BY-SA 2.5","3893073","4452","4452","r","404559","3625322","3607736","",""
"3893436","1","","","2010-10-08 18:49:32","","6","10576","<p>I am looking for the ggplot way to plot a probability density function (or any function). I used to use the old <code>plot()</code> function in R to do this. For example, to plot a beta distribution with <code>alpha=1</code> and <code>beta=1</code> (uniform):</p>

<pre><code>x &lt;- seq(0,1,length=100)
db &lt;- dbeta(x, 1, 1)
plot(x, db, type='l')
</code></pre>

<p>How can I do it in ggplot?</p>
","470561","","1033581","user4275591","2017-04-02 12:40:16","2017-04-02 12:40:16","How to use ggplot to plot probability densities?","<r><ggplot2>","2","0","3","","","CC BY-SA 3.0","3893436","4452","4452","r","404559","3625322","3607736","",""
"3893450","1","3893483","","2010-10-08 18:51:15","","2","785","<p>I have millions of Keywords in a column labeled Keyword.text. Each factor or Keyword can contains multiple words (or shall we say token). Here is an example with 4 keywords</p>

<p>Keyword.text<br>
The quick brown fox the<br>
.8 .crazy lazy dog<br>
dog<br>
jumps over+the 9</p>

<p>I'd like to count the number of tokens in each Keyword, so as to obtain:</p>

<p>Keyword.length<br>
5<br>
4<br>
1<br>
4  </p>

<p>I installed the Tau package but I haven't gotten very far...</p>

<pre><code> textcnt(Mydf$Keyword.text, split = ""[[:space:][:punct:]]+"", method = ""string"", n = 1L)
</code></pre>

<p>returns an error I don't understand. Maybe it's due to having factors; it worked fine when practicing with a string.</p>

<p>I know how to do it in excel, but it doesn't work for the last line. If A2 has the keywords then: =LEN(TRIM(A2))-LEN(SUBSTITUTE(A2,"" "",""""))+1 would do </p>
","450889","","450889","","2010-10-08 23:26:42","2014-10-16 14:37:26","Counting words within factors","<r>","3","1","1","","","CC BY-SA 2.5","3893450","4452","4452","r","404559","3625322","3607736","",""
"3894040","1","3894163","","2010-10-08 20:23:25","","8","6037","<p>Also, would it be illadvised to use RExcel for corporate work?  Also, what are some advantages / disadvantages of using it?  How small do files need to be for Rexcel?</p>
","446667","","","","","2013-06-09 14:00:18","Is RExcel useful? or should I look for alternatives","<excel><r>","3","2","1","","","CC BY-SA 2.5","3894040","4452","4452","r","404559","3625322","3607736","",""
"3897490","1","3910974","","2010-10-09 19:10:06","","2","545","<p>I like using textmate to edit scripts for my analysis using R, Stata and SQL.  Recently, I've had to use our grid server environment because the datasets are too large for my computer, and the ram allocations on the grid using R and Stata are much larger than what my computer has too offer.</p>

<p>My current workflow is to open up these programs hosted on the grid (R and Stata) through ssh window connections.  I do my script editing in textmate, files that exist either on my computer or on my server directory.  When I want to run them in batch, I just submit the entire file through the ssh interface.  However, if I want to troubleshoot and run commands in Stata or R in real time, I have to write up my code in textmate, select it, then paste it into the ssh window hosting the state or R session.  </p>

<p>I was wondering if anyone knew how to configure textmate such that you can just highlight in textmate and hit some shortcut keys to send the select code directly to Stata or R in the ssh sessions.</p>

<p>Everything I've looked up talks about how to access files to edit in textmate using ssh.  In my case, I'm looking to how to make textmate interact with server applications that are accessed using ssh.</p>
","424005","","1820446","","2013-07-01 00:34:45","2013-07-01 00:34:45","Using textmate with applications accessed through ssh","<r><ssh><textmate><stata>","1","0","2","","","CC BY-SA 3.0","3897490","4452","4452","r","404559","3625322","3607736","",""
"3897506","1","3900607","","2010-10-09 19:14:49","","2","188","<p>I created several hundred plots using ggplot and saved them all to a list. I saved the list to disk using:</p>

<pre><code>save(list_of_plots,file=""list_of_plots.rdata"")
</code></pre>

<p>Now I want to display those plots and save some using ggsave. However, calling a list item just shows me components of the plot. </p>

<pre><code>&gt; names(plots00_t2[[1]])
[1] ""data""        ""layers""      ""scales""      ""mapping""     ""options""    
[6] ""coordinates"" ""facet""       ""plot_env""   
</code></pre>

<p><strong>Update</strong>: My dumb mistake was not loading ggplot2 when I reopened these files. However, when attempting to display these plots, I get: </p>

<pre><code>Error in get(""make_aesthetics"", env = x, inherits = TRUE)(x, ...) : 
  could not find function ""calc_aesthetics""
</code></pre>

<p>So short of recreating these plots, how would I fix this?</p>
","313163","","313163","","2010-10-09 19:26:31","2010-10-10 14:06:47","How do I resuscitate a ggplot that was saved to disk inside a list?","<r><ggplot2>","2","4","","","","CC BY-SA 2.5","3897506","4452","4452","r","404559","3625322","3607736","",""
"3897648","1","","","2010-10-09 20:01:53","","3","2299","<p>Is there anybody who is succesfully working with JRI and rJava? I want to put some graphs, plots made in R into my Java application, but without success. Can anybody provide working example. Here is what I found, but its not working.</p>
<pre><code>import org.rosuda.JRI.REXP;
import org.rosuda.JRI.Rengine;
/**
 * @author Nero
 *In this file, I will try to plot a simple example, only to test how it?s possible to plot through java
 *Attention: Nothing will work if you have not included the JRI.jar as library ( through properties)*/

public class TryPlot {
    
    public static void main(String[] args) {
        // TODO Auto-generated method stub
        
        //start the Rengine (JRI)
        Rengine re = new Rengine(null, false, null);
        
        //in R:  &gt;a&lt;- c(1.2,2.3,4.5) :
        double da[] = {1.2, 2.3, 4.5};
        long xp3 = re.rniPutDoubleArray(da);
        re.rniAssign(&quot;a&quot;, xp3, 0);
        //look up for a:
        REXP x;
        x = re.eval(&quot;a&quot;);
        System.out.println(x);
        //THE PROBLEM: The window opens, but nothing happens???
        re.eval(&quot; plot(a)&quot;);
    }
    
}
</code></pre>
","471137","","1783163","","2021-02-01 12:33:43","2021-02-01 12:33:43","calling plots from R into Java application","<java><r><plot><rjava><jri>","1","0","0","","","CC BY-SA 4.0","3897648","4452","4452","r","404559","3625322","3607736","",""
"3897814","1","3900595","","2010-10-09 20:44:12","","9","6501","<p>I am having a problem when converting irregular time series to regular time series. Below a simplified example can be found:</p>

<pre><code>require(zoo)
t &lt;- as.character(c(1981,1984,1985))
d &lt;- c(1,3,6)
dt &lt;- data.frame(d,t)
t &lt;- as.Date(t,""%Y"")
z &lt;- zoo(d,t)
plot(z)
ts.d &lt;- as.ts(as.zooreg(z,freq=1)) # create a regular ts object
ts.d # regular time series
</code></pre>

<p>I would like to create a regular time series ts.d that looks like this c(1981,NA,NA,1984,1985).</p>

<p>The amazing thing is that the first time that I run this: it works! but when I want to run it again or repeat it (the as.ts()line) it stops workings and I obtain a very long time series:</p>

<pre><code>ts.d # regular time series
Time Series:
Start = 4299 
End = 5760 
Frequency = 1 
  [1]  1 NA NA NA NA NA NA NA NA NA NA NA NA NA
 [15] NA NA NA NA NA NA NA NA 
</code></pre>

<p>etc.</p>

<p>What is going wrong?</p>
","215244","","215244","","2012-01-17 13:24:01","2012-01-17 13:24:01","Convert a irregular time series to a regular time series","<datetime><r><time-series>","2","0","2","","","CC BY-SA 3.0","3897814","4452","4452","r","404559","3625322","3607736","",""
"3900790","1","","","2010-10-10 14:57:34","","0","662","<p>I've searched far and wide, read a previous question in stackoverflow but cant seem to solve the problem of installing rpy2 on my Mac with OS X 10.5.8.
I have Xcode 3.1.4 installed and R 2.1.11. 
when I run:</p>

<pre><code>sudo python setup.py build install
</code></pre>

<p>I get this:</p>

<pre><code>running build
running build_py
running build_ext
building 'rpy2.rinterface.rinterface' extension
gcc-4.0 -fno-strict-aliasing -fno-common -dynamic -arch i386 -arch ppc -arch x86_64 -g -O2 -DNDEBUG -g -O3 -DR_INTERFACE_PTRS=1        -DHAVE_POSIX_SIGJMP=1 -DCSTACK_DEFNS=1 -DRIF_HAS_RSIGHAND=1 -Irpy/rinterface -I/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386 -c rpy/rinterface/rinterface.c -o build/temp.macosx-10.5-fat3-2.7/rpy/rinterface/rinterface.o -F/Library/Frameworks/R.framework/.. -framework R -L/Library/Frameworks/R.framework/Resources/lib/i386 -lRlapack -L/Library/Frameworks/R.framework/Resources/lib/i386 -lRblas
i686-apple-darwin9-gcc-4.0.1: -lRlapack: linker input file unused because linking not done
i686-apple-darwin9-gcc-4.0.1: -lRblas: linker input file unused because linking not done
i686-apple-darwin9-gcc-4.0.1: -lRlapack: linker input file unused because linking not done
i686-apple-darwin9-gcc-4.0.1: -lRblas: linker input file unused because linking not done
powerpc-apple-darwin9-gcc-4.0.1: -lRlapack: linker input file unused because linking not done
powerpc-apple-darwin9-gcc-4.0.1: -lRblas: linker input file unused because linking not done
gcc-4.0 -arch i386 -arch ppc -arch x86_64 -isysroot / -g -bundle -undefined dynamic_lookup build/temp.macosx-10.5-fat3-2.7/rpy/rinterface/rinterface.o -L-F/Library/Frameworks/R.framework/.. -L-framework -LR -L/Library/Frameworks/R.framework/Resources/modules -L-F/Library/Frameworks/R.framework/.. -L-framework -LR  L/Library/Frameworks/R.framework/Resources/modules -lR -o build/lib.macosx-10.5-fat3-2.7/rpy2/rinterface/rinterface.so
ld: library not found for -lR
ld: library not found for -lR
collect2: ld returned 1 exit status
ldcollect2: : library ld returned 1 exit status
not found for -lR
collect2: ld returned 1 exit status
lipo: can't open input file: /var/tmp//ccFngK8H.out (No such file or directory)
error: command 'gcc-4.0' failed with exit status 1
</code></pre>

<p>any help would be greatly appreciated.</p>
","235425","","","","","2011-08-03 23:14:33","Installing rpy2 -2.1.5 on Mac OS X 10.5.8 fails","<python><macos><r><rpy2>","1","0","","","","CC BY-SA 2.5","3900790","4452","4452","r","404559","3625322","3607736","",""
"3901206","1","3901286","","2010-10-10 16:50:35","","1","2236","<p>Is there a kind of package in R for this? Is the ""AMORE"" package a possible surrogate for Matlab's Neural Network Toolbox? Thanks.</p>
","373908","","428790","","2010-10-10 20:07:45","2010-10-11 10:39:59","Alternative of Matlab's Neural Network Toolbox in R","<r><matlab><packages><neural-network>","1","6","","2018-05-11 22:44:10","","CC BY-SA 2.5","3901206","4452","4452","r","404559","3625322","3607736","",""
"3902796","1","3907626","","2010-10-11 00:19:31","","11","3552","<p>I am using RPostgreSQL to connect to a local database. The setup works just fine on my Linux machine. R 2.11.1, Postgres 8.4.</p>

<p>I was playing with the 'foreach' with the multicore (doMC) parallel backend to wrap some repetitive queries (numbering a few thousand) and appending the results into a data structure. Curiously enough, it works if I use %do% but fails when I switch to %dopar%, with the exception when there is only one iteration (as shown below)</p>

<p>I wondered whether it had something to do with a single connection object, so I created 10 connection objects and depending on what 'i' was, a certain con object was given for that query, depending on i modulo 10. (indicated below by just 2 connection objects). The expression which is evaluated eval(expr.01), contains/is the query which depends on what 'i' is.</p>

<p>I can't make sense of these particular error messages. I am wondering whether there is any way to make this work.</p>

<p>Thanks.<br>
Vishal Belsare</p>

<p>R snippet follows:</p>

<pre><code>&gt; id.qed2.foreach &lt;- foreach(i = 1588:1588, .inorder=FALSE) %dopar% { 
+ if (i %% 2 == 0) {con &lt;- con0}; 
+ if (i %% 2 == 1) {con &lt;- con1}; 
+ fetch(dbSendQuery(con,eval(expr.01)),n=-1)$idreuters};
&gt; id.qed2.foreach
[[1]]
  [1]   411   414  2140  2406  4490  4507  4519  4570  4571  4572  4703  4731
[109] 48765 84312 91797

&gt; id.qed2.foreach &lt;- foreach(i = 1588:1589, .inorder=FALSE) %dopar% { 
+ if (i %% 2 == 0) {con &lt;- con0}; 
+ if (i %% 2 == 1) {con &lt;- con1}; 
+ fetch(dbSendQuery(con,eval(expr.01)),n=-1)$idreuters};
Error in stop(paste(""expired"", class(con))) : 
  no function to return from, jumping to top level
Error in stop(paste(""expired"", class(con))) : 
  no function to return from, jumping to top level
Error in { : 
  task 1 failed - ""error in evaluating the argument 'res' in selecting a method for function 'fetch'""
&gt; 
</code></pre>

<p>EDIT: I changed a few things, (still unsuccessful), but a few things come to light. Connection objects made in the loop and not 'disconnected' via dbDisconnect, lead to hanging connections as evident by the /var/log for Postgres. A few new error messages show up when I do this:</p>

<pre><code>&gt; system.time(
+ id.qed2.foreach &lt;- foreach(i = 1588:1590, .inorder=FALSE, 
.packages=c(""DBI"", ""RPostgreSQL"")) %dopar% {drv0 &lt;- dbDriver(""PostgreSQL""); 
con0 &lt;- dbConnect(drv0, dbname='nseindia');
list(idreuters=fetch(dbSendQuery(con0,eval(expr.01)),n=-1)$idreuters);
dbDisconnect(con0)})
Error in postgresqlExecStatement(conn, statement, ...) : 
  no function to return from, jumping to top level
Error in postgresqlExecStatement(conn, statement, ...) : 
  no function to return from, jumping to top level
Error in postgresqlExecStatement(conn, statement, ...) : 
  no function to return from, jumping to top level
Error in { : 
  task 1 failed - ""error in evaluating the argument 'res' in selecting a method for function 'fetch'""
</code></pre>
","304483","","15785","","2010-10-11 18:16:42","2017-08-01 13:56:58","foreach %dopar% + RPostgreSQL","<postgresql><r><foreach><parallel-processing>","2","1","9","","","CC BY-SA 2.5","3902796","4452","4452","r","404559","3625322","3607736","",""
"3903157","1","3904728","","2010-10-11 02:20:20","","67","31409","<p>In R, how can I determine whether a function call results in a warning?</p>

<p>That is, after calling the function I would like to know whether that instance of the call yielded a warning.</p>
","302378","","","","","2021-05-13 11:01:56","How can I check whether a function call results in a warning?","<r>","5","2","18","","","CC BY-SA 2.5","3903157","4452","4452","r","404559","3625322","3607736","",""
"3905038","1","3905197","","2010-10-11 09:38:09","","14","13019","<p>I would like to replace values in a vector (<code>x</code>) with values from another vector (<code>y</code>). Catch 22: The methods needs to be dynamic to accommodate different number of ""levels"" in vector <code>x</code>. For instance, consider vector <code>x</code></p>

<pre><code>x &lt;- sample(c(1, 2, 3, 4, 5), 100, replace = TRUE)
&gt; x
  [1] 2 4 1 1 3 1 1 1 1 1 2 2 5 5 4 5 5 3 4 1 2 2 3 3 3 5 1 3 4 5 5 3 2 4 3 1 3
 [38] 1 4 5 4 1 4 5 4 5 2 4 2 5 3 4 3 1 2 1 1 5 1 4 2 2 5 2 2 4 5 2 4 5 2 5 4 1
 [75] 3 3 4 4 1 1 4 4 2 4 5 4 5 5 4 2 5 2 4 5 3 2 1 1 2 2
</code></pre>

<p>where I would like to replace 1s with 100, 2s with 200 and so on.</p>

<p>This can be done easily with a for loop but for large vectors, several 100 thousand values, this is highly inefficient. Any tips how to optimize the code?</p>

<pre><code>x &lt;- sample(c(1, 2, 3, 4, 5), 100, replace = TRUE)
y &lt;- c(100, 200, 300, 400, 500)
x.lvl &lt;- c(1, 2, 3, 4, 5)
x.temp &lt;- x

for (i in 1:length(y)) {
    x.temp[which(x == x.lvl[i])] &lt;- y[i]
}
</code></pre>
","322912","","680068","","2018-09-18 07:08:59","2018-09-18 07:08:59","Replace values in a vector based on another vector","<r><replace>","2","0","1","","","CC BY-SA 4.0","3905038","4452","4452","r","404559","3625322","3607736","",""
"3905958","1","","","2010-10-11 11:59:19","","2","5256","<p>I have a 104 attribute dataset called <code>data</code>. I want to reduce the number of attributes to 20 using <code>prcomp</code> function in R.</p>

<p>I did this:</p>

<pre><code>pr = prcomp(data)
</code></pre>

<p>But <code>pr</code> only contains an instance of the <code>prcomp</code> class. How do I reduce the number of attributes in the original dataset to 20?</p>
","123574","","","","","2010-10-11 12:30:00","How to reduce the number of attributes to 20 using prcomp in R?","<r>","1","3","2","","","CC BY-SA 2.5","3905958","4452","4452","r","404559","3625322","3607736","",""
"3907719","1","3909546","","2010-10-11 15:40:18","","42","76088","<p>I'm trying to install a package into R, something I swore on my blood never to do, yet here I am.</p>

<p>The command supposedly goes:</p>

<pre><code>install.packages('NCStats',,'http://www.rforge.net/')` while I am enjoying the healthy dose of:

Warning: dependencies 'nortest', 'plotrix', 'sciplot', 'car', 'gplots', 'gdata', 'Hmisc', 'TeachingDemos' are not available  
trying URL 'http://www.rforge.net/bin/macosx/leopard/contrib/2.11/NCStats_0.1-4.tgz'  
Content type 'application/x-gzip' length 237120 bytes (231 Kb)  
opened URL  
==================================================""  
downloaded 231 Kb  
tar: Failed to set default locale  
The downloaded packages are in
    /var/folders/Qj/Qjps7xnxFcWdSHsJY3lo+k+++TI/-Tmp-//RtmpzNO8MM/downloaded_packages`
</code></pre>

<p>Le-sigh. Anybody know how I can tell tar what locale I'm in, not that I understand why it needs that or why it can't just know it already?</p>

<p>I'm running OSX 10.6.4 and R 2.11.1 GUI 1.34 Leopard build 64-bit (5589). </p>
","377562","","55075","","2016-07-17 20:05:33","2018-10-21 07:46:06","How to fix 'tar: Failed to set default locale' error?","<r><macos><locale><tar>","3","4","13","","","CC BY-SA 3.0","3907719","4452","4452","r","404559","3625322","3607736","",""
"3908831","1","3909119","","2010-10-11 18:10:50","","6","2703","<p>I have a vector of values which include NAs. The values need to be processed by an external program that can't handle NAs, so they are stripped out, its written to a file, processed, then read back in, resulting in a vector of the length of the number of non-NAs. Example, suppose the input is 7 3 4 NA 5 4 6 NA 1 NA, then the output would just be 7 values. What I need to do is re-insert the NAs in position.</p>

<p>So, given two vectors X and Y:</p>

<pre><code> &gt; X
 [1]  64   1   9 100  16  NA  25  NA   4  49  36  NA  81
 &gt; Y
 [1]  8  1  3 10  4  5  2  7  6  9
</code></pre>

<p>produce:</p>

<pre><code>8 1 3 10 4 NA 5 NA 2 7 6 NA 9
</code></pre>

<p>(you may notice that X is Y^2, thats just for an example).</p>

<p>I could knock out a function to do this but I wonder if there's any nice tricksy ways of doing it... split, list, length... hmmm...</p>
","211116","","66708","","2010-10-11 19:25:21","2010-10-12 01:42:30","Re-inserting NAs into a vector","<r><vector>","4","1","1","","","CC BY-SA 2.5","3908831","4452","4452","r","404559","3625322","3607736","",""
"3908969","1","4780610","","2010-10-11 18:35:27","","7","1447","<p>I'm working with vim on my linux machine and need code folding to work for R.  I have the Vim-R-plusing2  installed to enable passing code from vim into an R session, but the folding does not work when foldmethod=syntax.  How do I get folding for R working?</p>
","65148","","","","","2011-01-24 09:59:03","Vim folding on syntax for R","<r><vim><folding>","2","0","1","","","CC BY-SA 2.5","3908969","4452","4452","r","404559","3625322","3607736","",""
"3910585","1","3910636","","2010-10-11 23:14:08","","1","2448","<p>This is my first attempt to throw data back and forth between a local MySQL database and R.  That said, I have a table created in the database and want to insert data into it.  Currently, it is a blank table (created with MySQL Query Browser) and has a PK set.  </p>

<p>I am using the RODBC package (RMySQL gives me errors) and prefer to stick with this library.  </p>

<p>How should I go about inserting the data from a data frame into this table?  Is there a quick solution or do I need to:</p>

<ol>
<li>Create a new temp table from my dataframe</li>
<li>Insert the data</li>
<li>Drop the temp table</li>
</ol>

<p>With separate commands?  Any help much appreciated!</p>
","155406","","","","","2010-10-11 23:24:11","RODBC Insert Query","<mysql><r>","1","2","1","","","CC BY-SA 2.5","3910585","4452","4452","r","404559","3625322","3607736","",""
"3911386","1","3911412","","2010-10-12 02:59:26","","6","10708","<p>I'm programming in R. I've got a vector containing, let's say, 1000 values. Now let's say I want to partition these 1000 values randomly into two new sets, one containing 400 values and the other containing 600. How could I do this? I've thought about doing something like this...</p>

<pre><code>firstset &lt;- sample(mydata, size=400)
</code></pre>

<p>...but this doesn't partition the data (in other words, I still don't know which 600 values to put in the other set). I also thought about looping from 1 to 400, randomly removing 1 value at a time and placing it in <code>firstset</code>. This would partition the data correctly, but how to implement this is not clear to me. Plus I've been told to avoid <code>for</code> loops in R whenever possible.</p>

<p>Any ideas?</p>
","459780","","1442874","","2012-09-03 15:21:13","2012-09-03 15:21:13","How to partition a set of values (vector) in R","<r><vector><set><data-partitioning>","3","1","1","","","CC BY-SA 2.5","3911386","4452","4452","r","404559","3625322","3607736","",""
"3916195","1","3916502","","2010-10-12 15:18:18","","13","22704","<p>I have two data.frames each with three columns:  chrom, start &amp; stop, let's call them rangesA and rangesB.  For each row of rangesA, I'm looking to find which (if any) row in rangesB fully contains the rangesA row - by which I mean <code>rangesAChrom == rangesBChrom, rangesAStart &gt;= rangesBStart and rangesAStop &lt;= rangesBStop</code>.</p>

<p>Right now I'm doing the following, which I just don't like very much.  Note that I'm looping over the rows of rangesA for other reasons, but none of those reasons are likely to be a big deal, it just ends up making things more readable given this particular solution.</p>

<p>rangesA:</p>

<pre><code>chrom   start   stop
 5       100     105
 1       200     250
 9       275     300
</code></pre>

<p>rangesB:</p>

<pre><code>chrom    start    stop
  1       200      265
  5       99       106
  9       275      290
</code></pre>

<p>for each row in rangesA:</p>

<pre><code>matches &lt;- which((rangesB[,'chrom']  == rangesA[row,'chrom']) &amp;&amp;
                 (rangesB[,'start'] &lt;= rangesA[row, 'start']) &amp;&amp;
                 (rangesB[,'stop'] &gt;= rangesA[row, 'stop']))
</code></pre>

<p>I figure there's got to be a better (and by better, I mean faster over large instances of rangesA and rangesB) way to do this than looping over this construct.  Any ideas?</p>
","144642","","680068","","2018-01-11 13:02:47","2018-01-11 13:02:47","Finding overlap in ranges with R","<r><bioinformatics>","6","0","12","","","CC BY-SA 3.0","3916195","4452","4452","r","404559","3625322","3607736","",""
"3916653","1","3917017","","2010-10-12 16:01:11","","0","127","<p>I'm using the <code>geom_tile</code> to draw an imagemap and want to clear out the zero level for clarity.</p>

<pre><code>#dummy data
set.seed(1)
tdata &lt;- data.frame(cat1=rep(letters[1:3],4),cat2=sort(rep(LETTERS[1:4],3)),val=rpois(12,1.5))
tdata$val&lt;-tdata$val/max(tdata$val)
</code></pre>

<p>I have found 2 ways to do this but both have their drawbacks:</p>

<p><strong>1)</strong></p>

<pre><code>qplot(cat1,cat2,data=tdata,geom=""tile"",fill=val) + scale_fill_continuous(limits=c(.Machine$double.eps,1))
</code></pre>

<p>This has the drawback that the min value colour isn't printed in the scale.</p>

<p><strong>2)</strong></p>

<pre><code>qplot(cat1,cat2,data=tdata,geom=""tile"",fill=val,alpha=ifelse(val,1,0))
</code></pre>

<p>This has the drawback that the alpha scale is plotted too. Wrapping the alpha argument in an <code>I()</code> causes it to fail.</p>

<p>Is there a way to do this without the drawbacks?</p>
","269476","","","","","2010-10-12 16:49:41","Removing the zero level of an imagemap using ggplot2","<r><ggplot2>","1","2","","","","CC BY-SA 2.5","3916653","4452","4452","r","404559","3625322","3607736","",""
"3919205","1","","","2010-10-12 21:32:26","","9","12637","<p>frame with 10 rows and 3 columns</p>

<pre><code>    a   b c
1   1 201 1
2   2 202 1
3   3 203 1
4   4 204 1
5   5 205 4
6   6 206 5
7   7 207 4
8   8 208 4
9   9 209 8
10 10 210 5
</code></pre>

<p>I want to delete all rows where the same value in the column ""c"" repeated less than 3 times.
In this example I want to remove rows 6, 9 and 10. (my real data.frame has 5000 rows and 25 cols)
I tried to do it using the function rle, but I keep getting the wrong solution.
any help? thanks!</p>
","473851","","","","","2017-02-11 11:30:50","using R - delete rows when a value repeated less than 3 times","<r><row><dataframe>","4","0","3","","","CC BY-SA 2.5","3919205","4452","4452","r","404559","3625322","3607736","",""
"3919315","1","","","2010-10-12 21:49:43","","6","888","<p>I wish to access my Google Webmaster's tools' API via R.</p>

<p>I see from here:</p>

<p><a href=""http://code.google.com/apis/webmastertools/docs/2.0/reference.html"" rel=""nofollow"">http://code.google.com/apis/webmastertools/docs/2.0/reference.html</a></p>

<p>That it requires fetching a feed behind https and parsing it.</p>

<p>Any suggestions on how to do it?</p>
","256662","","75801","","2010-10-12 22:04:12","2014-01-21 10:58:17","Suggestions on how to access google webmaster tools' api through R?","<r><curl><google-api><google-webmaster-tools>","3","2","1","","","CC BY-SA 2.5","3919315","4452","4452","r","404559","3625322","3607736","",""
"3919621","1","3922058","","2010-10-12 22:40:55","","3","1882","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/2096473/r-determine-if-a-script-is-running-in-windows-or-linux"">R: determine if a script is running in Windows or Linux</a>  </p>
</blockquote>



<p>How can an R script determine what platform it's running on? I'm using R 2.10.1, sometimes on Windows, sometimes on Linux. I would prefer a built-in function over filesystem taxonomy. I've already searched the index of the base package for anything with ""os"" or ""platform"" in the description  no dice there, alas.</p>
","473899","","-1","","2017-05-23 12:04:10","2010-10-13 12:38:15","How can I determine in R what platform I'm running on?","<r><multiplatform>","2","1","","2011-11-26 10:37:22","","CC BY-SA 2.5","3919621","4452","4452","r","404559","3625322","3607736","",""
"3919658","1","3919930","","2010-10-12 22:49:34","","4","8287","<p>I have a dataframe with millions of rows and three columns labeled Keywords, Impressions, Clicks. I'd like to add a column with values depending on the evaluation of this function:</p>

<pre><code>isType &lt;- function(Impressions, Clicks)
{ 
if (Impressions &gt;= 1 &amp; Clicks &gt;= 1){return(""HasClicks"")} else if (Impressions &gt;=1 &amp; Clicks == 0){return(""NoClicks"")} else {return(""ZeroImp"")}
}
</code></pre>

<p>so far so good. I then try this to create the column but 1) it takes for ever and 2) it marks all the rows has ""HasClicks"" even the ones where it shouldn't.</p>

<pre><code># Creates a dataframe
Type &lt;- data.frame()
# Loops until last row and store it in data.frame
for (i in c(1:dim(Mydf)[1])) {Type &lt;- rbind(Type,isType(Mydf$Impressions[i], Mydf$Clicks[i]))}
# Add the column to Mydf
Mydf &lt;- transform(Mydf, Type = Type)
</code></pre>

<p>input data:</p>

<p>Keywords,Impressions,Clicks<br>
""Hello"",0,0<br>
""World"",1,0<br>
""R"",34,23</p>

<p>Wanted output:</p>

<p>Keywords,Impressions,Clicks,Type<br>
""Hello"",0,0,""ZeroImp""<br>
""World"",1,0,""NoClicks""<br>
""R"",34,23,""HasClicks""</p>
","450889","","450889","","2010-10-12 23:22:40","2011-03-08 18:40:43","adding a column based on other values","<r>","3","0","3","","","CC BY-SA 2.5","3919658","4452","4452","r","404559","3625322","3607736","",""
"3920704","1","3920731","","2010-10-13 04:09:08","","2","1096","<p>I'm trying to automate some of the systems at work here specifically to do with report generation based on survey data. </p>

<p>Lets say i have 3 comments for 1 question.</p>

<pre><code>current_comments &lt;- c(""too slow"", ""not fast enough"", ""bad speed"")
</code></pre>

<p>Basically what i want to do is merge the comments into one string separated by a ""-"" too look like this</p>

<pre><code>&gt;current_comments
[1] ""too slow - not fast enough - bad speed""
</code></pre>

<p>So that i can stick it into one cell for exporting.</p>

<p>I know that i can do this by using the paste function.</p>

<pre><code>&gt; paste(current_comments[1], "" - "", current_comments[2], "" - "", current_comments[3])
[1] ""too slow  -  not fast enough  -  bad speed""
</code></pre>

<p>But from an automation standpoint how would i do this with a varying number of comments.</p>

<p>Sorry for a newbie question but this has had me stumped for the better part of a afternoon.</p>

<p>edit: as requested heres <code>dput(head(clean_data, 10))</code> with the names and the questions changed</p>

<pre><code>ture(list(res_qnumber = 1:10, res_ID = c(44024431L, 44024431L, 
44024431L, 44024431L, 44024431L, 44024431L, 44024431L, 44024431L, 
44024431L, 44024431L), res_name = c(""name1"", ""name1"", 
""name1"", ""name1"", ""name1"", ""name1"", ""name1"", 
""name1"", ""name1"", ""name1""), res_pos = c(""NA"", 
""NA"", ""NA"", ""NA"", ""NA"", ""NA"", ""NA"", ""NA"", ""NA"", ""NA""), res_ceo = c(FALSE, 
FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE
), res_qtype = c(""standard"", ""standard"", ""standard"", ""standard"", 
""standard"", ""standard"", ""standard"", ""standard"", ""standard"", ""standard""
), res_qtext = c(""Question1"", 
""Question2"", 
""Question3"", 
""Question4"", 
""Question5"", 
""Question6"", 
""Question7"", 
""Question8"", 
""Question9""
), res_response = c(""2"", ""5"", ""5"", ""5"", ""5"", ""5"", ""5"", ""5"", ""5"", 
""5""), res_comment = c(""too slow"", NA_character_, NA_character_, 
NA_character_, NA_character_, NA_character_, NA_character_, NA_character_, 
NA_character_, NA_character_), res_scale = c(""scale1"", ""scale2"", 
""scale3"", ""scale4"", ""scale5"", ""scale6"", ""scale7"", ""scale8"", ""scale9"", 
""scale10"")), .Names = c(""res_qnumber"", ""res_ID"", ""res_name"", 
""res_pos"", ""res_ceo"", ""res_qtype"", ""res_qtext"", ""res_response"", 
""res_comment"", ""res_scale""), row.names = c(NA, 10L), class = ""data.frame"")
</code></pre>
","435473","","435473","","2010-10-13 04:23:25","2010-10-13 04:23:25","R Programming: Automating Merge of Character Strings","<r><string><automation><character>","1","2","","","","CC BY-SA 2.5","3920704","4452","4452","r","404559","3625322","3607736","",""
"3922215","1","3922741","","2010-10-13 09:14:17","","2","7924","<p>I have some data which represents a sizes of particles. I want to plot the frequency of each binned-size of particles as a histogram, but scale the frequency but the size of the particle (so it represents total mass at that size.)</p>

<p>I can plot a histogram fine, but I am unsure how to scale the Y-axis by the X-value of each bin.</p>

<p>e.g. if I have 10 particles in the 40-60 bin, I want the Y-axis value to be 10*50=500.</p>
","320425","","","","","2010-10-14 07:25:52","How do I scale the y-axis on a histogram by the x values in R?","<r><scale><histogram>","3","4","","","","CC BY-SA 2.5","3922215","4452","4452","r","404559","3625322","3607736","",""
"3922461","1","3922499","","2010-10-13 09:53:36","","27","70740","<p>I'm new to R.</p>

<p>I have a a Data.frame with a column called ""Symbol"".</p>

<pre><code>   Symbol
1   ""IDEA""
2   ""PFC""
3   ""RPL""
4   ""SOBHA""
</code></pre>

<p>I need to store its values as a vector(<code>x = c(""IDEA"",""PFC"",""RPL"",""SOBHA"")</code>). Which is the most concise way of doing this?</p>
","216517","","2040375","","2016-12-01 15:44:05","2020-12-05 07:03:03","Extract Column from data.frame as a Vector","<r><vector><dataframe>","2","0","6","","","CC BY-SA 3.0","3922461","4452","4452","r","404559","3625322","3607736","",""
"3926106","1","3926271","","2010-10-13 17:01:59","","6","8896","<p>I am trying to use cat() as functions inside apply(). I can <em>almost</em> make R do what I want, but I'm getting some very confusing (to me) NULLS at the end of the return. Here is a silly example, to highlight what I'm getting.</p>

<pre><code>val1 &lt;- 1:10
val2 &lt;- 25:34
values &lt;- data.frame(val1, val2)
apply(values, 1, function(x) cat(x[1], x[2], fill=TRUE))
</code></pre>

<p>This ""works"" in that R accepts it and it runs, but I don't understand the results.</p>

<pre><code>&gt; apply(values, 1, function(x) cat(x[1], x[2], fill=TRUE))
1 25
2 26
3 27
4 28
5 29
6 30
7 31
8 32
9 33
10 34
NULL
</code></pre>

<p>But, I want to get:</p>

<pre><code>&gt; apply(values, 1, function(x) cat(x[1], x[2], fill=TRUE))
1 25
2 26
3 27
4 28
5 29
6 30
7 31
8 32
9 33
10 34
</code></pre>

<p>So, how do I remove that final NULL?</p>
","314652","","314652","","2010-10-13 18:26:11","2010-10-13 18:26:11","How to use apply, cat and print, without getting NULL","<r><apply><cat>","3","3","3","","","CC BY-SA 2.5","3926106","4452","4452","r","404559","3625322","3607736","",""
"3929611","1","3930382","","2010-10-14 02:21:55","","6","6407","<p>I am trying to recreate the following plot with R. Minitab describes this as a normal probability plot.</p>

<p><img src=""https://i.stack.imgur.com/Ain27.jpg"" alt=""alt text""></p>

<p>The <a href=""http://rss.acs.unt.edu/Rdoc/library/e1071/html/probplot.html"" rel=""noreferrer"">probplot</a> gets you most of the way there. Unfortunately, I cannot figure out how to add the confidence interval bands around this plot.</p>

<p>Similarly, ggplot's <a href=""http://had.co.nz/ggplot2/stat_qq.html"" rel=""noreferrer"">stat_qq()</a> seems to present similar information with a transformed x axis. It seems that <code>geom_smooth()</code> would be the likely candidate to add the bands, but I haven't figure that out.</p>

<p>Finally, the Getting Genetics Done guys describe something similar <a href=""http://gettinggeneticsdone.blogspot.com/2009/11/qq-plots-of-p-values-in-r-using-ggplot2.html"" rel=""noreferrer"">here.</a></p>

<p>Sample data to recreate the plot above:</p>

<pre><code>x &lt;- c(40.2, 43.1, 45.5, 44.5, 39.5, 38.5, 40.2, 41.0, 41.6, 43.1, 44.9, 42.8)
</code></pre>

<p>If anyone has a solution with base graphics or ggplot, I'd appreciate it!</p>

<p><strong>EDIT</strong></p>

<p>After looking at the details of <code>probplot</code>, I've determined this is how it generates the fit line on the graph:</p>

<pre><code>&gt; xl &lt;- quantile(x, c(0.25, 0.75))
&gt; yl &lt;- qnorm(c(0.25, 0.75))
&gt; slope &lt;- diff(yl)/diff(xl)
&gt; int &lt;- yl[1] - slope * xl[1]
&gt; slope
   75% 
0.4151 
&gt; int
   75% 
-17.36 
</code></pre>

<p>Indeed, comparing these results to what you get out of the probplot object seem to compare very well:</p>

<pre><code>&gt; check &lt;- probplot(x)
&gt; str(check)
List of 3
 $ qdist:function (p)  
 $ int  : Named num -17.4
  ..- attr(*, ""names"")= chr ""75%""
 $ slope: Named num 0.415
  ..- attr(*, ""names"")= chr ""75%""
 - attr(*, ""class"")= chr ""probplot""
&gt; 
</code></pre>

<p>However, incorporating this information into ggplot2 or base graphics does not yield the same results.</p>

<pre><code>probplot(x)
</code></pre>

<p><img src=""https://i.stack.imgur.com/h6N4F.jpg"" alt=""alt text""></p>

<p>Versus:</p>

<pre><code>ggplot(data = df, aes(x = x, y = y)) + geom_point() + geom_abline(intercept = int, slope = slope)
</code></pre>

<p><img src=""https://i.stack.imgur.com/vVlYn.jpg"" alt=""alt text""></p>

<p>I get similar results using R's base graphics</p>

<pre><code>plot(df$x, df$y)
abline(int, slope, col = ""red"")
</code></pre>

<p>Lastly, I've learned that the last two rows of the legend refer to the Anderson-Darling test for normality and can be reproduced with the <code>nortest</code> package.</p>

<pre><code>&gt; ad.test(x)

    Anderson-Darling normality test

data:  x 
A = 0.2303, p-value = 0.7502
</code></pre>
","415635","","415635","","2010-11-02 06:04:45","2018-10-06 20:56:44","Recreate minitab normal probability plot","<r><ggplot2>","4","0","5","","","CC BY-SA 2.5","3929611","4452","4452","r","404559","3625322","3607736","",""
"3929901","1","3929963","","2010-10-14 03:36:52","","2","1279","<p>I have another newbie question;</p>

<p>lets say I have a set of numbers</p>

<pre><code>graph_val &lt;- c(4,2,3,4,1,1,9)
</code></pre>

<p>and I need to create a frequency table of them against this scale</p>

<pre><code>           1            2            3            4            5            9 
 ""Very Poor""       ""Poor""    ""Average""       ""Good""  ""Very Good"" ""Don't Know"" 
</code></pre>

<p>Essentially what I want to know is how do I get a table into this format:</p>

<pre><code> ""Very Poor""       ""Poor""    ""Average""       ""Good""  ""Very Good"" ""Don't Know""
           2            1            1            1            0            1 
</code></pre>

<p>or at the very least:</p>

<pre><code>           1            2            3            4            5            9
           2            1            1            1            0            1 
</code></pre>

<p>And I can add the labels in later using  names.arg with barplot 2.</p>

<p>I've been on this for most of the day, after this its clear sailing for the rest of my automation job. I thought I was on the right track with tabulate but couldn't quite get there.</p>
","435473","","4370109","","2017-01-24 19:18:35","2017-01-24 19:18:35","Merging two variables to create frequency table","<r><graphing>","2","0","0","","","CC BY-SA 3.0","3929901","4452","4452","r","404559","3625322","3607736","",""
"3931836","1","3942564","","2010-10-14 09:33:51","","1","975","<p>When I import country data using RODBC I often use ISO2 codes. The unfortunate part is Namibia with ISO2 ""NA"" always gets set to missing. There are various ways around this of course, but I wonder if anyone has found a way to just import correctly. I've tried</p>

<pre><code>df &lt;- sqlFetch(ch,""data_from_database"", na.strings="""")
df &lt;- sqlFetch(ch,""data_from_database"", as.is)
</code></pre>

<p>to no avail. Any tips? </p>
","378085","","","","","2010-10-15 13:17:10","RODBC import to keep ""NA""","<r>","2","2","","","","CC BY-SA 2.5","3931836","4452","4452","r","404559","3625322","3607736","",""
"3932038","1","3932558","","2010-10-14 10:01:44","","200","375607","<p>As the title says: <strong>How can I plot a legend outside the plotting area when using base graphics?</strong></p>

<p>I thought about fiddling around with <code>layout</code> and produce an empty plot to only contain the legend, but I would be interested in a way using just the base graph facilities and e.g., <code>par(mar = )</code> to get some space on the right of the plot for the legend.</p>

<hr>

<p>Here an example:</p>

<pre><code>plot(1:3, rnorm(3), pch = 1, lty = 1, type = ""o"", ylim=c(-2,2))
lines(1:3, rnorm(3), pch = 2, lty = 2, type=""o"")
legend(1,-1,c(""group A"", ""group B""), pch = c(1,2), lty = c(1,2))
</code></pre>

<p>produces:</p>

<p><img src=""https://i.stack.imgur.com/ADmGV.png"" alt=""alt text""></p>

<p>But as said, I would like the legend to be outside the plotting area (e.g., to the right of the graph/plot.</p>
","289572","","","","","2018-03-26 22:00:05","Plot a legend outside of the plotting area in base graphics?","<r><plot><legend>","10","2","77","","","CC BY-SA 2.5","3932038","4452","4452","r","404559","3625322","3607736","",""
"3932864","1","3932960","","2010-10-14 12:02:27","","37","40906","<p>Is it possible to read the data stored in MS SQL server from R interface?</p>

<p>If it is I would be also thankful if anyone could show the way to do it.</p>
","22996","","680068","","2016-04-20 14:10:14","2020-01-10 22:09:03","Reading data from Microsoft SQL Server into R","<sql-server><r>","7","1","9","","","CC BY-SA 3.0","3932864","4452","4452","r","404559","3625322","3607736","",""
"3935288","1","3935458","","2010-10-14 16:15:26","","16","28325","<p>I am trying to write an interactive R script. For example:</p>

<p>try.R:</p>

<pre><code>print(""Entr some numbers. &gt;"",quote=F)
a = scan(what=double(0))
print a
q()
</code></pre>

<p>Now, if I run it on the command line as</p>

<pre><code>$ R --no-save &lt; try.R
</code></pre>

<p>It tries to get the stdin from try.R, giving the following error:</p>

<pre><code>&gt; print(""Entr some numbers. &gt;"",quote=F)
[1] Entr some numbers. &gt;
&gt; a = scan(what=double(0))
1: print a
Error in scan(file, what, nmax, sep, dec, quote, skip, nlines, na.strings,  : 
  scan() expected 'a real', got 'print'
Execution halted
</code></pre>

<p>I tried a few other methods but they all give errors. For example:</p>

<pre><code>$ R CMD BATCH try.R 
$ Rscript try.R 
</code></pre>

<p>So how do I write an R script that works from the *nix shell command line, and can take in interactive input from the user?</p>
","429850","","229044","","2010-10-14 16:53:15","2018-05-30 17:01:02","How to include interactive input in script to be run from the command line","<r>","3","0","13","","","CC BY-SA 2.5","3935288","4452","4452","r","404559","3625322","3607736","",""
"3936206","1","3942356","","2010-10-14 18:13:50","","1","620","<p>Using ggplot2 under R (and the code below uses rpy2, I don't actually know straight R, sorry).</p>

<p>I'm trying to add an aspect_ratio to my plot (so it'll fit nicely on a slide). The below example is pretty minimal. Aspect_ratio does the right thing EXCEPT the title and x-axis label are placed way above and below the plot, respectively, with a giant white space between the title and plot and between the plot and x-axis label, as in <a href=""http://www.ece.ucdavis.edu/~jowens/tmp/tmpNnpqUy/tmpRVnHxY.html"" rel=""nofollow"">(plot here)</a>:</p>

<pre><code>   TITLE TITLE


PLOT PLOT PLOT PLOT
PLOT PLOT PLOT PLOT
PLOT PLOT PLOT PLOT
PLOT PLOT PLOT PLOT


    x-axis label
</code></pre>

<p>Not cool. What can I do to squeeze them together? </p>

<pre><code>#!/usr/bin/env python2.6
import rpy2.robjects.lib.ggplot2 as ggplot2
import rpy2.robjects as ro
from rpy2.robjects.packages import importr

df = ro.DataFrame({'x': ro.IntVector((1,2)), 'y': ro.IntVector((3,4))})
pp = ggplot2.ggplot(df) + \
    ggplot2.aes_string(x='x', y='y') + \
    ggplot2.opts(**{'title' : 'Title',
                    'aspect.ratio' : 0.618033989} ) + \
    ggplot2.geom_line()
grdevices = importr('grDevices')
grdevices.pdf(file=""aspect.pdf"")
pp.plot()
grdevices.dev_off()
</code></pre>
","281873","","128662","","2011-07-28 08:01:20","2011-07-28 08:01:20","ggplot2: aspect_ratio and placing title/axis label in the right place","<r><ggplot2><aspect-ratio>","1","0","","","","CC BY-SA 3.0","3936206","4452","4452","r","404559","3625322","3607736","",""
"3936285","1","3936315","","2010-10-14 18:24:05","","83","26744","<p>I'm writing an R package where the R code talks to a Java application. The Java application outputs a CSV formatted string and I want the R code to be able to directly read the string and convert it into a data.frame.</p>
","337493","","202229","","2018-04-26 02:43:21","2020-03-11 11:08:19","Is there a way to use read.csv to read from a string value rather than a file in R?","<r><csv><file-io><read.csv>","6","5","12","","","CC BY-SA 2.5","3936285","4452","4452","r","404559","3625322","3607736","",""
"3937669","1","3941129","","2010-10-14 21:17:53","","11","1114","<p><strong>Question:</strong> I am testing functions in a package that I am developing and would like to know if you can suggest some general guidelines for how to do this. The functions include a large range of statistical modeling, transformations, subsetting, and plotting. Is there a 'standard' or some sufficient test?</p>

<p><strong>An Example:</strong> the test that prompted me ask this question, </p>

<p>The function dtheta:</p>

<pre><code>dtheta &lt;- function(x) {
  ## find the quantile of the mean
  q.mean &lt;- mean(mean(x) &gt;= x)
  ## find the quantiles of ucl and lcl (q.mean +/- 0.15)
  q.ucl  &lt;- q.mean + 0.15
  q.lcl  &lt;- q.mean - 0.15
  qs &lt;- c(q.lcl, q.mean, q.ucl)
  ## find the lcl, mean, and ucl of the vector
  c(quantile(x,qs), var(x), sqrt(var(x))/mean(x))
}
</code></pre>

<p>Step 1: make test data:</p>

<pre><code>set.seed(100) # per Dirk's recommendation
test &lt;- rnorm(100000,10,1)
</code></pre>

<p>Step 2: compare the expected output from the function with the actual output from the function:</p>

<pre><code> expected &lt;- quantile(test, c(0.35, 0.65, 0.5))
 actual   &lt;- dtheta(test)[1:3]
 signif(expected,2) %in% signif(actual,2)
</code></pre>

<p>Step 3: maybe do another test</p>

<pre><code>test2 &lt;- runif(100000, 0, 100)
expected &lt;- c(35, 50, 65)
actual   &lt;- dtheta(test2)
expected %in% signif(actual,2)
</code></pre>

<p>Step 4: if true, consider function 'functional'</p>
","199217","","199217","","2010-10-15 03:12:22","2011-02-24 12:46:19","guidelines for testing a statistical function in R?","<unit-testing><r><function>","4","0","6","","","CC BY-SA 2.5","3937669","4452","4452","r","404559","3625322","3607736","",""
"3938055","1","3941416","","2010-10-14 22:19:47","","1","689","<p>I have data which looks like this (this is test data for illustration):  </p>

<pre><code>test &lt;- matrix(c(1, 1, 1, 2, 2, 2 , 529, 528, 528, 495, 525, 510,557, 535, 313,502,474, 487 ), nr=6, dimnames=list(c(1,2,3,4,5,6),c(""subject"", ""rt1"", ""rt2"")))
</code></pre>

<p>And I need to turn it into this:</p>

<pre><code>test2&lt;-matrix(c(1,1,1,2,2,2,529,528,528,495,525,510,""slow"",""slow"",""fast"",""fast"",""slow"",""slow"",557, 535, 313,502,474, 487,""fast"",""fast"",""slow"",""slow"",""fast"",""fast""), nr=6, dimnames=list(c(1,2,3,4,5,6),c(""subject"", ""rt1"",""speed1"", ""rt2"",""speed2"")))
</code></pre>

<p>The speed1 column is calculated thus: calculate the median rt1 for the subject. If the individual value is less than the median it scores fast. If the individual cell value of rt1 is more than the median it scores slow. If the cell value is at the median, the cell is removed from the analysis (delete or NA) and the median for that subject is recalculated. This process is repeated for the speed2 column, but using rt2.</p>

<p>Perhaps some kind of if statement?</p>

<p>To clarify: I want the median for each subject (there are 40 in total) and for any values that are at the median (for that subject) to be excluded and the median recalculated (for that subject).</p>
","471431","","1023783","","2012-07-24 02:42:54","2012-07-24 02:42:54","Calculate median for each subject with update on ties?","<r><if-statement><median>","3","2","","","","CC BY-SA 3.0","3938055","4452","4452","r","404559","3625322","3607736","",""
"3938126","1","3945282","","2010-10-14 22:31:50","","15","2982","<p>I saw this in a recent economist and I was wondering if anyone has code that would help replicate it using ggplot. <a href=""http://www.economist.com/node/17257797?story_id=17257797"" rel=""noreferrer"">Economist Chart</a></p>

<p><img src=""https://i.stack.imgur.com/AlaSB.gif"" alt=""alt text"">
Thanks!</p>
","450889","","48387","","2010-10-14 22:33:33","2018-09-17 22:21:49","Wondering how to output a chart I saw in the economist magazine","<r><ggplot2>","4","3","10","","","CC BY-SA 2.5","3938126","4452","4452","r","404559","3625322","3607736","",""
"3942508","1","3943065","","2010-10-15 13:10:04","","14","10759","<p>I want to implement parallel coordinates for my muldimensional result. Does anyone have a good link to its implementation in matlab or R? Furthermore, are there any suggestions regarding the best tool to use for producing the parallel coordinates?</p>
","476907","","1700987","","2012-12-06 15:28:02","2016-03-17 08:40:39","Implementation of parallel coordinates?","<r><matlab><plot><coordinates>","4","2","8","2013-04-02 08:19:27","","CC BY-SA 2.5","3942508","4452","4452","r","404559","3625322","3607736","",""
"3943355","1","","","2010-10-15 14:49:42","","3","919","<p>This </p>

<pre><code>x &lt;- list(12, 13)
names(y &lt;- x) &lt;- c(""a"", ""b"")
</code></pre>

<p>gives the error:</p>

<pre><code>Error in names(y &lt;- x) &lt;- c(""a"", ""b"") : object 'y' not found
</code></pre>

<p>Can anyone explain why? </p>

<p>According to R's rules of evaluation <code>y &lt;- x</code> should be evaluated  inside the parent frame of names&lt;-. So y should be created in global environment.</p>

<p>Thanks.</p>

<p>[update] If object <code>y</code> is already present in the global environment, then the error is:</p>

<pre><code>Error in names(y &lt;- x) &lt;- c(""a"", ""b"") : could not find function ""&lt;-&lt;-""
</code></pre>

<p>[update2] Here it is, another construct, which I encountered today.</p>

<pre><code>(X &lt;- matrix(0, nrow = 10, ncol = 10))[1:3] &lt;- 3:5
Error during wrapup: object 'X' not found
</code></pre>
","453735","","453735","","2010-10-16 15:44:09","2010-10-16 15:44:09","Creation of an object inside names<-() gives an error. How to explain?","<r><eval><variable-assignment><evaluation>","2","3","","","","CC BY-SA 2.5","3943355","4452","4452","r","404559","3625322","3607736","",""
"3945327","1","","","2010-10-15 19:12:47","","1","3046","<p>I have a dataframe which resembles this- for example, 2 columns and multiple rows:</p>

<p>A       2</p>

<p>A     7</p>

<p>B     1</p>

<p>B     3</p>

<p>B     6</p>

<p>C     2</p>

<p>I want to do some operations on the items in column two within each unique value of column 1.</p>

<p>I have</p>

<pre><code>  unique.values &lt;- sort(unique(mydata[,1])) 
</code></pre>

<p>This part works for getting each unique value, but I don't know how to associate each unique factor with the values that it takes in column two.  I need to be able to operate on each one entirely independently and want to be able to count rows etc.  Tried using grep, but couldn't make that work.</p>

<p>Thank you for any help you can give!</p>
","477348","","","","","2010-10-16 22:07:25","Using values associated with unique values from a data frame","<r>","3","0","","","","CC BY-SA 2.5","3945327","4452","4452","r","404559","3625322","3607736","",""
"3948497","1","3948621","","2010-10-16 10:25:01","","3","2619","<p>I have a matrix A which is:</p>

<pre><code>A &lt;- matrix(c(1:15), byrow=T, nrow=5)
A
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6
[3,]    7    8    9
[4,]   10   11   12
[5,]   13   14   15
</code></pre>

<p>Now I want to create a matrix B, which is 8x8 dimensions (or 10x10, or 15x15, etc), which would look like this:</p>

<pre><code>     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
[1,]    1    2    3    0    0    0    0    0
[2,]    4    5    6    0    0    0    0    0
[3,]    7    8    9    0    0    0    0    0
[4,]   10   11   12    0    0    0    0    0
[5,]   13   14   15    0    0    0    0    0
[6,]    0    0    0    0    0    0    0    0
[7,]    0    0    0    0    0    0    0    0
[8,]    0    0    0    0    0    0    0    0
</code></pre>

<p>So starting from A, I want to add columns and rows, to an 8x8 dimensions, all replaced with zero values...
Any idea? 
Thank you in advance!!</p>
","477851","","","","","2010-10-16 11:03:09","Create a bigger matrix from smaller one","<r><matrix>","3","0","1","","","CC BY-SA 2.5","3948497","4452","4452","r","404559","3625322","3607736","",""
"3949909","1","3949982","","2010-10-16 17:18:36","","0","10067","<p>Reading the data the following way</p>

<pre><code>data&lt;-read.csv(""userStats.csv"", sep="","", header=F)
</code></pre>

<p>I tried to select an element at the specific position.</p>

<p>The example of the data (first five rows) is the following (V2 is the date and V3 is the day of week):</p>

<pre><code>   V1               V2
1 00002781A2ADA816CDB0D138146BD63323CCDAB2                 2010-09-04
2 00002D2354C7080C0868CB0E18C46157CA9F0FD4                 2010-09-04
3 00002D2354C7080C0868CB0E18C46157CA9F0FD4                 2010-09-07
4 00002D2354C7080C0868CB0E18C46157CA9F0FD4                 2010-09-08
5 00002D2354C7080C0868CB0E18C46157CA9F0FD4                 2010-09-17
                              V3 V4 V5          V6 V7 V8          V9
1 Saturday                        2  2         615  1  1          47
2 Saturday                        2  2          77  1  1          43
3 Tuesday                         1  3         201  1  1         117
4 Wednesday                       1  1          44  1  1          74
5 Friday                          1  1           3  1  1          18
</code></pre>

<p>I tried to divide 6th column with 9th column in the first row the following way:</p>

<pre><code>data[1,6]/data[1,9]
</code></pre>

<p>but it returned an error</p>

<pre><code>[1] NA
Warning message:
In Ops.factor(data[1, 6], data[1, 9]) : / not meaningful for factors
</code></pre>

<p>Then I tried to select just one element</p>

<pre><code>&gt; data[2,9]
[1]          43
11685 Levels:            0           1           2           3 ...       55311
</code></pre>

<p>but don't know what these Levels are and what causes an error. Does anyone know how to select an element at the specific position data[row, column]?</p>

<p>Thank you!</p>
","22996","","","","","2010-10-16 17:33:17","how to select matrix element in R?","<r>","2","0","","","","CC BY-SA 2.5","3949909","4452","4452","r","404559","3625322","3607736","",""
"3950877","1","3950994","","2010-10-16 21:28:07","","2","310","<p>I have a dataset that includes a list of species, their counts, and the day count from when the survey began. Since many days were not sampled, day is not continuous. So for example, there could be birds counted on day 5,6,9,10,15,34,39 and so on. I set the earliest date to be day 0.</p>

<p>Example data:</p>

<pre><code>species     counts      day
Blue tit    234         0
Blue tit    24          5
Blue tit    45          6
Blue tit    32          9
Blue tit    6           10
Blue tit    98          15
Blue tit    40          34
Blue tit    57          39
Blue tit    81          43
..................
</code></pre>

<p>I need to bootstrap this data and get a resulting dataset where I specify when to start, what interval to proceed in and number of points to sample.</p>

<p>Example: Let's say I randomly pick day 5 as the start day, the interval as 30, and number of rows to sample as 2.
It means that I will start at 5, add 30 to it, and look for 2 rows around 35 days (but not day 35 itself). In this case I will grab the two rows where day is 34 and 39. </p>

<p>Next I add 30 to 35 and look for two points around 65. Rinse, repeat till I get to the end of the dataset.</p>

<p>I've written this function to do the sampling but it has flaws (see below):</p>

<pre><code>resample &lt;- function(x, ...) x[sample.int(length(x), ...)]
 locate_points&lt;- function(dataz,l,n) #l is the interval, n is # points to sample. This is called by another function that specifies start time among other info.
{
   tlength=0
   i=1
    while(tlength&lt;n)   
    {
        low=l-i
        high=l+i
        if(low&lt;=min(dataz$day)) { low=min(dataz$day) }
        if(high&gt;=max(dataz$day)) { high=max(dataz$day) }
        test=resample(dataz$day[dataz$day&gt;low &amp; dataz$day&lt;high &amp; dataz$day!=l])
          tlength=length(test)
         i=i+1
      } 
  test=sort(test)
  k=test[1:n]
 return (k)
 } 
</code></pre>

<p>Two issues I need help with: </p>

<ol>
<li><p>While my function does return the desired number of points, it is not centered around my search value. Makes sense because as I get wider, I get more points and when I sort those and pick the first n, They tend not to be the low values. </p></li>
<li><p>Second, how do I get the actual rows out? For now I have another function to locate these rows using <code>which</code>, then <code>rbind</code> 'ing those rows together. Seems like there should be a better way.</p></li>
</ol>

<p>thanks!</p>
","313163","","2302862","","2015-07-03 09:36:06","2015-07-03 09:36:06","How do I sample n values at random nearest to value y when the data aren't continuous?","<r><time-series><statistics-bootstrap>","2","8","","","","CC BY-SA 3.0","3950877","4452","4452","r","404559","3625322","3607736","",""
"3951174","1","3989825","","2010-10-16 22:55:23","","1","2551","<p>Greetings, I am trying to create a bar chart of the data posted below (referred to in my code as <code>topTwoTable</code>), disaggregated by group type. I've scanned through multiple online forums, as well as Hadley's website, and stuck when it comes to manually altering the fill color of the bars on the basis of treatment type. </p>

<p>Any thoughts? </p>

<p>Cheers, 
Aaron</p>
","375267","","375267","","2010-11-10 22:04:40","2010-11-10 22:04:40","How to alter default fill settings for geom_bar plot","<r><ggplot2>","1","2","","","","CC BY-SA 2.5","3951174","4452","4452","r","404559","3625322","3607736","",""
"3951734","1","3951907","","2010-10-17 02:21:05","","4","4109","<p>I created a network graph from data on flows between US states. For each vertex, I have the lat/long of the state.  </p>

<p>I am hoping to recreate a network kind of graph that shows the edges, except that I set the location of each vertex to be their geographic position and have a state boundary map in the background.</p>

<p>I am using to igraph to create my network.  There have been some cool mapping examples in ggplot2, so I am wondering if that is an option.  I believe I have seen similar options using Pajek, but I am hoping to stay within R.</p>

<p><a href=""http://blog.revolutionanalytics.com/2009/11/choropleth-challenge-result.html"" rel=""nofollow"">maps in ggplot2</a></p>

<p>Any ideas/insight would be appreciated.</p>

<ul>
<li>Brock</li>
</ul>
","155406","","","","","2010-10-17 03:48:39","Network Graph and US Map in R","<r><ggplot2><social-networking>","1","0","","","","CC BY-SA 2.5","3951734","4452","4452","r","404559","3625322","3607736","",""
"3952593","1","3952632","","2010-10-17 08:50:43","","10","11342","<p>I'm checking a simple moving average crossing strategy in R. Instead of running a huge simulation over the 2 dimenional parameter space (length of short term moving average, length of long term moving average), I'd like to implement the Particle Swarm Optimization algorithm to find the optimal parameter values. I've been browsing through the web and was reading that this algorithm was very effective. Moreover, the way the algorithm works fascinates me...</p>

<p>Does anybody of you guys have experience with implementing this algorithm in R? Are there useful packages that can be used? </p>

<p>Thanks a lot for your comments.</p>

<p>Martin</p>
","471448","","66549","","2010-10-17 09:58:31","2016-11-24 10:32:41","Implementation of Particle Swarm Optimization Algorithm in R","<r><mathematical-optimization><particle-swarm>","1","0","7","","","CC BY-SA 2.5","3952593","4452","4452","r","404559","3625322","3607736","",""
"3952781","1","3952853","","2010-10-17 10:08:25","","0","565","<p>Below are the first five rows of the imported data in R:</p>

<p>data[1:5,]</p>

<pre><code>    user event_date day_of_week
1 00002781A2ADA816CDB0D138146BD63323CCDAB2 2010-09-04    Saturday
2 00002D2354C7080C0868CB0E18C46157CA9F0FD4 2010-09-04    Saturday
3 00002D2354C7080C0868CB0E18C46157CA9F0FD4 2010-09-07     Tuesday
4 00002D2354C7080C0868CB0E18C46157CA9F0FD4 2010-09-08   Wednesday
5 00002D2354C7080C0868CB0E18C46157CA9F0FD4 2010-09-17      Friday
  distinct_events_a_count total_events_a_count
1                             2                          2
2                             2                          2
3                             1                          3
4                             1                          1
5                             1                          1
  events_a_duration distinct_events_b_count total_events_b_count
1                     615                       1                    1
2                      77                       1                    1
3                     201                       1                    1
4                      44                       1                    1
5                       3                       1                    1
  events_b_duration
1                      47
2                      43
3                     117
4                      74
5                      18
</code></pre>

<p>The problem is that the columns 6 and 9 are read as factors and not numerics therefore I can't perform math operations. In order to convert the imported data to appropriate format I tried to create the structure dataset the following way:</p>

<pre><code>dataset&lt;-data.frame(events_a_duration=as.numeric(c(data[,6])), events_b_duration=as.numeric(c(data[,9])))
</code></pre>

<p>but checking the values I noticed that the frame structure doesn't contain the appropriate values:</p>

<pre><code> dataset[1,]


events_a_duration events_b_duration
1                   10217                    6184
</code></pre>

<p>The values should be 615 and 47.</p>

<p>So what I don't know is how to create the frame data structure that consists of imported data columns and would be very thankful if anyone could show the way to create the appropriate data structure.</p>
","22996","","168747","","2010-10-17 21:07:27","2012-09-08 17:56:07","how to create the frame data structure with columns from csv data in R?","<r><import><numeric><dataframe><factors>","2","2","","","","CC BY-SA 2.5","3952781","4452","4452","r","404559","3625322","3607736","",""
"3953541","1","3953590","","2010-10-17 14:02:12","","3","908","<p>I am revising a paper for submission and would like to replace the old lattice graphics with shiny new ggplot2 versions. However, I run into compatibility problems between ggplot2 and two packages that are absolutely crucial for my analyses, coin and arm. When executing the following example from the manual</p>

<pre><code>qplot(sleep_rem / sleep_total, awake, data = msleep)
</code></pre>

<p>I get an error message saying:</p>

<pre><code>   Error in function (classes, fdef, mtable)  : 
   unable to find an inherited method for function ""empty"", for signature ""data.frame""
</code></pre>

<p>as soon as either coin or arm are loaded.</p>

<p>Here are the details:</p>

<p>Running R 2.10.1, empty .RData file</p>

<pre><code>require(ggplot2)
require(xtable)
require(MASS)
require(gdata)
require(car)
require(Hmisc)
require(psych)

qplot(sleep_rem / sleep_total, awake, data = msleep)

require(coin)
qplot(sleep_rem / sleep_total, awake, data = msleep)

require(arm)
qplot(sleep_rem / sleep_total, awake, data = msleep)
</code></pre>

<p>Is this reproducible with R 2.12? If not, might it be worth upgrading? I must confess I am loath to update a working system, especially when on a tight deadline.</p>
","478542","","","","","2010-10-17 14:17:11","Incompatibility between ggplot2 and other packages in R?","<r><ggplot2>","1","1","","","","CC BY-SA 2.5","3953541","4452","4452","r","404559","3625322","3607736","",""
"3955077","1","3955193","","2010-10-17 20:12:36","","15","4713","<p>I would like to know how I would go about performing image analysis in R. My goal is to convert images into matrices (pixel-wise information), extract/quantify color, estimate the presence of shapes and compare images based on such metrics/patterns.</p>

<p>I am aware of relevant packages available in Python (suggestions relevant to Python are also welcome), but I am looking to accomplish these tasks in R.</p>

<p>Thank you for your feedback.</p>

<p>-Harsh</p>
","177390","","","","","2010-10-19 02:36:24","Image analysis in R","<python><image><r><analysis>","5","0","5","","","CC BY-SA 2.5","3955077","4452","4452","r","404559","3625322","3607736","",""
"3955095","1","3957042","","2010-10-17 20:16:09","","6","4821","<p>I am trying to use R to create a raster image from a matrix of data.  However, I am getting some weird artifacts on the edge of my image.</p>

<p>The code I am using is as follows:</p>

<pre><code># From the example for rasterImage(). A 3 pixel by 5 pixel b/w checkerboard.
testImage &lt;- as.raster(0:1, nrow=3, ncol=5)

testImage
     [,1]      [,2]      [,3]      [,4]      [,5]     
[1,] ""#000000"" ""#FFFFFF"" ""#000000"" ""#FFFFFF"" ""#000000""
[2,] ""#FFFFFF"" ""#000000"" ""#FFFFFF"" ""#000000"" ""#FFFFFF""
[3,] ""#000000"" ""#FFFFFF"" ""#000000"" ""#FFFFFF"" ""#000000""

png('test.png', width=5, height=3, units='px')

# Just want the image, no margins, boarders or other fancy stuff.
par(mar = c(0,0,0,0) )
plot.new()
plotArea = par('fig')

rasterImage(testImage, plotArea[1], plotArea[3],
  plotArea[2], plotArea[4], interpolate = FALSE )

dev.off()
</code></pre>

<p>This was executed in R 2.12.0 on OS X but I get the same output from R 2.11.0.</p>

<hr>

<p>The output I am getting is the following (scaled from 5x3 to 150x90)</p>

<p><img src=""https://i.stack.imgur.com/RzMPc.png"" alt=""R output""></p>

<p>The pixels in the corners should be black which suggests some form of interpolation is occurring.</p>

<hr>

<p>The output I am expecting to see is:</p>

<p><img src=""https://i.stack.imgur.com/0ykqF.png"" alt=""Expected output""></p>

<p>Any suggestions on why my code fails to faithfully produce a raster image from a matrix?</p>

<hr>

<h2>Intended Use</h2>

<p>This is for a package I am working on so I would like to stay within the R base packages if possible so as not to introduce additional dependencies.  The package implements a graphics device, so if anyone has a C level solution picks up from the info passed by <code>GERaster()</code> in <code>src/main/engine.c</code> and creates a PNG using only the R libraries, I would be willing to give that a shot as well.</p>

<hr>

<h2>Solutions for OS X</h2>

<p>As pointed out by nico, the errant behavior is the result of antialiasing.  The plot behaves as expected if <code>png()</code> is told to use an output method for which antialiasing can be disabled, such as Cairo graphics:</p>

<pre><code>png('test.png', width=5, height=3, units='px', type='cairo', antialias=NULL)
</code></pre>

<p>On OS X the default backend for <code>png()</code> is Quartz, however <code>png(..., type='quartz')</code> currently ignores directives set by <code>quartz.options()</code>.  Faithful output can be produced natively on OS X if the device is started by calling <code>quartz()</code> directly instead of using <code>png()</code>:</p>

<pre><code>quartz(file='test.png', type='png', width=5, height=3, dpi=1, antialias=FALSE)
</code></pre>

<hr>

<h2>Windows Thinks Differently</h2>

<p>The following output is generated on Windows:</p>

<p><img src=""https://i.stack.imgur.com/Eoez3.png"" alt=""Windows output""></p>

<p>According to <a href=""http://r.789695.n4.nabble.com/Incorrect-positioning-of-raster-images-on-Windows-tp2999649p3001505.html"" rel=""nofollow noreferrer"">an answer</a> given by Paul Murrell (the benevolent dictator of R graphics 
devices) on the R-help mailing list:</p>

<blockquote>
  <p>This is a rounding (truncation) problem. Working on a fix.</p>
</blockquote>

<p>This behavior on Windows should not be noticeable unless the raster image contains a very small number of pixels.</p>
","135870","","135870","","2010-10-19 22:27:52","2010-10-19 22:27:52","Creating raster images using R","<r><raster-graphics>","2","5","1","","","CC BY-SA 2.5","3955095","4452","4452","r","404559","3625322","3607736","",""
"3955108","1","3955541","","2010-10-17 20:22:04","","8","2479","<p>I am working on a project where I have a lot of analysts creating statistical models in R. They usually provide me with the model objects (.Rdata files) and I automate executing them for various datasets.</p>

<p>My problem is:</p>

<ul>
<li><p>Can I use a database and save these .RData files there ? Any hints on doing this? ( I currently store the .Rdata files to disk and use a database to store location information)</p></li>
<li><p>I get a lot of R scripts from other analysts who have done some pre-processing of data before they create the models. Does anyone have experience using PMML to make this process repeatable without manual intervention ? PMML stores the pre-processing steps, modeling steps as markup tags, and would repeat the same on a new dataset.</p></li>
</ul>

<p>Thank you for the suggestions and feedback.</p>

<p>-Harsh</p>
","177390","","95353","","2012-05-10 06:38:58","2012-05-10 06:38:58","Serializing .RData file to database","<database><r><rdata>","4","0","3","","","CC BY-SA 2.5","3955108","4452","4452","r","404559","3625322","3607736","",""
"3955878","1","","","2010-10-18 00:04:49","","2","6821","<p>I am currently using apTreeshape to simulate phylogenetic trees using the ""Yule-Hardy"" Method. What I want to do is randomly generate between 20 and 25 different numbers for three different groupings (small, medium and large trees) and then generate about 40 trees for every random number chosen from within the grouping.</p>

<p>I know how I would do this in Python of Matlab, but in R things seem to behave a bit differently.</p>

<p>My thought was that if I were to generate a vector full of random numbers (one for each size grouping) and then use that to generate a vector which would basically contain all of the repeated values of each random number.</p>

<p>Here is what I have:</p>

<pre><code>sm_leaves&lt;-c(sample(3:50,25,replace=F));
s_leafy&lt;-numeric();

for (i in 1:length(sm_leaves)) { 
    for (j in 1:10) {
        s_leafy[j+i-1]=sm_leaves[i];
    }
}
</code></pre>

<p>This is giving me output like:</p>

<pre><code>&gt; s_leafy
[1]  5 38  6 22 29 20 19 46  9 18 39 50 34 11 43  7  8 32 10 42 14 37
[23] 23 13 28 28 28 28 28 28 28 28 28 28
</code></pre>

<p>But What I want is something more like:</p>

<pre><code>&gt; s_leafy
[1]  5  5  5  5  5  5  5  5  5  5 38 38 38 38 38 38 38 38 38 ... 28 28 28 28 28 28 28 28 28 28
</code></pre>

<p>My reason for doing this is merely so that I can append this vector to a data frame along with all of the randomly generated trees - I need 2000 of them, so doing this by hand ain't quite practical.</p>

<p>All I have really been able to deduce from my previous attempts to solve this problem is that generally speaking while loops should be used instead of for loops, and many people have talked about using expand.grid, but I don't think that the latter is particularly useful in this case.</p>

<p>Thanks for reading, I hope my problem isn't too trivial (although I wouldn't be surprised if it were).</p>
","478864","","168747","","2010-10-18 08:27:52","2010-10-18 08:27:52","Having an issue with nested for loops in R","<r><nested><for-loop>","3","0","","","","CC BY-SA 2.5","3955878","4452","4452","r","404559","3625322","3607736","",""
"3961705","1","3962350","","2010-10-18 17:31:42","","3","351","<p>I'm working on a PHP web app that calls R through curl and RApache.  Most things work fine. But one lattice plot throws this error:</p>

<blockquote>
  <p>RApache Warning/Error!!!Error in uy +
  c(-1, 1) : non-numeric argument to
  binary operator</p>
</blockquote>

<p>I tried saving the data structures that feed into the plot and doing the plot in my local R, but then the plot works just fine. So I can't replicate the error.</p>

<p>These are the loaded libraries when the script runs in RApache:</p>

<pre><code>library(Brew)
library(Cairo)
library(rjson)
library(DBI)
library(RMySQL)
library(reshape)
library(plyr)
library('RColorBrewer')
library(ggplot2)
library(lattice)
library(latticeExtra)
library(hexbin)
</code></pre>

<p>Here is a bit of the script:</p>

<pre><code>colgrad.pal&lt;-colorRampPalette(brewer.pal(11,'Spectral'), interpolate='spline')

//problem plot
dists.med.lplot&lt;-levelplot(value~starttime+groupname|dists, data=MDist.median,
  col.regions=rev(colgrad.pal(200)),colorkey=list(col=rev(colgrad.pal(200))),
  xlab='Time(s)',ylab='Treatment',
  main='Level Plot of Median Distance',
  layout=c(1,3))
</code></pre>

<p><del>And here is a link to a datafile.  I read it in like this:</del> //link appears untrustworthy, so removed</p>

<p>Data looks like this:</p>

<pre><code>'data.frame':   2880 obs. of  6 variables:
 $ groupname: Factor w/ 8 levels ""rowA"",""rowB"",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ fCycle   : Factor w/ 6 levels ""Cycle 1"",""Cycle 2"",..: 6 6 6 6 6 6 6 6 6 6 ...
 $ fPhase   : Factor w/ 2 levels ""Dark"",""Light"": 1 1 1 1 1 1 1 1 1 1 ...
 $ starttime: int  0 60 120 180 240 300 360 420 480 540 ...
 $ dists    : Factor w/ 3 levels ""inadist"",""lardist"",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ value    : num  47.5 64 78.3 39.2 53.7 ...
</code></pre>

<p>Any ideas on what the problem is or how to better troubleshoot this?</p>

<p>ETA version/platform info</p>

<pre><code>        [platform] =&gt; sparc-sun-solaris2.10
        [arch] =&gt; sparc
        [os] =&gt; solaris2.10
        [system] =&gt; sparc, solaris2.10
        [status] =&gt; 
        [major] =&gt; 2
        [minor] =&gt; 10.1
        [year] =&gt; 2009
        [month] =&gt; 12
        [day] =&gt; 14
        [svn rev] =&gt; 50720
        [language] =&gt; R
        [version.string] =&gt; R version 2.10.1 (2009-12-14)
</code></pre>
","128245","","128245","","2010-10-18 19:51:16","2010-10-18 19:51:16","lattice levelplot only fails under RApache","<php><r><curl><rapache>","1","5","1","","","CC BY-SA 2.5","3961705","4452","4452","r","404559","3625322","3607736","",""
"3963122","1","3963408","","2010-10-18 20:30:32","","4","1632","<p>What packages and functions in R can perform a two dimensional non-additive local regression/smooth.  For example consider</p>

<pre><code>b&lt;-seq(-6*pi,6*pi,length=100)
xy&lt;-expand.grid(b,b) 
x=xy[[1]]
y=xy[[2]]
z= sin(x)+cos(y) + 2*sin(x)*cos(y)
contour(b,b,matrix(z,100,100))
</code></pre>

<p><img src=""https://i.stack.imgur.com/cJ0yJ.png"" alt=""alt text""></p>

<p>What functions could estimate this?</p>
","65148","","","","","2010-10-19 01:43:30","R: Two dimensional non-parametric regression","<r><statistics>","2","5","1","","","CC BY-SA 2.5","3963122","4452","4452","r","404559","3625322","3607736","",""
"3965422","1","3965478","","2010-10-19 04:51:27","","5","2514","<p>I have a contour plot in ggplot2 that I want to map one point to.</p>

<p>My contour plot looks like this:</p>

<pre><code>v = ggplot(pts, aes(theta_1, theta_2, z = z))
v + stat_contour(aes(colour = ..level..),bins=50) 
+ xlab(expression(Theta[1])) + ylab(expression(Theta[2]))
</code></pre>

<p>and I have a point that looks like this:</p>

<p><pre><code>p = ggplot(ts,aes(x,y))
p + geom_point() </pre></code></p>

<p>unfortunately the second overwrites the first.</p>

<p>Is there a way to get them to show up on the same plot, similar to MATLAB's ""hold on;""?</p>

<p>Thanks!</p>
","480048","","","","","2014-05-04 01:32:32","Plot a point in a contour plot ggplot2","<r><ggplot2>","2","0","","","","CC BY-SA 2.5","3965422","4452","4452","r","404559","3625322","3607736","",""
"3968073","1","3968237","","2010-10-19 12:01:48","","4","8151","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/1727772/quickly-reading-very-large-tables-as-dataframes-in-r"">Quickly reading very large tables as dataframes in R</a>  </p>
</blockquote>



<p>Hi,</p>

<p>trying to read a large dataset in R the console displayed the follwing errors:</p>

<pre><code>data&lt;-read.csv(""UserDailyStats.csv"", sep="","", header=T, na.strings=""-"", stringsAsFactors=FALSE)
&gt; data = data[complete.cases(data),]
&gt; dataset&lt;-data.frame(user_id=as.character(data[,1]),event_date= as.character(data[,2]),day_of_week=as.factor(data[,3]),distinct_events_a_count=as.numeric(as.character(data[,4])),total_events_a_count=as.numeric(as.character(data[,5])),events_a_duration=as.numeric(as.character(data[,6])),distinct_events_b_count=as.numeric(as.character(data[,7])),total_events_b=as.numeric(as.character(data[,8])),events_b_duration= as.numeric(as.character(data[,9])))
Error: cannot allocate vector of size 94.3 Mb
In addition: Warning messages:
1: In data.frame(user_msisdn = as.character(data[, 1]), calls_date = as.character(data[,  :
  NAs introduced by coercion
2: In data.frame(user_msisdn = as.character(data[, 1]), calls_date = as.character(data[,  :
  NAs introduced by coercion
3: In class(value) &lt;- ""data.frame"" :
  Reached total allocation of 3583Mb: see help(memory.size)
4: In class(value) &lt;- ""data.frame"" :
  Reached total allocation of 3583Mb: see help(memory.size)
</code></pre>

<p>Does anyone know how to read large datasets? The size of UserDailyStats.csv is approximately 2GB.</p>
","22996","","-1","","2017-09-22 17:44:54","2017-09-22 08:06:46","How to read large dataset in R","<r><large-data>","3","2","4","2010-10-20 01:02:49","","CC BY-SA 2.5","3968073","4452","4452","r","404559","3625322","3607736","",""
"3968693","1","","","2010-10-19 13:13:27","","5","1714","<p>I have a <a href=""https://docs.google.com/leaf?id=0B1krGGny7BduMWZjZTY2OTUtOTk4Yy00MGQ0LWJlNDMtODk3MGE5ODQzMmJk&amp;hl=en&amp;authkey=CM2k-sYM"" rel=""nofollow"">list</a> containing six plots, made like this:</p>

<pre><code>voi=c('inadist','smldist','lardist')

plist &lt;- llply(voi, 
    function(v,df,s) {
        list(   
            assign(
                paste(v,'.violin'), 
                bwplot(groupname~df[,which(colnames(df)==v)]|fCycle*fPhase, 
                    data=df, 
                    groups=groupname, col=rainbow(1), box.ratio=3,
                    main=paste('Distribution of ', v, ' by Treatment and Cycle'),
                    sub=s, xlab=v, panel=panel.violin)),
            assign(
                paste(v,'.hexbin'),
                hexbinplot(df[,which(colnames(df)==v)]~starttime|groupname, 
                    data=df, xlab='Time(s)',main= paste('Distribution of ',v,' by Treatment'),
                    sub=s,ylab=v, aspect=0.5, colramp=redgrad.pal, layout=c(2,4)))

            )
    },data,meta$exp_name)
</code></pre>

<p>If I print the list, <code>print(plist)</code>, the plots are output to the graphical device, then the indices are output to the console resulting in this:</p>

<pre><code>[[1]]
[[1]][[1]]

[[1]][[2]]


[[2]]
[[2]][[1]]

[[2]][[2]]


[[3]]
[[3]][[1]]

[[3]][[2]]
</code></pre>

<p>Because I am coding a webapp, I need to control console output quite strictly. So far the only way I can output the plots without outputting the indices is like this:</p>

<pre><code>for(p in plist) 
    for(i in p) 
        print(i)
</code></pre>

<p>Is there a more efficient way of getting what I need?</p>
","128245","","","user1685185","2014-01-19 10:38:58","2014-01-19 10:38:58","Prevent print() from outputting list indices in R","<r><list><loops><printing>","1","2","","","","CC BY-SA 3.0","3968693","4452","4452","r","404559","3625322","3607736","",""
"3969852","1","3969928","","2010-10-19 15:12:23","","35","39012","<p>I ran into a little problem using R</p>

<p>In the following data frame</p>

<pre><code>test &lt;- data.frame(v1=c(rep(1,3),rep(2,3)),v2=0) 
</code></pre>

<p>I want to change values for v2 in the rows where v1 is 1.</p>

<pre><code>test[test$v1==1,""v2""] &lt;- 10
</code></pre>

<p>works just fine.</p>

<pre><code>test
  v1 v2
1  1 10
2  1 10
3  1 10
4  2  0
5  2  0
6  2  0
</code></pre>

<p>However, I need to do that in a function.</p>

<pre><code>test &lt;- data.frame(v1=c(rep(1,3),rep(2,3)),v2=0)

test.fun &lt;- function (x) {
    test[test$v1==x,""v2""] &lt;- 10
    print(test)
}
</code></pre>

<p>Calling the function seems to work.</p>

<pre><code>test.fun(1)
  v1 v2
1  1 10
2  1 10
3  1 10
4  2  0
5  2  0
6  2  0
</code></pre>

<p>However, when I now look at test:</p>

<pre><code>test
  v1 v2
1  1  0
2  1  0
3  1  0
4  2  0
5  2  0
6  2  0
</code></pre>

<p>it didnt work.
Is there a command that tells R to really update the data frame in the function?
Thanks a lot for any help!</p>
","415697","","","","","2020-01-15 09:22:49","Update data frame via function doesn't work","<r><function><dataframe>","6","0","11","","","CC BY-SA 2.5","3969852","4452","4452","r","404559","3625322","3607736","",""
"3971006","1","3971078","","2010-10-19 17:28:26","","2","1075","<p>I have a CSV with a bunch of data like so:</p>

<pre><code>&gt; test.csv &lt;- read.csv(""~/Desktop/stats.csv"")
&gt; test.csv
          m                   lvl a     b           c a_pct  b_pct  c_pct   d_pct
1    543557                    2A 13  255  59.6666667  18.8   10.2    1.6     5.1
2    545059                    2A  0   19   4.0000000  15.8   15.8    5.3    10.5
</code></pre>

<p>I want to be able to do a histogram of like <code>a_pct</code> using <code>hist(test.csv$a_pct)</code> but only on qualifying rows, where like <code>c_pct</code> > 20 or <code>c</code> &lt; 200, etc. Sort of like a SQL WHERE clause. Is there a way to do this easily in R?</p>
","160511","","","","","2010-10-19 18:24:25","R: get qualifying rows from data?","<r>","3","0","","","","CC BY-SA 2.5","3971006","4452","4452","r","404559","3625322","3607736","",""
"3971644","1","3972163","","2010-10-19 18:52:21","","8","2298","<p>I have a data.frame (<a href=""https://docs.google.com/leaf?id=0B1krGGny7BduODJlM2E4MDItNDI0MS00YWYyLTgxYzYtZWI1YzZkYTYxMTk1&amp;hl=en&amp;authkey=COvf5fUL"" rel=""noreferrer"">link to file</a>) with 18 columns and 11520 rows that I transform like this:</p>

<pre><code>library(plyr)
df.median&lt;-ddply(data, .(groupname,starttime,fPhase,fCycle), 
                 numcolwise(median), na.rm=TRUE)
</code></pre>

<p>according to system.time(), it takes about this long to run:</p>

<pre><code>   user  system elapsed 
   5.16    0.00    5.17
</code></pre>

<p>This call is part of a webapp, so run time is pretty important.  Is there a way to speed this call up?</p>
","128245","","","","","2014-04-16 15:21:01","how to speed up this R code","<r><plyr>","6","8","1","","","CC BY-SA 2.5","3971644","4452","4452","r","404559","3625322","3607736","",""
"3971815","1","3973385","","2010-10-19 19:11:00","","45","20895","<p>I recently installed R-2.12.0 from R-2.11.1 and I've updated all CRAN packages via:</p>

<pre><code>update.packages(checkBuilt=TRUE, ask=FALSE)
</code></pre>

<p>Now I want to update all the packages I have installed from R-forge, but <em>only if they're not available on CRAN</em>.  In other words, I cannot simply run:</p>

<pre><code>update.packages(checkBuilt=TRUE, ask=FALSE, repos=""http://r-forge.r-project.org"")
</code></pre>

<p>because it would install the R-forge version of the <code>survival</code> package over the version that came with R-2.12.0.</p>

<p>I could probably use some combination of the information from <code>old.packages</code> and <code>packageStatus</code> to determine which packages exist only on R-forge, but I wanted to ask if there was an easier way before building a custom solution.</p>
","271616","","-1","","2014-10-22 16:07:11","2014-10-22 16:07:11","Automatically update packages installed from R-forge","<r><r-forge>","1","0","29","","","CC BY-SA 3.0","3971815","4452","4452","r","404559","3625322","3607736","",""
"3971844","1","3971855","","2010-10-19 19:13:22","","68","59630","<p>Similar questions have been raised for other languages: <a href=""https://stackoverflow.com/questions/2911442/access-variable-value-using-string-representing-variables-name-in-c"">C</a>, <a href=""https://stackoverflow.com/questions/2363405/t-sql-get-variable-value-from-string-with-variable-name"">sql</a>, <a href=""https://stackoverflow.com/questions/1655504/use-variable-value-to-get-value-stored-in-other-variable"">java</a>, etc.</p>

<p>But I'm trying to do this in R. </p>

<p>I have:</p>

<pre><code>ret_series &lt;- c(1, 2, 3)
x &lt;- ""ret_series""
</code></pre>

<p>How do I get <code>(1, 2, 3)</code> by calling some function / manipulation on <code>x</code>, without direct mentioning of <code>ret_series</code>?</p>
","291877","","2204410","","2018-10-17 06:23:26","2018-10-17 06:23:26","Access variable value where the name of variable is stored in a string","<r><variables><r-faq>","4","1","9","","","CC BY-SA 4.0","3971844","4452","4452","r","404559","3625322","3607736","",""
"3974488","1","","","2010-10-20 03:17:02","","27","20617","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/1401904/painless-way-to-install-a-new-version-of-r"">Painless way to install a new version of R?</a>  </p>
</blockquote>



<p>In R, packages are not compatible across upgrades, and must be reinstalled. Is there any way to easily install the same set of packages in the new version as what I had installed in the old version?</p>

<p>Edit: I can't easily access the old version of R, since I upgrade via apt.</p>
","125921","","-1","","2017-05-23 10:30:36","2010-10-20 03:40:10","After I upgrade my R version, how can I easily reinstall all the packages that were installed in the old version?","<r><upgrade><reinstall>","1","3","9","2010-10-20 10:50:55","","CC BY-SA 2.5","3974488","4452","4452","r","404559","3625322","3607736","",""
"3978266","1","3978483","","2010-10-20 13:21:17","","25","73338","<p>I've used <code>read.table</code> to read a file that contains numbers such as   0.00001</p>

<p>when I write them back with <code>write.table</code> those numbers appear as  1e-5</p>

<p>How can I keep the old format?</p>
","425895","","190277","","2013-01-02 15:14:58","2013-01-02 15:14:58","Number format, writing 1e-5 instead of 0.00001","<r><numbers><format>","4","0","4","","","CC BY-SA 3.0","3978266","4452","4452","r","404559","3625322","3607736","",""
"3978886","1","3978940","","2010-10-20 14:24:44","","0","346","<p>How can I select several not continuous rows ?</p>

<p>If I wanted to select rows 1 to 7 I'll write
mydata[,1:7]</p>

<p>But what if I need to select rows 1 to 5 and 10 to 15?</p>
","425895","","425895","","2010-10-20 14:45:20","2010-10-20 14:45:20","R: How to select not continous rows?","<r><select><rows>","2","3","","","","CC BY-SA 2.5","3978886","4452","4452","r","404559","3625322","3607736","",""
"3979240","1","","","2010-10-20 14:59:15","","34","108188","<p>imagine I have a 3 columns matrix<br>
x, y, z
where z is a function of x and y.</p>

<p>I know how to plot a ""scatter plot"" of these points with
<code>plot3d(x,y,z)</code></p>

<p>But if I want a surface instead I must use other commands such as  surface3d 
The problem is that it doesn't accept the same inputs as plot3d
it seems to need a matrix with </p>

<pre><code>(n elements of z) = (n of elements of x) * (n of elements of x)
</code></pre>

<p>How can I get this matrix?
I've tried with the command interp, as I do when I need to use contour plots.</p>

<p>How can I plot a surface directly from x,y,z without calculating this matrix?
If I had too many points this matrix would be too big.</p>

<p>cheers</p>
","425895","","168747","","2010-10-29 12:14:45","2020-04-15 22:24:16","R: Plotting a 3D surface from x, y, z","<r><3d><matrix><plot><rgl>","5","1","18","","","CC BY-SA 2.5","3979240","4452","4452","r","404559","3625322","3607736","",""
"3980814","1","3980940","","2010-10-20 17:54:12","","6","2671","<p>I have a data.frame which has multiple columns. One of the columns is time and is thus non-decreasing. Rest of the columns contain observations recorded at the time given by the time specified in a certain row of the data.frame.</p>

<p>I want to select a window of time, say ""x"" seconds, and calculate the average (or for that matter any function) of the entries in some other columns in the same data.frame for that window.</p>

<p>Of course, because its a time based average, the number of entries in a window can vary depending upon the data. This is because the number of rows belonging to a certain time window can vary.</p>

<p>I have done this using a custom function, which creates a new column in the data.frame. The new column assigns a single number to all the entries in a time window. The number is unique across all the time windows. This essentially divides the data into groups based on the time windows. Then I use R's ""aggregate"" function to do calculate the mean.</p>

<p>I was just wondering if there is an existing R function that can do the grouping based on a time interval or if there is a better (cleaner) way to do this.</p>
","229378","","","","","2019-03-21 18:15:27","Time-based averaging (sliding window) of columns in a data.frame","<r><dataframe>","2","2","3","","","CC BY-SA 2.5","3980814","4452","4452","r","404559","3625322","3607736","",""
"3980986","1","12344981","","2010-10-20 18:17:44","","4","9549","<p>I'm working with a large data frame called exp (<a href=""https://docs.google.com/leaf?id=0B1krGGny7BduNjMxYjAyNDUtYjAwNy00MTM0LWJlZjUtZTAyZGQyMzFiOTY5&amp;hl=en&amp;authkey=CMvtpuMP"" rel=""nofollow"">file here</a>) in R.  In the interests of performance, it was suggested that I check out the idata.frame() function from plyr. But I think I'm using it wrong.</p>

<p>My original call, slow but it works:</p>

<pre><code>df.median&lt;-ddply(exp, 
                 .(groupname,starttime,fPhase,fCycle), 
                 numcolwise(median), 
                 na.rm=TRUE)
</code></pre>

<p>With idata.frame, <code>Error: is.data.frame(df) is not TRUE</code></p>

<pre><code>library(plyr)
df.median&lt;-ddply(idata.frame(exp), 
                 .(groupname,starttime,fPhase,fCycle), 
                 numcolwise(median), 
                 na.rm=TRUE)
</code></pre>

<p>So, I thought, perhaps it is my data.  So I tried the <code>baseball</code> dataset. The <code>idata.frame</code> example works fine: <code>dlply(idata.frame(baseball), ""id"", nrow)</code> But if I try something similar to my desired call using <code>baseball</code>, it doesn't work:</p>

<pre><code>bb.median&lt;-ddply(idata.frame(baseball), 
                 .(id,year,team), 
                 numcolwise(median), 
                 na.rm=TRUE)
&gt;Error: is.data.frame(df) is not TRUE
</code></pre>

<p>Perhaps my error is in how I'm specifying the groupings?  Anyone know how to make my example work?</p>

<p>ETA:</p>

<p>I also tried:</p>

<pre><code>groupVars &lt;- c(""groupname"",""starttime"",""fPhase"",""fCycle"")
voi&lt;-c('inadist','smldist','lardist')

i&lt;-idata.frame(exp)
ag.median &lt;- aggregate(i[,voi], i[,groupVars], median)
Error in i[, voi] : object of type 'environment' is not subsettable
</code></pre>

<p>which uses a faster way of getting the medians, but gives a different error. I don't think I understand how to use idata.frame at all.</p>
","128245","","1385941","","2012-09-10 03:20:07","2012-09-10 03:20:07","idata.frame: Why error ""is.data.frame(df) is not TRUE""?","<performance><r><plyr><data.table>","2","2","1","","","CC BY-SA 2.5","3980986","4452","4452","r","404559","3625322","3607736","",""
"3984385","1","3986185","","2010-10-21 04:52:53","","4","3104","<p>I am trying to reproject coordinates from WGS84 to MGA Zone 53, a UTM projection based on the GDA94 datum.  I get infinity as my result, which is definitely incorrect.  I am using R's <code>proj4</code> package like so:</p>

<pre><code>&gt; library(proj4)
&gt; df &lt;- data.frame(""x"" = c(131.1, 131.102, 131.1106, 133.34), ""y"" = c(-13.23, -13.243, -13.22, -22.66))
&gt; df
         x       y
1 131.1000 -13.230
2 131.1020 -13.243
3 131.1106 -13.220
4 133.3400 -22.660
&gt; ptransform(data = df, src.proj = ""+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs"", dst.proj = ""+proj=utm +zone=53 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"")
$x
[1] Inf Inf Inf Inf

$y
[1] Inf Inf Inf Inf

$z
[1] 0 0 0 0

&gt; 
</code></pre>

<p>What is going wrong here?</p>
","103225","","103225","","2010-10-21 05:01:26","2010-10-21 09:49:12","Proj4 reprojection using R","<r><geospatial><map-projections><proj>","2","2","","","","CC BY-SA 2.5","3984385","4452","4452","r","404559","3625322","3607736","",""
"3984753","1","3988033","","2010-10-21 06:12:22","","2","292","<p>Is there a way to generate a theme for sweave documents? I have a number of reports that I generate monthly, where I use R to generate the text, tables and images. But now I'm stuck in the rut of copying and pasting this information into MS Publisher placing the text in a themed document that we had a graphic designer make for us. </p>

<p>What I'd like to do is replicate the design, and get rid of the need to copy paste. </p>

<p>Is this possible with Sweave? Or another tool? </p>
","170352","","","","","2010-10-21 19:55:30","Theming with Sweave or other LaTeX like PDF Generators that are R friendly","<pdf><r><sweave>","2","4","","","","CC BY-SA 2.5","3984753","4452","4452","r","404559","3625322","3607736","",""
"3984862","1","3985010","","2010-10-21 06:32:06","","1","93","<p>If a warning or error occurs, I would like to print the name of the function generating the error. </p>

<p><em>tryCatch</em> in R allows one to handle errors in a function call, perhaps it is part of the solution?  For example, this could be in a context like:</p>

<pre><code>handleErr &lt;-function(e) {
    print(""you had an error in function:"")
    print( WHAT CAN I PUT HERE??! )
}

tryCatch(  myFunction(), error=handleErr )
</code></pre>
","302378","","","","","2010-10-21 16:01:06","How can I access the name of the function generating an error or warning?","<r><error-handling>","2","0","","","","CC BY-SA 2.5","3984862","4452","4452","r","404559","3625322","3607736","",""
"3985135","1","","","2010-10-21 07:16:42","","5","4893","<p>I would like to produce a kernel density estimation in R, and am somewhat bamboozled by all the different packages.  I need to be able to:</p>

<ol>
<li>Specify weights</li>
<li>Specify bandwidth size</li>
<li>Specify bin size</li>
</ol>

<p>How would you go about this?   Bonus points for a code snippet.</p>
","103225","","168747","","2010-10-21 10:51:34","2010-10-27 15:18:33","How do a perform a weighted, 2d kernel density estimation in R?","<r><kernel-density>","2","2","1","","","CC BY-SA 2.5","3985135","4452","4452","r","404559","3625322","3607736","",""
"3985242","1","3986315","","2010-10-21 07:35:15","","3","478","<p>I am using plyr package in R to do the following:</p>

<ul>
<li>pick up a row from table A according to column A and column B</li>
<li>find the row from table B having the same value in column A and column B</li>
<li>copy column C from table B to table A</li>
</ul>

<p>I have made the progress bar to show the progress, but after it shows to 100% it seems to be still running, as I have see my CPU is still occupied by RGUI, but it just doesn't end.</p>

<p>My table A is having about 40000 rows of data with unique column A and column B.</p>

<p>I suspect that the ""combine"" part of the ""split-conquer-combine"" workflow in plyr cannot handle this 40000 rows of data, because I can do it for another table with 4000 rows of data.</p>

<p>Any suggestions for improving the efficiency? Thanks.</p>

<h3>UPDATE</h3>

<p>Here is my code:</p>

<pre><code>for (loop.filename in (1:nrow(filename)))
  {print(""infection source merge"")
   print(filename[loop.filename, ""table_name""])
   temp &lt;- get(filename[loop.filename, ""table_name""])
   temp1 &lt;- ddply(temp,
                  c(""HOSP_NO"", ""REF_DATE""),
                  function(df)
                    {temp.infection.source &lt;- abcde[abcde[,""Case_Number""]==unique(df[,""HOSP_NO""]) &amp;
                                              abcde[,""Reference_Date""]==unique(df[,""REF_DATE""]),
                                              ""Case_Definition""]
                     if (length(temp.infection.source)==0) {
                         temp.infection.source&lt;-""NIL""
                         } else {
                         if (length(unique(temp.infection.source))&gt;1) {
                             temp.infection.source&lt;-""MULTIPLE""
                             } else {
                            temp.infection.source&lt;-unique(temp.infection.source)}}
                     data.frame(df,
                                INFECTION_SOURCE=temp.infection.source)
                     },
                    .progress=""text"")
   assign(filename[loop.filename, ""table_name""], temp1)
  }
</code></pre>
","373908","","373908","","2010-10-21 07:55:41","2010-10-21 11:34:28","plyr in R very slow during merging","<r><plyr>","1","7","","","","CC BY-SA 2.5","3985242","4452","4452","r","404559","3625322","3607736","",""
"3985333","1","3995019","","2010-10-21 07:51:48","","4","5452","<p>I wonder whether there is a way to select the standard deviation from several integer fields in MySQL within the same row. Obviously, if I use</p>

<pre class=""lang-sql prettyprint-override""><code>SELECT STDDEV(col1) FROM mytable
</code></pre>

<p>I just get the standard deviation of that particular column. Lets assume I have a table like:
<code>id,somefield1,somefield2, integerfield1,integerfield2,integerfield3, ... ,integerfield30</code> .
Now Id like to select the standard deviation of integerfield 1-30 within a row and save it AS sdfield . Of course I could use statistical software for this, but I just wonder if there is a way to do it directly in MySQL.</p>
","366256","","4233593","","2017-11-08 21:02:05","2017-11-08 21:02:05","How to select standard deviation within a row? (in SQL - or R :)","<mysql><r><statistics>","4","0","","","","CC BY-SA 3.0","3985333","4452","4452","r","404559","3625322","3607736","",""
"3985537","1","3986226","","2010-10-21 08:24:10","","6","3928","<p>I would like to create a vector of functions using a two agruments function 'func', for instance this one: </p>

<pre><code>func = function(number, coefficient) {  
    return(coefficient*number)  
}
</code></pre>

<p>here is how I create the vector of functions:</p>

<pre><code>vector_of_functions = NULL  
for (i in 1:4) {  
vector_of_functions = c(vector_of_functions,
    function(number) func(number=number, coefficient=i))  
}
</code></pre>

<p>My issue is that all functions that compose my vector are the same, even if they have been created using different i through the loop. It seams that they are evaluated using the last value of i (which is here a global variable).</p>

<p>Anybody has an idea?</p>

<p>Thanks</p>
","482711","","176923","","2010-10-21 08:59:11","2010-10-21 16:05:35","R: How to create a vector of functions?","<r>","3","6","4","","","CC BY-SA 2.5","3985537","4452","4452","r","404559","3625322","3607736","",""
"3988076","1","3988397","","2010-10-21 13:44:05","","1","732","<p>I have generated a few network graphs in igraph.  I like to use tkplot, however, after resizing the window manually and changing the layout, my machine freezes up when I try to export or even take a screenshot of the graph.</p>

<p>Any ideas?  My machine is Windows XP Pro and has 2GB memory.</p>

<p>Many thanks in advance.</p>
","155406","","","","","2010-10-21 14:14:31","Export igraph Issues in R","<r>","1","0","","","","CC BY-SA 2.5","3988076","4452","4452","r","404559","3625322","3607736","",""
"3989782","1","","","2010-10-21 16:36:18","","0","287","<p>I've got transactional data from a SQL query which I turn into a data frame. The first column of the df contains UNIX timestamps (format=""%Y/%d/%m %H:%M"") which I would like to use to create a graphics plot using par to display 1 unique lineplot per date. At the moment I am fumbling around with splitting column 1 and comparing with previous row to look for a change then assigning a dummy indicator to use in my plot command. 
Thanks,
Will</p>
","483293","","","","","2010-10-22 12:44:13","R chart by date","<r><dataframe>","2","1","","","","CC BY-SA 2.5","3989782","4452","4452","r","404559","3625322","3607736","",""
"3989987","1","3990646","","2010-10-21 17:00:13","","24","29873","<p>I have a boxplot showing multiple boxes. I want to connect the mean for each box together with a line. The boxplot does not display the mean  by default, instead the middle line only indicates the median. I tried </p>

<pre><code>ggplot(data, aes(x=xData, y=yData, group=g)) 
    + geom_boxplot() 
    + stat_summary(fun.y=mean, geom=""line"")
</code></pre>

<p>This does not work.</p>

<p>Interestingly enough, doing </p>

<pre><code>stat_summary(fun.y=mean, geom=""point"") 
</code></pre>

<p>draws the median point in each box. Why would ""line"" not work?</p>

<p>Something like this but using ggplot2, <a href=""http://www.aliquote.org/articles/tech/RMB/c4_sols/plot45.png"" rel=""noreferrer"">http://www.aliquote.org/articles/tech/RMB/c4_sols/plot45.png</a></p>
","229378","","558647","","2012-11-20 22:38:04","2021-04-15 07:53:41","Joining means on a boxplot with a line (ggplot2)","<r><ggplot2><boxplot>","2","3","17","","","CC BY-SA 3.0","3989987","4452","4452","r","404559","3625322","3607736","",""
"3990155","1","3990529","","2010-10-21 17:20:36","","13","15318","<p>I'm trying to make sense of how to sort one data.frame based on multiple columns in another.  This question <a href=""https://stackoverflow.com/questions/1568511/how-do-i-sort-one-vector-based-on-values-of-another"">does this with vectors</a>.  Can someone suggest a way to do the equivalent with data.frames?</p>

<p>Here's some sample data.</p>

<pre><code>x1 &lt;- data.frame(a=1:5, b=letters[1:5], c=rnorm(5))
x2 &lt;- data.frame(a=c(4,4,2), b=c(""d"", ""d"", ""b""), d=rnorm(3))
</code></pre>

<p>So I want to sort x2 by the first two columns of x1.  My actual data is much more complicated, but this replicates the idea...</p>
","171249","","-1","","2017-05-23 11:58:39","2017-11-28 20:00:51","R: Sort multiple columns by another data.frame?","<sorting><r>","3","0","3","","","CC BY-SA 2.5","3990155","4452","4452","r","404559","3625322","3607736","",""
"3991312","1","3991610","","2010-10-21 19:49:04","","9","9873","<p>I am getting extraneous output in my .tex file that I can not suppress with &lt;> or sink(). Notably, the unwanted lines are not enclosed by ..{Schunk} or similar.</p>

<p>This occurs for me when I use either DEoptim or rjags, although this is likely not limited to these functions.</p>

<p><strong>example</strong> .Rnw file:</p>

<pre><code>\documentclass[a4paper, 12]{article}
begin{document}

&lt;&lt;echo=FALSE&gt;&gt;=
require(DEoptim) 
Rosenbrock &lt;- function(x){ #example from DEoptim authors 
  x1 &lt;- x[1]
  x2 &lt;- x[2]
  100 * (x2 - x1 * x1)^2 + (1 - x1)^2
}
lower &lt;- c(-10,-10)
upper &lt;- -lower
set.seed(1234)
DEoptim(Rosenbrock, lower, upper)

@

\end{document}
</code></pre>

<p><strong>What I want to happen</strong>
The result that I would like is the tex file that would be produced if the output were suppressed, or equivalently, if the code chunk were removed from the .Rnw file:</p>

<pre><code>\documentclass[a4paper, 12]{article}
\usepackage{Sweave}
\begin{document}

\end{document}
</code></pre>

<p><strong>What Happens</strong>
However, the resulting .tex file has output from the function:</p>

<pre><code>\documentclass[a4paper, 12]{article}
\usepackage{Sweave}
\begin{document}

Iteration: 1 bestvalit: 132.371451 bestmemit:   -1.851683    4.543355
Iteration: 2 bestvalit: 8.620563 bestmemit:   -1.854371    3.369908
....few hundred lines of DEoptim output ....
$member$storepop
list()


attr(,""class"")
[1] ""DEoptim""
\end{document}
</code></pre>

<p>Note that the output is not enclosed by \begin{Schunk} \end{Schunk}, so the $ signs confuse LaTeX and it won't compile.</p>
","199217","","199217","","2010-10-21 20:55:31","2015-06-25 13:17:20","how can I suppress output from Sweave that is not suppressed by echo=FALSE?","<r><latex><sweave>","2","0","1","","","CC BY-SA 2.5","3991312","4452","4452","r","404559","3625322","3607736","",""
"3991870","1","","","2010-10-21 20:58:58","","3","363","<p>I have a problem while using a subset of a <code>data.frame</code> in R.</p>

<p>The subset gets created and displayed correctly, but when I try to plot it using <code>qplot()</code>, the rows which were not selected by the <code>subset()</code> also get shown along one axis.</p>

<p>The actual file I am reading in is a web server log, but I have created a small example to illustrate my problem:</p>

<p>This is the <code>ITEMSSOLD.CSV</code> file I read in:</p>

<pre><code>CUST,DT,ITEM,PRICE
BigJoe,10/13/2010,Pickup Truck,20000
TightWad,10/13/2010,USB Drive,12
Jane,10/13/2010,Smart Car,30000
Scrooge,10/13/2010,Gumdrops,1
GeekyMan,10/13/2010,Smart Car,30000
</code></pre>

<p>I read this into a data frame as follows:</p>

<pre><code>sales_df &lt;- read.table(""C:/R_Expt/ItemsSold.csv"", header=TRUE, sep="","")
</code></pre>

<p>I then did a subset to get the high-ticket items as follows:</p>

<pre><code>big_sales_df &lt;- subset(sales_df, PRICE&gt;100)

big_sales_df

big_sales_df
      CUST         DT         ITEM PRICE
1   BigJoe 10/13/2010 Pickup Truck 20000
3     Jane 10/13/2010    Smart Car 30000
5 GeekyMan 10/13/2010    Smart Car 30000
</code></pre>

<p>So that looks OK.</p>

<p>When I try to plot it via <code>qplot</code> as follows:</p>

<pre><code>qplot(nrow, ITEM, data = ddply(big_sales_df, .(ITEM), ""nrow""))
</code></pre>

<p>the resulting plot shows <strong>all</strong> the ITEMS on the Y axis, instead of only Pickup Truck and 
Smart Car.</p>

<p>The <code>ddply()</code> alone produces the following output:</p>

<pre><code>ddply(big_sales_df, .(ITEM), ""nrow"")
          ITEM nrow
1 Pickup Truck    1
2    Smart Car    2
</code></pre>

<p>Since the example has a small number of ITEMs, the plot is still readable, but in real life, I am trying to plot the names of slow web pages and unfortunately, <code>qplot()</code> tries to put the names of all webpages along the Y axis and it becomes a black blur.</p>

<p>I tried <code>sqldf()</code> also:</p>

<pre><code>qplot(NSOLD, ITEM, data = sqldf('select ITEM, count(*) as NSOLD from big_sales_df group by ITEM order by count(*) desc'))
</code></pre>

<p>but this produces the same plot.</p>

<p>What I understood is that <code>subset()</code> is somehow carrying the full parent information inside, instead of just the matched rows.</p>

<p>Is there any way of telling <code>subset()</code>that it should only keep the relevant information?</p>

<p>Or any other way of getting around <code>subset()</code> carrying along the empty members?</p>

<p>I know that a brute force method might be to write the result of the <code>subset()</code> into another CSV file and then read it back in a <code>data.frame</code>, but I am sure there is an easier way.</p>

<p>Many thanks to all your R gurus out there!</p>

<p>Atish</p>
","415624","","168747","","2010-10-22 07:19:13","2010-10-22 07:19:13","Unwanted items on a plot","<r><ggplot2><dataframe>","3","0","2","","","CC BY-SA 2.5","3991870","4452","4452","r","404559","3625322","3607736","",""
"3991905","1","","","2010-10-21 21:02:01","","85","334042","<p>I have a very large dataframe with rows as observations and columns as genetic markers. I would like to create a new column that contains the sum of a select number of columns for each observation using R.</p>

<p>If I have 200 columns and 100 rows, I would like a to create a new column that has 100 rows with the sum of say columns 43 through 167.  The columns have either 1 or 0. With the new column that contains the sum of each row, I will be able to sort the individuals who have the most genetic markers.</p>

<p>I feel it is something close to:</p>

<pre><code>data$new=sum(data$[,43:167])
</code></pre>
","483502","","1737251","","2018-11-27 17:25:46","2018-11-27 17:25:46","Sum rows in data.frame or matrix","<r>","3","0","13","","","CC BY-SA 4.0","3991905","4452","4452","r","404559","3625322","3607736","",""
"3992634","1","3992861","","2010-10-21 22:48:29","","4","6905","<p>I have a data.frame that contains historic data by day for several months. I would like to add a forecast to the end of this data.frame. </p>

<p>For example, I can run the following to create a simple example data.frame.</p>

<pre><code>months &lt;- c(""2010-10-17"",""2010-10-18"",""2010-10-19"",""2010-10-20"")
revenue &lt;- c(10000,11000,10500,9500)

results &lt;- data.frame(months,revenue)
</code></pre>

<p>And run this function to generate the forecast.</p>

<pre><code>forecast(results$revenue)
</code></pre>

<p>What I am stuck on is how to add a date sequence for the rest of October and include the correct values from the forecast. I want to generate something that looks like this, adding 30 days of forecast to the historic data.</p>

<pre><code>&gt; print(results)
       months revenue
1  2010-10-17   10000
2  2010-10-18   11000
3  2010-10-19   10500
4  2010-10-20    9500
5  2010-10-21   10250
6  2010-10-22   10250
7  2010-10-23   10250
8  2010-10-24   10250
9  2010-10-25   10250
10 2010-10-26   10250
11 2010-10-27   10250
12 2010-10-28   10250
13 2010-10-29   10250
14 2010-10-30   10250
15 2010-10-31   10250
</code></pre>

<p>Any help is appreciated. Thanks.</p>
","302274","","","","","2010-10-21 23:40:52","How to add dates and forecast to data.frame?","<r>","1","0","4","","","CC BY-SA 2.5","3992634","4452","4452","r","404559","3625322","3607736","",""
"3993301","1","3993763","","2010-10-22 01:34:12","","25","21591","<p>I am working on finishing up a graph generated using ggplot2 like so...</p>

<pre><code>ggplot(timeSeries, aes(x=Date, y=Unique.Visitors, colour=Revenue)) 
+ geom_point() + stat_smooth() + scale_y_continuous(formatter=comma)
</code></pre>

<p>I have attached the result and you can see the numeric values in the legend for Revenue do not have a comma. How can I add a comma to those values? I was able to use scale_y_continuous for the axis, can that be used for the legend also?</p>

<p><img src=""https://i.stack.imgur.com/hZ7c0.jpg"" alt=""alt text""></p>
","302274","","","","","2018-05-18 05:43:16","How to format number values for ggplot2 legend?","<r><ggplot2>","3","0","4","","","CC BY-SA 2.5","3993301","4452","4452","r","404559","3625322","3607736","",""
"3993546","1","3993593","","2010-10-22 02:49:35","","20","18211","<p>I have 5 items each of which can take on the value of 1 or -1. I want to generate a matrix that consists of rows of the possible combinations. The order of the items does not matter and the order of the combinations does not matter. I know I could do this mechanically, but I thought that someone must know a shortcut to generating this matrix. I apologize if this is similar to other questions but none of the solutions I have found can be applied to this particular problem with my programming skills.</p>
","376239","","599911","","2016-05-17 12:10:42","2016-05-17 12:10:42","How to generate a matrix of combinations","<r><cross-join>","3","0","7","","","CC BY-SA 2.5","3993546","4452","4452","r","404559","3625322","3607736","",""
"3997256","1","3997305","","2010-10-22 13:30:06","","1","147","<p>(please ignore this question - it is foolish...)</p>

<p>I want something that will do this:</p>

<pre><code>rep(1:3, each = 1:3)
# And will output this vector:
c(1,2,2,3,3,3)
</code></pre>

<p>Does it exist? (and if so, how?)</p>

<p>Update: I can write it like this - </p>

<pre><code>rep2 &lt;- function(x, each)
{
    output &lt;- NULL
    for(i in 1:length(x))
    {
        output &lt;- c(output, rep(x[i], each = each[i]))
    }
    return(output)
}
# example:
rep2(1:3,1:3)
</code></pre>

<p>But am hoping for a smarter solution...</p>
","256662","","256662","","2010-10-22 13:40:28","2010-10-22 13:42:18","Is there a version of ?rep that receives ""each"" as a vector? (R question)","<r><repeat>","2","2","","","","CC BY-SA 2.5","3997256","4452","4452","r","404559","3625322","3607736","",""
"3997465","1","","","2010-10-22 13:53:42","","2","225","<p>How to convert <code>'</code> in a string to <code>\'</code> in R?</p>

<p>Example: from <code>Bob's</code> to <code>Bob\'s</code></p>
","484280","","449449","","2010-10-22 13:56:35","2010-10-22 14:10:22","Replacing ' by \'","<regex><r>","3","1","1","","","CC BY-SA 2.5","3997465","4452","4452","r","404559","3625322","3607736","",""
"3997546","1","4014578","","2010-10-22 14:03:06","","5","2328","<p>I have a complicated combined model for which I can define a likelihood in a function, and I need to optimize the parameters. Problem is, the parameters go all directions if not restricted. Hence, I need to implement a restriction on the parameters, and the one proposed by the professor is that the sum of squared parameter values should equal 1.</p>

<p>I've been playing around with both the <code>optim()</code> and <code>nlm()</code> function, but I can't really get what I want. First idea was to use n-1 parameters and calculate the last one from the rest, but this doesn't work (as expected).</p>

<p>To illustrate, some toy data and function reflecting the core problem of what I want to achieve:</p>

<pre><code>dd &lt;- data.frame(
    X1=rnorm(100),
    X2=rnorm(100),
    X3=rnorm(100)
)
dd &lt;- within(dd,Y &lt;- 2+0.57*X1-0.57*X2+0.57*X3+rnorm(100,0,0.2))

myfunc2 &lt;- function(alpha,dd){
    alpha &lt;- c(alpha,sqrt(1-sum(alpha^2)))
    X &lt;- as.matrix(dd[,-4]) %*% alpha
    m.mat &lt;- model.matrix(~X)
    mod &lt;- glm.fit(m.mat,dd$Y)
    Sq &lt;- sum(resid(mod)^2)
    return(Sq)
}

b &lt;- c(1,0)
optim(b,myfunc2,dd=dd)
</code></pre>

<p>This results obviously in :</p>

<pre><code>Error: (subscript) logical subscript too long
In addition: Warning message:
In sqrt(1 - sum(alpha^2)) : NaNs produced
</code></pre>

<p>Anybody an idea on how to implement restrictions on parameters in optimization processes?</p>

<p>PS: I am aware of the fact that this example code doesn't make sense at all. It's just for demonstration purposes.</p>

<hr>

<p>Edit : Solved it! - See Mareks answer.</p>
","428790","","","user1131435","2013-04-14 23:32:00","2013-04-14 23:32:00","Restricted optimization of custom functions in R","<r><optimization>","3","8","1","","","CC BY-SA 2.5","3997546","4452","4452","r","404559","3625322","3607736","",""
"3998469","1","4001907","","2010-10-22 15:39:42","","8","3158","<p>id like to assign factors representing quantiles. Thus I need them to be numeric. 
Thats why I wrote the following function, which is basically the answer to my problem:</p>

<pre><code>qdum &lt;- function(v,q){

qd = quantile(v,1:(q)/q)
v = as.data.frame(v)
v$b = 0
names(v) &lt;- c(""a"",""b"")
i=1
for (i in 1:q){

    if(i == 1)
        v$b[ v$a &lt; qd[1]] = 1
    else
        v$b[v$a &gt; qd[i-1] &amp; v$a &lt;= qd[i]] = i
}

all = list(qd,v)
return(all)

    }
</code></pre>

<p>you may laugh now :) .
The returned list contains a variable that can be used to assign every observation to its corresponding quantile. My question is now: is there a better way (more ""native"" or ""core"") to do it? I know about quantcut (from the gtools package), but at least with the parameters I got, I ended up with only with those unhandy(? - at least to me) thresholds. </p>

<p>Any feedback thats helps to get better is appreciated!</p>
","366256","","2370483","","2018-10-15 19:39:37","2018-10-15 19:39:37","Is there a better way to create quantile ""dummies"" / factors in R?","<r><quantile>","2","0","4","","","CC BY-SA 2.5","3998469","4452","4452","r","404559","3625322","3607736","",""
"3999450","1","3999605","","2010-10-22 17:38:31","","0","280","<p>I tried to order csv file but the rank() function acting weird on number with -E notation.</p>

<pre><code>&gt; comparison = read.csv(""e:/thesis/comparison/output.csv"", header=TRUE)  
&gt; comparison$proxygeneld_full.txt[0:20]
[1] 9.34E-07    4.04E-06    4.16E-06    7.17E-06    2.08E-05    3.00E-05   
[7] 3.59E-05    4.16E-05    7.75E-05    9.50E-05    0.0001116   0.00012452 
[13] 0.00015494  0.00017892  0.00017892  0.00018345  0.0002232   0.000231775
[19] 0.00023241  0.0002666  
13329 Levels: 0.0001116 0.00012452 0.00015494 0.00017892 0.00018345 ... adjP
&gt; rank(comparison$proxygeneld_full.txt[0:20])
[1] 19.0 14.0 16.0 17.0 11.0 12.0 13.0 15.0 18.0 20.0  1.0  2.0  3.0  4.5  4.5
[16]  6.0  7.0  8.0  9.0 10.0 
#It should be 1-20 in order ....
</code></pre>

<p>It seems just ignore -E notation right there. It turn out to be fine if I'm not using data from file</p>

<pre><code>&gt; rank(c(9.34E-07, 4.04E-06, 7.17E-06))
[1] 1 2 3
</code></pre>

<p>Am I missing something ? Thanks.</p>
","84065","","","","","2010-10-22 18:00:53","rank() doesn't rank properly when using with scienctific notation number","<r>","2","0","","","","CC BY-SA 2.5","3999450","4452","4452","r","404559","3625322","3607736","",""
"4000018","1","","","2010-10-22 18:55:20","","5","8746","<p>I am looking for an example of the r code for using Ornstein-Uhlenbeck to estimate time for mean reversion when considering cointegrated securities</p>
","484568","","","","","2016-09-07 15:28:08","r code for using Ornstein-Uhlenbeck to estimate time for mean reversion","<r>","3","0","7","","","CC BY-SA 2.5","4000018","4452","4452","r","404559","3625322","3607736","",""
"4000292","1","4000462","","2010-10-22 19:31:08","","0","259","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/3277556/limiting-variable-scope"">Limiting variable scope</a>  </p>
</blockquote>



<p>Is there a way to force R to ignore all objects set in the global environment? For example, let's say I have 'df' as an object outside of my function and I wish to use the same shorthand within my function, but not in reference to the object in the global environment</p>
","170352","","-1","user195488","2017-05-23 12:18:38","2011-08-11 15:21:00","How to Limit Variable Scope","<r>","2","0","","2010-10-23 07:46:09","","CC BY-SA 3.0","4000292","4452","4452","r","404559","3625322","3607736","",""
"4000670","1","4000815","","2010-10-22 20:22:52","","3","3830","<p>I have a data.frame with entries like:</p>

<pre>
   variable  importance order
1       foo  0.06977263     1
2       bar  0.05532474     2
3       baz  0.03589902     3
4     alpha  0.03552195     4
5      beta  0.03489081     5
       ...
</pre>

<p>When plotting the above, with the breaks = variable, I would like for the order to be preserved, rather than placed in alphabetical order.</p>

<p>I am rendering with: </p>

<pre> 
ggplot (data, aes(x=variable, weight=importance, fill=variable)) + 
    geom_bar() + 
    coord_flip() + opts(legend.position='none')
</pre>

<p>However, the ordering of the variable names is alphabetical, and not the order within the data frame.  I had seen a post about using ""order"" in aes, but appears to have no effect.</p>

<p>I am looking to have a breaks ordering in-line with the ""order"" column.</p>

<p>There seems to be a similar question <a href=""https://stackoverflow.com/questions/3253641/how-to-change-the-order-of-a-discrete-x-scale-in-ggplot"">How to change the order of discrete x scale in ggplot</a>, but frankly, did not understand the answer in this context.</p>
","129785","","-1","","2017-05-23 12:26:15","2011-02-15 13:10:23","How to order breaks with ggplot / geom_bar","<r><ggplot2>","4","4","","","","CC BY-SA 2.5","4000670","4452","4452","r","404559","3625322","3607736","",""
"4001316","1","4001378","","2010-10-22 22:05:50","","25","16572","<p>I love the plots that ggplot generates. However, it is still somewhat cumbersome to get publication quality plots directly. I usually have to do some post processing in Illustrator (i.e. changing fonts, numbering figures etc). While I could save as tiff or png, eps is best for manipulating figures in Illustrator (I can ungroup objects, move the legend/text etc).</p>

<p>When I save a ggplot object with some transparency (either in points or a smoother) I get this error:</p>

<pre><code>Warning message:
In grid.Call.graphics(""L_points"", x$x, x$y, x$pch, x$size) :
  semi-transparency is not supported on this device: reported only once per page
</code></pre>

<p>Is there a workaround? </p>
","313163","","","","","2018-11-03 23:32:01","How do I preserve transparency in ggplot2?","<r>","6","3","11","","","CC BY-SA 2.5","4001316","4452","4452","r","404559","3625322","3607736","",""
"4001599","1","4001676","","2010-10-22 23:14:52","","0","123","<p>I'm comparing some classifiers. My procedure is to compute the confusion matrix with the table command, and then calculate the false positive and true positive rates from the table. The routine I wrote requires that the table be square. There should be an easy way to do it.</p>

<p>My setup:</p>

<blockquote>
  <p>cm &lt;- table(classifiers$teacher[which(classifiers$problem == 'problem27')],<br>
      classifiers$srAve[which(classifiers$problem == 'problem27')])
  cm</p>
</blockquote>

<pre><code>     1  2  3
  0 23  0  0
  1  2  4  0
  2  2 10  0
  3  0  1  0
  4  0  0  1
&gt; missingNames &lt;- as.numeric( rownames(cm)[ !(rownames(cm) %in% as.numeric(colnames(cm)))  ] )
&gt; missingNames
[1] 0 4
</code></pre>

<p>And then the C like function I wrote to fix it: </p>

<pre><code>padTable &lt;- function( missingNames, cm ) {
    rowLength &lt;- dim(cm)[1]
    for (i in missingNames) {
       zeroes &lt;- rep(0,rowLength)
       cNames &lt;- colnames(cm)
       after &lt;- which ( (i &lt; as.numeric(cNames)) )[1]
       before &lt;- which ( (i &gt; as.numeric(cNames)) )[1]
       if ( is.na(before) ) { #The very begining
          cm &lt;- cbind(zeroes,cm)
          colnames(cm) &lt;- c(i,cNames)
       } else {
          if (is.na(after)) { #The very end
              cm &lt;- cbind(cm,zeroes)
              colnames(cm) &lt;- c(cNames,i)
          } else { #somewhere in the middle
               print('ERROR CANNOT INSERT INTO MIDDLE YET.')
               cm = NULL
          }
       }
    } 
    return(cm)
}
</code></pre>

<p>So, there has to be some dreadfully simple way to make this work. Anytime I find myself writing C code in R, I know that I'm doing it wrong. </p>

<p>Thanks for any help.</p>

<p>EDIT: Sample data as requested: </p>

<pre><code>&gt; classifiers$teacher[which(classifiers$problem == 'problem27')]
[1] 0 0 1 2 2 2 0 0 0 0 0 2 0 0 2 0 4 3 0 0 2 2 0 2 0 0 2 2 1 0 0 2 1 0 1 2 0 0
[39] 0 1 0 0 1
&gt; classifiers$srAve[which(classifiers$problem == 'problem27')]
[1] 1 1 2 2 2 2 1 1 1 1 1 1 1 1 1 1 3 2 1 1 2 2 1 2 1 1 2 2 1 1 1 2 2 1 2 2 1 1
[39] 1 2 1 1 1
</code></pre>
","419842","","419842","","2010-10-23 17:14:08","2010-10-23 17:14:08","I need the output of table() to be square (padded with zeros if necessary)","<r>","1","3","","","","CC BY-SA 2.5","4001599","4452","4452","r","404559","3625322","3607736","",""
"4002011","1","","","2010-10-23 01:31:13","","4","2221","<p>After having learned about MapReduce for solving a computer vision problem for my recent internship at Google, I felt like an enlightened person. I had been using R for text mining already. I wanted to use R for large scale text processing and for experiments with topic modeling. I started reading tutorials and working on some of those. I will now put down my understanding of each of the tools:</p>

<p>1) R text mining toolbox: Meant for local (client side) text processing and it uses the XML library </p>

<p>2) Hive: Hadoop interative, provides the framework to call map/reduce and also provides the DFS  interface for storing files on the DFS. </p>

<p>3) RHIPE: R Hadoop integrated environment</p>

<p>4) Elastic MapReduce with R: a MapReduce framework for those who do not have their own clusters</p>

<p>5) Distributed Text Mining with R: An attempt to make seamless move form local to server side processing, from R-tm to R-distributed-tm</p>

<p>I have the following questions and confusions about the above packages</p>

<p>1) Hive and RHIPE and the distributed text mining toolbox need you to have your own clusters. Right?</p>

<p>2) If I have just one computer how would DFS work in case of HIVE </p>

<p>3) Are we facing with the problem of duplication of effort with the above packages?</p>

<p>I am hoping to get insights on the above questions in the next few days</p>
","484800","","168747","","2011-07-01 08:13:27","2015-11-07 04:02:59","Making sense of R-Hive, Elastic MapReduce, RHIPE and Distrubted Text mining with R","<r><hadoop>","2","0","2","","","CC BY-SA 2.5","4002011","4452","4452","r","404559","3625322","3607736","",""
"4002954","1","4003033","","2010-10-23 07:26:32","","1","393","<p>I have a set of data (1000+ animals) from two seasons (winter and summer) and would like to demonstrate the differences in the gestation length (days) pattern in these two seasons. My data is similar to this:</p>

<pre><code>id &lt;- c(1,2,3,4,5,6,7,8,9,10)
season &lt;- c(1,1,2,2,1,2,1,1,2,1)
gest &lt;- c(114,NA,123,116,NA,120,110,NA,116,119)

data &lt;- cbind(id,season,gest)
</code></pre>

<p>I would like to have something like this:</p>

<p><a href=""http://had.co.nz/ggplot2/graphics/55078149a733dd1a0b42a57faf847036.png"" rel=""nofollow"">http://had.co.nz/ggplot2/graphics/55078149a733dd1a0b42a57faf847036.png</a> </p>

<p>OR any similar form of graph that would give me a good contrast. </p>

<p>Thank you for all your help,</p>

<p>Bazon</p>
","438498","","176923","","2010-10-23 07:37:02","2010-10-24 07:04:19","Plotting Contrasting graph(s) from a dataset using R","<r><graph><dataset>","3","0","1","","","CC BY-SA 2.5","4002954","4452","4452","r","404559","3625322","3607736","",""
"4004484","1","","","2010-10-23 14:33:15","","0","113","<p>I have performed statistical matching in R. For each case ""VAR2002"", I have found one or more statistical twin(s) ""VAR2004"".
In R, I have a data frame ""TwinWeight"" like this:</p>

<pre><code>VAR2002     VAR2004    Weight
1           2955        1.00000000
2           3961        1.00000000
3           2913        0.33333333
3           3430        0.33333333
3           3554        0.33333333
4           2996        0.20000000
4           4618        0.20000000
</code></pre>

<p>.
.
.</p>

<p>Additionally, I have a dataset D with many variables D1, D2,..., D55.</p>

<p>With this knowledge, I want to make my calculations for all D variables in the following way:
For each VAR2002:
    Weight*D[Statistical Twin 1]</p>

<p>This means for VAR2002=1 and D1:</p>

<pre><code>D$D1[1]&lt;-TwinWeight[1,3]*D$D1[TwinWeight[1,2]]
</code></pre>

<p>Unfortunately, this command is not valid in R, as D$D1[] needs a numeric value in []. I cannot name a numeric value, but rather want this number to be taken from the TwinWeight table.</p>

<p>Does anybody know how to solve this problem?</p>

<p>Thanks so much for your help!</p>
","485090","","","","","2010-10-23 14:39:33","R - selection of the kth element of a column","<r><matching>","1","1","","","","CC BY-SA 2.5","4004484","4452","4452","r","404559","3625322","3607736","",""
"4005092","1","4006764","","2010-10-23 17:00:18","","3","1386","<p>I want to take a csv export of my bibtex literature database and analyse the correlation between keywords and Journals.  I start off with a csv file containing one row per piece of literature, each one with a Journal name, and a keyword list, which is a slash deliminated list.  I want to end up with either a matrix of Journal by Keyword and counts.</p>

<p>Currently I've written this code, but there must be a better way, anyone have any ideas ?</p>

<pre><code>sortframe&lt;-function(df,...){df[do.call(order,list(...)),]}
library(ggplot2)
library(plyr)

bib&lt;-read.csv(""/home/paul/workspace/Test_R_statet/data/bib.csv"") # read csv file
</code></pre>

<p>So, here's the structure of my data, I've taken twenty rows that (seem) to be representative of the three thousand I've got in total.</p>

<pre><code>dput(bib)


structure(list(BibliographyType = c(7L, 7L, 7L, 7L, 7L, 7L, 7L, 
7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L, 
7L, 7L, 7L, 7L, 7L, 7L, 7L, 7L), Author = structure(c(19L, 21L, 
22L, 23L, 24L, 25L, 20L, 28L, 26L, 27L, 1L, 2L, 2L, 2L, 3L, 4L, 
5L, 6L, 7L, 8L, 9L, 10L, 11L, 12L, 13L, 14L, 15L, 15L, 16L, 17L, 
18L), .Label = c(""Constantinos, Apostolou; Dotsikas, Yannis; Kousoulos, Constantinos &amp; Loukas, Yannis L."", 
""Constantinos, Apostolou; Kousoulos, Constantinos; Dotsikas, Yannis; Soumelas, Georgios Stefanos; Kolocouri, Filomila; Ziaka, Afroditi &amp; Loukas, Yannis L."", 
""Constantinos, Kousoulos; Tsatsou, Georgia; Apostolou, Constantinos; Dotsikas, Yannis &amp; Loukas, Yannis"", 
""Corine, Ekhart; Gebretensae, Abadi; Rosing, Hilde; Rodenhuis, Sjoerd; Beijnen, Jos H. &amp; Huitema, Alwin D. R."", 
""Costa, Ferreira Sergio Luis; Bruns, Roy Edward; da Silva, Erik Galvpo Paranhos; dos Santos, Walter Nei Lopes; Quintella, Cristina Maria; David, Jorge Mauricio; de Andrade, Jailson Bittencourt; Breitkreitz, Marcia Cristina; Jardim, Isabel Cristina Sales Fontes &amp; Neto, Benicio Barros"", 
""Costa, Queiroz Regina Helena; Bertucci, Carlo; Malfarb, Wilson Roberto; Dreossi, Snia Aparecida Carvalho; Chaves, Andrqa Rodrigues; Valqrio, Daniel Augusto Rodrigues &amp; Queiroz, Maria EugWnia Costa"", 
""Cui, Shuangjin; Fang, Feng; Han, Liu &amp; Ming, Ma"", ""D., Blessborn; Neamin, G.; Bergqvist, Y. &amp; Lindegsrdh, N."", 
""D., Fraier; Frigerio, E.; Brianceschi, G. &amp; James, C. A."", ""D., Grotto; Santa Maria, L. D.; Boeira, S.; Valentini, J.; Charpo, M. F.; Moro, A. M.; Nascimento, P. C.; Pomblum, V. J. &amp; Garcia, S. C."", 
""D., Hawker Charles; Garr, Susan B.; Hamilton, Leslie T.; Penrose, John R.; Ashwood, Edward R. &amp; Weiss, Ronald L."", 
""D., Hawker Charles; Roberts, William L.; Garr, Susan B.; Hamilton, Leslie T.; Penrose, John R.; Ashwood, Edward R. &amp; Weiss, Ronald L."", 
""D., Heath Dennis; Pruitt, Milagros A.; Brenner, Dean E.; Begum, Aynun N.; Frautschy, Sally A. &amp; Rock, Cheryl L."", 
""D., Jovanovic &amp; Vukovic, S."", ""D., McCullough B."", ""D., McCullough B. &amp; Vinod, H. D."", 
""D., McCullough B. &amp; Wilson, B."", ""D., Mendes Gustavo; Hamamoto, Daniele; Ilha, Jaime; Pereira, Alberto dos Santos &amp; De Nucci, Gilberto"", 
""do, Borges Ney Carter; Mendes, Gustavo D.; Barrientos-Astigarraga, Rafael E.; Galvinas, Paulo; Oliveira, Celso H. &amp; De Nucci, Gilberto"", 
""hui, Liu Chang; Huang, Xiao tao; Zhang, Rong; Yang, Lei; Huang, Tian lai; Wang, Ning sheng &amp; Mi, Sui qing"", 
""jing, Chen Zhang; Zhang, Jing; Yu, Ji cheng; Cao, Guo ying; Wu, Xiao jie &amp; Shi, Yao guo"", 
""jun, Dao Yi; Jiao, Zheng &amp; Zhong, Ming kang"", ""lan, Feng Shi; Hu, Fang di; Zhao, Jian xiong; Liu, Xi &amp; Li, Y."", 
""ming, Huang Jian; Wang, Guo quan; Jin, Yu; Shen, Teng &amp; Weng, Weiyu"", 
""nhaug, Halvorsen Trine Gr; Pedersen-Bjergaard, Stig &amp; Rasmussen, Knut E."", 
""qing, Liu Hua; Su, Meng xiang; Di, Bin; Hang, Tai jun; Hu, Ying; Tian, Xiao qin; Zhang, Yin di &amp; Shen, Jian ping"", 
""qing, Liu Yun; Chen, Qi yuan; Chen, Ben Mei; Liu, Shao gang; Deng, Fu liang &amp; Zhou, Ping"", 
""ying, Lee Chun &amp; Lee, Yung-jin""), class = ""factor""), Title = structure(c(29L, 
23L, 24L, 9L, 10L, 15L, 8L, 18L, 11L, 21L, 20L, 3L, 3L, 3L, 12L, 
25L, 26L, 19L, 16L, 2L, 14L, 22L, 6L, 7L, 27L, 13L, 5L, 4L, 28L, 
17L, 1L), .Label = c(""Anastrozole quantification in human plasma by high-performance liquid chromatography coupled to photospray tandem mass spectrometry applied to pharmacokinetic studies"", 
""A new approach to evaluate stability of amodiaquine and its metabolite in blood and plasma"", 
""An improved and fully validated LC-MS/MS method for the simultaneous quantification of simvastatin and simvastatin acid in human plasma"", 
""Assessing the reliability of statistical software: Part I"", 
""Assessing the reliability of statistical software: Part II"", 
""Automated Transport and Sorting System in a Large Reference Laboratory: Part 1. Evaluation of Needs and Alternatives and Development of a Plan"", 
""Automated Transport and Sorting System in a Large Reference Laboratory: Part 2. Implementation of the System and Performance Measures over Three Years"", 
""Determination of CQP propionic acid in rat plasma and study of pharmacokinetics of CQP propionic acid in rats by liquid chromatography"", 
""Determination of eleutheroside E and eleutheroside B in rat plasma and tissue by high-performance liquid chromatography using solid-phase extraction and photodiode array detection"", 
""Determination of palmatine in canine plasma by liquid chromatography-tandem mass spectrometry with solid-phase extraction"", 
""Development and validation of a liquid chromatography-tandem mass spectrometry method for the determination of xanthinol in human plasma and its application in a bioequivalence study of xanthinol nicotinate tablets"", 
""Development of a high-throughput method for the determination of itraconazole and its hydroxy metabolite in human plasma, employing automated liquidGliquid extraction based on 96-well format plates and LC/MS/MS"", 
""Generation of quasi-stationary magnetic fields in turbulent plasmas"", 
""LC-MS-MS determination of nemorubicin (methoxymorpholinyldoxorubicin, PNU-152243A) and its 13-OH metabolite (PNU-155051A) in human plasma"", 
""Liquid-phase microextraction and capillary electrophoresis of citalopram, an antidepressant drug"", 
""New method for high-performance liquid chromatographic determination of amantadine and its analogues in rat plasma"", 
""On the accuracy of statistical procedures in Microsoft Excel 97"", 
""PKfit - A Pharmacokinetic Data Analaysis Tool in R"", ""Quantification of carbamazepine, carbamazepine-10,11-epoxide, phenytoin and phenobarbital in plasma samples by stir bar-sorptive extraction and liquid chromatography"", 
""Quantitative determination of donepezil in human plasma by liquid chromatography/tandem mass spectrometry employing an automated liquid-liquid extraction based on 96-well format plates: Application to a bioequivalence study"", 
""Quantitative determination of erythromycylamine in human plasma by liquid chromatography-mass spectrometry and its application in a bioequivalence study of dirithromycin"", 
""Rapid quantification of malondialdehyde in plasma by high performance liquid chromatography-visible detection"", 
""Selective method for the determination of cefdinir in human plasma using liquid chromatography electrospray ionization tandam mass spectrometry"", 
""Simultaneous determination of aciclovir, ganciclovir, and penciclovir in human plasma by high-performance liquid chromatography with fluorescence detection"", 
""Simultaneous quantification of cyclophosphamide and its active metabolite 4-hydroxycyclophosphamide in human plasma by high-performance liquid chromatography coupled with electrospray ionization tandem mass spectrometry (LC-MS/MS)"", 
""Statistical designs and response surface techniques for the optimization of chromatographic systems"", 
""Tetrahydrocurcumin in plasma and urine: Quantitation by high performance liquid chromatography"", 
""The numerical reliability of econometric software"", ""Verapamil quantification in human plasma by liquid chromatography coupled to tandem mass spectrometry: An application for bioequivalence study""
), class = ""factor""), Journal = structure(c(7L, 7L, 7L, 5L, 7L, 
6L, 7L, 1L, 7L, 7L, 7L, 9L, 9L, 9L, 2L, 7L, 6L, 9L, 9L, 9L, 9L, 
9L, 3L, 3L, 7L, 10L, 11L, 11L, 8L, 4L, 7L), .Label = c("""", ""Analytical and Bioanalytical Chemistry"", 
""Clinical Chemistry"", ""Computational Statistics and Data Analysis"", 
""European Journal of Pharmaceutics and Biopharmaceutics"", ""Journal of Chromatography A"", 
""Journal of Chromatography B"", ""Journal of Economic Literature"", 
""Journal of Pharmaceutical and Biomedical Analysis"", ""Physica B+C"", 
""The American Statistician""), class = ""factor""), Custom3 = structure(c(8L, 
9L, 11L, 17L, 25L, 19L, 24L, 27L, 12L, 22L, 2L, 5L, 5L, 6L, 3L, 
1L, 20L, 23L, 13L, 14L, 4L, 7L, 21L, 16L, 15L, 26L, 28L, 28L, 
28L, 10L, 18L), .Label = c(""4-Hydroxycyclophosphamide/Accuracy/Active metabolite/Assay/Chromatography/Cyclophosphamide/Determination/Electrospray/Electrospray ionization/Electrospray ionization tandem mass spectrometry/High performance liquid chromatography/High-performance liquid chromatography/Human/Human plasma/Internal standard/LC-MS/MS/Liquid chromatography/Liquid chromatography tandem mass spectrometry/Mass spectrometry/Metabolite/Pharmacokinetic/Pharmacokinetics/Plasma/Precipitation/Precision/Protein precipitation/Quantification/Sample preparation/Tandem mass spectrometry"", 
""96-Well/96-Well format/Analytical/Automated liquid-liquid extraction/bioequivalence/Bioequivalence study/Determination/Donepezil/Electrospray/Electrospray ionization/Extraction/Freezing/High throughput/High-throughput/Human/Human plasma/Human-plasma/LC-MS/MS/Liquid chromatography/tandem mass spectrometry/Liquid-liquid extraction/Loratadine/Mass spectrometry/Plasma/Plasma samples/Quantitative/Sample preparation/Tablet/Validation"", 
""96-Well/96-Well format/Assay/bioequivalence/Bioequivalence study/Determination/Electrospray/Electrospray ionization/Extraction/Freezing/High throughput/High-throughput/Human/Human plasma/Human-plasma/Interface/Internal standard/LC/MS/MS/LLE/Mass spectrometry/Metabolite/Monitoring/MRM/Parallel sample processing/Plasma/Plasma sample/Plasma samples/Precision/Quality control/Quantification/Simultaneous quantification/Tablet"", 
""96-Well/96-well plates/Accuracy/Analysis/Determination/Doxorubicin/Doxorubicin derivative/Extraction/Human/Human plasma/Human-plasma/In vivo/Interface/Interference/Internal standard/Ionspray/LC-MS-MS/LC-MS-MS determination/Liquid chromatography tandem mass spectrometry/Liquid chromatography-tandem mass spectrometry/Mass spectrometry/Metabolite/Methoxymorpholinyldoxorubicin/Monitoring/Multiple reaction monitoring/Nemorubicin/Patients/Plasma/Plasma samples/Precision/Quantitative/Quantitative determination/Residue/Solid phase extraction/SPE"", 
""96-Well/Analysis/Analytical/APCI/Atmospheric pressure chemical ionization/bioequivalence/Bioequivalence study/Determination/Electrospray/ESI/Extraction/Fully automated/High throughput/High-throughput/Human/Human plasma/Human-plasma/Improved/Internal standard/LC-MS/MS/LC-MS/MS method/Linearity/Liquid chromatography/tandem mass spectrometry/Liquid-liquid extraction/LLE/Lovastatin/Mass spectrometry/Plasma/Plasma sample/Plasma samples/Polarity switch/Precipitation/Precision/Protein precipitation/Quantification/Sample preparation/Simultaneous determination/Simultaneous quantification/Simvastatin/Simvastatin acid/Specificity/Tablet/Two-step extraction"", 
""96-Well/Atmospheric pressure chemical ionization/bioequivalence/Electrospray/High throughput/High-throughput/Human plasma/LC-MS/MS/Liquid-liquid extraction/Plasma/Polarity switch/Protein precipitation/Sample preparation/Simvastatin/Two-step extraction"", 
""Accuracy/Alkaline hydrolysis/Analytical/Assay/Bias/Deproteinization/Derivatization/Determination/Extraction/HPLC-VIS/Human plasma/Malondialdehyde/MDA/n-Butanol extraction/Phosphate/Plasma/Quantification/Reproducibility/Stability"", 
""Accuracy/Analysis/Analytical/bioequivalence/Bioequivalence study/Chromatography/Determination/Electrospray/Electrospray ionization/ESI/Extraction/Formulation/Human/Human plasma/Human-plasma/Imprecision/Internal standard/LC-MS/MS/Liquid chromatography/Liquid-liquid extraction/Mass spectrometry/Metoprolol/Monitoring/MRM/Plasma/Plasma samples/Quantification/Tablet/Tandem mass spectrometry/Verapamil"", 
""Accuracy/Cefdinir/Chromatography/Determination/Electrospray/Electrospray ionization/Healthy volunteer/Human/Human plasma/Human-plasma/LC/LC-MS/MS/Liquid chromatography/Mass spectrometry/Method validation/Monitoring/MS/MS/Pharmacokinetic/Pharmacokinetic profile/Plasma/Precipitation/Protein precipitation/Quantification/Three/Triple quadrupole/Validation/Water/Waters"", 
""Accuracy/statistics/reliability/testing"", ""Aciclovir/Assay/Bias/Chromatography/Determination/Ganciclovir/High performance liquid chromatography/High-performance liquid chromatography/HPLC/HPLC method/Human/Human plasma/Liquid chromatography/Penciclovir/Pharmacokinetic/Pharmacokinetic study/Plasma/Precipitation/Protein precipitation/Three"", 
""Acyclovir/bioequivalence/Electrospray/Extraction/Human/Human plasma/Liquid chromatography-tandem mass spectrometry/Liquid chromatography/tandem mass spectrometry/Mass spectrometry/Plasma/Precipitation/Protein precipitation/Quantification/Validation/Xanthinol nicotinate"", 
""Amantadine/Anthraquinone-2-sulfonyl chloride/Derivatization/Determination/HPLC/Memantine/Pharmacokinetic/Pharmacokinetic studies/Pharmacokinetic study/Plasma/Quantification/Rat/Rat plasma/Rimantadine/Three/UV/UV detection"", 
""Amodiaquine/Analysis/Antimalarial/Bias/Blood/Chloroquine/Desethylamodiaquine/Liquid chromatography/Metabolite/Plasma/Simultaneous analysis/solid-phase extraction/Stability/Whole blood"", 
""Analysis/Analytical/Blood/Chromatography/Curcumin/High performance liquid chromatography/HPLC/Internal standard/Liquid chromatography/Metabolite/Metabolites/Methods/Plasma/Quantification/Quantitation/Tetrahydrocurcumin/Urine/UV/UV detection/UV-detection"", 
""Analysis/Automation/Linear/Methods/Three"", ""Analysis/Blood/Chromatography/Determination/Eleutherococcus injection/Eleutheroside B/Eleutheroside E/Extraction/High performance liquid chromatography/High-performance liquid chromatography/HPLC/HPLC method/Liquid chromatography/Model/Pharmacokinetic/Pharmacokinetic studies/Pharmacokinetic study/Pharmacokinetics/Plasma/Rat/Rat plasma/Rats/Sample preparation/Solid phase extraction/solid-phase extraction/Tissue distribution"", 
""Analytical/Anastrazole/Anastrozole/Chromatography/Extraction/Healthy volunteer/High performance liquid chromatography/High-performance liquid chromatography/HPLC-MS-MS/Human/Human plasma/Human-plasma/Internal standard/Liquid chromatography/Liquid-liquid extraction/Mass spectrometry/Pharmacokinetic/Pharmacokinetic studies/Pharmacokinetic study/Pharmacokinetics/Photospray/Plasma/Quantification/Tandem mass spectrometry"", 
""Antidepressant/Antidepressant drug/Basic drugs/Capillary electrophoresis/CE/Citalopram/Detection/Drugs/Extraction/Hollow fibre/HPLC/HPLC method/Human/Human plasma/Human-plasma/liquid phase microextraction/Liquid-phase microextraction/LPME/Metabolite/Methods/Microextraction/N-Desmethylcitalopram/Phosphate/Plasma/Plasma sample/Plasma samples/Proteins/Quantification"", 
""Applications/Box-Behnken design/Box-Benhken design/Central composite design/Chromatographic methods/Determination/DOE/Doehlert matrix/Extraction/Methodology/Methods/Model/Multivariate techniques/Optimization/paper/Review/Sample preparation/Validation"", 
""Automation/Improved/Methods"", ""bioequivalence/Bioequivalence study/Determination/Dirithromycin/Electrospray/Electrospray ionization/Erythromycylamine/Extraction/Human/Human plasma/LC-MS/Plasma/Precision/Quantification/Residue"", 
""Carbamazepine/Carbamazepine-10,11-epoxide/Extraction/High-performance liquid chromatography/Liquid chromatography/Optimization/Phenobarbital/Phenytoin/Plasma/Quantification/Stir bar-sorptive extraction/Therapeutic drug monitoring/Three"", 
""Chromatography/CQP propionic acid/Determination/Extraction/Liquid chromatography/Pharmacokinetic/Pharmacokinetic studies/Pharmacokinetic study/Pharmacokinetics/Plasma/Rat/Rat plasma/Solid phase extraction/solid-phase extraction/UV"", 
""Determination/Dog/Electrospray/Electrospray ionization/Extraction/High-performance liquid chromatography-tandem mass spectrometry/HPLC-MS-MS/Internal standard/Jatrorrhizine/LC-MS-MS/Liquid chromatography tandem mass spectrometry/Liquid chromatography-tandem mass spectrometry/Mass spectrometry/Oasis/Palmatine/Pharmacokinetic/Pharmacokinetic studies/Pharmacokinetic study/Pharmacokinetics/Plasma/Plasma samples/Quantification/Solid phase extraction/solid-phase extraction/SPE/Water/Waters"", 
""Interaction/Plasma/Turbulence/Turbulent plasmas"", ""Pharmacokinetic/R"", 
""Software/statistics/reliability/testing""), class = ""factor"")), .Names = c(""BibliographyType"", 
""Author"", ""Title"", ""Journal"", ""Custom3""), row.names = c(1L, 2L, 
3L, 4L, 5L, 6L, 7L, 8L, 9L, 10L, 270L, 271L, 272L, 273L, 274L, 
275L, 276L, 277L, 278L, 279L, 280L, 281L, 282L, 283L, 284L, 285L, 
286L, 287L, 288L, 289L, 290L), class = ""data.frame"")
</code></pre>

<p>So that's my example data.  Here I manually loop over the data and build a narrow result dataframe, that I could turn into my desired result using melt/reshape.</p>

<pre><code>rm(""res"",""l"",""keyw"",""resu"")

res&lt;-data.frame(Journal=NA) #  Create result dataframe
res[keywordlist]&lt;-NA # Create keyword columns

l&lt;-1
resu&lt;-data.frame(Journal=NA,Keyword=NA, Count=0)

for(n in 1:nrow(bib)){ #  Loop over entries,
    message(n)
    keyw&lt;-strsplit(as.character(bib$Custom3[n]),""/"")[[1]]
    if(length(keyw)&gt;0){ #  If there was a keyword....
        for(i in 1:length(keyw)){ #  for each keyword, add a line with Journal, Keyword, 1
            message(paste(""i is "",i,sep=""""))
            message(paste(""l is "",l,sep=""""))
            message(paste(""journal "",bib$Journal[n],sep=""""))
            resu[l,]&lt;-c(as.character(bib$Journal[n]),keyw[i],1)
            message(paste(""Keyword is "",keyw[i],sep=""""))
            resu$Count[l]&lt;-1
            l&lt;-l+1
        }}
}

#Now use ddply to summarise
keywordtable&lt;-ddply(resu, c(""Journal"",""Keyword""),function(df) {
            result&lt;-data.frame(Journal=df$Journal[1], Keyword=df$Keyword[1], Count=sum(as.numeric(df$Count)))
            return(result)
        })
</code></pre>

<p>Now I can take the highest scores and plot a 'heatmap' style graph.</p>

<pre><code>trimkeyword&lt;-subset(keywordtable,!(Journal == """") &amp; Count &gt; 5, drop=TRUE)
trimkeyword$Journal&lt;-droplevels(trimkeyword$Journal)
trimkeyword$Keyword&lt;-droplevels(trimkeyword$Keyword)

qplot(data=trimkeyword, x=Journal, y=Count)

p &lt;- ggplot(trimkeyword, aes(Journal, Keyword)) + geom_tile(aes(fill = Count),colour = ""white"") + 
        scale_fill_gradient(low = ""white"", high = ""steelblue"")

base_size &lt;- 6
p&lt;-p + theme_grey(base_size = base_size) + labs(x = """", y = """") + 
        scale_x_discrete(expand = c(0, 0)) +
        scale_y_discrete(expand = c(0, 0)) + 
        opts(legend.position = ""none"", axis.ticks = theme_blank(), 
                axis.text.x = theme_text(size = base_size *0.8, 
                        angle = 330, hjust = 0, colour = ""grey50""))

print(p)
</code></pre>

<p>Anyone else want to suggest anything ?</p>

<p>Other things that come to mind are;</p>

<ul>
<li>Are there any good ways (in R) to
weed out sets of keywords that have
the same meaning (ie cat, cats,
feline, pussy could all be replaced
with cat) </li>
<li>Is there a way to build the
table without looping</li>
</ul>

<p>EDIT: I've replaced the dummy data with something that's more representative.</p>
","74658","","74658","","2010-10-24 12:43:21","2010-10-25 15:20:28","Is there a better way to create Keyword frequency table in R?","<r><text-mining><heatmap>","3","3","4","","","CC BY-SA 2.5","4005092","4452","4452","r","404559","3625322","3607736","",""
"4008287","1","4008351","","2010-10-24 12:56:40","","1","1022","<p>I have results from a survey. I am trying to create a graphic displaying the relationship of two variables: ""Q1"" and ""Q9.1"". ""Q1"" is the independent and ""Q9.1"" is the dependent. Both variables have responses from like scale questions: -2,-1,0,1,2. A typical plot places the answers on top of each other - not very interesting or informative. I was thinking that hexbin would be the way to go. The data is in lpp.
I have not been able to use ""Q1"" and ""Q9.1"" for x and y. However:</p>

<pre><code>&gt; is.numeric(""Q1"")
[1] FALSE
q1.num &lt;- as.numeric(""Q1"")
Warning message:
NAs introduced by coercion 
</code></pre>

<p>The values for Q1 are (hundreds of instances of): -2,-1,0,1,2</p>

<p>How can I make a hexbin graph with this data?
Is there another graph I should consider?</p>

<p>Error messages so far:</p>

<pre><code>Warning messages:
1: In xy.coords(x, y, xl, yl) : NAs introduced by coercion
2: In xy.coords(x, y, xl, yl) : NAs introduced by coercion
3: In min(x) : no non-missing arguments to min; returning Inf
4: In max(x) : no non-missing arguments to max; returning -Inf
5: In min(x) : no non-missing arguments to min; returning Inf
6: In max(x) : no non-missing arguments to max; returning -Inf
</code></pre>
","243587","","","","","2010-10-24 15:22:19","Basic hexbin with R?","<r><scatter-plot><hexagonal-tiles>","2","7","","","","CC BY-SA 2.5","4008287","4452","4452","r","404559","3625322","3607736","",""
"4012772","1","4013458","","2010-10-25 08:04:27","","13","1457","<p>Because SO is a bit slow lately, I'm posting an easy question. I would appreciate it if big fishes stayed on the bench for this one and give rookies a chance to respond.</p>

<p>Sometimes we have objects that have a ridiculous amount of large list elements (vectors). How would you ""unlist"" this object into a single vector. Show proof that your method is faster than <code>unlist()</code>.</p>
","322912","","428790","","2010-10-25 12:12:01","2018-12-08 04:32:20","challenge: optimize unlisting [easy]","<list><optimization><r><vector>","4","6","3","","","CC BY-SA 2.5","4012772","4452","4452","r","404559","3625322","3607736","",""
"4013914","1","","","2010-10-25 11:01:54","","2","1406","<p>How can I align the two ggplots in the following function so that the x-axis is corresponding between the table and the graph ? As it is now the interval between the ""ticks"" is less in the table. Any ideas?</p>

<p>//M</p>

<p>Edit: Forgot to give credit to the learnr website for the table plotting method....</p>

<p>function ggkm:</p>

<pre><code>ggkm&lt;-function(time,event,stratum=""-1"",tit="""",xscale=round(seq(0,max(time),by=max(time)/10),0)) {
    lev&lt;-levels(factor(stratum))
    w2&lt;-lev[1]!=""-1""

    if (w2) {stratum&lt;-as.factor(stratum)}

    m2s&lt;-Surv(time,as.numeric(event))
    if (w2) {fit &lt;- survfit(m2s~stratum)}
    else fit&lt;-survfit(m2s~-1) 

    w&lt;-fit$time

    k&lt;-fit$surv

    o&lt;-length(levels(stratum))

        strata&lt;-c(rep(names(fit$strata[1:o]),fit$strata[1:o]))
        lev2&lt;-levels(as.factor(strata))
    upper&lt;-fit$upper
    lower&lt;-fit$lower
    if (w2) {f&lt;-data.frame(w,k,strata,upper,lower)} 
    else f&lt;-data.frame(w,k,upper,lower)
    if (w2) {r&lt;-ggplot (f,aes(x=w,y=k,fill=strata,group=strata))+geom_line(aes(color=strata))+scale_fill_brewer(f$strata,palette=""Set1"")+scale_color_brewer(f$strata,palette=""Set1"")}
    else r&lt;-ggplot(f,aes(x=w,y=k))+geom_line()
    r&lt;-r+geom_ribbon(aes(ymin=lower,ymax=upper),alpha=0.3)+opts(title=tit)
    r&lt;-r+opts(panel.grid.minor=theme_blank(),panel.grid.major=theme_blank(),panel.background=theme_blank(),axis.line=theme_segment())
    r&lt;-r+opts(legend.position=c(0.8,0.8))
    #r&lt;-r+opts(legend.title="""")
    if (w2) {
        r&lt;-r+scale_fill_brewer("""",palette=""Set1"",breaks=lev2,labels=lev)+scale_color_brewer("""",palette=""Set1"",breaks=lev2,labels=lev)
        }
    r&lt;-r+geom_hline(yintercept=0.5,linetype=2)
    r+expand_limits(x = 0, y = 0)+scale_x_continuous(""Observation time (months)"",expand = c(0, 0),breaks=xscale,labels=xscale,limits=c(min(xscale),max(xscale)))+scale_y_continuous(""Probability of overall survival (proportion)"",expand = c(0,0))-&gt;r


##number at risk table
    u&lt;-llply(names(fit$strata),function(x) rep(x,fit$strata[x]))
    p&lt;-ldply(u,function(x) data.frame(x))
    fit2&lt;-data.frame(p,fit$n.risk,fit$surv,fit$time,fit$n.event)
    q&lt;-dlply(fit2,.(x),function(g) data.frame(g$fit.n.risk,g$fit.surv,g$fit.time,g$fit.n.event))
    e&lt;-ldply(q,function(y){
    o&lt;-ldply(xscale,function(x) y[min(which((x-y$g.fit.time&lt;0))),1])
    oo&lt;-cbind(o,xscale)
    })
    melt(e,id=c(""xscale"",""x""))-&gt;e2
    e2$strata&lt;-as.factor(e2$x)
    cast(subset(e2,e2$variable!=""x.time""),strata~xscale,identity)-&gt;e3
    #e3[[""strata""]]&lt;-names(e3[[""strata""]])
    dg&lt;-ggplot(e2,aes(x=xscale,y=strata,color=strata,label=format(factor(value),nsmall=1)))+geom_text(size=2.5)+theme_bw()+scale_color_brewer(e2$strata,palette=""Set1"")

    #levels(e2$strata)&lt;-lev
    dg&lt;-dg+scale_y_discrete(limits=e2$strata)+expand_limits(x=0,y=0)
    dg&lt;-dg+opts(panel.grid.minor=theme_blank(),panel.grid.major=theme_blank(),panel.background=theme_blank(),axis.line=theme_blank())
    dg&lt;-dg+opts(panel.border=theme_blank(),axis.text.x=theme_blank(),axis.text.y=theme_blank(),axis.ticks=theme_blank())
    #dg&lt;-dg+opts(panel.border=theme_blank(),axis.text.x=theme_blank(),axis.ticks=theme_blank())

    dg&lt;-dg+opts(plot.margin = unit(c(-0.5,1, 0, 0.5), ""lines"")) + xlab(NULL) + ylab(NULL)+labs(colour="""")
    dg&lt;-dg+opts(legend.position=""none"")
##Same page
    Layout &lt;- grid.layout(nrow = 2, ncol = 1, heights = unit(c(2,0.25), c(""null"", ""null"")))

    grid.show.layout(Layout)

    vplayout &lt;- function(...) {
             grid.newpage()
             pushViewport(viewport(layout = Layout))
   }
   subplot &lt;- function(x, y) viewport(layout.pos.row = x,layout.pos.col = y)

   mmplot &lt;- function(a, b) {
     vplayout()
     print(a, vp = subplot(1, 1))
     print(b, vp = subplot(2, 1))
 } 
    t&lt;-mmplot(r, dg)

return(t)
} 
</code></pre>

<p>example using ggkm (albeit a poor dataset)</p>

<pre><code>library(survival)
require(ggplot2)
data(leukemia)
with(leukemia,ggkm(time,status,x,tit=""Leukemia""))
</code></pre>
","338745","","3687447","","2015-02-27 08:40:05","2015-02-27 08:40:05","align axes in double plot ggplot R","<r><ggplot2>","0","3","1","","","CC BY-SA 2.5","4013914","4452","4452","r","404559","3625322","3607736","",""
"4015256","1","4015430","","2010-10-25 13:57:58","","3","1045","<p>Id like to count the number of changes of binary factor variable. This variable can change from time to time back and forth multiple times for every user id. Now Id like to count he number of changes per user id to this variable over a given timespan. </p>

<p>The data is sorted by id,year,month,myfactor. I tried this in MySQL but had no success so far. 
Is there an easy way to do it in R? I though about adding another column to my data.frame and adding up conditions step by step... Maybe some %in% stuff ?</p>

<p>Thx in advance for suggestions... </p>

<p>Hmm, of course... heres some example sorry for not providing it immediately, my head hurts ;): </p>

<hr>

<pre><code>   myf   Year    month userid   
  1 A    2005       1    260           
  2 B    2005       2    260           
  3 B    2005       4    260           
  4 A    2005       5    260           
  5 B    2005       6    260           
  6 B    2005       1    261 
</code></pre>

<p>if this is my dataset, I want to update the changes column, counting the number of changes of myf per user. Basically id like to end up with: </p>

<pre><code>  user  changes
   260     3
   260     0
</code></pre>

<p>and so forth... </p>

<p>HTH</p>
","366256","","366256","","2010-10-25 14:59:15","2010-10-25 15:45:38","Conditional Count of changes over time?","<r><conditional-operator>","3","4","","","","CC BY-SA 2.5","4015256","4452","4452","r","404559","3625322","3607736","",""
"4016144","1","4016668","","2010-10-25 15:31:07","","2","4798","<p>I have some data that looks like this:</p>

<pre><code>df &lt;- data.frame(time=1:6, a=c(100, 90, 91, 92, 91, 91.5), b=c(99.9, 90.3, 90.9, 91.8, 92, 91.5), c=c(100.3, 88.5, 90.5, 91.5, 91, 91.3))
df &lt;- data.frame(df, mean=apply(df[,2:4], 1, mean))
&gt; df
  time     a    b     c      mean
1    1 100.0 99.9 100.3 100.06667
2    2  90.0 90.3  88.5  89.60000
3    3  91.0 90.9  90.5  90.80000
4    4  92.0 91.8  91.5  91.76667
5    5  91.0 92.0  91.0  91.33333
6    6  91.5 91.5  91.3  91.43333
</code></pre>

<p>I want to plot the lines on the same canvas with <code>time</code> on the x-axis.  I want the lines <code>a</code>, <code>b</code>, and <code>c</code> to be slightly transparent (or lightly colored) and the <code>mean</code> to be bold and very clear.</p>
","171249","","171249","","2010-10-25 16:11:59","2010-10-27 18:49:28","R: Plot multiple lines on the same axis with the average in bold?","<r><plot>","3","0","","","","CC BY-SA 2.5","4016144","4452","4452","r","404559","3625322","3607736","",""
"4017720","1","","","2010-10-25 18:40:36","","0","881","<p>I'm using the bystat function from the Hmisc package in R. How can I extract attribute values and place them into variables. For example, I want to calculate mean and SD for variable aaf and put them in a dataframe or matrix.</p>

<pre><code>t &lt;- with(d.aaf,bystats(y=aaf,plot_bid,fun=function(x) { 
       c(Mean = round(mean(x),digits=2),SD = round(sd(x),digits=2)) 
     })) 

&gt; str(t)
 bystats [1:121, 1:3] 5 5 5 5 5 4 5 5 3 4 ...
 - attr(*, ""dimnames"")=List of 2
  ..$ : chr [1:121] ""P00000000006001288020278"" ""P00000000006001288085814""
                    ""P00000000006001288151350"" ""P00000000006001288216886"" ...
  ..$ : chr [1:3] ""N"" ""Mean"" ""SD""
 - attr(*, ""heading"")= chr ""function(x) { c(Mean = round(mean(x),digits=2),
                                            SD = round(sd(x),digits=2)) } 
                            of aaf by plot_bid""
 - attr(*, ""byvarnames"")= chr ""plot_bid""
</code></pre>

<p>The way I'm doing it is by first converting ""t"" into a dataframe, which I do not think is very efficient.
Thanks for your suggestions.</p>
","486781","","388520","","2010-10-25 18:57:14","2010-10-25 19:54:52","R question - How to extract attributes values from bystat object and place them in variables","<r>","1","0","","","","CC BY-SA 2.5","4017720","4452","4452","r","404559","3625322","3607736","",""
"4018082","1","4018224","","2010-10-25 19:25:27","","1","21537","<p>I have a data set with some null values in one field. When I try to run a linear regression, it treats the integers in the field as category indicators, not numbers.</p>

<p>E.g., for a field that contains no null values...</p>

<pre><code>summary(lm(rank ~ num_ays, data=a)),
</code></pre>

<p>Returns:</p>

<pre><code>Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 10.607597   0.019927 532.317  &lt; 2e-16 ***
num_ays      0.021955   0.007771   2.825  0.00473 ** 
</code></pre>

<p>But when I run the same model on a field with null values, I get:</p>

<pre><code>Coefficients:
              Estimate Std. Error  t value Pr(&gt;|t|)    

(Intercept)  1.225e+01  1.070e+00   11.446  &lt; 2e-16 ***
num_azs0    -1.780e+00  1.071e+00   -1.663  0.09637 .  
num_azs1    -1.103e+00  1.071e+00   -1.030  0.30322    
num_azs10   -9.297e-01  1.080e+00   -0.861  0.38940    
num_azs100   1.750e+00  5.764e+00    0.304  0.76141    
num_azs101  -6.250e+00  4.145e+00   -1.508  0.13161    
</code></pre>

<p>What's the best and/or most efficient way to handle this, and what are the tradeoffs?</p>
","89244","","","","","2010-10-25 19:43:22","How to ignore null values in R?","<r><null>","2","4","","","","CC BY-SA 2.5","4018082","4452","4452","r","404559","3625322","3607736","",""
"4018519","1","4018616","","2010-10-25 20:21:34","","3","977","<p>Is it possible to update a dataset in a local, installed package?</p>

<p>A package that I maintain has a dataset based on periodically-updated data. I would like to update the local version of my dataset and save the changes back to the package such that next time I load the data, i.e. <code>data(xxx)</code>, the updated version of the dataset will load.</p>

<p>In the medium and long term I will update the package and then upload a new version to CRAN, but I'm looking for a short term solution.</p>

<p>If it is possible, how would I do it?</p>
","309600","","","","","2014-10-09 10:54:07","Update the dataset in an installed package","<r>","1","0","1","","","CC BY-SA 2.5","4018519","4452","4452","r","404559","3625322","3607736","",""
"4019049","1","","","2010-10-25 21:31:23","","7","2495","<p>I am busy writing a package for a customer with little knowledge about R. Given their complex data structure, I need to set up a ""data base"" within R containing tons of information obtained from a set of spreadsheets they get from another company. As they can't install SQL or so on their computers (ICT has some power control issues...), I've written an emulation in R, based on a specific directory structure. Now I want to run this automatically, but only the first time the package is loaded. Something like <code>.First.lib</code>, but then <code>.VeryFirst</code>. </p>

<p>Any idea on how to load a piece of code the first time a package is loaded? I couldn't really find it anywhere in the manuals, so all pointers are welcome.</p>
","428790","","","","","2010-10-26 00:26:02",": Run code first time a package is installed or used","<r><installation><package>","2","5","","","","CC BY-SA 2.5","4019049","4452","4452","r","404559","3625322","3607736","",""
"4020136","1","4020246","","2010-10-26 01:54:33","","2","1687","<p>as title, I am working on some gregexpr in R now, I need to search for something start with a dot, so I need to use ""."" (without quote), but R keep saying that it is an unrecognized escape. What can I do?</p>

<p>Thanks!</p>
","373908","","","","","2010-10-26 02:26:05","how to paste the ""backslash-dot"" (\.)combo in R?","<regex><r>","1","0","","","","CC BY-SA 2.5","4020136","4452","4452","r","404559","3625322","3607736","",""
"4020239","1","4022829","","2010-10-26 02:25:10","","8","2450","<pre><code>op &lt;- options(warn=0)  #although doesn't work for any value of warn
assign(""last.warning"", NULL, envir = baseenv())  
thisDoesntWork&lt;- function() {
warning(""HEY, this is definitely a warning!"")
cat(paste(""number of warnings:"",length(warnings())))
}   
&gt;thisDoesntWork()
Warning in thisDoesntWork() : HEY, this is definitely a warning!
number of warnings: 0
</code></pre>

<p>Number of warnings should be 1 rather than 0 -
it seems that <code>warnings()</code> returns nothing if called within a function. Why? How can one work around this to check within a function if warnings occurred, and print them out?</p>

<p>I don't want to use <code>tryCatch</code>, because then I lose the value that the function returns (it may still return a valid value, even if it generated a warning).</p>
","302378","","","","","2010-10-26 10:35:23","warnings() does not work within a function? How can one work around this?","<r><error-handling>","5","0","2","","","CC BY-SA 2.5","4020239","4452","4452","r","404559","3625322","3607736","",""
"4022046","1","","","2010-10-26 08:53:06","","2","733","<p>I wonder if there is a better way to put two data.frames into one, treating the rownames as if it was a column and then merge by this column with some other data.frame. I know I could do the following</p>

<pre><code> df1$rn &lt;- row(df1) 
 all &lt;- merge(df1,df2, by.x=""rn"", by.y=""some_column"")
</code></pre>

<p>I mean this produces redundant data (rownames as column) which is not needed at all. So whats the smarter way to do it?</p>
","366256","","","Roger Pate","2010-10-26 13:21:38","2010-10-26 13:21:38","How to merge on a rowname by some column from another data.frame?","<r>","2","3","","","","CC BY-SA 2.5","4022046","4452","4452","r","404559","3625322","3607736","",""
"4022195","1","4022321","","2010-10-26 09:12:52","","6","12842","<p>I'm trying to transform a 3D array into a matrix. I want the third dimension of the array to form the first row in the matrix, and this third dimension should be read by row (i.e., row 1, then row 2 etc... of dimension 3 should make up the first row of the matrix). I've given an example below, where the array has dimensions of 4, 3, and 5, and the resulting matrix has 5 rows and 12 columns. I have a solution below that achieves what I want, but it seems very cumbersome for large arrays (it first creates vectors from the elements of the array (by row), and then rbinds these to form the matrix). Is there a more elegant way to do this? Thanks in advance for any suggestions.</p>

<pre><code>dat &lt;- array( rnorm(60), dim=c(4, 3, 5) )   

results &lt;- list(1:5)            
for (i in 1:5) {  
    vec &lt;- c( t(dat[, , i]) )  
    results[[i]] &lt;- vec  
    }

datNew &lt;- rbind( results[[1]], results[[2]], results[[3]], results[[4]], results[[5]] )  
</code></pre>
","230850","","230850","","2010-10-26 09:44:18","2020-02-06 16:52:53","Transform a 3D array into a matrix in R","<r>","2","2","3","","","CC BY-SA 2.5","4022195","4452","4452","r","404559","3625322","3607736","",""
"4022337","1","4022516","","2010-10-26 09:29:56","","1","193","<p>I have a dummy list here:</p>

<pre><code>&gt; x &lt;- c(""a"", ""b"", ""c"")
&gt; y &lt;- c(""d"", ""e"", ""f"")
&gt; z &lt;- list(x,y)
&gt; z
[[1]]
[1] ""a"" ""b"" ""c""

[[2]]
[1] ""d"" ""e"" ""f""
</code></pre>

<p>If I want to assign another variable (e.g. w) to hold the last item (i.e. ""c"", ""f"") of all vectors (i.e. x, y) inside the list (i.e. z), how can I do that?</p>

<p>Thanks!</p>
","373908","","","","","2010-10-26 13:10:23","how to pick up the last (or whatever) items of all vectors inside a list?","<list><r>","3","0","1","","","CC BY-SA 2.5","4022337","4452","4452","r","404559","3625322","3607736","",""
"4024666","1","4024844","","2010-10-26 14:24:07","","8","445","<p>Let's presuppose that you have R running with root/admin privileges. What R calls do you consider harmful, apart from <code>system()</code> and <code>file.*()</code>?</p>

<p>This is a platform-specific question, I'm running Linux, so I'm interested in Linux-specific security leaks. I will understand if you block discussions about R, since this post can easily emerge into ""How to mess the system up with R?""</p>
","457898","","","","","2012-02-05 00:38:29","Block potentially malicious R calls","<r><system><code-injection>","8","3","2","","","CC BY-SA 2.5","4024666","4452","4452","r","404559","3625322","3607736","",""
"4024972","1","","","2010-10-26 14:59:09","","1","1277","<p>I'm trying to perform GLM (Generalized linear model) repeatedly within a python script (within a loop).</p>

<p>1- I tried to use Stats within Scipy glm function but description is quite inexistant and I think I did not use it well --> error message <pre><code>""ValueError: only ttest_ind implemented"".</pre></code> I searched within stats.py file and in _support.py to find my way without results.</p>

<p>2- I have tried to install RPY2 (hope that lgautier or other will read me) ot use R powered functions. But I'm on windows 7 64, and it seems that I did not succeed to install it well. I have error message:</p>

<pre><code>    import rpy2.tests
  File ""C:\Python26\lib\site-packages\rpy2\tests.py"", line 3, in 
    import rpy2.robjects.tests
  File ""C:\Python26\lib\site-packages\rpy2\robjects\__init__.py"", line 12, in 
    import rpy2.rinterface as rinterface
  File ""C:\Python26\lib\site-packages\rpy2\rinterface\__init__.py"", line 22, in 
    ""This might be because R.exe is nowhere in your Path."")
RuntimeError: Unable to determine R version from the registery.Calling the command 'R RHOME' does not return anything.
This might be because R.exe is nowhere in your Path.</code></pre>

<p>How to perform robust GLM in python (other ways?, I tried good ones but I missed ...?)?
How to install RPY (noob/basic student learner) on windows 7 64 and interface it with python?</p>
","487772","","568266","","2012-01-03 14:57:34","2012-01-03 14:57:34","Performing GLM within python script on windows 7 64","<python><windows><r><scipy><glm>","3","7","","","","CC BY-SA 3.0","4024972","4452","4452","r","404559","3625322","3607736","",""
"4027004","1","4027340","","2010-10-26 18:55:11","","12","13618","<p>I'm using geom_density to plot densities with very thin tails.  I want to restrict the y-axis range (so the top of the distribution will be off screen and the tail is more clearly visible) but it's throwing away data that is off-screen when it calculate the density, rather than just not showing what is off screen.</p>

<p>E.g.</p>

<p>This plots the full distribution,</p>

<pre><code>testData = data.frame(counts=c(rep(1,5), 1:10))
ggplot(testData, aes(x=testData$counts))+geom_density()
</code></pre>

<p>but when the y range is restricted, it looks as though the distribution has smaller support.</p>

<pre><code>ggplot(testData, aes(x=testData$counts))+geom_density()+scale_y_continuous(limits=c(0,0.1))
</code></pre>

<p>How can I ""zoom in"" on the y axis without throwing away data?</p>
","160356","","","","","2010-10-26 19:36:26","Restrict y-axis range on ggplot+geom_density","<r><ggplot2>","1","0","1","","","CC BY-SA 2.5","4027004","4452","4452","r","404559","3625322","3607736","",""
"4027756","1","4027781","","2010-10-26 20:34:55","","8","2193","<p>Given a series of randomly generated data how can I figure out how random it actually is?  Is R-lang a good tool for this matlab? What other questions can can these tools answer about randomly generated data? Is there another tool better for this?</p>
","183528","","","","","2010-12-07 03:02:29","Random number analysis","<r><matlab><cryptography>","6","4","3","","","CC BY-SA 2.5","4027756","4452","4452","r","404559","3625322","3607736","",""
"4032660","1","4032784","","2010-10-27 11:21:01","","6","11544","<p>I need to read a data frame from a file containing NULL values. Here's an example file:</p>

<pre>
charCol floatCol intCol
a       1.5      10
b       NULL     3
c       3.9      NULL
d       -3.4     4
</pre>

<p>I read this file into a data frame:</p>

<pre><code>&gt; df &lt;- read.table('example.dat', header=TRUE)
</code></pre>

<p>But ""NULL"" entries are not interpreted by R as NULL:</p>

<pre><code>&gt; is.null(df$floatCol[2])
[1] FALSE
</code></pre>

<p>How should I format my input file so that R properly treats such entries as NULL?</p>
","488719","","","","","2010-10-27 11:37:44","Read null values from file","<r>","3","0","3","","","CC BY-SA 2.5","4032660","4452","4452","r","404559","3625322","3607736","",""
"4033989","1","4034078","","2010-10-27 13:51:41","","0","1554","<p>I have two tables. Both are read using the <code>read.table()</code> function.</p>

<p>Table 1</p>

<pre><code>    A    B    C
S1  1    1    0
S2  2    0    NA
S3  0    2    1
</code></pre>

<p>Table 2</p>

<pre><code>    Pa    Pb    Pc
G1  0.12  0.65  0.001
G2  0.34  0.82  0.03
G3  0.2   0.64  0.87
</code></pre>

<p>I need to iterate over both tables. Specifically, I need to iterate over table one column-wise and extract pairwise combinations for each of the entries in a particular column.</p>

<p>For example,</p>

<p>From the first column in table 1, I need to extract the values of all pairwise permutations of the elements in column 1, i.e., {1, 2}, {1, 0},{2, 0}, {2, 1}, {0, 1}, {0, 2}.</p>

<p>Using these values, and an element in Table 2 (this example, element [0, 1]), I will fit to a first order linear regression model.</p>

<p>Does anyone have any suggestions how best to iterate over table one to isolate all those pairwise permutations?</p>
","233816","","4370109","","2017-05-03 19:24:31","2017-05-03 19:24:31","Iiterate over a table?","<r><loops>","1","0","","","","CC BY-SA 3.0","4033989","4452","4452","r","404559","3625322","3607736","",""
"4034059","1","4034088","","2010-10-27 13:59:27","","12","9041","<p>I'm relatively new to R, and was wondering the most efficient way to iteratively construct a dataframe (one row at a time, the number of iterations ""n"" and the length of each row ""l"" are known beforehand).</p>

<ol>
<li>Create empty dataframe, add a row each iteration</li>
<li>Preallocate n x l dataframe, modify a row each iteration</li>
<li>Preallocate n x l matrix, modify a row each iteration, make dataframe from matrix</li>
<li>Something else</li>
</ol>
","146147","","103225","","2012-05-07 07:19:00","2012-05-07 07:19:00","iteratively constructed dataframe in R","<r><dataframe><s-plus>","2","3","3","","","CC BY-SA 3.0","4034059","4452","4452","r","404559","3625322","3607736","",""
"4034271","1","4034319","","2010-10-27 14:20:30","","4","2943","<p>I have 13 matrices of various dimensions that i'd like to use in pairwise matrix correlations with a custom function (that calculates the Rv coefficient). The function takes two arguments (matrix1, matrix2) and produces a scalar (basically a multivariate r value). I'd like to run the function on all possible pairs of matrices (so 78 correlations in total) and produce a 13 by 13 matrix of the resulting Rv values with the names of the 13 matricies in the rows and columns. I thought of trying to do this by putting the matricies inside a list and using a double for loop to go through the elements of the list, but that seems very complex. I've given a stipped down example with dummy data below. Does anyone have any suggestions for how this might be approached? Thanks in advance.</p>

<pre><code># Rv function  
Rv &lt;- function(M1, M2) {  
    tr &lt;- function(x) sum( diag(x) )   
    psd &lt;- function(x) x %*% t(x)   
    AA &lt;- psd(M1)  
    BB &lt;- psd(M2)  
    num &lt;- tr(AA %*% BB)  
    den &lt;- sqrt( tr(AA %*% AA) * tr(BB %*% BB) )  
    Rv &lt;- num / den  
    list(Rv=Rv, ""Rv^2""=Rv^2)  
}  

# data in separate matricies  
matrix1 &lt;- matrix(rnorm(100), 10, 10)  
matrix2 &lt;- matrix(rnorm(100), 10, 10)  
# ... etc. up to matrix 13  

# or, in a list  
matrix1 &lt;- list( matrix(rnorm(100), 10, 10) )  
rep(matrix1, 13) # note, the matrices are identical in this example   

# call Rv function  
Rv1 &lt;- Rv(matrix1, matrix2)  
Rv1$Rv^2  

# loop through all 78 combinations?  
# store results in 13 by 13 matrix with matrix rownames and colnames?  
</code></pre>
","230850","","","","","2010-10-27 14:25:37","Pairwise matrix correlations in R - how to iterate through all pairs?","<r>","1","1","1","","","CC BY-SA 2.5","4034271","4452","4452","r","404559","3625322","3607736","",""
"4034365","1","4034419","","2010-10-27 14:29:54","","2","2289","<p>how do achieve the equivalent of <code>awk '{print $1}' /tmp/data | sort | uniq -c</code> for a particular column in R?</p>

<p>Example:
    cat /tmp/data</p>

<pre><code>alama 
alama
alama
bbbb
bbbb
ccc
alama
bbbb
bbbb
</code></pre>

<p>awk '{print $1}' /tmp/data | sort | uniq -c</p>

<blockquote>
<pre><code>  1 
  4 alama
  4 bbbb
  1 ccc
</code></pre>
</blockquote>

<p>i.e. count of every item in the column.</p>

<hr>

<p>Based on @Joshua's suggestion and my particular needs ...</p>

<pre><code>s&lt;-data.frame(table(spam[,1]))
p&lt;-s[s$Freq&gt;=3,]
p[order(p$Freq,decreasing=TRUE ),]
</code></pre>
","276569","","429846","","2013-01-02 14:49:58","2013-01-02 14:49:58","Column count by element","<r>","1","0","1","","","CC BY-SA 3.0","4034365","4452","4452","r","404559","3625322","3607736","",""
"4034436","1","4034526","","2010-10-27 14:37:23","","1","1611","<p>A colleague asked me the following question the other day. In the following piece of code, how do you extract the gradient:</p>

<pre><code>&gt; x=5
&gt; a = eval(deriv(~ x^3, ""x""))
&gt; a
[1] 125
attr(,""gradient"")
      x
[1,] 75
</code></pre>

<p>My answer was </p>

<pre><code>&gt;  attr(a, ""gradient"")[1]
[1] 75
</code></pre>

<p>This syntax seems clunky to me. Is there a better way of extracting the gradient?</p>
","203420","","","","","2010-10-27 14:52:11","Extract the gradient from the deriv command","<r><gradient>","2","0","","","","CC BY-SA 2.5","4034436","4452","4452","r","404559","3625322","3607736","",""
"4034867","1","4037614","","2010-10-27 15:22:47","","5","665","<p>basically i want to perform diagonal averaging in R. Below is some code adapted from the simsalabim package to do the diagonal averaging. Only this is slow. </p>

<p>Any suggestions for vectorizing this instead of using sapply?</p>

<pre><code>reconSSA &lt;- function(S,v,group=1){
### S : matrix
### v : vector

    N &lt;- length(v)
    L &lt;- nrow(S)
    K &lt;- N-L+1
    XX &lt;- matrix(0,nrow=L,ncol=K)
    IND &lt;- row(XX)+col(XX)-1
    XX &lt;- matrix(v[row(XX)+col(XX)-1],nrow=L,ncol=K)
    XX &lt;- S[,group] %*% t(t(XX) %*% S[,group])

    ##Diagonal Averaging
    .intFun &lt;- function(i,x,ind) mean(x[ind==i])

    RC &lt;- sapply(1:N,.intFun,x=XX,ind=IND)
    return(RC)
}
</code></pre>

<p>For data you could use the following</p>

<pre><code>data(AirPassengers)
v &lt;- AirPassengers
L &lt;- 30
T &lt;- length(v)
K &lt;- T-L+1

x.b &lt;- matrix(nrow=L,ncol=K)
x.b &lt;- matrix(v[row(x.b)+col(x.b)-1],nrow=L,ncol=K)
S &lt;- eigen(x.b %*% t(x.b))[[""vectors""]] 
out &lt;- reconSSA(S, v, 1:10)
</code></pre>
","213185","","271616","","2010-10-27 19:33:10","2010-10-28 06:58:30","Help speeding up a loop in R","<r><loops>","2","3","3","","","CC BY-SA 2.5","4034867","4452","4452","r","404559","3625322","3607736","",""
"4034936","1","","","2010-10-27 15:31:12","","24","24909","<p>We are working on a complex statistical project on <code>Java</code>. We did the original code in the <a href=""http://en.wikipedia.org/wiki/R_%28programming_language%29"">R programming language</a>. Is there a way to convert this code to <code>Java</code> code (converter) or otherwise how can we use <code>R</code> in a <code>Java</code> project?</p>
","489036","","1701600","","2016-01-19 09:10:33","2018-06-26 07:10:57","using R programming in java","<java><r><statistics>","4","0","8","","","CC BY-SA 3.0","4034936","4452","4452","r","404559","3625322","3607736","",""
"4037289","1","4038603","","2010-10-27 20:15:10","","4","7250","<p>I have a contour plot and I would like to add a geom_path with a different set of data over it.</p>

<p>Right now I have the below code, but as soon as it gets to the geom_path, it overwrites the contour plot. Is there a way to prevent this from happening?</p>

<pre><code>v &lt;- ggplot(pts, aes(theta_1, theta_2, z = z))
v + stat_contour(aes(colour = ..level..),bins=50) + xlab(expression(Theta[1])) + ylab(expression(Theta[2]))
v+geom_path(aes(x=x,y=y,z=z), data=some.mat)
</code></pre>
","480048","","","","","2010-10-27 23:44:14","Multiple layers in ggplot2 with different datasets","<r><ggplot2>","1","0","1","","","CC BY-SA 2.5","4037289","4452","4452","r","404559","3625322","3607736","",""
"4037700","1","","","2010-10-27 21:00:45","","0","1862","<p>How do I sort a boxplot in ggplot?</p>

<p>Here's what I'm trying to plot:</p>

<pre><code>qplot(  row.names(pcaDF),pcaDF[,1],data=pcaDF,geom=""boxplot"") + coord_flip() 
</code></pre>

<p>and here's the structure of <code>pcaDF</code></p>

<pre><code>&gt; str(pcaDF)
'data.frame':   108 obs. of  1 variable:
 $ sort(plotdata[, 1], decreasing = F): num  -5.89 -5.52 -4.66 -4.54 -3.92 ...
</code></pre>
","489368","","168747","","2010-10-29 12:34:18","2015-05-27 22:52:53","ggplot: boxplot sort","<r><ggplot2>","2","1","0","","","CC BY-SA 2.5","4037700","4452","4452","r","404559","3625322","3607736","",""
"4038223","1","4038575","","2010-10-27 22:24:33","","0","493","<p>I have two data frames -- one with stock closing prices arranged by date (rows) and ticker symbol (columns):</p>

<pre><code>&gt; head(data.stocks)
        date     A   AAPL ABAT    AB    ABV
1 2010-10-04 32.59 278.64 3.65 26.42 125.89
2 2010-10-05 33.04 288.94 3.66 27.10 129.05
3 2010-10-06 32.67 289.19 3.59 26.99 129.90
4 2010-10-07 33.20 289.22 3.66 27.04 129.94
5 2010-10-08 33.80 294.07 3.84 26.76 132.66
6 2010-10-11 33.75 295.36 3.87 26.95 133.37
</code></pre>

<p>The other data frame has open interest (oi) arranged by one row per ticker symbol per date:</p>

<pre><code>&gt; head(data.oi)
        date symbol  oi close
1 2010-10-04      A   6     0
2 2010-10-04     AA 104     0
3 2010-10-04   AAPL 940     0
4 2010-10-04     AB   0     0
5 2010-10-04   ABAT   0     0
6 2010-10-04    ABB   0     0
</code></pre>

<p>I would like to add another column to this second data frame so that I end up with a ""panel"" data frame with one ticker symbol per date per row with oi and closing price.</p>

<p>I thought this loop would work, but I get the following error:</p>

<pre><code>&gt; for (i in seq(length(data.oi$date))) {
+ row &lt;- which(data.stocks$date == data.oi$date[i])
+ col &lt;- which(colnames(data.stocks) == data.oi$symbol[i])
+ data.oi$close[i] &lt;- data.stocks[row, col]
+ }
Error in data.oi$close[i] &lt;- data.stocks[row, col] : 
  replacement has length zero
</code></pre>

<blockquote>
  <p></p>
</blockquote>

<p>FWIW, it stores the first value in <code>data.oi</code>, then fails:</p>

<pre><code>&gt; head(data.oi)
        date symbol  oi close
1 2010-10-04      A   6 32.59
2 2010-10-04     AA 104  0.00
3 2010-10-04   AAPL 940  0.00
4 2010-10-04     AB   0  0.00
5 2010-10-04   ABAT   0  0.00
6 2010-10-04    ABB   0  0.00
</code></pre>

<p>Thanks! I feel like <code>reshape</code> or <code>aggregate</code> could do it, but I can't figure out how to merge these two.</p>
","334755","","","","","2010-10-27 23:37:59","Create a panel from two data frames","<r><merge><aggregate><reshape>","1","0","","","","CC BY-SA 2.5","4038223","4452","4452","r","404559","3625322","3607736","",""
"4038280","1","","","2010-10-27 22:36:08","","2","1864","<p>I am looking for a way to embed the fix() function within a script. Basically, here's what I'm currently doing:</p>

<ol>
<li>I load a certain package. For example, <code>library(PerformanceAnalytics)</code></li>
<li>I call the <code>fix()</code> function to edit a couple functions within the loaded package. Example, <code>fix(VaR)</code>.</li>
<li>Then, using R's built-in editor, I copy-paste my function over the one originally loaded from the package.</li>
<li>Finally, I source in my <code>.R</code> script which calls the above functions I fixed and performs the computations I need.</li>
</ol>

<p>Essentially, I'd like to streamline Step 3 above. Rather than having to manually type <code>fix(function)</code> and copy-paste over the original functions within the loaded package, I'd rather just have it done within a script I source.</p>

<p>Is there anyway to accomplish this?</p>

<p>FYI, I have reached out to the package's creator and loading a re-compiled version of the package with my modified code is out of the question.</p>
","489426","","23897","","2013-06-22 00:38:47","2013-06-22 00:38:47","Embed fix() function within .R script?","<r>","3","1","2","","","CC BY-SA 3.0","4038280","4452","4452","r","404559","3625322","3607736","",""
"4041806","1","4041905","","2010-10-28 10:11:31","","7","10550","<p>Assume I have a function that reads data from a MySQL table, manipulates it and returns some data.frame. Note the function is just an example whose functionality does not matter itself..., E.g.: </p>

<pre><code>addRowSd &lt;- function(table,con,pattern=""^Variable"") {

dframe &lt;- dbReadTable(con,table)
cn &lt;- colnames(dframe)
qs &lt;- subset(x, x  %in% grep(pattern, x, value=TRUE))
dframe$qsd &lt;- sd(t(dframe[,c(qs)])) 

return(dframe)
}

mydf$sd &lt;- addRowSd(...)
</code></pre>

<p>I end up with a data.frame called mydf. Now Id like to do to this to a character vector of SQL table names AND name the returned dataframes correspondingly. If I just use</p>

<pre><code>x=lapply(MySQLtablenames,addRowSd,con)
</code></pre>

<p>Ill get some list called x. Of course I could unlist and rename everything the way Id like to, but my question is: </p>

<p>How can I make lapply (or another comparable function) return multple single dataframes or at least a list that contains some names derived from my character vector ""MySQLtablenames""?</p>
","366256","","168747","","2010-10-28 10:37:10","2010-10-28 12:17:41","How to return a data.frame with a given name from a function?","<r><lapply>","2","2","2","","","CC BY-SA 2.5","4041806","4452","4452","r","404559","3625322","3607736","",""
"4042413","1","4042521","","2010-10-28 11:27:40","","41","63628","<pre><code>x &lt;- seq(0.1,10,0.1)
y &lt;- if (x &lt; 5) 1 else 2
</code></pre>

<p>I would want the <code>if</code> to operate on every single case instead of operating on the whole vector.
What do I have to change?</p>
","25282","","202229","","2018-12-02 00:57:32","2018-12-02 00:57:32","Vectorized IF statement in R?","<r><if-statement><vectorization>","6","1","15","","","CC BY-SA 4.0","4042413","4452","4452","r","404559","3625322","3607736","",""
"4043148","1","4043295","","2010-10-28 13:01:09","","2","4860","<p>I manage to do the following: </p>

<pre><code>stuff &lt;- c(""banana_fruit"",""apple_fruit"",""coin"",""key"",""crap"")
fruits &lt;- stuff[stuff %in% grep(""fruit"",stuff,value=TRUE)]
</code></pre>

<p>but I can't get select the-not-so-healthy stuff with the usual thoughts and ideas like</p>

<pre><code>no_fruit &lt;- stuff[stuff  %not in% grep(""fruit"",stuff,value=TRUE)]
#or
no_fruit &lt;- stuff[-c(stuff  %in% grep(""fruit"",stuff,value=TRUE))]
</code></pre>

<p>don't work. The latter just ignores the ""-""</p>
","366256","","366256","","2010-10-28 13:29:46","2012-02-05 02:46:07","excluding FALSE elements from a character vector by using logical vector","<r>","3","3","2","","","CC BY-SA 2.5","4043148","4452","4452","r","404559","3625322","3607736","",""
"4043629","1","","","2010-10-28 14:02:46","","1","1593","<p>Any idea to run those kind of scripts from Oracle PL/SQL? Any solution would be appreciated. Thanks!</p>
","490175","","135870","","2010-10-28 18:31:24","2010-10-28 18:31:24","Is it possible to run a SAS or R script from PL/SQL?","<oracle><r><plsql><sas>","2","0","","","","CC BY-SA 2.5","4043629","4452","4452","r","404559","3625322","3607736","",""
"4044353","1","4051333","","2010-10-28 15:23:46","","0","807","<p>I have a set of data (CSV files) in the following 3 column format:</p>

<pre><code>A, B, C
3277,4733,54.1 
3278,4741,51.0 
3278,4750,28.4 
3278,4768,36.0 
3278,4776,50.1 
3278,4784,51.4 
3279,4792,82.6 
3279,4806,78.2 
3279,4814,36.4 
</code></pre>

<p>And I need to get a three-way contingency table like: (sorry, this doesn't look completely good)</p>

<pre><code>A /B     4733      4741      4750      4768      4776      4784      4792      4806      4814
3277   C 54.1                                                
3278                 51      28.4        36      50.1      51.4                  
3279                                                                 82.6      78.2      36.4
</code></pre>

<p>Similarly to an excel ""pivot table"", OpenOffice data pilot, or R ""table(x,y,z)"" </p>

<p>The problem is that my dataset is HUGE (more than 500,000 total rows, with about 400 different factors in A and B. (OOo, MSO and R limits prevent from achieving this)</p>

<p>I am sure a Python script could be used to create such a table. both A and B are numbers (but can be treated as strings). </p>

<p>Anyone has dealt with this? 
(pseudocode or code in C or Java is also welcomed ... but I prefer python as it is faster to implement :)</p>

<p><strong>Edit:</strong> 
Almost have it, thanks to John Machin. The following Python script <em>almost</em> provides what I am looking for, however, when writing the output file I can see that the values in the ""headers"" I am writing (taken from the first row) do not correspond to the other rows. </p>

<pre><code>from collections import defaultdict as dd
d = dd(lambda: dd(float))

input =  open(""input.txt"")
output = open(""output.txt"",""w"")
while 1:
    line = input.readline()
    if not line:
        break
    line = line.strip('\n').strip('\r')
    splitLine = line.split(',')
    if (len(splitLine) &lt;3):
        break
    d[splitLine[0]][splitLine[1]] = splitLine[2]

output.write(""\t"")
for k,v in d.items()[0][1].items():
    output.write(str(k)+""\t"")
output.write(""\n"")
for k,v in d.items():
    output.write(k+""\t"")
    for k2,v2 in v.items():
        output.write(str(v2)+""\t"")
    output.write(""\n"")
</code></pre>
","214476","","4370109","","2015-12-02 00:01:57","2015-12-02 00:01:57","Script to convert Huge Three column table into table","<python><r><algorithm><scripting><import-from-csv>","6","5","2","","","CC BY-SA 3.0","4044353","4452","4452","r","404559","3625322","3607736","",""
"4045445","1","4046958","","2010-10-28 17:18:46","","4","1683","<p>I have two functions that start pretty similarly. Hence I wonder if this is the right moment to dive into inheritance in R. </p>

<pre><code>firstfunc &lt;- function(table,pattern=""^Variable"") {

dframe &lt;- get(table)
cn &lt;- colnames(get(table))
qs &lt;- subset(cn, cn  %in% grep(pattern, cn, value=TRUE))

    .....

}

secondfunc &lt;- function(table,pattern=""^stat""){

dframe &lt;- get(table)
cn &lt;- colnames(get(table))
qs &lt;- subset(cn, cn  %in% grep(pattern, cn, value=TRUE))

    ....

}
</code></pre>

<p>There will be more than two functions and two patterns. My tables contains a lot of variables, which can be easily grouped by their names, which is why I use these pattern identification. It works well so far and c&amp;p these few lines is not that much of an effort. However, is it reasonable to write these lines into one function / method and let the others inherit?</p>

<p>Most help I read on OO in R  so far used examples that assigned attributes to data and then used generic functions. Unfortunately I did not understand yet if this can help my case too.</p>

<p>Thx for any suggestions, pointers to a good head first start into this!</p>
","366256","","271616","","2010-10-28 17:23:20","2010-10-29 09:33:28","Can (should) I inherit parts of a function in R?","<oop><r>","3","2","4","","","CC BY-SA 2.5","4045445","4452","4452","r","404559","3625322","3607736","",""
"4047119","1","","","2010-10-28 20:56:56","","5","13844","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/2622777/exception-handling-in-r"">Exception handling in R</a>  </p>
</blockquote>



<p>Does anyone have idea on how to catch an error or an exception in R?</p>
","302058","","-1","","2017-05-23 12:30:54","2014-07-17 05:45:26","How to catch an error/exception in R?","<r>","3","3","","2010-10-29 13:49:56","","CC BY-SA 3.0","4047119","4452","4452","r","404559","3625322","3607736","",""
"4047188","1","4047228","","2010-10-28 21:09:53","","29","35651","<p>Where can I find a list of all legal time names for R function <code>as.POSIXct</code>?</p>

<p><code>as.POSIXct(""1970-01-01"",tz=""CST"")</code> generates a warning that ""CST"" (Central Standard Time) is unknown.</p>
","490633","","395821","","2014-12-08 10:53:24","2020-11-09 22:20:53","unknown timezone name in R strptime/as.POSIXct","<r><timezone><strptime>","5","0","3","","","CC BY-SA 3.0","4047188","4452","4452","r","404559","3625322","3607736","",""
"4049026","1","","","2010-10-29 04:41:14","","1","506","<p>I would like to create a function within a package with a NAMESPACE that will <code>save</code> some variables.  The problem is that when <code>load</code> is called on the .Rdata file it 
tries to load the namespace of the package that contained the function that created the .Rdata file, but this package need not be loaded.</p>

<p>This example function is in a package in a namespace :</p>

<pre><code>create.global.function &lt;- function(x, FUN, ...) {
 environment(FUN) &lt;- .GlobalEnv
 assign("".GLOBAL.FUN"", function(x) { FUN(x, ...) }, env=.GlobalEnv)
 environment(.GLOBAL.FUN) &lt;- .GlobalEnv
 save(list = ls(envir = .GlobalEnv, all.names = TRUE),
      file = ""/tmp/.Rdata"",
      envir = .GlobalEnv)
}
</code></pre>

<p>The <code>environment(.GLOBAL.FUN) &lt;- .GlobalEnv</code> calls are not sufficient and attaching gdb to the R process confirms it is serializing a <code>NAMESPACESXP</code> here with the name of the package namespace and the <code>load</code> fails because it is unable to load this.</p>

<p>Is it possible to fully strip the namespace out of the <code>.GLOBAL.FUN</code> before I <code>save</code> it such that it can be loaded into other R instances without trying to load the namespace?</p>
","490884","","271616","","2010-10-29 06:35:04","2010-10-31 10:06:06","Creating and serializing / saving global variable from within a NAMESPACE in R","<r>","1","4","1","","","CC BY-SA 2.5","4049026","4452","4452","r","404559","3625322","3607736","",""
"4049674","1","4049974","","2010-10-29 07:00:16","","29","82180","<p>A way to draw the curve corresponding to a given function is this:</p>

<pre><code>fun1 &lt;- function(x) sin(cos(x)*exp(-x/2))
plot (fun1, -8, 5)
</code></pre>

<p>How can I add another function's curve (e.g. fun2, which is also defined by its mathematical formula) in the same plot?</p>
","299077","","","","","2013-10-07 18:42:07","Draw more than one function curves in the same plot","<r><plot>","4","1","14","2019-04-17 06:59:23","","CC BY-SA 2.5","4049674","4452","4452","r","404559","3625322","3607736","",""
"4050702","1","4051211","","2010-10-29 09:43:43","","0","2285","<p>Imagine I've got 100 numeric matrixes with 5 columns each.
I keep the names of that matrixes in a vector or list:</p>

<pre><code>Mat &lt;- c(""GON1EU"", ""GON2EU"", ""GON3EU"", ""NEW4"", ....)
</code></pre>

<p>I also have a vector of coefficients ""coef"",</p>

<pre><code>coef &lt;- c(1, 2, 2, 1, ...)
</code></pre>

<p>And I want to calculate a resulting vector in this way:</p>

<pre><code>coef[1]*GON1EU[,1]+coef[2]*GON2EU[,1]+coef[3]*GON3EU[,1]+coef[4]*NEW4[,1]+.....
</code></pre>

<p>How can I do it in a compact way, using the the vector of names?</p>

<p>Something like:</p>

<pre><code>coef*(Object(Mat)[,1])
</code></pre>

<p>I think the key is how to call an object from a string with his name and use and vectorial notation. But I don't know how.  </p>
","425895","","21234","","2010-10-29 10:01:47","2010-10-29 15:52:40","R: Call matrixes from a vector of string names?","<string><r><object><matrix><call>","2","0","","","","CC BY-SA 2.5","4050702","4452","4452","r","404559","3625322","3607736","",""
"4054003","1","4054130","","2010-10-29 16:41:18","","29","5562","<p>Consider the following situation where I have a list of n matrices (this is just dummy data in the example below) in the object <code>myList</code></p>

<pre><code>mat &lt;- matrix(1:12, ncol = 3)
myList &lt;- list(mat1 = mat, mat2 = mat, mat3 = mat, mat4 = mat)
</code></pre>

<p>I want to select a specific column from each of the matrices and do something with it. This will get me the first column of each matrix and return it as a matrix (<code>lapply()</code> would give me a list either is fine).</p>

<pre><code>sapply(myList, function(x) x[, 1])
</code></pre>

<p>What I can't seem able to do is use <code>[</code> directly as a function in my <code>sapply()</code> or <code>lapply()</code> incantations. <code>?'['</code> tells me that I need to supply argument <code>j</code> as the column identifier. So what am I doing wrong that this does't work?</p>

<pre><code>&gt; lapply(myList, `[`, j = 1)
$mat1
[1] 1

$mat2
[1] 1

$mat3
[1] 1

$mat4
[1] 1
</code></pre>

<p>Where I would expect this:</p>

<pre><code>$mat1
[1] 1 2 3 4

$mat2
[1] 1 2 3 4

$mat3
[1] 1 2 3 4

$mat4
[1] 1 2 3 4
</code></pre>

<p>I suspect I am getting the wrong <code>[</code> method but I can't work out why? Thoughts?</p>
","429846","","","","","2010-10-29 19:35:27","How do I use `[` correctly with (l|s)apply to select a specific column from a list of matrices?","<r>","3","0","15","","","CC BY-SA 2.5","4054003","4452","4452","r","404559","3625322","3607736","",""
"4054585","1","4054655","","2010-10-29 18:01:11","","28","1877","<p>Occasionally I see small ways I could improve either R (recently the IQR command) and R documentation (just this week perhaps elaborating differences among and better interconnecting aggregate, tapply, and by).  But I don't see a way to really make that contribution back.  I looked into the developer site and it seems that my options are either to attempt to become a full fledged developer or create packages, neither of which fit what I wish to accomplish.</p>

<p>I did propose IQR changes on the R mailing list but got no response so I figure that's going nowhere.  </p>

<p>And to clarify, I'm talking about base-R.  Additional packages are another matter.</p>

<p>Any tips?</p>
","321622","","2370483","","2020-10-29 17:25:08","2021-05-21 15:55:39","How can I contribute to base R in small ways?","<r>","2","0","1","","","CC BY-SA 2.5","4054585","4452","4452","r","404559","3625322","3607736","",""
"4054981","1","","","2010-10-29 18:57:54","","-1","872","<p>I am installing rJava on a 64bit machine, running Windows XP, and am encountering the weirdest message. Below is the log. Has anyone seen this before? Thanks in advance.</p>

<pre><code> &gt; install.packages(""rJava"")
    --- Please select a CRAN mirror for use in this session ---
    trying URL 'http://www.stats.ox.ac.uk/pub/RWin/bin/windows/contrib/2.12/rJava_0.8-8.zip'
    Content type 'application/zip' length 636680 bytes (621 Kb)
    opened URL
    downloaded 621 Kb


The downloaded packages are in
        C:\Documents and Settings\wdeng\Local Settings\Temp\RtmpYb4lzb\downloaded_packages
&gt; library(""rJava"")
Error : .onLoad failed in loadNamespace() for 'rJava', details:
  call: inDL(x, as.logical(local), as.logical(now), ...)
  error: unable to load shared object 'C:/PROGRA~1/R/R-212~1.0/library/rJava/libs/x64/rJava.dll':
  LoadLibrary failure:  The specified module could not be found.


Error: package/namespace load failed for 'rJava' 
</code></pre>
","143813","","","","","2020-03-14 21:41:56","Problem with namespace installing rJava","<r><package>","2","0","4","","","CC BY-SA 2.5","4054981","4452","4452","r","404559","3625322","3607736","",""
"4055446","1","4055463","","2010-10-29 19:57:40","","2","286","<p>I have a R package in the directory ~/package; I also keep the output from my use of the package in the directory ~/package/out. When the content of ~/package/out gets very large, it takes minutes instead of seconds to build this package. Is there a way to have ""R CMD build package"" ignore the ~/package/out directory?</p>
","199217","","","","","2010-10-29 20:01:07","how to increase the speed of R CMD build when directory contains large unassociated files?","<r><build><performance><packages>","2","0","1","","","CC BY-SA 2.5","4055446","4452","4452","r","404559","3625322","3607736","",""
"4055614","1","4061424","","2010-10-29 20:25:41","","8","885","<p>I am developing a package in R</p>

<p>When I am debugging a particular function or set of functions, what is the best way to test the function? </p>

<p>Do I have to either use source('function.R') or R CMD build each time I want to check my changes?</p>

<p>(extra credit for associated emacs ess key-bindings) </p>
","199217","","","","","2016-12-16 23:32:19","When developing an R package, do I have to recompile the package every time I make a change?","<function><r><packages>","4","1","3","","","CC BY-SA 2.5","4055614","4452","4452","r","404559","3625322","3607736","",""
"4055762","1","4055801","","2010-10-29 20:43:45","","22","21534","<p>If I enter</p>

<pre><code>print(cat(""""))
</code></pre>

<p>I get </p>

<pre><code>NULL
</code></pre>

<p>I want to use <code>cat()</code> to print out the progress of an R script, but I don't understand why it is returning <code>NULL</code> at the end of all of my concatenated strings, and more importantly, how to get it to stop?</p>
","199217","","1169233","","2014-05-15 19:27:13","2018-04-05 20:45:44","in R, can I stop print(cat("""")) from returning NULL? and why does cat(""foo"") return foo>","<r><concatenation><paste><cat>","6","2","2","","","CC BY-SA 3.0","4055762","4452","4452","r","404559","3625322","3607736","",""
"4056330","1","4853547","","2010-10-29 22:24:16","","2","2183","<p>What is the most memory efficient and easiest (yes, I know those are sometimes mutually exclusive) way to create an R data frame then save it to an .Rdata file using Java? </p>

<p>Go easy on me though, I'm not a Java developer. </p>
","37751","","","","","2011-01-31 16:46:36","Creating R data frames and .rdata files from Java","<java><r><dataframe>","3","4","1","","","CC BY-SA 2.5","4056330","4452","4452","r","404559","3625322","3607736","",""
"4056919","1","4057873","","2010-10-30 01:59:23","","5","475","<p>Could you provide some insight into the techniques that you use to ensure the quality of your solutions. For example, sometimes, I like to test my result using <code>stopifnot()</code> to ensure I'm not receiving ridiculous results. Are there any other techniques or functions that you use in data processing to ensure that you're receiving the solution you meant to?</p>

<p>Note: I realize that this is a broad question and perhaps a candidate for community wiki or even closure, but rather than voting to close, perhaps assist me by adding comments to direct the conversation.  </p>
","170352","","176923","","2010-10-30 08:12:08","2010-10-30 19:41:06","R Quality Assurance Techniques","<r>","2","2","1","","","CC BY-SA 2.5","4056919","4452","4452","r","404559","3625322","3607736","",""
"4058145","1","4058389","","2010-10-30 09:57:23","","1","682","<p>I just came by the Ruby function</p>

<pre><code>ncbi.esearch_count
</code></pre>

<p>Used in a recent post <a href=""http://www.r-bloggers.com/findings-increasingly-novel-scientists-say%E2%80%A6/"" rel=""nofollow"">here (regarding the use of the word noval in publications)</a>, used to search in <a href=""http://www.ncbi.nlm.nih.gov/pubmed"" rel=""nofollow"">pubmed</a>.</p>

<p>And I wonder how can it be done using R (via maybe Rcurl, or other library(XML) functions)?</p>

<p>Thanks.</p>
","256662","","","","","2010-11-01 13:34:18","How to search through pubmed using R, as is possible with Ruby?","<ruby><r>","2","0","1","","","CC BY-SA 2.5","4058145","4452","4452","r","404559","3625322","3607736","",""
"4062081","1","4062527","","2010-10-31 06:27:36","","0","2214","<p>I'm using the R table() function, it only gives me 4222 rows, is there some kind of configuration to accept more rows?</p>
","402579","","","","","2010-10-31 09:25:14","What is R table function max size?","<r>","2","1","1","","","CC BY-SA 2.5","4062081","4452","4452","r","404559","3625322","3607736","",""
"4064464","1","4064798","","2010-10-31 18:27:04","","2","308","<p>I have a csv file with addresses that include ',', empty space, numbers. I have two other files with city and zip codes. I want to read the address file and extract the city name and zip codes.   As you will see below the addresses have no easy pattern and is randomly sprinkled with ',' spaces etc.Here is an example.</p>

<p><strong>Address file</strong><br>
123 Riverside Drive Riverside CA 12034<br>
Santa clara CA 93453<br>
231 Monroe drive, OR<br>
43 Mystic cove, O'Fallon 63045</p>

<p><strong>City file</strong><br>
riverside<br>
O'fallon<br>
santa clara<br>
Morgantown    </p>

<p><strong>Zip code file</strong><br>
02343<br>
23454<br>
12034<br>
93453  </p>

<p>Expected output file (corresponding to the input address file) in two columns  </p>

<p>City  Zipcode<br>
Riverside  12034<br>
Santa clara  93453<br>
Missing  Missing<br>
O'Fallon  Missing  </p>

<p>Note that the matching shouldn't be case sensitive. I am more familiar with R but will be happy with any help in python too.<br>
Thank you in advance.</p>
","227290","","","","","2014-08-20 17:10:00","Extraction from a string in R or Python","<python><r>","3","4","1","","","CC BY-SA 2.5","4064464","4452","4452","r","404559","3625322","3607736","",""
"4066103","1","4067676","","2010-11-01 01:24:14","","0","10502","<p>Say I have two factors and I want to graph them on the same plot, both factors have the same levels.</p>

<pre><code>s1 &lt;- c(rep(""male"",20), rep(""female"", 30))
s2 &lt;- c(rep(""male"",10), rep(""female"", 40))
s1 &lt;- factor(s1, levels=c(""male"", ""female""))
s2 &lt;- factor(s2, levels=c(""male"", ""female""))
</code></pre>

<p>I would have thought that using the table function would have produced the correct result for graphing but it pops out.</p>

<pre><code>table(s1, s2)
        s2 
s1       male female   
male     10     10   
female    0     30
</code></pre>

<p>So really two questions, what is the table function doing to get this result and what other function can i use to create a graph with 2 series using functions with the same levels?</p>

<p>Also if it is a factor I'm using barplot2 in the gplots package to graph it.</p>
","435473","","4370109","","2017-05-03 19:23:55","2017-05-03 19:23:55","Plotting Two Factors on the same Graph","<r><factors>","4","2","2","","","CC BY-SA 3.0","4066103","4452","4452","r","404559","3625322","3607736","",""
"4066607","1","4066708","","2010-11-01 04:19:12","","24","57148","<p>I am trying to read a csv file with repeated row names but could not. The error message I am getting is <code>Error in read.table(file = file, header = header, sep = sep, quote = quote,  : duplicate 'row.names' are not allowed.</code></p>

<p>The code I am using is:</p>

<pre><code>S1N657 &lt;- read.csv(""S1N657.csv"",header=T,fill=T,col.names=c(""dam"",""anim"",""temp""))
</code></pre>

<p>An example of my data is given below:</p>

<pre><code>did &lt;- c(""1N657"",""1N657"",""1N657"",""1N657"",""1N657"",""1N657"",""1N657"",""1N657"",""1N657"",""1N657"")
aid &lt;- c(101,102,103,104,105,106,107,108,109,110)
temp &lt;- c(36,38,37,39,35,37,36,34,39,38)

data &lt;- cbind(did,aid,temp)
</code></pre>

<p>Any help will be appreciated.</p>
","438498","","15168","","2013-11-23 06:11:57","2019-07-17 20:20:31","reading a csv file with repeated row names in R","<r><row><names>","7","1","4","","","CC BY-SA 2.5","4066607","4452","4452","r","404559","3625322","3607736","",""
"4067761","1","4067926","","2010-11-01 09:30:07","","23","112430","<p>I've the following data from a data frame</p>

<pre><code>Name,JoiningDate,AmtPaid
Joe,12/31/09,1000
Amy,10/28/09,100
John,05/06/10,200
</code></pre>

<p>The Joining Date is coming in as a factor (when I <code>sapply</code>). How can I convert this to date and then sort on <code>JoiningDate</code>?</p>
","402579","","563329","","2011-09-06 05:44:50","2020-09-11 16:32:35","format a Date column in a Data Frame","<r>","3","0","7","","","CC BY-SA 3.0","4067761","4452","4452","r","404559","3625322","3607736","",""
"4070314","1","","","2010-11-01 15:28:20","","8","8088","<p>I've been trying to install the library using brute force - trying different combinations of the things people have posted in mailing lists (I'm too lazy to list them out one by one, but I think I tried the most of them. I can list that too if it helps anyone.). The results have varied from a harmless message of a missing dll to RGui not being able to start before I remove the library manually. Nevertheless, I haven't succeeded...</p>

<p>Do you know how to install it properly, so that it works? I'm running 64bit Windows 7 and I'm not keen of compiling packages from source. Thanks!</p>
","442446","","","","","2019-08-22 14:12:50","R: RGraphviz installation","<r><installation><graphviz>","7","3","3","","","CC BY-SA 2.5","4070314","4452","4452","r","404559","3625322","3607736","",""
"4070483","1","","","2010-11-01 15:49:21","","3","3687","<p>I have been using R's text mining package and its really a great tool. I have not found retrieval support or maybe there are functionalities I am missing.
How can a simple VSM model be implemented using the R's text mining package?</p>
","489069","","750510","","2016-05-12 16:40:35","2016-05-12 16:40:35","Text Retrieval using R","<r><information-retrieval><text-mining><vsm><tf-idf>","2","1","1","","","CC BY-SA 3.0","4070483","4452","4452","r","404559","3625322","3607736","",""
"4070698","1","","","2010-11-01 16:10:04","","0","506","<p>Im working with <a href=""http://cran.r-project.org/package=qcc"" rel=""nofollow"" title=""Quality Control Charts"">Quality Control Charts - qcc R package</a>. I need to now how to edit shwehart rules. This is, how can I change the default 8 rules? I see the functions rules, Shewhart.rules, but I can't understand it.</p>
","493784","","168747","","2010-11-02 08:32:19","2010-11-02 08:32:19","R QCCPackage shwehart Rules","<r>","1","0","","","","CC BY-SA 2.5","4070698","4452","4452","r","404559","3625322","3607736","",""
"4071586","1","4072218","","2010-11-01 17:48:53","","122","136392","<p>I am trying to print a multiline message in R. For example,</p>

<pre><code>print(""File not supplied.\nUsage: ./program F=filename"",quote=0)
</code></pre>

<p>I get the output</p>

<pre><code>File not supplied.\nUsage: ./program F=filename
</code></pre>

<p>instead of the desired</p>

<pre><code>File not supplied.
Usage: ./program F=filename
</code></pre>
","429850","","","","","2019-12-05 13:18:49","Printing newlines with print() in R","<r>","4","0","21","","","CC BY-SA 2.5","4071586","4452","4452","r","404559","3625322","3607736","",""
"4072388","1","4072412","","2010-11-01 19:28:26","","24","48504","<p>How do you create a list with a single value in R?
For example, I want a list of 50 zeros.<br>
What is the easiest way to define this?</p>
","493981","","","","","2018-05-21 22:44:57","How do you create a list with a single value in R?","<r>","2","0","","","","CC BY-SA 2.5","4072388","4452","4452","r","404559","3625322","3607736","",""
"4072945","1","4073759","","2010-11-01 20:53:48","","6","3691","<p>I'd like to arrange a 3x3 grid layout over 3 pages of a PDF file. I'd like to plot in arbitrary grid locations across the three pages. I know how to arrange multiple subplots using some option like <code>layout=c(3,3)</code>. I can figure out how to arrange a 3x3 layout on a single plot using the grid package, and then decide to choose which plot to use. However, I can't figure out how to lay out a 3x3 grid over 3 pages, and then choose which grid to plot in. </p>

<p>I was hoping <code>grid.newpage()</code> would solve my problem, as in the following:</p>

<pre><code>library(grid)
pdf(file=""griddtest.pdf"",paper=""letter"")
vp1 &lt;- viewport(x = 0, y = 0.5, w = 0.5, h = 0.5, just = c(""left"", ""bottom""), 
    name = ""vp1"")
vp2 &lt;- viewport(x = 0, y = 0.5, w = 0.5, h = 0.5, just = c(""left"", ""bottom""), 
    name = ""vp2"")
pushViewport(vp1)
grid.text(""Some drawing in graphics region 1 on page 1"",y = 0.8)
grid.newpage()
pushViewport(vp2)
grid.text(""Some drawing in graphics region 2 on page 2"",y = 0.8)
dev.off()
</code></pre>

<p>but this just generates the second page (I'm guessing 'newpage' overwrites the oldpage, rather than making a new page). </p>

<p>Any help would be greatly appreciated!</p>
","270572","","134830","","2015-01-14 18:29:40","2015-01-14 18:29:40","R: plot in a grid layout over multiple pages","<r><r-grid>","1","7","","","","CC BY-SA 2.5","4072945","4452","4452","r","404559","3625322","3607736","",""
"4073223","1","4073382","","2010-11-01 21:30:38","","14","71242","<p>How do you use hist() to plot relative frequencies in R?</p>

<p>If I do the following, I will get a density plot, but I want a relative frequency plot:</p>

<pre><code>a &lt;- c(0,0,0,1,1,2)
hist(a, freq=FALSE)
</code></pre>

<p>I want to see a histogram with the following relative frequencies:</p>

<p>.5 for 0 to 1, </p>

<p>.33 for 1 to 2, </p>

<p>and .166 for 2 to 3.</p>
","493981","","","","","2013-10-10 18:21:55","How do you use hist to plot relative frequencies in R?","<r><histogram>","5","3","4","","","CC BY-SA 2.5","4073223","4452","4452","r","404559","3625322","3607736","",""
"4074179","1","4074397","","2010-11-02 00:34:31","","2","6348","<p>I apologize because I am quite certain this is a basic question.  All I want to do is create a very simple choropleth map in R using the maps package.  This is my first attempt at mapping any data in R.</p>

<p>My geography is the lower 48 states including DC.  Here are the first few rows of the dataset I want to plot.</p>

<pre><code>&gt; head(choro, n=7)
    AL     AR     AZ     CA     CO     CT     DC 
 ""red""  ""red""  ""red"" ""blue"" ""blue"" ""blue""  ""red"" 
</code></pre>

<p>When I attempt to plot a basic map:</p>

<pre><code>map(""state"",
        regions = names(choro),
        lty = 1, lwd =1,
        boundary=TRUE,
        fill=TRUE,
        col=choro)
</code></pre>

<p>The <a href=""http://i.stack.imgur.com/IRDVP.jpg"" rel=""nofollow"">attached image</a> is what I see.  I am new to R, but I imagine the states that are not filled in did not merge correctly, although, I believe I am using 'standard' state abbreviations.  </p>

<p>What am I doing wrong!/need to fix?</p>

<p>Any help will be very much appreciated.</p>
","155406","","","","","2015-03-08 19:52:43","Basic Choropleth State Map in R","<r><gis>","2","1","1","","","CC BY-SA 2.5","4074179","4452","4452","r","404559","3625322","3607736","",""
"4075983","1","","","2010-11-02 08:27:42","","9","10433","<p>Solving an equation symbolically can be achieved in R using the Ryacas library.
For example</p>

<pre><code>library(Ryacas)
yacas(""Solve(x/(1+x) == a, x)"")
</code></pre>

<p>gives</p>

<pre><code>expression(list(x == a/(1 - a)))
</code></pre>

<p>Does anybody know how to (symbolically) solve a system of equations?</p>

<p>Thank you.</p>
","299077","","","","","2016-04-03 05:50:44","Solving systems of equations in R","<r><symbolic-math>","2","0","5","","","CC BY-SA 2.5","4075983","4452","4452","r","404559","3625322","3607736","",""
"4076454","1","","","2010-11-02 09:43:49","","0","937","<p>Good morning everybody,
I'm really struggling during the installation of rpy version 2.1.7 on a windows XP machine.
I put the correct path in the environmental variable (C:\R\R-2.10.0\bin called R_HOME). 
The installation process appear to accept the entry and it does not give the message ""no R Command in the PATH"" and it starts the installation.</p>

<p>However, after a little while it gives me the folowing error:</p>

<blockquote>
  <p>File ""C:\python26\lib\site-packages\setuptools\package-index.py"", line 475, in 
  fetch_distribution
  return dist.clone(location=self.download(dist.location, tmpdir))
  AttributeError: 'NoneType' object has no attribute 'clone'</p>
</blockquote>

<p>Is there someone that can please explain to me what does this mean?
Many thanks,
Fabio</p>
","494558","","","user4275591","2014-12-08 11:26:09","2014-12-08 11:26:09","RPy2 - 2.1.7 Installation problems on WIN XP","<windows><r><installation><rpy2>","1","2","1","","","CC BY-SA 3.0","4076454","4452","4452","r","404559","3625322","3607736","",""
"4077069","1","4087284","","2010-11-02 11:13:18","","3","1896","<p>One way of parallelization in R is through the <a href=""http://cran.r-project.org/web/packages/snowfall/index.html"" rel=""nofollow noreferrer"">snowfall</a> package. To send custom functions to workers you can use <code>sfExport()</code> (see Joris' post <a href=""https://stackoverflow.com/questions/3856245/scoping-problem-when-sfapply-is-used-within-function-package-snowfall-r"">here</a>).</p>

<p>I have a custom function that depends on functions from non-base packages that are not loaded automagically. Thus, when I run my function in parallel, R craps out because certain functions are not available (think of the packages spatstat, splancs, sp...). So far I've solved this by calling library() in my custom function. This loads the packages on the first run and possibly just ignores on subsequent iterations. Still, I was wondering if there's another way of telling each worker to load the package on first iteration and be done with it (Or am I missing something and each iteration starts as a tabula rasa?). </p>
","322912","","4341440","","2018-12-21 00:12:50","2018-12-21 00:12:50","is there another way of loading extra packages in workers (parallel computing)?","<r><parallel-processing><package>","2","0","","","","CC BY-SA 4.0","4077069","4452","4452","r","404559","3625322","3607736","",""
"4078502","1","4078654","","2010-11-02 14:11:07","","9","41814","<p>I need to convert date (m/d/y format) into 3 separate columns on which I hope to run an algorithm.(I'm trying to convert my dates into Julian Day Numbers). Saw this suggestion for another user for separating data out into multiple columns using Oracle. I'm using R and am throughly stuck about how to code this appropriately. Would A1,A2...represent my new column headings, and what would the format difference be with the ""update  set"" section?</p>

<pre><code> update &lt;tablename&gt; set A1 = substr(ORIG, 1, 4), 
                       A2 = substr(ORIG, 5, 6), 
                       A3 = substr(ORIG, 11, 6), 
                       A4 = substr(ORIG, 17, 5); 
</code></pre>

<p>I'm trying hard to improve my skills in R but cannot figure this one...any help is much appreciated. Thanks in advance... :)</p>
","464104","","","","","2019-05-21 18:38:05","Split date data (m/d/y) into 3 separate columns","<r><date>","5","0","4","","","CC BY-SA 2.5","4078502","4452","4452","r","404559","3625322","3607736","",""
"4078825","1","4079034","","2010-11-02 14:48:31","","6","796","<p>Guys, this drives me crazy.   </p>

<p>This works as expected:</p>

<pre><code>eobj &lt;- substitute(obj &lt;- list(a, b), list(a = 32, b = 33))
eval(eobj)
obj
[[1]]
[1] 32

[[2]]
[1] 33
</code></pre>

<p>Now, try this:</p>

<pre><code>efun &lt;- substitute(fun &lt;- function() a+ b, list(a = 32, b = 33))
str(efun)
# language fun &lt;- function() 32 + 33  
eval(efun)
fun
# function() a+ b
</code></pre>

<p>What is going on here? How on earth <code>eval</code> gets it hands on the original form of the expression?</p>
","453735","","","","","2010-11-02 15:10:38","Bewildering behavior of `substitute` in R","<function><r><eval><substitution><quote>","1","0","2","","","CC BY-SA 2.5","4078825","4452","4452","r","404559","3625322","3607736","",""
"4079074","1","4079178","","2010-11-02 15:15:25","","7","1298","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/2769510/numeric-comparison-difficulty-in-r"">Numeric comparison difficulty in R</a>  </p>
</blockquote>



<p>Hello All,</p>

<p>According to <a href=""http://www.burns-stat.com/pages/Tutor/R_inferno.pdf"" rel=""nofollow noreferrer"">""R Inferno""</a> paper. I'm right now in the first circle of R hell. This is where pagans expect 0.1 == 0.3/3. Paper recommends using <code>all.equal</code> function for such cases, however I need to check "">="" or ""&lt;="" conditions. With current example on of them fail:</p>

<pre><code>&gt; .1 &gt;= .3/3
[1] TRUE
&gt; .1 &lt;= .3/3
[1] FALSE
</code></pre>

<p>Is there a similar function to all.equal that checks inequalities?</p>

<p>Thank you,</p>

<p>Ilya</p>
","379269","","-1","","2017-05-23 12:09:12","2010-11-02 15:30:08","First circle of R hell. 0.1 != 0.3/3","<r><inequalities>","4","4","","2010-11-02 18:22:18","","CC BY-SA 2.5","4079074","4452","4452","r","404559","3625322","3607736","",""
"4080657","1","4081285","","2010-11-02 18:01:27","","4","767","<p>I am using R, MySQL, Sweave and LaTeX to generate reports that query a database. My problem is that as the R code is embedded in a .Rnw file, where I do not seem to have control on multiline formating.</p>

<p>I embed the following R code:</p>

<pre><code>library(RMySQL)

con &lt;- dbConnect(MySQL(), 
user='test_user', 
dbname='sakila', 
host='localhost', 
password='password')

data &lt;- dbReadTable(con, 'film_list')

query &lt;-('
SELECT category, count(FID) AS Number 
FROM film_list 
GROUP by category')

Cat &lt;- dbGetQuery(con, query)

Cat
</code></pre>

<p>I then get the following output in the PDF generated by Sweave:</p>

<pre><code>&gt; library(RMySQL)
&gt; con &lt;- dbConnect(MySQL(), user = ""test_user"", dbname = ""sakila"",
+ host = ""localhost"", password = ""password"")
&gt; data &lt;- dbReadTable(con, ""film_list"")
&gt; query &lt;- (""\nSELECT category, count(FID) AS Number \nFROM film_list \nGROUP by category"")
&gt; Cat &lt;- dbGetQuery(con, query)
&gt; Cat
</code></pre>

<p>With the result that the SELECT query runs off the page.</p>

<p>Is there a way to have the LaTeX output present the SQL query as it was written?</p>
","390388","","600500","","2011-08-13 15:18:24","2011-08-13 15:18:24","How can I format R source code with SQL queries in Sweave, without removing my line breaks?","<mysql><r><latex><sweave>","2","1","2","","","CC BY-SA 3.0","4080657","4452","4452","r","404559","3625322","3607736","",""
"4081973","1","4082055","","2010-11-02 20:49:32","","3","2974","<p>I have a relatively large csv files (1.2gb... large to the 2gb RAM on one of my computers). To every entry in one column I would like to append ""1C"" so that I can  join/merge with another dataframe/db table.</p>

<p>If the file weren't so large, it would be easy to use <code>read.csv</code> to import to <code>data</code> then use <code>data$symbol &lt;- paste(data$symbol, ""1C"", sep="""")</code>. But now I get the <code>can't allocate vector of size x</code> warning.</p>

<p>Is a manual solution, like <code>scan()</code>, my only option? (I'm a bit afraid of corrupting my data) Thanks!</p>
","334755","","","","","2015-11-13 22:56:33","Append suffix to column of entries in csv file (or in SQLite database)","<r><csv>","4","0","2","","","CC BY-SA 2.5","4081973","4452","4452","r","404559","3625322","3607736","",""
"4084028","1","10179073","","2010-11-03 03:35:52","","40","30615","<p>I used RMySQL for import database, sometimes when I try to close the connection, I receive the following error:</p>

<pre><code>Error in mysqlCloseConnection(conn, ...) : 
  connection has pending rows (close open results set first)
</code></pre>

<p>I have no other ways of correcting this other than restarting the computer, anything I can do so solve this? Thanks!</p>
","373908","","","","","2018-10-16 13:37:08","how to close resultset in RMySQL?","<mysql><r>","6","0","14","","","CC BY-SA 2.5","4084028","4452","4452","r","404559","3625322","3607736","",""
"4087998","1","4088040","","2010-11-03 14:21:36","","5","1343","<p>I have a data frame with 900,000 rows and 11 columns in R. The column names and types are as follows:</p>

<pre><code>column name: date / mcode / mname / ycode / yname / yissue  / bsent   / breturn / tsent   / treturn / csales
type:        Date / Char  / Char  / Char  / Char  / Numeric / Numeric / Numeric / Numeric / Numeric / Numeric
</code></pre>

<p>I want to sort the data by those variables in the following order:</p>

<ol>
<li>date</li>
<li>mcode</li>
<li>ycode</li>
<li>yissue</li>
</ol>

<p>The order of levels are important here, i.e. they should be sorted by date first, and if there are identical dates, they should be sorted by mcode, so and so forth. How can I do that in R?</p>
","192377","","4370109","","2015-12-03 21:04:50","2015-12-03 21:04:50","Sorting data in R","<r><sorting><dataframe>","4","2","4","","","CC BY-SA 2.5","4087998","4452","4452","r","404559","3625322","3607736","",""
"4090169","1","4090208","","2010-11-03 18:08:54","","383","170625","<p>I seem to be sharing a lot of code with coauthors these days. Many of them are novice/intermediate R users and don't realize that they have to install packages they don't already have.</p>

<p>Is there an elegant way to call <code>installed.packages()</code>, compare that to the ones I am loading and install if missing?</p>
","313163","","2204410","","2017-03-07 10:57:36","2020-07-09 07:01:29","Elegant way to check for missing packages and install them?","<r><packages><r-faq>","29","5","150","","","CC BY-SA 3.0","4090169","4452","4452","r","404559","3625322","3607736","",""
"4090931","1","4091163","","2010-11-03 19:35:00","","5","1807","<p>I never dealt with R, so I was wondering if anyone can recommend (either from personal experience or some reviews/comparisons) which of the several Perl/R integration modules are considered ""best practices""? Ideally something which could somehow qualify for production readiness. </p>

<p>Google shows several different modules but I am not quite sure how to evaluate the options, having zero previous R or statistics experience (the question came from a co-worker who was interested in using R)</p>
","119280","","","","","2014-12-24 01:56:42","What is a recommended R interface for Perl integration?","<perl><r>","6","0","3","","","CC BY-SA 2.5","4090931","4452","4452","r","404559","3625322","3607736","",""
"4091503","1","","","2010-11-03 20:44:00","","1","193","<p>I know that Revolution Analytics recently released the Revolutions 4 IDE for Red Hat Linux, but I was wondering if anyone has tried to run this IDE on either Fedora or even Ubuntu?  I know that Fedora and Red Hat share a similar kernal while Ubuntu used the debian kernel.  If anyone has tried this and got it to work, any instructions or tips on making it work would be appreciated.
Yours,
Krishna</p>
","496461","","","","","2010-11-03 21:53:11","Has anyone tried to run Revolutions Enterprise 4 on Fedora or Ubuntu?","<r><ubuntu><fedora>","1","3","","","","CC BY-SA 2.5","4091503","4452","4452","r","404559","3625322","3607736","",""
"4092425","1","","","2010-11-03 23:01:30","","26","821","<p>I work in a computational biology lab, where we have several folks working on multiple projects, mostly in R (which is what I care about for this post).  In the past, people would simply develop their code for each project, which may or may not involve boilerplate code copied over from previous projects.  One thing that I've pushed over the years was to bring some centralized structure to this mess and have people identify common patterns such that we can turn these repeated/common blocks of code into packages for all of the many reasons one might think that is a good thing to do.  So now our folks are using a mix of centralized packages/routines within their project specific scripts.  </p>

<p>There's one gotcha here.  We have a mandate from the powers that be that every script for every project need to be 100% reproducible over time to the best of our ability (and this includes 100% of all code we have direct access to, including our packages).  That is, if I call function foo in package bar with parameter A to get result X today, 4 years from now I should get the exact same result. (erroneous output due to bugs is excepted here)</p>

<p>The topic of reproducibility has come up now and then in R within various circles, but typically it seems to be discussed in terms of reproducibility of process (e.g. vignettes).  This is not the same thing - I can run a vignette today and then run the same code 6 months from now using updated packages and receive wildly different results.</p>

<p>The solution that's been agreed upon (which I'm not a fan of) is that if a function or package needs to be changed in a non-backwards compatible change that it simply gets a new name.  Thus, if we needed to radically change function foo(), it'd be called foo2(), and if that needs a radical change it gets called foo3().  This ensures that any script that called foo() will always get the original result, while allowing things to march forward within the package repository.  It works, but I really dislike this - it seems aesthetically extremely cluttered, and I worry that it will lead to mass confusion over time having packages bar, bar2, bar3, bar4 ... functions foo1, foo2, foo3, etc.  </p>

<p>The problem is that I haven't come up with an alternate solution that's really better.  One possibility would be to note version numbers of packages, R, etc and make sure those are loaded, but that has multiple problems - not the least of which is that it relies on proper package versioning discipline and that's prone to error.  Also, this alternative was already rejected ;)  Ideally what we'd have is some sort of notion of devel &amp; release as most of these changes tend to happen earlier on and then level off with changes happening much less frequently.  OTOH what devel really means here is ""not actually in a package yet"" (which we do), but it can be hard to determine exactly at what point is the right one to transport stuff over.  Invariably the moment you think you're safe, that's when you realize you're not.</p>

<p>So with all this in mind, I'm curious if anyone else out there has dealt with similar situations, and how they might have resolved things.</p>

<p>edit:  just to be clear, by non-backwards compatible, I'm not just talking about APIs and such, but also outputs for a given set of inputs.  </p>
","144642","","144642","","2010-11-03 23:08:26","2017-02-02 23:07:01","Ensuring reproducibility in an R environment","<r>","9","10","9","","","CC BY-SA 2.5","4092425","4452","4452","r","404559","3625322","3607736","",""
"4094094","1","4104295","","2010-11-04 05:21:27","","65","64529","<p>I am looking for a way to modify font types in ggplot. At the moment I would be happy enough to simply change fonts to the 'courier' font family, but ultimately my goal is to call a custom font template--any input on this latter point would be very much appreciated. </p>

<p>I've done a bit of homework, looking at the following posts and articles: </p>

<ul>
<li><a href=""http://groups.google.com/group/ggplot2/browse_thread/thread/ba6272e20f626ecb?pli=1"" rel=""noreferrer"">ggplot2: How to change font of labels in geom_text</a></li>
<li><a href=""http://CRAN.R-project.org/doc/Rnews/Rnews_2006-2.pdf"" rel=""noreferrer"">R News Volume 6/2</a>, 
Non-Standard Fonts in PostScript and PDF
Graphic, Murrell and Ripley.</li>
<li><a href=""http://groups.google.com/group/ggplot2/tree/browse_frm/month/2009-01/f319138fbc4d6b12?rnum=41&amp;_done=%2Fgroup%2Fggplot2%2Fbrowse_frm%2Fmonth%2F2009-01%3F"" rel=""noreferrer"">ComputerModern font in ggplot2 graphics?</a></li>
</ul>

<p>It may be because I am still a hopeless amateur with ggplot2, but I haven't even been able to switch chart fonts to courier. Any help? I've included the data for the chart in question, below, along with the code, so hopefully this is all easy enough to follow.</p>
","375267","","3885376","","2017-08-24 07:17:38","2017-09-12 00:47:02","Modifying fonts in ggplot2","<r><ggplot2>","7","1","34","","","CC BY-SA 3.0","4094094","4452","4452","r","404559","3625322","3607736","",""
"4095664","1","4347990","","2010-11-04 10:21:38","","6","2787","<p>I am looking for ways to send works for multiple computers on my University computer grid.</p>

<p>Currently it is running Condor and also offers Hadoop.</p>

<p>My question is thus, should I try and interface with R to Hadoop or to the Conder for my projects?</p>

<p>For the discussion, let's assume we are talking about Embarrassingly parallel tasks.</p>

<p>p.s: I've seen the resources described in the <a href=""http://cran.r-project.org/web/views/HighPerformanceComputing.html"" rel=""noreferrer"">CRAN task views</a>.</p>
","256662","","256662","","2010-11-04 12:06:06","2010-12-03 17:07:06","Should I prefer hadoop vs condor when working with R?","<r><hadoop><condor>","1","4","3","","","CC BY-SA 2.5","4095664","4452","4452","r","404559","3625322","3607736","",""
"4096805","1","","","2010-11-04 12:50:47","","1","252","<p>I wonder how I can pass arguments of some function to a subpart of the function that uses with / within. e.g.: </p>

<pre><code>  myfunction &lt;- function(dataframe,col1,col2){

  res &lt;- within(dataframe, somenewcol &lt;-paste(col1,""-"",""col2"",sep=""""))

  return(res)


  }
</code></pre>

<p>where col1 and col2 are columns contained in the dataframe. Whats the correct way to pass the arguments col1 and col2 to the within expression? When I just try to use it, i get : </p>

<p>Error in paste(col1, ""-"", ,  : 
    object 'Some_passed_col' not found</p>

<p>Heres an example:</p>

<pre><code>   dataset &lt;- data.frame(rnorm(20),2001:2020,rep(1:10,2))
   names(dataset) &lt;- c(""mydata"",""col1"",""col2"")

   myfunction &lt;- function(dataframe,arg1,arg2){
   res &lt;- with(dataframe, onesinglecol &lt;- paste(arg1,""-"",""arg2"",sep=""""))
   return(res)



   }
# call function
myfunction(dataset,col1,col2)
</code></pre>

<p>EDIT: </p>

<pre><code>the following works for me now, but I cannot completely understand why... so any further explanation is appreciated:

 myfunction(dataset,arg1=""col1"",arg2=""col2"")
</code></pre>

<p>if I adjust      </p>

<pre><code>res &lt;- with(dataframe, onesinglecol &lt;- paste(get(arg1),""-"",get(arg2),sep=""""))
</code></pre>
","366256","","2370483","","2018-10-10 14:07:50","2018-10-10 14:07:50","How to pass function arguments to within?","<r>","3","4","","","","CC BY-SA 4.0","4096805","4452","4452","r","404559","3625322","3607736","",""
"4096996","1","4097343","","2010-11-04 13:11:45","","0","450","<p>I am using the RLastFM package, and have some question about the function:</p>

<pre><code>&gt; tag.getTopArtists
function (tag, key = lastkey, parse = TRUE) 
{
    params = list(method = ""tag.gettopartists"", tag = tag, api_key = lastkey)
    ret = getForm(baseurl, .params = params)
    doc = xmlParse(ret, asText = TRUE)
    if (parse) 
        doc = p.tag.gettopartists(doc)
    return(doc)
}
</code></pre>

<p>the author included lastkey as the api_key, but I can't find it by using ls(), where is it?</p>

<p>Thanks.</p>
","373908","","","","","2010-11-04 13:59:30","hidden variable in R","<api><r>","1","3","","","","CC BY-SA 2.5","4096996","4452","4452","r","404559","3625322","3607736","",""
"4097831","1","4098817","","2010-11-04 14:46:31","","2","6590","<p>I need to find the quadratic equation term of a graph I have plotted in R.
When I do this in excel, the term appears in a text box on the chart but I'm unsure how to move this to a cell for subsequent use (to apply to values requiring calibrating) or indeed how to ask for it in R. If it is summonable in R, is it saveable as an object to do future calculations with?</p>

<p>This seems like it should be a straightforward request in R, but I can't find any similar questions. Many thanks in advance for any help anyone can provide on this.</p>
","464104","","39106","","2010-11-04 14:53:19","2010-11-04 16:53:38","Get quadratic equation term of a graph in R","<excel><r><formula><quadratic>","4","0","2","","","CC BY-SA 2.5","4097831","4452","4452","r","404559","3625322","3607736","",""
"4099322","1","4099557","","2010-11-04 17:17:34","","1","3092","<p>I'm reading a sparse table from a file which looks like:</p>

<pre><code>1 0 7 0 0 1 0 0 0 5 0 0 0 0 2 0 0 0 0 1 0 0 0 1
1 0 0 1 0 0 0 3 0 0 0 0 1 0 0 0 1
0 0 0 1 0 0 0 2 0 0 0 0 1 0 0 0 1 0 1 0 0 1
1 0 0 1  0 3 0 0 0 0 1 0 0 0 1
0 0 0 1 0 0 0 2 0 0 0 0 1 0 0 0 1 0 1 0 0 1 1 2 1 0 1 0 1
</code></pre>

<p>Note row lengths are different.</p>

<p>Each row represents a single simulation. The value in the i-th column in each row says how many times value i-1 was observed in this simulation. For example, in the first simulation (first row), we got a single result with value '0' (first column), 7 results with value '2' (third column) etc.</p>

<p>I wish to create an average cumulative distribution function (CDF) for all the simulation results, so I could later use it to calculate an empirical p-value for true results.</p>

<p>To do this I can first sum up each column, but I need to take zeros for the undef columns.</p>

<p>How do I read such a table with different row lengths? How do I sum up columns replacing 'undef' values with 0'? And finally, how do I create the CDF? (I can do this manually but I guess there is some package which can do that).</p>
","377031","","429846","","2016-07-08 04:37:28","2016-07-08 04:37:28","How can I calculate an empirical CDF in R?","<r><matrix><cumulative-sum>","2","0","","","","CC BY-SA 3.0","4099322","4452","4452","r","404559","3625322","3607736","",""
"4099963","1","4573384","","2010-11-04 18:30:48","","7","535","<p>I used 'package.skeleton()' to generate .Rd help files a few months ago. I have edited these files, and I have also changed the functions, removed some functions, added others. Is there a function that automates updating the Rd files?</p>

<p><em>update</em> </p>

<p>A nice package was just released called <a href=""http://cran.r-project.org/web/packages/Rd2roxygen/index.html"" rel=""noreferrer"">Rd2roxygen</a>, it is described by the author Yihui Xie on his <a href=""http://yihui.name/en/2010/12/rd2roxygen-convert-rd-to-roxygen-documentation/"" rel=""noreferrer"">blog</a>.</p>

<p>As the name implies, this package allows one to retroactively insert documentation currently contained in .Rd into .R files. Sounds like a promising approach for both learning roxygen and for converting packages currently in development to R packages. Woo hoo. Thanks Yihui!</p>

<p><em>Based on answers by Joshua and Yihui, the answer appears to be:</em> roxygen allows automatic updating of Rd files etc based on changes in the source .R code, and if I am not using roxygen currently, Rd2roxygen can help me migrate.</p>
","199217","","199217","","2011-01-04 19:04:16","2013-01-29 16:25:49","Is there a way to automatically update the documentation in an R package?","<r><package><manual><roxygen>","3","0","","","","CC BY-SA 2.5","4099963","4452","4452","r","404559","3625322","3607736","",""
"4100219","1","4100305","","2010-11-04 18:59:07","","3","241","<p>I have a very sparse Perl matrix  (array of arrays), where <code>undef</code> values are equivalent to zeros. It has 10-1000 rows and up to 100k columns. It looks like:</p>

<pre><code>$ARRAY1 = [
            [
              ( undef ) x 1069,
              1,
              ( undef ) x 47,
              1,
              ( undef ) x 11,
              2,
              ( undef ) x 50,
              1,
              ( undef ) x 23,
              1,
              ( undef ) x 6033,
              ...
            ],
            [
              ...
            ],
            ...
          ]
</code></pre>

<p>... as I said - very sparse.</p>

<p>I want to use this matrix in an R script (see <a href=""https://stackoverflow.com/questions/4099322"">previous post</a>). One way is to print the table to a file from Perl - one line per row, and print <code>0</code> anytime we run into <code>undef</code>.</p>

<p>But perhaps there is a better, more compact way to pass this sparse matrix?</p>
","377031","","-1","","2017-05-23 12:19:04","2010-11-04 19:10:31","How can I pass a sparse matix from Perl to R?","<perl><r><sparse-matrix>","2","0","2","","","CC BY-SA 2.5","4100219","4452","4452","r","404559","3625322","3607736","",""
"4100680","1","4100823","","2010-11-04 19:51:27","","1","498","<p>I have a column in a dataframe that contains an ordered factor. I summarize the number of entries in the column for each factor by melting the data, then casting it. So far, so good. But I need to include factors for which no rows exist, so that the summarized data shows all possible factors, not just the utilized ones.</p>

<p>The data frame:</p>

<pre><code>&gt; str(instats)
'data.frame':   75 obs. of  5 variables:
$ incident     : Factor w/ 75 levels ""INC000000503771"",..: 1 2 3 4 5 6 7 8 9 10 ...
$ submit.date  :Class 'Date'  num [1:75] 14907 14907 14907 14907 14907 ...
$ resolved.date:Class 'Date'  num [1:75] 14910 14907 14910 14907 14907 ...
$ closed.date  :Class 'Date'  num [1:75] 14913 14910 14913 14910 14910 ...
$ status       : Ord.factor w/ 6 levels ""Opened""&lt;""Resolved Pending Customer Action""&lt;..: 5 5 5 5 5 5 5 5 5 5 ...
&gt; 
</code></pre>

<p>what I've done so far:</p>

<pre><code>&gt; df.melt &lt;- melt(instats,id=c('status'),measure=c('incident'))
&gt; cast(df.melt, status ~ .,length)
</code></pre>

<p>and I get:</p>

<pre><code>                            status (all)
1 Resolved Pending Customer Action    11
2               Pending xxx Action     3
3               Pending yyy Action     7
4                           Closed    54
</code></pre>

<p>what I want is:</p>

<pre><code>                            status (all)
1                           Opened     0
2 Resolved Pending Customer Action    11
3               Pending xxx Action     3
4               Pending yyy Action     7
5                           Closed    54
6                         Canceled     0
</code></pre>

<p>I understand why the melting/casting gives me the results it does. But how else can I do this to get my desired results?</p>
","352398","","","","","2010-11-04 20:14:11","Summarize an ordered factor","<r>","1","0","","","","CC BY-SA 2.5","4100680","4452","4452","r","404559","3625322","3607736","",""
"4101023","1","4101618","","2010-11-04 20:26:11","","1","883","<p>I have a data frame with a response variable, Y, and three factors, 'factor.a', 'factor.b', and 'factor.c'</p>

<p>I am trying to write a function that will </p>

<ol>
<li><p>remove a columns from a data frame if all levels of the factor are the same</p></li>
<li><p>add the terms 'beta.factor.x[1..n]' to a vector of parameters when there is more than one level of a factor, up to 5 levels.</p></li>
<li><p>exclude the parameter beta.factor.b[1] from in the list (it is fixed)</p></li>
</ol>

<p>Here is my code. I think it looks nice and works well, but I have read that it is best to avoid nested for loops, so I am curious if there is a more efficient approach.</p>

<pre><code>data &lt;- data.frame(       y = c(1,2,3,4),
                   factor.a = c(1, 1, 2, 1),
                   factor.b = c(1, 2, 2, 3),
                   factor.c = c(0, 0, 0, 0))

model.parms &lt;- list(factor.a  = length(unique(data$factor.a)),
                    factor.b  = length(unique(data$factor.b)),
                    factor.c  = length(unique(data$factor.c)))
vars &lt;- 'beta.o'
for (x in c('factor.a','factor.c', 'factor.b')) {
  if(model.parms[[x]] == 1) {
    data &lt;- data[, -which(names(data) == x)]
  } else {
    m &lt;- min(model.parms[[x]], 5)
    for (i in 1:m) {
      if(!i == 1 &amp;&amp; x == 'factor.b') {
        vars &lt;- c(vars, paste('beta.', x, '[', i, ']', sep=''))
      }
    }
  }
}
</code></pre>
","199217","","199217","","2010-11-05 14:43:05","2010-11-06 10:49:55","can I avoid these nested for loops?","<r><performance><for-loop>","2","0","","","","CC BY-SA 2.5","4101023","4452","4452","r","404559","3625322","3607736","",""
"4102717","1","4102731","","2010-11-05 00:46:59","","21","26653","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/14260340/function-to-clear-the-console-in-r"">Function to Clear the Console in R</a>  </p>
</blockquote>



<p>In bash, its like this:</p>

<pre><code>$ clear
</code></pre>

<p>And I believe it's CTL-L in the Windows version of R. But how do you clear the R console in Unix-type R Consoles? Do you need to write a special function and what would that look like?</p>
","296155","","-1","","2017-05-23 12:01:29","2018-03-16 23:18:45","How do you clear the R console in OS X (or Ubuntu)","<r><console>","5","0","5","2013-02-04 05:43:02","","CC BY-SA 2.5","4102717","4452","4452","r","404559","3625322","3607736","",""
"4104359","1","4104381","","2010-11-05 08:22:32","","48","109314","<p>I have an integer which I want to convert to class <code>Date</code>. I assume I first need to convert it to a string, but how?</p>
<p>My attempt:</p>
<pre><code>v &lt;- 20081101
date &lt;- as.Date(v, format(&quot;%Y%m%d&quot;))
</code></pre>
<blockquote>
<p>Error in charToDate(x) :    character string is not in a standard
unambiguous format</p>
</blockquote>
<p>Using <code>paste()</code> works, but is that really the correct way to do the conversion?</p>
<pre><code>date &lt;- as.Date(paste(v), format(&quot;%Y%m%d&quot;))
date
[1] &quot;2008-11-01&quot;

class(date)
# [1] &quot;Date&quot;
</code></pre>
","95353","","1851712","","2020-07-12 11:19:37","2020-07-12 11:19:37","Convert integer to class Date","<r><date><r-faq>","3","0","5","","","CC BY-SA 4.0","4104359","4452","4452","r","404559","3625322","3607736","",""
"4104406","1","4104949","","2010-11-05 08:32:41","","8","12931","<p>I have a data frame with 900,000 rows and 11 columns in R. The column names and types are as follows:</p>

<pre><code>column name: date / mcode / mname / ycode / yname / yissue  / bsent   / breturn / tsent   / treturn / csales
type:        Date / Char  / Char  / Char  / Char  / Numeric / Numeric / Numeric / Numeric / Numeric / Numeric
</code></pre>

<p>I want to calculate the subtotals. For example, I want to calculate the sums at each change in yname, and add subtotal to all numerical variables. There are 160 distinct ynames, so the resulting table should tell me the subtotal of each yname. I haven't sorted the data yet, but this is not a problem because I can sort the data in whatever way I want. Below is a snippet from my data:</p>

<pre><code>             date     mcode mname            ycode    yname   yissue bsent breturn tsent treturn csales
417572 2010-07-28     45740 ENDPOINT A        5772    XMAG  20100800     7       0     7       0      0
417573 2010-07-31     45740 ENDPOINT A        5772    XMAG  20100800     0       0     0       0      1
417574 2010-08-04     45740 ENDPOINT A        5772    XMAG  20100800     0       0     0       0      1
417575 2010-08-14     45740 ENDPOINT A        5772    XMAG  20100800     0       0     0       0      1
417576 2010-08-26     45740 ENDPOINT A        5772    XMAG  20100800     0       4     0       0      0
417577 2010-07-28     45741 ENDPOINT L        5772    XMAG  20100800     2       0     2       0      0
417578 2010-08-04     45741 ENDPOINT L        5772    XMAG  20100800     2       0     2       0      0
417579 2010-08-26     45741 ENDPOINT L        5772    XMAG  20100800     0       4     0       0      0
417580 2010-07-28     46390 ENDPOINT R        5772    XMAG  20100800     3       0     3       0      1
417581 2010-07-29     46390 ENDPOINT R        5772    XMAG  20100800     0       0     0       0      2
417582 2010-08-01     46390 ENDPOINT R        5779    YMAG  20100800     3       0     3       0      0
417583 2010-08-11     46390 ENDPOINT R        5779    YMAG  20100800     0       0     0       0      1
417584 2010-08-20     46390 ENDPOINT R        5779    YMAG  20100800     0       0     0       0      1
417585 2010-08-24     46390 ENDPOINT R        5779    YMAG  20100800     2       0     2       0      1
417586 2010-08-26     46390 ENDPOINT R        5779    YMAG  20100800     0       2     0       2      0
417587 2010-07-28     46411 ENDPOINT D        5779    YMAG  20100800     6       0     6       0      0
417588 2010-08-08     46411 ENDPOINT D        5779    YMAG  20100800     0       0     0       0      1
417589 2010-08-11     46411 ENDPOINT D        5779    YMAG  20100800     0       0     0       0      1
417590 2010-08-26     46411 ENDPOINT D        5779    YMAG  20100800     0       4     0       4      0
</code></pre>

<p>What function should I use here? Maybe something like SQL <code>group by</code>?</p>
","192377","","192377","","2010-11-05 09:37:01","2019-12-03 02:13:39","Calculating subtotals in R","<r><subtotal>","7","3","3","","","CC BY-SA 2.5","4104406","4452","4452","r","404559","3625322","3607736","",""
"4105598","1","","","2010-11-05 11:53:38","","2","1623","<p>How can I have two output windows on R?
I'd like to be able to get some outputs on a different window.</p>

<p>For example, I'd like to keep all my instructions on the main window.
And get long outputs, such as big matrices, on a different one.</p>

<p>thanks</p>
","425895","","15541","","2010-11-05 12:05:33","2010-11-05 15:58:31","R: Two output windows?","<r><window>","5","2","","","","CC BY-SA 2.5","4105598","4452","4452","r","404559","3625322","3607736","",""
"4106174","1","4106304","","2010-11-05 13:20:26","","116","9503","<p>What's the best resource for learning how to write C code for use with R?  I know about the <a href=""http://cran.r-project.org/doc/manuals/R-exts.html#System-and-foreign-language-interfaces"">system and foreign language interfaces</a> section of R extensions, but I find it pretty hard going.  What are good resources (both online and offline) for writing C code for use with R?</p>

<p>To clarify, I don't want to learn how to write C code, I want to learn how to better integrate R and C.  For example, how do I convert from a C integer vector to a R integer vector (or vice versa) or from a C scalar to an R vector?</p>
","16632","","2204410","","2014-09-18 11:05:03","2015-05-13 11:33:15","Where can I learn how to write C code to speed up slow R functions?","<r><rcpp>","4","0","72","2016-10-27 02:15:49","","CC BY-SA 3.0","4106174","4452","4452","r","404559","3625322","3607736","",""
"4106614","1","","","2010-11-05 14:07:59","","24","10929","<p>In the following example, how do I set separate ylims for each of my facets?</p>

<pre><code>qplot(x, value,  data=df, geom=c(""smooth"")) + facet_grid(variable ~ ., scale=""free_y"")
</code></pre>

<p>In each of the facets, the y-axis takes a different range of values and I would like to different ylims for each of the facets.</p>

<p>The defaults ylims are too long for the trend that I want to see.</p>
","220120","","1000343","","2014-02-16 00:00:47","2021-02-11 16:51:07","How to control ylim for a faceted plot with different scales in ggplot2?","<r><visualization><ggplot2>","3","0","3","","","CC BY-SA 3.0","4106614","4452","4452","r","404559","3625322","3607736","",""
"4106764","1","4106976","","2010-11-05 14:24:08","","42","55817","<p>I have a file where each line is a set of results collected in specific replicate of an experiment. The number of results in each experiment (i.e. number of columns in each row) may differ. There's also no importance to the order of the results in each row (the first result in row 1 and the first result 2 are not more related than any other pair; these are <em>sets</em> of results).</p>

<p>The file looks something like this:</p>

<pre><code>2141 0 5328 5180 357 5335 1 5453 5325 5226 7 4880 5486 0 
2650 0 5280 4980 5243 5301 4244 5106 5228 5068 5448 3915 4971 5585 4818 4388 5497 4914 5364 4849 4820 4370
2069 2595 2478 4941 
2627 3319 5192 5106 32 4666 3999 5503 5085 4855 4135 4383 4770 
2005 2117 2803 2722 2281 2248 2580 2697 2897 4417 4094 4722 5138 5004 4551 5758 5468 17361 
1914 1977 2414 100 2711 2171 3041 5561 4870 4281 4691 4461 5298 3849 5166 5578 5520 4634 4836 4905 5105 5089
2539 2326 0 4617 3735 0 5122 5439 5238 1
25 5316 21173 4492 5038 5944 5576 5424 5139 5184 5 5096 4963 2771 2808 2592 2
4963 9428 17152 5467 5202 6038 5094 5221 5469 5079 3753 5080 5141 4097 5173 11338 4693 5273 5283 5110 4503 51
2024 2 2822 5097 5239 5296 4561 
</code></pre>

<p>except each line is much longer (up to a few thousand values). As can be seen, all values are non-negative integers.</p>

<p>To put it short - this is not a normal table, where the columns have meanings. Its just a bunch of results - each set in a line.</p>

<p>I would like to read all the results, then do some operations on each experiment (row), such as calculating the ecdf. I would also like to calculate the average ecdf over all the replicates.</p>

<p>My problem - how should I read this strange looking file? I'm so use to <code>read.table</code> that I'm not sure I ever tried anything else... Do I have to use some low-level like
<code>readlines</code>? I guess the preferred output would be a list (or vector?) of vectors. I looked at <code>scan</code> but it seems all vectors must be of the same length there.</p>

<p>Any suggestions will be appreciated.</p>

<p><strong>UPDATE</strong> Following the suggestions below, I now do something like this:</p>

<pre><code>con &lt;- file('myfile') 
open(con);
results.list &lt;- list();
current.line &lt;- 1
while (length(line &lt;- readLines(con, n = 1, warn = FALSE)) &gt; 0) {
 results.list[[current.line]] &lt;- as.integer(unlist(strsplit(line, split="" "")))
 current.line &lt;- current.line + 1
} 
close(con)
</code></pre>

<p>Seems to work. Does it looks OK?</p>

<p>When I <code>summary(results.list)</code> I get:Length Class  Mode   </p>

<pre><code>      Length Class  Mode  
 [1,] 1091   -none- numeric
 [2,] 1070   -none- numeric
   ....
</code></pre>

<p>Shouldn't the class be integer? And what is the mode?</p>
","377031","","24108","","2015-07-23 13:52:53","2015-07-23 13:52:53","What is a good way to read line-by-line in R?","<r><input><format>","6","2","27","","","CC BY-SA 3.0","4106764","4452","4452","r","404559","3625322","3607736","",""
"4108577","1","4108650","","2010-11-05 17:47:51","","20","17795","<p>Super quick question...</p>

<p>How do you take a some particular function's (user-defined) argument and cast it as a character-string?</p>

<p>If for a simple example,</p>

<pre><code>foo &lt;- function(x) { ... }
</code></pre>

<p>I want to simply return x's object name. So,</p>

<pre><code>foo(testing123)
</code></pre>

<p>returns <code>""testing123""</code> (and testing123 could just be some random numeric vector)</p>

<p>Apologies if this question has been asked before--searched, but couldn't find it! Thanks!!</p>
","489426","","190277","","2013-07-21 17:25:55","2013-07-21 20:10:03","Cast function argument as a character string?","<r>","3","0","6","","","CC BY-SA 3.0","4108577","4452","4452","r","404559","3625322","3607736","",""
"4110059","1","","","2010-11-05 21:02:36","","14","6534","<p>Is there any easy way in python to accomplish what the match function does in R? 
what match in R does is that it returns a vector of the positions of (first) matches of its first argument in its second.</p>

<p>For example, the following R snippet. </p>

<pre><code>&gt; a &lt;- c(5,4,3,2,1)
&gt; b &lt;- c(2,3)
&gt; match(a,b)
[1] NA NA  2  1 NA
</code></pre>

<p>Translate that in python, what I am looking for is a function that does the following</p>

<pre><code>&gt;&gt;&gt; a = [5,4,3,2,1]
&gt;&gt;&gt; b = [2,3]
&gt;&gt;&gt; match(a,b)
[None, None, 2, 1, None]
</code></pre>

<p>Thank you!</p>
","472592","","","","","2019-10-03 17:55:58","python(or numpy) equivalent of match in R","<python><r><numpy>","1","0","1","","","CC BY-SA 2.5","4110059","4452","4452","r","404559","3625322","3607736","",""
"4110151","1","4111897","","2010-11-05 21:14:05","","2","391","<p>I am new to using Sweave with Latex, and am having some small troubles.
Here is the segment of the document put into it's own tex file.</p>

<pre><code>\documentclass[a4paper,10pt]{article}
\usepackage[dvips]{graphicx}
\usepackage{Sweave}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                 END PREAMBLE                                %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{document}
\pagestyle{plain}

    \begin{figure}
    \begin{center}
&lt;&lt;fig=TRUE,echo=FALSE&gt;&gt;=
data=read.table(""adult_dataset/adult.data"", sep="","");

age=c(t(data[1]));
fnlwgt=c(t(data[3]));
education_num=c(t(data[5]));
cap_gain=c(t(data[11]));
cap_loss=c(t(data[12]));
hrs_week=c(t(data[13]));

labels=c(""Age"", ""Final weight"", ""Education num"", ""Capital gain"", ""Capital loss"", ""Hours per week"");

dframe=data.frame(age, fnlwgt, education_num, cap_gain, cap_loss, hrs_week);

par(mfrow=c(2,3)); 

for (i in c(1:6) ){
boxplot(dframe[i], main=labels[i]);
}
@
      \label{fig:boxplots}
      \caption{Boxplots of numerical features}
    \end{center}
    \end{figure}

\end{document}
</code></pre>

<p>adult.data is <a href=""http://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data"" rel=""nofollow"">http://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data</a>
I compile with:</p>

<pre><code>R CMD Sweave test.rnw &amp;&amp; latex test.tex &amp;&amp; dvipdf test.dvi
</code></pre>

<p>This produced a page which is horizontal.
It is the correct size, but it is rotated 90 degrees.
Not the picture, but the whole page.</p>

<p>What can I do to fix this?
Is this normal behavior?</p>

<p>Thank you for any suggestions :)</p>
","266410","","","","","2010-11-06 04:32:15","Latex Sweave R - page is rotating by itself","<r><latex><sweave>","1","1","1","","","CC BY-SA 2.5","4110151","4452","4452","r","404559","3625322","3607736","",""
"4110937","1","","","2010-11-05 23:23:23","","2","891","<p>-edited for clarity-</p>

<p>I am interested in finding the zero point of a multidimensional autocorrelation function.</p>

<p>I can generate the autocorrelation matrix from my data using </p>

<pre><code>acm &lt;- autocorr(x, 1:10)
</code></pre>

<p>However, the full matrix can be on the order of 20 x 5000, and this is computationally expensive.</p>

<p>I would therefore like to calculate only 1 or <em>n</em> rows at a time.  </p>

<p>Here are the steps that I would like to take </p>

<ol>
<li>calculate the first row in the matrix</li>
<li>while(any column has all positive values)
calculate and append the next row of the matrix to the already calculated rows</li>
<li>identify the row index of the last column to reach zero</li>
</ol>

<p>If this is the full matrix:</p>

<pre><code>acm &lt;- cbind( c(10, 9, 8, 7, 6, 5, 4, 3, 1, -1),
              c(10, 8, 6, 5, 3, 1, -1, 1, -1, 0 ))
</code></pre>

<p>I want a function that will return 10 because the first col is the last to reach a negative value. If I calculated the full matrix first, the following would be sufficient:</p>

<pre><code>max(which(apply(acm, 2, min)))
</code></pre>

<p>But I want to avoid calculating more of acm than needed, e.g. because often only 1 or a small fraction of the rows are necessary for the calculation.</p>
","199217","","199217","","2010-11-08 17:33:57","2010-11-08 17:33:57","How do I use the while() function to evaluate a matrix one row at a time until I find the last row index of the last column to reach <0","<r><while-loop>","3","2","","","","CC BY-SA 2.5","4110937","4452","4452","r","404559","3625322","3607736","",""
"4111685","1","4113904","","2010-11-06 03:04:34","","2","583","<p>I want to draw from discrete distribution. </p>

<p>I have a matrix, pi, which consists of vectors of probabilities (with the same number of columns, and sum of each row is 1).</p>

<p>In Python, I can do the following</p>

<pre><code>cumsumpi = cumsum(pi, axis = 1)
[bisect.bisect(k, random.rand()) for k in cumsumpi]
</code></pre>

<p>to get the vector of draws by the probability given by pi. </p>

<p>Now I want to reproduce this with R. I know there is ""sample"" function in R, but it seems it uses some different algorithm then bisect so I get different draws, even though I use the same set.seed() in both cases.</p>

<p>I used rpy2 to get the exactly same random draws in Python as in R. For example,</p>

<p>instead of random.rand(), I used 
    [bisect.bisect(k, asarray(robjects.r('runif(1)'))) for k in cumsumpi]</p>

<p>Please let me know if there is other function than sample in R which do the same thing.</p>

<p>-Joon</p>

<p>edited:
I managed to reproduce the exactly same draws with the following, but it was slow.</p>

<pre><code>    cumsumpi = t(apply(pi, 1, cumsum))

    getfirstindx = function(cumprobs) {
        return(which(cumprobs &gt; runif(1))[1])
    }

    apply(cumsumpi, 1, getfirstindx)
</code></pre>
","439325","","103225","","2010-11-06 06:36:23","2010-11-07 23:20:39","Python bisect.bisect() counterpart in R?","<python><r>","4","0","","","","CC BY-SA 2.5","4111685","4452","4452","r","404559","3625322","3607736","",""
"4112896","1","4113203","","2010-11-06 11:26:00","","10","5459","<p>I'm using a grid engine to run R scripts. The STDERR is taken seriously under this setup, so I would like to keep it clean and have only real/serious/fatal errors printed to STDERR.</p>

<p>The problem is my R script generate various STDERR messages which are not really serious warnings... for example, <code>scan</code> seems to print to STDERR the number of items it read.</p>

<p>Can I redirect (from within R) STDERR to STDOUT?</p>
","377031","","","","","2021-03-12 21:18:03","How can I redirect R warning messages to STDOUT?","<r><redirect><stdout><stderr>","3","1","3","","","CC BY-SA 2.5","4112896","4452","4452","r","404559","3625322","3607736","",""
"4114992","1","4115054","","2010-11-06 20:23:57","","2","1045","<p>Consider the following example (values in vectors are target practice results and I'm trying to automagically sort by shooting score). We generate three vectors. We sort values in columns <code>1:20</code> in ascending order and rows in descending order based on <code>out.tot</code> column.</p>

<pre><code># Generate data
shooter1 &lt;- round(runif(n = 20, min = 1, max = 10))
shooter2 &lt;- round(runif(n = 20, min = 1, max = 10))
shooter3 &lt;- round(runif(n = 20, min = 1, max = 10))
out &lt;- data.frame(t(data.frame(shooter1, shooter2, shooter3)))
colnames(out) &lt;- 1:ncol(out)

out.sort &lt;- t(apply(out, 1, sort, na.last = FALSE))
out.tot &lt;- apply(out , 1, sum)
colnames(out.sort) &lt;- 1:ncol(out.sort)
out2 &lt;- cbind(out.sort, out.tot)

out3 &lt;- apply(out2, 2, sort, decreasing = TRUE, na.last = FALSE)
</code></pre>

<p><code>out2</code> has row names attached while <code>out3</code> lost them. The only difference is that I used <code>MARGIN = 2</code>, which is probably the culprit (because it takes in column by column). I can match rows by hand, but is there a way I can keep row names in <code>out3</code> from disappearing?</p>

<pre><code>&gt; out2
         1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 out.tot
shooter1 1 2 2 3 3 3 4 5 5  5  6  6  6  6  6  7  8  9  9 10     106
shooter2 1 3 3 3 3 4 4 4 5  5  5  5  5  6  7  8  8  9  9 10     107
shooter3 1 1 2 2 2 3 3 4 5  5  5  6  6  6  6  7  8  8  8  9      97

&gt; out3
     1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 out.tot
[1,] 1 3 3 3 3 4 4 5 5  5  6  6  6  6  7  8  8  9  9 10     107
[2,] 1 2 2 3 3 3 4 4 5  5  5  6  6  6  6  7  8  9  9 10     106
[3,] 1 1 2 2 2 3 3 4 5  5  5  5  5  6  6  7  8  8  8  9      97
</code></pre>
","322912","","","","","2010-11-06 20:39:37","disappearing row names when using apply","<sorting><r><apply>","1","2","","","","CC BY-SA 2.5","4114992","4452","4452","r","404559","3625322","3607736","",""
"4115071","1","4115747","","2010-11-06 20:42:42","","9","1547","<p>I have data on a all of the votes in the Danish Parliament in 2008-9. The problem is that each vote is recorded in its own .txt file with the following format (see the appendix of the post for a dump of three votes from R): </p>

<pre><code>Name             Party  Vote
Anders Samuelsen LA     For
Rasmus Prehn     S      Imod
...              ...    ...
</code></pre>

<p>I would like to merge all the file to one data frame with the following format:</p>

<pre><code>Name             Party  Vote1  Vote2  Vote3
Anders Samuelsen LA     For    Imod   Imod
Rasmus Prehn     S      Imod   For    Fravrende
</code></pre>

<p>(Danish translation:For = yes, imod = no, Fravrende = absent)</p>

<p>In total I have more than 200 files, so the question is: how can I write a loop that merges all the data frames into the desired structure above?</p>

<p>Appendix:</p>

<p>Vote1:</p>

<pre><code>    structure(list(V1 = structure(c(2L, 3L, 4L, 7L, 8L, 5L, 6L, 9L, 
10L, 11L, 12L, 13L, 14L, 15L, 16L, 17L, 18L, 19L, 20L, 21L, 22L, 
23L, 24L, 25L, 26L, 27L, 28L, 29L, 30L, 31L, 32L, 33L, 34L, 35L, 
36L, 37L, 38L, 40L, 41L, 42L, 43L, 44L, 45L, 46L, 47L, 48L, 49L, 
50L, 51L, 52L, 53L, 39L, 54L, 55L, 56L, 60L, 61L, 62L, 63L, 64L, 
65L, 66L, 67L, 68L, 69L, 70L, 71L, 72L, 73L, 74L, 57L, 58L, 59L, 
75L, 76L, 77L, 78L, 79L, 80L, 81L, 82L, 83L, 84L, 85L, 86L, 87L, 
88L, 89L, 90L, 91L, 92L, 93L, 94L, 96L, 97L, 98L, 95L, 99L, 100L, 
101L, 102L, 103L, 104L, 105L, 106L, 107L, 108L, 109L, 110L, 111L, 
112L, 113L, 114L, 115L, 116L, 117L, 118L, 119L, 120L, 121L, 122L, 
123L, 125L, 126L, 127L, 124L, 128L, 129L, 130L, 131L, 132L, 133L, 
134L, 135L, 136L, 137L, 139L, 140L, 141L, 138L, 142L, 143L, 144L, 
145L, 146L, 147L, 148L, 149L, 150L, 151L, 152L, 153L, 154L, 155L, 
160L, 161L, 162L, 163L, 164L, 156L, 157L, 158L, 159L, 165L, 166L, 
167L, 168L, 169L, 170L, 171L, 172L, 173L, 174L, 175L, 176L, 177L, 
178L, 179L, 1L), .Label = c(""zlem Sara Cekic"", ""Anders Samuelsen"", 
""Anita Christensen"", ""Anita Knakkergaard"", ""Anne-Marie Meldgaard"", 
""Anne-Mette Winther Christians"", ""Anne Baastrup"", ""Anne Grete Holmsgaard"", 
""Annette Lilja Vilhelmsen"", ""Benny Engelbrecht"", ""Bent Bgsted"", 
""Bente Dahl"", ""Bertel Haarder"", ""Birgitte Josefsen"", ""Birthe Rnn Hornbech"", 
""Bjarne Laustsen"", ""Brian Mikkelsen"", ""Britta Schall Holberg"", 
""Carina Christensen"", ""Carsten Hansen"", ""Charlotte Dyremose"", 
""Christine Antorini"", ""Claus Hjort Frederiksen"", ""Colette L. Brix"", 
""Connie Hedegaard"", ""Dennis Flydtkjr"", ""Edmund Joensen"", ""Eigil Andersen"", 
""Ellen Trane Nrby"", ""Erling Bonnesen"", ""Eva Kjer Hansen"", ""Eyvind Vesselbo"", 
""Flemming Bonne"", ""Flemming Damgaard Larsen"", ""Flemming Mller"", 
""Flemming Mller Mortensen"", ""Frank Aaen"", ""Gitte Lillelund Bech"", 
""Hgni Hoydal"", ""Hanne Agersnap"", ""Hans Christian Schmidt"", 
""Hans Christian Thoning"", ""Hans Kristian Skibby"", ""Helge Adam Mller"", 
""Helge Sander"", ""Helle Sjelle"", ""Helle Thorning-Schmidt"", ""Henriette Kjr"", 
""Henrik Brodersen"", ""Henrik Dam Kristensen"", ""Henrik Hegh"", 
""Henrik Sass Larsen"", ""Holger K. Nielsen"", ""Ib Poulsen"", ""Ida Auken"", 
""Inger Stjberg"", ""Jrgen Poulsen"", ""Jrgen S. Lundsgaard"", 
""Jrn Dohrmann"", ""Jacob Jensen"", ""Jakob Axel Nielsen"", ""Jens Christian Lund"", 
""Jens Kirk"", ""Jens Peter Vernersen"", ""Jens Vibjerg"", ""Jeppe Kofod"", 
""Jesper Langballe"", ""Jesper Petersen"", ""Johanne Schmidt-Nielsen"", 
""John Dyrby Paulsen"", ""Johs. Poulsen"", ""Jonas Dahl"", ""Juliane Henningsen"", 
""Julie Rademacher"", ""Kamal Qureshi"", ""Karen Ellemann"", ""Karen Hkkerup"", 
""Karen J. Klint"", ""Karen Jespersen"", ""Karin Ndgaard"", ""Karina Lorentzen Dehnhardt"", 
""Karl H. Bornhft"", ""Karsten Lauritzen"", ""Karsten Nonbo"", ""Kim Andersen"", 
""Kim Christiansen"", ""Kim Mortensen"", ""Kirsten Brosbl"", ""Klaus Hkkerup"", 
""Knud Kristensen"", ""Kristen Touborg"", ""Kristian Jensen"", ""Kristian Pihl Lorentzen"", 
""Kristian Thulesen Dahl"", ""Lars-Emil Johansen"", ""Lars Barfoed"", 
""Lars Christian Lilleholt"", ""Lars Lkke Rasmussen"", ""Leif Lahn Jensen"", 
""Lene Espersen"", ""Lene Hansen"", ""Lennart Damsbo-Andersen"", ""Line Barfod"", 
""Lise von Seelen"", ""Liselott Blixt"", ""Lone Dybkjr"", ""Lone Mller"", 
""Louise Schack Elholm"", ""Magnus Heunicke"", ""Malou Aamund"", ""Margrethe Vestager"", 
""Marianne Jelved"", ""Marion Pedersen"", ""Marlene Harpse"", ""Martin Henriksen"", 
""Meta Fuglsang"", ""Mette Frederiksen"", ""Mette Gjerskov"", ""Michael Aastrup Jensen"", 
""Mike Legarth"", ""Mikkel Dencker"", ""Mogens Jensen"", ""Mogens Lykketoft"", 
""Morten stergaard"", ""Morten Bdskov"", ""Morten Helveg Petersen"", 
""Morten Messerschmidt"", ""Nanna Westerby"", ""Naser Khader"", ""Nick Hkkerup"", 
""Niels Christian Nielsen"", ""Niels Helveg Petersen"", ""Niels Sindal"", 
""Ole Hkkerup"", ""Ole Sohn"", ""Ole Vagn Christensen"", ""Orla Hav"", 
""Per rum Jrgensen"", ""Per Bisgaard"", ""Per Clausen"", ""Per Stig Mller"", 
""Pernille Frahm"", ""Pernille Vigs Bagge"", ""Peter Christensen"", 
""Peter Juel Jensen"", ""Peter Skaarup"", ""Pia Adelsteen"", ""Pia Christmas-Mller"", 
""Pia Kjrsgaard"", ""Pia Olsen Dyhr"", ""Poul Andersen"", ""Preben Rudiengaard"", 
""Rasmus Prehn"", ""Ren Christensen"", ""Ren Skau Bjrnsson"", 
""Sren Espersen"", ""Sren Gade"", ""Sren Krarup"", ""Sren Pind"", 
""Simon Emil Ammitzbll"", ""Sophie Hstorp Andersen"", ""Sophie Lhde"", 
""Steen Gade"", ""Svend Auken"", ""Thomas Adelskov"", ""Thomas Jensen"", 
""Thor Pedersen"", ""Tina Nedergaard"", ""Tina Petersen"", ""Tom Behnke"", 
""Torben Hansen"", ""Torsten Schack Pedersen"", ""Troels Christensen"", 
""Troels Lund Poulsen"", ""Ulla Trns"", ""Villum Christensen"", 
""Villy Svndal"", ""Vivi Kier"", ""Yildiz Akdogan""), class = ""factor""), 
    V2 = structure(c(5L, 1L, 1L, 8L, 8L, 7L, 13L, 8L, 7L, 1L, 
    6L, 13L, 13L, 13L, 7L, 4L, 13L, 4L, 7L, 4L, 7L, 13L, 1L, 
    4L, 1L, 10L, 8L, 13L, 13L, 13L, 13L, 8L, 13L, 13L, 7L, 2L, 
    13L, 8L, 13L, 13L, 1L, 4L, 13L, 4L, 7L, 4L, 1L, 7L, 13L, 
    7L, 8L, 11L, 1L, 8L, 13L, 13L, 4L, 7L, 13L, 7L, 13L, 7L, 
    1L, 8L, 2L, 7L, 6L, 8L, 3L, 7L, 6L, 4L, 1L, 8L, 13L, 7L, 
    7L, 13L, 1L, 8L, 8L, 13L, 13L, 13L, 1L, 7L, 7L, 7L, 4L, 8L, 
    13L, 13L, 1L, 4L, 13L, 13L, 9L, 7L, 4L, 7L, 7L, 2L, 7L, 1L, 
    6L, 7L, 13L, 7L, 13L, 6L, 6L, 13L, 1L, 1L, 8L, 7L, 7L, 13L, 
    4L, 1L, 7L, 7L, 7L, 6L, 1L, 6L, 8L, 4L, 7L, 7L, 6L, 7L, 7L, 
    8L, 7L, 7L, 13L, 2L, 4L, 4L, 8L, 8L, 13L, 13L, 1L, 1L, 12L, 
    1L, 8L, 7L, 13L, 7L, 1L, 7L, 12L, 7L, 13L, 8L, 7L, 1L, 13L, 
    1L, 13L, 7L, 7L, 13L, 13L, 1L, 4L, 7L, 13L, 13L, 13L, 13L, 
    5L, 8L, 4L, 7L, 8L), .Label = c(""DF"", ""EL"", ""IA"", ""KF"", ""LA"", 
    ""RV"", ""S"", ""SF"", ""SIU"", ""SP"", ""TF"", ""UFG"", ""V""), class = ""factor""), 
    V3 = structure(c(1L, 1L, 1L, 3L, 3L, 2L, 1L, 3L, 3L, 1L, 
    3L, 1L, 1L, 2L, 3L, 1L, 1L, 2L, 2L, 1L, 3L, 2L, 2L, 2L, 1L, 
    2L, 3L, 1L, 1L, 2L, 1L, 2L, 1L, 1L, 3L, 2L, 1L, 3L, 2L, 1L, 
    1L, 1L, 2L, 2L, 2L, 1L, 1L, 3L, 1L, 2L, 2L, 2L, 1L, 2L, 2L, 
    1L, 1L, 3L, 1L, 3L, 2L, 2L, 2L, 3L, 3L, 3L, 2L, 3L, 2L, 3L, 
    2L, 1L, 2L, 2L, 2L, 3L, 2L, 1L, 1L, 3L, 3L, 2L, 1L, 1L, 2L, 
    3L, 2L, 3L, 2L, 3L, 1L, 1L, 2L, 1L, 1L, 2L, 2L, 3L, 2L, 3L, 
    3L, 3L, 3L, 1L, 3L, 3L, 1L, 3L, 2L, 2L, 3L, 1L, 1L, 1L, 3L, 
    3L, 2L, 1L, 1L, 1L, 2L, 2L, 2L, 3L, 2L, 2L, 3L, 1L, 3L, 3L, 
    3L, 3L, 2L, 2L, 3L, 3L, 2L, 2L, 2L, 2L, 3L, 2L, 2L, 1L, 2L, 
    1L, 2L, 2L, 2L, 3L, 1L, 3L, 1L, 2L, 1L, 3L, 1L, 2L, 2L, 2L, 
    2L, 1L, 1L, 2L, 3L, 2L, 2L, 1L, 1L, 2L, 1L, 1L, 2L, 1L, 2L, 
    2L, 1L, 3L, 2L), .Label = c(""For"", ""Fravrende"", ""Imod""), class = ""factor"")), .Names = c(""V1"", 
""V2"", ""V3""), class = ""data.frame"", row.names = c(NA, -179L))
</code></pre>

<p>Vote2:</p>

<pre><code>structure(list(V1 = structure(c(2L, 3L, 4L, 7L, 8L, 5L, 6L, 9L, 
10L, 11L, 12L, 13L, 14L, 15L, 16L, 17L, 18L, 19L, 20L, 21L, 22L, 
23L, 24L, 25L, 26L, 27L, 28L, 29L, 30L, 31L, 32L, 33L, 34L, 35L, 
36L, 37L, 38L, 39L, 41L, 42L, 43L, 44L, 45L, 46L, 47L, 48L, 49L, 
50L, 51L, 52L, 53L, 54L, 40L, 55L, 56L, 59L, 60L, 61L, 62L, 63L, 
64L, 65L, 66L, 67L, 68L, 69L, 70L, 71L, 72L, 73L, 57L, 58L, 74L, 
75L, 76L, 77L, 78L, 79L, 80L, 81L, 82L, 83L, 84L, 85L, 86L, 87L, 
88L, 89L, 90L, 91L, 92L, 93L, 95L, 96L, 97L, 94L, 98L, 99L, 100L, 
101L, 102L, 103L, 104L, 105L, 106L, 107L, 108L, 109L, 110L, 111L, 
112L, 113L, 114L, 115L, 116L, 117L, 118L, 119L, 120L, 121L, 122L, 
124L, 125L, 126L, 123L, 127L, 128L, 129L, 130L, 131L, 132L, 133L, 
134L, 135L, 137L, 138L, 139L, 140L, 136L, 141L, 142L, 143L, 144L, 
145L, 146L, 147L, 148L, 149L, 150L, 151L, 152L, 153L, 154L, 159L, 
160L, 161L, 162L, 163L, 155L, 156L, 157L, 158L, 164L, 165L, 166L, 
167L, 168L, 169L, 170L, 171L, 172L, 173L, 174L, 175L, 176L, 177L, 
178L, 179L, 1L), .Label = c(""zlem Sara Cekic"", ""Anders Samuelsen"", 
""Anita Christensen"", ""Anita Knakkergaard"", ""Anne-Marie Meldgaard"", 
""Anne-Mette Winther Christians"", ""Anne Baastrup"", ""Anne Grete Holmsgaard"", 
""Annette Lilja Vilhelmsen"", ""Bendt Bendtsen"", ""Benny Engelbrecht"", 
""Bent Bgsted"", ""Bente Dahl"", ""Bertel Haarder"", ""Birgitte Josefsen"", 
""Birthe Rnn Hornbech"", ""Bjarne Laustsen"", ""Brian Mikkelsen"", 
""Britta Schall Holberg"", ""Carina Christensen"", ""Carsten Hansen"", 
""Charlotte Dyremose"", ""Christine Antorini"", ""Claus Hjort Frederiksen"", 
""Colette L. Brix"", ""Connie Hedegaard"", ""Dennis Flydtkjr"", ""Edmund Joensen"", 
""Eigil Andersen"", ""Ellen Trane Nrby"", ""Erling Bonnesen"", ""Eva Kjer Hansen"", 
""Eyvind Vesselbo"", ""Flemming Bonne"", ""Flemming Damgaard Larsen"", 
""Flemming Mller"", ""Flemming Mller Mortensen"", ""Frank Aaen"", 
""Gitte Lillelund Bech"", ""Hgni Hoydal"", ""Hanne Agersnap"", ""Hans Christian Schmidt"", 
""Hans Christian Thoning"", ""Hans Kristian Skibby"", ""Helge Adam Mller"", 
""Helge Sander"", ""Helle Sjelle"", ""Helle Thorning-Schmidt"", ""Henriette Kjr"", 
""Henrik Brodersen"", ""Henrik Dam Kristensen"", ""Henrik Hegh"", 
""Henrik Sass Larsen"", ""Holger K. Nielsen"", ""Ib Poulsen"", ""Inger Stjberg"", 
""Jrgen Poulsen"", ""Jrn Dohrmann"", ""Jacob Jensen"", ""Jakob Axel Nielsen"", 
""Jens Christian Lund"", ""Jens Kirk"", ""Jens Peter Vernersen"", ""Jens Vibjerg"", 
""Jeppe Kofod"", ""Jesper Langballe"", ""Jesper Petersen"", ""Johanne Schmidt-Nielsen"", 
""John Dyrby Paulsen"", ""Johs. Poulsen"", ""Jonas Dahl"", ""Juliane Henningsen"", 
""Julie Rademacher"", ""Kamal Qureshi"", ""Karen Ellemann"", ""Karen Hkkerup"", 
""Karen J. Klint"", ""Karen Jespersen"", ""Karin Ndgaard"", ""Karina Lorentzen Dehnhardt"", 
""Karl H. Bornhft"", ""Karsten Lauritzen"", ""Karsten Nonbo"", ""Kim Andersen"", 
""Kim Christiansen"", ""Kim Mortensen"", ""Kirsten Brosbl"", ""Klaus Hkkerup"", 
""Knud Kristensen"", ""Kristen Touborg"", ""Kristian Jensen"", ""Kristian Pihl Lorentzen"", 
""Kristian Thulesen Dahl"", ""Lars-Emil Johansen"", ""Lars Barfoed"", 
""Lars Christian Lilleholt"", ""Lars Lkke Rasmussen"", ""Leif Lahn Jensen"", 
""Lene Espersen"", ""Lene Hansen"", ""Lennart Damsbo-Andersen"", ""Line Barfod"", 
""Lise von Seelen"", ""Liselott Blixt"", ""Lone Dybkjr"", ""Lone Mller"", 
""Louise Schack Elholm"", ""Magnus Heunicke"", ""Malou Aamund"", ""Margrethe Vestager"", 
""Marianne Jelved"", ""Marion Pedersen"", ""Marlene Harpse"", ""Martin Henriksen"", 
""Meta Fuglsang"", ""Mette Frederiksen"", ""Mette Gjerskov"", ""Michael Aastrup Jensen"", 
""Mike Legarth"", ""Mikkel Dencker"", ""Mogens Jensen"", ""Mogens Lykketoft"", 
""Morten stergaard"", ""Morten Bdskov"", ""Morten Helveg Petersen"", 
""Morten Messerschmidt"", ""Nanna Westerby"", ""Naser Khader"", ""Nick Hkkerup"", 
""Niels Christian Nielsen"", ""Niels Helveg Petersen"", ""Niels Sindal"", 
""Ole Hkkerup"", ""Ole Sohn"", ""Ole Vagn Christensen"", ""Per rum Jrgensen"", 
""Per Bisgaard"", ""Per Clausen"", ""Per Husted"", ""Per Stig Mller"", 
""Pernille Frahm"", ""Pernille Vigs Bagge"", ""Peter Christensen"", 
""Peter Juel Jensen"", ""Peter Skaarup"", ""Pia Adelsteen"", ""Pia Christmas-Mller"", 
""Pia Kjrsgaard"", ""Pia Olsen Dyhr"", ""Poul Andersen"", ""Preben Rudiengaard"", 
""Rasmus Prehn"", ""Ren Christensen"", ""Ren Skau Bjrnsson"", 
""Sren Espersen"", ""Sren Gade"", ""Sren Krarup"", ""Sren Pind"", 
""Simon Emil Ammitzbll"", ""Sophie Hstorp Andersen"", ""Sophie Lhde"", 
""Steen Gade"", ""Svend Auken"", ""Thomas Adelskov"", ""Thomas Jensen"", 
""Thor Pedersen"", ""Tina Nedergaard"", ""Tina Petersen"", ""Tom Behnke"", 
""Torben Hansen"", ""Torsten Schack Pedersen"", ""Trine Mach"", ""Troels Christensen"", 
""Troels Lund Poulsen"", ""Ulla Trns"", ""Villum Christensen"", 
""Villy Svndal"", ""Vivi Kier"", ""Yildiz Akdogan""), class = ""factor""), 
    V2 = structure(c(5L, 1L, 1L, 8L, 8L, 7L, 13L, 8L, 4L, 7L, 
    1L, 6L, 13L, 13L, 13L, 7L, 4L, 13L, 4L, 7L, 4L, 7L, 13L, 
    1L, 4L, 1L, 10L, 8L, 13L, 13L, 13L, 13L, 8L, 13L, 13L, 7L, 
    2L, 13L, 8L, 13L, 13L, 1L, 4L, 13L, 4L, 7L, 4L, 1L, 7L, 13L, 
    7L, 8L, 11L, 1L, 13L, 13L, 4L, 7L, 13L, 7L, 13L, 7L, 1L, 
    8L, 2L, 7L, 6L, 8L, 3L, 7L, 6L, 1L, 8L, 13L, 7L, 7L, 13L, 
    1L, 8L, 8L, 13L, 13L, 13L, 1L, 7L, 7L, 7L, 4L, 8L, 13L, 13L, 
    1L, 4L, 13L, 13L, 9L, 7L, 4L, 7L, 7L, 2L, 7L, 1L, 6L, 7L, 
    13L, 7L, 13L, 6L, 6L, 13L, 1L, 1L, 8L, 7L, 7L, 13L, 4L, 1L, 
    7L, 7L, 7L, 6L, 1L, 6L, 8L, 4L, 7L, 7L, 6L, 7L, 7L, 8L, 7L, 
    13L, 2L, 7L, 4L, 4L, 8L, 8L, 13L, 13L, 1L, 1L, 12L, 1L, 8L, 
    7L, 13L, 7L, 1L, 7L, 12L, 7L, 13L, 8L, 7L, 1L, 13L, 1L, 13L, 
    7L, 7L, 13L, 13L, 1L, 4L, 7L, 13L, 8L, 13L, 13L, 13L, 5L, 
    8L, 4L, 7L, 8L), .Label = c(""DF"", ""EL"", ""IA"", ""KF"", ""LA"", 
    ""RV"", ""S"", ""SF"", ""SIU"", ""SP"", ""TF"", ""UFG"", ""V""), class = ""factor""), 
    V3 = structure(c(3L, 1L, 1L, 3L, 2L, 2L, 2L, 2L, 2L, 3L, 
    1L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 2L, 2L, 2L, 3L, 2L, 2L, 2L, 
    1L, 2L, 3L, 2L, 2L, 2L, 3L, 2L, 3L, 3L, 3L, 3L, 3L, 2L, 2L, 
    3L, 1L, 3L, 3L, 3L, 2L, 2L, 1L, 2L, 3L, 2L, 3L, 2L, 1L, 2L, 
    3L, 3L, 3L, 3L, 3L, 2L, 3L, 1L, 3L, 2L, 2L, 2L, 3L, 2L, 3L, 
    2L, 1L, 3L, 2L, 3L, 2L, 3L, 2L, 3L, 3L, 3L, 2L, 3L, 1L, 2L, 
    3L, 3L, 2L, 2L, 3L, 3L, 1L, 3L, 3L, 2L, 2L, 3L, 2L, 3L, 2L, 
    2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 2L, 2L, 1L, 1L, 3L, 2L, 
    2L, 2L, 3L, 2L, 2L, 2L, 2L, 3L, 2L, 3L, 3L, 3L, 3L, 2L, 3L, 
    2L, 2L, 2L, 2L, 2L, 3L, 3L, 2L, 3L, 2L, 3L, 3L, 3L, 3L, 1L, 
    2L, 2L, 3L, 2L, 3L, 3L, 1L, 2L, 3L, 3L, 3L, 3L, 3L, 1L, 2L, 
    1L, 2L, 3L, 3L, 3L, 2L, 1L, 3L, 3L, 3L, 3L, 3L, 3L, 2L, 2L, 
    2L, 3L, 3L, 2L), .Label = c(""For"", ""Fravrende"", ""Imod""), class = ""factor"")), .Names = c(""V1"", 
""V2"", ""V3""), class = ""data.frame"", row.names = c(NA, -179L))
</code></pre>

<p>Vote3:</p>

<pre><code>structure(list(V1 = structure(c(2L, 3L, 4L, 7L, 8L, 5L, 6L, 9L, 
10L, 11L, 12L, 13L, 14L, 15L, 16L, 17L, 18L, 19L, 20L, 21L, 22L, 
23L, 24L, 25L, 26L, 27L, 28L, 29L, 30L, 31L, 32L, 33L, 34L, 35L, 
36L, 37L, 38L, 39L, 41L, 42L, 43L, 44L, 45L, 46L, 47L, 48L, 49L, 
50L, 51L, 52L, 53L, 54L, 40L, 55L, 56L, 59L, 60L, 61L, 62L, 63L, 
64L, 65L, 66L, 67L, 68L, 69L, 70L, 71L, 72L, 73L, 57L, 58L, 74L, 
75L, 76L, 77L, 78L, 79L, 80L, 81L, 82L, 83L, 84L, 85L, 86L, 87L, 
88L, 89L, 90L, 91L, 92L, 93L, 95L, 96L, 97L, 94L, 98L, 99L, 100L, 
101L, 102L, 103L, 104L, 105L, 106L, 107L, 108L, 109L, 110L, 111L, 
112L, 113L, 114L, 115L, 116L, 117L, 118L, 119L, 120L, 121L, 122L, 
124L, 125L, 126L, 123L, 127L, 128L, 129L, 130L, 131L, 132L, 133L, 
134L, 135L, 137L, 138L, 139L, 140L, 136L, 141L, 142L, 143L, 144L, 
145L, 146L, 147L, 148L, 149L, 150L, 151L, 152L, 153L, 154L, 159L, 
160L, 161L, 162L, 163L, 155L, 156L, 157L, 158L, 164L, 165L, 166L, 
167L, 168L, 169L, 170L, 171L, 172L, 173L, 174L, 175L, 176L, 177L, 
178L, 179L, 1L), .Label = c(""zlem Sara Cekic"", ""Anders Samuelsen"", 
""Anita Christensen"", ""Anita Knakkergaard"", ""Anne-Marie Meldgaard"", 
""Anne-Mette Winther Christians"", ""Anne Baastrup"", ""Anne Grete Holmsgaard"", 
""Annette Lilja Vilhelmsen"", ""Bendt Bendtsen"", ""Benny Engelbrecht"", 
""Bent Bgsted"", ""Bente Dahl"", ""Bertel Haarder"", ""Birgitte Josefsen"", 
""Birthe Rnn Hornbech"", ""Bjarne Laustsen"", ""Brian Mikkelsen"", 
""Britta Schall Holberg"", ""Carina Christensen"", ""Carsten Hansen"", 
""Charlotte Dyremose"", ""Christine Antorini"", ""Claus Hjort Frederiksen"", 
""Colette L. Brix"", ""Connie Hedegaard"", ""Dennis Flydtkjr"", ""Edmund Joensen"", 
""Eigil Andersen"", ""Ellen Trane Nrby"", ""Erling Bonnesen"", ""Eva Kjer Hansen"", 
""Eyvind Vesselbo"", ""Flemming Bonne"", ""Flemming Damgaard Larsen"", 
""Flemming Mller"", ""Flemming Mller Mortensen"", ""Frank Aaen"", 
""Gitte Lillelund Bech"", ""Hgni Hoydal"", ""Hanne Agersnap"", ""Hans Christian Schmidt"", 
""Hans Christian Thoning"", ""Hans Kristian Skibby"", ""Helge Adam Mller"", 
""Helge Sander"", ""Helle Sjelle"", ""Helle Thorning-Schmidt"", ""Henriette Kjr"", 
""Henrik Brodersen"", ""Henrik Dam Kristensen"", ""Henrik Hegh"", 
""Henrik Sass Larsen"", ""Holger K. Nielsen"", ""Ib Poulsen"", ""Inger Stjberg"", 
""Jrgen Poulsen"", ""Jrn Dohrmann"", ""Jacob Jensen"", ""Jakob Axel Nielsen"", 
""Jens Christian Lund"", ""Jens Kirk"", ""Jens Peter Vernersen"", ""Jens Vibjerg"", 
""Jeppe Kofod"", ""Jesper Langballe"", ""Jesper Petersen"", ""Johanne Schmidt-Nielsen"", 
""John Dyrby Paulsen"", ""Johs. Poulsen"", ""Jonas Dahl"", ""Juliane Henningsen"", 
""Julie Rademacher"", ""Kamal Qureshi"", ""Karen Ellemann"", ""Karen Hkkerup"", 
""Karen J. Klint"", ""Karen Jespersen"", ""Karin Ndgaard"", ""Karina Lorentzen Dehnhardt"", 
""Karl H. Bornhft"", ""Karsten Lauritzen"", ""Karsten Nonbo"", ""Kim Andersen"", 
""Kim Christiansen"", ""Kim Mortensen"", ""Kirsten Brosbl"", ""Klaus Hkkerup"", 
""Knud Kristensen"", ""Kristen Touborg"", ""Kristian Jensen"", ""Kristian Pihl Lorentzen"", 
""Kristian Thulesen Dahl"", ""Lars-Emil Johansen"", ""Lars Barfoed"", 
""Lars Christian Lilleholt"", ""Lars Lkke Rasmussen"", ""Leif Lahn Jensen"", 
""Lene Espersen"", ""Lene Hansen"", ""Lennart Damsbo-Andersen"", ""Line Barfod"", 
""Lise von Seelen"", ""Liselott Blixt"", ""Lone Dybkjr"", ""Lone Mller"", 
""Louise Schack Elholm"", ""Magnus Heunicke"", ""Malou Aamund"", ""Margrethe Vestager"", 
""Marianne Jelved"", ""Marion Pedersen"", ""Marlene Harpse"", ""Martin Henriksen"", 
""Meta Fuglsang"", ""Mette Frederiksen"", ""Mette Gjerskov"", ""Michael Aastrup Jensen"", 
""Mike Legarth"", ""Mikkel Dencker"", ""Mogens Jensen"", ""Mogens Lykketoft"", 
""Morten stergaard"", ""Morten Bdskov"", ""Morten Helveg Petersen"", 
""Morten Messerschmidt"", ""Nanna Westerby"", ""Naser Khader"", ""Nick Hkkerup"", 
""Niels Christian Nielsen"", ""Niels Helveg Petersen"", ""Niels Sindal"", 
""Ole Hkkerup"", ""Ole Sohn"", ""Ole Vagn Christensen"", ""Per rum Jrgensen"", 
""Per Bisgaard"", ""Per Clausen"", ""Per Husted"", ""Per Stig Mller"", 
""Pernille Frahm"", ""Pernille Vigs Bagge"", ""Peter Christensen"", 
""Peter Juel Jensen"", ""Peter Skaarup"", ""Pia Adelsteen"", ""Pia Christmas-Mller"", 
""Pia Kjrsgaard"", ""Pia Olsen Dyhr"", ""Poul Andersen"", ""Preben Rudiengaard"", 
""Rasmus Prehn"", ""Ren Christensen"", ""Ren Skau Bjrnsson"", 
""Sren Espersen"", ""Sren Gade"", ""Sren Krarup"", ""Sren Pind"", 
""Simon Emil Ammitzbll"", ""Sophie Hstorp Andersen"", ""Sophie Lhde"", 
""Steen Gade"", ""Svend Auken"", ""Thomas Adelskov"", ""Thomas Jensen"", 
""Thor Pedersen"", ""Tina Nedergaard"", ""Tina Petersen"", ""Tom Behnke"", 
""Torben Hansen"", ""Torsten Schack Pedersen"", ""Trine Mach"", ""Troels Christensen"", 
""Troels Lund Poulsen"", ""Ulla Trns"", ""Villum Christensen"", 
""Villy Svndal"", ""Vivi Kier"", ""Yildiz Akdogan""), class = ""factor""), 
    V2 = structure(c(5L, 1L, 1L, 8L, 8L, 7L, 13L, 8L, 4L, 7L, 
    1L, 6L, 13L, 13L, 13L, 7L, 4L, 13L, 4L, 7L, 4L, 7L, 13L, 
    1L, 4L, 1L, 10L, 8L, 13L, 13L, 13L, 13L, 8L, 13L, 13L, 7L, 
    2L, 13L, 8L, 13L, 13L, 1L, 4L, 13L, 4L, 7L, 4L, 1L, 7L, 13L, 
    7L, 8L, 11L, 1L, 13L, 13L, 4L, 7L, 13L, 7L, 13L, 7L, 1L, 
    8L, 2L, 7L, 6L, 8L, 3L, 7L, 6L, 1L, 8L, 13L, 7L, 7L, 13L, 
    1L, 8L, 8L, 13L, 13L, 13L, 1L, 7L, 7L, 7L, 4L, 8L, 13L, 13L, 
    1L, 4L, 13L, 13L, 9L, 7L, 4L, 7L, 7L, 2L, 7L, 1L, 6L, 7L, 
    13L, 7L, 13L, 6L, 6L, 13L, 1L, 1L, 8L, 7L, 7L, 13L, 4L, 1L, 
    7L, 7L, 7L, 6L, 1L, 6L, 8L, 4L, 7L, 7L, 6L, 7L, 7L, 8L, 7L, 
    13L, 2L, 7L, 4L, 4L, 8L, 8L, 13L, 13L, 1L, 1L, 12L, 1L, 8L, 
    7L, 13L, 7L, 1L, 7L, 12L, 7L, 13L, 8L, 7L, 1L, 13L, 1L, 13L, 
    7L, 7L, 13L, 13L, 1L, 4L, 7L, 13L, 8L, 13L, 13L, 13L, 5L, 
    8L, 4L, 7L, 8L), .Label = c(""DF"", ""EL"", ""IA"", ""KF"", ""LA"", 
    ""RV"", ""S"", ""SF"", ""SIU"", ""SP"", ""TF"", ""UFG"", ""V""), class = ""factor""), 
    V3 = structure(c(3L, 3L, 3L, 2L, 2L, 1L, 2L, 2L, 2L, 1L, 
    3L, 2L, 3L, 3L, 2L, 1L, 3L, 3L, 3L, 2L, 2L, 1L, 2L, 2L, 2L, 
    3L, 2L, 3L, 2L, 2L, 2L, 3L, 2L, 3L, 3L, 1L, 3L, 3L, 2L, 2L, 
    3L, 3L, 3L, 3L, 3L, 2L, 2L, 3L, 2L, 3L, 2L, 3L, 2L, 3L, 2L, 
    3L, 2L, 1L, 3L, 1L, 2L, 1L, 3L, 3L, 2L, 2L, 2L, 3L, 2L, 1L, 
    2L, 3L, 3L, 2L, 1L, 2L, 3L, 2L, 1L, 2L, 3L, 2L, 3L, 3L, 2L, 
    1L, 1L, 2L, 2L, 3L, 3L, 2L, 3L, 3L, 2L, 2L, 1L, 2L, 1L, 2L, 
    2L, 2L, 2L, 2L, 1L, 3L, 1L, 3L, 1L, 2L, 2L, 3L, 3L, 3L, 2L, 
    1L, 2L, 3L, 2L, 2L, 2L, 2L, 2L, 2L, 1L, 3L, 3L, 1L, 2L, 1L, 
    2L, 1L, 2L, 2L, 2L, 3L, 1L, 2L, 3L, 2L, 3L, 3L, 3L, 3L, 3L, 
    2L, 2L, 3L, 2L, 3L, 1L, 3L, 2L, 2L, 1L, 3L, 3L, 2L, 2L, 2L, 
    3L, 2L, 1L, 1L, 3L, 2L, 3L, 3L, 1L, 3L, 3L, 3L, 3L, 2L, 2L, 
    2L, 3L, 1L, 2L), .Label = c(""For"", ""Fravrende"", ""Imod""), class = ""factor"")), .Names = c(""V1"", 
""V2"", ""V3""), class = ""data.frame"", row.names = c(NA, -179L))
</code></pre>
","363268","","4370109","","2015-12-03 21:05:41","2015-12-03 21:05:41","Merge a lot of data frames in R","<r><merge><dataframe><text-files>","4","1","2","","","CC BY-SA 3.0","4115071","4452","4452","r","404559","3625322","3607736","",""
"4115433","1","","","2010-11-06 22:12:43","","0","401","<p>I have some points, and both of each point's coordinates have variances. It is stored in arrays (just an example):</p>

<pre><code>x  &lt;- c(1, 2, 3, 4, 5)
y  &lt;- c(1, 2, 3, 4, 5)
dx &lt;- c(0.1, 0.1, 0.1, 0.1, 0.1)
dy &lt;- c(0.1, 0.1, 0.1, 0.1, 0.1)
</code></pre>

<p>and each point's coordinates are (x +/- dx, y +/- dy).</p>

<p>I want to fit it with line y=k*x and get result: k +/- dk.</p>
","360679","","4099593","","2019-08-11 03:46:01","2019-08-11 03:46:01","Build line through points with variances in both coordinates","<r><curve-fitting>","2","1","","2019-07-19 12:11:16","","CC BY-SA 2.5","4115433","4452","4452","r","404559","3625322","3607736","",""
"4118900","1","","","2010-11-07 17:51:37","","2","1420","<p>I have a list of about 50 values and corresponding non-continuous dates in a pdf of which I need to make a time series graph in R. How do I do this? </p>

<p>No response can be too detailed or basic. Thanks.</p>
","499980","","","","","2010-11-07 21:30:46","How do I plot a graph of values against non-continuous dates using R?","<r><graph><statistics>","2","3","1","","","CC BY-SA 2.5","4118900","4452","4452","r","404559","3625322","3607736","",""
"4120063","1","4480461","","2010-11-07 22:31:44","","0","342","<p>I'm seeing behavior I don't expect with the cat commands and flush.console() in RGui 2.12.0 (but not Rterm) for Windows.  I wanted to see whether it was a problem with my system (or a known behavior) before reporting it as a bug.  Specifically I'm seeing strange UNICODE looking characters as it iterates through.  Please forgive the use of the huge rnorm() I couldn't figure out how to slow execution in an established way. </p>

<pre><code>for (i in 1:100) {cat(i,""\r"");flush.console();rnorm(1000000)}

R version 2.12.0 (2010-10-15)
Platform: i386-pc-mingw32/i386 (32-bit)

locale:
[1] LC_COLLATE=English_United States.1252 
[2] LC_CTYPE=English_United States.1252   
[3] LC_MONETARY=English_United States.1252
[4] LC_NUMERIC=C                          
[5] LC_TIME=English_United States.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base 
</code></pre>
","169095","","","","","2010-12-18 22:17:43","Unexpected behavior in R with the cat command in R","<r>","2","4","","","","CC BY-SA 2.5","4120063","4452","4452","r","404559","3625322","3607736","",""
"4120844","1","4120870","","2010-11-08 02:22:12","","-1","144","<p>The general algorithm I need to implement in R is:</p>

<pre><code>z_i=min(x_i-y_i-a,x_i-b). 
</code></pre>

<p>I am using i as an index for my z,y, and x vectors.  Z is the new vector that I would like to use in my regression model.  If have tried with no success using various types of loops.</p>
","500257","","1033581","","2018-07-29 12:46:18","2018-07-29 12:46:18","Data Management / Vector Manipulations (In the R language)","<r><statistics>","1","0","","","","CC BY-SA 4.0","4120844","4452","4452","r","404559","3625322","3607736","",""
"4121062","1","4124762","","2010-11-08 03:37:58","","4","7296","<p>I'm having problems getting the y axis on a horizontal barplot() within the plotting region. See this example, I thought that using ylim and/or yaxp would stop this going off the plotting region, but it doesn't seem to work. </p>

<p>I've tried to reproduce the set up I've got:</p>

<pre><code>x &lt;- matrix(abs(rnorm(34)), nrow = 34, ncol = 3)
rownames(x) &lt;- c(seq(0,6600,200))
barplot(x[,3], horiz=TRUE, space = 0.4, main = ""Title"", las=1, cex.names=0.8, ylab=""y label"")
</code></pre>

<p>But the axis goes of the plotting region if I add ylim:</p>

<pre><code>barplot(x[,3], horiz=TRUE, space = 0.4, ylim = c(0,25), yaxp=c(0,25,1), main = ""Title"", las=1, cex.names=0.8, ylab=""y label"")
</code></pre>
","253579","","","","","2010-11-08 14:31:06","Y axis out of plotting region with barplot() in R","<r><plot>","2","2","2","","","CC BY-SA 2.5","4121062","4452","4452","r","404559","3625322","3607736","",""
"4121291","1","4121455","","2010-11-08 04:33:08","","0","1899","<p>Here is the general algorithm I wish to implement in R:</p>

<pre><code>if (x[i]&gt;y[i]) x[i] = y[i]
</code></pre>

<p><code>x</code> and <code>y</code> are of course vectors. This problem looks like a loop is the solution. </p>
","500257","","","user3603486","2018-05-09 10:01:22","2018-05-09 10:01:22","Truncation of vector values based on another vector","<r>","3","3","","","","CC BY-SA 4.0","4121291","4452","4452","r","404559","3625322","3607736","",""
"4124900","1","4128401","","2010-11-08 14:49:49","","37","3236","<p>I want to write a function that calls both <code>plot()</code> and <code>legend()</code> and it would be ideal if the user could specify a number of additional arguments that are then passed through to either <code>plot()</code> or <code>legend()</code>. I know I can achieve this for one of the two functions using <code>...</code>:</p>

<pre><code>foo.plot &lt;- function(x,y,...) {
    plot(x,y,...)
    legend(""bottomleft"", ""bar"", pch=1)
}

foo.plot(1,1, xaxt = ""n"")
</code></pre>

<p>This passes <code>xaxt = ""n""</code> to plot. But is there a way for example to pass e.g. <code>title = ""legend""</code> to the <code>legend()</code> call without prespecifying the arguments in the function header?</p>

<hr>

<p><strong>Update from the accepted answer:</strong> I thought that VitoshKa's way was the most elegant to accomplish what I wanted. However, there were some minor issues that I had to get around with until it worked as I wanted.</p>

<p>At first, I checked which of the parameters I want to pass to <code>legend</code> and which to <code>plot</code>. First step to this end was to see which arguments of <code>legend</code> are unique to <code>legend</code> and not part of plot and/or par:</p>

<pre><code>legend.args &lt;- names(formals(legend))
plot.args &lt;- c(names(formals(plot.default)), names(par()))
dput(legend.args[!(legend.args %in% plot.args)])
</code></pre>

<p>I use <code>dput()</code> here, because the line <code>plot.args &lt;- c(names(formals(plot.default)), names(par()))</code> always calls a new empty plot which I did not want. So, I used the output of <code>dput</code> in the following function.</p>

<p>Next, I had to deal with the overlapping arguments (get them via <code>dput(largs.all[(largs.all %in% pargs.all)])</code>). For some this was trivial (e.g., <code>x</code>, <code>y</code>) others get passed to both functions (e.g., <code>pch</code>). But, in my real application I even use other strategies (e.g., different variable names for <code>adj</code>, but not implemented in this example).</p>

<p>Finally, the <code>do.call</code> function had to be changed in two ways. First, the what part (i.e., called functions) needs to be a character (i.e., <code>'plot'</code> instead of <code>plot</code>). And the argument list must be constructed slightly different.</p>

<pre><code>foo.plot &lt;- function(x,y,...) {
    leg.args.unique &lt;- c(""legend"", ""fill"", ""border"", ""angle"", ""density"", ""box.lwd"", ""box.lty"", ""box.col"", ""pt.bg"", ""pt.cex"", ""pt.lwd"", ""xjust"", ""yjust"", ""x.intersp"", ""y.intersp"", ""text.width"", ""text.col"", ""merge"", ""trace"", ""plot"", ""ncol"", ""horiz"", ""title"", ""inset"", ""title.col"", ""title.adj"")
    leg.args.all &lt;- c(leg.args.unique, ""col"", ""lty"", ""lwd"", ""pch"", ""bty"", ""bg"", ""cex"", ""adj"", ""xpd"")
    dots &lt;- list(...)
    do.call('plot', c(list(x = x, y = x), dots[!(names(dots) %in% leg.args.unique)]))
    do.call('legend', c(list(""bottomleft"", ""bar""), dots[names(dots) %in% leg.args.all]))
}


foo.plot(1,1,pch = 4, title = ""legendary"", ylim = c(0, 5))
</code></pre>

<p>In this example, <code>pch</code> is passed to both <code>plot</code> and <code>legend</code>, <code>title</code> is only passed to <code>legend</code>, and <code>ylim</code> only to <code>plot</code>. </p>

<hr>

<p><strong>Update 2 based on a comment by Gavin Simpson (see also the comments at Vitoshka's answer):</strong><br>
(i) That's correct.<br>
(ii) It can always be a character. But if you have a variable with the same name as the function, then you need to quote the function name in <code>do.call</code>:</p>

<pre><code>min.plot &lt;- function(x,y,plot=TRUE) if(plot == TRUE) do.call(plot, list(x = x, y = y))
min.plot(1,1)
Error in do.call(plot, list(x = x, y = y)) : 
  'what' must be a character string or a function
</code></pre>

<p>(iii) You can use <code>c(x = 1, y = 1, list())</code> and it works fine. However, what I really did (not in the example I gave but in my real function) is the following: <code>c(x = 1, y = 1, xlim = c(0, 2), list(bla='foo'))</code><br>
Please compare this with: <code>c(list(x = 1, y = 1, xlim = c(0, 2)), list(bla='foo'))</code><br>
In the first case, the list contains two elements <code>xlim</code>, <code>xlim1</code> and <code>xlim2</code> (each a scalar), in the latter case the list has only <code>xlim</code> (which is vector of length 2, which is what I wanted). </p>

<p>So, you are right in all your points for my example. But, for my real function (with a lot more variables), I encountered these problems and wanted to document them here. Sorry for being imprecise.</p>
","289572","","289572","","2010-11-11 16:57:28","2018-09-19 12:36:40","Is there a way to use two '...' statements in a function in R?","<function><r><argument-passing><optional-arguments>","4","3","29","","","CC BY-SA 2.5","4124900","4452","4452","r","404559","3625322","3607736","",""
"4125788","1","4125903","","2010-11-08 16:27:44","","18","9052","<p>Now that the whole world is clambering to use SSL all the time (a decision that makes a lot of sense) some of us who have used github and related services to store csv files have a little bit of a challenge. The read.csv() function does not support SSL when reading from a URL. To get around this I'm doing a little dance I like to call the SSL kabuki dance. I grab the text file with RCurl, write it to a temp file, then read it with read.csv(). Is there a smoother way of doing this? Better work-arounds?</p>

<p>Here's a simple example of the SSL kabuki:</p>

<pre><code>require(RCurl)
myCsv &lt;- getURL(""https://gist.github.com/raw/667867/c47ec2d72801cfd84c6320e1fe37055ffe600c87/test.csv"")
temporaryFile &lt;- tempfile()
con &lt;- file(temporaryFile, open = ""w"")
cat(myCsv, file = con) 
close(con)

read.csv(temporaryFile)
</code></pre>
","37751","","","","","2015-02-25 11:48:38","reading csv files over ssl with R","<r><ssl><rcurl>","6","0","11","","","CC BY-SA 2.5","4125788","4452","4452","r","404559","3625322","3607736","",""
"4125916","1","11144973","","2010-11-08 16:40:39","","7","1282","<p>I am trying to use R to analyze large DNA sequence files (fastq files, several gigabytes each), but the standard R interface to these files (ShortRead) has to read the entire file at once. This doesn't fit in memory, so it causes an error. Is there any way that I can read a few (thousand) lines at a time, stuff them into an in-memory file, and then use ShortRead to read from that in-memory file? </p>

<p>I'm looking for something like Perl's IO::Scalar, for R.</p>
","125921","","168747","","2011-01-24 15:39:35","2012-06-22 20:14:38","Is there a way to read and write in-memory files in R?","<r><file-io><memory-management><large-files><in-memory>","4","2","5","","","CC BY-SA 2.5","4125916","4452","4452","r","404559","3625322","3607736","",""
"4126326","1","4126475","","2010-11-08 17:29:43","","81","121385","<p>I see a lot of questions and answers re <code>order</code> and <code>sort</code>. Is there anything that sorts vectors or data frames into groupings (like quartiles or deciles)? I have a ""manual"" solution, but there's likely a better solution that has been group-tested.</p>

<p>Here's my attempt:</p>

<pre><code>temp &lt;- data.frame(name=letters[1:12], value=rnorm(12), quartile=rep(NA, 12))
temp
#    name       value quartile
# 1     a  2.55118169       NA
# 2     b  0.79755259       NA
# 3     c  0.16918905       NA
# 4     d  1.73359245       NA
# 5     e  0.41027113       NA
# 6     f  0.73012966       NA
# 7     g -1.35901658       NA
# 8     h -0.80591167       NA
# 9     i  0.48966739       NA
# 10    j  0.88856758       NA
# 11    k  0.05146856       NA
# 12    l -0.12310229       NA
temp.sorted &lt;- temp[order(temp$value), ]
temp.sorted$quartile &lt;- rep(1:4, each=12/4)
temp &lt;- temp.sorted[order(as.numeric(rownames(temp.sorted))), ]
temp
#    name       value quartile
# 1     a  2.55118169        4
# 2     b  0.79755259        3
# 3     c  0.16918905        2
# 4     d  1.73359245        4
# 5     e  0.41027113        2
# 6     f  0.73012966        3
# 7     g -1.35901658        1
# 8     h -0.80591167        1
# 9     i  0.48966739        3
# 10    j  0.88856758        4
# 11    k  0.05146856        2
# 12    l -0.12310229        1
</code></pre>

<p>Is there a better (cleaner/faster/one-line) approach? Thanks!</p>
","334755","","2370483","","2019-01-26 03:09:15","2019-04-23 12:11:28","How to quickly form groups (quartiles, deciles, etc) by ordering column(s) in a data frame","<r><sorting><dataframe>","10","0","54","","","CC BY-SA 3.0","4126326","4452","4452","r","404559","3625322","3607736","",""
"4128526","1","4129338","","2010-11-08 22:04:28","","20","49781","<p>I'm creating a histogram in R which displays the frequency of several events in a vector. Each event is represented by an integer in the range [1, 9]. I'm displaying the label for each count vertically below the chart. Here's the code:</p>

<pre><code>hist(vector, axes = FALSE, breaks = chartBreaks)
axis(1, at = tickMarks, labels = eventTypes, las = 2, tick = FALSE) 
</code></pre>

<p>Unfortunately, the labels are too long, so they are cut off by the bottom of the window. How can I make them visible? Am I even using the right chart?</p>
","156787","","","","","2010-11-09 14:59:03","How can I make my vertical labels fit within my plotting window?","<r>","4","0","7","","","CC BY-SA 2.5","4128526","4452","4452","r","404559","3625322","3607736","",""
"4130059","1","4130345","","2010-11-09 02:48:14","","0","2179","<p>Here is my code with the corresponding output</p>

<pre><code>&gt; tkplot(g.2,vertex.label=nodes,
+   canvas.width=700,
+   canvas.height=700)
[1] 6

&gt; ?tkplot
Warning message:
In rm(list = cmd, envir = .tkplot.env) : object 'tkp.6' not found
</code></pre>

<p>I get this error no matter what command I run after building and viewing my plot.</p>

<p>This may be obvious, but I can't get at the data from the plot.</p>

<pre><code>&gt; tkp.6.getcoords
Error: object 'tkp.6.getcoords' not found
</code></pre>

<p>Any thoughts?  On Windows 2007 Pro.</p>
","155406","","","","","2010-11-09 03:46:47","tkplot in igraph within R","<r><igraph>","1","0","","","","CC BY-SA 2.5","4130059","4452","4452","r","404559","3625322","3607736","",""
"4131338","1","4137817","","2010-11-09 07:25:22","","112","293929","<p>I found this <a href=""http://r.789695.n4.nabble.com/How-to-comment-in-R-tt882882.html#none"" rel=""noreferrer"">old thread</a> (from over a year ago), which explains how come R doesn't support a multi-line comments (like /*  comment */ of PHP, for example).</p>

<p>I am wondering if this has been resolved in the past year, or if there are other alternatives?  (For example, in notepad++ with npptor, you can mark a bunch of lines and press ctrl+q to mark them all as comments, are there similar solutions for other IDE's ?)</p>
","256662","","","","","2017-09-11 21:21:58","Is it possible to have a multi-line comments in R?","<r><comments>","7","1","35","2013-04-04 13:57:26","","CC BY-SA 2.5","4131338","4452","4452","r","404559","3625322","3607736","",""
"4131584","1","4133179","","2010-11-09 08:12:06","","2","229","<p>I have a set of hospital admission data that I need to process, I am stuck when trying to loop the data and pick up the stuff I need, here is the example:</p>

<pre><code>Date Ward
1    A
2    A
3    A
4    A B
5    A
6    A
7    A  C
8       C
9       C
10      C
</code></pre>

<p>And I need them to be transformed into:</p>

<pre><code>Ward Adm_Date Dis_Date
A    1        4
B    4        4
A    4        7
C    7        10
</code></pre>

<p>To put it in sentence, this is a admission record patient X who:</p>

<ul>
<li>go to ward A from day 1 to day 4</li>
<li>go to ward B (maybe it's an ICU ward) for less than a day in day 4, and move back to ward A on that day</li>
<li>stay in ward A from day 4 to day 7</li>
<li>move to ward C from ward A from day 7 and stay in ward C till day 10</li>
</ul>

<p>I am thinking of using <code>ddply</code> by filtering the ward but it is not OK since B will be ""omitted"" and the period of time for A is not broken down into 2 pieces.</p>

<p>Any suggestions? Thanks!</p>
","373908","","373908","","2010-11-09 09:34:24","2010-11-10 16:24:23","processing of hospital admission data using R","<r>","2","4","1","","","CC BY-SA 2.5","4131584","4452","4452","r","404559","3625322","3607736","",""
"4134710","1","","","2010-11-09 14:24:49","","3","1277","<p>I have some zoo series that use POSIXct index.</p>

<p>In order to aggregate by days I've tried these two ways:</p>

<pre><code>aggregate(myzoo,format((index((myzoo)),""%Y-%m-%d"")),sum)

aggregate(myzoo,as.Date(index(myzoo)),sum)
</code></pre>

<p>I don't know why they don't give the same output.
myzoo series had the weekends removed.   The ""as.Date way"" seems to be OK but the  ""format way"" aggregation gives me data on the weekends.</p>

<p>Why?</p>

<p>Which one is the right?</p>

<p>I've even tried it <code>as.POSIXct(format(...))</code></p>
","425895","","1921273","","2013-02-02 23:44:12","2013-02-02 23:44:12","R: Aggregating by dates with POSIXct?","<r><date>","1","3","1","","","CC BY-SA 3.0","4134710","4452","4452","r","404559","3625322","3607736","",""
"4135102","1","4135125","","2010-11-09 15:00:28","","1","1575","<p>I have the following data sets in R:</p>

<pre><code>&gt; closed
 [1] 57637 31508 54113  2348  4747 68284 61779 36654 31399 54126 11232 60659 42968 56388  5114 66289 69491 45668   879 65649 71172 36120 61802  7699 70982
[26] 65720

&gt; length(closed)
[1] 26

&gt; stlist[1:5,]
          M.Type      M.Code                 M.Name    B.Code               B.Name          B.Region
1             5M        1759            Istanbul 5M    110007               Taksim               Ist
2             5M       62461              Edirne 5M    110007            Aysekadin               Ist
3             5M       69493            Tekirdag 5M    110431             Tekirdag               Ist
4             5M        7516              Ankara 5M    110548             Batikent               Ank
5             5M       14148               Bursa 5M    110351                Bursa               Ist

&gt; nrow(stlist)
[1] 1830
</code></pre>

<p>I want to look up all values of ""closed"" in ""stlist$M.Code"" and create a new data frame which only includes the rows with the 26 ""M.Code""s with all 6 columns of ""stlist"". How can I do that?</p>
","192377","","4370109","","2015-12-03 21:06:02","2015-12-03 21:06:02","Looking up values in R","<r><list><dataset><lookup>","2","0","1","","","CC BY-SA 2.5","4135102","4452","4452","r","404559","3625322","3607736","",""
"4135936","1","4139571","","2010-11-09 16:19:41","","8","837","<p>I'm trying to get a grip on C++/Rcpp as an extension to R for heavy computational tasks. Ultimately, these C++ libs should be integrated in a package, and therefor I'm looking for a setup / combination of tools / IDE that I would need to work easily. I know much is taste dependent, but still it would be nice to know my options before choosing.</p>

<p>So : when you develop R packages with C++ libs, what is the setup you work with?</p>

<ul>
<li>do you use the same editor / IDE for R and C++ and which one (or which ones) ?</li>
<li>are there extra tools (apart from Rtools) that are important to get ?</li>
<li>are there tweaks in the general setup that are important to know or speed up the process considerably?</li>
</ul>

<p>Sorry if this question has been asked before. I found a list of all editors for R, but nothing specifically directed towards developing of packages including C++ code. Any hints or tips are really appreciated.</p>

<p>Edit : platform is Windows, but I can move to Linux without problems (dual boot, only thing keeping me from using ubuntu is the lack of a decent driver for my old card/old screen combination)</p>
","428790","","428790","","2010-11-09 20:35:19","2013-08-12 18:31:44","IDE / setup for package development with C++ code integrated","<c++><r><ide><package><rcpp>","4","2","2","","","CC BY-SA 2.5","4135936","4452","4452","r","404559","3625322","3607736","",""
"4137556","1","","","2010-11-09 19:21:41","","4","1009","<p>I want to rank a set of variables every day (starting with a <code>zoo</code> series).  </p>

<p>Here's an example:</p>

<pre><code>set.seed(1)
x &lt;- zoo(matrix(rnorm(9), nrow=3), as.Date(""2010-01-01"") + 0:2)
colnames(x) &lt;- letters[1:3]
</code></pre>

<p>The only way I know to do this is with <code>rollapply</code>, but this is quite slow.  </p>

<pre><code>&gt;  rollapply(x, 1, rank, by.column=FALSE)
           a b c
2010-01-01 1 3 2
2010-01-02 1 2 3
2010-01-03 1 2 3
</code></pre>

<p>Any other suggestions?</p>
","171249","","","","","2010-11-09 19:47:57","R: Rolling rank of multivariate time series?","<r><time-series><zoo>","2","0","1","","","CC BY-SA 2.5","4137556","4452","4452","r","404559","3625322","3607736","",""
"4137736","1","4138135","","2010-11-09 19:39:53","","10","9477","<p>I'm running several hundred datasets through <code>glm.nb</code> using a wrapper function. Nothing fancy, I just pass on each list item via <code>llply</code>, then fit using <code>glm.nb</code>, write the coefficients to a <code>data.frame</code> and return that back.</p>

<p>Not surprisingly, glm.nb fails to converge for some datasets. Rather than have the function cough up an error and stop, I'd prefer that it continue through the rest of the datasets and return results where possible.</p>

<p>My first attempt was this:</p>

<pre><code>res.model &lt;- function(x)
       {
       res &lt;- try(invisible(glm.nb(x~y, data=x)))
   if(!(""try-error"" %in% class(res)))
       {
    return (data.frame(site=unique(x$site_name),species=unique(x$species),coef=res$coefficients[2]))
       }
 }
</code></pre>

<p>Any thoughts on a more generic way to ignore errors so I can make this work?</p>
","313163","","37751","","2010-11-09 20:18:12","2010-11-09 23:32:51","How do I ignore errors and continue processing list items?","<r><error-handling>","2","2","3","","","CC BY-SA 2.5","4137736","4452","4452","r","404559","3625322","3607736","",""
"4138017","1","4138160","","2010-11-09 20:06:53","","6","944","<p>There are so many goodies that come with a modern Unix shell environment that the thing I need is almost always installed on my machine or a quick download away; the trouble is just finding it. In this case, I'm trying to find basic statistical operations.</p>

<p>For example, right now I'm prototyping a crawler-based app. Thanks to wget plus some other goodies, I now have a few hundred thousand files. So I can estimate the cost of doing this with billions of files, I'd like to get the mean and median of file sizes over a certain limit. E.g.:</p>

<pre><code>% ls -l | perl -ne '@a=split(/\s+/); next if $a[4] &lt;100; print $a[4], ""\n""' &gt; sizes
% median sizes
% mean sizes
</code></pre>

<p>Sure, I could code my own median and mean bits in a little bit of perl or awk. But isn't there already some noob-friendly package that does this and a lot more besides?</p>
","123248","","143305","","2010-11-09 21:21:09","2010-11-09 21:21:09","Best way in the shell to do basic statistics?","<unix><r><shell><statistics>","1","0","1","","","CC BY-SA 2.5","4138017","4452","4452","r","404559","3625322","3607736","",""
"4138348","1","13341975","","2010-11-09 20:37:54","","2","310","<p>I was wondering if there is a counterpart to scipy.linalg.cho_solve in R. What the function does is given the cholesky factor L of A (A = LL') and b, it solves the original problem, Ax = b. (not Lx = b)</p>

<p>(So it is different from backsolve/forwardsolve)</p>

<p>Thank you,
Joon</p>
","439325","","","","","2016-04-05 04:21:00","scipy.linalg.cho_solve counterpart in R?","<r><scipy>","3","0","","","","CC BY-SA 2.5","4138348","4452","4452","r","404559","3625322","3607736","",""
"4138786","1","4139157","","2010-11-09 21:23:33","","8","51670","<p>I've mostly used head(), tail(), and View() to look at tables in R, but I wonder if anyone uses anything more sophisticated. I recall reading that there were R &lt;-> Excel interfaces available (based on COM or XLLoop?) - does anyone use one to use Excel (or OpenOffice) to display data frames during an R session, and not necessarily just result the final result exported to a csv file?</p>

<p><strong>Edit:</strong> Thanks for all the suggestions. I guess I should have specified that I was running Emacs+ESS on a Mac primarily (which disqualifies COM and Deducer), though I also switch to Linux and Windows on occasion. I guess View() still is the best multi-platform solution that I could find...</p>
","143476","","143476","","2010-11-11 11:53:33","2016-09-14 01:48:53","Viewing tables of data in R","<r>","8","1","7","","","CC BY-SA 2.5","4138786","4452","4452","r","404559","3625322","3607736","",""
"4139032","1","4139124","","2010-11-09 21:50:45","","4","3421","<p>This is a problem that comes up often when I am importing raw data from data loggers. A temperature logger is set to record temperature every ten minutes, and a separate gas logger is set to record gas used in the last ten minute interval. I want to combine the data from these two loggers into a single data frame for plotting and analysis, but the times are not exactly aligned. I want to have one row in the data frame for each ten minute period, with the datetime showing the beginning of the time period.</p>

<p>The temperature logger data looks like:</p>

<blockquote>
<pre><code>           datetime temperature
2010-09-30 06:58:53 78.996
2010-09-30 07:08:53 78.645
2010-09-30 07:18:53 78.514
2010-09-30 07:28:53 79.173
2010-09-30 07:38:53 78.602
</code></pre>
</blockquote>

<p>The gas logger data looks like:</p>

<blockquote>
<pre><code>           datetime gas
2010-09-30 13:45:00  0
2010-09-30 13:55:00  1
2010-09-30 14:05:00  0
2010-09-30 14:15:00  4
2010-09-30 14:25:00  2
</code></pre>
</blockquote>

<p>I want to combine the two data frames on ten minute intervals, so that the combined data looks like:</p>

<blockquote>
<pre><code>           datetime temperature gas  
2010-09-30 13:40:00 NA          0
2010-09-30 13:50:00 78.996      1
2010-09-30 14:00:00 78.645      0
2010-09-30 14:10:00 78.514      4
2010-09-30 14:20:00 79.173      2
2010-09-30 07:38:53 78.602      NA
</code></pre>
</blockquote>

<p>Here's some code to get these two data frames:</p>

<pre><code>temps &lt;- data.frame(datetime=c(""2010-09-30 06:58:53"",
""2010-09-30 07:08:53"",""2010-09-30 07:18:53"",
""2010-09-30 07:28:53"",""2010-09-30 07:38:53""),
 temperature=c(78.996,78.645,78.514,79.173,78.602),
stringsAsFactors=FALSE)
temps$datetime &lt;- strptime(temps$datetime, format=""%Y-%m-%d %H:%M:%S"")
gas &lt;- data.frame(datetime=c(""2010-09-30 13:45:00"",
""2010-09-30 13:55:00"",""2010-09-30 14:05:00"",
""2010-09-30 14:15:00"",""2010-09-30 14:25:00""),
gas=c(0,1,0,4,2),stringsAsFactors=FALSE)
gas$datetime &lt;- strptime(temps$datetime, format=""%Y-%m-%d %H:%M:%S"")
</code></pre>
","","user399470","271616","","2010-11-10 04:03:19","2010-11-10 04:03:19","How do I match data frames by time intervals?","<r><zoo><xts>","2","0","4","","","CC BY-SA 2.5","4139032","4452","4452","r","404559","3625322","3607736","",""
"4139319","1","4139502","","2010-11-09 22:27:02","","2","811","<p>I am using <code>GROUP BY</code> to aggregate over an item per month. I would like the <code>SUM</code> of one column and the product of another. I can't find a product operator online or in my book... but is there a series of other operators that will build the product operator?</p>

<p>In a pinch, I can do the product operating in R, which is where the data are heading, but I would love to minimize the amount of looping I do.</p>

<p>Thanks!</p>

<p>Update: OK, so I really wanted to create a product aggregator to send the product of a column back to R. In trying to answer a futerh downstream question I got the answer that put it all together. There's already a library of common functions not incorporated into SQLite (the <a href=""http://www.sqlite.org/contrib//download/extension-functions.c?get=25"" rel=""nofollow noreferrer"">Healey functions</a>). I can easily use these functions in R using a library (<a href=""http://cran.r-project.org/web/packages/RSQLite.extfuns/index.html"" rel=""nofollow noreferrer"">RSQLite.extfuns</a>). So I can create the product aggregator by exponentiating the sum of logs. Thanks to DWin for <a href=""https://stackoverflow.com/questions/4173019/load-macports-sqlite3-when-using-rsqlite-library"">showing</a> me the key piece about the RQLite.extfuns library.</p>
","334755","","-1","","2017-05-23 11:56:09","2010-11-13 18:14:51","Is there a product operator (or work around) in SQLite?","<r><sqlite><aggregate><product>","2","0","","","","CC BY-SA 2.5","4139319","4452","4452","r","404559","3625322","3607736","",""
"4139986","1","","","2010-11-10 00:01:51","","9","287","<p>whenever I run some R code with Sweave, it displays the terminal arrows ("">"") in the document. This is fine for session inputs, but sometimes I'd like to include custom functions. When arrows show up in the document, it is more difficult to copy and paste important snippets of code. Is there a quick way to do this?</p>

<p>I know I can run the code while suppressing the output all together, and then copy that code into a \Verbatim, but that requires extra typing. </p>

<p>Thanks</p>

<pre><code>dumbo &lt;- function(x)
  2*x
</code></pre>

<p>instead of </p>

<pre><code>&gt; dumbo &lt;- function(x)
&gt;   2*x
</code></pre>
","355014","","","","","2012-05-15 13:44:19","Can I suppress the arrow ("">"") in the R/S output in Sweave?","<r><latex><sweave>","3","0","2","","","CC BY-SA 2.5","4139986","4452","4452","r","404559","3625322","3607736","",""
"4140371","1","4140903","","2010-11-10 01:10:46","","9","6188","<p>I would appreciate insight into why this happens and how I might do this more eloquently.</p>

<p>When I use sapply, I would like it to return a 3x2 matrix, but it returns a 2x3 matrix. Why is this? And why is it difficult to attach this to another data frame?</p>

<pre><code>a &lt;- data.frame(id=c('a','b','c'), var1 = c(1,2,3), var2 = c(3,2,1))
out &lt;- sapply(a$id, function(x) out = a[x, c('var1', 'var2')])
#out is 3x2, but I would like it to be 2x3
#I then want to append t(out) (out as a 2x3 matrix) to b, a 1x3 dataframe
b &lt;- data.frame(var3=c(0,0,0))
</code></pre>

<p>when I try to attach these,</p>

<pre><code>b[,c('col2','col3')] &lt;- t(out)
</code></pre>

<p>The error that I get is:</p>

<pre><code>Warning message:
In `[&lt;-.data.frame`(`*tmp*`, , c(""col2"", ""col3""), value = list(1,  :
  provided 6 variables to replace 2 variables
</code></pre>

<p>although the following appears to give the desired result:</p>

<pre><code>rownames(out) &lt;- c('col1', 'col2')
b &lt;- cbind(b, t(out))
</code></pre>

<p>I can not operate on the variables:</p>

<pre><code>b$var1/b$var2
</code></pre>

<p>returns</p>

<pre><code>Error in b$var1/b$var2 : non-numeric argument to binary operator
</code></pre>

<p>Thanks!</p>
","199217","","199217","","2010-11-10 01:20:40","2018-03-22 19:59:20","Why does sapply return a matrix that I need to transpose, and then the transposed matrix will not attach to a dataframe?","<r><data-structures><vectorization><apply>","3","4","1","","","CC BY-SA 2.5","4140371","4452","4452","r","404559","3625322","3607736","",""
"4140564","1","4140576","","2010-11-10 01:52:16","","1","125","<p>I want to output latex versions of my tables. I use xtable() to do so, with one major problem. When I try to generate latex tables from within a function that I call (which typically does lots of other things as well), the files get written as zero length! (I run Windows 7 x64, and use R 2.11).</p>

<p>Example:</p>

<pre><code>fnc &lt;- function (my.table) {
    sink(file=""paper/tables/output.tex"",caption=""my caption"")
    xtable(my.table)
    sink()
}
</code></pre>

<p>When I run the three lines inside the function directly, the file is written correctly. When I call fnc(my.table), the file is written as zero-length.</p>

<p>Why? Thanks!</p>
","170408","","","","","2010-11-10 01:54:41","xtable output is zero length when called from function","<r><xtable>","1","0","0","","","CC BY-SA 2.5","4140564","4452","4452","r","404559","3625322","3607736","",""
"4140833","1","4141028","","2010-11-10 02:59:08","","2","3196","<p>I am trying to isolate entries in a dataframe which share common values: see below to reconstruct a portion of my df:</p>

<pre><code>Stand&lt;-c(""MY"",""MY"",""MY"",""MY"",""MY"")
Plot&lt;-c(12,12,12,12,12)
StumpNumber&lt;-c(1,2,3,3,7)
TreeNumber&lt;-c(1,2,3,4,8)
sample&lt;-data.frame(Stand,Plot,StumpNumber,TreeNumber)
sample
</code></pre>

<p>And get an output that tells me which entries have common values.  In other words, to quickly isolate situations where there is more than one TreeNumber (or more than one row) for a given Stand,Plot,StumpNumber combination. In the example code that would be that StumpNumber 3 has TreeNumber 3 and TreeNumber 4.  </p>

<p>My understanding of duplicated() is that can find instances where duplicated values occur within a single column- what can I do to find situations where a common combination of columns occurs?</p>

<p>Thanks.</p>
","416566","","271616","","2010-11-10 03:19:33","2010-11-10 23:10:52","R: Finding patterns across multiple columns- possibly duplicated()?","<r>","2","2","","","","CC BY-SA 2.5","4140833","4452","4452","r","404559","3625322","3607736","",""
"4141588","1","","","2010-11-10 05:47:11","","21","29447","<p>My questions is how can join two or more data frames in system R?</p>
<p>For example:</p>
<p>I have two data frames:</p>
<p>first:</p>
<pre><code>   x  y  z
1  3  2  4
2  4  5  7
3  5  6  8
</code></pre>
<p>second:</p>
<pre><code>   x  y  z
1  1  1  1
2  4  5  7
</code></pre>
<p>I need this:</p>
<pre><code>   x  y  z
1  3  2  4
2  4  5  7
3  5  6  8
4  1  1  1
5  4  5  7
</code></pre>
<p>I tried to use append for each vector, like this:</p>
<blockquote>
<p>for( i in 1:length(first)){</p>
<pre><code>    mix[[i]]&lt;-append(first[i], second[i])}
</code></pre>
<p>f&lt;-do.call(rbind, mix)</p>
</blockquote>
<p>But It didn't work like I needed. I didn't get my matrix, i got some different structure.</p>
","502797","","-1","","2020-06-20 09:12:55","2010-11-10 10:14:48","join two or more data frames in system R","<r><join><dataframe><rbind>","1","1","3","","","CC BY-SA 2.5","4141588","4452","4452","r","404559","3625322","3607736","",""
"4143611","1","4145055","","2010-11-10 10:45:48","","38","6967","<p>As I'm often confronted with situations where S4 programming is needed to keep an overview, I've collected quite some sources on S4 objects, methods and programming. I've listed them here as a reference. Please add your own sources as well.</p>

<p><strong>On the web</strong></p>

<ul>
<li><a href=""http://stat.ethz.ch/R-manual/R-devel/library/methods/html/Methods.html"">The <code>methods</code> help files</a> : help files from the package methods, where much of the necessary information can be found</li>
<li><a href=""http://www.stat.auckland.ac.nz/S-Workshop/Gentleman/S4Objects.pdf"">S4 classes in 15 pages</a> : Short introduction on the programming with S4 objects.</li>
<li><a href=""http://developer.r-project.org/howMethodsWork.pdf"">How S4 methods work</a> : more explanation about the underlying mechanisms.</li>
<li><a href=""http://cran.r-project.org/doc/contrib/Genolini-S4tutorialV0-5en.pdf"">Not so short introduction to S4</a> : with practical examples of how to construct the classes and some useful tips. It contains a handy overview as appendix, but contains errors as well. Care should be taken using this one.</li>
<li><a href=""http://www.math.ku.dk/~richard/courses/bioconductor2009/handout/17_08_Monday/OOP-handouts.pdf"">OOP in R</a> : handout notes with practical examples on S3 and S4</li>
<li><a href=""http://www.soph.uab.edu/Statgenetics/Events/Rshort/060227-8-s4slides.pdf"">S4 Objects</a> : presentation by Thomas Lumley about S4 objects.</li>
<li><a href=""https://github.com/lgatto/roo"">R object oriented programming </a> : in-depth introduction to object oriented programming in R. It covers S3, S4 and S4 reference classes. The accompanying <a href=""https://github.com/lgatto/sequences/"">sequences</a> package implements the class system used throughout the slides.</li>
</ul>

<p><strong>Books</strong></p>

<ul>
<li>Software for Data Analysis-Programming with R (J. Chambers) : A classic, although not reviewed positive everywhere, that contains a large section on S4</li>
<li>R programming for Bioinformatics (R. Gentleman) : specifically directed towards working with Bioconductor, which is completely based on S4. But it gives a broad overview and is useful for many other people too.</li>
</ul>

<p>PS : if somebody finds the community checkbox, you can make this a community-owned post. Somehow I can't find it in the edit window any more...</p>
","428790","","891259","","2014-07-28 09:54:31","2015-04-03 13:39:03","Sources on S4 objects, methods and programming in R","<r><reference><manual><s4>","3","4","48","2020-01-28 00:23:06","","CC BY-SA 3.0","4143611","4452","4452","r","404559","3625322","3607736","",""
"4145400","1","4146131","","2010-11-10 14:16:26","","11","7558","<p>When performing a factor analysis using factanal the usual result is some loadings table plus several other information. Is there a direct way to use these loadings to create a matrix / data.frame of factors? For example to use them in regression analysis later on. </p>

<p>EDIT: the purpose of this is to obtain variables for subsequent modeling. I only know of factor scores but suggestions / pointers to other terminology are welcome :)</p>

<p>EDIT2: Joris Meys answer answer is basically what I was asking for. Still though it moves my question towards a direction that might be better suited for statsoverflow, but I will keep it here for now, because the right group of people is the discussing the solution: </p>

<p>Whats the benefit of the regression based scores? The result of the product (ML) is highly correlated with the factors... Honestly I wonder why the difference is that big in my case?</p>

<pre><code> fa$scores # the correct solution
 fac &lt;- m1 %*% loadings(fa) # the answer on your question
 diag(cor(fac,fa$scores))
 #returns:
Factor1   Factor2   Factor3 
0.8309343 0.8272019 0.8070837 
</code></pre>
","366256","","366256","","2010-11-10 23:45:20","2018-08-07 03:32:37","How to create factors from factanal?","<r><statistics>","4","0","7","","","CC BY-SA 2.5","4145400","4452","4452","r","404559","3625322","3607736","",""
"4146669","1","4146829","","2010-11-10 16:32:14","","18","4473","<p>what's the best way to generate a word-processor file (ideally as platform-independent as possible, but native Word formats will do), with images in it, from the statistical language R?</p>
","254837","","496830","","2011-12-04 07:10:59","2018-02-10 21:55:56","How do I generate a document (.rtf, .doc, .odt) from R","<r><ms-word><ms-office><document><openoffice.org>","6","1","10","","","CC BY-SA 2.5","4146669","4452","4452","r","404559","3625322","3607736","",""
"4147961","1","","","2010-11-10 18:55:15","","1","502","<p>I would like to close an rpanel panel by a button on the panel (through the ""action"" function that would be triggered by the rp.button statement below).    I've read the rpanel documentation, but so far, the only way I can close the panel is to manually close the window itself (which doesn't allow me to perform other actions before the window/panel closes).</p>

<pre><code>library(rpanel)
panel &lt;- rp.control(title = ""Test"")
rp.button(panel,""Close"")
</code></pre>

<hr>

<p>Edit on 11/11/2010</p>

<p>I must be blind.   After going down many other paths, looking for some type of ""destroy"", ""close"", or ""kill"" function, I bumped into the ""quitbutton"" part of the rp.button() function.    It's in the help file, however you have to scroll far to the right to find it.</p>

<p>Anyway, this means the above can be written as:</p>

<pre><code>library(rpanel)
do.before.close&lt;-function(panel) {
   print(""Do stuff here"")
   panel
}

panel &lt;- rp.control(title = ""Test"")
rp.button(panel,""Close"", action=do.before.close, quitbutton = TRUE)
</code></pre>
","503636","","805808","","2011-11-05 12:38:05","2011-11-05 12:38:05","How do you close an rpanel panel from the program?","<r>","1","0","2","","","CC BY-SA 3.0","4147961","4452","4452","r","404559","3625322","3607736","",""
"4149214","1","4149373","","2010-11-10 21:23:50","","2","3433","<p>I have a large dataset with the lifespan of threads on an discussion board. I want  a histogram that shows the distribution of lifespan, so I did this:</p>

<pre><code>dall &lt;- read.csv(""lifespan.csv"")
colnames(dall) &lt;- c(""thread.id"", ""seconds.alive"", ""start.time"")
hist(dall$seconds.alive)
</code></pre>

<p>which generated this hard to read image:
<img src=""https://i.stack.imgur.com/muHvy.png"" alt=""http://dl.dropbox.com/u/285483/tmp/screenshot297.png""></p>

<p>My questions are
a) is changing y-axis to a log-scale a good way to make it more readable? Apparently <a href=""http://finzi.psych.upenn.edu/Rhelp10/2010-August/250909.html"" rel=""nofollow noreferrer"">some people think is a bad idea</a> to change y-axis to log.</p>

<p>b) how do I do that?</p>
","114989","","","","","2016-02-21 12:08:10","how to use a log scale for y-axis of histogram in R?","<r><statistics><histogram>","1","2","1","","","CC BY-SA 2.5","4149214","4452","4452","r","404559","3625322","3607736","",""
"4150078","1","4150257","","2010-11-10 23:21:57","","5","2315","<p>I am using emacs-snapshot with the ssh.el package, following the instructions from the ess manual.</p>

<p>There are a few ways to open an R session, but this is how I do it:</p>

<ol>
<li>open emacs</li>
<li>C-x C-f /server:dir/file.R this puts me in ESS [S] mode</li>
<li>Type 'plot(1)'</li>
<li>C-c C-n to run</li>
<li>emacs asks for starting directory, and I choose the /server:dir/</li>
<li>I would like for a figure to pop up but it wont.</li>
</ol>

<p>This also doesn't work when using ess-remote in shell or tramp mode, but it does work if I set the starting directory to my local desktop.</p>

<p>Any advice much appreciated. My current workaround is to print the file to pdf and then open pdf in DocView mode, but this takes a few extra steps and is slow.</p>
","199217","","199217","","2011-02-18 03:27:51","2011-02-18 03:27:51","How can I launch an x-window from emacs ess when running R on a server?","<r><emacs><ess><x11>","2","5","5","","","CC BY-SA 2.5","4150078","4452","4452","r","404559","3625322","3607736","",""
"4150171","1","4152016","","2010-11-10 23:39:59","","135","215796","<p>In R I can create the desired output by doing: </p>

<pre><code>data = c(rep(1.5, 7), rep(2.5, 2), rep(3.5, 8),
         rep(4.5, 3), rep(5.5, 1), rep(6.5, 8))
plot(density(data, bw=0.5))
</code></pre>

<p><img src=""https://i.stack.imgur.com/YFEin.png"" alt=""Density plot in R""></p>

<p>In python (with matplotlib) the closest I got was with a simple histogram:</p>

<pre><code>import matplotlib.pyplot as plt
data = [1.5]*7 + [2.5]*2 + [3.5]*8 + [4.5]*3 + [5.5]*1 + [6.5]*8
plt.hist(data, bins=6)
plt.show()
</code></pre>

<p><img src=""https://i.stack.imgur.com/LqadU.png"" alt=""Histogram in matplotlib""></p>

<p>I also tried <a href=""http://matplotlib.sourceforge.net/examples/api/histogram_demo.html"" rel=""noreferrer"">the normed=True parameter</a> but couldn't get anything other than trying to fit a gaussian to the histogram.</p>

<p>My latest attempts were around <code>scipy.stats</code> and <code>gaussian_kde</code>, following examples on the web, but I've been unsuccessful so far.</p>
","125801","","","","","2020-10-23 17:02:28","How to create a density plot in matplotlib?","<python><r><numpy><matplotlib><scipy>","6","1","56","","","CC BY-SA 2.5","4150171","4452","4452","r","404559","3625322","3607736","",""
"4150267","1","4188691","","2010-11-10 23:58:26","","1","683","<p>I've created custom, two level x-axis entries that tend to work pretty well. The only problem is that when my y-axis, proportion, is close to one, these axis entries spill onto the chart area. When I use vjust to manually alter their vertical position, part of each entry is hidden by the chart boundary. </p>

<p>Any suggestions for how to make chart boundaries that dynamically adjust to accommodate large y-axis values and the full text of each entry (without running on to the chart). </p>

<p>Have a look at the following example: </p>

<pre><code>library(ggplot2)

GroupType &lt;- rep(c(""American"",""European""),2)
Treatment &lt;- c(rep(""Smurf"",2),rep(""OompaLoompa"",2))
Proportion &lt;- rep(1,length(GroupType))
PopulationTotal &lt;- rep(2,length(GroupType))

sampleData &lt;- as.data.frame(cbind(GroupType,Treatment,Proportion,PopulationTotal))

hist_cut &lt;- ggplot(sampleData, aes(x=GroupType, y=Proportion, fill=Treatment, stat=""identity""))

chartCall&lt;-expression(print(hist_cut + geom_bar(position=""dodge"") + scale_x_discrete(breaks = NA) +
geom_text(aes(label = paste(as.character(GroupType),""\n[N="",PopulationTotal,""]"",sep=""""),y=-0.02),size=4) + labs(x="""",y="""",fill="""")
))

dev.new(width = 860, height = 450)
eval(chartCall) 
</code></pre>

<p>Any thoughts about how I can fix the sloppy x-axis text? </p>

<p>Many thanks in advance, 
Aaron</p>
","375267","","168747","","2010-11-15 14:29:28","2010-11-15 20:50:56","Fix for overflowing x-axis text in ggplot2","<r><ggplot2>","1","0","","","","CC BY-SA 2.5","4150267","4452","4452","r","404559","3625322","3607736","",""
"4157926","1","4158119","","2010-11-11 18:28:31","","4","2177","<p>How to have recognized all the libraries Rpy2 R.</p>

<p>Rpy2 not recognizing the libraries, utils, and tools.</p>

<pre><code>import rpy2.robjects as robjects

R = robjects.r  

&gt;&gt;&gt; R['library'](""utils"")

RVector - Python:0x7f65fc85cfc8 / R:0x19bb980

&gt;&gt;&gt; R['library'](""tools"")

RVector - Python:0x7f65fc85f5a8 / R:0x2419140
</code></pre>

<p>(>>> from rpy2.robjects.packages import importr
Traceback (most recent call last):
  File """", line 1, in 
ImportError: No module named packages
)</p>

<p>as I can update Rpy2 to load all the libraries without problems or R that can be done.</p>

<p>PS: I use R 2.10 and python 2.6 on ubuntu</p>
","217228","","1033581","","2019-05-29 03:33:04","2019-05-29 03:33:04","How to have recognized all the libraries Rpy2 R","<python><linux><r><ubuntu><rpy2>","2","0","1","","","CC BY-SA 4.0","4157926","4452","4452","r","404559","3625322","3607736","",""
"4157961","1","4165519","","2010-11-11 18:32:29","","0","1208","<p>I have developed an online survey that stores my data in a Microsoft SQL 2005 database. I have written a set of outlier checks on my data in R. The general workflow for these scripts is:</p>

<ol>
<li>Read data from SQL database with sqlQuery()</li>
<li>Perform outlier analysis</li>
<li>Write offending respondents back to database in separate table using sqlSave()</li>
</ol>

<p>The table I am writing back to has the structure:</p>

<pre><code>CREATE TABLE outliers2(
    modelid int
    , password varchar(50)
    , reason varchar(50),
Constraint PK_outliers2 PRIMARY KEY(modelid, reason)
)
GO
</code></pre>

<p>As you can see, I've set the primary key to be modelid and reason. The same respondent may be an outlier for multiple checks, but I do not want to insert the same modelid and reason combo for any respondent. </p>

<p>Since we are still collecting data, I would like to be able to update these scripts on a daily / weekly basis as I develop the models I am estimating on the data. Here is the general form of the <code>sqlSave()</code> command I'm using:</p>

<pre><code>sqlSave(db, db.insert, ""outliers2"", append = TRUE, fast = FALSE, rownames = FALSE)
</code></pre>

<p>where <code>db</code> is a valid ODBC Connection and <code>db.insert</code> has the form</p>

<pre><code>&gt; head(db.insert)
  modelid password          reason
1     873       abkd WRONG DIRECTION
2     875       ab9d WRONG DIRECTION
3     890       akdw WRONG DIRECTION
4     905       pqjd WRONG DIRECTION
5     941       ymne WRONG DIRECTION
6     944       okyt WRONG DIRECTION
</code></pre>

<p><code>sqlSave()</code> chokes when it tries to insert a row that violates the primary key constraint and does not continue with the other records for the insert. I would have thought that setting <code>fast = FALSE</code> would have alleviated this problem, but it doesn't.</p>

<p>Any ideas on how to get around this problem? I could always <code>drop</code> the table at the beginning of the first script, but that seems pretty heavy handed and will undoubtedly lead to problems down the road.</p>
","415635","","","","","2010-11-12 14:18:18","RODBC sqlSave() stopping insert query when PK violated","<sql-server-2005><r><rodbc>","1","0","","","","CC BY-SA 2.5","4157961","4452","4452","r","404559","3625322","3607736","",""
"4159517","1","","","2010-11-11 21:35:50","","1","1196","<p>I have a CSV file with a list of posts from an online discussion forum. I have the timestamp for each post in this format: YYYY-MM-DD hh:mm:ss. </p>

<p>I want to calculate how often a new post is submitted, as in ""X posts per second"". I think what I need is just the mean, median and sd for the rate of posting (posts per second). I just loaded the CSV:</p>

<pre><code>d &lt;- read.csv(""posts.csv"")
colnames(d) &lt;- c(""post.id"", ""timestamp"")
</code></pre>
","114989","","","","","2010-11-15 22:48:23","Given a list of events with timestamps, how do I use R to calculate the average rate at which such event is happening?","<r><statistics>","3","1","","","","CC BY-SA 2.5","4159517","4452","4452","r","404559","3625322","3607736","",""
"4160318","1","4160368","","2010-11-11 23:32:21","","0","185","<p>how to configure Sweave it's work and recognize for  Rpy2?</p>

<p>I use this</p>

<pre><code> import rpy2.robjects as robjects

  R[""library""](""utils"")
  R[""library""](""tools"")
  R['sweave(""/var/www/tmp/pywps/central.Rnw"")']
  R['texi2dvi(""/var/www/tmp/pywps/central.tex"", pdf=TRUE)']
</code></pre>

<p>but I get these errors</p>

<pre><code>[File ""/usr/lib/python2.6/dist-packages/rpy2/robjects/__init__.py"", line 241, in   __getitem__
    res = rinterface.globalenv.get(item)
    LookupError: 'Sweave(""/var/www/tmp/pywps/central.Rnw"")' not found
     Traceback (most recent call last):]
</code></pre>

<p>thanks for your answers and help</p>
","217228","","","","","2013-03-29 17:54:57","how to configure Sweave it's work and recognize for Rpy2?","<python><r><sweave><rpy2>","3","0","1","","","CC BY-SA 2.5","4160318","4452","4452","r","404559","3625322","3607736","",""
"4162363","1","","","2010-11-12 07:09:20","","4","19827","<p>I'm new to programming and I wrote a code that finds spam words for the first email but I would like to write a for loop that would do this for all of the emails. Any help would be appreciated. Thank you.  </p>

<pre><code>words = grepl(""viagra"", spamdata[[ 1 ]]$header[ ""Subject""])
</code></pre>
","505428","","967840","","2013-01-17 19:13:29","2013-01-17 19:13:29","how to start a for loop in R programming","<r>","2","3","2","","","CC BY-SA 3.0","4162363","4452","4452","r","404559","3625322","3607736","",""
"4163352","1","4163584","","2010-11-12 09:48:10","","2","265","<p>Thanks all for providing suggestion on the question <a href=""https://stackoverflow.com/questions/4131584/processing-of-hospital-admission-data-using-r"">processing of hospital admission data using R</a>, I have addition question on this issue, actually, it should be the task before that question.</p>

<p>Now I have a dataset like this:</p>

<pre><code>Patient_ID Date Ward
P001       1    A
P001       2    A
P001       3    A
P001       4    A
P001       4    B
P001       5    B
P001       6    B
P001       7    B
P001       7    C
P001       8    B
P001       9    B
P001       10   B
</code></pre>

<p>I need to convert it into:</p>

<pre><code>Patient_ID Date Ward
P001       1    A
P001       2    A
P001       3    A
P001       4    A;B
P001       5    B
P001       6    B
P001       7    B;C
P001       8    B
P001       9    B
P001       10   B
</code></pre>

<p>Currently I have convert it using <code>ddply</code>, code is attached below:</p>

<pre><code>data &lt;- ddply(data,
              c(""Patient_ID"", ""Date""),
              function(df)
                {data.frame(Ward=paste(unique(df[,""Ward""]),collapse="";""))
                },
              .progress=""text""
              )
</code></pre>

<p>This can solve my problem, but it is VERY slow (more than 20 minutes on a P4 3.2 machine) when the dataset is having 8818 <code>unique(Patients_ID)</code> and 1861 <code>unique(Date)</code>. How can I improve that? Thanks!</p>
","373908","","-1","","2017-05-23 12:11:31","2010-11-12 10:23:22","processing of hospital admission data using R (part II)","<r><plyr>","1","0","2","","","CC BY-SA 2.5","4163352","4452","4452","r","404559","3625322","3607736","",""
"4164960","1","4165184","","2010-11-12 13:12:58","","10","2002","<p>Assume we have a list (<code>mylist</code>) that is use as input object for a <code>lapply</code> function. Is there a way to know which element in <code>mylist</code> is being evaluated? The method should work on <code>lapply</code> and <code>snowfall::sfApply</code> (and possible others apply family members) as well.</p>
<p>On <a href=""https://chat.stackoverflow.com/rooms/106/r"">chat</a>, Gavin Simpson suggested the following method. This works great for <code>lapply</code> but not so much for <code>sfApply</code>. I would like to avoid extra packages or fiddling with the list. Any suggestions?</p>
<pre><code>mylist &lt;- list(a = 1:10, b = 1:10)
foo &lt;- function(x) {
    deparse(substitute(x))
}
bar &lt;- lapply(mylist, FUN = foo)

&gt; bar
$a
[1] &quot;X[[1L]]&quot;

$b
[1] &quot;X[[2L]]&quot;
</code></pre>
<p>This is the parallel version that isn't cutting it.</p>
<pre><code>library(snowfall)
sfInit(parallel = TRUE, cpus = 2, type = &quot;SOCK&quot;) # I use 2 cores

sfExport(&quot;foo&quot;, &quot;mylist&quot;)
bar.para &lt;- sfLapply(x = mylist, fun = foo)

&gt; bar.para
$a
[1] &quot;X[[1L]]&quot;

$b
[1] &quot;X[[1L]]&quot;

sfStop()
</code></pre>
","322912","","-1","","2021-01-18 12:34:40","2015-01-05 09:29:16","which list element is being processed when using snowfall::sfLapply?","<list><r><parallel-processing><apply><lapply>","2","0","2","","","CC BY-SA 4.0","4164960","4452","4452","r","404559","3625322","3607736","",""
"4166285","1","4166329","","2010-11-12 15:41:30","","7","13949","<p>Let's say I have a data.frame </p>

<pre><code>x &lt;- data.frame(a = c('A','A','A','A','A', 'C','C','C','C', 'B','B','B'),
                b = c('a','c','a','a','c', 'd', 'e','e','d', 'b','b','b'),
                c = c( 7,  3,  2,  4,  5,   3,   1,  1,  5,   5,  2,  3),
                stringsAsFactors = FALSE)

&gt; x
   a b c
1  A a 7
2  A c 3
3  A a 2
4  A a 4
5  A c 5
6  C d 3
7  C e 1
8  C e 1
9  C d 5
10 B b 5
11 B b 2
12 B b 3
</code></pre>

<p>I would like to sort x by columns b and c but keeping order of a as before.  <code>x[order(x$b, x$c),]</code> - breaks order of column a. This is what I want:</p>

<pre><code>   a b c
3  A a 2
4  A a 4
1  A a 7
2  A c 3
5  A c 5
6  C d 3
9  C d 5
7  C e 1
8  C e 1
11 B b 2
12 B b 3
10 B b 5
</code></pre>

<p>Is there a quick way of doing it? </p>

<p>Currently I run ""for"" loop and sort each subset, I'm sure there must be a better way. </p>

<p>Thank you!
Ilya</p>
","379269","","428790","","2010-11-12 16:00:26","2013-11-28 08:17:26","How to sort dataframe in R with specified column order preservation?","<sorting><r><dataframe>","3","0","2","","","CC BY-SA 2.5","4166285","4452","4452","r","404559","3625322","3607736","",""
"4166981","1","35815444","","2010-11-12 16:45:13","","15","4415","<p>Is it possible to call Stata functions from R? </p>
","98080","","","","","2019-02-28 09:13:41","Calling Stata Functions from R","<r><stata>","3","0","5","","","CC BY-SA 2.5","4166981","4452","4452","r","404559","3625322","3607736","",""
"4167434","1","4167510","","2010-11-12 17:35:25","","2","1132","<p>Is there a R package for a Nested Logit or Probit model? </p>

<p>I've checked the bayesm and mnp packages, and they don't appear to have the capacity.</p>
","98080","","","","","2010-11-12 18:37:56","Nested Logit or Probit in R","<r>","2","0","","","","CC BY-SA 2.5","4167434","4452","4452","r","404559","3625322","3607736","",""
"4167529","1","","","2010-11-12 17:45:35","","4","2133","<p>In analyzing data the metadata about variables is extremely important.  How do you manage this information in R?</p>

<p>For example, is there a way to specify a label that will be printed instead of the variable name?</p>

<p>What facilities are there in R for this?</p>
","65148","","","","","2016-05-20 13:35:02","What is the best way to manage metadata in R?","<r><data-management>","2","2","3","2018-01-20 15:31:58","","CC BY-SA 2.5","4167529","4452","4452","r","404559","3625322","3607736","",""
"4167964","1","4168397","","2010-11-12 18:43:26","","2","17466","<blockquote>
  <p><strong>Possible Duplicates:</strong><br>
  <a href=""https://stackoverflow.com/questions/4162363/how-to-start-a-for-loop-in-r-programming"">how to start a for loop in R programming</a><br>
  <a href=""https://stackoverflow.com/questions/2864920/creating-a-for-loop-in-r"">Creating a for loop in R</a>  </p>
</blockquote>



<p>HI
Here's the scenario</p>

<p>Speed dating: You are confident that you have a 15% chance of landing a date with any given 
candidate at a local speed dating event. At the event, you will meet exactly 8 candidates. After you talk to a candidate for 5 minutes, he/she will immediately indicate if she wants to go on a date with you.</p>

<p>The question is...</p>

<p>Through simulation, find your chances that the third candidate you meet is the first to 
offer you a date.</p>

<p>I am looking for the R code (I think it's a for loop) that will answer this question</p>
","506141","","-1","","2017-05-23 11:53:28","2010-11-12 20:57:38","How to create a for loop in R?","<r>","2","11","0","2010-11-12 19:54:05","","CC BY-SA 2.5","4167964","4452","4452","r","404559","3625322","3607736","",""
"4172379","1","4173175","","2010-11-13 11:57:30","","5","912","<p>There must be a simple way to vectorize the following loop in R, but I can't see it.</p>

<pre><code>w &lt;- numeric(10)
z &lt;- rnorm(20)
v &lt;- c(sample(1:10,10),sample(1:10,10)) #Random ordering of c(1:10,1:10)
for(i in 1:10)
    w[i] &lt;- sum(z[v==i])
</code></pre>
","144157","","","","","2010-11-13 15:22:29","Vectorizing a loop in R","<r><loops>","2","0","3","","","CC BY-SA 2.5","4172379","4452","4452","r","404559","3625322","3607736","",""
"4172667","1","","","2010-11-13 13:13:40","","4","6058","<p>I'm trying to write a function to determine the euclidean distance between x (one point) and y (a set of n points).
How should I pass y to the function? Until now, I used a matrix like that:</p>

<pre><code>     [,1] [,2] [,3]
[1,]    0    2    1
[2,]    1    1    1
</code></pre>

<p>Which would pass the points (0,2,1) and (1,1,1) to that function.</p>

<p>However, when I pass x as a normal (column) vector, the two variables don't match in the function.
I either have to transpose x or y, or save a vector of vectors an other way.</p>

<p>My question: What is the standard way to save more than one vector in R? (my matrix y)<br>
Is it just my y transposed or maybe a list or dataframe?</p>
","477883","","","","","2010-11-13 19:47:34","R: how to store a vector of vectors","<r><vector>","2","1","","","","CC BY-SA 2.5","4172667","4452","4452","r","404559","3625322","3607736","",""
"4173019","1","4173296","","2010-11-13 14:33:40","","2","122","<p>I have a user defined function in SQLite (an aggregator that calculates the product) and it works fine outside R. But I'm on a Mac some of the time, which requires the MacPorts version of SQLite3 if you'd like to add your own functions/extensions.</p>

<p>Can I pick which SQLite3 that RSQLite loads? I don't see anything in the SQLite documentation.</p>

<p>Also, MacPorts appears to change my <code>sqlite3</code> link to the MacPorts installed SQLite3:</p>

<pre><code>mbp:~ richard$ which sqlite3
/opt/local/bin/sqlite3
</code></pre>

<p>But if I want to load the extension in SQLite3, I have to explicitly can the MacPorts version, like this:</p>

<pre><code>mbp:~ richard$ /opt/local/bin/sqlite3 temp.sqlite
</code></pre>

<p>Is writing my own SQLite functions and combining them with R a lost cause? Thanks!</p>
","334755","","","","","2010-11-13 15:39:32","Load MacPorts SQLite3 when using RSQLite library","<r><macports>","1","0","1","","","CC BY-SA 2.5","4173019","4452","4452","r","404559","3625322","3607736","",""
"4174185","1","4174272","","2010-11-13 19:03:40","","4","1182","<p>Using this dummy code saved in a file named <strong>foo.txt</strong>...</p>

<pre><code>COG,station1,station2,station3,station4,station5
COG000Z,0.019393497,0.183122497,0.089911227,0.283250444,0.074110521
COG0002,0.044632051,0.019118032,0.034625785,0.069892277,0.034073709
COG0001,0.033066112,0,0,0,0
COG0004,0.115086472,0.098805295,0.148167492,0.040019101,0.043982814
COG0005,0.064613057,0.03924007,0.105262559,0.076839235,0.031070155
COG0006,0.079920475,0.188586049,0.123607421,0.27101229,0.274806929
COG0007,0.051727492,0.066311584,0.080655401,0.027024185,0.059156417
COG0008,0.126254841,0.108478559,0.139106704,0.056430812,0.099823028
</code></pre>

<p>I made a heatmap in ggplot2 with the accompanying code from <a href=""http://biostar.stackexchange.com/questions/921/how-to-draw-a-csv-data-file-as-a-heatmap-using-numpy-and-matplotlib/928#928"" rel=""nofollow"">following this answer on stackexchange</a>.</p>

<pre><code>&gt; library(ggplot2)
&gt; foo = read.table('foo.txt', header=T, sep=',')
&gt; foomelt = melt(foo)
Using COG as id variables
&gt; ggplot(foomelt, aes(x=COG, y=variable, fill=value)) + geom_tile() + scale_fill_gradient(low='white', high='steelblue')
</code></pre>

<p>It produces a really nice heatmap, but I'm really just after the color codes of each tile (basically the original foo but with color codes in place of each variable). Any idea how to go about this?</p>
","485216","","","","","2010-11-14 17:34:33","Extract color information from ggplot2?","<r><colors><ggplot2><heatmap>","2","0","","","","CC BY-SA 2.5","4174185","4452","4452","r","404559","3625322","3607736","",""
"4174288","1","4174332","","2010-11-13 19:30:02","","11","1636","<p>I was studying some functions of the package <code>rimage</code>. If you want to see, for example, the code for the <code>sobel.h</code> function, you obtain:</p>

<pre><code>&gt; library(rimage)
&gt; sobel.h
function (img) 
{
    w &lt;- dim(img)[2]
    h &lt;- dim(img)[1]
    imagematrix(abs(matrix(.C(""sobel_h"", as.double(img), as.integer(w), 
        as.integer(h), eimg = double(w * h), PACKAGE = ""rimage"")$eimg, 
        nrow = h, ncol = w)), noclipping = TRUE)
}
</code></pre>

<p>So the <code>sobel.h</code> function uses the C routine called <code>sobel_h</code>, (which is (I think) stored in the file <code>rimage.dll</code>).</p>

<p>Is there any way to see the C code of the <code>sobel_h</code> function?</p>

<p>(I speak about the package <code>rimage</code> for a practical example; but the answer would of course generalised to all packages that uses .C routines).</p>
","477851","","1043380","","2015-07-22 14:19:39","2015-07-22 14:19:39","How to display the code of a .C routine used by R function?","<r>","3","0","","","","CC BY-SA 2.5","4174288","4452","4452","r","404559","3625322","3607736","",""
"4175717","1","4176189","","2010-11-14 01:39:16","","0","2392","<p>I have a project that calls for a Wind Rose diagram. Specifically, I am looking to plot wind speed and direction over time in a visual format.</p>

<p>The example on this page looks like a function in a statistical language R which is probably far above my ability to undertake for this project. </p>

<p>I'm looking for any discussions of this algorithm, though ultimately this is for a .NET project.</p>
","507098","","1627235","","2014-02-10 12:48:34","2014-02-10 12:48:34","Generating Wind Rose Diagram","<.net><r><statistics>","1","0","0","","","CC BY-SA 3.0","4175717","4452","4452","r","404559","3625322","3607736","",""
"4177609","1","4177910","","2010-11-14 13:12:08","","1","4637","<p>Ok, the title may not be the most descriptive. It's easier to explain with an example.</p>

<p>I have a data.frame like this:</p>

<pre><code>A B 1 2
L M 3 0
P Q 5 6
</code></pre>

<p>I want to output an array of the cell in column 1 if col3 > col4, or the cell in col2 if col3 &lt;= col4. The output vector from this data.frame would be <code>B, L, Q</code>.</p>

<p>I'm aware that I still haven't explained my problem very well, so here is what it would look like in an imperative language:</p>

<pre><code>vector = []
for each rows as row
  if row[3] &gt; row[4]
    vector.add(row[1])
  else
    vector.add(row[2])
return vector
</code></pre>

<p>I apologise if this problem has already been answered, but unfortunately Google is not much of help when it comes to R questions.</p>

<p>Thanks,
Andreas</p>
","135797","","","","","2010-11-14 20:13:05","R: Select cells in data.frame based on other attribute in the same instance","<r><selection><dataframe>","2","0","","","","CC BY-SA 2.5","4177609","4452","4452","r","404559","3625322","3607736","",""
"4180917","1","4181005","","2010-11-15 02:11:45","","1","356","<p>As title, I have no idea why I receive this error message when I am trying to use the RSQLite Library by <code>library(RSQLite)</code>, suggestions?</p>

<p>Thanks!</p>
","373908","","","","","2010-11-15 02:38:05","""shared library 'RSQLite' not found"" when loading RSQLite in Portable-R","<r>","1","2","","","","CC BY-SA 2.5","4180917","4452","4452","r","404559","3625322","3607736","",""
"4182726","1","","","2010-11-15 08:49:36","","3","4936","<p>I'm behind hospital firewalls and usually have to use <code>setInternet2(T)</code> for R to access the net properly. However running my code (that works perfectly at home) results in </p>

<pre><code>curlPerform(curl = curl, .opts = opts, .encoding = .encoding) : 
  Could not resolve host: www.cnn.com; Host not found
</code></pre>

<p>Is it at all possible to work around this?</p>

<p>regards,</p>

<p>//M</p>
","338745","","428790","","2010-11-16 12:06:34","2010-12-13 11:57:26","getURL in RCurl problem behind firewall R","<r><curl><geturl><rcurl>","1","2","1","","","CC BY-SA 2.5","4182726","4452","4452","r","404559","3625322","3607736","",""
"4184117","1","4186908","","2010-11-15 12:02:46","","4","387","<p>When using ggplot or subset, a <code>R CMD check</code> command on my package generates the following notes:</p>

<pre><code>* checking R code for possible problems ... NOTE
foo: no visible binding for global variable bar
</code></pre>

<p>for a mock function such as </p>

<pre><code>foo &lt;- function(dataframe) { subset(dataframe,bar&gt;10) }
</code></pre>

<p>That <code>R CMD check</code> section is useful when forgetting about the usage of global variables in a package. Therfore I'd like to have it clean. </p>

<p>Is there a possibility to let R know of the special nature of ggplot/subset?</p>
","299878","","299878","","2010-11-15 17:47:54","2010-11-15 17:47:54","R CMD check NOTEs on ggplot, subset, etc","<r><ggplot2>","1","1","","","","CC BY-SA 2.5","4184117","4452","4452","r","404559","3625322","3607736","",""
"4185952","1","4198199","","2010-11-15 15:36:41","","2","1738","<p>I can make numpy ndarrays with rec2csv, </p>

<pre><code>data = recfromcsv(dataset1, names=True)
xvars = ['exp','exp_sqr','wks','occ','ind','south','smsa','ms','union','ed','fem','blk']
y = data['lwage']
X = data[xvars]
c = ones_like(data['lwage'])
X = add_field(X, 'constant', c)
</code></pre>

<p>But, I have no idea how to take this into an R data frame usable by Rpy2, </p>

<pre><code>p = roptim(theta,robjects.r['ols'],method=""BFGS"",hessian=True ,y= robjects.FloatVector(y),X = base.matrix(X))

ValueError: Nothing can be done for the type &lt;class 'numpy.core.records.recarray'&gt; at the moment.

p = roptim(theta,robjects.r['ols'],method=""BFGS"",hessian=True ,y= robjects.FloatVector(y),X = base.matrix(array(X)))

ValueError: Nothing can be done for the type &lt;type 'numpy.ndarray'&gt; at the moment.
</code></pre>
","508440","","322912","","2012-01-16 18:11:13","2012-01-16 18:11:13","from CSV to ndarray, and rpy2,","<python><r><csv><rpy2>","2","0","","","","CC BY-SA 3.0","4185952","4452","4452","r","404559","3625322","3607736","",""
"4186190","1","","","2010-11-15 16:00:45","","1","1173","<p>Is there a model for dependent variables that are censored on both sides? And if so is there an implementation in R? I am only aware of tobit models (e.g. in Zelig package), but theyre obviously only censored on the left side... I wonder if it even makes sense to truncate on both sides... </p>
","366256","","3576984","","2015-07-17 02:21:39","2015-07-17 02:21:39","two-sided censored model in R (similar to Zeligs Tobit)?","<r><statistics><r-zelig>","2","2","","","","CC BY-SA 2.5","4186190","4452","4452","r","404559","3625322","3607736","",""
"4186507","1","4186833","","2010-11-15 16:28:17","","2","3859","<p>I am working on an image classification script in R using the rgdal package. The raster in question is a PCIDSK file with 28 channels: a training data channel, a validation data channel, and 26 spectral data channels. The objective is to populate a data frame containing the values of each pixel which is not zero in the training data channel, plus the associated spectral values in the 26 bands.</p>

<p>In Python/Numpy, I can easily import all the bands for the entire image into a multi-dimensional array, however, due to memory limitations the only option in R seems to be importing this data block by block, which is very slow:</p>

<pre><code>library(rgdal)

raster = ""image.pix""
training_band = 2
validation_band = 1
BlockWidth = 500
BlockHeight = 500

# Get some metadata about the whole raster
myinfo = GDALinfo(raster)
ysize = myinfo[[1]]
xsize = myinfo[[2]]
numbands = myinfo[[3]]


# Iterate through the image in blocks and retrieve the training data
column = 0
training_data = NULL
while(column &lt; xsize){
 if(column + BlockWidth &gt; xsize){
  BlockWidth = xsize - column
 }
 row = 0
 while(row &lt; ysize){
  if(row + BlockHeight &gt; ysize){
   BlockHeight = ysize - row
  }

  # Do stuff here
  myblock = readGDAL(raster, region.dim = c(BlockHeight,BlockWidth), offset = c(row, column), band = c(training_band,3:numbands), silent = TRUE)
  blockdata = matrix(NA, dim(myblock)[1], dim(myblock)[2])
  for(i in 1:(dim(myblock)[2])){
   bandname = paste(""myblock"", names(myblock)[i], sep=""$"")
   blockdata[,i]= as.matrix(eval(parse(text=bandname)))
  }
  blockdata = as.data.frame(blockdata)
  blockdata = subset(blockdata, blockdata[,1] &gt; 0)
  if (dim(blockdata)[1] &gt; 0){
   training_data = rbind(training_data, blockdata)
  }

  row = row + BlockHeight
 }
 column = column + BlockWidth
}
remove(blockdata, myblock, BlockHeight, BlockWidth, row, column)
</code></pre>

<p>Is there a faster/better way of doing the same thing without running out of memory? </p>

<p>The next step after this training data is collected is to create the classifier (randomForest package) which also requires a lot of memory, depending on the number of trees requested. This brings me to my second problem, which is that creating a forest of 500 trees is not possible given the amount of memory already occupied by the training data:</p>

<pre><code>myformula = formula(paste(""as.factor(V1) ~ V3:V"", dim(training_data)[2], sep=""""))
r_tree = randomForest(formula = myformula, data = training_data, ntree = 500, keep.forest=TRUE)
</code></pre>

<p>Is there a way to allocate more memory? Am I missing something? Thanks...</p>

<p>[EDIT]
As suggested by Jan, using the ""raster"" package is much faster; however as far as I can tell, it does not solve the memory problem as far as gathering the training data is concerned because it eventually needs to be in a dataframe, in memory:</p>

<pre><code>library(raster)
library(randomForest)

# Set some user variables
fn = ""image.pix""
training_band = 2
validation_band = 1

# Get the training data
myraster = stack(fn)
training_class = subset(myraster, training_band)
training_class[training_class == 0] = NA
training_class = Which(training_class != 0, cells=TRUE)
training_data = extract(myraster, training_class)
training_data = as.data.frame(training_data)
</code></pre>

<p>So while this is much faster (and takes less code), it still does not solve the issue of not having enough free memory to create the classifier... Is there some ""raster"" package function that I have not found that can accomplish this? Thanks...</p>
","483620","","483620","","2010-11-15 20:53:01","2010-11-16 10:59:26","rgdal efficiently reading large multiband rasters","<r><raster><gdal>","2","0","3","","","CC BY-SA 2.5","4186507","4452","4452","r","404559","3625322","3607736","",""
"4188507","1","4188556","","2010-11-15 20:29:35","","3","673","<p>I'm trying to run interactive R (Windows XP) with an input script that runs a few commands, and then leaves me at the R command line prompt. However, when I run it, it exits. </p>

<p>For example, here's the input file:</p>

<pre><code>test.r: 
x = 1
x
</code></pre>

<p>Here's what happens when I run it with the input file as a parameter:</p>

<pre><code>C:\&gt;R --file test.t
&gt;x = 1 
&gt;x
[1] 1
C:\&gt;  &lt;--- exits and returns to prompt
</code></pre>

<p>Is there any way to run this without R exiting?</p>
","64895","","143305","","2010-11-15 20:32:04","2010-11-15 20:34:11","interactive R startup script","<r><statistics>","1","1","1","","","CC BY-SA 2.5","4188507","4452","4452","r","404559","3625322","3607736","",""
"4189807","1","4190259","","2010-11-15 23:15:10","","26","9057","<p>I got a problems that bugs me for some time hopefully anybody here can help me.</p>

<p>I got the following data frame</p>

<pre><code>f &lt;- c('a','a','b','b','b','c','d','d','d','d')
v1 &lt;- c(1.3,10,2,10,10,1.1,10,3.1,10,10)
v2 &lt;- c(1:10)
df &lt;- data.frame(f,v1,v2)
</code></pre>

<p>f is a factor; v1 and v2 are values.
For each level of f, I want only want to keep one row: the one that has the lowest value of v1 in this factor level.</p>

<pre><code>f   v1  v2
a   1.3 1
b   2   3
c   1.1 6
d   3.1 8
</code></pre>

<p>I tried various things with aggregate, ddply, by, tapply but nothing seems to work. For any suggestions, I would be very thankful. </p>
","415697","","1851712","","2020-05-20 21:01:08","2020-05-20 21:01:08","Select rows with min value by group","<r><dataframe>","9","0","12","","","CC BY-SA 4.0","4189807","4452","4452","r","404559","3625322","3607736","",""
"4191296","1","","","2010-11-16 04:43:30","","2","420","<p>Does ddply push or pull when grouping data? 
I.e, does it involve many passes over the data frame, or just one?</p>
","509085","","","","","2010-11-16 17:34:36","ddply : push or pull?","<r><plyr>","1","1","1","","","CC BY-SA 2.5","4191296","4452","4452","r","404559","3625322","3607736","",""
"4191857","1","","","2010-11-16 06:58:01","","11","6716","<p>Using <code>predict()</code> one can obtain the predicted value of the dependent variable (<code>y</code>) for a certain value of the independent variable (<code>x</code>) for a given model. Is there any function that predicts <code>x</code> for a given <code>y</code>?</p>

<p>For example:</p>

<pre><code>kalythos &lt;- data.frame(x = c(20,35,45,55,70), 
    n = rep(50,5), y = c(6,17,26,37,44))
kalythos$Ymat &lt;- cbind(kalythos$y, kalythos$n - kalythos$y)
model &lt;- glm(Ymat ~ x, family = binomial, data = kalythos)
</code></pre>

<p>If we want to know the predicted value of the model for <code>x=50</code>:</p>

<pre><code>predict(model, data.frame(x=50), type = ""response"")
</code></pre>

<p>I want to know which <code>x</code> makes <code>y=30</code>, for example. </p>
","509132","","190277","","2016-06-06 15:17:42","2017-09-25 20:49:06","inverse of 'predict' function","<r>","5","4","4","","","CC BY-SA 3.0","4191857","4452","4452","r","404559","3625322","3607736","",""
"4196661","1","4328234","","2010-11-16 16:51:19","","1","268","<p>Is there a way to start run R interactively on a slave node?</p>

<p>Although we can login to the server using qlogin, this does not allow us to launch emacs + ess, which runs on the head node.</p>

<p>Thanks!</p>

<p>as per @newuser's request, I found the following parts of the PATH variable that are only found when on the head node, but are removed from path when on the slave node</p>

<blockquote>
  <p>/opt/eclipse:/opt/maven/bin:/opt/dell/srvadmin/bin</p>
</blockquote>
","199217","","199217","","2010-11-17 00:10:18","2010-12-01 19:26:59","How can I run R interactively on a slave node, from emacs running on the head node?","<r><emacs><cluster-computing><ess><rocks>","1","4","","","","CC BY-SA 2.5","4196661","4452","4452","r","404559","3625322","3607736","",""
"4196964","1","4197101","","2010-11-16 17:19:31","","12","63737","<p>I am plotting two lines using</p>

<pre><code>plot(x, y, type = ""l"", color = ""red"")
</code></pre>

<p>and </p>

<pre><code>points(x2, y2, type = ""l"", color = ""blue"")
</code></pre>

<p>I want to be able to add a label next to each line (instead of a legend).
I am pretty sure it is possible using the package in <a href=""http://directlabels.r-forge.r-project.org/"" rel=""nofollow noreferrer"">http://directlabels.r-forge.r-project.org/</a>.</p>

<p>Yet, I don't find an easy way of doing that.</p>
","509831","","1851712","","2018-01-28 14:16:48","2018-01-28 14:16:48","Label lines in a plot","<r><plot>","4","0","8","","","CC BY-SA 3.0","4196964","4452","4452","r","404559","3625322","3607736","",""
"4197424","1","4199678","","2010-11-16 18:08:22","","4","3264","<p>Assume a table as below:</p>

<pre><code>X = 

        col1    col2    col3
row1    ""A""      ""0""     ""1""
row2    ""B""      ""2""     ""NA""
row3    ""C""      ""1""     ""2""
</code></pre>

<p>I select combinations of two rows, using the code below:</p>

<pre><code>pair &lt;- apply(X, 2, combn, m=2)
</code></pre>

<p>This returns a matrix of the form:</p>

<pre><code>pair = 

 [,1] [,2] [,3]
[1,] ""A""  ""0""  ""1"" 
[2,] ""B""  ""2""  NA  
[3,] ""A""  ""0""  ""1"" 
[4,] ""C""  ""1""  ""2"" 
[5,] ""B""  ""2""  NA  
[6,] ""C""  ""1""  ""2"" 
</code></pre>

<p>I wish to iterate over pair, taking two rows at a time, i.e. first isolate [1,] and [2,], then [3,] and [4,] and finaly, [5,] and [6,]. These rows will then be passed as arguments to regression models, i.e. lm(Y ~ row[i]*row[j]).</p>

<p>I am dealing with a large dataset. Can anybody advise how to iterate over a matrix two rows at a time, assign those rows to variables and pass as arguments to a function?</p>

<p>Thanks,
S ;-)</p>
","233816","","","","","2010-11-17 03:12:32","r - pairwise combinations of rows from table?","<r><iteration><combinations>","2","1","1","","","CC BY-SA 2.5","4197424","4452","4452","r","404559","3625322","3607736","",""
"4198293","1","4211035","","2010-11-16 19:50:13","","4","2721","<p>I am having an issue with randomForest and the raster package. First, I create the classifier:</p>

<pre><code>library(raster)
library(randomForest)

# Set some user variables
fn = ""image.pix""
outraster = ""classified.pix""
training_band = 2
validation_band = 1
original_classes = c(125,126,136,137,151,152,159,170)
reclassd_classes = c(122,122,136,137,150,150,150,170)

# Get the training data
myraster = stack(fn)
training_class = subset(myraster, training_band)

# Reclass the training data classes as required
training_class = subs(training_class, data.frame(original_classes,reclassd_classes))

# Find pixels that have training data and prepare the data used to create the classifier
is_training = Which(training_class != 0, cells=TRUE)
training_predictors = extract(myraster, is_training)[,3:nlayers(myraster)]
training_response = as.factor(extract(training_class, is_training))
remove(is_training)

# Create and save the forest, use odd number of trees to avoid breaking ties at random
r_tree = randomForest(training_predictors, y=training_response, ntree = 201, keep.forest=TRUE) # Runs out of memory, does not allow more trees than this...
remove(training_predictors, training_response)
</code></pre>

<p>Up to this point, all is good. I can see that the forest was created correctly by looking at the error rates, confusion matrix, etc. When I try to classify some data, however, I run into trouble with the following, which returns all NA's in <code>predictions</code>:</p>

<pre><code># Classify the whole image
predictor_data = subset(myraster, 3:nlayers(myraster))
layerNames(predictor_data) = layerNames(myraster)[3:nlayers(myraster)]
predictions = predict(predictor_data, r_tree, type='response', progress='text')
</code></pre>

<p>And gives this warning:</p>

<pre><code>Warning messages:
1: In `[&lt;-.factor`(`*tmp*`, , value = c(1, 1, 1, 1, 1, 1,  ... :
  invalid factor level, NAs generated
(keeps going like this)...
</code></pre>

<p>However, calling predict.randomForest directly works fine and returns the expected <code>predictions</code> (this is not a good option for me because the image is large, and I cannot store the whole matrix in memory):</p>

<pre><code># Classify the whole image and write it to file
predictor_data = subset(myraster, 3:nlayers(myraster))
layerNames(predictor_data) = layerNames(myraster)[3:nlayers(myraster)]
predictor_data = extract(predictor_data, extent(predictor_data))
predictions = predict(r_tree, newdata=predictor_data)
</code></pre>

<p><strong>How can I get it to work directly with the ""raster"" version?</strong> I know that this is possible, as shown in the examples of <a href=""http://cran.r-project.org/web/packages/raster/raster.pdf"" rel=""nofollow"">predict{raster}</a>.</p>
","483620","","","","","2010-11-18 02:11:35","R problem with randomForest classification with raster package","<r><raster>","1","2","3","","","CC BY-SA 2.5","4198293","4452","4452","r","404559","3625322","3607736","",""
"4199798","1","4203678","","2010-11-16 22:40:34","","5","5314","<p>I've seen some <a href=""https://stackoverflow.com/questions/1562124/merge-many-data-frames-from-csv-files"">questions</a> about merging csv files into one data frame. What if the data frames are already in the workspace. I have five wide zoos that I cast as data frames, then melt. Here's the head of one:</p>

<pre><code>&gt; head(df.mon.ssf.ret)
      date variable value
1 2009.000     AA1C    NA
2 2009.083     AA1C    NA
3 2009.167     AA1C    NA
4 2009.250     AA1C    NA
5 2009.333     AA1C    NA
6 2009.417     AA1C    NA
</code></pre>

<p>I could merge these on ""date"" and ""variable"" with a series of nested merges, but that seems clumsy. Is there a more programmatic way to merge?</p>

<p>If I feel confident that the columns are in the same order in all of the zoos, can I feel confident that melt maintains that ordering and use <code>cbind</code>? Thanks!</p>

<p>Update:</p>

<p>There's something I'm missing about the usage philosophy of melt. Here's what happens when I merge as a zoo and melt as a very wide data frame using three of the zoos:</p>

<pre><code>&gt; temp &lt;- merge(z.ssf.oi, z.ssf.oig, z.ssf.ret)
&gt; class(temp)
[1] ""zoo""
&gt; temp2 &lt;- cbind(index(temp), as.data.frame(temp))
&gt; class(temp2)
[1] ""data.frame""
&gt; names(temp2)[1] &lt;- ""date""
&gt; dim(temp2)
[1]   12 1204
&gt; temp3 &lt;- melt(temp2, id=""date"")
Error in data.frame(ids, variable, value) : 
  arguments imply differing number of rows: 12, 14436
&gt; head(temp2)[, 1:5]
             date AA1C.z.ssf.oi AAPL1C.z.ssf.oi ABT1C.z.ssf.oi ABX1C.z.ssf.oi
Jan 2009 Jan 2009      1895.800        49191.25             NA             NA
Feb 2009 Feb 2009      1415.579        42650.26             NA        6267.96
Mar 2009 Mar 2009      1501.398        36712.20             NA       11581.65
Apr 2009 Apr 2009      1752.936        74376.27             NA       12168.29
May 2009 May 2009      1942.874        96307.30             NA       13490.60
Jun 2009 Jun 2009            NA        79170.70             NA       16337.21
</code></pre>

<p>Update 2: Thanks for the help! Here's a very manual solution</p>

<pre><code>&gt; A &lt;- cbind(index(z.ssf.oi), as.data.frame(z.ssf.oi))
&gt; names(A)[1] &lt;- ""date""
&gt; B &lt;- cbind(index(z.ssf.oig), as.data.frame(z.ssf.oig))
&gt; names(B)[1] &lt;- ""date""
&gt; C &lt;- cbind(index(z.ssf.ret), as.data.frame(z.ssf.ret))
&gt; names(C)[1] &lt;- ""date""
&gt; A.melt &lt;- melt(A, id=""date"")
&gt; head(A.melt)
      date variable value
1 Jan 2009      A1C    NA
2 Feb 2009      A1C    NA
3 Mar 2009      A1C    NA
4 Apr 2009      A1C    NA
5 May 2009      A1C    NA
6 Jun 2009      A1C    NA
&gt; B.melt &lt;- melt(B, id=""date"")
&gt; C.melt &lt;- melt(C, id=""date"")
&gt; ans &lt;- merge(merge(A.melt, B.melt, by=c(""date"", ""variable"")), C.melt, by=c(""date"", ""variable""))
&gt; names(ans)[3:5] &lt;- c(""oi"", ""oig"", ""ret"")
&gt; head(ans)
      date variable       oi       oig         ret
1 Apr 2009      A1C       NA        NA          NA
2 Apr 2009     AA1C       NA        NA          NA
3 Apr 2009   AAPL1C 59316.88 0.3375786 0.008600073
4 Apr 2009    ABB1C       NA        NA          NA
5 Apr 2009    ABT1C       NA        NA          NA
6 Apr 2009    ABX1C       NA        NA          NA
</code></pre>

<p>(and the NAs are from an incomplete dataset at home and needing the dial in the filtering from my database)</p>

<p>Update 3: Here are some dputs (I took the [1:10, 1:10] subset of each wide zoo and converted to data frames)</p>

<pre><code>&gt; dput(A)
structure(list(group = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L, 1L), class = ""factor"", .Label = ""oi""), date = structure(c(2009, 
2009.08333333333, 2009.16666666667, 2009.25, 2009.33333333333, 
2009.41666666667, 2009.5, 2009.58333333333, 2009.66666666667, 
2009.75), class = ""yearmon""), AA1C = c(NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_
), AAPL1C = c(49226.391, 42662.1589473684, 35354.4254545455, 
57161.6495238095, 84362.895, NA, NA, 47011.8519047619, 57852.2171428571, 
33058.0090909091), ABT1C = c(NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_), 
    ABX1C = c(NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
    NA_real_, NA_real_, NA_real_, NA_real_, NA_real_), ACE1C = c(NA_real_, 
    NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
    NA_real_, NA_real_, NA_real_), ACI1C = c(NA_real_, NA_real_, 
    NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
    NA_real_, NA_real_), ACS1C = c(NA_real_, NA_real_, NA_real_, 
    NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
    NA_real_), ADBE1C = c(NA_real_, NA_real_, NA_real_, NA_real_, 
    NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_
    ), ADCT1C = c(NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
    NA_real_, NA_real_, NA_real_, NA_real_, NA_real_), ADI1C = c(NA_real_, 
    NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
    NA_real_, NA_real_, NA_real_)), .Names = c(""group"", ""date"", 
""AA1C"", ""AAPL1C"", ""ABT1C"", ""ABX1C"", ""ACE1C"", ""ACI1C"", ""ACS1C"", 
""ADBE1C"", ""ADCT1C"", ""ADI1C""), row.names = c(""Jan 2009"", ""Feb 2009"", 
""Mar 2009"", ""Apr 2009"", ""May 2009"", ""Jun 2009"", ""Jul 2009"", ""Aug 2009"", 
""Sep 2009"", ""Oct 2009""), class = ""data.frame"")
&gt; dput(B)
structure(list(group = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L, 1L), class = ""factor"", .Label = ""oig""), date = structure(c(2009.08333333333, 
2009.16666666667, 2009.25, 2009.33333333333, 2009.41666666667, 
2009.5, 2009.58333333333, 2009.66666666667, 2009.75, 2009.83333333333
), class = ""yearmon""), AA1C = c(NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_
), AAPL1C = c(-0.143117562125788, -0.187888745830302, 0.480459636485712, 
0.389244461579155, NA, NA, NA, 0.207492040517069, -0.559627909130612, 
NA), ABT1C = c(NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_), ABX1C = c(NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_), ACE1C = c(NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_
), ACI1C = c(NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_), ACS1C = c(NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_), ADBE1C = c(NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_
), ADCT1C = c(NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_), ADI1C = c(NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_)), .Names = c(""group"", ""date"", ""AA1C"", ""AAPL1C"", 
""ABT1C"", ""ABX1C"", ""ACE1C"", ""ACI1C"", ""ACS1C"", ""ADBE1C"", ""ADCT1C"", 
""ADI1C""), row.names = c(""Feb 2009"", ""Mar 2009"", ""Apr 2009"", ""May 2009"", 
""Jun 2009"", ""Jul 2009"", ""Aug 2009"", ""Sep 2009"", ""Oct 2009"", ""Nov 2009""
), class = ""data.frame"")
&gt; dput(C)
structure(list(group = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L, 1L), class = ""factor"", .Label = ""ret""), date = structure(c(2009, 
2009.08333333333, 2009.16666666667, 2009.25, 2009.33333333333, 
2009.41666666667, 2009.5, 2009.58333333333, 2009.66666666667, 
2009.75), class = ""yearmon""), AA1C = c(NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_
), AAPL1C = c(-0.143117562125788, -0.187888745830302, 0.480459636485712, 
0.389244461579155, NA, NA, NA, 0.207492040517069, -0.559627909130612, 
NA), ABT1C = c(NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_), ABX1C = c(NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_), ACE1C = c(NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_
), ACI1C = c(NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_), ACS1C = c(NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_), ADBE1C = c(NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_
), ADCT1C = c(NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_), ADI1C = c(NA_real_, 
NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, NA_real_, 
NA_real_, NA_real_)), .Names = c(""group"", ""date"", ""AA1C"", ""AAPL1C"", 
""ABT1C"", ""ABX1C"", ""ACE1C"", ""ACI1C"", ""ACS1C"", ""ADBE1C"", ""ADCT1C"", 
""ADI1C""), row.names = c(""Feb 2009"", ""Mar 2009"", ""Apr 2009"", ""May 2009"", 
""Jun 2009"", ""Jul 2009"", ""Aug 2009"", ""Sep 2009"", ""Oct 2009"", ""Nov 2009""
), class = ""data.frame"")
</code></pre>
","334755","","-1","","2017-05-23 12:08:01","2010-11-17 15:57:24","Merge several data frames on two common columns","<r><merge><reshape><melt>","1","2","2","","","CC BY-SA 2.5","4199798","4452","4452","r","404559","3625322","3607736","",""
"4200979","1","4203345","","2010-11-17 02:36:26","","7","6435","<p>I'd like to add background grid to the center of the plot and then hide the standard gridlines.  The corner points of the grid are stored in the pts data frame and I've tried using geom_tile, but it doesn't appear to use the specified points.  Thanks in advance for your help.</p>

<pre><code>library(ggplot2)  
pts &lt;- data.frame(
        x=c(170,170,170,177.5,177.5,177.5,185,185,185), 
        y=c(-35,-25,-15,-35,-25,-15,-35,-25,-15))  
ggplot(quakes, aes(long, lat)) + 
    geom_point(shape = 1) + 
    geom_tile(data=pts,aes(x=x,y=y),fill=""transparent"",colour=""black"") +
    opts(
        panel.grid.major=theme_blank(),
        panel.grid.minor=theme_blank()
    )
</code></pre>
","338714","","614735","","2011-09-17 12:27:10","2011-09-17 12:27:10","How can I add a background grid using ggplot2?","<r><ggplot2>","2","0","1","","","CC BY-SA 3.0","4200979","4452","4452","r","404559","3625322","3607736","",""
"4201087","1","4201329","","2010-11-17 03:02:06","","1","527","<p>I have a dataset like this:</p>

<pre><code>Patient_ID Lab_No Discharge_Date
P0001      L001   2010-01-01
P0001      L002   
P0001      L003   
P0001      L004   
</code></pre>

<p>I have some lab data that from the same patient, some lab data does not carry the discharge date that it should have. And I need to place the missing discharge date into them, currently I am using the following code:</p>

<pre><code>temp &lt;- ddply(temp,
             c(""Patient_ID""),
             function(df)
               {
                df[,""Discharge_Date""] &lt;- unique(df[!is.na(df[,""Discharge_Date""]),""Discharge_Date""])
                data.frame(df)
               },
             .progress=""text""
             )
</code></pre>

<p>But this is quite slow (the dataset has 92528 rows with 70527 unique patient_id), how can I speed it up? Thanks.</p>
","373908","","","","","2010-11-17 03:53:03","filling in missing ""holes"" in a dataset","<r><plyr>","1","0","1","","","CC BY-SA 2.5","4201087","4452","4452","r","404559","3625322","3607736","",""
"4201608","1","4202440","","2010-11-17 04:50:43","","2","356","<p>I have the following function that draws some data from a chi-squared distribution and compares the distribution of X to a known chi-squared distribution using maximum likelihood. This procedure is simulated <code>nSims</code> times. (I compare these results to results from a permutation test, but that code is excluded.)</p>

<pre><code>chi2c &lt;- function(xdf=2, yObs=100, xObs=100, nSims=1000, nPerm=500, alpha=0.05){
  simResults &lt;- sapply(1:nSims, function(x){
    # Draw variables
    x  &lt;- rchisq(xObs, df=xdf)
    # Other variables not relevant here
    # [[snip]]

    # Permutation test
    # [[snip]]

    # Calculate the statistics necessary for maximum likelihood
    n       &lt;&lt;- length(x)
    sumlx   &lt;&lt;- sum(log(x))
    sumx    &lt;&lt;- sum(x)
    # Calculate the maximum likelihood estimate
    dfhat   &lt;- optimize(f=c2ll, interval=c(1, 10), maximum=TRUE)$maximum
    # Calculate the test statistic: -2 times the log likelihood ratio
    llr     &lt;- -2 * (c2ll(2) - c2ll(dfhat))
    # Compare the test statistic to its asymptotic dist: chi-squared
    lReject &lt;- llr &gt; qchisq(1 - alpha, df=1)

    # Provide the results
    # [[snip]]
  })
  # Calcuate means across simulations
  rowMeans(simResults)
}
</code></pre>

<p>This function calls <code>c2ll</code>, the chi-squared likelihood function</p>

<pre><code>c2ll &lt;- function(dfHat){
  -n * log(gamma(dfHat/2)) - n * (dfHat/2) * log(2) + 
  (dfHat/2 - 1) * sumlx - sumx/2
}
</code></pre>

<p>This function does just what I would like and is accurate, but I don't understand why I have to set the maximum likelihood statistics (<code>n</code>, <code>sumlx</code>, and <code>sumx</code>) globally to get it to work; <code>optimize</code> doesn't find them if I only set them inside the function using <code>&lt;-</code>. I tried setting them inside of <code>optimize</code>, but that didn't work either. Thanks for your help.</p>

<p>Charlie</p>
","160553","","","","","2010-11-17 14:54:50","'optimize' not finding variables inside a function call","<r><statistics>","3","1","","","","CC BY-SA 2.5","4201608","4452","4452","r","404559","3625322","3607736","",""
"4203442","1","4203537","","2010-11-17 10:26:14","","25","164310","<p>I have noticed a curious thing whilst working in R.
When I have a simple program that computes squares from 1 to N implemented using for-loop and while-loop the behaviour is not the same. (I don't care about vectorisation in this case or apply functions).</p>

<pre><code>fn1 &lt;- function (N) 
{
    for(i in 1:N) {
        y &lt;- i*i
    }
}
</code></pre>

<p>AND</p>

<pre><code>fn2 &lt;- function (N) 
{
    i=1
    while(i &lt;= N) {
        y &lt;- i*i
        i &lt;- i + 1
    }
}
</code></pre>

<p>The results are:</p>

<pre><code>system.time(fn1(60000))
   user  system elapsed 
  2.500   0.012   2.493 
There were 50 or more warnings (use warnings() to see the first 50)
Warning messages:
1: In i * i : NAs produced by integer overflow
.
.
.

system.time(fn2(60000))
   user  system elapsed 
  0.138   0.000   0.137 
</code></pre>

<p>Now we know that for-loop is faster, my guess is because of pre allocation and optimisations there. But why does it overflow? </p>

<p>UPDATE: So now trying another way with vectors:</p>

<pre><code>fn3 &lt;- function (N) 
{
    i &lt;- 1:N
    y &lt;- i*i
}
system.time(fn3(60000))
   user  system elapsed 
  0.008   0.000   0.009 
Warning message:
In i * i : NAs produced by integer overflow
</code></pre>

<p>So Perhaps its a funky memory issue? I am running on OS X with 4Gb of memory and all default settings in R. This happens in 32- and 64-bit versions (except that times are faster).</p>

<p>Alex</p>
","477825","","121332","","2010-11-17 11:20:22","2010-11-17 11:37:12","For-loop vs while loop in R","<r><for-loop><floating-point><while-loop>","3","4","4","","","CC BY-SA 2.5","4203442","4452","4452","r","404559","3625322","3607736","",""
"4205428","1","4205579","","2010-11-17 14:34:52","","16","10659","<p>We have some data which represents many model runs under different scenarios. For a single scenario, we'd like to display the smoothed mean, with the filled areas representing standard deviation at a particular point in time, rather than the quality of the fit of smooting.</p>

<p>For example:</p>

<pre><code>d &lt;- as.data.frame( rbind( cbind( 1:20, 1:20,1 ), cbind(1:20, -1:-20,2 ) ) )
names(d)&lt;-c(""Time"",""Value"",""Run"")
ggplot( d, aes(x=Time,y=Value) ) + geom_line( aes(group=Run) ) + geom_smooth()
</code></pre>

<p>produces a graph with two runs represented, and a smoothed mean, but even though the SD between the runs is increasing, the smoother's bars stay the same size. I'd like to make the surrounds of the smoother represent standard deviation at a given timestep.</p>

<p>Is there a non-labour intensive way of doing this, given many different runs and output variables?</p>
","192720","","192720","","2010-11-17 14:57:02","2019-05-17 09:02:39","Show standard devation using geom_smooth and ggplot","<r><statistics><ggplot2>","2","0","6","","","CC BY-SA 2.5","4205428","4452","4452","r","404559","3625322","3607736","",""
"4205764","1","4207097","","2010-11-17 15:10:22","","5","548","<p>I have a primary graph and some secondary information that I want to facet in another graph below it.  Facetting works great except I do not know how to control the relative space used by one facet versus another.   Am aware of space='free' but this is only useful if the ranges correspond to the desired relative sizing.</p>

<p>So for instance, I may want a graph where the first facet occupies 80% and the second 20%. Here is an example:</p>

<pre><code>data &lt;- rbind(
    data.frame(x=1:500, y=rnorm(500,sd=1), type='A'), 
    data.frame(x=1:500, y=rnorm(500,sd=5), type='B'))
ggplot() + 
    geom_line(aes(x=x, y=y, colour=type), data=data) + 
    facet_grid(type ~ ., scale='free_y')
</code></pre>

<p>The above creates 2 facets of equal vertical dimension.  Adding in <code>space='free'</code> in the <code>facet_grid</code> function changes the dimensions such that the lower facet is roughly 5x larger than the upper (as expected).   </p>

<p>Supposing I want the upper to be 2x as large, with the same data set and ordering of facets.  How can I accomplish this?</p>

<p>Is the only way to do this with some trickery in rescaling the data set and manually overriding axis labels (and if so, how)?</p>

<p><b>Alternative</b></p>

<p>As indicated below can use viewports to render as multiple graphs.  I had considered this and in-fact had implemented using this approach in the past with standard plot and viewports.  </p>

<p>The problem is that it is very difficult to get x-axis to align with this approach.  So if there is a way to <b>fix the size</b> of the y-axis label region and the size of the legend region, can produce 2 graphs that have the same rendering area. </p>
","129785","","129785","","2010-11-17 18:47:52","2010-11-17 18:47:52","Adjusting the relative space of facets (without regard to coordinate space)","<r><ggplot2>","2","1","1","","","CC BY-SA 2.5","4205764","4452","4452","r","404559","3625322","3607736","",""
"4207518","1","4207692","","2010-11-17 17:56:11","","22","7816","<p>I am generating a plot using the code below and would like to hide the ""mag"" (size) legend but still keep the ""depth"" (color) legend.</p>

<p><code>ggplot(quakes, aes(long, lat, size=mag, colour=depth)) + geom_point()</code></p>
","338714","","","","","2012-03-20 07:02:52","How can I hide the part of the legend using ggplot2?","<r><ggplot2>","1","0","4","","","CC BY-SA 2.5","4207518","4452","4452","r","404559","3625322","3607736","",""
"4207833","1","","","2010-11-17 18:31:47","","46","32384","<p>I need to get the row and column name of the smallest element of a matrix</p>

<pre><code>&gt; mat = matrix(data=runif(12), nrow = 4, ncol=4)
&gt; rownames(mat) = colnames(mat) = letters[1:4]
&gt; 
&gt; mat
  a         b         c         d
a 0.3167865 0.6958895 0.4233572 0.3167865
b 0.1042599 0.1552235 0.8461520 0.1552235
c 0.6286461 0.9749868 0.2390978 0.6286461
d 0.5923721 0.7823673 0.8427426 0.5923721
&gt; min = min(mat)
&gt; min
&gt; 0.1042599
</code></pre>

<p>In this example I'd like to get ""a"" and ""b""</p>
","354727","","42346","","2010-11-17 18:45:29","2010-11-17 18:45:29","Get the row and column name of the minimum element of a matrix","<r><matrix>","1","1","14","","","CC BY-SA 2.5","4207833","4452","4452","r","404559","3625322","3607736","",""
"4208913","1","4208952","","2010-11-17 20:37:26","","7","3116","<p>In R, let's say we have a vector<br>
<code>area = c(rep(c(26:30), 5), rep(c(500:504), 5), rep(c(550:554), 5), rep(c(76:80), 5))</code> and another vector <code>yield = c(1:100)</code>.<br>
Now, say I want to index like so:  </p>

<pre><code>&gt; yield[area==27]
[1]  2  7 12 17 22
&gt; yield[area==501]
[1] 27 32 37 42 47
</code></pre>

<p>No problem, right? But weird things start happening when I try to index it by using <code>c(A, B)</code>. (and even weirder when I try <code>c(min:max)</code> ...)</p>

<pre><code>&gt; yield[area==c(27,501)]
[1]  7 17 32 42
</code></pre>

<p>What I'm expecting is of course the instances that are present in both of the other examples, not just some weird combination of them. This works when I can use the pipe OR operator: </p>

<pre><code>&gt; yield[area==27 | area==501]
 [1]  2  7 12 17 22 27 32 37 42 47
</code></pre>

<p>But what if I'm working with a range? Say I want index it by the range <code>c(27:503)</code>? In my real example there are a lot more data points and ranges, so it makes more sense, please don't suggest I do it by hand, which would essentially mean: </p>

<pre><code>yield[area==27 | area==28 |area==29 | ... | area==303 | ... | area==500 |area==501]
</code></pre>

<p>There must be a better way... </p>
","377562","","","","","2010-11-17 21:58:59","In R: Indexing vectors by boolean comparison of a value in range: index==c(min : max)","<r>","2","0","1","","","CC BY-SA 2.5","4208913","4452","4452","r","404559","3625322","3607736","",""
"4209512","1","4209644","","2010-11-17 21:51:26","","31","16723","<p>The question says it all - I want to take a list object full of data.frames and write each data.frame to a separate .csv file where the name of the .csv file corresponds to the name of the list object.</p>

<p>Here's a reproducible example and the code I've written thus far.</p>

<pre><code>df &lt;- data.frame(
    var1 = sample(1:10, 6, replace = TRUE)
    , var2 = sample(LETTERS[1:2], 6, replace = TRUE)
    , theday = c(1,1,2,2,3,3)
)

df.daily &lt;- split(df, df$theday) #Split into separate days

lapply(df.daily, function(x){write.table(x, file = paste(names(x), "".csv"", sep = """"), row.names = FALSE, sep = "","")})
</code></pre>

<p>And here is the top of the error message that R spits out</p>

<pre><code>Error: Results must have one or more dimensions.
In addition: Warning messages:
1: In if (file == """") file &lt;- stdout() else if (is.character(file)) { :
  the condition has length &gt; 1 and only the first element will be used
</code></pre>

<p>What am I missing here?</p>
","415635","","903061","","2017-02-02 23:25:31","2017-02-02 23:25:31","Write list of data.frames to separate CSV files with lapply","<r>","3","3","16","","","CC BY-SA 3.0","4209512","4452","4452","r","404559","3625322","3607736","",""
"4209895","1","4221301","","2010-11-17 22:38:38","","6","1898","<p>I started using Sweave some time ago. However, like most people I encountered pretty soon a major problem: Speed. Sweaving a large document takes ages to run, which makes efficient working quite challenging. Data processing can be accelerated very much with cacheSweave. However, plots - especially ggplot ;) - still take too long to render.
Thats way I want to use pgfSweave.</p>

<p>After many, many hours, I finally succeeded in setting up a working system with Eclipse/StatET/Texlipse. I then wanted to convert an existing report to use with pgfSweave and had a bad surprise: most of my ggplots doesnt seem to work anymore. The following plot for example works perfectly in the console and Sweave:</p>

<pre><code>pl &lt;- ggplot(plot_info,aes(elevation,area))
pl &lt;- pl + geom_point(aes(colour=que_id))
print(pl)
</code></pre>

<p>Running it with pgfSweave, however, I get this error:</p>

<pre><code>Error in if (width &gt; 0) { : missing value where TRUE/FALSE needed
In addition: Warning message:
In if (width &gt; 0) { :
  the condition has length &gt; 1 and only the first element will be used
Error in driver$runcode(drobj, chunk, chunkopts) : 
  Error in if (width &gt; 0) { : missing value where TRUE/FALSE needed
</code></pre>

<p>When I remove aes(...) from geom_point, the plot works perfectly with pgfSweave.</p>

<pre><code>pl &lt;- ggplot(plot_info,aes(elevation,area))
pl &lt;- pl + geom_point()
print(pl)
</code></pre>

<p>Edit:
I investigated more into the problem and could reduce the problem to the tikz-device.</p>

<p>This works just fine:</p>

<pre><code>quartz()
pl &lt;- ggplot(plot_info,aes(elevation,area))
pl &lt;- pl + geom_point(aes(colour=que_id))
print(pl)
</code></pre>

<p>This gives the above error:</p>

<pre><code>tikz( 'myPlot.tex',standAlone = T )
pl &lt;- ggplot(plot_info,aes(elevation,area))
pl &lt;- pl + geom_point(aes(colour=que_id))
print(pl)
dev.off()
</code></pre>

<p>This works just fine as well:</p>

<pre><code>tikz( 'myPlot.tex',standAlone = T )
pl &lt;- ggplot(plot_info,aes(elevation,area))
pl &lt;- pl + geom_point()
print(pl)
dev.off()
</code></pre>

<p>I could repeat this with 5 different ggplots. When not using colour (or size, alpha,...) in the mapping, it works with tikz.</p>

<p>Q1: Does anybody has any explanations for this behavior? </p>

<p>Additionally, caching of non-plot code chunks doesnt work very well. The following code chunk takes no time at all with Sweave. With pgfSweave, it takes approximately 10 sec.</p>

<pre><code>&lt;&lt;plot.opts,echo=FALSE,results=hide,cache=TRUE&gt;&gt;=
#colour and plot options are globally set
pal1 &lt;- brewer.pal(8,""Set1"")
pal_seq &lt;- brewer.pal(8,""YlOrRd"")
pal_seq &lt;- c(""steelblue1"",""tomato2"")
opt1 &lt;- opts(panel.grid.major = theme_line(colour = ""white""),panel.grid.minor = theme_line(colour = ""white""))
sca_fill_cont_opt &lt;- scale_fill_continuous(low=""steelblue1"", high=""tomato2"")
ory &lt;- geom_hline(yintercept=0,alpha=0.4,linetype=2) 
orx &lt;- geom_vline(xintercept=0,alpha=0.4,linetype=2)
ts1 &lt;- 2.3
ts2 &lt;- 2.5
ts3 &lt;- 2.8
ps1 &lt;- 6
offset_x &lt;- function(x,y) 0.15*x/pmax(abs(x),abs(y))
offset_y &lt;- function(x,y) 0.05*y/pmax(abs(x),abs(y))
plot_size &lt;- 50*50
</code></pre>

<p>This seems a pretty strange behavior as well, as only some variables are set for later use.</p>

<p>Q2: Anybody got any explanations for that?</p>

<p>Q3: More generally, I would like to ask if anybody at all is using pgfSweave successfully? 
With successfully I mean that all things that work in Sweave also work in pgfSweave, with the additional benefit of nice fonts and improved speed. ;)</p>

<p>Thanks very much for responses!</p>
","415697","","415697","","2010-11-18 18:45:46","2010-11-19 15:49:48","Problems with ggplot and pgfSweave","<r><latex><ggplot2><tikz><sweave>","3","3","4","","","CC BY-SA 2.5","4209895","4452","4452","r","404559","3625322","3607736","",""
"4210413","1","","","2010-11-17 23:51:48","","2","1137","<p>newbie here. I have a script to create graphs that has a bit that goes something like this:</p>

<pre><code>png(Test.png)
ht=hist(step[i],20)
curve(insert_function_here,add=TRUE)
</code></pre>

<p>I essentially want to plot a curve of a distribution over an histogram. My problem is that the axes limits are apparently set by the histogram instead of the curve, so that the curve sometimes gets out of the Y axis limits. I have played with par(""usr""), to no avail. Is there any way to set the axis limits based on the maximum values of either the histogram or the curve (or, in the alternative, of the curve only)?? In case this changes anything, this needs to be done within a for loop where multiple such graphs are plotted and within a series of subplots (par(""mfrow"")). </p>
","511486","","","","","2010-11-18 16:49:35","Problem with axis limits when plotting curve over histogram","<r>","3","0","","2016-12-12 20:13:00","","CC BY-SA 2.5","4210413","4452","4452","r","404559","3625322","3607736","",""
"4211269","1","4213652","","2010-11-18 02:56:48","","1","446","<p>as title, I want to try odfWeave, but the network in my office is so restricted that I can't access the repos outside, is there anything I can do to install the odfWeave package?</p>

<p>Thanks!</p>

<p>P.S. I am using R-portable 2.11.0, I have tried Rtools but it prompt me with an error of package XML not found, which is not true</p>
","373908","","","","","2010-11-18 13:42:43","installing odfWeave to R in an offline environment","<r><packages>","1","1","1","","","CC BY-SA 2.5","4211269","4452","4452","r","404559","3625322","3607736","",""
"4213656","1","4213674","","2010-11-18 10:11:27","","14","13540","<p>Is there a ""by row"" operation in R to convert each row in a vector like this to strings?</p>

<pre><code>&gt; d= cbind(""Data"", c(""2"", ""73""))
&gt; d
     [,1]   [,2]
[1,] ""Data"" ""2"" 
[2,] ""Data"" ""73""
</code></pre>

<p>What I want is to get strings like </p>

<pre><code>     [,1]
[1,] ""Data 2""
[2,] ""Data 73""
</code></pre>

<p>Is there an easy way to join items by row?</p>
","377562","","","","","2016-03-17 00:03:35","In R: Joining vector elements by row, converting vector rows to strings","<r>","3","0","2","","","CC BY-SA 2.5","4213656","4452","4452","r","404559","3625322","3607736","",""
"4213696","1","4215435","","2010-11-18 10:15:19","","3","1880","<p>Is there a generic/automatic way in R or in python to parse xml files with its nodes and attributes, automatically generate mysql tables for storing that information and then populate those tables.</p>
","455865","","","","","2010-11-18 13:51:16","Parsing an xml file and storing it into a database","<python><mysql><xml><r>","4","0","2","","","CC BY-SA 2.5","4213696","4452","4452","r","404559","3625322","3607736","",""
"4213943","1","4214091","","2010-11-18 10:49:16","","3","13041","<p>In R I am trying to delete rows within a dataframe (ants) which have a negative value under the column heading Turbidity. I have tried</p>

<pre><code>ants&lt;-ants[ants$Turbidity&lt;0,]
</code></pre>

<p>but it returns the following error:</p>

<pre><code>Warning message:
In Ops.factor(ants$Turbidity, 0) : &lt; not meaningful for factors
</code></pre>

<p>Any ideas why this may be? Perhaps I need to make the negative values 
NA before I then delete all NAs?</p>

<p>Any ideas much appreciated, thank you!</p>

<p>@Joris: result is</p>

<pre><code>str(ants$Turbidity)
</code></pre>

<p>num [1:291] 0 0 -0.1 -0.2 -0.2 -0.5 0.1 -0.4 0 -0.2 ...</p>
","464104","","4370109","","2015-07-11 19:46:37","2019-01-21 20:00:13","Delete rows with negative values","<r><row>","4","3","","","","CC BY-SA 3.0","4213943","4452","4452","r","404559","3625322","3607736","",""
"4214469","1","4228323","","2010-11-18 11:57:11","","2","1572","<p>I have a file with many rows of this kind</p>

<pre><code>2010-01-12 19:40   1021.00000   0.00001     1.00
2010-01-12 19:50   1031.00000   0.00000     -1.00
</code></pre>

<p>In order to read it as zoo I use</p>

<pre><code>tmp &lt;- read.table(""myfile"")
GOEMD &lt;- zoo(tmp[,3], as.chron(paste(tmp[,1],tmp[,2]), format=""%Y-%m-%d %H:%M""))
</code></pre>

<p>that works properly
But I'd like to use <code>read.zoo()</code> instead.</p>

<p>I've tried</p>

<pre><code>f &lt;- function(x)  as.chron(paste(tmp[,1],tmp[,2]))
tmp &lt;- read.zoo(""myfile"", index = 1:2, sep="" "", FUN  = f)
</code></pre>

<p>and even specifying </p>

<pre><code>colClasses= c(""character"",""character"",""numeric"",""numeric"",""numeric"")
</code></pre>

<p>but it doesn't work;
it says: 
line 136 (the one I've pasted above) doesn't have 14 elements.</p>

<p>I've also tried:</p>

<pre><code>tmp &lt;- read.zoo(""myfile"", index = 1:2, sep="" "", FUN  = as.chron)
</code></pre>
","425895","","4370109","","2015-12-03 21:07:02","2015-12-03 21:07:02","Using read.zoo instead of read.table and zoo()?","<r><time-series><zoo>","2","0","1","","","CC BY-SA 3.0","4214469","4452","4452","r","404559","3625322","3607736","",""
"4214504","1","","","2010-11-18 12:01:11","","9","33013","<p>I need to analyze some data about internet sessions for a DSL Line. I wanted to have a look at how the session durations are distributed. I figured a simple way to do this would be to begin by making a probability density plot of the duration of all the sessions. </p>

<p>I have loaded the data in R and used the <code>density()</code> function. So, it was something like this</p>

<pre><code>plot(density(data$duration), type = ""l"", col = ""blue"", main = ""Density Plot of Duration"",
     xlab = ""duration(h)"", ylab = ""probability density"")
</code></pre>

<p>I am new to R and this kind of analysis. This was what I found from going through google. I got a plot but I was left with some questions. Is this the right function to do what I am trying to do or is there something else?</p>

<p>In the plot I found that the Y-axis scale was from 0...1.5. I don't get how it can be 1.5, shouldn't it be from 0...1?</p>

<p>Also, I would like to get a smoother curve. Since, the data set is really large the lines are really jagged. It would be nicer to have them smoothed out when I am presenting this. How would I go about doing that?</p>
","213334","","4895725","","2017-04-04 12:16:27","2017-04-04 12:16:27","Getting Probability Density of Data","<r><plot><probability><distribution><data-analysis>","3","4","12","","","CC BY-SA 3.0","4214504","4452","4452","r","404559","3625322","3607736","",""
"4215154","1","4215196","","2010-11-18 13:18:48","","162","482773","<p>Let's say I have:</p>

<pre><code>v = rep(c(1,2, 2, 2), 25)
</code></pre>

<p>Now, I want to count the number of times each unique value appears. <code>unique(v)</code>returns what the unique values are, but not how many they are. </p>

<pre><code>&gt; unique(v)
[1] 1 2
</code></pre>

<p>I want something that gives me </p>

<pre><code>length(v[v==1])
[1] 25
length(v[v==2])
[1] 75
</code></pre>

<p>but as a more general one-liner :) Something close (but not quite) like this:</p>

<pre><code>#&lt;doesn't work right&gt; length(v[v==unique(v)])
</code></pre>
","377562","","1851712","","2020-06-17 10:40:03","2020-09-22 15:14:47","Count number of occurences for each unique value","<r><count><unique>","13","0","52","","","CC BY-SA 4.0","4215154","4452","4452","r","404559","3625322","3607736","",""
"4216298","1","4218258","","2010-11-18 15:13:53","","0","255","<p>We are looking to train R with structures like:
age, data1, data2, ... dataN, actions</p>

<p>where N depends on the amount of data we have about a person.</p>

<p>Our goal is to determine how likely is it that another person would generate actions by querying on all the data we have him/her. </p>

<p>age, data1, data2, ...dataM where M could be bigger or smaller than N.</p>

<p>With complete data-sets we could have used binary logistic regression. But we need to use partial sets.</p>

<p>What's the best way to calculate the likelihood that a person performs actions by asking with partial data sets? </p>
","247707","","247707","","2010-11-18 22:15:13","2010-11-18 22:15:13","Partial data sets in R","<r><statistics>","1","2","","2010-11-18 19:11:57","","CC BY-SA 2.5","4216298","4452","4452","r","404559","3625322","3607736","",""
"4216753","1","4216864","","2010-11-18 15:53:45","","433","316707","<p>I often find myself writing R scripts that generate a lot of output. I find it cleaner to put this output into it's own directory(s). What I've written below will check for the existence of a directory and move into it, or create the directory and then move into it. Is there a better way to approach this?</p>

<pre><code>mainDir &lt;- ""c:/path/to/main/dir""
subDir &lt;- ""outputDirectory""

if (file.exists(subDir)){
    setwd(file.path(mainDir, subDir))
} else {
    dir.create(file.path(mainDir, subDir))
    setwd(file.path(mainDir, subDir))

}
</code></pre>
","415635","","563532","","2016-04-28 06:24:21","2021-02-01 09:36:46","Check existence of directory and create if doesn't exist","<r>","9","9","93","","","CC BY-SA 2.5","4216753","4452","4452","r","404559","3625322","3607736","",""
"4217207","1","4217305","","2010-11-18 16:32:46","","12","18231","<p>I'm trying to add some text to the right hand side of a horizontal barplot at the same heights as each bar, however, both text() and axis() don't seem to plot this at the heights corresponding to each bar. </p>

<p>Here's a similar barplot</p>

<pre><code>x &lt;- runif(10, 0,1)
y &lt;- matrix(c(x, 1-x), nrow=2, ncol=10, byrow=TRUE)
barplot(y, horiz=TRUE, beside=FALSE, names.arg=seq(1,10,1), las=1, xlim=c(0, 1.2))
</code></pre>

<p>Neither of these two options align properly, how does the scaling work here? </p>

<pre><code>axis(4, at=seq(1,10,1), labels=seq(1,10,1))
text(1.1, seq(1,10,1), labels=seq(1, 10, 1))
</code></pre>
","253579","","","","","2010-11-18 16:41:54","add text to horizontal barplot in R, y-axis at different scale?","<r><plot>","1","0","2","","","CC BY-SA 2.5","4217207","4452","4452","r","404559","3625322","3607736","",""
"4217676","1","4217706","","2010-11-18 17:21:20","","2","540","<p>I have another puzzling problem. </p>

<p>I need to read .xls files with RODBC. Basically I need a matrix of all the cells in one sheet, and then use greps and strsplits etc to get the data out. As each sheet contains multiple tables in different order, and some text fields with other options inbetween, I need something that functions like <code>readLines()</code>, but then for excel sheets. I believe RODBC the best way to do that.</p>

<p>The core of my code is following function :</p>

<pre><code>.read.info.default &lt;- function(file,sheet){
    fc &lt;- odbcConnectExcel(file)    # file connection
    tryCatch({
      x &lt;- sqlFetch(fc,
                    sqtable=sheet,
                    as.is=TRUE,
                    colnames=FALSE,
                    rownames=FALSE
           )
      },
      error = function(e) {stop(e)},
      finally=close(fc)
    )

    return(x)
}
</code></pre>

<p>Yet, whatever I tried, it always takes the first row of the mentioned sheet as the variable names of the returned data frame. No clue how to get that solved. According to the documentation, <code>colnames=FALSE</code> should prevent that.</p>

<p>I'd like to avoid the <code>xlsReadWrite</code> package. Edit : and the <code>gdata</code> package. Client doesn't have Perl on the system and won't install it. </p>

<hr>

<p>Edit:</p>

<p>I gave up and went with <code>read.xls()</code> from the <code>xlsReadWrite</code> package. Apart from the name problem, it turned out RODBC can't really read cells with special signs like slashes. A date in the format ""dd/mm/yyyy"" just gave NA.</p>

<p>Looking at the source code of sqlFetch, sqlQuery and sqlGetResults, I realized the problem is more than likely in the drivers. Somehow the first line of the sheet is seen as some column feature instead of an ordinary cell. So instead of colnames, they're equivalent to DB field names. And that's an option you can't set...</p>
","428790","","428790","","2010-11-18 21:51:23","2010-11-18 21:51:23","Not using colnames when reading .xls files with RODBC","<excel><r><xls><rodbc>","1","2","","","","CC BY-SA 2.5","4217676","4452","4452","r","404559","3625322","3607736","",""
"4219308","1","","","2010-11-18 20:35:22","","7","3400","<p>How to show which list of all quotes / data series  available for example with getSymbols from Yahoo?</p>
","512693","","163053","","2010-11-18 20:51:12","2010-11-18 20:51:12","How can i see all available data series from quantmod package?","<r><quantitative-finance><quantmod>","1","0","8","","","CC BY-SA 2.5","4219308","4452","4452","r","404559","3625322","3607736","",""
"4219715","1","4219753","","2010-11-18 21:22:37","","4","4209","<p>I'm looking to create a copy of an existing column in a dataframe that is offset by a number of rows.</p>

<p>E.g. if column2 is a copy of column1 offset by 1, then</p>

<pre><code>&gt; dataframe
$column1
[1] 1 2 3 4 5

$column2
[1] 0 1 2 3 4
</code></pre>

<p>I've had some success with the following code: </p>

<pre><code>offset7 &lt;- rep(0, 7)
dataframe$column1.prev7 = c(offset7, dataframe$column1[1:(length(dataframe$column1)-7)])
</code></pre>

<p>However it starts giving errors if I offset by 30 or more. My data is long enough for this not to be a problem of the offset being larger than the number of rows. The error is:</p>

<pre><code>Error in dataframe$column1[1:(length(dataframe$column1) - 30)] : 
  only 0's may be mixed with negative subscripts
</code></pre>

<p>Thanks in advance! A fast loop free version that plays nice with plyr would be preferred. The intention here is to break up the timeseries data into various lags up to a year and then analyse the results in various ways.</p>
","512716","","271616","","2012-08-31 02:32:03","2012-08-31 02:32:03","R Create a copy of a column where the new column is offset by some fixed amount","<r><xts>","1","2","3","","","CC BY-SA 2.5","4219715","4452","4452","r","404559","3625322","3607736","",""
"4220631","1","4220663","","2010-11-18 23:14:16","","24","52278","<p>I would like to choose rows based on the subsets of their names, for example</p>

<p>If I have the following data:</p>

<pre><code>data &lt;- structure(c(91, 92, 108, 104, 87, 91, 91, 97, 81, 98), 
.Names = c(""fee-"", ""fi"", ""fo-"", ""fum-"", ""foo-"", ""foo1234-"", ""123foo-"", 
""fum-"", ""fum-"", ""fum-""))
</code></pre>

<p>how do I select the rows matching 'foo'?</p>

<p>using grep() doesn't work:</p>

<pre><code> grep('foo', data)
</code></pre>

<p>returns:</p>

<pre><code>integer(0)
</code></pre>

<p>what am I doing wrong? or, is there a better way?</p>

<p>Thanks!</p>
","199217","","10248678","","2020-08-04 18:58:02","2020-08-04 18:58:02","how do I grep in R?","<r><subset>","3","0","8","","","CC BY-SA 2.5","4220631","4452","4452","r","404559","3625322","3607736","",""
"4221168","1","4221253","","2010-11-19 00:46:16","","16","10371","<p>I am trying to use <code>geom_point</code> to illustrate the count of my data. I would also like to annotate a few of the points in my graph with <code>geom_text</code>. When I add the call to <code>geom_text</code>, it appears that it is plotting something underneath the points in the legend. I've tried reversing the order of the layers to no avail. I can't wrap my head around why it is doing this. Has anyone seen this before? </p>

<pre><code>set.seed(42)
df &lt;- data.frame(x = 1:10
    , y = 1:10
    , label = sample(LETTERS,10, replace = TRUE)
    , count = sample(1:300, 10, replace = FALSE)
)

p &lt;- ggplot(data = df, aes(x = x, y = y, size = count)) + geom_point()
p + geom_text(aes(label = label, size = 150, vjust = 2))
</code></pre>

<p><img src=""https://i.stack.imgur.com/TbAMQ.jpg"" alt=""alt text""></p>
","415635","","1457051","","2014-10-14 10:09:01","2014-10-14 10:09:01","ggplot legend issue w/ geom_point and geom_text","<r><ggplot2><legend>","2","0","7","","","CC BY-SA 3.0","4221168","4452","4452","r","404559","3625322","3607736","",""
"4221310","1","4221323","","2010-11-19 01:19:07","","4","1550","<p>I am programming using R in Linux and each time I want to edit a function by typing </p>

<pre><code>fix(FunctioName)
</code></pre>

<p>The VI editor is used and for me, it is not that handy, I want to change it and make it an other one for example nano.
I am connecting to our school server so I have only shell, no graphical interface.</p>

<p>Thank you in advance.</p>
","501507","","37751","","2010-11-19 17:47:20","2010-11-19 17:47:20","How to change the default text editor in R when in Linux?","<linux><r><vi>","2","7","1","","","CC BY-SA 2.5","4221310","4452","4452","r","404559","3625322","3607736","",""
"4221346","1","","","2010-11-19 01:26:00","","1","463","<p>I am trying to plot the data using the ggplot2 package, but I am crossing with an error:
the data are set of columns which represents every day values (the values change in altitude) </p>

<pre><code>V1 V2.... V500
2E-15.....3E-14
3e-14.....3E-21
1.3E-15....NA
</code></pre>

<p>I want to plot all the data in two axis with a fill of the values.</p>

<p>Code;</p>

<pre><code>a&lt;-data.frame(""/../vertical_value.csv"",sep="","",header=F)
am&lt;-melt(t(a))
dataset&lt;-expand.grid(X = 1:500, H = seq(1,25,by=1))
dataset$axp&lt;-am$value
g&lt;-ggplot(dataset, aes(x = X, y = H, fill = axp)) + geom_tile()
</code></pre>

<p>error: </p>

<pre><code>Error: Casting formula contains variables not found in molten data: XHaxp
</code></pre>
","434054","","245603","","2010-11-19 13:51:12","2010-11-19 20:22:40","plotting with ggplot2. Error","<r><ggplot2>","1","3","","","","CC BY-SA 2.5","4221346","4452","4452","r","404559","3625322","3607736","",""
"4221360","1","4221684","","2010-11-19 01:28:33","","23","13929","<p>Intuitively I'm looking for something like: <code>facet_(scales=""free_color"")</code></p>

<p>I do something like</p>

<pre><code>p &lt;- ggplot(mpg, aes(year, displ, color=model)) + facet_wrap(~manufacturer)
p + geom_jitter()
</code></pre>

<p>That is: plot 2d measurements from individuals(<code>model</code>) belonging to different species(<code>manufacturer</code>) faceted by a species, indicating the individual by color.
The problem is that all individuals share the same color scale - so that the points in a facet have very similar colors.</p>

<p>Using the group aesthetic with geom_line would solve the problem, but lines tell different story than dots.</p>

<p>Another obvious solution would be to drop the faceting and draw a separate plot for each subset. (If this should be the only solution: are there any quick, smart or proven ways to do that?)</p>
","153408","","","","","2016-09-16 19:40:45","ggplot2: separate color scale per facet","<r><ggplot2>","2","0","6","","","CC BY-SA 2.5","4221360","4452","4452","r","404559","3625322","3607736","",""
"4222476","1","","","2010-11-19 05:58:05","","44","7393","<p>I wonder if there is a way to display the current time in the R command line, like in MS DOS, we can use</p>

<pre><code>Prompt $T $P$G
</code></pre>

<p>to include the time clock in every prompt line. 
Something like</p>

<pre><code>options(prompt=paste(format(Sys.time(), ""%H:%M:%S""),""&gt; ""))
</code></pre>

<p>will do it, but then it is fixed at the time it was set. I'm not sure how to make it update automatically.</p>
","513108","","4895725","","2017-10-07 16:53:52","2017-10-07 16:53:52","Display a time clock in the R command line","<r><time><clock>","5","3","23","","","CC BY-SA 3.0","4222476","4452","4452","r","404559","3625322","3607736","",""
"4222800","1","","","2010-11-19 06:54:47","","3","224","<p>I have tried <code>odfWeave</code> a bit, nice app. But at the very beginning, even I tried exactly as the example provided in the manual, I can't generate any file.</p>

<p>I have searched a bit inside the odt file and found a statement inside the <code>content.xml</code> cause the problem, it is:</p>

<p><code>text:bullet-char=""&lt;U+25CF&gt;""</code></p>

<p>what is the statement actually? how can I fix that in R? Thanks!</p>
","373908","","","","","2010-11-19 09:35:23","the line that cause odfWeave-generated odt file to be considered as corrupted","<r><odf>","1","0","","","","CC BY-SA 2.5","4222800","4452","4452","r","404559","3625322","3607736","",""
"4224031","1","4226055","","2010-11-19 10:16:42","","8","1088","<p>randomized SVD decomposes a matrix by extracting the first k singular values/vectors using k+p random projections. this works surprisingly well for large matrices.</p>

<p>my question concerns the singular values that are output from the algorithm. why aren't the values equal to the first k-singular values if you do the full SVD?</p>

<p>Below I have a simple implementation in R. Any suggestions on improving the performance would be appreciated.</p>

<pre><code>rsvd = function(A, k=10, p=5) {
       n = nrow(A)
       y = A %*% matrix(rnorm(n * (k+p)), nrow=n)
       q = qr.Q(qr(y))
       b = t(q) %*% A
       svd = svd(b)
       list(u=q %*% svd$u, d=svd$d, v=svd$v)
       }

&gt; set.seed(10)

&gt; A &lt;- matrix(rnorm(500*500),500,500)

&gt; svd(A)$d[1:15]
 [1] 44.94307 44.48235 43.78984 43.44626 43.27146 43.15066 42.79720 42.54440 42.27439 42.21873 41.79763 41.51349 41.48338 41.35024 41.18068

&gt; rsvd.o(A,10,5)$d
 [1] 34.83741 33.83411 33.09522 32.65761 32.34326 31.80868 31.38253 30.96395 30.79063 30.34387 30.04538 29.56061 29.24128 29.12612 27.61804
</code></pre>
","213185","","","","","2020-10-12 14:48:50","randomized SVD singular values","<performance><math><r><matrix>","2","3","4","","","CC BY-SA 2.5","4224031","4452","4452","r","404559","3625322","3607736","",""
"4227077","1","4228738","","2010-11-19 16:27:30","","4","2477","<p>I have two data frames. 
The one consists of three variables, namely ""date"", ""strike"" and ""vol"" with 20 observations a day, 100 a month and 1200 a year (in trading days), which looks like this   </p>

<pre><code>Date         Price       Vol
2008-09-01   20          0.2
2008-09-01   30          0.5
...
</code></pre>

<p>So for each month I have certain values for price and vol, ranging from 10 to 40, 0.1 to 0.7, respectively.<br>
The second one includes interpolated values from the first one. So I do not have the date anymore, however small steps for the other variables:</p>

<pre><code>  Price       Vol
   20          0.2
   21          0.21
   22          0.24
   30          0.5
</code></pre>

<p>So, while one frame shows values in a discrete time, the other one is more or less of continuous nature.<br>
Now my question: how is it possible to tell R to merge the second data frame into the first one, taking over the dates for the continuous prices/vols between the two discrete ones, to get to something like this:</p>

<pre><code>Date         Price       Vol
2008-09-01   20          0.2
2008-09-01   21          0.21
2008-09-01   22          0.24
...
2008-09-01   30          0.5
</code></pre>

<p>I just cannot figure out how to do it. I always ended up with NA values for the dates which are no longer in ascending order.</p>

<p>Thank you very much for your support<br>
Dani</p>
","513744","","163053","","2010-11-19 16:49:43","2010-11-19 20:14:06","Merging two different data frames in R","<r><time-series>","2","1","1","","","CC BY-SA 2.5","4227077","4452","4452","r","404559","3625322","3607736","",""
"4227223","1","4227273","","2010-11-19 16:40:52","","568","931871","<p>I have a nested list of data. Its length is 132 and each item is a list of length 20. Is there a <em>quick</em> way to convert this structure into a data frame that has 132 rows and 20 columns of data?</p>
<p>Here is some sample data to work with:</p>
<pre><code>l &lt;- replicate(
  132,
  as.list(sample(letters, 20)),
  simplify = FALSE
)
</code></pre>
","155406","","121332","","2020-11-11 20:02:10","2021-04-03 10:55:15","Convert a list to a data frame","<r><list><dataframe>","23","6","243","","","CC BY-SA 4.0","4227223","4452","4452","r","404559","3625322","3607736","",""
"4228280","1","4228559","","2010-11-19 18:42:22","","0","461","<p>I have a dataset like this</p>

<p>Lat Lon mxgYield</p>

<p>38.96152878 -123.5578995    7.925971605</p>

<p>39.24150085 -123.6392975    19.6720449</p>

<p>39.52162933 -123.7214966    19.777747</p>

<p>39.80192947 -123.8044968    12.23218451</p>

<p>40.36297989 -123.9729004    15.00058428</p>

<p>40.64371872 -124.058403 1.443492322</p>

<p>38.74369812 -123.1184998    1.938840925</p>

<p>I am trying to map mxgYield as a color gradient. How should I do this in R?</p>

<p>Thanks</p>
","467243","","37751","","2010-11-19 19:42:33","2010-11-19 19:42:33","How can I map the regular dataset using coordinates in R?","<r>","1","1","1","","","CC BY-SA 2.5","4228280","4452","4452","r","404559","3625322","3607736","",""
"4230064","1","4230225","","2010-11-19 22:48:00","","1","539","<p>I got an error while creating a new method for a new class</p>

<blockquote>
  <p>> setClass(""CIR"", representation(PATH=""numeric"", GRID=""numeric"", PARAMS=""numeric""));<br>
  [1] ""CIR""<br>
  ><br>
  > setMethod(""plot"", signature(x=""CIR""), ,<br>
  +           function(x) {<br>
  + plot(slot(x,""GRID""),slot(x,""PATH""),type=""l"")<br>
  + points(slot(x,""GRID""),slot(x,""PATH""),col=""red"",cex=0.5)<br>
  +           })<br>
  Error in as.environment(where) : invalid object for 'as.environment'  </p>
</blockquote>

<p>How can I solve it? Thanks!</p>
","156458","","","","","2010-11-19 23:11:04","Error while creating a new method for a new class in R","<r>","1","0","","","","CC BY-SA 2.5","4230064","4452","4452","r","404559","3625322","3607736","",""
"4232250","1","4232831","","2010-11-20 10:23:23","","1","2742","<p>I am trying to use <a href=""http://www.omegahat.org/RCurl/"" rel=""nofollow"">RCurl</a> (from within the R programming language).  And I get the following error:</p>

<blockquote>
  <p>The procedure entry point
  ASN1_const_check_infinite_end could
  not be located in the dynamic link
  library libeay32.dll</p>
</blockquote>

<p>Before that I had the warning that  libeay32.dll is missing.  I downloaded some copy from online, and put it into the system32 directory - and I ended up with the error above.</p>

<p>I then ran regclean pro (<a href=""http://www.systweak.com/RegistryCleaner/"" rel=""nofollow"">link</a>) but that didn't help either.</p>

<p>I work on win 7.  Any suggestions how to solve this?</p>

<p>(I wasn't sure if this belongs here on superuser, so I tried both)</p>
","256662","","256662","","2010-11-20 10:34:15","2011-03-15 15:10:38","libeay32.dll error when starting RCurl","<dll><r><windows-7><curl><rcurl>","2","0","","","","CC BY-SA 2.5","4232250","4452","4452","r","404559","3625322","3607736","",""
"4232736","1","4232972","","2010-11-20 12:35:36","","0","838","<p>The R quantmod package documentation describes both the chartSeries() and chart_Series() functions. But after requiring quantmod, only the chartSeries() function is available. Is there a special way to get access to an R package function besides install.packages() or update.packages()?</p>
","296155","","271616","","2010-11-20 13:35:06","2010-11-20 14:51:46","Getting access to chart_Series () from the quantmod package","<r><packages><quantmod>","1","2","","","","CC BY-SA 2.5","4232736","4452","4452","r","404559","3625322","3607736","",""
"4234179","1","4239185","","2010-11-20 18:06:07","","0","4009","<p>I have five text files that are produced by an <code>R</code> program, (each of them having header) that are to be combined into a single file. I have combined them using <code>rbind</code> and my problem is when I combine them, the resultant output has headers attached at end of each file for example,
if the headers are supposed </p>

<pre><code>Combine Resultant file
A  B  C  D
1  3  5  7    ------------&gt; Text file1
6  9  0  3
A  B  C  D
1  3  6  7    ------------&gt; Text file 2
5  7  8  3
and so on....
</code></pre>

<p>instead of that I want the output file to have only one header at line 1
so the file should look like:</p>

<pre><code>Combine Resultant file
A  B  C  D
1  3  5  7    ------------&gt; Text file1
6  9  0  3
1  3  6  7    ------------&gt; Text file 2
5  7  8  3
and so on....
</code></pre>

<p>Can anyone tell me how to do that?
The code I have is:</p>

<pre><code>S1 &lt;- read.table(""C:/Simulation_Results/sim_1_200.txt"",sep="";"",header= TRUE);
S2 &lt;- read.table(""C:/Simulation_Results/sim_201_400.txt"", sep="";"",header= TRUE);
S3 &lt;- read.table(""C:/Simulation_Results/sim_401_600_b.txt"", sep="";"",header= TRUE);
S4 &lt;- read.table(""C:/Simulation_Results/sim_601_800.txt"", sep="";"",header= TRUE);
S5 &lt;- read.table(""C:/Simulation_Results/sim_901_1000.txt"",sep="";"",header= TRUE);
S6 &lt;- read.table(""C:/Simulation_Results/simulations_801_900.txt"",sep="";"",header= TRUE);
options(max.print=28.5E6);
S7 &lt;- rbind(S1,S2,S3,S4,S5,S6)
write.table(S7, file=""C:/Simulation_Results/simulation_1_1000.txt"", sep="";"", 
            row.names=TRUE, col.names=FALSE, quote = FALSE);
</code></pre>

<p>Thanks!</p>
","302058","","3396821","","2018-01-31 11:31:14","2018-01-31 11:31:14","Combine the multiple files with one header","<r>","3","3","2","","","CC BY-SA 3.0","4234179","4452","4452","r","404559","3625322","3607736","",""
"4236368","1","4236383","","2010-11-21 03:59:59","","139","264549","<p>Suppose I have a n by 2 matrix and a function that takes a 2-vector as one of its arguments. I would like to apply the function to each row of the matrix and get a n-vector. How to do this in R?</p>

<p>For example, I would like to compute the density of a 2D standard Normal distribution on three points:</p>

<pre><code>bivariate.density(x = c(0, 0), mu = c(0, 0), sigma = c(1, 1), rho = 0){
    exp(-1/(2*(1-rho^2))*(x[1]^2/sigma[1]^2+x[2]^2/sigma[2]^2-2*rho*x[1]*x[2]/(sigma[1]*sigma[2]))) * 1/(2*pi*sigma[1]*sigma[2]*sqrt(1-rho^2))
}

out &lt;- rbind(c(1, 2), c(3, 4), c(5, 6))
</code></pre>

<p>How to apply the function to each row of <code>out</code>?</p>

<p>How to pass values for the other arguments besides the points to the function in the way you specify? </p>
","156458","","680068","","2017-11-23 20:11:02","2017-11-23 20:11:02","Apply a function to every row of a matrix or a data frame","<r><function><matrix><apply><sapply>","6","0","34","","","CC BY-SA 3.0","4236368","4452","4452","r","404559","3625322","3607736","",""
"4239501","1","4240233","","2010-11-21 18:30:53","","1","334","<p>How do I prevent the R console from adding extra line breaks when I use the up arrow to select previous commands?  </p>

<p>When using the up arrow to select an earlier command, the R console is adding unwanted line breaks.  What follows is a paste of my R console (with comments added after the fact).  This is problematic when attempting to re-edit a previous line multiple times.</p>

<pre><code>&gt; ls()  #this line is entered by hand
character(0)
&gt; ls()  #this gotten by &lt;uparrow&gt; and then &lt;return&gt;
character(0)
&gt; 
&gt; ls()  #likewise for rest of file
character(0)
&gt; 
&gt; 
&gt; ls()
character(0)
&gt; 
&gt; 
&gt; 
&gt; ls()
character(0)
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ls()
character(0)
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
</code></pre>

<p>Easy steps to reproduce: </p>

<ol>
<li>enter a command, and press enter.</li>
<li>hit the up arrow.</li>
<li>hit enter.</li>
<li>hit the up arrow.</li>
</ol>
","245292","","","","","2010-11-21 20:38:54","How to prevent extra line breaks in R console (mac)","<r>","1","2","","","","CC BY-SA 2.5","4239501","4452","4452","r","404559","3625322","3607736","",""
"4240802","1","4240830","","2010-11-21 22:35:42","","0","4147","<p>In the following code, I got the ""target of assignment expands to non-language object"" error:</p>

<pre><code>&gt; rho=c(0,0,0)
&gt; if (rho[1]&gt;1 || rho[1] &lt;-1 || rho[2]&gt;1 || rho[2] &lt;-1 || rho[3]&gt;1 || rho[3] &lt;-1){
+ cat(""Correlation must be within [-1,1]!\n"");
+ retMCx = NULL; retMCy = NULL; retMCz =NULL;
+ } 
Error in 1 || rho[3] &gt; 1 || rho[3] &lt;- 1 :    target of assignment expands to non-language object
</code></pre>

<p>Any idea why? Thanks!</p>
","156458","","","","","2010-11-21 22:40:30","""target of assignment expands to non-language object"" in R","<r>","1","0","","2015-08-14 14:46:10","","CC BY-SA 2.5","4240802","4452","4452","r","404559","3625322","3607736","",""
"4241229","1","4241619","","2010-11-22 00:13:38","","6","666","<p>I'm writing an S3 class in R that is just an integer with some attributes attached to it. If x1 and x2 are objects of this class (call it ""myclass""), then I would like c(x1, x2) to return a vector of myclass objects with the original class definition and attributes intact. However, the documented behavior of c() is to remove attributes, so it would seem that I need to write my own c.myclass() method. My question is, how can I do this?</p>

<p>An example of the problem:</p>

<pre><code>myclass &lt;- function(x, n) structure(x, class=""myclass"", n=n)
x1 &lt;- myclass(1, 5)
x2 &lt;- myclass(2, 6)
c(x1, x2)
[1] 1 2
</code></pre>

<p>Here the result is just a vector of items of class numeric, and the original n attribute is gone.</p>

<p>Looking at the code for various packages, I sometimes see code like the following, in which we need to preserve the class attribute but nothing else:</p>

<pre><code>c.myclass &lt;- function(..., recursive = F) {
    structure(c(unlist(lapply(list(...), unclass))), class=""myclass"")
}
</code></pre>

<p>Unfortunately I also cannot get this to work. The result of calling c.myclass(x1, x2) is a vector where the vector itself has class ""myclass"" but where each item in the vector has class numeric; I really want each item in the vector to have class ""myclass"". In practice I will also need to upgrade this method to preserve other attributes as well (like the attribute ""n"" in myclass).</p>
","233446","","18484","","2014-07-21 10:07:42","2014-07-21 10:07:42","How to write a c() function for custom S3 class in R","<r><r-s3>","2","0","1","","","CC BY-SA 2.5","4241229","4452","4452","r","404559","3625322","3607736","",""
"4241531","1","4241593","","2010-11-22 01:30:47","","3","6629","<p>I would like to have several subplots in a row in a plot. However the apprearance of each subplot is narrow. How can I adjust the aspect ratio so that each subplot will become wider? Thanks!<img src=""https://i.stack.imgur.com/THlml.png"" alt=""alt text""></p>

<pre><code>par(mfrow=c(1,3))
for (i in 1:3){
        dest=density(out[,i])
        hist(out[,i], xlim=range(dest$x),xlab=paste(""x["",i,""]""),ylab=""density"", main="""", prob=TRUE)
        lines(dest,col=""red"")
}
</code></pre>
","156458","","","","","2010-11-22 10:23:33","adjust aspect ratio of plot in R","<r>","1","0","2","","","CC BY-SA 2.5","4241531","4452","4452","r","404559","3625322","3607736","",""
"4241798","1","4241814","","2010-11-22 02:37:18","","168","518073","<p>I am confused. What is the right way to increase font size of text in the title, labels and other places of a plot? </p>

<p>For example</p>

<pre><code>x &lt;- rnorm(100)
hist(x, xlim=range(x), xlab= ""Variable Label"", 
     ylab=""density"", main=""Title of plot"", prob=TRUE, ps=30)
</code></pre>

<p>The <code>ps</code> argument does not change font size (but it says in R Help for <code>?par</code> that it is for ""the point size of text (but not symbols)"".</p>

<p>Also is it possible to separate changing the font size from the plotting function such as <code>hist</code>?</p>
","156458","","4865723","","2017-02-07 02:56:55","2021-05-21 00:11:09","How to increase font size in a plot in R?","<r><plot>","8","1","48","","","CC BY-SA 3.0","4241798","4452","4452","r","404559","3625322","3607736","",""
"4241812","1","4248159","","2010-11-22 02:40:41","","13","8025","<p>I strongly suspect the most upvoted answer will be ""that is the wrong tool for the job"". I acknowledge that R may not be particularly well suited for sending and receiving email but it is the scripting language I know best.  I am hoping to find a way to send and receive short emails in R.  Does anybody know an established way to do this on a Windows platform? I might be able to use a combination of BLAT and GetMail but a native R solution would be preferred.</p>

<p><strong>Edit:</strong> An acceptable solution should be able to interface with servers that require SSL.</p>

<p><strong>Edit 2:</strong> I provide my stab at a 80% answer.  Sadly an R native way is not demonstrated. Instead I use an unholy combination of system calls and command line programs that is likely to not be compatible across platforms.  R native calls will require digging into the way POP3 servers like to talk to connected clients and an understanding of SSL that I don't currently have.  Other answers are still encouraged.</p>

<pre><code>##Note: Other programs are wrapped in R functions and system calls.
#They each have their own licenses which may or may not allow the use suggested here
#Programs used here:
#STunnel: http://www.stunnel.org/; Provides an SSL tunnel but requires OpenSSL 
#OpenSSL: http://www.openssl.org/; OpenSSL to actually provide SSL
#   Note that these .dlls should be placed with the stunnel exe.
#   Also note that libssl32.dll may need to be renamed from ssleay32.dll
#Microsoft Visual C++ 2008 Redistributable (may be required for the SSL .dlls to work correctly)
#Blat: http://www.blat.net; a public domain SMTP sending program
#Getmail is free for non-commercial use. If you use it in a business environment, then a fee of $50 USD is payable to Tim Charron. 

#Stunnel is a TSR, so it will need to be killed from the task manager if there is an issue.  If you are willing to install it as a service you may be able to tweak my code to start and stop the service.  
#My current code does not create .conf file for stunnel the way a full version ought.  Check http://spampal.sanesecurity.com/manual_eng/servers/stunnel/stunnel.htm#sconfig21 to create the appropriate configuration file.

#Set the config values as appropriate
##Config##
BLAT.loc &lt;- ""c:/Programming/R/Rmail/blat262/full/blat.exe""
GetMail.loc &lt;- ""C:/Programming/R/RMail/getmail133/getmail.exe""
stunnel.loc &lt;- ""C:/Programming/R/RMail/stunnel/stunnel-4.11.exe""

#The set mail function assigns the username and password to be used as well as the smtp and pop3 servers it starts stunnel (and assumes that the stunnel.conf file is present and set correctly).
setMail &lt;- function(user,pw,SSL=FALSE,smtp=""127.0.0.1:259"",pop3=""127.0.0.1:1109"")
{
    if (SSL==TRUE)
    {
        print(""Starting stunnel; you will need to kill this from the task-manager"")
        system(stunnel.loc,wait=FALSE)
        Sys.sleep(2) #Give it time to start 
    }
    return(list(user=user,pw=pw,smtp=smtp,pop3=pop3,SSL=SSL))
}

#function to send mail, myMail is the resulting list from setMail
sendmail &lt;- function(myMail, to, subject, msg,VERBOSE=FALSE)
{
    writeLines(msg, ""out.txt"", sep = ""\n"", useBytes = FALSE)
      targ &lt;- paste(getwd(),""/out.txt"",sep="""")
    call &lt;- paste(BLAT.loc, ' ""',targ,'"" -subject ""',subject,'"" -to ',to,"" -u "",myMail$user,"" -pw "",myMail$pw, "" -f "",myMail$user, "" -debug -server "",myMail$smtp,sep="""")
    res &lt;- system(call,intern=TRUE)
    if (VERBOSE) {return(res)}
}

#function to get mail, myMail is the resulting list from setMail; it returns a list with one element that contains everything unparsed, another list provides the number of messages remaining on the server.
getmail &lt;- function(myMail,VERBOSE=FALSE)
{      
    unlink(""MSG1.txt"") #drop previous get
    #download next message
    call &lt;- paste(GetMail.loc,"" -u "",myMail$user,"" -pw "",myMail$pw,"" -s "",strsplit(myMail$pop3,"":"")[[1]][1],
        "" -port "",strsplit(myMail$pop3,"":"")[[1]][2],"" -n 1"",sep="""")
    res &lt;- system(call,intern=TRUE)
    if (VERBOSE) {print(res)}
    nmsgtxt &lt;- res[grep(""messages on the server."",res)]
    nstart &lt;- regexpr(""There are"",nmsgtxt)
    nend &lt;- regexpr(""messages on the server."",nmsgtxt)
    nmess &lt;- as.numeric(substr(nmsgtxt,10,nend-1))-1
      x &lt;- readLines(""MSG1.txt"",-1)
    return(list(message=x,remaining=nmess))
}
</code></pre>

<p><strong>Usage case</strong>:  Simply put, I need to have R be able to send a message whose content is determined elsewhere in the R script to an SMTP server.  Participants will receive the email and respond to it.  I need to retrieve their response from my POP3 server and store it in an R data structure so that I can perform post processing on it.  In practice, I'm establishing a way to do experience sampling via R.  That is, R can email a participant ""How are you today (1 = Bad; 7 = Great)?""  The participant can respond ""4"", and I can match the question asked, the response, and so on in a database for statistical analysis.</p>
","169095","","169095","","2010-11-23 01:51:19","2015-03-24 21:05:02","How can I send/receive (SMTP/POP3) email using R?","<email><r>","3","9","5","","","CC BY-SA 2.5","4241812","4452","4452","r","404559","3625322","3607736","",""
"4242328","1","4242495","","2010-11-22 04:38:45","","5","6749","<p>How to show $\{ X_t \}$ of Latex in the title of a plot of R?</p>

<p>For example</p>

<pre><code> plot(slot(x,""GRID""),slot(x,""PATH""),type=""l"", xlab=""Time t"",ylab=""X"",
 main=paste(""Simulation of \{X_t\}""))
</code></pre>

<p>Thanks!</p>
","156458","","1451109","","2013-10-25 11:42:00","2013-10-25 11:42:00","how to show $\{ X_t \}$ in the title of a plot of R","<r><plotmath>","3","2","1","","","CC BY-SA 3.0","4242328","4452","4452","r","404559","3625322","3607736","",""
"4244157","1","35865764","","2010-11-22 09:54:21","","26","31697","<pre><code>library(ggplot2)

orderX &lt;- c(""A"" = 1, ""B"" = 2, ""C"" = 3)
y &lt;- rnorm(20)
x &lt;- as.character(1:20)
group &lt;- c(rep(""A"", 5), rep(""B"", 7), rep(""C"", 5), rep(""A"", 3))
df &lt;- data.frame(x, y, group)
df$lvls &lt;- as.numeric(orderX[df$group])

ggplot(data = df, aes(x=reorder(df$x, df$lvls), y=y)) + 
geom_point(aes(colour = group)) + 
geom_line(stat = ""hline"", yintercept = ""mean"", aes(colour = group))
</code></pre>

<p>I want to create a graph like this:
<img src=""https://i.stack.imgur.com/e20c9.png"" alt=""graph with averages for each group""></p>

<p>This does work, when I do not need to reorder the values of X, however, when I do use reorder, it doesn't work anymore.</p>
","392445","","392445","","2010-11-22 13:01:29","2016-03-08 11:29:06","ggplot2: add line for average per group","<r><ggplot2>","2","5","8","","","CC BY-SA 2.5","4244157","4452","4452","r","404559","3625322","3607736","",""
"4245196","1","4245365","","2010-11-22 12:02:14","","9","999","<p>Is there a builtin functionality in R to sort character vectors taking case into account? <code>sort</code> and <code>order</code> ignore the case:</p>

<pre><code>tv &lt;- c(""a"", ""A"", ""ab"", ""B"")
sort(tv)
## [1] ""a""  ""A""  ""ab"" ""B"" 
</code></pre>

<p>This is my solution so far:</p>

<pre><code>CAPS &lt;- grep(""^[A-Z]"", tv)
c(sort(tv[CAPS]), sort(tv[-CAPS]))
## [1] ""A""  ""B""  ""a""  ""ab""
</code></pre>
","453735","","453735","","2010-11-22 16:06:22","2018-06-25 09:15:40","Do not ignore case in sorting character strings","<sorting><r><vector><character>","1","0","1","","","CC BY-SA 2.5","4245196","4452","4452","r","404559","3625322","3607736","",""
"4248790","1","4249148","","2010-11-22 18:20:57","","3","341","<p>I am programming an <a href=""http://en.wikipedia.org/wiki/Expectation-maximization_algorithm"" rel=""nofollow"">expectation-maximization algorithm</a> with R. In order to speed-up the computation, I would like to vectorize this bottleneck. I know that N is about a hundred times k.</p>

<pre><code>MyLoglik = 0
for (i in c(1:N))
{
 for (j in c(1:k))
 {
  MyLoglik = MyLoglik + MyTau[i,j]*log(MyP[j]*MyF(MyD[i,], MyMu[j,], MyS[[j]]))
 }
}
</code></pre>

<p>There is also this list of matrices:</p>

<pre><code>MyDf.list &lt;- vector(""list"", k)
for(i in 1:k)
{
 MyDf.list[[i]] &lt;- matrix(0,d,d)
 for (j in c(1:N))
 {
  MyDf.list[[i]] = MyDf.list[[i]] + MyTau[j,i]*as.numeric((MyD[j,]-MyMu[i,])) %*% t(as.numeric(MyD[j,]-MyMu[i,]))  
 }
 MyDf.list[[i]] = MyDf.list[[i]] / MyM[i]
}
</code></pre>

<hr>

<p>I have sped things up a bit using:</p>

<pre><code>MyLoglik = 0
for (j in c(1:k))
{
 MyR= apply(MyD, 1, function(x) log(MyP[j]*MyF(x, MyMu[j,], MyS[[j]])))
 MyLoglik = MyLoglik + sum(MyTau[,j]*MyR)
}
</code></pre>

<p>and:</p>

<pre><code>d = dim(MyD)[2]
MyDf.list &lt;- vector(""list"", k)
for(i in 1:k)
{
 MyDf.list[[i]] &lt;- matrix(0,d,d)
 MyR= apply(MyD, 1, function(x) as.numeric((x-MyMu[i,])) %*% t(as.numeric(x-MyMu[i,])))
 MyDf.list[[i]] = matrix(rowSums(t(MyTau[,i]*t(MyR))) / MyM[i],d,d)
}
</code></pre>
","376454","","3923281","","2017-09-26 12:41:23","2017-09-26 12:41:23","How to speed this kind of double for-loop?","<r><performance><for-loop><vectorization><expectation-maximization>","3","0","1","","","CC BY-SA 2.5","4248790","4452","4452","r","404559","3625322","3607736","",""
"4249184","1","4249754","","2010-11-22 19:03:55","","9","6124","<p>I am trying to pull data from our Oracle datamart into R using RODBC. I have been able to work through some of my issues, but I have one basic question.</p>

<p>How can I retain the formatting as it sits in the database?</p>

<p>Using the following command</p>

<pre><code>uapp &lt;- sqlQuery(ch, SQL, stringsAsFactors=F)
</code></pre>

<p>My data are retrieved as expected, but some fields are converted to numeric and logical once in R when they should be characters.  I can get around this if I use:</p>

<pre><code>uapp &lt;- sqlQuery(ch, SQL, stringsAsFactors=F, as.is=T)
</code></pre>

<p>But I ""lose"" columns being formatted as dates when I would like them to be.</p>
","155406","","","","","2019-06-13 15:29:35","RODBC Query Tuning","<r><rodbc>","2","3","3","","","CC BY-SA 2.5","4249184","4452","4452","r","404559","3625322","3607736","",""
"4251294","1","4272932","","2010-11-22 23:28:33","","5","4022","<p>Using <code>ggplot()</code>, I am trying to plot the results of an ANCOVA in which slopes of the two linear components are equal: i.e., <code>lm(y ~ x + A)</code>. The default behavior for <code>geom_smooth(method = ""lm"")</code> is to plot separate slopes and intercepts for each level of each factor. For example, with two levels of <code>A</code></p>

<pre><code>library(ggplot2)
set.seed(1234)

n &lt;- 20

x1 &lt;- rnorm(n); x2 &lt;- rnorm(n)
y1 &lt;- 2 * x1 + rnorm(n)
y2 &lt;- 3 * x2 + (2 + rnorm(n))
A &lt;- as.factor(rep(c(1, 2), each = n))
df &lt;- data.frame(x = c(x1, x2), y = c(y1, y2), A = A)

p &lt;- ggplot(df, aes(x = x, y = y, color = A))
p + geom_point() + geom_smooth(method = ""lm"")
</code></pre>

<p><img src=""https://i.stack.imgur.com/6ul8y.png"" alt=""Default ggplot()""></p>

<p>I can fit the ANCOVA separately with <code>lm()</code> and then use <code>geom_abline()</code> to manually add the lines. This approach has a couple of drawbacks like having the lines extend beyond the range of the data and manually specify the colors.</p>

<pre><code>fm &lt;- lm(y ~ x + A, data = df)
summary(fm)

a1 &lt;- coef(fm)[1]
b &lt;- coef(fm)[2]
a2 &lt;- a1 + coef(fm)[3]

p + geom_point() + 
  geom_abline(intercept = a1, slope = b) + 
  geom_abline(intercept = a2, slope = b)
</code></pre>

<p><img src=""https://i.stack.imgur.com/OUhjy.png"" alt=""With geom_abline()""></p>

<p>I know <code>ancova()</code> in the HH package automates the plotting, but I don't really care for lattice graphics. So I am looking for a <code>ggplot()</code>-centric solution.</p>

<pre><code>library(HH)
ancova(y ~ x + A, data = df)
</code></pre>

<p>Is there a method to accomplish this using <code>ggplot()</code>? For this example, <code>A</code> has two levels, but I have situations with 3, 4, or more levels. The <code>formula</code> argument to <code>geom_smooth()</code> doesn't seem to have the answer (as far as I can tell).</p>
","168137","","","","","2010-11-25 01:09:10","Constraining slope in stat_smooth with ggplot (plotting ANCOVA)","<r><plot><ggplot2>","1","1","2","","","CC BY-SA 2.5","4251294","4452","4452","r","404559","3625322","3607736","",""
"4251553","1","4251740","","2010-11-23 00:14:15","","2","1849","<p>Is it possible to define a function in commandline window of Matlab? Looks no to me.</p>

<p>But for R, it is possible to do so. I was wondering why there is this difference and if there is more to say behind this kind of feature of a programming language, or can I say just interpretive language (such as Python, Bash,...)?</p>

<p>Thanks!</p>
","156458","","156458","","2010-11-23 01:24:47","2010-11-23 01:45:58","possible to define a function in commandline window of a programming language?","<python><bash><r><matlab>","3","2","","","","CC BY-SA 2.5","4251553","4452","4452","r","404559","3625322","3607736","",""
"4251743","1","4254676","","2010-11-23 00:51:13","","0","473","<p>Suppose I have two vectors <code>b</code> and <code>a</code>. The components of the latter (<code>a</code>) are almost always zero except a few. </p>

<p>If I want to compute component-wise product of a and a component-wise function (such as exp) of b, I can do </p>

<pre><code>a*exp(b)
</code></pre>

<p>However for those majority zero components of a, the evaluation of exp on the corresponding components of b will be a waste.</p>

<p>I was wondering under cases such as this one, is it possible to program more efficiently in R? Or there is no need to change. Thanks!</p>
","156458","","121332","","2010-11-23 10:00:54","2010-11-23 10:18:19","component-wise product of a sparse vector with a component-wise function of another vector in R","<r>","4","0","","","","CC BY-SA 2.5","4251743","4452","4452","r","404559","3625322","3607736","",""
"4252142","1","4252179","","2010-11-23 02:18:54","","2","1238","<p>I  was wondering what does X11cairo in the following mean</p>

<pre><code>&gt; pdf(""1_4.pdf"")
&gt; plot(output)
&gt; dev.off()
X11cairo 
       2 
</code></pre>

<p>Also sometimes the number following X11cairo is 2, sometimes is 1. What does the number imply?</p>

<p>Thanks!</p>
","156458","","","","","2014-03-18 09:16:54","What does X11cairo followed by a number mean in R","<r>","3","0","","","","CC BY-SA 2.5","4252142","4452","4452","r","404559","3625322","3607736","",""
"4252694","1","4252737","","2010-11-23 04:08:51","","3","1929","<p>I saw a cute demonstration of tweeting from R in a presentation some months ago.  The scratch code used by the presenter is here:</p>

<p><a href=""http://www.r-bloggers.com/twitter-from-r%E2%80%A6-sure-why-not/"" rel=""nofollow"">http://www.r-bloggers.com/twitter-from-r%E2%80%A6-sure-why-not/</a></p>

<p>the code is short and sweet:
    library(""RCurl"")
    opts &lt;- curlOptions(header = FALSE, 
      userpwd = ""username:password"", netrc = FALSE)</p>

<pre><code>tweet &lt;- function(status){
  method &lt;- ""http://twitter.com/statuses/update.xml?status=""
  encoded_status &lt;- URLencode(status)
  request &lt;- paste(method,encoded_status,sep = """")
  postForm(request,.opts = opts)
}
</code></pre>

<p>With this function, you can send a tweet simply by using the update function:</p>

<pre><code>tweet(""This tweet comes from R! #rstats"")
</code></pre>

<p>I thought that this could be a useful way of announcing when long jobs are completed.  I tried to run this on my machine, and I got some error:</p>

<p>[1] ""\n\n  Basic authentication is not supported\n\n""
attr(,""Content-Type"")
                            charset 
""application/xml""           ""utf-8"" 
Warning message:
In postForm(request, .opts = opts) : No inputs passed to form</p>

<blockquote>
  <p></p>
</blockquote>

<p>I'm wondering if there has been some changes on the twitter end of this, that make this code produce this error?  I don't know too much about getting R to talk to webpages, so any guidance is much appreciated!!  </p>

<p>E</p>
","424005","","","","","2017-05-18 22:21:19","Using R to send tweets","<r><twitter>","4","0","0","","","CC BY-SA 2.5","4252694","4452","4452","r","404559","3625322","3607736","",""
"4253201","1","","","2010-11-23 05:57:50","","14","25783","<p>I am using R currently and I want to know how can I label the list objects when 
I declare a list. For example: <code>return(list(xhat,alpha,beta))</code>, and <code>xhat</code>, <code>alpha</code> and <code>beta</code>
are themselves arrays. I want to give each an appropriate label.</p>

<p>Thank you.</p>
","517045","","168747","","2010-11-23 12:12:28","2010-11-23 14:01:42","How to put in labels in list for R?","<list><r><label>","2","0","2","","","CC BY-SA 2.5","4253201","4452","4452","r","404559","3625322","3607736","",""
"4253437","1","4268260","","2010-11-23 06:45:54","","0","163","<p>I have tried the following code, and then R exits unexpectedly:</p>

<pre><code>temp &lt;- rep(as.Date(""2009-01-01"")+1:365, 365)
print(temp)
</code></pre>

<p>Anyone tried this before, is it a bug, or if there is anything I can do?</p>

<p>I have increase the memory available for R from 1024M to 2047M, but the same thing happens.</p>

<p>Thanks.</p>

<p>UPDATE #1</p>

<p>Here's my sessionInfo()</p>

<pre><code>&gt; sessionInfo()
R version 2.11.0 (2010-04-22) 
i386-pc-mingw32 

locale:
[1] LC_COLLATE=Chinese_Hong Kong S.A.R..950  LC_CTYPE=Chinese_Hong Kong S.A.R..950   
[3] LC_MONETARY=Chinese_Hong Kong S.A.R..950 LC_NUMERIC=C                            
[5] LC_TIME=Chinese_Hong Kong S.A.R..950    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     
</code></pre>

<p>And actually I am trying to do some format(foo, ""%y%M""), but it also exit unexpectedly - for ""unexpectedly"", I mean R closes itself without any signs. Thanks again.</p>
","373908","","373908","","2010-11-24 01:02:27","2010-11-24 15:09:44","R exits unexpectedly when trying to print a date vector with length more than 130K","<datetime><r>","2","7","","","","CC BY-SA 2.5","4253437","4452","4452","r","404559","3625322","3607736","",""
"4254967","1","","","2010-11-23 10:17:58","","3","289","<ol>
<li><p>Is there any role for the <code>Project</code> menu when working with StatET and Eclipse using Sweave and R?</p></li>
<li><p>If so, are there any learning resources that explain how this might work?</p></li>
<li>Do these menus offer anything over and above a makefile?</li>
</ol>

<p>I'm curious to learn more about building moderately complex Sweave/LaTeX/R projects.
Specifically, the <code>Project</code> menu has options <code>Clean...</code> and <code>Build Automatically</code> which intrigue me.</p>
","180892","","180892","","2010-11-24 00:48:09","2010-11-27 12:13:05","Project Build Commands in Eclipse with Sweave and R","<eclipse><r><sweave>","2","0","1","","","CC BY-SA 2.5","4254967","4452","4452","r","404559","3625322","3607736","",""
"4255886","1","","","2010-11-23 12:12:44","","1","1537","<p>I can't get performanceAnalytics to work with my zoo series and I've decided to write my own script.</p>

<p>It's supposed to get  cummax(equity)-equity  as input if you want to calculate de longest Drawdowns. It also gives the max drawdown value on these periods.</p>

<p>corrected version is below.</p>

<p>Please, Could you check my script. It doesn't work as expected. Some maxDD are zero.
I hope it can be useful to other people. I've seen many messages at forums where people looks for something like this.</p>

<p>I've corrected it with Richie suggestions:</p>

<pre><code>  findDD &lt;- function(DD, n=5){
  rr &lt;- rle(sign(coredata(DD)))
  lens &lt;- rr$length
  lens[!rr$value] &lt;- 0
  ll &lt;- head(order(lens, decreasing=TRUE),n)
  sumas &lt;- cumsum(c(1,rr$length)) # I need to access the original lenghts 
  maxDD &lt;- sapply(ll,FUN = function(x) max(window(DD,start=index(DD)[sumas[x]],end=index(DD)[sumas[x+1]-1])))
  data.frame(start=index(DD)[sumas[ll]],end=index(DD)[sumas[ll+1]-1], length=(index(DD)[sumas[ll+1]-1]-index(DD)[sumas[ll]])+1, maxDD)
}
</code></pre>

<p>I've also corrected a problem that prevented me from getting an ordered answer because I was writting index(DD[]) instead of index(DD)[]</p>

<p>Now it seems to work but I'm not sure.</p>

<p>to Joshua:
At the beginning my data was zoo with chron index
Now I've transformed it to xts with posixct index, </p>

<pre><code>""2010-01-11 18:00:00"" 9338.37028375963
""2010-01-11 18:15:00"" 8086.45780960387
""2010-01-11 18:30:00"" 7762.75622449016
""2010-01-11 18:45:00"" 8358.3609798313
""2010-01-11 19:00:00"" 8598.69695502083
""2010-01-11 19:15:00"" 8568.56256494502
""2010-01-11 19:30:00"" 8488.4281748692
...
</code></pre>

<p>still doesn't work with performanceAnalytics, though I can graph it and make any calculations by my own.
Drawdown(myData) gives a xts series with all its data values NaN.
I've been looking at findDrawdown code and it's different to mine because it measures relative drawdowns instead of absolute drawdowns.</p>

<p>Anyway, I hope my script could be useful to someone.</p>
","425895","","1193596","","2014-04-30 15:06:50","2014-04-30 15:06:50","R, please Check my longest Drawdowns function","<r><xts><zoo>","3","4","2","","2010-11-25 15:03:25","CC BY-SA 2.5","4255886","4452","4452","r","404559","3625322","3607736","",""
"4256123","1","4256254","","2010-11-23 12:41:08","","5","2975","<p>Imagine you're debugging a function within a function. You would be on level 2 (<code>Browser [2]</code>). Is there a way to quit level 2 and go to level 1? <code>Q</code> will drop you out of any debugging, so I'm looking for something that would just quit the current level.</p>
","322912","","428790","","2010-11-23 15:55:05","2011-05-06 11:50:23","quitting browser call with a twist","<debugging><r><browser>","2","2","4","","","CC BY-SA 2.5","4256123","4452","4452","r","404559","3625322","3607736","",""
"4258171","1","4258419","","2010-11-23 16:15:40","","2","2617","<p>Greetings all,</p>

<p>Is there a way to only read the HTML code from a specific frame within a webpage?</p>

<p>For example, if I submit a url to google translate, is there a way to parse only the translated page frame? Whenever I try, I can only access the top frame on the page but not the translated frame. Here is my self-contained sample code:</p>

<pre><code>library(XML)
url &lt;- ""http://www.baidu.com/s?wd=r+project""
url.google.translate &lt;- URLencode(paste(""http://translate.google.com/translate?js=y&amp;prev=_t&amp;hl=en&amp;ie=UTF-8&amp;layout=1&amp;eotf=1&amp;sl=zh-CN&amp;tl=en&amp;u="", url, sep=""""))
htmlTreeParse(url.google.translate, useInternalNodes = FALSE)
</code></pre>

<p>The above code refers to this url:</p>

<pre><code>$file
[1] ""http://translate.google.com/translate?js=y&amp;prev=_t&amp;hl=en&amp;ie=UTF-8&amp;layout=1&amp;eotf=1&amp;sl=zh-CN&amp;tl=en&amp;u=http://www.baidu.com/s?wd=r+project""
</code></pre>

<p>The output however only access the top frame of the page and not the main frame, which is what I am interested in. </p>

<p>Hope that made sense and thanks in advance for any help.</p>

<p>Tony</p>

<p><strong>UPDATE - Thanks to the answer from @kwantam below (accepted), I was able to use it to get my solution as follows (self-contained):</strong></p>

<pre><code>&gt; # Load R packages
&gt; library(RCurl)
&gt; library(XML)
&gt; 
&gt; # STAGE 1 - find forward url in relevent frame
&gt; ( url &lt;- ""http://www.baidu.com/s?wd=r+project"" )
[1] ""http://www.baidu.com/s?wd=r+project""
&gt; gt.url &lt;- URLencode(paste(""http://translate.google.com/translate?js=y&amp;prev=_t&amp;hl=en&amp;ie=UTF-8&amp;layout=1&amp;eotf=1&amp;sl=zh-CN&amp;tl=en&amp;u="", url, sep=""""))
&gt; gt.doc &lt;- getURL(gt.url)
&gt; gt.html &lt;- htmlTreeParse(gt.doc, useInternalNodes = TRUE, error=function(...){})
&gt; nodes &lt;- getNodeSet(gt.html, '//frameset//frame[@name=""c""]')
&gt; gt.parameters &lt;- sapply(nodes, function(x) x &lt;- xmlAttrs(x)[[1]])
&gt; gt.url &lt;- paste(""http://translate.google.com"", gt.parameters, sep = """")
&gt; 
&gt; # STAGE 2 - find forward url to translated page
&gt; doc &lt;- getURL(gt.url, followlocation = TRUE)
&gt; html &lt;- htmlTreeParse(doc, useInternalNodes = TRUE, error=function(...){})
&gt; url.trans &lt;- capture.output(getNodeSet(html, '//meta[@http-equiv=""refresh""]')[[1]])
&gt; url.trans &lt;- strsplit(url.trans, ""URL="", fixed = TRUE)[[1]][2]
&gt; url.trans &lt;- gsub(""\""/&gt;"", """", url.trans, fixed = TRUE)
&gt; url.trans &lt;- xmlValue(getNodeSet(htmlParse(url.trans, asText = TRUE), ""//p"")[[1]])
&gt; 
&gt; # STAGE 3 - load translated page
&gt; url.trans
[1] ""http://translate.googleusercontent.com/translate_c?hl=en&amp;ie=UTF-8&amp;sl=zh-CN&amp;tl=en&amp;u=http://www.baidu.com/s%3Fwd%3Dr%2520project&amp;prev=_t&amp;rurl=translate.google.com&amp;usg=ALkJrhiCMu1mKv-czCmEaB7PO925TJCa-A ""
&gt; #getURL(url.trans)
</code></pre>

<p><em><strong>If anyone knows of a simpler solution to what I've given above then please feel free to let me know! :)</em></strong></p>
","300123","","300123","","2010-11-29 22:53:00","2012-02-04 19:28:57","In R, how to parse specific frame within a webpage?","<r><google-translate>","2","2","2","","","CC BY-SA 2.5","4258171","4452","4452","r","404559","3625322","3607736","",""
"4259161","1","4261531","","2010-11-23 17:54:12","","2","14306","<p>My question is rather simple, but I could not get it resolved after trying a lot of things.</p>

<p>I have two data frames.</p>

<pre><code>&gt;a
   col1 col2 col3 col4
1    1    2    1    4
2    2   NA    2    3    
3    3    2    3    2    
4    4    3    4    1

&gt; b
  col1 col2 col3 col4
1    5    2    1    4    
2    2   NA    2    3    
3    3   NA    3    2    
4    4    3    4    1
</code></pre>

<p>Can I do a <code>lm(a ~ b)</code> to fit the data in <code>a</code> and <code>b</code>? </p>

<p>If I do, how do I ignore the <code>NA</code> data?</p>

<p>Thanks, Dan</p>
","467243","","121332","","2010-11-23 21:16:33","2010-11-24 10:51:38","How can I ignore the NA data when I do the lm function?","<r><linear-regression><missing-data>","2","0","","","","CC BY-SA 2.5","4259161","4452","4452","r","404559","3625322","3607736","",""
"4259282","1","","","2010-11-23 18:08:21","","2","658","<p>I just installed the <code>RGtk2</code> package on a new machine and <code>gladexmlnew</code> seems to be missing (i.e. I get a <code>could not find function gladexmlnew</code> error after loading the <code>RGtk2</code> package).</p>

<p>I have <code>libglade</code>, <code>libglade2</code> and corresponding <code>-devel</code> packages installed.</p>

<p>What am I missing? The help file doesn't seem to help.</p>

<hr>

<p><strong>SOLUTION</strong>: I seem to have found the solution, so I am posting it here. Apparently <code>libglade</code> has been deprecated in favour of GTKBuilder and <code>RGtk2</code> does not include it anymore. </p>

<p><a href=""http://library.gnome.org/devel/gtk/stable/gtk-migrating-GtkBuilder.html"" rel=""nofollow"">This page</a> has some informations on how to migrate from <code>libglade</code> to <code>GTKBuilder</code>.</p>
","176923","","176923","","2010-11-23 21:12:56","2010-11-23 21:12:56","RGtk2 - missing gladexmlnew","<r><gtk><glade>","1","4","1","","","CC BY-SA 2.5","4259282","4452","4452","r","404559","3625322","3607736","",""
"4260698","1","","","2010-11-23 20:42:30","","27","94137","<p>I am trying to produce a series of box plots in <strong>R</strong> that is grouped by 2 factors. I've managed to make the plot, but I cannot get the boxes to order in the correct direction.</p>

<p>My data farm I am using looks like this:</p>

<pre><code>Nitrogen    Species    Treatment
2           G          L
3           R          M
4           G          H
4           B          L
2           B          M
1           G          H
</code></pre>

<p>I tried:</p>

<pre><code>boxplot(mydata$Nitrogen~mydata$Species*mydata$Treatment)
</code></pre>

<p>this ordered the boxes alphabetically (first three were the ""High"" treatments, then within those three they were ordered by species name alphabetically).</p>

<p><img src=""https://i.stack.imgur.com/TTiGD.png"" alt=""alt text""></p>

<p>I want the box plot ordered Low>Medium>High then within each of those groups G>R>B for the species.</p>

<p>So i tried using a factor in the formula:</p>

<pre><code>f = ordered(interaction(mydata$Treatment, mydata$Species), 
            levels = c(""L.G"",""L.R"",""L.B"",""M.G"",""M.R"",""M.B"",""H.G"",""H.R"",""H.B"")
</code></pre>

<p>then:</p>

<pre><code>boxplot(mydata$Nitrogen~f)
</code></pre>

<p>however the boxes are still shoeing up in the same order. The labels are now different, but the boxes have not moved.</p>

<p>I have pulled out each set of data and plotted them all together individually:</p>

<pre><code>lg = mydata[mydata$Treatment=""L"" &amp; mydata$Species=""G"", ""Nitrogen""]
mg = mydata[mydata$Treatment=""M"" &amp; mydata$Species=""G"", ""Nitrogen""]
hg = mydata[mydata$Treatment=""H"" &amp; mydata$Species=""G"", ""Nitrogen""]
etc ..

boxplot(lg, lr, lb, mg, mr, mb, hg, hr, hb)
</code></pre>

<p>This gives what i want, but I would prefer to do this in a more elegant way, so I don't have to pull each one out individually for larger data sets.</p>

<hr>

<p>Loadable data:</p>

<pre><code>mydata &lt;-
structure(list(Nitrogen = c(2L, 3L, 4L, 4L, 2L, 1L), Species = structure(c(2L, 
3L, 2L, 1L, 1L, 2L), .Label = c(""B"", ""G"", ""R""), class = ""factor""), 
    Treatment = structure(c(2L, 3L, 1L, 2L, 3L, 1L), .Label = c(""H"", 
    ""L"", ""M""), class = ""factor"")), .Names = c(""Nitrogen"", ""Species"", 
""Treatment""), class = ""data.frame"", row.names = c(NA, -6L))
</code></pre>
","518016","","712765","","2019-01-25 07:48:52","2019-01-25 07:48:52","R - ordering in boxplot","<r><boxplot>","2","2","6","","","CC BY-SA 3.0","4260698","4452","4452","r","404559","3625322","3607736","",""
"4262984","1","4265616","","2010-11-24 02:31:10","","12","4158","<p>Does anyone have any experience using r/python with data stored in Solid State Drives. If you are doing mostly reads, in theory this should significantly improve the load times of large datasets. I want to find out if this is true and if it is worth investing in SSDs for improving the IO rates in data intensive applications.</p>
","220120","","1505120","","2015-09-18 13:17:08","2015-09-18 13:17:08","Data analysis using R/python and SSDs","<python><r><data-analysis><solid-state-drive>","5","3","4","","","CC BY-SA 2.5","4262984","4452","4452","r","404559","3625322","3607736","",""
"4267744","1","4267831","","2010-11-24 14:15:06","","21","2146","<p>I would like to have a call that returns me a vector with the names of all function that I could call in the current R session. Does anybody know how to achieve this?</p>

<p>(I would like to check user entered variables against this vector. We had some unforseen problem with users entering e.g., <code>c</code> as variable names)</p>

<p><strong>UPDATE:</strong> I would like to get the function names from all packages currently loaded.</p>

<p><strong>SOLUTION (half way):</strong> Based on Joris Meys tip with <code>lsf.str()</code> I came up with the following function that returns a sorted vector with all currently available function names:</p>

<pre><code>getFunctionNames &lt;- function() {
    loaded &lt;- (.packages())
    loaded &lt;- paste(""package:"", loaded, sep ="""")
    return(sort(unlist(lapply(loaded, lsf.str))))
}
</code></pre>

<p>Bu,t see also the comments on Joris Meys' post for even better answers.</p>
","289572","","289572","","2010-11-24 17:36:15","2015-10-22 14:46:35","Is there a way to get a vector with the name of all functions that one could use in R?","<function><r><names>","2","2","6","","","CC BY-SA 2.5","4267744","4452","4452","r","404559","3625322","3607736","",""
"4269012","1","4269045","","2010-11-24 16:22:16","","32","29336","<pre><code> names(U1)

[1] ""username""     ""review_count"" ""forum_posts""  ""age""          ""avg_interval""
[6] ""avg_sim""      ""class""
</code></pre>

<p>So how do I create an empty data frame U1.RN that will have same columns as U1?</p>
","276569","","276569","","2010-11-24 16:28:24","2018-05-24 15:41:39","Create empty dataframe in R with same columns","<r>","3","4","7","","","CC BY-SA 2.5","4269012","4452","4452","r","404559","3625322","3607736","",""
"4269542","1","4269594","","2010-11-24 17:15:03","","2","380","<p>I would like to use the libLAS C/C++ library functions within R to import, analyse, export terrestrial lidar data. libLAS is a C/C++ library for reading and writing the very common LAS LiDAR format ( <a href=""http://liblas.org/index.html"" rel=""nofollow"">http://liblas.org/index.html</a> ).</p>

<p>Would it be possible to use the Rcpp package to run this library (or other packages)? <a href=""http://dirk.eddelbuettel.com/code/rcpp.html"" rel=""nofollow"">http://dirk.eddelbuettel.com/code/rcpp.html</a></p>

<p>Or should I compile and install it in order to use it following the compilation instructions <a href=""http://liblas.org/compilation.html"" rel=""nofollow"">http://liblas.org/compilation.html</a> ? I am working on a MacOSx 10.6.5. As such I could also use it within Open Source GIS GRASS as described in the following wiki <a href=""http://grass.osgeo.org/wiki/LIDAR#Micro-tutorial_for_LAS_data_import"" rel=""nofollow"">http://grass.osgeo.org/wiki/LIDAR#Micro-tutorial_for_LAS_data_import</a> .</p>

<p>All advice is welcome related to reading and processing LIDAR data with R/GRASS.
Thanks,
Jan</p>
","215244","","","","","2010-11-24 17:21:04","Activate Run the libLAS C++ library within R","<c++><macos><r><compilation><lidar-data>","1","0","","","","CC BY-SA 2.5","4269542","4452","4452","r","404559","3625322","3607736","",""
"4269944","1","4270808","","2010-11-24 17:53:11","","4","2815","<p>I have a data set U1 over which I run a classifier and get a vector of labels</p>

<pre><code>pred.U1.nb.c &lt;- predict(NB.C, U1[,2:6])
table(pred.U1.nb.c)
pred.U1.nb.c
    S unlabeled 
  148      5852 
&gt; head(pred.U1.nb.c)
  [1] S S S S S S
  Levels: S unlabeled
</code></pre>

<p>Now I want to pull out those rows of U1 which were classified as S in U1.S. What is the most efficient way to do this?</p>
","276569","","","","","2011-03-13 06:34:28","New subset by selecting rows based on values of a vector in R","<r>","2","0","1","","","CC BY-SA 2.5","4269944","4452","4452","r","404559","3625322","3607736","",""
"4270349","1","4272090","","2010-11-24 18:44:13","","11","20136","<p>I'm saving a faceted ggplot2 plot which works fine to save at a smaller size, but fails when I want to increase it.</p>

<pre><code>&gt; ggsave(""tst.png"",height=6.75,width=9)
# works fine

&gt; ggsave(""tst.png"",height=9,width=12)
Error in grDevices::png(..., width = width, height = height, res = dpi,  : 
  unable to start device
In addition: Warning messages:
1: In grDevices::png(..., width = width, height = height, res = dpi,  :
  Unable to allocate bitmap
2: In grDevices::png(..., width = width, height = height, res = dpi,  :
  opening device failed
</code></pre>

<p>I've saved pngs of this size before with ggsave, any ideas why its not working?</p>

<p><strong>Reproducible example:</strong></p>

<pre><code>library(car)
qplot(education,data=Vocab,geom=""density"",colour=sex)+facet_wrap(~year)
</code></pre>
","269476","","269476","","2010-11-28 21:30:59","2020-01-24 17:28:10","ggsave png error with larger size","<r><ggplot2>","2","4","2","","","CC BY-SA 2.5","4270349","4452","4452","r","404559","3625322","3607736","",""
"4270926","1","4271594","","2010-11-24 19:53:07","","3","10398","<p>First of all, excuse me if I do any mistakes, but English is not a language I use very often.</p>

<p>I have a data frame with numbers. A small part of the data frame is this:</p>

<p>nominal     2
2
2
2      </p>

<p>ordinal
2
1
1
2</p>

<p>So, I want to use the gower distance function on these numbers.</p>

<p>Here ( <a href=""http://rgm2.lab.nig.ac.jp/RGM2/R_man-2.9.0/library/StatMatch/man/gower.dist.html"" rel=""nofollow"">http://rgm2.lab.nig.ac.jp/RGM2/R_man-2.9.0/library/StatMatch/man/gower.dist.html</a> ) says that in order to use gower.dist, all nominal variables must be of class ""factor"" and all ordinal variables of class ""ordered"".</p>

<p>By default, all the columns are of class ""integer"" and mode ""numeric"". In order to change the class of the columns, i use these commands:</p>

<pre><code> DF=read.table(""clipboard"",header=TRUE,sep=""\t"")      
 # I select all the cells and I copy them to the clipboard. 
 #Then R, with this command, reads the data from there.

 MyHeader=names(DF)     # I save the headers of the data frame to a temp matrix

 for (i in 1:length(DF))  {
     if (MyHeader[[i]]==""nominal"") DF[[i]]=as.factor(DF[[i]])
 }     

 for (i in 1:length(DF))  {
     if (MyHeader[[i]]==""ordinal"") DF[[i]]=as.ordered(DF[[i]])
 }        
</code></pre>

<p>The first for/if loop changes the class from integer to factor, which is what I want, but the second changes the class of ordinal variables to: ""ordered"" ""factor"".</p>

<p>I need to change all the columns with the header ""ordinal"" to ""ordered"", as the gower.dist function says.</p>

<p>Thanks in advance,
B.T.</p>
","519301","","428790","","2010-11-25 12:50:15","2010-11-25 13:14:02","Change the class of columns in a data frame","<class><r>","2","4","1","","","CC BY-SA 2.5","4270926","4452","4452","r","404559","3625322","3607736","",""
"4272735","1","4272759","","2010-11-25 00:23:39","","5","3820","<p>It is easy to do an Exact Binomial Test on two values but what happens if one wants to do the test on a whole bunch of number of successes and number of trials. I created a dataframe of test sensitivities, potential number of enrollees in a study and then for each row I calculate how may successes that would be. Here is the code.</p>

<pre><code>sens &lt;-seq(from=.1, to=.5, by=0.05)
enroll &lt;-seq(from=20, to=200, by=20)
df &lt;-expand.grid(sens=sens,enroll=enroll)
df &lt;-transform(df,succes=sens*enroll)
</code></pre>

<p>But now how do I use each row's combination of successes and number of trials to do the binomial test. </p>

<p>I am only interested in the upper limit of the 95% confidence interval of the binomial test. I want that single number to be added to the data frame as a column called ""upper.limit""</p>

<p>I thought of something along the lines of </p>

<pre><code>binom.test(succes,enroll)$conf.int    
</code></pre>

<p>alas, conf.int gives something such as</p>

<p>[1] 0.1266556 0.2918427<br>
attr(,""conf.level"")<br>
[1] 0.95  </p>

<p>All I want is just 0.2918427</p>

<p>Furthermore I have a feeling that there has to be do.call in there somewhere and maybe even an lapply but I do not know how that will go through the whole data frame. Or should I perhaps be using plyr?</p>

<p>Clearly my head is spinning. Please make it stop.</p>
","168139","","168139","","2012-10-30 00:59:44","2012-10-30 00:59:44","How do I perform a function on each row of a data frame and have just one element of the output inserted as a new column in that row","<r><row>","2","0","1","","","CC BY-SA 3.0","4272735","4452","4452","r","404559","3625322","3607736","",""
"4274363","1","4274660","","2010-11-25 06:39:21","","2","1645","<p>Suppose I have a dataframe like this:</p>

<pre><code>DAYS   VALUE
1      A
2      A
3      A
5      A
7      A
9      A
10     A
12     A
13     A
14     A
15     A
</code></pre>

<p>I am trying to derive a function so that only series of consecutive numbers (3 as minimum) is remained, like this:</p>

<pre><code>DAYS   VALUE
1      A
2      A
3      A
12     A
13     A
14     A
15     A
</code></pre>

<p>I wonder if there are any functions from packages that can do this?</p>

<p>Thanks!</p>
","373908","","373908","","2010-11-25 06:48:20","2010-11-25 09:46:03","using R to filter out non-consecutive numbers from a dataframe's column","<r>","2","0","1","","","CC BY-SA 2.5","4274363","4452","4452","r","404559","3625322","3607736","",""
"4276218","1","4276750","","2010-11-25 10:53:59","","28","7182","<p>Some sample data:</p>

<pre><code>dfr &lt;- data.frame(
  x = rep.int(1:10, 2),
  y = runif(20),
  g = factor(rep(letters[1:2], each = 10))
)
</code></pre>

<p>A simple scatterplot with two facets:</p>

<pre><code>p &lt;- ggplot(dfr, aes(x, y)) + 
  geom_point() +
  facet_wrap(~ g, scales = ""free_y"")
</code></pre>

<p>I can set the axis limits for all panels with</p>

<pre><code>p + scale_y_continuous(limits = c(0.2, 0.8))
</code></pre>

<p>(or a wrapper for this like <code>ylim</code>)</p>

<p>but how do I set different axis limits for different facets?</p>

<p>The latticey way to do it would be to pass a list to this argument, e.g.,</p>

<pre><code>p + scale_y_continuous(limits = list(c(0.2, 0.8), c(0, 0.5)))
</code></pre>

<p>Unfortunately that just throws an error in the ggplot2 case.</p>

<p><strong>EDIT:</strong></p>

<p>Here's a partial hack.  If you want to extend the range of the scales then you can add columns to your dataset specifying the limits, then draw them with <code>geom_blank</code>.</p>

<p>Modified dataset:</p>

<pre><code>dfr &lt;- data.frame(
  x = rep.int(1:10, 2),
  y = runif(20),
  g = factor(rep(letters[1:2], each = 10)),
  ymin = rep(c(-0.6, 0.3), each = 10),
  ymax = rep(c(1.8, 0.5), each = 10)
)
</code></pre>

<p>Updated plot:</p>

<pre><code>p + geom_blank(aes(y = ymin)) + geom_blank(aes(y = ymax))
</code></pre>

<p>Now the scales are different and the left hand one is correct.  Unfortunately, the right hand scale doesn't contract since it needs to make room for the points.</p>

<p>In case it helps, we can now rephrase the question as ""is it possible to draw points without the scales being recalculated and without explicitly calling <code>scale_y_continuous</code>?""</p>
","134830","","134830","","2010-11-25 13:22:02","2015-02-04 14:18:25","How do you set different scale limits for different facets?","<r><ggplot2>","2","0","2","","","CC BY-SA 2.5","4276218","4452","4452","r","404559","3625322","3607736","",""
"4277071","1","4277268","","2010-11-25 12:28:50","","0","123","<p>Let say I have this zoo vector</p>

<pre><code>mine &lt;- zoo(c(rep(0,4),rep(1,4),rep(0,5),rep(1,23),rep(0,4),rep(1,2)),as.chron(seq(1:42)))
</code></pre>

<p>And I want to extract several elements in some order</p>

<pre><code>&gt; mine[14]
01/15/70 
       1 
&gt; mine[5]
01/06/70 
       1 
&gt; mine[41]
02/11/70 
       1 
</code></pre>

<p>It works!.
But now I try to do it in a different way</p>

<pre><code>zz &lt;- c(14, 5, 41)
mine[zz]

01/06/70 01/15/70 02/11/70 
       1        1        1 
</code></pre>

<p>I don't know why I get it in a different order.
How can I keep the order I want, the order of my list ??
I don't mind if it's a list, a vector, by columns or by row, but I'd like to get it in the order I've asked for.</p>

<p>cheers</p>
","425895","","271616","","2010-11-25 14:54:08","2010-11-25 14:54:08","R: Why my vector is disordered?","<r><vector><zoo>","1","2","","","","CC BY-SA 2.5","4277071","4452","4452","r","404559","3625322","3607736","",""
"4279956","1","4280154","","2010-11-25 18:31:23","","4","3307","<p>How do you put on a big table of xtable the table header on each page?, So that is easier to read the table the table between pages.</p>

<p>I use the following in Sweave:</p>

<pre><code>test.big&lt;- xtable(test,label=""table"",caption='test')
align(test.big) &lt;- ""|c|c|c|c|l|c|c|c|""
print(test.big,tabular.environment='longtable',include.colnames = TRUE,floating=FALSE)
</code></pre>

<p>Thanks for your answers</p>
","217228","","","","","2016-04-03 21:42:17","header on each page of big table of xtable?","<r><latex><bigtable><sweave><xtable>","2","0","2","","","CC BY-SA 2.5","4279956","4452","4452","r","404559","3625322","3607736","",""
"4279973","1","4280553","","2010-11-25 18:34:30","","2","1609","<p>How to put a spacing of colors in a table of xtable?</p>

<p>I generate the tables with the following instructions:</p>

<pre><code>test.table&lt;-xtable(summary(test),caption='test', floating = FALSE)
align(test.table) &lt;- ""|c|l|""
print(test.table,caption.placement='top')
</code></pre>

<p>thanks  for  your  answers</p>
","217228","","245603","","2010-11-30 19:31:39","2014-03-11 07:50:39","How to put a spacing of colors in a table of xtable?","<r><latex><bigtable><sweave><xtable>","2","2","1","","","CC BY-SA 2.5","4279973","4452","4452","r","404559","3625322","3607736","",""
"4281000","1","","","2010-11-25 21:37:01","","9","2923","<p>When using formulas that have factors, the fitted models name the coefficients XY, where X is the name of the factor and Y is a particular level of it.  I want to be able to create a formula from the names of these coefficients.</p>

<p>The reason: If I fit a lasso to a sparse design matrix (as I do below) I would like to create a new formula object that only contains terms for the nonzero coefficients.</p>

<pre><code>require(""MatrixModels"")
require(""glmnet"")
set.seed(1)
n &lt;- 200
Z &lt;- data.frame(letter=factor(sample(letters,n,replace=T),letters),
                x=sample(1:20,200,replace=T))
f &lt;- ~ letter + x:letter + I(x&gt;5):letter
X &lt;- sparse.model.matrix(f, Z)
beta &lt;- matrix(rnorm(dim(X)[2],0,5),dim(X)[2],1)
y &lt;- X %*% beta + rnorm(n)

myfit &lt;- glmnet(X,as.vector(y),lambda=.05)
fnew &lt;- rownames(myfit$beta)[which(myfit$beta != 0)]
 [1] ""letterb""              ""letterc""              ""lettere""             
 [4] ""letterf""              ""letterg""              ""letterh""             
 [7] ""letterj""              ""letterm""              ""lettern""             
[10] ""lettero""              ""letterp""              ""letterr""             
[13] ""letters""              ""lettert""              ""letteru""             
[16] ""letterw""              ""lettery""              ""letterz""             
[19] ""lettera:x""            ""letterb:x""            ""letterc:x""           
[22] ""letterd:x""            ""lettere:x""            ""letterf:x""           
[25] ""letterg:x""            ""letterh:x""            ""letteri:x""           
[28] ""letterj:x""            ""letterk:x""            ""letterl:x""           
[31] ""letterm:x""            ""lettern:x""            ""lettero:x""           
[34] ""letterp:x""            ""letterq:x""            ""letterr:x""           
[37] ""letters:x""            ""lettert:x""            ""letteru:x""           
[40] ""letterv:x""            ""letterw:x""            ""letterx:x""           
[43] ""lettery:x""            ""letterz:x""            ""letterb:I(x &gt; 5)TRUE""
[46] ""letterc:I(x &gt; 5)TRUE"" ""letterd:I(x &gt; 5)TRUE"" ""lettere:I(x &gt; 5)TRUE""
[49] ""letteri:I(x &gt; 5)TRUE"" ""letterj:I(x &gt; 5)TRUE"" ""letterl:I(x &gt; 5)TRUE""
[52] ""letterm:I(x &gt; 5)TRUE"" ""letterp:I(x &gt; 5)TRUE"" ""letterq:I(x &gt; 5)TRUE""
[55] ""letterr:I(x &gt; 5)TRUE"" ""letteru:I(x &gt; 5)TRUE"" ""letterv:I(x &gt; 5)TRUE""
[58] ""letterx:I(x &gt; 5)TRUE"" ""lettery:I(x &gt; 5)TRUE"" ""letterz:I(x &gt; 5)TRUE""
</code></pre>

<p>From this I would like to have a formula</p>

<pre><code>~ I(letter==""d"") + I(letter==""e"") + ...(etc)
</code></pre>

<p>I checked out formula() and all.vars() to no avail.  Also, writing a function to parse this is a bit of a pain because of the different types of terms that can arise.  For example, for x:letter when x is a numeric value and letter is a factor, or I(x>5):letter as another annoying case.</p>

<p>So am I not aware of some function to convert between formula and its character representation and back again?</p>
","84458","","429846","","2010-11-26 09:44:00","2010-12-03 12:05:31","Converting coefficient names to a formula in R","<r><formula><sparse-matrix>","2","4","1","","","CC BY-SA 2.5","4281000","4452","4452","r","404559","3625322","3607736","",""
"4285214","1","44316204","","2010-11-26 12:15:07","","34","34522","<p>I am fitting a model to factor data and predicting. If the <code>newdata</code> in <code>predict.lm()</code> contains a single factor level that is unknown to the model, <em>all</em> of <code>predict.lm()</code> fails and returns an error.</p>

<p>Is there a good way to have <code>predict.lm()</code> return a prediction for those factor levels the model knows and NA for unknown factor levels, instead of only an error?</p>

<p>Example code:</p>

<pre><code>foo &lt;- data.frame(response=rnorm(3),predictor=as.factor(c(""A"",""B"",""C"")))
model &lt;- lm(response~predictor,foo)
foo.new &lt;- data.frame(predictor=as.factor(c(""A"",""B"",""C"",""D"")))
predict(model,newdata=foo.new)
</code></pre>

<p>I would like the very last command to return three ""real"" predictions corresponding to factor levels ""A"", ""B"" and ""C"" and an <code>NA</code> corresponding to the unknown level ""D"".</p>
","452096","","4891738","","2016-10-07 19:53:59","2018-08-05 08:13:14","predict.lm() with an unknown factor level in test data","<r><regression><linear-regression><lm>","7","0","15","","","CC BY-SA 3.0","4285214","4452","4452","r","404559","3625322","3607736","",""
"4286188","1","4286269","","2010-11-26 14:41:29","","5","6655","<p>This is my first post. Apologies in advance if my question is dumb. I'm new to programming.</p>

<p>Ok, So I have a a <code>matrix(eBpvalues)</code> in R that has 152720 rows and 2 columns.
I want to split into 10 separate matrices containing 15272 rows each.</p>

<p>I have tried this with:</p>

<pre><code>&gt; newmx &lt;-split(as.data.frame(eBpvalues), rep(1:10, each = 15272)))

&gt; summary(newmx)  

   Length Class      Mode  
1  2      data.frame list    
2  2      data.frame list  
3  2      data.frame list  
4  2      data.frame list  
5  2      data.frame list  
6  2      data.frame list  
7  2      data.frame list  
8  2      data.frame list  
9  2      data.frame list  
10 2      data.frame list  
</code></pre>

<p>How would I go about joining these matrices side-by-side so I have a new matrix with 20 columns and 15272 rows?</p>

<p>Cheers,</p>

<p>Neil</p>
","521469","","168747","","2010-11-26 15:53:03","2010-11-27 01:00:19","Split matrix and rejoin","<r><matrix><split>","2","1","3","","","CC BY-SA 2.5","4286188","4452","4452","r","404559","3625322","3607736","",""
"4286299","1","4286424","","2010-11-26 14:57:03","","14","981","<pre><code>df.sorted &lt;- c(""binned_walker1_1.grd"", ""binned_walker1_2.grd"", ""binned_walker1_3.grd"",
    ""binned_walker1_4.grd"", ""binned_walker1_5.grd"", ""binned_walker1_6.grd"",
    ""binned_walker2_1.grd"", ""binned_walker2_2.grd"", ""binned_walker3_1.grd"",
    ""binned_walker3_2.grd"", ""binned_walker3_3.grd"", ""binned_walker3_4.grd"",
    ""binned_walker3_5.grd"", ""binned_walker4_1.grd"", ""binned_walker4_2.grd"",
    ""binned_walker4_3.grd"", ""binned_walker4_4.grd"", ""binned_walker4_5.grd"",
    ""binned_walker5_1.grd"", ""binned_walker5_2.grd"", ""binned_walker5_3.grd"",
    ""binned_walker5_4.grd"", ""binned_walker5_5.grd"", ""binned_walker5_6.grd"",
    ""binned_walker6_1.grd"", ""binned_walker7_1.grd"", ""binned_walker7_2.grd"",
    ""binned_walker7_3.grd"", ""binned_walker7_4.grd"", ""binned_walker7_5.grd"",
    ""binned_walker8_1.grd"", ""binned_walker8_2.grd"", ""binned_walker9_1.grd"",
    ""binned_walker9_2.grd"", ""binned_walker9_3.grd"", ""binned_walker9_4.grd"",
    ""binned_walker10_1.grd"", ""binned_walker10_2.grd"", ""binned_walker10_3.grd"")
</code></pre>

<p>One would expect that order of this vector would be <code>1:length(df.sorted)</code>, but that appears not to be the case. It looks like R internally sorts the vector according to its logic but tries really hard to display it the way it was created (and is seen in the output).</p>

<pre><code>order(df.sorted)
 [1] 37 38 39  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22
[26] 23 24 25 26 27 28 29 30 31 32 33 34 35 36
</code></pre>

<p>Is there a way to ""reset"" the ordering to <code>1:length(df.sorted)</code>? That way, ordering, and the output of the vector would be in sync.</p>
","322912","","10607772","","2019-02-01 14:49:46","2019-02-01 14:49:46","R sorts a vector on its own accord","<r><sorting><vector>","4","0","3","","","CC BY-SA 4.0","4286299","4452","4452","r","404559","3625322","3607736","",""
"4288926","1","4289093","","2010-11-26 22:25:52","","1","5658","<p>I am upgrading a project I had working previously. This code worked a few months ago, in the meantime I have upgraded R and plyr. I think I was on R1.10 and now I am on R1.35, I am not sure what version of plyr I was running before but my current installed version is 1.2. </p>

<p>Here is what I am trying to run:</p>

<pre><code>library(plyr)
library(twitteR)

tw &lt;- head(ldply(searchTwitter(""rstats"", session=getCurlHandle(), n=10), function(x) data.frame(text=text(x), favorited=favorited(x), created=created(x), truncated=truncated(x), id=id(x), statusSource=statusSource(x), screenName=screenName(x))))
</code></pre>

<p>I always get the same error message now. </p>

<pre><code>Error in as.double(y) : 
  cannot coerce type 'S4' to vector of type 'double'
</code></pre>

<p>Any advice would be appreciated.</p>

<p>Thanks,</p>

<p>Jason</p>
","302274","","","","","2010-11-26 23:13:14","Question on Plyr error: Error in as.double(y) : cannot coerce type 'S4' to vector of type 'double'","<r><plyr>","2","0","1","","","CC BY-SA 2.5","4288926","4452","4452","r","404559","3625322","3607736","",""
"4289259","1","4289304","","2010-11-26 23:44:53","","5","1128","<p>Well, the title is pretty much self-explanatory. I've seen <a href=""http://dirk.eddelbuettel.com/quantian.html"" rel=""nofollow"">Quantian</a>, but it's pretty outdated, there's <a href=""http://uberstudent.org/"" rel=""nofollow"">UberStudent</a>... anything else worth mentioning? I'm especially interested in your experiences with Live CD/DVD's, regarding computational speed, usability and stuff like that. Links, advices, anything that you find useful is more than welcome!</p>

<p>Thanks!</p>
","457898","","881229","","2013-12-10 07:20:13","2013-12-10 07:20:13","Recommend Linux Live CD/DVD with R installed","<linux><r><live-cd>","3","0","2","2013-12-10 15:26:20","","CC BY-SA 2.5","4289259","4452","4452","r","404559","3625322","3607736","",""
"4289602","1","4289911","","2010-11-27 01:29:47","","3","372","<p>I'm trying to pass a function (weight.func) to a different function (wrapper) that calls ddply. I want ddply to use that function (weight.func) as part of its calculations. I get the output I want when weight.func is set 'globally' but not when it is passes as an anonymous function to the wrapper. </p>

<p>Can I get ddply to do what I want? Here is a code example: </p>

<pre><code>&gt; print(sampleData)
   studentId   problem  part       workerId rating
1       8001 problem26 partA A127R5QI5OGBIK    0.0
2       8001 problem26 partA A1FCLYRBAB430F    0.0
3       8001 problem26 partA A25FZQY34C6RVO    0.0
4       8001 problem26 partA A3G0MO562MHMZ3    0.5
5       8001 problem26 partA A3RB9ZOIUC3NWG    2.0
6       8001 problem26 partB A1FCLYRBAB430F    0.5
7       8001 problem26 partB A1XRDZKSJBWY8Q    0.5
8       8001 problem26 partB A22CRWMZUX7FFR    0.5
9       8001 problem26 partB A25FZQY34C6RVO    1.0
10      8001 problem26 partB A3G0MO562MHMZ3    0.5
11      8001 problem27 partA A1ET309DW6M2XA    2.0
12      8001 problem27 partA A1FCLYRBAB430F    0.0
13      8001 problem27 partA A22CRWMZUX7FFR    0.0
14      8001 problem27 partA A25FZQY34C6RVO    0.0
15      8001 problem27 partA A3G0MO562MHMZ3    0.0
16      8001 problem27 partB A1FCLYRBAB430F    1.0
17      8001 problem27 partB A22CRWMZUX7FFR    0.0
18      8001 problem27 partB A25FZQY34C6RVO    0.0
19      8001 problem27 partB A2U9676210WST5    0.0
20      8001 problem27 partB A3G0MO562MHMZ3    0.0
21      8002 problem26 partA A127R5QI5OGBIK    0.0
22      8002 problem26 partA A1FCLYRBAB430F    0.5
23      8002 problem26 partA A22CRWMZUX7FFR    0.0
24      8002 problem26 partA A25FZQY34C6RVO    2.0
25      8002 problem26 partA A3G0MO562MHMZ3    0.5
26      8002 problem26 partB A17EHJZNJGNRAN    2.0
27      8002 problem26 partB A1FCLYRBAB430F    0.0
28      8002 problem26 partB A2IPRDTE6B4TAB    0.0
29      8002 problem26 partB A3G0MO562MHMZ3    0.0
30      8002 problem26 partB  A6SON3OS15XKA    0.0
31      8002 problem27 partA A1FCLYRBAB430F    0.0
32      8002 problem27 partA A25FZQY34C6RVO    0.0
33      8002 problem27 partA A2IPRDTE6B4TAB    0.0
34      8002 problem27 partA A2U9676210WST5    0.0
35      8002 problem27 partA A3G0MO562MHMZ3    0.0
36      8002 problem27 partB A1FCLYRBAB430F    0.0
37      8002 problem27 partB A1V52SSKROBV8E    2.0
38      8002 problem27 partB A25FZQY34C6RVO    2.0
39      8002 problem27 partB A2IPRDTE6B4TAB    0.0
40      8002 problem27 partB A3G0MO562MHMZ3    0.0
&gt; 
&gt; #Make a wrapper
&gt; wrapper &lt;- function ( ratingData, weight.func ) {
+   print(weight.func) #prove that the function is being passed
+   ddply(ratingData, c('studentId','problem','part'), summarize, 
+           sum.weights = sum ( weight.func(rating)  ))
+ }
&gt; wrapper( sampleData, weight.func=function(x) (x+.001)^-1  )
function(x) (x+.001)^-1
Error in data.frame(sum.weights = sum(weight.func(rating))) : 
  could not find function ""weight.func""
&gt; 
&gt; #'globally' declare weight.func
&gt; weight.func &lt;- function(x) (x+.001)^-1
&gt; wrapper( sampleData, weight.func=NULL  )
NULL
  studentId   problem  part sum.weights
1      8001 problem26 partA 3002.495758
2      8001 problem26 partB    8.983033
3      8001 problem27 partA 4000.499750
4      8001 problem27 partB 4000.999001
5      8002 problem26 partA 2004.491766
6      8002 problem26 partB 4000.499750
7      8002 problem27 partA 5000.000000
8      8002 problem27 partB 3000.999500
</code></pre>

<p>The second output is the goal. Any help appreciated! (Including a non plyr based way to accomplish the same task.)</p>

<p>The example above is a toy example. It's the simplest case I could get to reproduce the behavior. </p>
","419842","","","","","2017-03-31 11:29:28","plyr summarize only calls global functions","<r><scope><plyr>","4","0","","","","CC BY-SA 2.5","4289602","4452","4452","r","404559","3625322","3607736","",""
"4290081","1","4290214","","2010-11-27 04:10:10","","28","13477","<p>I am not a statistician (more of a researchy web developer) but I've been hearing a lot about <a href=""http://www.scipy.org/"" rel=""noreferrer"">scipy</a> and <a href=""http://www.r-project.org/"" rel=""noreferrer"">R</a> these days. So out of curiosity I wanted to ask this question (though it might sound silly to the experts around here) because I am not sure of the advances in this area and want to know how people without a sound statistics background approach these problems. </p>

<p>Given a set of real numbers observed from an experiment, let us say they belong to one of the many distributions out there (like Weibull, Erlang, Cauchy, Exponential etc.), are there any automated ways of finding the right distribution and the distribution parameters for the data? Are there any good tutorials that walk me through the process? </p>

<p><strong>Real-world Scenario:</strong>
For instance, let us say I initiated a small survey and recorded information about how many people a person talks to every day for say 300 people and I have the following information:</p>

<pre><code>1 10
2 5
3 20
...
...
</code></pre>

<p>where X Y tells me that person X talked to Y people during the period of the survey. Now using the information from the 300 people, I want to fit this into a model. The question boils down to are there any automated ways of finding out the right distribution and distribution parameters for this data or if not, is there a good step-by-step procedure to achieve the same?</p>
","184046","","184046","","2010-11-27 04:35:36","2013-05-05 22:15:09","Fitting data to distributions?","<python><r><statistics><scipy>","6","3","29","","","CC BY-SA 2.5","4290081","4452","4452","r","404559","3625322","3607736","",""
"4290161","1","","","2010-11-27 04:41:18","","4","2582","<p>I have installed R (64-bit) version 2.11.1 on Windows 7 and also packages doSMP and revoIPC from ""REvolution foreach windows bundle"" for parallel processing. I then uploaded library doSMP into R and got following messages from R </p>

<pre><code>&gt; library(doSMP)
Loading required package: revoIPC
Error: package 'revoIPC' is not installed for 'arch=x64'
</code></pre>

<p>How to get around this problem? It seems that doSMP works on a 32 bit distribution of R but not the 64 bit distribution. </p>

<p>I also tested the following programme </p>

<pre><code>------------------------------------------------------
require(doSMP)
workers &lt;- startWorkers(4) # My computer has 2 cores
registerDoSMP(workers)

# create a function to run in each itteration of the loop
check &lt;-function(n) {
 for(i in 1:1000)
 {
  sme &lt;- matrix(rnorm(100), 10,10)
  solve(sme)
 }
}


times &lt;- 10 # times to run the loop

# comparing the running time for each loop
system.time(x &lt;- foreach(j=1:times ) %dopar% check(j))  #  2.56 seconds  (notice that the first run would be slower, because of R's lazy loading)
system.time(for(j in 1:times ) x &lt;- check(j))  #  4.82 seconds

# stop workers
---------------------------------------------------------------------------
</code></pre>

<p>And I got the following messages from R</p>

<pre><code>&gt; workers &lt;- startWorkers(4) # My computer has 2 cores
Error: could not find function ""startWorkers""
&gt; registerDoSMP(workers)
Error: could not find function ""registerDoSMP""
</code></pre>

<p>Many thanks for your help.</p>

<p>Tony </p>
","488655","","107409","","2013-03-02 00:30:25","2013-03-02 00:51:37","Parallel processing in R with 64-bit on Windows 7- package doSMP","<r><parallel-processing><revolution-r>","3","0","4","","","CC BY-SA 3.0","4290161","4452","4452","r","404559","3625322","3607736","",""
"4290164","1","","","2010-11-27 04:41:35","","5","310","<p>have been searching around the internet and stackoverflow, but haven't been able to find any information on libraries for machine learning in s-plus or R. does anyone know of any or could perhaps point me in the right direction? thank you!</p>
","522004","","","","","2018-11-30 15:45:06","machine learning libraries in s+ (or R)?","<r><machine-learning><libraries><s-plus>","3","0","1","","","CC BY-SA 2.5","4290164","4452","4452","r","404559","3625322","3607736","",""
"4290672","1","4290838","","2010-11-27 08:03:34","","5","7632","<p>Is it possible to pass a value into the query in <code>dbGetQuery</code> from the RMySQL package. </p>

<p>For example, if I have a set of values in a character vector:</p>

<pre><code>df &lt;- c('a','b','c')
</code></pre>

<p>And I want to loop through the values to pull out a specific value from a database for each.</p>

<pre><code>library(RMySQL)    
res &lt;- dbGetQuery(con, ""SELECT max(ID) FROM table WHERE columna='df[2]'"")
</code></pre>

<p>When I try to add the reference to the value I get an error. Wondering if it is possible to add a value from an R object in the query.</p>
","302274","","680068","","2016-11-11 07:35:59","2016-11-11 07:35:59","Add a dynamic value into RMySQL getQuery","<r><rmysql>","2","3","1","2017-10-30 20:03:29","","CC BY-SA 3.0","4290672","4452","4452","r","404559","3625322","3607736","",""
"4294130","1","4294420","","2010-11-27 21:56:56","","3","7107","<p>I can't believe this is taking me this long to figure out, and I still can't figure it out.</p>

<p>I need to keep a collection of vectors, and later check that a certain vector is in that collection. I tried lists combined with <code>%in%</code> but that doesn't appear to work properly. </p>

<p>My next idea was to create a matrix and <code>rbind</code> vectors to it, but now I don't know how to check if a vector is contained in a matrix. <code>%in</code> appears to compare sets and not exact rows. Same appears to apply to intersect.</p>

<p>Help much appreciated!</p>
","68589","","","","","2015-11-23 01:12:33","Check that a vector is contained in a matrix in R","<r><statistics><matrix>","2","1","2","","","CC BY-SA 2.5","4294130","4452","4452","r","404559","3625322","3607736","",""
"4295407","1","4295569","","2010-11-28 04:41:23","","0","514","<p>I want to parse csv with micro-second timed index. 
So, I wrote code like this:</p>

<pre><code>t&lt;-read.zoo(""test"", index.column = 1, sep="","",header=TRUE, format=""%Y-%m-%d %H:%M:%OS"")
t.xts&lt;-as.xts(t)
</code></pre>

<p>after then, I tried to display this but I couldn't see time information on the index.</p>

<pre><code>&gt; t.xts[1:10,4]
           drate  
2010-09-28 "" -149""
2010-09-28 "" -269""
2010-09-28 "" -358""
2010-09-28 "" -358""
2010-09-28 "" -239""
2010-09-28 "" -149""
2010-09-28 "" -149""
2010-09-28 "" -149""
2010-09-28 "" -119""
2010-09-28 "" -149""
</code></pre>

<p>I tried options(digits.secs=6) but didn't work.</p>
","204260","","","","","2010-11-28 05:39:29","Display time index in R xts","<r><xts>","1","0","","","","CC BY-SA 2.5","4295407","4452","4452","r","404559","3625322","3607736","",""
"4296799","1","4296907","","2010-11-28 12:48:23","","3","1981","<p>I would like to pass to R a txt file with a matrix, where tailing zeros are omitted from rows (except the first tailing zero, if any). Those missing values considered as zeros.</p>

<p>for example:</p>

<pre><code>8 7 0
5 4 3 2 1
4 8 9
</code></pre>

<p>should be read as:</p>

<pre><code>8 7 0 0 0
5 4 3 2 1
4 8 9 0 0
</code></pre>

<p>The max row size (i.e. the number of matrix columns) is unknown prior to reading the matrix.</p>
","377031","","168747","","2010-12-02 22:08:22","2010-12-02 22:08:22","How can I read a matrix with missing end elements in R?","<r><matrix>","1","0","","","","CC BY-SA 2.5","4296799","4452","4452","r","404559","3625322","3607736","",""
"4297231","1","","","2010-11-28 14:32:10","","51","82786","<p>I'm trying to convert a data frame to xts object using the as.xts()-method. Here is my input dataframe q:</p>

<pre><code>q
                      t x  
1  2006-01-01 00:00:00  1  
2  2006-01-01 01:00:00  2  
3  2006-01-01 02:00:00  3

str(q)
    'data.frame':   10 obs. of  2 variables:
 $ t: POSIXct, format: ""2006-01-01 00:00:00"" ""2006-01-01 01:00:00"" ""2006-01-01 02:00:00"" ""2006-01-01 03:00:00"" ...  
 $ x: int  1 2 3 4 5 6 7 8 9 10
</code></pre>

<p>The result is:</p>

<pre><code>&gt; as.xts(q)
Error in as.POSIXlt.character(x, tz, ...) : 
  character string is not in a standard unambiguous format
</code></pre>

<p>This is the simplest example I can think of, so it's quite frustrating not getting it to work... Any help is appreciated!</p>
","442446","","792066","","2017-03-06 14:31:17","2020-09-12 09:52:04","Converting a data frame to xts","<r><dataframe><coerce><xts><time-series>","9","1","23","","","CC BY-SA 3.0","4297231","4452","4452","r","404559","3625322","3607736","",""
"4298094","1","4306314","","2010-11-28 17:45:48","","1","569","<p>I want to plot data from different data frames with ggplot. However, I'm having problems with discrete and continuous scales.</p>

<p>Let's say we want to use this data:</p>

<pre><code>x &lt;- rnorm(9,5)
y &lt;- rnorm(9,5)
f1 &lt;- rep(c(""a"",""b"",""c""),3) 
df1 &lt;- data.frame(x,y,f1)
x &lt;- rnorm(9,5)
y &lt;- rnorm(9,5)
f2 &lt;- rep(c(""d"",""e"",""f""),3)
df2 &lt;- data.frame(x,y,f2)
</code></pre>

<p>I'd like to show both data frames on one plot. df1$f1 and df1$f2 shall both be responsible for colours of the points:</p>

<pre><code>p &lt;- ggplot(df1,aes(x,y))
p &lt;- p + geom_point(aes(colour=f1))
p &lt;- p + geom_point(data=df2,aes(x,y,colour=f2))
p
</code></pre>

<p>This works.</p>

<p>However, when I have this data:</p>

<pre><code>x &lt;- rnorm(9,5)
y &lt;- rnorm(9,5)
f1 &lt;- rep(c(""a"",""b"",""c""),3) 
df1 &lt;- data.frame(x,y,f1)
x &lt;- rnorm(9,5)
y &lt;- rnorm(9,5)
quan &lt;- rnorm(9,1)
df2 &lt;- data.frame(x,y,quan)
</code></pre>

<p>this plot doesn't work:</p>

<pre><code>p &lt;- ggplot(df1,aes(x,y))
p &lt;- p + geom_point(aes(colour=f1))
p &lt;- p + geom_point(data=df2,aes(x,y,colour=quan))
p

Error: Continuous variable () supplied to discrete scale_hue.
</code></pre>

<p><code>f1</code> as a factor, <code>quan</code> is a numeric value, and it seems logical that they can't be used with the same scale. But how can I define a separate scale for each data frame? Or is this maybe not possible?</p>

<p>I tried using <code>scale_colour_discrete</code> and <code>scale_colour_continuous</code>, but it seems as if only one of the two scales can be used for one plot.</p>
","415697","","415697","","2010-11-29 18:17:17","2010-11-29 18:17:17","Use factors and variable with same kind of scale - possible?","<r><plot><ggplot2><scale>","1","4","","","","CC BY-SA 2.5","4298094","4452","4452","r","404559","3625322","3607736","",""
"4298870","1","","","2010-11-28 20:22:48","","4","8473","<p>I have a matrix (size: 28 columns and 47 rows) with numbers. This matrix has an extra row that is contains headers for the columns (""ordinal"" and ""nominal"").</p>

<p>I want to use the Gower distance function on this matrix. <a href=""http://rgm2.lab.nig.ac.jp/RGM2/R_man-2.9.0/library/StatMatch/man/gower.dist.html"" rel=""nofollow"">Here</a> says that:</p>

<p><strong>The final dissimilarity between the ith and jth units is obtained as a weighted sum of dissimilarities for each variable:</strong></p>

<pre><code>    d(i,j) = sum_k(delta_ijk * d_ijk ) / sum_k( delta_ijk )
</code></pre>

<p>In particular, d_ijk represents the distance between the ith and jth unit computed considering the kth variable. It depends on the nature of the variable:</p>

<ul>
<li><p>factor or character columns are
considered as categorical nominal
variables and <code>d_ijk = 0</code> if </p>

<p>x_ik =x_jk, 1 otherwise;</p></li>
<li><p>ordered columns are considered as
categorical ordinal variables and<br>
the values are substituted with the<br>
corresponding position index, r_ik in
the factor levels. These position<br>
indexes (that are different from the 
output of the R function rank) are<br>
transformed in the following manner</p></li>
</ul>

<p>z_ik = (r_ik - 1)/(max(r_ik) - 1)</p>

<p>These new values, z_ik, are treated as observations of an<br>
   interval scaled variable.</p>

<p>As far as the weight delta_ijk is concerned:</p>

<ul>
<li>delta_ijk = 0 if x_ik = NA or x_jk =
NA;</li>
<li>delta_ijk = 1 in all the other cases.</li>
</ul>

<p>I know that there is a gower.dist function, but I must do it that way. 
So, for ""d_ijk"", ""delta_ijk"" and ""z_ik"", I tried to make functions, as I didn't find a better way.</p>

<p>I started with ""delta_ijk"" and i tried this:</p>

<pre><code>Delta=function(i,j){for (i in 1:28){for (j in 1:47){  
+{if (MyHeader[i,j]==""nominal"")
+ result=0
+{else if (MyHeader[i,j]==""ordinal"") result=1}}}}
+;result}
</code></pre>

<p>But I got error. So I got stuck and I can't do the rest. </p>

<p>P.S. Excuse me if I make mistakes, but English is not a language I very often.</p>
","519301","","519301","","2010-11-28 21:11:22","2015-12-02 16:09:44","implementation of the Gower distance function","<function><r>","3","1","2","","","CC BY-SA 2.5","4298870","4452","4452","r","404559","3625322","3607736","",""
"4299362","1","4336697","","2010-11-28 22:01:29","","0","5112","<p>I have a dataframe called <code>ants</code> detailing multiple entries per site, looks like this:</p>

<pre><code>  Site     Date     Time  Temp SpCond Salinity Depth Turbidity Chlorophyll
1   71 6/8/2010 14:50:35 14.32  49.88    32.66 0.397       0.0         1.3
2   71 6/8/2010 14:51:00 14.31  49.94    32.70 1.073       0.0         2.0
3   71 6/8/2010 14:51:16 14.32  49.95    32.71 1.034      -0.1         1.6
4   71 6/8/2010 14:51:29 14.31  49.96    32.71 1.030      -0.2         1.6
5   70 6/8/2010 14:53:55 14.30  50.04    32.77 1.002      -0.2         1.2
6   70 6/8/2010 14:54:09 14.30  50.03    32.77 0.993      -0.5         1.2
</code></pre>

<p>Sites have different numbers of entries, usually 3 but sometimes less or more. Where both date and site number match I would like to write a new dataframe with one entry per site detailing the average/mean readings for each parameter. I would like empty or ""na"" cells to be omitted from the calculation and subsequent dataframe.</p>

<p>I'm not sure if this is an apply function or a version of rowMeans maybe? Very stuck, any help much appreciated!</p>
","464104","","143305","","2010-11-28 22:09:34","2010-12-02 16:24:56","Calculate means of rows","<r><row><average><dataframe><mean>","5","0","1","","","CC BY-SA 2.5","4299362","4452","4452","r","404559","3625322","3607736","",""
"4299369","1","4299826","","2010-11-28 22:02:53","","3","1074","<p>I'm a new guy to databases, and I'm trying to figure out a good solution for dealing with large datasets.  I mostly do statistical analyses using R, so I don't need a database as the backend of web pages or anything.  By datasets are generally static - they are just big.</p>

<p>I was trying to do a simple left join of a ~10,000,000 record table on a ~1,400,000 table.  The 1.4 m table had unique records.  After churning for 3 hours, it quit on me.  The query was specified correctly - I ran it limiting the retrievals to 1000 records and it returned exactly as I expected.  Eventually, I found a way to split this up into 10 queries and it ran, but by this time, I was able to do that merge in R pretty quickly, without all the fancy calls to sqlite and indexing.</p>

<p>I've been looking to use databases because I thought they were faster/more effective for these basic data manipulations, but maybe I'm just overlooking something.  In the above example, I had indexed in the appropriate columns, and I'm surprised that sqlite could not handle it whilst R could.</p>

<p>Sorry if this question is a little foggy (I'm a little foggy on databases), but if anyone has any advice on something obvious I'm doing wrong to not take advantage of the power of sqlite, that would be great.  Or am I just expecting to much of of it, and a 100 m X 1.4 m record merge is just too big to execute without breaking it up?</p>

<p>I would think that a database could outperform R in this respect?</p>

<p>thanks!</p>

<p>EXL</p>
","424005","","429846","","2010-11-29 11:57:01","2010-11-29 18:20:00","Using sqlite for very large merges and basic queries","<sql><sqlite><r>","2","3","2","","","CC BY-SA 2.5","4299369","4452","4452","r","404559","3625322","3607736","",""
"4301228","1","4302274","","2010-11-29 06:03:16","","1","1632","<p>I have a probability density function (PDF) </p>

<pre><code>(1-cos(x-theta))/(2*pi)
</code></pre>

<p>theta is the unknown parameter. How do I write a log likelihood function for this PDF? I am confused; the <code>x</code> will come from my data, but how do I handle the <code>theta</code> in the equation.
Thanks</p>
","408324","","","","","2010-11-29 20:04:56","Log Likelihood using R","<r><statistics>","4","1","","","","CC BY-SA 2.5","4301228","4452","4452","r","404559","3625322","3607736","",""
"4302367","1","4302427","","2010-11-29 09:27:25","","29","34926","<p>How can I combine text and math expressions in a plot's title. If I use paste the expression is converted to character. For example I want something like this as a title</p>

<p>$ARL_1$ curve for $S^2$ </p>

<p>Thank you</p>
","299077","","1451109","","2013-10-25 12:00:45","2018-02-02 15:54:30","Concatenate strings and expressions in a plot's title","<r><plot><expression><plotmath>","3","0","10","","","CC BY-SA 2.5","4302367","4452","4452","r","404559","3625322","3607736","",""
"4304639","1","4304876","","2010-11-29 14:23:19","","6","1167","<p>I am using R, on linux. 
I have a set a functions that I use often, and that I have saved in different .r script files. Those files are in ~/r_lib/.</p>

<p>I would like to include those files without having to use the fully qualified name, but just ""file.r"". Basically I am looking the same command as -I in the c++ compiler.</p>

<p>I there a way to set the include file from R, in the .Rprofile or .Renviron file?</p>

<p>Thanks</p>
","109525","","","","","2011-12-17 16:41:40","Have R look for files in a library directory","<linux><r>","4","2","","","","CC BY-SA 2.5","4304639","4452","4452","r","404559","3625322","3607736","",""
"4305497","1","4886815","","2010-11-29 15:59:08","","24","2742","<p>I am trying to make better use of org-mode for my projects. I think literate programming is especially applicable to the realm of data analysis and org-mode lets us do some pretty awesome literate programming. </p>

<p>I think most of you will agree with me that the workflow for writing an analysis is different than most other types of programming. I don't just write a program, I explore the data. And, while many of these explorations are dead-ends, I don't want to delete/ignore them completely. I just don't want to re-run them every time I execute the org file. I also tend to find or develop chunks of useful code that I would like to put into an analytic template, but some of these chunks won't be relevant for every project and I'd like to know how to make org-mode ignore these chunks when I am executing the entire buffer.  Here's a simplified example.</p>

<pre><code>* Import
  - I want org-mode to ignore import-sql.
#+srcname: import-data
#+begin_src R :exports none :noweb yes
&lt;&lt;import-csv&gt;&gt;
#+end_src

#+srcname: import-csv
#+begin_src R :exports none
data &lt;- read.csv(""foo-clean.csv"")
#+end_src

#+srcname: import-sql
#+begin_src R :exports none
library(RSQLite)
blah blah blah
#+end_src

* Clean
  - This is run on foo.csv, producing foo-clean.csv
  - Fixes the mess of -9 and -13 to NA for my sanity.
  - This only needs to be run once, and after that, reference.
  - How can I tell org-mode to skip this?
#+srcname: clean-csv
#+begin_src sh :exports none
sed .....
#+end_src

* Explore

** Explore by a factor (1)
   - Dead end. Did not pan out. Ignore.
   - Produces a couple of charts showing there is not interaction.
#+srcname: explore-by-a-factor-1
#+begin_src R :exports none :noweb yes
#+end_src

** Explore by a factor (2)
   - A useful exploration that I will reference later in a report.
   - Produces a couple of charts showing the interaction of my variables.
#+srcname: explore-by-a-factor-2
#+begin_src R :exports none :noweb yes
#+end_src
</code></pre>

<p>I would like to be able to use org-babel-execute-buffer and have org-mode somehow know to skip over the code blocks import-sql, clean-csv and explore-by-a-factor-1. I want them in the org file, because they are relevant to the project. After-all, tomorrow someone might want to know why I was so sure explore-by-a-factor-1 was not useful. I want to keep that code around, so I can bang out the plot or the analysis or what-ever and go on, but not have it run every-time I rerun everything because there's no reason to run it. Ditto with the clean-csv stuff. I want it around, to document what I did to the data (and why), but I don't want to re-run it every time. I'll just import foo-clean.csv.</p>

<p>I Googled all over this and read a bunch of org-mode mailing list archives and I was able to find a couple of ideas, but not what I want. EXPORT_SELECT_TAGS, EXPORT_EXCLUDE_TAGS are great, when exporting the file. And the :tangle header works well, when creating the actual source files. I don't want to do either of these. I just want to execute the buffer. I would like to be able to define code blocks in a similar fashion to be executed or ignored. I guess I would like to find a way to have an org variable such as:</p>

<p>EXECUTE_SELECT_TAGS</p>

<p>This way I could simply tag my various code blocks and be done with it. It would be even nicer if I could then run the file, using only source blocks with specific tags. I can't find a way to do this and I thought I would ask before asking/begging for a new feature in org-mode.</p>
","314652","","314652","","2010-11-29 16:20:04","2011-02-07 16:23:51","Using org-mode to structure an analysis","<r><emacs><org-mode>","2","6","13","","","CC BY-SA 2.5","4305497","4452","4452","r","404559","3625322","3607736","",""
"4305653","1","4305679","","2010-11-29 16:17:05","","13","617","<p>This question is inspired by the remark of <em>Duncan Murdoch</em> on the r-devel mailing list in response to a bug report about Sweave :</p>

<blockquote>
  <p>This is fixed in R-patched.  (It would
  have been fixed in 2.12.0 if more
  people tested the betas...).</p>
</blockquote>

<p>Honestly, I've stayed away from beta -aka development- versions for a number of reasons, and these are reasons I hear from more people :</p>

<ol>
<li>I am a bit horrified it would
somehow cause conflicts with my
current R distribution. As I need it
for work, having to repair it regularly would be a loss of
time I can't explain to my boss</li>
<li>I wouldn't have a clue how to test
efficiently. I reckon every test I
could come up with has already been
run by the development team.</li>
<li>I still find it difficult to figure
out when something is a bug, and
when (most often) it is my own
stupidity kicking in.</li>
</ol>

<p>But as I understood, it would be a valuable contribution to the R community, and I'm willing to do my bit of the testing as well if I can fit it somehow into my own work. I was thinking of keeping the beta on the side and running my scripts through it as well as a checkup. Saving the constructed objects allows a quick and easy <code>all.equal()</code> to see if something is wrong.</p>

<p>Anybody some more/better ideas on how I could help testing with a minimum amount of effort and a maximum amount of efficiency?</p>

<p>I'd also like to promote this a bit more on our department as well. Apart from the ""It's time to give back to the community"", any other good reasons why testing betas is worth the effort? How can I counter the arguments given above?</p>

<p>Edit:</p>

<p>As Dirk Eddelbuettel pointed out in the comments, part of the deal is preventing the path variables in Windows. I have some ideas on that, but pointers on how to practically organize your computer for testing R-devel versions are greatly appreciated as well.</p>
","428790","","52443","","2010-11-30 19:36:29","2010-11-30 19:36:29","Why and How to effectively test beta distributions of R as a normal user?","<r><beta-testing>","2","1","3","","","CC BY-SA 2.5","4305653","4452","4452","r","404559","3625322","3607736","",""
"4306846","1","4306913","","2010-11-29 18:34:28","","1","1788","<p>So I have an R file that I would like to schedule to run every 10 minutes. I have created an entry for the file in crontab through the Terminal (using crontab -e). As so:</p>

<pre><code>*/10    *       *       *       *       root    /Users/A/Documents/code/r/r_file.r
</code></pre>

<p>When I run the commands in the console it executes as designed and I can verify records in the database. However, with this cron setup I am not getting the end result. </p>

<p>I did get the following error message:</p>

<pre><code>/bin/sh: root: command not found
</code></pre>

<p>I am sure this is a total rookie question as I do not have much experience with crontab. Any advice is greatly appreciated. </p>

<p>Thanks,</p>

<p>Jason</p>
","302274","","","","","2010-11-29 18:47:46","How to schedule R script in crontab on Mac Snow Leopard?","<r><crontab>","2","0","2","","","CC BY-SA 2.5","4306846","4452","4452","r","404559","3625322","3607736","",""
"4307897","1","4307962","","2010-11-29 20:40:56","","2","3791","<p>I want to create a scatterplot and draw the regression line for a subset of a dataset. To give a reproducible example I'll use the CO2 dataset.</p>

<p>I tried this but the regression line doesn't appear for some reason </p>

<pre><code>with(subset(CO2,Type==""Quebec""),plot(conc,uptake),abline(lm(uptake~conc)))
</code></pre>

<p>What is the correct way to give a command like this? Can I do it with a one-liner?</p>
","299077","","","","","2010-11-29 21:02:12","""abline"" doesn't work after ""plot"" when inside ""with""","<r><plot>","3","0","","","","CC BY-SA 2.5","4307897","4452","4452","r","404559","3625322","3607736","",""
"4309217","1","4309350","","2010-11-29 23:41:00","","67","46057","<p>I have three or more independent variables represented as R vectors, like so:</p>

<pre><code>A &lt;- c(1,2,3)
B &lt;- factor(c('x','y'))
C &lt;- c(0.1,0.5)
</code></pre>

<p>and I want to take the Cartesian product of all of them and put the result into a data frame, like this:</p>

<pre><code>A B C
1 x 0.1
1 x 0.5
1 y 0.1
1 y 0.5
2 x 0.1
2 x 0.5
2 y 0.1
2 y 0.5
3 x 0.1
3 x 0.5
3 y 0.1
3 y 0.5
</code></pre>

<p>I can do this by manually writing out calls to <code>rep</code>:</p>

<pre><code>d &lt;- data.frame(A = rep(A, times=length(B)*length(C)),
                B = rep(B, times=length(A), each=length(C)),
                C = rep(C, each=length(A)*length(B))
</code></pre>

<p>but there must be a more elegant way to do it, yes?  <code>product</code> in <code>itertools</code> does part of the job, but I can't find any way to absorb the output of an iterator and put it into a data frame.  Any suggestions?</p>

<p>p.s. The next step in this calculation looks like</p>

<pre><code>d$D &lt;- f(d$A, d$B, d$C)
</code></pre>

<p>so if you know a way to do both steps at once, that would also be helpful.</p>
","388520","","3768871","","2019-07-12 03:24:30","2020-10-08 14:10:02","Cartesian product data frame","<r><dataframe>","7","6","24","","","CC BY-SA 4.0","4309217","4452","4452","r","404559","3625322","3607736","",""
"4309248","1","4309351","","2010-11-29 23:45:51","","16","7659","<p>In R I frequently aggregate daily data (in a <code>zoo</code>) by month, using something like this:</p>

<p><code>result &lt;- aggregate(x, as.yearmon, ""mean"", na.rm=TRUE)</code></p>

<p>Is there a way that I can do this by week?</p>
","334755","","","","","2016-05-05 07:12:38","Aggregate by week in R","<r><aggregate><zoo>","1","0","7","","","CC BY-SA 2.5","4309248","4452","4452","r","404559","3625322","3607736","",""
"4310326","1","4310474","","2010-11-30 03:40:28","","41","230840","<p>I have a data frame with a character column of dates.</p>
<p>When I use <code>as.Date</code>, most of my dates are parsed correctly, except for a few instances.  The example below will hopefully show you what is going on.</p>
<pre><code># my attempt to parse the string to Date -- uses the stringr package
prods.all$Date2 &lt;- as.Date(str_sub(prods.all$Date, 1, 
                str_locate(prods.all$Date, &quot; &quot;)[1]-1), 
                &quot;%m/%d/%Y&quot;)

# grab two rows to highlight my issue
temp &lt;- prods.all[c(1925:1926), c(1,8)]
temp
#                    Date      Date2
# 1925  10/9/2009 0:00:00 2009-10-09
# 1926 10/15/2009 0:00:00 0200-10-15
</code></pre>
<p>As you can see, the year of some of the dates is inaccurate.  The pattern seems to occur when the day is double digit.</p>
<p>Any help you can provide will be greatly appreciated.</p>
","155406","","1851712","","2021-03-18 14:27:29","2021-03-18 14:27:29","Convert character to class Date","<r><date><lubridate><as.date><r-faq>","3","1","12","","","CC BY-SA 4.0","4310326","4452","4452","r","404559","3625322","3607736","",""
"4310629","1","4314585","","2010-11-30 04:49:41","","4","8563","<p>I maintain my journal electronically and I'm trying to get an idea of how consistent I've been with my journal writing over the last few months. I have the following data file, which shows how many journal entries (<code>Entry Count</code>) and words (<code>Word Count</code>) I recorded over the preceding 30-day period.</p>

<pre><code>Date    Entry Count Word Count
2010-08-25  22  4205
2010-08-26  21  4012
2010-08-27  20  3865
2010-08-28  20  4062
2010-08-29  19  3938
2010-08-30  18  3759
2010-08-31  17  3564
2010-09-01  17  3564
2010-09-02  16  3444
2010-09-03  17  3647
2010-09-04  17  3617
2010-09-05  16  3390
2010-09-06  15  3251
2010-09-07  15  3186
2010-09-08  15  3186
2010-09-09  16  3414
2010-09-10  15  3228
2010-09-11  14  3006
2010-09-12  13  2769
2010-09-13  13  2781
2010-09-14  12  2637
2010-09-15  13  2774
2010-09-16  13  2808
2010-09-17  12  2732
2010-09-18  12  2664
2010-09-19  13  2931
2010-09-20  13  2751
2010-09-21  13  2710
2010-09-22  14  2950
2010-09-23  14  2834
2010-09-24  14  2834
2010-09-25  14  2834
2010-09-26  14  2834
2010-09-27  14  2834
2010-09-28  14  2543
2010-09-29  14  2543
2010-09-30  15  2884
2010-10-01  16  3105
2010-10-02  16  3105
2010-10-03  16  3105
2010-10-04  15  2902
2010-10-05  14  2805
2010-10-06  14  2805
2010-10-07  14  2805
2010-10-08  14  2812
2010-10-09  15  2895
2010-10-10  14  2667
2010-10-11  15  2876
2010-10-12  16  2938
2010-10-13  17  3112
2010-10-14  16  2894
2010-10-15  16  2894
2010-10-16  16  2923
2010-10-17  15  2722
2010-10-18  15  2722
2010-10-19  14  2544
2010-10-20  13  2277
2010-10-21  13  2329
2010-10-22  12  2132
2010-10-23  11  1892
2010-10-24  10  1764
2010-10-25  10  1764
2010-10-26  10  1764
2010-10-27  10  1764
2010-10-28  10  1764
2010-10-29  9   1670
2010-10-30  10  1969
2010-10-31  10  1709
2010-11-01  10  1624
2010-11-02  11  1677
2010-11-03  11  1677
2010-11-04  11  1677
2010-11-05  11  1677
2010-11-06  12  1786
2010-11-07  12  1786
2010-11-08  11  1529
2010-11-09  10  1446
2010-11-10  11  1682
2010-11-11  11  1540
2010-11-12  11  1673
2010-11-13  11  1765
2010-11-14  12  1924
2010-11-15  13  2276
2010-11-16  12  2110
2010-11-17  13  2524
2010-11-18  14  2615
2010-11-19  14  2615
2010-11-20  15  2706
2010-11-21  14  2549
2010-11-22  15  2647
2010-11-23  16  2874
2010-11-24  16  2874
2010-11-25  16  2874
2010-11-26  17  3249
2010-11-27  18  3421
2010-11-28  18  3421
2010-11-29  19  3647
</code></pre>

<p>I'm trying to plot this data with R to get a graphical representation of my journal-writing consistency. I load it into R with the following command.</p>

<pre><code>d &lt;- read.table(""journal.txt"", header=T, sep=""\t"")
</code></pre>

<p>I can then graph the data with the following command.</p>

<pre><code>plot(seq(from=1, to=length(d$Entry.Count), by=1), d$Entry.Count, type=""o"", ylim=c(0, max(d$Entry.Count)))
</code></pre>

<p>However, in this plot the X axis is just a number, not a date. I tried adjusting the command to show dates on the X axis like this.</p>

<pre><code>plot(d$Date, d$Entry.Count, type=""o"", ylim=c(0, max(d$Entry.Count)))
</code></pre>

<p>However, not only does the plot look strange, but the labels on the X axis are not very helpful. What is the best way to plot this data so that I can clearly associate dates with points on the plotted curve?</p>
","459780","","","","","2010-11-30 18:34:49","Plot with dates as X axis in R","<r><visualization><plot>","2","0","2","","","CC BY-SA 2.5","4310629","4452","4452","r","404559","3625322","3607736","",""
"4310727","1","4310747","","2010-11-30 05:11:37","","53","17149","<p>When working with matrices in R, one can put them side-by-side or stack them top of each other using cbind and rbind, respectively. What is the equivalent function for stacking matrices or arrays in other dimensions?</p>

<p>For example, the following creates a pair of 2x2 matrices, each having 4 elements:</p>

<pre><code>x = cbind(1:2,3:4)
y = cbind(5:6,7:8)
</code></pre>

<p>What is the code to combine them into a 2x2x2 array with 8 elements?</p>
","125921","","","","","2016-08-02 13:48:50","What is R's multidimensional equivalent of rbind and cbind?","<r><multidimensional-array><matrix-multiplication>","1","0","8","","","CC BY-SA 2.5","4310727","4452","4452","r","404559","3625322","3607736","",""
"4310784","1","4312149","","2010-11-30 05:24:09","","1","843","<p>St Petersburg paradox is a gambling game where you pay a fixed amount to enter the game. You flip a coin repeatedly until a tails is thrown. Your payoff is the sum from 1 to n of 2^n where n is the number of heads before the first tails. If that doesn't make sense try the wikipedia article</p>

<p>I was doing a paper on Expected Utility theory and was writing on the St Petersburg paradox and thought it would be neat(although not relevant to my paper) to try and do a monte carlo in R for how much you would expect to win after 10000 trials  </p>

<p>I basically want to do <a href=""http://www.mathematik.com/Petersburg/Petersburg.html"" rel=""nofollow"">http://www.mathematik.com/Petersburg/Petersburg.html</a> in R with 10,000 trials </p>
","524715","","","","","2010-11-30 13:34:14","solving St Peterburg Paradox in R","<r><paradox>","1","4","","","","CC BY-SA 2.5","4310784","4452","4452","r","404559","3625322","3607736","",""
"4313188","1","4314171","","2010-11-30 11:24:56","","3","1027","<p>I have the following problem:</p>

<p>I have a data frame ""test"" that looks more or less like this:</p>

<pre><code>Date         return     price      vol   
20100902     0.3        15         8.5
20100902     0.4        17         8.6
20100902     0.6        19         8.7
.....
20100903     0.2        13         8.2
20100903     0.4        17         8.6
20100903     0.8        21         9.0
.....
</code></pre>

<p>So I have given values for each date (10 per day). What I would like to do now is apply ksmooth() on each date, so e.g. ksmooth(return, price, n.points = 50) for each date. This should give me 50 observations for each date. In addition, I would like a time stamp for the interpolated values. So the resulting frame should like  </p>

<pre><code>Date         return     price         
20100620     0.3        15  
20100620     0.31       15.2
20100620     0.32       15.3 
20100620     0.4        17         
20100620     0.6        19        
.....
20100621     0.2        13     
20100621     0.21       13.1
20100621     0.22       13.2
20100621     0.4        17         
20100621     0.8        21     
etc.
</code></pre>

<p>with 50 observations per day.
So here is what I'm looking for: take the first 10 observations (e.g. date 1 = 20102006, interpolate and put a time stamp on the interpolated values (20100620). Then, take second 10 observations (date = 20100621), interpolate and put a time stamp on the interpolated values (20100621) and so on.</p>

<p>I'm quite new to R, but this is what I tried. I thought of using the zoo() function to that. Before implementing anything, I wanted to make my date entries unique, so I just added hours to each entry</p>

<pre><code>test &lt;- read.zoo(""test.txt"", format = ""%Y%m%d"")
test &lt;- zoo(test, as.POSIXct(time(test)) + 1:26)
</code></pre>

<p>There probably is something wrong with that, because R complained.
Then I thought of using the rollapply() function.</p>

<pre><code>roll.test &lt;- rollapply(test, 10, FUN = function(x,y) ksmooth(test$return,    
+ test$price, ""normal"", bandwidth = 20, n.points = 50) )
</code></pre>

<p>Unfortunately the result is very confusing. And the by.column = FALSE demand does not work.</p>

<p>I would very appreciate some help. It does not have to build upon my ""trial version"" at all.
Thank you very much
Dani</p>

<p>My data looks like this:</p>

<pre><code>""date"" ""days"" ""return"" ""price"" 
""66"" 20100620 91 0.18 1389.373 
""67"" 20100620 91 0.19 1370.57 
""68"" 20100620 91 0.19 1353.122 
""69"" 20100620 91 0.19 1336.291 
""70"" 20100620 91 0.20 1319.774 
""71"" 20100620 91 0.20 1303.341 
""72"" 20100620 91 0.21 1286.656 
""326"" 20100621 91 0.18 1386.28 
""327"" 20100621 91 0.18 1367.694 
""328"" 20100621 91 0.19 1350.375 
""329"" 20100621 91 0.19 1333.615 
""330"" 20100621 91 0.20 1317.164 
""331"" 20100621 91 0.20 1300.783 
""332"" 20100621 91 0.21 1284.113 
</code></pre>
","513744","","513744","","2010-11-30 13:05:38","2010-11-30 14:00:09","Apply ksmooth to time series","<r><time-series>","1","2","2","","","CC BY-SA 2.5","4313188","4452","4452","r","404559","3625322","3607736","",""
"4314708","1","","","2010-11-30 14:21:51","","6","2570","<p>Hope the question above is clear. </p>

<p>Now my case: For my package, i'm using several libraries (jars). Each library has been licenced under one of these:  Apache v2, BSD or LPGL.</p>

<p><strong>Edit</strong> [some clarification] I have my own java classes packed in a jar. These import classes (dynamic linking) from the libraries mentioned here [End Edit]</p>

<p>Question 1: Can i pack all these libraries in a single package?<br>
Question 1a: If yes, under what licence Apache, BSD, LGPL or any other?<br>
Question 1b: If yes, would it be enough to put all the library names in a NOTICE and to write under what licence is a library licenced together?  </p>

<p>Question 2: Or do i have to create for each type of licence a separate package and put libraries in it according to their licence type?</p>
","498500","","498500","","2010-11-30 21:39:28","2018-04-27 17:12:15","If an R package's licence X is, do all the content in that package have to be licenced under X?","<r><licensing><packages>","4","4","1","2015-06-16 01:47:11","","CC BY-SA 2.5","4314708","4452","4452","r","404559","3625322","3607736","",""
"4315181","1","","","2010-11-30 15:08:48","","3","5253","<p>Well I have a matrix in Matlab, with 4 dimensions. I'd like to export this matrix to use it in R (I want to plot with it). The problem for me is that I don't know how to export a matrix that can be used by R, and also I don't know how to import data in R. Basically, what I've tried to do is to export my matrix in Matlab using <code>dlmwrite</code>, and importing it in R using <code>read.table()</code>. Unfortunately this isn't working.</p>
","","user330860","805808","","2011-09-26 16:49:22","2011-09-26 16:49:22","How to use Matlab data in R?","<r><matlab><import><matrix><export>","1","3","","","","CC BY-SA 3.0","4315181","4452","4452","r","404559","3625322","3607736","",""
"4316692","1","4317070","","2010-11-30 17:40:48","","21","20590","<p>I'm creating some maps from raster files using the ""raster"" package in R. I'd like to create comparison rasters, showing several maps side by side. It's important for this that the colour scales used are the same for all maps, regardless of the values in each map. For example, if map 1 has values from 0-1, and map 2 has values from 0-0.5, cells with a value of 0.5 should have the same colour on both maps.</p>

<p>For example:</p>

<ul>
<li>map 1 has values from 0 to 1</li>
<li>map 2 has values from 0 to 0.5</li>
<li>the colour goes from red (lowest) to green (highest)</li>
</ul>

<p>I would like a value of 0.5 to have the same colour in both maps (i.e. yellow, as halfway between red and green). The current behaviour is that it is yellow in map 1, and green in map 2.</p>

<p>I can't find a way to make this work. I can't see any way to set the range of pixel values to use with the plotting function. setMinMax() doesn't help (as 'plot' always calculates the values). Even trying to set the values by hand (e.g. g1@data@max &lt;- 10) doesn't work (these are ignored when plotting).</p>

<p>Finally, making a stack of the maps (which might be expected to plot everything on the same colour scale) doesn't work either - each map still has it's own colour scale.</p>

<p>Any thoughts on how to do this?</p>

<p>EDIT:</p>

<p>The solution I ended up using is:</p>

<pre><code>plot( d, col=rev( rainbow( 99, start=0,end=1 ) ), breaks=seq(min(minValue( d )),max(maxValue(d)),length.out=100) ) 
</code></pre>
","192720","","192720","","2010-11-30 18:59:26","2020-02-15 15:17:29","How can I create raster plots with the same colour scale in R","<r><maps><raster>","6","2","11","","","CC BY-SA 2.5","4316692","4452","4452","r","404559","3625322","3607736","",""
"4317170","1","4317491","","2010-11-30 18:32:21","","4","2140","<p>I would like to transform/modify the content of dataframe. Basically I have a dataframe like below: </p>

<pre><code>        bins      pval
1   2L:1:150 0.9224217
2 2L:151:300 0.9478824
3 2L:301:450 0.9671139
4 2L:451:600 0.9280847
5 2L:601:750 0.9698584
6 2L:751:900 0.9725379
</code></pre>

<p>And I would like to transform/modify into another dataframe like this, where I split the content of my ""bins"" column (first row) into 150 rows containing the same values. And so on for the second row. </p>

<pre><code>    chr  pos    pval
1   2L   1 0.9224217
2   2L   2 0.9224217
3   2L   3 0.9224217
4   2L   4 0.9224217
5   2L   5 0.9224217
...
150  2L   150 0.9224217
151  2L   151 0.9478824
152  2L   152 0.9478824
153  2L   153 0.9478824
etc...
</code></pre>

<p>Any help much appreciated, </p>

<p>Ben</p>
","525563","","3366929","","2014-08-24 03:46:41","2014-08-24 03:46:41","Modify the content of a dataframe in R","<r><dataframe><transform>","3","0","1","","","CC BY-SA 3.0","4317170","4452","4452","r","404559","3625322","3607736","",""
"4317452","1","4317569","","2010-11-30 19:05:21","","11","9801","<p>Having this data:</p>

<pre><code>&gt; data
 [1] 1290603356 1290603360 1290603350 1290603344 1290603340 1290603373
 [7] 1290603354 1290603359 1290603345 1290603363 1290603357 1290603354
[13] 1290603364 1290603349 1290603352 1290603365 1290603349 1290603343
[19] 1290603339 1290603343
&gt; offsets &lt;- c(0, 0.5,1,2,4,8,24,4*24,7*24) * 3600)
[1]   1800   3600   7200  14400  28800  86400 345600 604800
&gt; myoffsets &lt;- min(data)+offsets
</code></pre>

<p>being, a list of UNIX epochs and a list of offsets (0.5 hours, 1h, 2h, 4h...)
I want to be able to graph how many of the epochs are &lt;= than the min(data) + offset</p>

<p>In this example it would be</p>

<pre><code>1 20 20 20 20 20 20 20
</code></pre>

<p>I have found how to do this with a for loop:</p>

<pre><code>for(i in c(1:length(myoffsets))) myres$x[i] &lt;- length(data[data &lt;= myoffsets[i]])
</code></pre>

<p>But I'm sure there's a more idiomatic way if doing this that is not as convoluted?</p>
","525602","","429846","","2013-01-02 14:24:06","2013-01-02 14:24:06","How to count how many elements satisfy a condition in an idiomatic way?","<r>","2","0","","","","CC BY-SA 3.0","4317452","4452","4452","r","404559","3625322","3607736","",""
"4317485","1","4317654","","2010-11-30 19:08:45","","1","192","<p>I'm trying to create a pdf of a TukeyHSD post hoc test plot (through Sweave, but I've tried <code>pdf()</code>, too, yielding same result). While Document viewer (Ubuntu 10.04) and Acrobat Reader can't display the plot properly, Foxit reader has no problems. 
Acrobat Reader displays an error that the image can't be displayed and DV prints this... ""thing"" (it should have horizontal confidence interval bars and a vertical dotted line).</p>

<p><img src=""https://i.stack.imgur.com/1Ks7y.png"" alt=""alt text""></p>

<p>This happens only for TukeyHSD post hoc test plots, all other figures print just fine (plot prints fine in the R's plotting device). Has anyone experienced this or something similar? What are my other options?</p>
","322912","","","","","2010-11-30 19:27:44","having trouble with a specific plot using pdf()","<pdf><r><plot>","1","0","","","","CC BY-SA 2.5","4317485","4452","4452","r","404559","3625322","3607736","",""
"4318423","1","4331838","","2010-11-30 20:46:10","","4","743","<p>When I try to build a package with the following in my .Rbuildignore file, </p>

<pre><code>*pdf                                                                            
*Rdata  
</code></pre>

<p>I get the errors:</p>

<blockquote>
  <p>Warning in readLines(ignore_file) :
  incomplete final line found on '/home/user/project/.Rbuildignore'</p>
</blockquote>

<p>and</p>

<blockquote>
  <p>invalid regular expression '*pdf'</p>
</blockquote>

<p>I thought '*' was a wildcard for one or more characters?</p>
","199217","","","","","2010-12-02 04:59:19","Why doesn't '*' work as a perl regexp in my .Rbuildignore file?","<perl><r>","4","0","","","","CC BY-SA 2.5","4318423","4452","4452","r","404559","3625322","3607736","",""
"4318470","1","4318747","","2010-11-30 20:49:49","","3","2810","<p>This is really an extension of my <a href=""https://stackoverflow.com/questions/4309248/aggregate-by-week-in-r"">question</a> yesterday where I learned about <code>apply.weekly</code>. This works great, but I want to do this over wide <code>zoo</code> objects. If I use <code>apply.weekly</code> on a wide <code>zoo</code> it sums the columns, then performs the weekly aggregation:</p>

<pre><code>&gt; library(xts)
&gt; set.seed(2001)
&gt; zoo.daily &lt;- zoo(data.frame(a=rnorm(20), b=rnorm(20), c=rnorm(20)), order.by=as.Date(""2001-05-25"") + 0:19)
&gt; apply.weekly(zoo.daily, sum)
2001-05-27 2001-06-03 2001-06-10 2001-06-13 
  1.091999  -3.017688   3.842305   2.045370 
&gt; apply.weekly(zoo.daily[, 1] + zoo.daily[, 2] + zoo.daily[, 3], sum) 
2001-05-27 2001-06-03 2001-06-10 2001-06-13 
  1.091999  -3.017688   3.842305   2.045370 
</code></pre>

<p>I tried the <code>apply</code> family of operators, but those seem to strip out the <code>zoo</code> date index. I can do it in a <code>for</code> loop, but it's really time-consuming (much, much more than a factor of four slower than the <code>aggregate</code> function on <code>as.yearmon</code> periodicity). Here's the <code>for</code> loop:</p>

<pre><code>week.ends &lt;- index(zoo.daily[endpoints(zoo.daily, ""weeks"")[-1], ])
num.weeks &lt;- nweeks(zoo.daily)
num.stocks &lt;- ncol(zoo.daily)
zoo.weeks &lt;- zoo(matrix(NA, num.weeks, num.stocks), order.by=week.ends)
for (i in seq(num.stocks)) {
    zoo.weeks[, i] &lt;- apply.weekly(zoo.daily[, i], mean)
}
</code></pre>

<p>Which works (i.e., keeps each vector separate):</p>

<pre><code>2001-05-27 -0.36663040 -0.108648725  0.8392788
2001-06-03  0.33032998  0.003025018 -0.7644534
2001-06-10  0.07816992  0.620198931 -0.1494681
2001-06-13  0.02114608  0.956226189 -0.2955824
</code></pre>

<p>Is there a way to quickly operate on all columns with <code>apply.weekly</code>? Thanks!</p>

<p>UPDATE: Joshua Ulrich points out that I need a column aware function (like <code>colMeans</code> or <code>colSums</code>). When I do this, I get the correct answers, but as a transposed matrix. Should I just reclass and move on? Or do I have an option/setting wrong?</p>

<pre><code>&gt; apply.weekly(zoo.daily, colSums)
        [,1]        [,2]       [,3]        [,4]
a -1.0998912  2.31230989  0.5471894  0.06343824
b -0.3259462  0.02117512  4.3413925  2.86867857
c  2.5178365 -5.35117351 -1.0462765 -0.88674717
</code></pre>
","334755","","-1","","2017-05-23 10:26:32","2010-11-30 21:48:39","Quickly apply xts vector operations across wide zoo objects in R","<r><aggregate><apply><zoo><xts>","1","1","2","","","CC BY-SA 2.5","4318470","4452","4452","r","404559","3625322","3607736","",""
"4320542","1","4320665","","2010-12-01 01:51:20","","-1","126","<p>I want to write the results of a table into a file and names of my columns contain the '-' character, but when I write it to a file it replaces all the '-' by a '.'.</p>

<pre><code>function(Result,Path)
{
  Num&lt;-0
  for(i in 1:length(Result[,1]))
  {

    if(length(which([Result[i,]&gt;0))&gt;0)
    {
       temp&lt;-which(Result[i,]&gt;0)]
       val&lt;-paste(names(temp),sep=""\n"")
       write(val,file=paste(Path,""/Result"",Num,"".txt"",sep=""""))
       Num&lt;-Num+1
     }
  }
}
</code></pre>

<p>do any one know how to disable this option?</p>

<p>My column names are names of proteins some of them are written in this way YER060W-A</p>

<p>Thank you in advance.</p>
","501507","","13302","","2017-03-26 21:09:20","2017-03-26 21:09:20","How to disable R from changing the ""-"" character into '.' character when writing to a file?","<r>","1","1","0","","","CC BY-SA 3.0","4320542","4452","4452","r","404559","3625322","3607736","",""
"4320980","1","4321192","","2010-12-01 03:40:13","","3","4174","<p>I have a data frame containing data about student lateness to various classes. Each row contains data about a late student and his class: date and time of the class, name of the class, class size, number of minutes late, and the gender of the student. In order to get the total percentage of late students for all classes, I need to count the number of rows (late students) and compare that with the total number of students that attended class.</p>

<p>I can't simply sum the class sizes for all of the rows; that would count the students of a given class several times, once for each late student in the class. Instead, I need to count each class size only once for each meeting of the class. </p>

<h3>Example</h3>

<p>Key: minutes late, class name, students in attendance, gender of tardy student, minutes late.</p>

<pre><code>11/12/10 Stats 30 M 1
11/12/10 Stats 30 M 1
11/12/10 Stats 30 M 1
11/15/10 Stats 40 F 3
11/15/10 Stats 40 F 3
11/15/10 Stats 40 F 3
11/16/10 Radar 22 M 2
11/16/10 Radar 22 M 2
11/16/10 Radar 22 M 2
11/16/10 Radar 22 M 2
11/16/10 Radar 22 M 2
</code></pre>

<p>In this case, there are three different class meetings and 11 late students. How could I make sure each class meeting's class size is only counted once?</p>
","156787","","","","","2010-12-01 17:26:01","Group rows by attributes","<r><filter><dataframe>","4","0","2","","","CC BY-SA 2.5","4320980","4452","4452","r","404559","3625322","3607736","",""
"4322219","1","4329527","","2010-12-01 07:47:18","","97","47018","<p>For example (not sure if most representative example though):</p>

<pre><code>N &lt;- 1e6
d1 &lt;- data.frame(x=sample(N,N), y1=rnorm(N))
d2 &lt;- data.frame(x=sample(N,N), y2=rnorm(N))
</code></pre>

<p>This is what I've got so far:</p>

<pre><code>d &lt;- merge(d1,d2)
# 7.6 sec

library(plyr)
d &lt;- join(d1,d2)
# 2.9 sec

library(data.table)
dt1 &lt;- data.table(d1, key=""x"")
dt2 &lt;- data.table(d2, key=""x"")
d &lt;- data.frame( dt1[dt2,list(x,y1,y2=dt2$y2)] )
# 4.9 sec

library(sqldf)
sqldf()
sqldf(""create index ix1 on d1(x)"")
sqldf(""create index ix2 on d2(x)"")
d &lt;- sqldf(""select * from d1 inner join d2 on d1.x=d2.x"")
sqldf()
# 17.4 sec
</code></pre>
","490700","","202229","","2012-11-07 10:38:08","2015-11-28 20:14:49","What's the fastest way to merge/join data.frames in R?","<performance><r><join><merge><data.table>","5","3","69","","","CC BY-SA 2.5","4322219","4452","4452","r","404559","3625322","3607736","",""
"4322559","1","4323638","","2010-12-01 08:45:49","","41","18040","<p>I've been a long time user of R and have recently started working with Python. Using conventional RDBMS systems for data warehousing, and R/Python for number-crunching, I feel the need now to get my hands dirty with Big Data Analysis.</p>

<p>I'd like to know how to get started with Big Data crunching.
- How to start simple with Map/Reduce and the use of Hadoop</p>

<ul>
<li>How can I leverage my skills in R and Python to get started with Big Data analysis. Using the Python Disco project for example.</li>
<li>Using the RHIPE package and finding toy datasets and problem areas.</li>
<li>Finding the right information to allow me to decide if I need to move to NoSQL from RDBMS type databases</li>
</ul>

<p>All in all, I'd like to know how to start small and gradually build up my skills and know-how in Big Data Analysis.</p>

<p>Thank you for your suggestions and recommendations.
I apologize for the generic nature of this query, but I'm looking to gain more perspective regarding this topic.</p>

<ul>
<li>Harsh</li>
</ul>
","177390","","516740","","2012-09-25 16:34:39","2016-05-30 22:49:23","How to get started with Big Data Analysis","<python><r><hadoop><bigdata>","2","1","37","2016-05-30 23:26:28","","CC BY-SA 2.5","4322559","4452","4452","r","404559","3625322","3607736","",""
"4324313","1","4324468","","2010-12-01 12:24:43","","3","1019","<p>I have this code:</p>

<pre><code>x &lt;- rnorm(10)
print(x)
</code></pre>

<p>is returning as output:</p>

<pre><code>[1] -0.67604293 -0.49002147  1.50190943  0.48438935 -0.17091949  0.39868189
[7] -0.57922386 -0.08172699 -0.82327067  0.07005629
</code></pre>

<p>I suppose that R is having a limit of characters per line or something and that is why is splitting the result in 2 lines. I am building a service based on the output of R.</p>

<p>What should I do in order to get it in one line?</p>
","95353","","","","","2010-12-02 10:10:15","controlling R output","<r>","3","2","2","","","CC BY-SA 2.5","4324313","4452","4452","r","404559","3625322","3607736","",""
"4327457","1","4327531","","2010-12-01 18:00:20","","5","10129","<p>I am having trouble to build a dummy testing package for R on windows. 
for testing purpose,in R terminal, I input: </p>

<pre><code>a=rnorm(10)
package.skeleton(""pkgtest"")
</code></pre>

<p>then I run <code>R CMD check pkgtest</code> on this dummy package and got error like</p>

<pre><code>* using R version 2.12.0 (2010-10-15)
* using platform: i386-pc-mingw32 (32-bit)
* using session charset: ISO8859-1
* checking for file 'pkgtest/DESCRIPTION' ... OK
* checking extension type ... Package
* this is package 'pkgtest' version '1.0'
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking for executable files ... OK
* checking whether package 'pkgtest' can be installed ... ERROR Installation failed.
</code></pre>

<p><strong>EDIT</strong>,The full log file:</p>

<pre><code>* installing *source* package 'pkgtest' ...
** libs
cygwin warning:
  MS-DOS style path detected: C:/R/R-212~1.0/etc/i386/Makeconf
  Preferred POSIX equivalent is: /cygdrive/c/R/R-212~1.0/etc/i386/Makeconf
  CYGWIN environment variable option ""nodosfilewarning"" turns off this warning.
  Consult the user's guide for more details about POSIX paths:
    http://cygwin.com/cygwin-ug-net/using.html#using-pathnames
ERROR: compilation failed for package 'pkgtest'
`* removing 'C:/DOCUME~1/xxxx'` 
</code></pre>

<p>That is all. I have a data <code>a</code> in the data folder, so it is not empty. The Rd file can actually compile to pdf by <code>Rcmd rd2pdf</code>, its title is not empty. </p>

<p>did I missing something very basic for this error? I Have Rtools2.12 installed. I even have package <code>inline</code> and <code>Rcpp</code> intalled and running examples fine. 
To test my R environment setup, I downloaded Rcpp source package and did a <code>R cmd check</code> on <code>Rcpp</code>, it went fine. </p>
","526952","","526952","","2010-12-01 18:20:06","2010-12-01 18:20:06","build R pacakge for windows -ERROR: compilation failed for package xxx","<r>","2","2","1","","","CC BY-SA 2.5","4327457","4452","4452","r","404559","3625322","3607736","",""
"4328837","1","4329371","","2010-12-01 20:33:53","","7","8049","<p>I am trying to generate a random graph that has small-world properties (exhibits a power law distribution). I just started using the networkx package and discovered that it offers a variety of random graph generation. Can someone tell me if it possible to generate a graph where a given node's degree follows a gamma distribution (either in R or using python's networkx package)?</p>
","184046","","","","","2017-07-26 11:09:21","Generating a graph with certain degree distribution?","<python><algorithm><r><graph><networkx>","4","0","7","","","CC BY-SA 2.5","4328837","4452","4452","r","404559","3625322","3607736","",""
"4329635","1","","","2010-12-01 22:05:20","","7","60501","<p>I imported data from a .csv file, and attached the dataset.<br>
My problem:  one variable is in integer form and has 295 levels. I need to use this variable to create others, but I don't know how to deal with the levels.</p>

<p>What are these, and how do I deal with them?</p>
","446667","","3924108","","2020-01-10 16:58:39","2020-01-10 16:58:39","Levels in R Dataframe","<r><dataframe><levels>","4","4","","","","CC BY-SA 3.0","4329635","4452","4452","r","404559","3625322","3607736","",""
"4330072","1","4330140","","2010-12-01 23:08:16","","22","31394","<p>Is there any way to pass a variable defined within R to the sqlQuery function within the RODBC package?</p>

<p>Specifically, I need to pass such a variable to either a scalar/table-valued function, a stored procedure, and/or perhaps the WHERE clause of a SELECT statement.</p>

<p>For example, let:</p>

<pre><code>x &lt;- 1 ## user-defined
</code></pre>

<p>Then,</p>

<pre><code>example &lt;- sqlQuery(myDB,""SELECT * FROM dbo.my_table_fn (x)"")
</code></pre>

<p>Or...</p>

<pre><code>example2 &lt;- sqlQuery(myDB,""SELECT * FROM dbo.some_random_table AS foo WHERE foo.ID = x"")
</code></pre>

<p>Or...</p>

<pre><code>example3 &lt;- sqlQuery(myDB,""EXEC dbo.my_stored_proc (x)"")
</code></pre>

<p>Obviously, none of these work, but I'm thinking that there's something that enables this sort of functionality.</p>
","489426","","680068","","2016-11-11 07:39:52","2017-10-30 20:06:47","Pass R variable to RODBC's sqlQuery?","<sql><r><rodbc>","4","1","14","2017-10-30 20:06:17","","CC BY-SA 3.0","4330072","4452","4452","r","404559","3625322","3607736","",""
"4331386","1","","","2010-12-02 03:29:59","","2","1794","<p>I am trying to perform a co-integration test on two stocks, using data from Yahoo Finance. From what I have been reading there are less complicated ways to retrieve Yahoo data. I need to retrieve two securities and define them as <code>stk1</code> and <code>stk2</code> as well as be able to adjust the time frame of the data retrieved. Here is what I have so far.</p>

<pre><code>library(zoo)            
library(tseries)        

# Read the CSV files into data frames
stk1 &lt;- read.csv(""http://ichart.finance.yahoo.com/table.csv?s=CAT&amp;a=8&amp;b=1&amp;c=2009&amp;d=12&amp;e=31&amp;f=2010&amp;g=d&amp;ignore=.csv"", stringsAsFactors=F)
stk2 &lt;- read.csv(""http://ichart.finance.yahoo.com/table.csv?s=DD&amp;a=8&amp;b=1&amp;c=2009&amp;d=12&amp;e=31&amp;f=2010&amp;g=d&amp;ignore=.csv"", stringsAsFactors=F)

# The first column contains dates. as.Date converts strings into Date objects
stk1_dates &lt;- as.Date(stk1[,1])
stk2_dates &lt;- as.Date(stk2[,1])

# The seventh column contains the adjusted close. We use the zoo function to
# create zoo objects from that data. The function takes two arguments: a
# vector of data and a vector of dates.
stk1 &lt;- zoo(stk1[,7], stk1_dates)
stk2 &lt;- zoo(stk2[,7], stk2_dates)

# The merge function combines two (or more) zoo objects,
# computing either their intersection (all=FALSE) or union (all=TRUE).
t.zoo &lt;- merge(stk1, stk2, all=FALSE)

# At this point, t.zoo is a zoo object with two columns: stk1 and stk2.
# Most statistical functions expect a data frame for input, so we convert.
t &lt;- as.data.frame(t.zoo)

# Tell the user what dates are spanned by the data.
cat(""Date range is"", format(start(t.zoo)), ""to"", format(end(t.zoo)), ""\n"")

m &lt;- lm(stk1 ~ stk2 + 0, data=t)
beta &lt;- coef(m)[1]
cat(""Assumed hedge ratio is"", beta, ""\n"")

sprd &lt;- t$stk1 - beta*t$stk2
ht &lt;- adf.test(sprd, alternative=""stationary"", k=0)
cat(""ADF p-value is"", ht$p.value, ""\n"")

if (ht$p.value &lt; 0.05) {
    cat(""The spread is likely mean-reverting\n"")
} else {
    cat(""The spread is not mean-reverting.\n"")
}
</code></pre>

<p>What tools exist to make this easier and/or more robust?</p>
","527471","","271616","","2012-08-31 03:32:13","2012-08-31 03:32:13","Testing cointegration of two stocks using Yahoo Finance data","<r><yahoo><zoo><quantmod>","1","3","1","","","CC BY-SA 3.0","4331386","4452","4452","r","404559","3625322","3607736","",""
"4332274","1","4332332","","2010-12-02 06:22:41","","13","65857","<p>I'm looking for a way to plot a bar chart containing two different series, hide the bars for one of the series and instead have a line (smooth if possible) go through the top of where bars for the hidden series would have been (similar to how one might overlay a freq polynomial on a histogram).  I've tried the example below but appear to be running into two problems.</p>

<p>First, I need to summarize (total) the data by group, and second, I'd like to convert one of the series (df2) to a line.</p>

<pre><code>df &lt;- data.frame(grp=c(""A"",""A"",""B"",""B"",""C"",""C""),val=c(1,1,2,2,3,3))  
df2 &lt;- data.frame(grp=c(""A"",""A"",""B"",""B"",""C"",""C""),val=c(1,4,3,5,1,2))  
ggplot(df, aes(x=grp, y=val)) +   
    geom_bar(stat=""identity"", alpha=0.75) +  
    geom_bar(data=df2, aes(x=grp, y=val), stat=""identity"", position=""dodge"")
</code></pre>
","338714","","4606130","","2016-07-31 12:30:58","2016-07-31 12:30:58","How can a line be overlaid on a bar plot using ggplot2?","<r><ggplot2>","2","0","7","","","CC BY-SA 3.0","4332274","4452","4452","r","404559","3625322","3607736","",""
"4332327","1","4333685","","2010-12-02 06:32:35","","11","6393","<p>I used model fitting to fit the negative binomial distribution to my discrete data. As a final step it looks like I need to perform a Kolmogrov-Smirnov test to determine if the model fits the data well. All the references I could find talk about using the test for <strong><em>normally</em></strong> distributed <strong><em>continuous</em></strong> data. Can someone tell me if this can be done in R for data that is not normally distributed and discrete? (Even a chi-square test should do I'm guessing but please correct me if I'm wrong.)</p>

<p><strong>UPDATE:</strong></p>

<p>So I found that the <code>vcd</code> package contains a function <code>goodfit</code> that can be used for this purpose in the following way:</p>

<pre><code>library(vcd)

# Define the data
data &lt;- c(67, 81, 93, 65, 18, 44, 31, 103, 64, 19, 27, 57, 63, 25, 22, 150,
          31, 58, 93, 6, 86, 43, 17, 9, 78, 23, 75, 28, 37, 23, 108, 14, 137,
          69, 58, 81, 62, 25, 54, 57, 65, 72, 17, 22, 170, 95, 38, 33, 34, 68,
          38, 117, 28, 17, 19, 25, 24, 15, 103, 31, 33, 77, 38, 8, 48, 32, 48,
          26, 63, 16, 70, 87, 31, 36, 31, 38, 91, 117, 16, 40, 7, 26, 15, 89,
          67, 7, 39, 33, 58)

gf &lt;- goodfit(data, type = ""nbinomial"", method = ""MinChisq"") 
plot(gf)
</code></pre>

<p>But after the <code>gf &lt;- ...</code> step, R complains saying:</p>

<pre><code>Warning messages:
1: In pnbinom(q, size, prob, lower.tail, log.p) : NaNs produced
2: In pnbinom(q, size, prob, lower.tail, log.p) : NaNs produced
3: In pnbinom(q, size, prob, lower.tail, log.p) : NaNs produced
</code></pre>

<p>and when I say <code>plot</code> it complains:</p>

<pre><code>Error in xy.coords(x, y, xlabel, ylabel, log) : 
  'x' is a list, but does not have components 'x' and 'y'
</code></pre>

<p>I am not sure what is happening because if I set <code>data</code> to be the following:</p>

<pre><code>data &lt;- &lt;- rnbinom(200, size = 1.5, prob = 0.8)
</code></pre>

<p>everything works fine. Any suggestions?</p>
","184046","","184046","","2010-12-02 07:14:53","2010-12-03 10:22:22","Kolmogorov-Smirnov or a Chi-Square test for a distribution?","<r><statistics>","1","2","3","","","CC BY-SA 2.5","4332327","4452","4452","r","404559","3625322","3607736","",""
"4332976","1","4335739","","2010-12-02 08:16:22","","10","11990","<p>As question, I found that I can use <code>.import</code> in sqlite shell, but seems it is not working in R environment, any suggestions?</p>
","373908","","2204410","","2017-09-01 13:50:30","2017-09-01 13:50:30","How to import CSV into sqlite using RSqlite?","<sqlite><r><import>","2","0","9","","","CC BY-SA 3.0","4332976","4452","4452","r","404559","3625322","3607736","",""
"4333085","1","","","2010-12-02 08:34:23","","9","1535","<p>I like the syntax highlight style scheme used for R scripts in github and I would like to get it to my gedit editor. Where could I get it?</p>
","459920","","37751","","2010-12-02 12:46:42","2014-08-16 06:33:22","Github syntax highlight style scheme for Gedit?","<r><github><syntax-highlighting><gedit>","3","0","2","","","CC BY-SA 2.5","4333085","4452","4452","r","404559","3625322","3607736","",""
"4333094","1","4333674","","2010-12-02 08:37:00","","14","7132","<p>I liked Python before because Python has rich built-in types like sets, dicts, lists, tuples. These structures help write short scripts to process data. </p>

<p>On the other side, R is like Matlab, and has scalar, vector, data frame, array and list as its data types. But it lacks sets, dicts, tuples, etc. I know that list type is powerful, a lot of operations could be thought as list processing. But the idea of using R as a general purpose language is still vague. </p>

<p>(The following is just <strong>an example</strong>. Not mean that I focus on text processing/mining.)</p>

<p>For example, I need to do TF-IDF counting for a set of news articles (say 200,000 articles in a folder and its sub folders). </p>

<p>After I read the files, I need to do word-to-ID mapping and other counting tasks. These tasks involve string manipulation and need containers like set or map. </p>

<p>I know I can use another language to do these processing and load the data into R. But maybe (for small things) putting all preprocessing into a single R script is better. </p>

<p>So my question is does R have enough capability in this kind of rich data structures in the language level? Or If not, any packages provide good extension for R language?</p>
","183828","","183828","","2010-12-02 12:01:56","2010-12-08 20:33:50","R as a general purpose programming language","<python><r><wiki><language-features>","3","3","14","2018-01-05 19:07:40","","CC BY-SA 2.5","4333094","4452","4452","r","404559","3625322","3607736","",""
"4333171","1","4333501","","2010-12-02 08:49:58","","2","4107","<p>Greetings,</p>

<p>My goal is to create a Markov transition matrix (probability of moving from one state to another) with the 'highest traffic' portion of the matrix occupying the top-left section. Consider the following sample:</p>

<pre><code>inputData &lt;- c(
    c(5, 3, 1, 6, 7),
    c(9, 7, 3, 10, 11),
    c(1, 2, 3, 4, 5),
    c(2, 4, 6, 8, 10),
    c(9, 5, 2, 1, 1)
    )

MAT &lt;- matrix(inputData, nrow = 5, ncol = 5, byrow = TRUE)
colnames(MAT) &lt;- c(""A"", ""B"", ""C"", ""D"", ""E"")
rownames(MAT) &lt;- c(""A"", ""B"", ""C"", ""D"", ""E"")

rowSums(MAT)
</code></pre>

<p>I wan to re-arrange the elements of this matrix such that the elements with the largest row sums are placed to the top-left, in descending order. Does this make sense? In this case the order I'm looking for would be B, D, A, E, C Any thoughts?</p>

<p>As an aside, here is the function I've written to construct the transition matrix. Is there a more elegant way to do this that doesn't involve a double transpose?</p>

<pre><code>TMAT &lt;- apply(t(MAT), 2, function(X) X/sum(X))
TMAT &lt;- t(TMAT)
</code></pre>

<p>I tried the following:</p>

<pre><code>TMAT &lt;- apply(MAT, 1, function(X) X/sum(X))
</code></pre>

<p>But my the custom function is still getting applied over the columns of the array, rather than the rows. For a check try:</p>

<pre><code>rowSums(TMAT)
colSums(TMAT)
</code></pre>

<p>Row sums here should equal 1...</p>

<p>Many thanks in advance,
Aaron </p>
","375267","","","","","2010-12-02 09:43:34","Arrange elements on a matrix according to rowSums + short 'apply' Q","<r>","2","0","","","","CC BY-SA 2.5","4333171","4452","4452","r","404559","3625322","3607736","",""
"4333798","1","4333848","","2010-12-02 10:17:46","","4","11616","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/3502925/include-files-r"">Include files R?</a>  </p>
</blockquote>



<p>I cannot find useful documentation about an R file including another R file. R is a very short word is ignored by search engines.</p>

<p>I have file.R and include.R and I want to do something like this:</p>

<pre><code>// in include.R I want to load libraries
library(phpSerialize)

// in file.R include the previous file and use directly the given library
include(include.R)

x = rnorm(10)
y =  phpSerialize(x)
</code></pre>
","95353","","-1","","2017-05-23 11:54:26","2010-12-02 14:04:04","how to do R includes","<r>","2","6","1","2010-12-05 07:08:58","","CC BY-SA 2.5","4333798","4452","4452","r","404559","3625322","3607736","",""
"4337170","1","","","2010-12-02 16:18:03","","3","3885","<pre><code>Name of member Allowance Type             Expenditure Type  Date          Amount, 

Adam Afriyie Office running costs (IEP/AOE) Incidentals     07/03/2009 111.09
Adam Afriyie Office running costs (IEP/AOE) Incidentals     11/05/2009 111.09
Adam Afriyie Office running costs (IEP/AOE) Incidentals     11/05/2009 51.75
Adam Holloway   Office running costs (IEP/AOE)  Incidentals  10/01/2009  35
Adam Holloway   Office running costs (IEP/AOE)  Incidentals  10/01/2009  413.23
Adam Holloway   Office running costs (IEP/AOE)  Incidentals  10/01/2009  9.55
Adam Holloway   Office running costs (IEP/AOE   IT equipment 07/03/2009 890.01
Adam Holloway   Communications Expenditure   Publications   12/04/2009  1774
Adam Holloway   Office running costs (IEP/AOE)  Incidentals  12/08/2009  1.1
Adam Holloway   Office running costs (IEP/AOE   Incidentals  12/08/2009  64.31
Adam Holloway   Office running costs (IEP/AOE)  Incidentals  12/08/2009  64.31
</code></pre>

<p>Hi im new to R and new to programming.  This is a subset of the MP's expenses during a certain time period.  I want to subtotal each MP's expenses and i used the code from another post</p>

<pre><code>&gt; aggregate(cbind(bsent, breturn, tsent, treturn, csales) ~ yname, data = foo, 
 +           FUN = sum)
</code></pre>

<p>and edited it to my own situation.</p>

<p>my code:</p>

<pre><code>expenses2 &lt;- aggregate(cbind(Amount...) ~ Name.of.member, data = expenses, FUN = sum)
</code></pre>

<p>now although this code does do some sort of aggregation the numbers do not match up.  for example one can calculate that Adam Afriyie's expenses are 273.93 however this code gives a result of 12697.  I have no idea what this number represents.  Can someone help me and tell me what im doing wrong??   </p>

<p>Thank you in advance</p>
","528132","","166686","","2010-12-02 18:04:15","2010-12-03 02:50:34","Calculating subtotals in R","<r><aggregate><subtotal>","3","3","","","","CC BY-SA 2.5","4337170","4452","4452","r","404559","3625322","3607736","",""
"4338325","1","4338430","","2010-12-02 18:13:44","","5","501","<p>I would like to state the row/col output names in a <code>**ply</code> function, <code>ldply</code>, from the plyr package. </p>

<p>for example, </p>

<p>I have a list, <code>foo</code>, that I want to convert to a <code>data.frame</code> and truncate significant digits with <code>signif()</code></p>

<pre><code> foo &lt;- list(var.a = runif(3), var.b = runif(3), var.c=runif(3))
</code></pre>

<p>What I have now is </p>

<pre><code>q &lt;- ldply(foo, signif, 2)
colnames(dq)[1] &lt;- c('id', 'q1', 'q2','q3')
rownames(dq) &lt;- dq$id
</code></pre>

<p>Is there an easier way?</p>

<p>Two previous questions have asked how to use plyr to rename <a href=""https://stackoverflow.com/questions/2187448/how-do-i-use-plyr-to-number-rows"">rows</a> and <a href=""https://stackoverflow.com/questions/1395271/renaming-the-output-column-with-the-plyr-package-in-r"">cols</a> using plyr, but I think my question is different. Can the names be stated at the same time as another function (or if I am doing this correctly)? Is this a worthwhile feature request?</p>
","199217","","-1","","2017-05-23 11:44:00","2010-12-04 22:12:51","How can I rename the output rows/cols of **ply functions from plyr?","<r><plyr>","1","0","2","","","CC BY-SA 2.5","4338325","4452","4452","r","404559","3625322","3607736","",""
"4338620","1","4339191","","2010-12-02 18:46:06","","3","1243","<p>I have the following data and I want to calculate the total number of minutes and I was wondering if its possible to split the column into two with Minutes in one column and seconds in another column?</p>

<pre><code>&gt; q
       time
1   0m 22s 
2    1m 7s 
3   3m 35s 
4  11m 43s 
5    1m 8s 
6   2m 21s 
7   9m 33s 
8   0m 56s 
9    0m 2s 
10   0m 2s 
11  0m 50s 
12  0m 25s 
13  0m 33s 
14  2m 26s 
15  0m 20s 
16  1m 47s 
17  0m 36s 
18   0m 3s 
19   0m 2s 
20   0m 5s 
</code></pre>

<p>==>
To give:</p>

<pre><code>&gt; q
    min    seconds
1   0     22
2   1     7
</code></pre>

<p>etc</p>
","380111","","","","","2010-12-04 23:08:08","R split column depending on values","<r>","3","0","1","","","CC BY-SA 2.5","4338620","4452","4452","r","404559","3625322","3607736","",""
"4338900","1","4339102","","2010-12-02 19:20:13","","10","6395","<p>R can generate a spline function using splinefun() in the splines library. However, I need to evaluate this function at its first and second derivatives. Is there a way to do this? </p>

<p>for example</p>

<pre><code>library(splines)
x &lt;- 1:10
y &lt;- sin(pi/x) #just an example
f_of_x &lt;- splinefun(x,y)
</code></pre>

<p>How can I evaluate f'(x) for a vector of x's?</p>
","199217","","199217","","2013-05-13 20:19:35","2013-05-13 20:19:35","how can I evaluate the derivative of a spline function in R?","<r><numerical-methods><spline>","3","0","3","","","CC BY-SA 3.0","4338900","4452","4452","r","404559","3625322","3607736","",""
"4339077","1","4339192","","2010-12-02 19:40:09","","1","1290","<p>I have now rewriten my problem to make it clearer</p>

<p>I want to replace a condition like this where var is a variable in dataframe (dataframe$var) with a paste or other solution as I do have so many condition values(?) (a, b and c  in my example).</p>

<pre><code>subdataframe&lt;-dataframe[var==""a""|var==""b""|var==""c"",]
</code></pre>

<p>I have tried to make a list(?) of the condtion values.</p>

<pre><code>sample&lt;-c(""a"",""b"",""c"")
</code></pre>

<p>And to then use paste to make the logical condition</p>

<pre><code>subdataframe&lt;-dataframe[paste(""var"",sample,sep=""=="",collapse=""|""),]
</code></pre>

<p>But that doesn't work</p>

<p>Help please =)</p>

<p>Marcus</p>
","528493","","528493","","2010-12-02 22:19:28","2010-12-02 22:19:28","Paste logical conditions in R","<r>","2","4","","","","CC BY-SA 2.5","4339077","4452","4452","r","404559","3625322","3607736","",""
"4340568","1","4340656","","2010-12-02 22:19:06","","0","532","<p>I have a data set, dat, which was got from a model run.</p>

<p>The head of the dataset looks like this:</p>

<pre><code>[[1]]

[1] -1

[[2]]

[2] -2

[[3]]

[3] -1

[[4]]

[4] 0

[[5]]

[5] -6

[[6]]

[6] -7
</code></pre>

<p>How can I convert dat to a simple data frame with a single column like this</p>

<pre><code>-1
-2
-1
0
-6
-7
</code></pre>

<p>Thanks</p>

<p>Dan</p>
","467243","","168747","","2010-12-04 22:36:19","2010-12-04 22:36:19","Convert data format in R","<r>","2","0","","","","CC BY-SA 2.5","4340568","4452","4452","r","404559","3625322","3607736","",""
"4341052","1","4349313","","2010-12-02 23:24:29","","28","15945","<p>How can I plot a very large data set in R? </p>

<p>I'd like to use a boxplot, or violin plot, or similar. All the data cannot be fit in memory. Can I incrementally read in and calculate the summaries needed to make these plots? If so how?</p>
","528706","","528706","","2015-11-10 19:09:43","2018-11-01 22:31:33","Plotting of very large data sets in R","<r><plot><large-data-volumes>","8","7","12","","","CC BY-SA 3.0","4341052","4452","4452","r","404559","3625322","3607736","",""
"4341157","1","","","2010-12-02 23:39:06","","5","4546","<p>The following is a toy problem that demonstrates my question.  </p>

<p>I have a data frame that contains a bunch of employees; for each employee, it has a name, salary, gender and state.  </p>

<pre><code>aggregate(salary ~ state)  # Returns the average salary per state
aggregate(salary ~ state + gender, data, FUN = mean)  # Avg salary per state/gender
</code></pre>

<p>What I actually need is a summary of the fraction of the total salary earned by women in each state.  </p>

<pre><code>aggregate(salary ~ state + gender, data, FUN = sum)  
</code></pre>

<p>returns the total salary earned by women (and men) in each state ,but what I really need is salary_w / salary_total on a per-state level.  I can write a for-loop, etc -- but I am wondering if there is some way to use aggregate to do that.</p>
","74493","","","","","2014-01-13 15:46:05","Aggregate or summarize to get ratios","<r><aggregate>","6","1","3","","","CC BY-SA 2.5","4341157","4452","4452","r","404559","3625322","3607736","",""
"4347634","1","4347943","","2010-12-03 16:29:46","","10","4036","<p><code>xtable</code> in <code>Sweave</code> works awesome, but does one table per regression. You can feed it a data frame, too, so I have been manually <code>rbind</code>ing and <code>paste</code>ing results into data frames, but that doesn't seem very scalable.</p>

<p>Is there a more automated/robust solution that works like <code>xtable</code>, but on multiple <code>lm</code> objects? Are all of the tables that I see in papers/books generated manually? Is there a better solution to my janky code that generates a data frame to feed to <code>xtable</code>?</p>

<pre><code>    library(reshape2)

    data &lt;- data.frame(matrix(rnorm(50), 10, 5))
    names(data) &lt;- letters[1:5]
    l.raw &lt;- list()
    l.raw[[""a""]] &lt;- lm(a ~ d + e, data=data)
    l.raw[[""b""]] &lt;- lm(b ~ d + e, data=data)
    l.raw[[""c""]] &lt;- lm(c ~ d + e, data=data)

    form.table.from.lm &lt;- function(l.raw) {
    summ &lt;- list()

    for (i in names(l.raw)) {
        temp &lt;- coef(summary(l.raw[[i]]))
        summ[[i]] &lt;- data.frame(param=rownames(temp), test=i, temp)
    }

    df.res &lt;- do.call(""rbind"", summ)
    df.res &lt;- transform(df.res, t.value = paste(""("", signif(t.value), "")"", sep=""""), Estimate = signif(Estimate))
    df.res.long &lt;- melt(df.res, id.vars=c(""test"", ""param""))
    df.res.wide &lt;- dcast(df.res.long, test + variable ~ param)

    temp &lt;- subset(df.res.wide, variable %in% c(""Estimate"", ""t.value""))
    df.res &lt;- temp[, -2]
    df.res[, 1] &lt;- as.vector(rbind(names(l.raw), """"))
    colnames(df.res)[1] &lt;- ""regressor""
    return(df.res)
}
</code></pre>

<p>Which produces data frame:</p>

<pre><code>   regressor (Intercept)          d          e
1          a    0.393996  -0.666721   0.159508
2             (0.573926) (0.422125) (0.526446)
5          b    0.611077  0.0288942   -0.70033
6              (0.32696)  (0.24048) (0.299911)
9          c   -0.101033  -0.287821    0.14581
10            (0.203193) (0.149449) (0.186383)
</code></pre>

<p>Given the amazing plotting packages for R, I feel like google and rseek are hiding something from me. </p>
","334755","","334755","","2010-12-03 20:19:08","2018-08-03 12:55:44","Combining several regression tables into one for use in xtable with Sweave in R","<r><sweave><xtable>","6","0","6","","","CC BY-SA 2.5","4347634","4452","4452","r","404559","3625322","3607736","",""
"4349595","1","","","2010-12-03 20:32:01","","10","1983","<p>I'm using R's <code>ff</code> package and I've got some <code>ffdf</code> objects (dimensions around 1.5M x 80) that I need to work with.  I'm having some trouble getting my head around the efficient slicing/dicing operations though.</p>

<p>For instance I've got two integer columns named ""YEAR"" and ""AGE"", and I want to make a table of AGE when the YEAR is 2005.</p>

<p>One approach is this:</p>

<pre><code>ffwhich &lt;- function(x, expr) {
  b &lt;- bit(nrow(x))
  for(i in chunk(x)) b[i] &lt;- eval(substitute(expr), x[i,])
  b
}
bw &lt;- ffwhich(a.fdf, YEAR==1999)
answer &lt;- table(a.fdf[bw, ""AGE""])
</code></pre>

<p>The <code>table()</code> operation is fast but building the bit vector is quite slow.  Anyone have any recommendations for doing this better?</p>
","169947","","","user1600826","2014-03-03 09:59:15","2014-03-03 09:59:15","Subsetting ffdf objects in R","<r><ff>","3","0","3","","","CC BY-SA 2.5","4349595","4452","4452","r","404559","3625322","3607736","",""
"4350131","1","4350522","","2010-12-03 21:43:43","","5","2997","<p>I have a 5gig csv file (also as a sas datafile, if it would be easier) which I need to put into a sql database so I can work with it in R.</p>

<p>The variables names are all contained in the first observation line and are double quoted. There are 1000+ variables some of numeric others character (though some of the character variables are strings of numerals, but I'm not too worried about it I can fix it in R).</p>

<p>My question is how can I import the csv file into a new table in my database with minimal pain?</p>

<p>I've found things saying to create your table first (which includes specifying all the variables, of which I have 1000+) and then using "".import file table"" to bring in the data.
Or, to use some gui import wizard, which is not an option for me.</p>

<p>Sorry if this is sql 101 but thanks for the help.</p>
","529900","","","","","2010-12-03 22:40:03","UNIX Importing LARGE csv into SQLite","<sqlite><r><csv><sas>","2","4","4","","","CC BY-SA 2.5","4350131","4452","4452","r","404559","3625322","3607736","",""
"4350440","1","4351918","","2010-12-03 22:29:15","","274","450675","<p>I'd like to take data of the form</p>

<pre><code>before = data.frame(attr = c(1,30,4,6), type=c('foo_and_bar','foo_and_bar_2'))
  attr          type
1    1   foo_and_bar
2   30 foo_and_bar_2
3    4   foo_and_bar
4    6 foo_and_bar_2
</code></pre>

<p>and use <code>split()</code> on the column ""<code>type</code>"" from above to get something like this:</p>

<pre><code>  attr type_1 type_2
1    1    foo    bar
2   30    foo  bar_2
3    4    foo    bar
4    6    foo  bar_2
</code></pre>

<p>I came up with something unbelievably complex involving some form of <code>apply</code> that worked, but I've since misplaced that. It seemed far too complicated to be the best way. I can use <code>strsplit</code> as below, but then unclear how to get that back into 2 columns in the data frame.</p>

<pre><code>&gt; strsplit(as.character(before$type),'_and_')
[[1]]
[1] ""foo"" ""bar""

[[2]]
[1] ""foo""   ""bar_2""

[[3]]
[1] ""foo"" ""bar""

[[4]]
[1] ""foo""   ""bar_2""
</code></pre>

<p>Thanks for any pointers. I've not quite groked R lists just yet.</p>
","315062","","3001626","","2018-06-03 07:37:08","2020-01-04 02:28:37","Split data frame string column into multiple columns","<r><string><dataframe><split><r-faq>","15","0","113","","","CC BY-SA 4.0","4350440","4452","4452","r","404559","3625322","3607736","",""
"4351266","1","4351626","","2010-12-04 00:55:17","","3","3722","<p>I am sure this is straight forward but I just cant seem to get it to work.  I have a data frame that represents daily totals.  I simply want to sum the totals by week, retaining a zero if a week is not represented.  What is the best approach in R?  In case it matters, I read the data in from a CSV and converted it to a date once in R.</p>

<p>Here is the structure of my data frame p1:</p>

<pre><code>'data.frame':   407 obs. of  2 variables:
 $ date:Class 'Date'  num [1:407] 14335 14336 14337 14340 14341 ...
 $ amt : num  45 150 165 165 45 45 150 150 15 165 ...
</code></pre>

<p>and the first few...</p>

<pre><code>&gt; head(p1)
        date amt
1 2009-04-01  45
2 2009-04-02 150
3 2009-04-03 165
4 2009-04-06 165
5 2009-04-07  45
6 2009-04-08  45
</code></pre>

<p>Many thanks in advance. </p>

<p>One note:  I saw one previous <a href=""https://stackoverflow.com/questions/4309248/aggregate-by-week-in-r"">post</a> but couldn't get it to work</p>
","155406","","-1","","2017-05-23 10:31:28","2021-03-23 14:21:02","Aggregate Weekly Data in R","<datetime><r>","2","1","4","","","CC BY-SA 2.5","4351266","4452","4452","r","404559","3625322","3607736","",""
"4352286","1","","","2010-12-04 06:29:45","","0","1234","<p>I am trying to implement the <code>quantreg</code> Quantile Regression function on data I retrieved from Yahoo. It appears I need to perform a procedure on the stock data so that the <code>rq()</code> function can read the data. I am not sure how to do this. My question is how do I transform the stocj data into a format the <code>rq</code> function will be able to read. Thanks</p>

<pre><code># Quantile Regression Fit Stock data
# Get Library
library(quantmod)
library(quantreg)

# Get Stock Data
stk1 &lt;- getSymbols(""DD"",  from=""2009-12-31"", auto.assign=FALSE)
stk2 &lt;- getSymbols(""GE"", from=""2009-12-31"", auto.assign=FALSE)

#median (l1) regression  fit for the stock data.
rq(stk1 ~ stk2.x,.5) 

#the 1st quartile, 
rq(stk1 ~ stk2.x,.25)  

#note that 8 of the 21 points lie exactly on this plane in 4-space! 
#this returns the full rq process
rq(stk1 ~ stk2.x, tau=-1)   

#ordinary sample median --no rank inversion ci
rq(rnorm(50) ~ 1, ci=FALSE)    

#weighted sample median 
rq(rnorm(50) ~ 1, weights=runif(50),ci=FALSE)
</code></pre>
","530224","","4895725","","2016-05-08 17:33:31","2016-05-08 17:33:31","Using a quantile regression to fit stock data","<r><regression><quantile><quantreg>","2","3","1","","","CC BY-SA 3.0","4352286","4452","4452","r","404559","3625322","3607736","",""
"4353361","1","4354728","","2010-12-04 11:54:19","","2","869","<p>I sometimes have a dropdown box with only one item to choose from, but this item might be a string with spaces. How can I do this in R? Here is the problem:</p>

<pre><code>library(tcltk2)
root&lt;-tktoplevel()
v &lt;- tclVar()
d &lt;- tk2combobox(root, textvariable=v)
tkpack(d)

# works
tkconfigure(d, values=c(""a string with spaces"", ""a second string""))

# inserts four items instead of one
tkconfigure(d, values=c(""a string with spaces""))
</code></pre>

<p>Any hint appreciated!</p>
","216064","","","","","2010-12-04 17:39:11","How do I set values to a Tk combobox in R","<r><tcl><tk>","1","0","","","","CC BY-SA 2.5","4353361","4452","4452","r","404559","3625322","3607736","",""
"4354974","1","4356852","","2010-12-04 18:03:08","","18","12090","<p>I have a limited time series exposure in R. So, I wonder which time/date class (and associated package) would be most appropriate to start with.</p>
<p>Among the plethora of packages available at <a href=""http://cran.r-project.org/web/views/TimeSeries.html"" rel=""nofollow noreferrer"">CRAN task view</a>, I so far favor the <a href=""http://cran.r-project.org/web/packages/timeDate/index.html"" rel=""nofollow noreferrer""><code>timeDate</code></a>, which is a S4 oriented and has nice support for location dependent particularities such as holidays and daylight saving times.</p>
<p>The community apparently favors the <a href=""http://cran.r-project.org/web/packages/zoo/index.html"" rel=""nofollow noreferrer""><code>zoo</code></a> package. <a href=""http://cran.r-project.org/web/packages/chron/index.html"" rel=""nofollow noreferrer""><code>chron</code></a> is also popular.<br />
[edit: Here is a list of time/date implementations which <code>lubridate</code> package refers to:  <strong>POSIXct, POSIXlt, Date, chron, yearmon, yearqtr, zoo, zooreg, timeDate, xts, its, ti, jul, timeSeries,  fts</strong>. Also <code>lubridate</code> itself has  handy time classes <code>duration</code>, <code>period</code> and <code>interval</code>.]</p>
<p>Would really appreciate if somebody with experience with multiple packages would share his opinion on how the available time/date classes compare in terms of usability and extensibility.</p>
<p>Some points of interest (in random order):</p>
<ul>
<li>internationalization (holidays, timezones etc)</li>
<li>readily available statistical modeling procedures</li>
<li>readily available visualization tools</li>
<li>ease of use</li>
<li>compatibility with builtin date/time-series classes (POSIX,ts)</li>
<li>extensibility (S4 is desirable)</li>
<li>best to use with <a href=""http://cran.r-project.org/web/packages/lubridate/"" rel=""nofollow noreferrer""><code>lubridate</code></a></li>
</ul>
<p>Thanks.</p>
","453735","","425895","","2021-02-25 20:45:32","2021-02-25 20:45:32","Which R time/date class and package to use?","<datetime><r><date><time-series>","4","2","9","2013-01-07 21:01:43","","CC BY-SA 4.0","4354974","4452","4452","r","404559","3625322","3607736","",""
"4355042","1","4355118","","2010-12-04 18:19:09","","12","39517","<p>I am somewhat new to R and have limited experience with plotting in general.  I have been able to work get my data as a time series object in R using zoo, but I am having a hard time having the xaxis be labeled correctly, if it all.</p>

<p>When I plot my zoo object</p>

<pre><code>plot(z)
</code></pre>

<p>The x-axis only shows one label, the year 2010. when the series is weekly spanning from April 2009 to October 2010.  </p>

<p>I tried to convert my series back to a ts object, and even a data frame (only one column and doesn't include the dates).</p>

<p>Simply, how can I control the x-axis labels generally, and with time series objects? </p>

<p>Thanks in advance! </p>
","155406","","","","","2017-04-06 02:48:38","Label X Axis in Time Series Plot using R","<r><plot>","5","0","10","","","CC BY-SA 2.5","4355042","4452","4452","r","404559","3625322","3607736","",""
"4355798","1","","","2010-12-04 20:58:43","","2","377","<p>When you ask ESS to evaluate the following from a buffer (C-c, C-b, or similar)</p>

<pre><code>par(ask=TRUE)
plot(1,1)
plot(2,1)
</code></pre>

<p>The interpreter goes into a infinite loop because ESS starts the R session with the argument --no-readline. The loop can be broken with C-g, but is there any way to get the interpreter to actually request user input?</p>
","98080","","98080","","2010-12-08 02:14:19","2010-12-08 03:23:28","user-input and ESS","<r><emacs><ess>","2","0","","","","CC BY-SA 2.5","4355798","4452","4452","r","404559","3625322","3607736","",""
"4357031","1","4357932","","2010-12-05 02:28:02","","58","47206","<p>Say have a linear model LM that I want a qq plot of the residuals. Normally I would use the R base graphics:</p>

<pre><code>qqnorm(residuals(LM), ylab=""Residuals"")
qqline(residuals(LM))
</code></pre>

<p>I can figure out how to get the qqnorm part of the plot, but I can't seem to manage the qqline:</p>

<pre><code>ggplot(LM, aes(sample=.resid)) +
    stat_qq()
</code></pre>

<p>I suspect I'm missing something pretty basic, but it seems like there ought to be an easy way of doing this.</p>

<p><strong>EDIT:</strong> Many thanks for the solution below. I've modified the code (very slightly) to extract the information from the linear model so that the plot works like the convenience plot in the R base graphics package.</p>

<pre><code>ggQQ &lt;- function(LM) # argument: a linear model
{
    y &lt;- quantile(LM$resid[!is.na(LM$resid)], c(0.25, 0.75))
    x &lt;- qnorm(c(0.25, 0.75))
    slope &lt;- diff(y)/diff(x)
    int &lt;- y[1L] - slope * x[1L]
    p &lt;- ggplot(LM, aes(sample=.resid)) +
        stat_qq(alpha = 0.5) +
        geom_abline(slope = slope, intercept = int, color=""blue"")

    return(p)
}
</code></pre>
","445639","","3458744","","2018-04-11 16:47:18","2020-08-30 10:26:28","qqnorm and qqline in ggplot2","<r><ggplot2><ggproto>","8","1","36","","","CC BY-SA 2.5","4357031","4452","4452","r","404559","3625322","3607736","",""
"4357101","1","4357159","","2010-12-05 02:53:51","","161","52695","<p>Here is my R code. The functions are defined as:</p>

<pre><code>f &lt;- function(x, T) {
  10 * sin(0.3 * x) * sin(1.3 * x ^ 2) + 0.001 * x ^ 3 + 0.2 * x + 80
}

g &lt;- function(x, T, f=f) {
  exp(-f(x) / T)
}

test &lt;- function(g=g, T=1) { 
  g(1, T)
}
</code></pre>

<p>The running error is:</p>

<blockquote>
  <p>> test()<br>
  Error in test() :<br>
   promise already under evaluation: recursive default argument reference or earlier problems?</p>
</blockquote>

<p>If I substitute the definition of <code>f</code> in that of <code>g</code>, then the error goes away.</p>

<p>I was wondering what the error was? How to correct it if don't substitute the definition of <code>f</code> in that of <code>g</code>? Thanks!</p>

<hr>

<p>Update:</p>

<p>Thanks! Two questions:</p>

<p>(1) if function <code>test</code> further takes an argument for <code>f</code>, will you add something like <code>test &lt;- function(g.=g, T=1, f..=f){ g.(1,T, f.=f..) }</code> ? In cases with more recursions, is it a good and safe practice adding more <em>.</em>? </p>

<p>(2) if <code>f</code> is a non-function argument, for example <code>g &lt;- function(x, T, f=f){ exp(-f*x/T) }</code> and <code>test &lt;- function(g.=g, T=1, f=f){ g.(1,T, f=f.) }</code>, will using the same name for both formal and actual non-functional arguments a good and safe practice or it may cause some potential trouble? </p>
","156458","","1840471","","2017-01-06 01:42:26","2020-07-16 15:11:45","promise already under evaluation: recursive default argument reference or earlier problems?","<r>","4","0","33","","","CC BY-SA 3.0","4357101","4452","4452","r","404559","3625322","3607736","",""
"4357827","1","4357836","","2010-12-05 07:29:46","","70","155886","<p>I was wondering about how to write do-while-style loop?</p>

<p>I found <a href=""http://www.mail-archive.com/r-help@r-project.org/msg79174.html"" rel=""noreferrer"">this post</a>:</p>

<blockquote>
  <p>you can use repeat{} and check conditions whereever using if()    and
  exit the loop with the ""break"" control word.</p>
</blockquote>

<p>I am not sure what it exactly means. Can someone please elaborate if you understand it and/or if you have a different solution?</p>
","156458","","680068","","2020-12-22 14:56:36","2020-12-22 14:56:36","do-while loop in R","<r><loops><repeat><do-while><r-faq>","4","3","14","","","CC BY-SA 3.0","4357827","4452","4452","r","404559","3625322","3607736","",""
"4357866","1","4357977","","2010-12-05 07:43:58","","6","34845","<p>I was wondering about what are the ways to construct dynamic-size array in R.</p>

<p>For one example, I want to construct a n-vector but its dimension n is dynamically determined. The following code will work:</p>

<pre><code>&gt; x=NULL  
&gt; n=2;   
&gt; for (i in 1:n) x[i]=i;  
&gt; x  
[1] 1 2  
</code></pre>

<p>For another example, I want to construct a n by 2 matrix where the number of rows n is dynamically determined. But I fail even at assigning the first row:</p>

<pre><code>&gt; tmp=c(1,2)  
&gt; x=NULL  
&gt; x[1,]=tmp  
Error in x[1, ] = tmp : incorrect number of subscripts on matrix  
&gt; x[1,:]=tmp   
Error: unexpected ':' in ""x[1,:""  
</code></pre>

<p>Thanks and regards!</p>
","156458","","","","","2010-12-14 06:11:44","Construct dynamic-sized array in R","<r>","6","0","5","","","CC BY-SA 2.5","4357866","4452","4452","r","404559","3625322","3607736","",""
"4359236","1","4359826","","2010-12-05 14:27:11","","1","939","<p>I am trying to install the R-project (for statistics) plugin for VIM, on my PC (using ubuntu).</p>

<p>I have followed the instruction on the plugin <a href=""http://www.vim.org/scripts/script.php?script_id=2628"" rel=""nofollow"">web page</a></p>

<ul>
<li>I have installed the conque shell plug in as well, as requested.</li>
<li>I have installed the vim-r-plugin</li>
<li><p>I have added the 4 needed line to my .vimrc file:</p>

<pre><code>set nocompatible
syntax enable
filetype plugin on
filetype indent on
</code></pre></li>
<li>I have set my maplocalleader to <code>,</code></li>
<li>I open a .R file</li>
<li>I try the command, like <code>:,rf</code>,  and I get: <code>E492: Not an editor command: ,rf</code></li>
</ul>

<p>I don't know really how to trouble shout this problem, or where to find help.</p>
","109525","","457352","","2010-12-05 16:41:14","2010-12-05 16:42:07","Having a hard time getting started with Vim-R-plugin","<r><vim><vim-plugin>","1","0","","","","CC BY-SA 2.5","4359236","4452","4452","r","404559","3625322","3607736","",""
"4359310","1","4359479","","2010-12-05 14:46:51","","9","6026","<p>I am currently running ANOVA for a project at school that has a large number of possible runs (1400 or so) but some of them aren't able to run ANOVA in R. I wrote a script to run all the ANOVA's, but some of them will not run and the Rout file gives me 
Error in <code>contrasts&lt;-</code>(<code>*tmp*</code>, value = ""contr.treatment"") : 
  contrasts can be applied only to factors with 2 or more levels
Calls: aov ... model.matrix -> model.matrix.default -> contrasts&lt;-
Execution halted</p>

<p>Is there any way to write the script that will make R continue the script despite the error?</p>

<p>My entire script, other then the file loading, attaching, creating a sink, library loading, etc is...</p>

<pre><code>ss107927468.model&lt;-aov(Race.5~ss107927468, data=snp1)
summary(ss107927468.model)
</code></pre>

<p>Any help would be appreciated.</p>
","531249","","21234","","2010-12-05 15:09:25","2013-02-12 20:16:00","Is there any way to have R script continue after receiving error messages instead of halting execution?","<r><statistics>","2","1","","","","CC BY-SA 2.5","4359310","4452","4452","r","404559","3625322","3607736","",""
"4359411","1","4359501","","2010-12-05 15:07:58","","7","7935","<p>I wanted to get help about <em>repeat</em> in R command line window. But</p>

<pre><code>&gt; ?repeat  
+   
&gt; help(repeat)  
Error: unexpected ')' in ""help(repeat)""  
</code></pre>

<p><em>repeat</em> seems different from other functions. Also I found even for <em>if</em>, I also cannot get help document. So I assume help is just for non control-follow function/command? How to get the help document about control flow commands then?</p>

<p>Thanks!</p>
","156458","","","","","2010-12-05 15:28:08","Getting help on R command line window","<r>","2","1","1","","","CC BY-SA 2.5","4359411","4452","4452","r","404559","3625322","3607736","",""
"4359595","1","4359782","","2010-12-05 15:48:22","","2","11108","<p>I'm struggling with something quite simple, but I'm going around in circles, and just don't see where I make an error. I really hope that someone could lend me a handy suggestion, so that I'm no longer stuck!</p>

<p><strong>My goal:</strong> I want to calculate the percentage of instances in an data.frame which have a result higher than 0. I've tried this with the for loop, but to no avail. So, after some more searching I used the apply function to calculate various metrics as mean, sd, and min/max. This works great, but for calculating the percentage the apply function doesn't work, even when I make a custom function, and insert this into the apply function.</p>

<p>This is the shortened version of my data.frame:</p>

<pre><code>     tradesList[c(1:5,10:15),c(1,7)]
   Instrument TradeResult.Currency.
1         JPM                    -3
2         JPM                   264
3         JPM                   284
4         JPM                    69
5         JPM                   283
10        JPM                  -294
11        KFT                    -8
12        KFT                   -48
13        KFT                   125
14        KFT                  -150
15        KFT                  -206
</code></pre>

<p>I want to summarize this data.frame, for example by displaying the average TradeResult for each Instrument:</p>

<pre><code>&gt; tapply(tradesList$TradeResult.Currency., tradesList$Instrument, mean)
 JPM  KFT 
42.3 14.6 
</code></pre>

<p>However, I would also like to calculate the percentage of rows which have an TradeResult > 0 per instrument. With the 'which' function checking for instances which are > 0 does work, however, apply won't accept this function as an argument. </p>

<pre><code>&gt; length(which(tradesList$TradeResult.Currency. &gt; 0)) / length(tradesList$TradeResult.Currency.) * 100
[1] 50
&gt; tapply(tradesList$TradeResult.Currency., tradesList$Instrument, (length(which(tradesList$TradeResult.Currency. &gt; 0)) / length(tradesList$TradeResult.Currency.) * 100))
Error in match.fun(FUN) : 
  c(""'(length(which(tradesList$TradeResult.Currency. &gt; 0))/length(tradesList$TradeResult.Currency.) * ' is not a function, character or symbol"", ""'    100)' is not a function, character or symbol"")
&gt; 
</code></pre>

<p>I searched in the help function for more information on this error, and tried various different ways of formulating the function (for example with brackets or quotes), but each way led to the same result.</p>

<p>Does someone know a whay to calculate the percentage of instances which are greater than zero? Perhaps I'm missing something?</p>

<p>Thanks alot in advance,</p>

<p>Regards,</p>

<p><strong>Edit:</strong>
Thanks alot for your quick comments G. Grothendieck, Gavin Simpson and DWin. Highly appreciated and quite helpful!</p>

<p><strong>Solved:</strong>
Here's what I have now:</p>

<pre><code>&gt; tmpData &lt;- tradesList[c(1:5,10:15),c(1,7)]
&gt; tmpData
   Instrument TradeResult.Currency.
1         JPM                    -3
2         JPM                   264
3         JPM                   284
4         JPM                    69
5         JPM                   283
10        JPM                  -294
11        KFT                    -8
12        KFT                   -48
13        KFT                   125
14        KFT                  -150
15        KFT                  -206
&gt; 100*    # to get percentages
+ with( tmpData, 
+ tapply( (TradeResult.Currency. &gt; 0) , Instrument, sum)/   # number GT 0
+        tapply( TradeResult.Currency., Instrument, length) ) # total number
     JPM      KFT 
66.66667 20.00000 
&gt; 100 * tapply(tmpData$TradeResult.Currency. &gt; 0, tmpData$Instrument, mean)
     JPM      KFT 
66.66667 20.00000 
&gt; pcentFun &lt;- function(x) {
+     res &lt;- x &gt; 0
+     100 * (sum(res) / length(res))
+ }
&gt; 
&gt; with(tmpData, tapply(TradeResult.Currency., Instrument, pcentFun))
     JPM      KFT 
66.66667 20.00000
</code></pre>

<p>Thanks again!</p>

<p>Regards,</p>
","531257","","531257","","2010-12-05 16:49:59","2010-12-05 19:27:36","Calculating percentages in an apply statement (R)","<r><apply>","3","0","","","","CC BY-SA 2.5","4359595","4452","4452","r","404559","3625322","3607736","",""
"4362747","1","4363294","","2010-12-06 02:44:23","","2","1935","<p>I keep R and Rnw files separate, then load the R data/plots with <code>load(""file.R"")</code> in the first Sweave chunk. Is there a way that I can print the sourced R file to an appendix without executing all of the code? (i.e., the code is slow enough that I don't want to <code>source()</code> it in an <code>echo=TRUE</code> chunk).</p>

<p>Thanks! </p>

<hr>

<p>Update -- actually, I don't think my <code>source()</code> idea works.</p>
","334755","","334755","","2010-12-06 03:05:07","2011-05-31 21:14:43","Print the sourced R file to an appendix using Sweave","<r><sweave>","4","3","3","","","CC BY-SA 2.5","4362747","4452","4452","r","404559","3625322","3607736","",""
"4363799","1","4367949","","2010-12-06 06:19:45","","3","2494","<p>I regret that I come to post here after being burned-out on hours of Internet searching regarding this simplistic question.</p>

<p>I have several data sets to plot in R, each consisting of two columns of data: time, date.  I am using R 2.11.0 on a Windows computer, via the Rgui.</p>

<p>Time is ""time of day"" that an event is observed. As an example, it is recognized as:</p>

<pre><code>Factor w/ 87 levels ""5:53"",""5:54"",..: 84 85 85 85 86 ...
</code></pre>

<p>Date is calendar date, recognized as:</p>

<pre><code>Class 'Date'  num [1:730] 13879 13880 13881 13882 13883 ...
</code></pre>

<p>The time values are recorded in the format of a 24-hr clock, h:mm or hh:mm.  The date values are displayed yyyy-mm-dd.</p>

<p>I want to plot time (y-axis) vs. date (x-axis).  </p>

<p>Using </p>

<pre><code>plot(date,time)
</code></pre>

<p>gives an accurate-looking plot, but the y-axis is labeled as the numeric factor values (about 0 to 90), rather than the desired, temporally-ordered levels of the factor variable.  The x-axis is labeled in the desired, human-readable format.</p>

<p>How can I correct this?  Is there a ""time of day"" format in R that I can convert my ""time"" variable into?  I will subsequently like to do arithmetic on the time values as well, and would not mind having to carry one column of values to use in plotting and one column of values for maths.</p>

<p>I ran across several examples online of manipulation of (date + time) variables in R, and converting those to different formats.  I do not believe this is my problem, as I have separate fields for time and date and want to plot one against the other.</p>

<p>My thanks to you in advance for your suggestions, or your directions to a web-accessible resource (no appropriate libraries or bookstores at my location).</p>
","531844","","","","","2010-12-06 15:29:27","how, in R, to plot time of day versus calendar date","<r><time><format><plot>","3","0","4","","","CC BY-SA 2.5","4363799","4452","4452","r","404559","3625322","3607736","",""
"4364260","1","4364333","","2010-12-06 07:52:17","","6","1754","<p>I know how to create table in R using <code>table</code>, like this:</p>

<pre><code>x &lt;- rep(1:3,4)
y &lt;- rep(1:4,3)
z&lt;- cbind(x,y)
table(z[,1],z[,2])

    1 2 3 4
  1 1 1 1 1
  2 1 1 1 1
  3 1 1 1 1
</code></pre>

<p>How can I add the margin total of the table to making it looks like:</p>

<pre><code>    1 2 3 4
  1 1 1 1 1 4
  2 1 1 1 1 4
  3 1 1 1 1 4
    3 3 3 3
</code></pre>
","373908","","4370109","","2017-05-03 19:23:11","2017-05-03 19:23:11","Create table with subtotal per row and per column","<r>","1","0","3","","","CC BY-SA 3.0","4364260","4452","4452","r","404559","3625322","3607736","",""
"4364283","1","4364404","","2010-12-06 07:57:38","","5","23864","<p>I'm trying to create a conditional sum, in order to calculate an average. The idea is that an function (or an apply statement) checks if an certain value is true (for example x > 0), then sums all the values of x that where higher than zero. The last step would be to divide this sum by the number of instances which are greater than zero. Searching for conditonal sum(ming) didn't gave me usable information.</p>

<p>This is a part of the data:</p>

<pre><code>&gt; tmpData
   Instrument TradeResult.Currency.
1         JPM                    -3
2         JPM                   264
3         JPM                   284
4         JPM                    69
5         JPM                   283
11        KFT                    -8
12        KFT                   -48
13        KFT                   125
14        KFT                  -150
15        KFT                  -206
16        KFT                   107
</code></pre>

<p>Of the functions that I've tried, the following holds the most promise:</p>

<pre><code>avgProfit &lt;- function(x) {
    ifelse(x &gt; 0,
    sum(x) / length(which(x &gt; 0)),
    return(0))
    }
</code></pre>

<p>However, the output of this function is 0:</p>

<pre><code>&gt; with(tmpData, tapply(TradeResult.Currency., Instrument, avgProfit))
JPM KFT 
  0   0     
&gt; avgProfit(tmpData$TradeResult.Currency.)
[1] 0
&gt; x
 [1] 1 1 2 1 2 3 3 3 4 4
</code></pre>

<p>(The values should be 225 for JPM (total of 900 divided by 4 instances which where greater than zero) and 116 for KFT)</p>

<p>Even though I calculate the sum of x (which, if I understand correctly, should be the sum of the individual values in the data.frame) in the function, the output of the variable 'x' puzzles me. I can't find where these 1,2,3 and fours are coming from.</p>

<p>How can I calculate an conditional sum? Besides, do I need to use an function or am I making it too complicated (perhaps there is an build-in R function for this which I overlooked?)</p>

<p>Any thoughts are more than welcome,</p>

<p>Regards,</p>
","531257","","","","","2016-06-12 13:28:19","Conditional summing (R)","<r><conditional><sum>","6","2","4","","","CC BY-SA 2.5","4364283","4452","4452","r","404559","3625322","3607736","",""
"4365291","1","","","2010-12-06 10:11:57","","2","453","<p>I've developed a Java application that uses JRI to make use of the ptw package.</p>

<p>On Linux (Ubuntu 10.04, R 2.10.1, JRI 0.5.0) it works fine.</p>

<p>However, on Vista (R 2.12.0, JRI 0.5.0) when the application evaluates ""library(ptw)"" the following error occurs:</p>

<p>Error in library(ptw) : object 'ptw' not found</p>

<p>When I run R from the Vista command-line and issue the ""library(ptw)"" command there is no problem.</p>

<p>If I copy the ptw package from my %USERPROFILE%\Documents\R\win-library to %R_HOME%\library then the problem goes away. However, I don't want my users to have to do this, in fact, some might not have permission to do so.</p>

<p>Therefore, how can I get JRI to invoke an R-Engine that has access to packages that the user has installed in their
%USERPROFILE%\Documents\R\win-library? </p>

<p>I've also <a href=""http://tolstoy.newcastle.edu.au/R/e12/help/10/12/7087.html"" rel=""nofollow"">asked</a> on the r-help mailing list but no joy.</p>

<p>I am aware of the <em>libloc</em> parameter for the library() function but I'd prefer something a little less fragile, i.e. automatic rather than requiring configuration...</p>
","531933","","","","","2010-12-07 04:28:19","Can JRI access user-installed packages on Vista?","<r><rjava><jri>","3","0","1","","","CC BY-SA 2.5","4365291","4452","4452","r","404559","3625322","3607736","",""
"4365523","1","4366361","","2010-12-06 10:41:43","","3","506","<p>The following function does work, but the last as.Date part was more or less an result of trial and error that do not understand fully. </p>

<pre><code> ### This function creates a real date column out of year / period that is saved in 
 ### in separate columns, plus it handles a 13th period in case of overlapping period
 ### terminology. Turns quarters into months.

 realDate &lt;- function (table,year=""year_col"",period=""period_col""){


if (is.character(table) == TRUE)
{
    dframe &lt;- get(table)
}

else{
    dframe &lt;- table
}


x &lt;- expression({resDate &lt;- with(dframe,
                    as.Date(paste(get(year),""-"",
                                    ifelse(get(period) &gt; 9, get(period),
                                            paste(""0"", get(period), sep = """")), 
                                    ""-01"", sep = """")))
        })

y &lt;- expression({resDate &lt;- with(dframe,as.Date(paste(get(year) + 1,""-"",""01"",""-01"",sep="""")))})

#### I do not get this? Why do I have to do this?
a &lt;- ifelse(get(period) == 13,eval(y),eval(x))
a &lt;-as.Date(a, origin=""1970-01-01"")


return(a)

}
</code></pre>

<p>Instead I tried to do it like this (because it was more intuitively to me):</p>

<pre><code>{ ....
ifelse(get(period) == 13,eval(y),eval(x))
return(resDate)
}
</code></pre>

<p>This returned the corrected values whenever the condition was FALSE (no) but returned NA if the condition was TRUE (yes). Why is that? And if I use the function above, why do I have to define the origin again? Why I even have call as.Date again?</p>

<p>EDIT: </p>

<pre><code> a &lt;- rep(2002:2010,2)
 b &lt;- rep(1:13,2)
 d&lt;-cbind(a,b[1:length(a)])
 names(d) &lt;- c(""year_col"",""period_col"")
</code></pre>

<p>P.S.:
I found this <a href=""https://stackoverflow.com/questions/4042413/r-if-with-vectorized-statements"">thread</a> on vectorized ifelse.</p>
","366256","","2370483","","2018-10-08 19:40:49","2018-10-08 19:40:49","Why do I have to set as.Date origin again after using ifelse? Is there a better way?","<r><date>","1","3","","","","CC BY-SA 2.5","4365523","4452","4452","r","404559","3625322","3607736","",""
"4366463","1","4366807","","2010-12-06 12:39:13","","7","461","<p><strong>disclaimer: this code is bad practice.</strong><s>, and only works due to something bug-like</s>. <strong>Never use it in a real situation. This question is about the interesting behaviour of R, nothing else than that.</strong></p>

<p>After reading <a href=""https://stackoverflow.com/questions/4365523/why-do-i-have-to-set-as-date-origin-again-after-using-ifelse-is-there-a-better-w/4366361#4366361"">this question</a> I got pretty puzzled. Apparently, ifelse can access information that should be hidden.</p>

<p>Say we do :</p>

<pre><code>&gt; x &lt;- expression(dd &lt;- 1:3)    
&gt; y &lt;- expression(dd &lt;- 4:6)    
&gt; z &lt;- c(1,0)

&gt; eval(x)
&gt; eval(y)
&gt;
</code></pre>

<p>We get no output. Logic, as both expressions are actually assignments of a vector dd. eval() is not supposed to give output then. But strangely enough, when you try the funny code</p>

<pre><code>&gt; ifelse(z==0,eval(x),eval(y))
[1] 4 2
</code></pre>

<p>You get output??? Somebody has an explanation for this?</p>

<p>It's not as simple as ""R evaluates and then uses dd"". Whatever order you give z, whatever condition you use, dd is always the last mentioned <code>eval()</code>.</p>

<pre><code>&gt; ifelse(z==0,eval(x),eval(y))
&gt; dd
[1] 4 5 6

&gt; ifelse(z==1,eval(x),eval(y))
&gt; dd
[1] 4 5 6

&gt; z &lt;- c(0,1)
&gt; ifelse(z==0,eval(x),eval(y))
&gt; dd
[1] 4 5 6

&gt; ifelse(z==1,eval(x),eval(y))
&gt; dd
[1] 4 5 6

&gt; ifelse(z==1,eval(y),eval(x))
&gt; dd
[1] 1 2 3
</code></pre>

<hr>

<p>EDIT:</p>

<p>a closer look at the source code of ifelse shows that the line making sure this happens, is the <code>rep()</code> :</p>

<pre><code>&gt; x &lt;- expression(dd &lt;- 1:3)
&gt; eval(x)
&gt; rep(eval(x),2)
[1] 1 2 3 1 2 3
</code></pre>

<p>Still, it doesn't solve the question...</p>
","428790","","-1","","2017-05-23 12:11:50","2010-12-06 14:06:42","R's behaviour using ifelse and eval in combination","<r><eval><if-statement>","2","2","1","","","CC BY-SA 2.5","4366463","4452","4452","r","404559","3625322","3607736","",""
"4367177","1","4367205","","2010-12-06 14:06:18","","1","22191","<p>My R code:</p>

<pre><code>bnc1&lt;-function(maxITR=100000, d=2, l=1){
    counts=0;
    for (i in 1:maxITR){
        x=runif(1,0,pi);
        y=runif(2,0,d/2);
        if ((l/2*sin(x)) &gt;= y) counts=counts+1;
    } 
    counts/maxITR*d/l
}
</code></pre>

<p>Running the code:</p>

<pre><code>&gt; bnc1(maxITR=1000)
[1] 0.652
There were 50 or more warnings (use warnings() to see the first 50)
&gt; warnings()
Warning messages:
1: In if ((l/2 * sin(x)) &gt;= y) counts = counts + 1 ... :
  the condition has length &gt; 1 and only the first element will be used
2: In if ((l/2 * sin(x)) &gt;= y) counts = counts + 1 ... :
  the condition has length &gt; 1 and only the first element will be used
...
49: In if ((l/2 * sin(x)) &gt;= y) counts = counts + 1 ... :
  the condition has length &gt; 1 and only the first element will be used
50: In if ((l/2 * sin(x)) &gt;= y) counts = counts + 1 ... :
  the condition has length &gt; 1 and only the first element will be used
</code></pre>

<p>Does anyone has an idea what causes the warnings?</p>
","156458","","190277","","2012-12-24 23:40:24","2012-12-24 23:40:24","Warning ""the condition has length > 1 and only the first element will be used""","<r>","1","0","1","","","CC BY-SA 3.0","4367177","4452","4452","r","404559","3625322","3607736","",""
"4368080","1","4442385","","2010-12-06 15:43:53","","3","322","<p><strong>Background</strong></p>

<p>I am trying to fit a distribution to a 95% CI and mode.
The cost function that I am using solves three functions for 0: P(X=2.5 | mu, sigma)=0.025, P(X=7.5|mu, sigma)=0.975, and the mode of log-N(mu, sigma) = 3.3. note: mode of a lognormal is = $e^{\mu-\sigma^2)}$:</p>

<p><strong>Approach</strong></p>

<p>First I write a cost function, <code>prior</code></p>

<pre><code>prior &lt;- function(parms) {
  a &lt;- abs(plnorm(2.5, parms[1], parms[2]) - 0.025)
  b &lt;- abs(plnorm(7.5, parms[1], parms[2]) - 0.975)
  mode &lt;- exp(parms[1] - parms[2]^2)
  c &lt;- abs(mode-3.3)
  return(a + b + c)
}
</code></pre>

<p>And then I seek parameters that minimize the cost function</p>

<pre><code>v = nlm(prior,c(log(3.3),0.14))
</code></pre>

<p>It is apparent that the function is maximized for the mode an LCL but not the UCL.</p>

<pre><code>abs(plnorm(7.5, parms[1], parms[2]) - 0.975)
&gt; [1] 0.02499989
</code></pre>

<p>Here is a plot with dotted lines at the desired 95%CI:</p>

<pre><code>x &lt;- seq(0,10,0.1)
plot(x,dlnorm(x, v$estimate[1],v$estimate[2]),type='l')
abline(v=c(2.5,7.5), lty=2) #95%CI
</code></pre>

<p><strong>Question</strong></p>

<p>The optimization two points closely and all of the error is in the third. However, I would like it to fit the points evenly.</p>

<p>How can I get the function to give equal weight to the magnitude of the <em>a</em>, <em>b</em>, and <em>c</em> terms? It appears that the function is only fitting <em>a</em> and <em>c</em>. </p>

<p><em>note:</em> This question is based on one asked at [cross validated][1] except that this version is specifically about the function of R's nlm() optimization algorithm whereas the CV question is about finding the a more appropriate distribution.</p>
","199217","","199217","","2010-12-09 22:06:41","2010-12-14 17:53:43","Why does this code not optimize for all three points?","<optimization><r><probability>","2","6","","","","CC BY-SA 2.5","4368080","4452","4452","r","404559","3625322","3607736","",""
"4368548","1","4368701","","2010-12-06 16:22:38","","0","138","<p>Let's say I have rows like this: </p>

<pre><code>    First, Last, Address, Address 2, Email, Custom1, Custom2, Custom3
1    A, B, C, D, E@E.com,1,2,3
2    A,  , C, D, E@E.com,1,2,
3     ,  ,  ,  , E@E.com,1, ,  
</code></pre>

<p>What I would like to to do is create a function that pulls that row which is most complete and I'm wondering if there are any packages or pre-existing methods (recommendations, even) for doing this. In the example above, I would like to to have a function that chooses row 1. </p>

<p>I can't use complete.cases() or na.omit() because in many circumstances the cases are not complete and contain at least one NA. I've tried combining unique() with a number of specific pulls... but I'm not having much luck automating this manipulation task. </p>
","170352","","","","","2010-12-06 16:52:01","Choosing the Row that has the most complete information","<r>","3","0","","","","CC BY-SA 2.5","4368548","4452","4452","r","404559","3625322","3607736","",""
"4368861","1","","","2010-12-06 16:53:40","","5","5493","<p>What is an easy way of coercing time series data to a data frame, in a format where the resulting data is a summary of the original?</p>

<p>This could be some example data, stored in xts or zoo object:</p>

<pre><code>t,                  V1
""2010-12-03 12:00"", 10.0
""2010-11-04 12:00"", 10.0
""2010-10-05 12:00"", 10.0
""2010-09-06 12:00"", 10.0
...and so on, monthly data for many years.
</code></pre>

<p>and I would like to transform it to a data frame like:</p>

<pre><code>year, month, V1
2010, 12,    a descriptive statistic calculated of that month's data
2010, 11,    ...
2010, 10,    ...
2010, 9,     ...
</code></pre>

<p>The reason I'm asking this, is because I want to plot monthly calculated summaries of data in the same plot. I can do this quite easily for data in the latter format, but haven't found a plotting method for the time series format.</p>

<p>For example, I could have temperature data from several years measured in a daily interval and I would like to plot the curves for the monthly mean temperatures for each year in the same plot. I didn't figure out how to do this using the xts-formatted data, or if this even suits the purpose of the xts/zoo formatting of the data, which seems to always carry the year information along it.</p>
","442446","","","","","2017-03-02 20:07:55","R: converting xts or zoo object to a data frame","<r><dataframe><xts><time-series>","2","1","2","","","CC BY-SA 2.5","4368861","4452","4452","r","404559","3625322","3607736","",""
"4368923","1","4369101","","2010-12-06 17:00:16","","4","908","<p>I would like to know how to set the encoding parameter so that when I download text, it 'looks' the same as when I saw it on the page source in a web browser, e.g.:</p>

<pre><code>readLines(""http://www.baidu.com/s?wd=r+project"")[132]
[1] ""&lt;div id=\""foot\""&gt;&amp;copy;2010 Baidu &lt;span&gt;&lt;/span&gt;&lt;/div&gt;""
</code></pre>

<p>When it should be displayed as:</p>

<pre><code>&gt; &lt;div id=""foot""&gt;&amp;copy;2010 Baidu &lt;span&gt;&lt;/span&gt;&lt;/div&gt; 
</code></pre>

<p>Any help would be much appreciated!</p>

<pre><code># windows 7
sessionInfo()
R version 2.12.0 (2010-10-15)
Platform: x86_64-pc-mingw32/x64 (64-bit)

locale:
[1] LC_COLLATE=English_United Kingdom.1252 
[2] LC_CTYPE=English_United Kingdom.1252   
[3] LC_MONETARY=English_United Kingdom.1252
[4] LC_NUMERIC=C                           
[5] LC_TIME=English_United Kingdom.1252    

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
[1] XML_3.2-0.1    RCurl_1.4-4.1  bitops_1.0-4.1 rcom_2.2-3.1   rscproxy_1.3-1

loaded via a namespace (and not attached):
[1] tools_2.12.0
</code></pre>
","385607","","121332","","2010-12-06 17:22:02","2010-12-06 17:31:23","How to download webpage text with the correct (chinese) encoding in R","<r>","3","1","2","","","CC BY-SA 2.5","4368923","4452","4452","r","404559","3625322","3607736","",""
"4369334","1","4369551","","2010-12-06 17:50:35","","4","1370","<p>I see the following idiom in the .First.lib function in a lot of R packages:</p>

<pre><code>fullName &lt;- paste(""package"", pkgname, sep="":"")
myEnv &lt;- as.environment(match(fullName, search()))
barepackage &lt;- sub(""([^-]+)_.*"", ""\\1"", pkgname)
dbbase &lt;- file.path(libname, pkgname, ""R"", barepackage)
rm(.First.lib, envir = myEnv)
lazyLoad(dbbase, myEnv)
if(exists("".First.lib"", envir = myEnv, inherits = FALSE)) {
    f &lt;- get("".First.lib"", envir = myEnv, inherits = FALSE)
    if(is.function(f))
        f(libname, pkgname)
    else
        stop(gettextf(""package '%s' has a non-function '.First.lib'"",
                      pkgname),
             domain = NA)
}
</code></pre>

<p>I understand that the .First.lib function is run when a package is loaded.</p>

<p>I understand that the code above defines an environment for the package and sets up a path, but I don't understand why it's looking for a .First.lib function after it explicitly deletes the .First.lib function. What makes the above idiom so common? Is it a ""best practice"" to include this in an R package? </p>
","37751","","37751","","2010-12-07 15:41:22","2010-12-07 15:41:22",".First.lib idiom in R packages","<r><packages>","2","0","","","","CC BY-SA 2.5","4369334","4452","4452","r","404559","3625322","3607736","",""
"4369400","1","4369465","","2010-12-06 17:57:28","","1","2130","<p>I would like to plot the <em>shaded</em> region between <em>y=sin(x)</em> and <em>y=0</em> over <em>x in [0, pi]</em> in R. Can you give some examples?</p>

<p>By <em>shaded</em>, I mean the region can be colored and better be half-transparent.</p>

<p>Thanks and regards!</p>
","156458","","","","","2010-12-06 18:03:51","plot the *shaded* region under *y=sin(x)* in R","<r>","1","3","","","","CC BY-SA 2.5","4369400","4452","4452","r","404559","3625322","3607736","",""
"4369690","1","4369796","","2010-12-06 18:31:34","","2","954","<p>I would like <code>prettyNum</code> to handle zero values differently; for example, instead of printing ""0"", have it print ""&lt;0.01"". I have been looking at the <code>zero.print</code> option but have only managed to get it print a single character. If for example you set zero.print=""abc"", only ""a"" will get printed (instead of ""0"").</p>

<p>Can you please let me know how to solve this problem? Or perhaps, <code>prettyNum</code> and <code>zero.print</code> it's not the way to go?</p>

<p>Thank you.</p>
","532699","","","user4275591","2014-12-08 11:41:31","2014-12-08 11:41:31","How to format zero values in R using prettyNum and zero.print","<r>","1","0","","","","CC BY-SA 3.0","4369690","4452","4452","r","404559","3625322","3607736","",""
"4370033","1","4370067","","2010-12-06 19:13:57","","36","47405","<p>I can make a sequence of numbers like this:</p>

<pre><code>s = seq(from=1, to=10, by=1)
</code></pre>

<p>How do I make a sequence of characters from A-Z? This doesn't work:</p>

<pre><code>seq(from=1, to=10)
</code></pre>
","57458","","202229","","2018-05-25 00:38:34","2018-05-25 00:38:34","Generate a sequence of characters from 'A'-'Z'","<r><character><ascii><sequence><seq>","4","0","5","","","CC BY-SA 4.0","4370033","4452","4452","r","404559","3625322","3607736","",""
"4370379","1","4370426","","2010-12-06 19:55:19","","0","190","<p>In the example below, I have two rows where First, Last, and Address 1/2 match. Two different email addreses but with one extra custom field. What I would like to do is systematically select the first row when presented with multiple rows that looks like this. </p>

<pre><code>Lines &lt;- ""
First, Last, Address, Address 2, Email, Custom1, Custom2, Custom3
A, B, C, D, E@E.com,1,2,3
A, B, C, D, F@G.com,1,2,
""
con &lt;- textConnection(Lines)
</code></pre>

<p>In words: </p>

<p>IF First &amp; Last &amp; Address 1 &amp; Address 2 match, choose that one where custom3 is not NA. </p>

<p>How would I go about applying this to a large set of data?  </p>

<p>Note: Speed is not important here, an example with plyr would be most useful. </p>
","170352","","","","","2010-12-06 20:13:07","Choosing a Row based on matches and NA in a different field","<r>","2","0","","","","CC BY-SA 2.5","4370379","4452","4452","r","404559","3625322","3607736","",""
"4371181","1","4388071","","2010-12-06 21:34:06","","58","25636","<p>How do people learn about giving an R package a namespace? I find the documention in ""R Extensions"" fine, but I don't really get what is happening when a variable is imported or exported - I need a dummy's guide to these directives. </p>

<p>How do you decide what is exported? Is it just everything that really shouldn't required the pkg:::var syntax? What about imports? </p>

<p>Do imports make it easier to ensure that your use of other package functions doesn't get confused when function names overlap? </p>

<p>Are there special considerations for S4 classes? </p>

<p>Packages that I'm familiar with that use namespaces such as sp and rgdal are quite complicated - are there simple examples that could make things clearer? </p>
","355270","","","","","2021-04-01 17:59:57","Namespaces in R packages","<r>","6","0","15","","","CC BY-SA 2.5","4371181","4452","4452","r","404559","3625322","3607736","",""
"4371259","1","4372177","","2010-12-06 21:46:39","","3","2454","<p>I've been referred to both:</p>

<pre><code>?URLencode
#and
?curlEscape
</code></pre>

<p>I see that both functions work great for English, but fail to provide with the proper translation for Hebrew characters.</p>

<p>For example, the word</p>

<blockquote>
  <p></p>
</blockquote>

<p>(Peace, in Hebrew)
Should be this:</p>

<blockquote>
  <p>%D7%A9%D7%9C%D7%95%D7%9D</p>
</blockquote>

<p>But instead, both commands translate it to:</p>

<pre><code>URLencode("""")
%f9%ec%e5%ed
</code></pre>

<p>What do you suggest?  (write it myself, or is there something pre-made)</p>

<p>Thanks, 
Tal</p>

<p>Update: My sessionInfo:</p>

<pre><code>&gt; sessionInfo()
R version 2.12.0 (2010-10-15)
Platform: i386-pc-mingw32/i386 (32-bit)

locale:
[1] LC_COLLATE=Hebrew_Israel.1255  LC_CTYPE=Hebrew_Israel.1255   
[3] LC_MONETARY=Hebrew_Israel.1255 LC_NUMERIC=C                  
[5] LC_TIME=Hebrew_Israel.1255    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     
</code></pre>
","256662","","256662","","2010-12-07 08:34:41","2010-12-07 15:15:53","Hebrew ""URL Encoding"" in R?","<r><urlencode><url-encoding>","1","2","","","","CC BY-SA 2.5","4371259","4452","4452","r","404559","3625322","3607736","",""
"4372140","1","4372218","","2010-12-06 23:47:43","","0","59","<p>I have a data.frame that has a number of duplicate rows, akin to something like this:</p>

<pre><code>con &lt;- textConnection(Lines &lt;- ""
First, Last, Address, Address 2, Email, Custom1, Custom2, Custom3
A, B, C, D, F@G.com,1,2,3
A, B, C, D, F@G.com,1,2,2
A, B, C, D, F@G.com,1,2,1
"")
x &lt;- read.csv(con)
close(con)
</code></pre>

<p>Now, when I de-duplicate, in the following manner: </p>

<pre><code>x &lt;- x[!duplicated(x[,c(""email"")]),]
</code></pre>

<p>Could you recommend a method for prioritizing those rows that contain Custom3=1? Or is there a better mechanism for de-duplication? </p>
","170352","","","","","2010-12-07 00:05:07","Priority/Decision Based Choice of Row","<r>","1","0","","","","CC BY-SA 2.5","4372140","4452","4452","r","404559","3625322","3607736","",""
"4372145","1","4374445","","2010-12-06 23:49:23","","20","5556","<p>OK, we're all familiar with double colon operator in R. Whenever I'm about to write some function, I use <code>require(&lt;pkgname&gt;)</code>, but I was always thinking about using <code>::</code> instead. Using <code>require</code> in custom functions is better practice than <code>library</code>, since <code>require</code> returns warning and <code>FALSE</code>, unlike <code>library</code>, which returns error if you provide a name of non-existent package.</p>

<p>On the other hand, <code>::</code> operator gets the variable from the package, while <code>require</code> loads whole package (at least I hope so), so speed differences came first to my mind. <code>::</code> must be faster than <code>require</code>.</p>

<p>And I did some analysis in order to check that - I've written two simple functions that load <code>read.systat</code> function from <code>foreign</code> package, with <code>require</code> and <code>::</code> respectively, hence import <code>Iris.syd</code> dataset that ships with <code>foreign</code> package, replicated functions 1000 times each (which was shamelessly arbitrary), and... crunched some numbers.</p>

<p>Strangely (or not) I found significant differences in terms of user CPU and elapsed time, while there were no significant differences in terms of system CPU. And yet more strange conclusion: <code>::</code> is actually slower! Documentation for <code>::</code> is very blunt, and just by looking at sources it's obvious that <code>::</code> should perform better!</p>

<p><strong>require</strong></p>

<pre><code>#!/usr/local/bin/r

## with require
fn1 &lt;- function() {
  require(foreign)
  read.systat(""Iris.syd"", to.data.frame=TRUE)
}

## times
n &lt;- 1e3

sink(""require.txt"")
print(t(replicate(n, system.time(fn1()))))
sink()
</code></pre>

<p><strong>double colon</strong></p>

<pre><code>#!/usr/local/bin/r

## with ::
fn2 &lt;- function() {
  foreign::read.systat(""Iris.syd"", to.data.frame=TRUE)
}

## times
n &lt;- 1e3


sink(""double_colon.txt"")
print(t(replicate(n, system.time(fn2()))))
sink()
</code></pre>

<p>Grab CSV data <a href=""http://dl.dropbox.com/u/8566396/sim/require%20vs%20colon/require_colon_sim.csv"" rel=""noreferrer"">here</a>. Some stats:</p>

<pre><code>user CPU:     W = 475366    p-value = 0.04738  MRr =  975.866    MRc = 1025.134
system CPU:   W = 503312.5  p-value = 0.7305   MRr = 1003.8125   MRc =  997.1875
elapsed time: W = 403299.5  p-value &lt; 2.2e-16  MRr =  903.7995   MRc = 1097.2005
</code></pre>

<p>MRr is mean rank for <code>require</code>, MRc ibid for <code>::</code>. I must have done something wrong here. It just doesn't make any sense... Execution time for <code>::</code> seems way faster!!! I may have screwed something up, you shouldn't discard that option...</p>

<p>OK... I've wasted my time in order to see that there is some difference, and I carried out completely useless analysis, so, back to the question:</p>

<p>""<em>Why should one prefer <code>require</code> over <code>::</code> when writing a function?</em>""</p>

<p>=)</p>
","457898","","","","","2018-07-08 23:09:27","R writing style - require vs. ::","<r><namespaces><packages>","2","3","4","","","CC BY-SA 2.5","4372145","4452","4452","r","404559","3625322","3607736","",""
"4372225","1","4372795","","2010-12-07 00:06:42","","0","1872","<p>In R, suppose there is a function that return a list of vectors and the function is run with replicate() many times. Then the return from the replicate is a 2D matrix of lists. </p>

<p>I was wondering how to form a vector, which is composed of some particular component in some particular vector of the list returned by each running of the function with replicate()?</p>

<p>For example, how to create a vector from all the last components in the last vectors in all the lists returned by the replicate() on the function myf()? Note that all such components in this example happened to have value 6.</p>

<pre><code>&gt; myf&lt;-function(){list(c(1,2),c(3,4),c(5,6))}
&gt; out=replicate(4, myf())
&gt; out[3,][[]][2]
Error in out[3, ][[]] : invalid subscript type 'symbol'
&gt; out[3,]
[[1]]
[1] 5 6

[[2]]
[1] 5 6

[[3]]
[1] 5 6

[[4]]
[1] 5 6
&gt; out[3,][[1]][2]
[1] 6
&gt; out[3,][[2]][2]
[1] 6
&gt; out[3,][[4]][2]
[1] 6
&gt; out[3,][[3]][2]
[1] 6
</code></pre>

<p>If you have better way of return multiple things by a function, which is potentially run with replicate, please don't hesitate to reply.</p>

<p>Thanks and regards!</p>
","156458","","","","","2010-12-07 02:12:45","Return of multiple things by a function which is run many times by replicate()","<r>","2","1","","","","CC BY-SA 2.5","4372225","4452","4452","r","404559","3625322","3607736","",""
"4375737","1","4379805","","2010-12-07 10:39:52","","1","825","<p>I am running a script that stores different datasets to a MySQL database. This works so far, but only sequentially. e.g.:</p>

<pre><code># write table1 
replaceTable(con,tbl=""table1"",dframe=dframe1)

# write table2 
replaceTable(con,tbl=""table2"",dframe=dframe2)
</code></pre>

<p>If I select both (I use StatET / Eclipse) and run the selection, I get an error: </p>

<pre><code>Error in function (classes, fdef, mtable)  : 
  unable to find an inherited method for function ""dbWriteTable"",
  for signature ""MySQLConnection"", ""data.frame"", ""data.frame"".
</code></pre>

<p>I guess this has to do with the fact that my con is still busy or so when the second request is started. When I run the script line after line it just works fine. Hence I wonder, how can I tell R to wait til the first request is ready and then go ahead ? How can I make R scripts interactive (just console like plot examples - no tcl/tk).  </p>

<p>EDIT:</p>

<pre><code>require(RMySQL)

replaceTable &lt;- function(con,tbl,dframe){
  if(dbExistsTable(con,tbl)){
    dbRemoveTable(con,tbl)
    dbWriteTable(con,tbl,dframe)    
    cat(""Existing database table updated / overwritten."")
  }
  else {
    dbWriteTable(con,tbl,dframe)
    cat(""New database table created"")
  }  
}
</code></pre>
","366256","","121332","","2010-12-07 13:32:55","2010-12-07 17:44:38","Second RMySQL operation fails - why?","<mysql><r>","1","5","","","","CC BY-SA 2.5","4375737","4452","4452","r","404559","3625322","3607736","",""
"4376464","1","","","2010-12-07 12:17:05","","0","1262","<p>The scheme I am trying to evaluate is:  </p>

<pre><code>weka.classifiers.meta.AttributeSelectedClassifier -E ""weka.attributeSelection.CfsSubsetEval "" -S ""weka.attributeSelection.BestFirst -D 1 -N 5"" -W weka.classifiers.functions.SMOreg -- -C 1.0 -N 0 -I ""weka.classifiers.functions.supportVector.RegSMOImproved -L 0.0010 -W 1 -P 1.0E-12 -T 0.0010 -V"" -K ""weka.classifiers.functions.supportVector.PolyKernel -C 250007 -E 1.0""
</code></pre>

<p>i.e. I am trying to run an AttributeSelectedClassifier with an SMOreg classifier inside. Every other parameter is the default value of the respective classifier.  </p>

<p>So the R code is:</p>

<pre><code>optns &lt;- Weka_control(W = ""weka.classifiers.functions.SMOreg"")   
ASC &lt;- make_Weka_classifier(""weka/classifiers/meta/AttributeSelectedClassifier"")  
model &lt;- ASC(class ~ ., data = as.data.frame(dat), control = optns)  
evaluation &lt;- evaluate_Weka_classifier(model, numFolds = 10)  
evaluation
</code></pre>

<p>When I run the above R code I get this error:  </p>

<pre><code>Error in .jcall(evaluation, ""D"", x, ...) : java.lang.NullPointerException
</code></pre>

<p>The above error happens in RWeka's evaluate.R where it tries to call the WEKA methods: <code>""pctCorrect"", ""pctIncorrect"", ""pctUnclassified"", ""kappa"", ""meanAbsoluteError"",""rootMeanSquaredError"",""relativeAbsoluteError"",""rootRelativeSquaredError""</code></p>

<p>I also tried manually specifying the default values using the Weka_control object like so:</p>

<pre><code>optns &lt;- Weka_control(E = ""weka.attributeSelection.CfsSubsetEval "",  
                      S = list(""weka.attributeSelection.BestFirst"", D = 1,N = 5),  
                      W = list(""weka.classifiers.functions.SMOreg"", ""--"", 
                               C=1.0, N=0,   
                      I = list(""weka.classifiers.functions.supportVector.RegSMOImproved"",
                               L = 0.0010, W=1,P=1.0E-12,T=0.0010,V=TRUE),
                      K = list(""weka.classifiers.functions.supportVector.PolyKernel"",
                               C=250007, E=1.0)))  
ASC &lt;- make_Weka_classifier(""weka/classifiers/meta/AttributeSelectedClassifier"")  
model &lt;- ASC(class ~ ., data = as.data.frame(dat), control = optns)  
evaluation &lt;- evaluate_Weka_classifier(model, numFolds = 10)  
evaluation
</code></pre>

<p>and I get this error:</p>

<p><code>Error in .jcall(classifier, ""V"", ""buildClassifier"", instances) : 
  java.lang.Exception: Can't find class called: weka.classifiers.functions.SMOreg -- -C 1 -N 0 -I weka.classifiers.functions.supportVector.RegSMOImproved -L 0.001 -W 1 -P 1e-12 -T 0.001 -V -K weka.classifiers.functions.supportVector.PolyKernel -C 250007 -E 1</code></p>
","123574","","429846","","2010-12-07 13:08:43","2011-03-25 20:30:02","How to evaluate this scheme in RWeka?","<r><weka>","1","0","","","","CC BY-SA 2.5","4376464","4452","4452","r","404559","3625322","3607736","",""
"4376863","1","4377270","","2010-12-07 13:04:12","","2","682","<p>I have been stuck for hours. I want to add robust standard errors (and some other stuff) to the R outreg function by Paul Johnsson (orginal code here <a href=""http://pj.freefaculty.org/R/outreg-worked.R"" rel=""nofollow"">http://pj.freefaculty.org/R/outreg-worked.R</a>)</p>

<p>I have a great problem thou making the standard errors robust. In the code I have replaced</p>

<pre><code>se&lt;-sqrt(diag(vcov(model)))[regname]
</code></pre>

<p>With</p>

<pre><code>se&lt;-sqrt(diag(vcovHC(model,type=""HC1"" )))[regname]
</code></pre>

<p>But anyway the nonrobust standard errors appears when I generate a latex file with Sweave.
I have looking at the and my code chunk do returns robust S.E. (or other values then the orginal code anyhow). I am getting mad ! =)</p>

<p>Here is my complete code for the function.</p>

<pre><code>### Paul Johnson
### Adapted from ideas in post in r-help by Dave Armstrong May 8, 2006


###tight means one column per fitted model
###not tight means 2 columns per fitted model

###incoming= either one regression model or a list of regresion models
###title = a string
###modelLabels= a VECTOR of character strings
### varLabels= a LIST of labels linked to variable names (see examples)
### tight= BOOLEAN, indicates results should be on one tight column or two for each model
### showAIC= BOOLEAN should the AIC be displayed for each model?
### lyx=create a table suitable for inclusion in a lyx float.

outreg &lt;- function(incoming, title=""My Regression"", label="""", modelLabels=NULL, varLabels=NULL, tight=TRUE, showAIC=TRUE, lyx=TRUE){

  modelList &lt;- NULL

  ## was input just one model, or a list of models?  ###
  if ( ""lm"" %in% class(incoming)) { ##just one model input
    nmodels &lt;- 1
    modelList &lt;- list(modl1=incoming)
  } else {
    nmodels &lt;- length(incoming)
    modelList &lt;- incoming
  } 

  ##TODO modelLabels MUST have same number of items as ""incoming""


  ## Get a regression summary object for each fitted model
  summaryList &lt;- list()
  fixnames &lt;- vector()
  myModelClass &lt;- vector()

  i &lt;-  1
  for (model in modelList){
    summaryList[[i]] &lt;- summary(model)

    fixnames &lt;- unique( c( fixnames, names(coef(model))))
    myModelClass[i] &lt;- class(model)[1]
    i &lt;- i+1
  }



  ###If you are just using LaTeX, you need these
if (lyx == FALSE){
 cat(""\\begin{table}\n "")
  cat(""\\caption{"",title,""}\\label{"",label,""}\n "")
 }
  cat(""\\begin{center}\n "")
  nColumns &lt;- ifelse(tight, 1+nmodels, 1 + 2*nmodels) 
  cat(paste(""\\begin{tabular}{*{"",nColumns,""}{l}}\n "", sep=""""))
  cat(""\\hline\n "")

  ### Put model labels on top of each model column, if modelLabels were given
  if (!is.null(modelLabels)){
    cat(""     "")
    for (modelLabel in modelLabels){
      if (tight == T) {
        cat(paste(""&amp;"", modelLabel))
      }else{
        cat(paste(""&amp;\\multicolumn{2}{c}{"",modelLabel,""}"",sep=""""))
      }
    }
    cat ("" \\\\\n "")
  }

  ### Print the headers ""Estimate"" and ""(S.E.)"", output depends on tight or other format 
  if (tight == T){
    cat(""             "")
    for (i in 1:nmodels) { cat ("" &amp; Estimate "") }
    cat("" \\\\\n"")

    cat(""             "")
    for (i in 1:nmodels) {  cat ("" &amp; (S.E.) "") }
    cat("" \\\\\n"")
  }else{

    cat(""             "")
    for (i in 1:nmodels) { cat ("" &amp; Estimate &amp; S.E."") }
    cat("" \\\\\n"")
  }


  cat(""\\hline \n \\hline\n "")


  ### Here come the regression coefficients
  for (regname in fixnames){
    if ( !is.null(varLabels[[regname]]) ) { cat(paste("""",varLabels[[regname]]), sep="""")}
    else {cat(paste("""", regname), sep="""")}

    for (model in modelList) {
      est &lt;- coef(model)[regname]
      se &lt;- sqrt(diag(vcov(model)))[regname]
      if ( !is.na(est) ) {
        cat (paste(""   &amp;   "", round(est,3)))
        pval &lt;- pt(abs(est/se), lower.tail=F, df = model$df.residual)
        if (pval &lt; 0.025) cat(""*"")

        if (tight == F) {
          cat (paste(""   &amp;   ("", round(se,3),"")"",sep=""""))
        }
      } else {
        cat (""   &amp; . "")
        if (tight == F) cat ("" &amp; "" )
      }
    }
    cat ("" \\\\\n "")

    if (tight == T){
      for (model in modelList) {
        est &lt;- coef(model)[regname]
        if (!is.na(est)) cat (paste(""   &amp;   ("",round(sqrt(diag(vcov(model)))[regname],3)),"")"",sep="""")
        else cat(""   &amp;  "")
      }
      cat ("" \\\\\n "")
    }
   }
  cat(""\\hline \n"")


  ### Print a row for the number of cases
  cat(paste(""N""), sep="""")
  for (model in summaryList) {
    myDF &lt;- sum( model$df[-3] ) #omit third value from df vector
    cat (paste(""   &amp;   "", myDF))
    if (tight == F) cat(""    &amp;"")
  }
  cat ("" \\\\\n "")


  ### Print a row for the root mean square error
  if (""lm"" %in% myModelClass) {
       cat(paste(""$RMSE$""),sep="""")
       for (model in summaryList) {
         cat( paste(""       &amp;"", if(is.numeric(model$sigma)) round(model$sigma,3)))
         if (tight == F) cat(""    &amp;"")
       }
       cat (""  \\\\\n "")
     }


  ### Print a row for the R-square
  if (""lm"" %in% myModelClass) {
     cat(paste(""$R^2$""),sep="""")
     for (model in summaryList) {
       cat( paste(""       &amp;"", if(is.numeric(model$r.square))round(model$r.square,3)))
       if (tight == F) cat(""    &amp;"")
     }
     cat (""  \\\\\n "")
   }


  ## Print a row for the model residual deviance
   if (""glm"" %in% myModelClass) {
    cat(paste(""$Deviance$""),sep="""")
    for (model in summaryList) {
      cat (paste(""      &amp;"", if(is.numeric(model$deviance))round(model$deviance,3)))
      if (tight == F) cat(""      &amp;"")
    }
    cat (""  \\\\\n "")
  }

  ### Print a row for the model's fit, as -2LLR
  if (""glm"" %in% myModelClass) {    
    cat (paste(""$-2LLR (Model \\chi^2)$""),sep="""")
    for (model in modelList) {
      if (is.numeric(model$deviance)){
        n2llr &lt;- model$null.deviance - model$deviance 
        cat (paste(""      &amp;"", round(n2llr,3)))
        gmdf &lt;- model$df.null - model$df.residual + 1

        if (pchisq(n2llr, df= gmdf, lower.tail=F) &lt; 0.05) {cat (""*"")}
      }

      else {
        cat (""    &amp;"")
      }
      if (tight == F) cat(""      &amp;"")
    }
    cat (""  \\\\\n "")
  }



  ## Print a row for the model's fit, as -2 LLR
  ### Can't remember why I was multiplying by -2

  if (showAIC == T) {
    cat(paste(""$AIC$""),sep="""")
    for (model in modelList) {
      cat (paste(""      &amp;"", if(is.numeric(AIC(model)))round(AIC(model),3)))
      if (tight == F) cat(""      &amp;"")
    }
    cat (""  \\\\\n "")
  }



   cat(""\\hline\\hline\n"")
   cat (""* $p \\le 0.05$"")
   cat(""\\end{tabular}\n"")
   cat(""\\end{center}\n"")
   if (lyx == FALSE){ 
      cat(""\\end{table}\n"")
   }
 }
</code></pre>
","528493","","","","","2010-12-07 13:51:43","Problem with adding robust standard errors to modified outreg function","<r><sweave>","2","3","1","","","CC BY-SA 2.5","4376863","4452","4452","r","404559","3625322","3607736","",""
"4377031","1","4382977","","2010-12-07 13:22:33","","3","575","<p>I have created a graph using ggplot2. Now I want to have the legend not onto the graph but in the grid outside the graph.</p>

<p>My question is now if someone knows if there is a possibility to use the pch symbols in grid.text?</p>

<p>Here is an image to show what I want ;)
<img src=""https://i.stack.imgur.com/7gwG9.jpg"" alt=""alt text""></p>

<p>Best regards</p>
","1848552","","134830","","2015-01-14 18:29:51","2015-01-14 18:29:51","Using pch Characters in grid.text","<r><ggplot2><r-grid>","1","0","","","","CC BY-SA 2.5","4377031","4452","4452","r","404559","3625322","3607736","",""
"4377507","1","4377792","","2010-12-07 14:11:25","","0","259","<p>Here is the code:</p>

<pre><code>require(""quantmod"")

getSymbols(""GLD"") 
getSymbols(""SLV"")
getSymbols(""TLT"")

GSR = GLD/SLV

par(mfrow=c(2,2))

chartSeries (GLD, subset=""2010"", TA = NULL)               
chartSeries (SLV, subset=""2010"", TA = NULL)               
chartSeries (TLT, subset=""2010"", TA = NULL)               
chartSeries (GSR, subset=""2010"", TA = NULL)
</code></pre>

<p>When I run this file from TextMate with the Command R keystroke, I get four charts lined up in a 2 x 2 grid, as you'd expect from the par() function. When I source this from the R console, </p>

<pre><code>&gt; source(""~/myChartSeries.r"")
</code></pre>

<p>I get a flash of each chart with the last one depicted alone. The last I'd heard, chartSeries() was not compliant with the par() function but chart_Series() is. So the behavior of the console is not surprising. But why does execution from TextMate work? Has chartSeries() been made par() compliant and is the R console execution flawed?</p>
","296155","","","","","2011-08-09 18:46:48","R quantmod package behaves differently when executed from console versus from TextMate","<r><console><textmate>","2","5","","","","CC BY-SA 2.5","4377507","4452","4452","r","404559","3625322","3607736","",""
"4378393","1","","","2010-12-07 15:33:25","","1","1222","<p>Probably a beginner-question. I can't select a row based on criteria from other table. Should be simple, but I'm missing something.</p>

<p>I have two tables:</p>

<p><strong>T1</strong>  </p>

<pre><code>X    C  
3    a  
4    a  
41   b
</code></pre>

<p>and</p>

<p><strong>T2</strong>  </p>

<pre><code>A    B    C    D  
1    5    a   22  
7   11    a   27  
35  49    b   29 
</code></pre>

<p>I want to add the column D to T1, where X is between A and B in T2, and C=C. So the resulting table should look like this:</p>

<p><strong>T1b</strong>  </p>

<pre><code>X    C    D  
3    a    22  
4    a    22  
41   b    29  
</code></pre>

<p>Thanks.</p>

<p>/Chris</p>
","533878","","322912","","2011-04-28 09:06:07","2011-04-28 09:06:07","Selecting rows based on values in other table","<r>","1","1","1","","","CC BY-SA 3.0","4378393","4452","4452","r","404559","3625322","3607736","",""
"4379361","1","4379491","","2010-12-07 17:00:04","","4","783","<p>Here is an example data set:</p>
<pre><code>data &lt;- data.frame (author = c('bob', 'john', 'james'), 
                    year = c(2000, 1942, 1765), 
                    title = c('test title one two three', 
                              'another test title four five', 
                              'third example title'))
</code></pre>
<p>And I would like to automate the process of <strong>making bibtex references</strong>, e.g. with a function like this:</p>
<pre><code>bibtexify &lt;- function (author, year, title) {
      acronym &lt;- convert.to.acronym(title)
      paste(author, year, acronym, sep='')
      }
</code></pre>
<p>so that I get the following result:</p>
<pre><code>with(data, bibtexify(author, year, title))
[1] 'bob2000tto'
[2] 'john1942att'
[3] 'james1765tet'
</code></pre>
<p>Is it possible to do this in R?</p>
","199217","","202229","","2020-12-10 00:31:01","2020-12-10 00:31:01","Convert string of words to a custom acronym/abbreviation in R and concatenate it with data from other rows?","<r><text><bibtex><abbreviation>","4","1","","","","CC BY-SA 4.0","4379361","4452","4452","r","404559","3625322","3607736","",""
"4379681","1","4380107","","2010-12-07 17:31:27","","4","2446","<p>As stated in the <a href=""http://cran.r-project.org/doc/manuals/R-intro.pdf"" rel=""nofollow"">Intro to R</a> manual, </p>

<pre><code>paste(""\\"")
</code></pre>

<p>prints</p>

<pre><code>[1] ""\\""
</code></pre>

<p>Is it possible for paste to print out </p>

<pre><code>[1] ""\""
</code></pre>

<p>?</p>

<p><strong>update:</strong> I didn't want Gavin's this nice answer to get stuck in the comments below, so I'll paste it here:</p>

<pre><code>print(xtable(as.matrix(""\\citep{citation}"")), sanitize.text.function = function(x) {x}) 
</code></pre>
","199217","","199217","","2010-12-22 21:11:00","2010-12-22 21:11:00","Can R paste() output ""\""?","<r><text>","3","9","2","","","CC BY-SA 2.5","4379681","4452","4452","r","404559","3625322","3607736","",""
"4380849","1","4523805","","2010-12-07 19:40:40","","4","660","<p>I have a simple shell script that builds my Roxygen documents, builds the package, checks, then installs the newly built package on my machine. It's quite simple:</p>

<pre><code>#! /bin/sh
R CMD roxygen -d myPackage 
R CMD build myPackage/
R CMD check myPackage_0.01.tar.gz
R CMD INSTALL myPackage myPackage_0.01.tar.gz 
</code></pre>

<p>But I'm having issues with Roxygen picking up my .onLoad() function as <a href=""https://stackoverflow.com/q/2316356/37751"">described previously on StackOverflow</a>. The solution is to use the use.Rd2=TRUE option with roxygenize. Well I want to build from the command prompt so I changed this line</p>

<pre><code>R CMD roxygen -d myPackage 
</code></pre>

<p>to the following line which shoves a roxygenize line to R through the stdin:</p>

<pre><code>echo 'require(""roxygen""); roxygenize(""myPackage"", roxygen.dir=""myPackage"",
   copy.package=FALSE, use.Rd2=TRUE)' | R --no-save &lt; /dev/stdin
</code></pre>

<p>This <strong>seems</strong> to work just dandy. But it feels a little convoluted. Is there an easier and/or more elegant way?</p>
","37751","","-1","","2017-05-23 10:33:07","2010-12-26 05:39:59","Roxygen, package building, and use.Rd2=TRUE","<r><roxygen>","2","3","6","","","CC BY-SA 2.5","4380849","4452","4452","r","404559","3625322","3607736","",""
"4382108","1","4382929","","2010-12-07 22:03:38","","12","3200","<p>I am exploring some data, so the first thing I wanted to do was try to fit a normal (Gaussian) distribution to it. This is my first time trying this in R, so I'm taking it one step at a time.  First I pre-binned my data:</p>

<pre><code>myhist = data.frame(size = 10:27, counts = c(1L, 3L, 5L, 6L, 9L, 14L, 13L, 23L, 31L, 40L, 42L, 22L, 14L, 7L, 4L, 2L, 2L, 1L) )

qplot(x=size, y=counts, data=myhist)
</code></pre>

<p><img src=""https://i.stack.imgur.com/GzL0i.png"" alt=""plot1""></p>

<p>Since I want counts, I need to add a normalization factor (N) to scale up the density:</p>

<pre><code>fit = nls(counts ~ N * dnorm(size, m, s), data=myhist, start=c(m=20, s=5, N=sum(myhist$counts)) )   
</code></pre>

<p>Then I create the fitted data for display and everything works great:</p>

<pre><code>x = seq(10,30,0.2)
fitted = data.frame(size = x, counts=predict(fit, data.frame(size=x)) )
ggplot(data=myhist, aes(x=size, y=counts)) + geom_point() + geom_line(data=fitted)
</code></pre>

<p><img src=""https://i.stack.imgur.com/Eumh1.png"" alt=""plot2""></p>

<p>I got excited when I found this thread which talks about using geom_smooth() to do it all in one step, but I can't get it to work:</p>

<ul>
<li><a href=""http://www.mail-archive.com/r-help@r-project.org/msg109882.html"" rel=""nofollow noreferrer"">http://www.mail-archive.com/r-help@r-project.org/msg109882.html</a></li>
</ul>

<p>Here's what I try... and what I get:</p>

<pre><code>ggplot(data=myhist, aes(x=size, y=counts)) + geom_point() + geom_smooth(method=""nls"", formula = counts ~ N * dnorm(size, m, s), se=F, start=list(m=20, s=5, N=300, size=10))

Error in method(formula, data = data, weights = weight, ...) : 
  parameters without starting value in 'data': counts
</code></pre>

<p>The error seems to indicate that it's trying to fit for the observed variable, <strong>counts</strong>, but that doesn't make any sense, and it predictably freaks out if I specify a ""starting"" value for counts too:</p>

<pre><code>fitting parameters m, s, N, size, counts without any variables

Error in eval(expr, envir, enclos) : object 'counts' not found
</code></pre>

<p>Any idea what I'm doing wrong?  It's not the end of the world, of course, but fewer steps are always better, and you guys always come up with the most elegant solutions to these common tasks.</p>

<p>Thanks in advance!</p>

<p>Jeffrey</p>
","402460","","139271","","2014-07-23 09:09:44","2014-07-23 09:09:44","trying to display original and fitted data (nls + dnorm) with ggplot2's geom_smooth()","<r><ggplot2><curve-fitting><least-squares><model-fitting>","1","2","9","","","CC BY-SA 3.0","4382108","4452","4452","r","404559","3625322","3607736","",""
"4383247","1","4383474","","2010-12-08 00:56:08","","2","232","<p>Well, the conversion with <code>as.double</code> appears to work, but then adding a non-integral number gets truncated back to integer.  For example, this is the setup:</p>

<pre><code>geo &lt;- fetch.data.from.mysql(...)
&gt; head(geo$total_time)
[1] 1586  165 5339 1586 2895 1178
&gt; typeof(geo$total_time)
[1] ""integer""
&gt; typeof(as.double(geo$total_time))
[1] ""double""
</code></pre>

<p>So far everything is as expected.  But then when you try to add 0.5 to it, it says it's a double but it truncates the decimal part like an integer:</p>

<pre><code>&gt; head(geo$total_time + 0.5)
[1] 1586  166 5340 1586 2896 1178
&gt; head(as.double(geo$total_time) + 0.5)
[1] 1586  166 5340 1586 2896 1178
&gt; typeof(geo$total_time + 0.5)
[1] ""double""
</code></pre>

<p>The column in the MySQL database is: <code>`total_time` int(32) default NULL</code></p>

<p>I really need to add some jitter to this vector, so this is driving me nuts.  Any help would be appreciated.  Finally, sessionInfo():</p>

<pre><code> &gt; sessionInfo()
 R version 2.12.0 (2010-10-15)
 Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

 locale:
 [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

 attached base packages:
 [1] grid      stats     graphics  grDevices utils     datasets  methods   base     

 other attached packages:
 [1] RMySQL_0.7-5  DBI_0.2-5     ggplot2_0.8.8 proto_0.3-8   reshape_0.8.3 plyr_1.2.1   

 loaded via a namespace (and not attached):
 [1] tools_2.12.0
</code></pre>
","69749","","23897","","2010-12-08 01:03:30","2010-12-08 01:46:45","Integer column fetched with RMySQL can't be converted to double","<mysql><r><type-conversion><rmysql>","1","0","","","","CC BY-SA 2.5","4383247","4452","4452","r","404559","3625322","3607736","",""
"4383258","1","4383725","","2010-12-08 00:59:14","","1","486","<p>I am wondering if in R there is a per-existing package that can colorate sets inside graph or a package that can generate a list of colors that are not close, 
Because I have a graph that have many clusters and I want to color but I don't want to colors to be close.
I have found a nice answer <a href=""https://stackoverflow.com/questions/309149/generate-distinctly-different-rgb-colors-in-graphs"">here</a> but I am wondering if there is a per-existing package for</p>
","501507","","-1","","2017-05-23 12:25:37","2010-12-08 02:50:14","Is there any color pattern that exist in R that can be used to color a graph?","<r><graph><colors>","2","0","","","","CC BY-SA 2.5","4383258","4452","4452","r","404559","3625322","3607736","",""
"4383531","1","4383591","","2010-12-08 01:58:39","","2","1464","<p>Here is some basic info about my data</p>

<pre><code>&gt; prod.ts
Time Series:
Start = 2009.26027397260 
End = 2010.83719704953 
Frequency = 52 
 [1]  895 1780 1989 1996 1660 1860 1921 2188 1789 1996 2085 2185 2205 2232 2062
[16] 2257 2000 2055 2084 1977 2051 1999 2428 2220 2385 2174 2307 2549 2211 2224
[31] 1922 2091 2318 1986 2080 2069 2106 1998 1480 1841 1819 2119 2109 2072 2206
[46] 1965 2017 2296 1866 2262 2088 2157 2582 2398 2325 1393 2577 2375 2452 2534
[61] 2586 2032 2781 2423 2575 2362 2132 2375 2105 2425 2346 2495 2908 2301 2918
[76] 2426 2633 2312 2472 2305 2622 2662 2626
</code></pre>

<p>I am stumped as to why these two are equivlane</p>

<pre><code>&gt; length(prod.ts)
[1] 83
&gt; length(lag(prod.ts, 1))
[1] 83
</code></pre>

<p>This probably shows that I am new to R and Time series, but what am I missing?</p>

<p>Thanks in advance</p>
","155406","","","","","2010-12-08 02:11:32","Basic Lag TS Object in R not ""working""","<r><time-series>","2","0","","","","CC BY-SA 2.5","4383531","4452","4452","r","404559","3625322","3607736","",""
"4385052","1","4385658","","2010-12-08 07:18:49","","3","465","<p>Quite often I find myself with bunch of R processes running in ESS buffers. There's a convenient Lisp function <code>ess-request-a-process</code> that asks for R process, and brings it to front. The only downside is that it somehow defaults to <strong>S</strong>, so each time I'm about to make a switch, I have to type <strong>R</strong>, ad nauseam.</p>

<p>I tried customising the <code>ess-language</code> variable, but even if I set value to ""R"", i.e. 4 for current session, or even if I save settings for future session, as soon as I type <code>C-c C-k</code>, automagically <strong>S</strong> appears once again. It's very annoying, and I really don't want to end up with <code>C-x C-b</code> and then <code>C-s</code> for desired R session! =)</p>

<p>I even tried setting <code>(setq-default ess-language ""R"")</code> in <code>.emacs</code>, but with no luck...</p>

<p>BTW, I'm running Emacs v. 23.1.1 on Linux Mint and Emacs v. 23.2 on Arch Linux, with ESS v. 5.12. If that's relevant, I run Emacs from terminal with <code>-nw</code> argument. Here's my <code>.emacs</code>:</p>

<pre><code>;; start server
(server-start)

;; load ESS
(require 'ess-site)
(require 'ess-rutils)

;; set HTML help as default
(setq inferior-ess-r-help-command ""help(\""%s\"", help_type = \""html\"")\n"")

(custom-set-variables
  ;; custom-set-variables was added by Custom.
  ;; If you edit it by hand, you could mess it up, so be careful.
  ;; Your init file should contain only one such instance.
  ;; If there is more than one, they won't work right.
 '(ess-help-kill-bogus-buffers t)
 '(ess-rutils-keys nil)
 '(show-paren-mode t))
(custom-set-faces
  ;; custom-set-faces was added by Custom.
  ;; If you edit it by hand, you could mess it up, so be careful.
  ;; Your init file should contain only one such instance.
  ;; If there is more than one, they won't work right.
 )
(put 'upcase-region 'disabled nil)
</code></pre>

<p>So... how to set <strong>R</strong> once and for all? (I don't use S/S+/SAS)</p>
","457898","","","","","2010-12-08 15:02:48","ESS: ess-request-a-process defaults to ""S""","<r><emacs><customization><ess>","1","0","1","","","CC BY-SA 2.5","4385052","4452","4452","r","404559","3625322","3607736","",""
"4385436","1","4385902","","2010-12-08 08:24:26","","30","42609","<p>I would like to find the R implementation that most closely resembles Stata output for fitting a Least Squares Regression function with Heteroskedastic Corrected Standard Errors.  Specifically I would like the corrected standard errors to be in the ""summary"" and not have to do additional calculations for my initial round of hypothesis testing.  I am looking for a solution that is as ""clean"" as what Eviews and Stata provide.</p>

<p>So far, using the ""lmtest"" package the best I can come up with is:</p>

<pre><code>model &lt;- lm(...)
coeftest(model, vcov = hccm) 
</code></pre>

<p>This gives me the output that I want, but it does not seem to be using  ""coeftest"" for its stated purpose. I would also have to use the summary with the incorrect standard errors to read off the R^2 and F stat, etc.  I feel that there should exist a ""one line"" solution to this problem given how dynamic R is. </p>

<p>Thanks</p>
","500257","","1493368","","2013-08-25 16:43:18","2018-04-18 17:50:00","Regression with Heteroskedasticity Corrected Standard Errors","<r><stata>","3","1","26","","","CC BY-SA 2.5","4385436","4452","4452","r","404559","3625322","3607736","",""
"4386154","1","4386477","","2010-12-08 09:56:41","","30","82052","<p>Im attempting to transform two columns in my dataframe to the good date &amp; time class, and until now didnt have much success with it. Ive tried various classes (<code>timeDate</code>, <code>Date</code>, <code>timeSeries</code>, <code>POSIXct</code>, <code>POSIXlt</code>) but without success. Perhaps Im just overlooking the obvious and because Ive tried so many approaches I just dont know whats what anymore. I hope some of you can shed some light on where I go wrong.</p>

<p><strong>Goal</strong>: 
I want to calculate the difference between two dates using the earliest and latest date. I got this working with <code>head()</code> and <code>tail()</code>, but because those values arent necessary the earliest and latest date in my data, I need another way. (I cant get the sorting of data to work, because it sorts the data only on the day of the date.)</p>

<p><strong>Second goal</strong>: I want to convert the dates from daily format (i.e. 8-12-2010) to weekly, monthly, and yearly levels (i.e. '49-2010', 'december-10', and just '2010'). This can be done with the format settings (like <code>%d-%m-%y</code>). Can this be done with converting the data.frame to an time class, and than transforming the timeclass in the right format <code>(8-12-2010 -&gt; format(""%B-%y"") -&gt; 'december-10'</code>), and then transforming that time class into an factor with levels for each month?</p>

<p>For both goals I need to convert the dateframe in some way to an time class, and this is where I ran into some difficulties.</p>

<p>My dataframe looks like this:</p>

<pre><code>&gt; tradesList[c(1,10,11,20),14:15] -&gt; tmpTimes4
&gt; tmpTimes4
   EntryTime ExitTime
1   01-03-07 10-04-07
10  29-10-07 02-11-07
11  13-04-07 14-05-07
20  18-12-07 20-02-08
</code></pre>

<p>Heres an summary of what Ive tried:</p>

<pre><code>&gt; class(tmpTimes4)
[1] ""data.frame""
&gt; as.Date(head(tmpTimes4$EntryTimes, n=1), format=""%d-%m-%y"")
Error in as.Date.default(head(tmpTimes4$EntryTimes, n = 1), format = ""%d-%m-%y"") : 
  do not know how to convert 'head(tmpTimes4$EntryTimes, n = 1)' to class ""Date""
&gt; as.timeDate(tmpTimes4, format=""%d-%m-%y"")
Error in as.timeDate(tmpTimes4, format = ""%d-%m-%y"") : 
  unused argument(s) (format = ""%d-%m-%y"")
&gt; timeSeries(tmpTimes4, format=""%d-%m-%y"")
Error in midnightStandard2(charvec, format) : 
  'charvec' has non-NA entries of different number of characters
&gt; tmpEntryTimes4 &lt;- timeSeries(tmpTimes4$EntryTime, format=""%d-%m-%y"")
&gt; tmpExitTimes4 &lt;- timeSeries(tmpTimes4$ExitTime, format=""%d-%m-%y"")
&gt; tmpTimes5 &lt;- cbind(tmpEntryTimes4,tmpExitTimes4)
&gt; colnames(tmpTimes5) &lt;- c(""Entry"",""Exit"")
&gt; tmpTimes5
     Entry    Exit    
[1,] 01-03-07 10-04-07
[2,] 29-10-07 02-11-07
[3,] 13-04-07 14-05-07
[4,] 18-12-07 20-02-08
&gt; class(tmpTimes5)
[1] ""timeSeries""
attr(,""package"")
[1] ""timeSeries""
&gt; as.timeDate(tmpTimes5, format=""%d-%m-%y"")
Error in as.timeDate(tmpTimes5, format = ""%d-%m-%y"") : 
  unused argument(s) (format = ""%d-%m-%y"")
&gt; as.Date(tmpTimes5, format=""%d-%m-%y"")
Error in as.Date.default(tmpTimes5, format = ""%d-%m-%y"") : 
  do not know how to convert 'tmpTimes5' to class ""Date""
&gt; format.POSIXlt(tmpTimes5, format=""%d-%m-%y"", usetz=FALSE)
Error in format.POSIXlt(tmpTimes5, format = ""%d-%m-%y"", usetz = FALSE) : 
  wrong class
&gt; as.POSIXlt(tmpTimes5, format=""%d-%m-%y"", usetz=FALSE)
Error in as.POSIXlt.default(tmpTimes5, format = ""%d-%m-%y"", usetz = FALSE) : 
  do not know how to convert 'tmpTimes5' to class ""POSIXlt""
&gt; as.POSIXct(tmpTimes5, format=""%d-%m-%y"", usetz=FALSE)
Error in as.POSIXlt.default(x, tz, ...) : 
  do not know how to convert 'x' to class ""POSIXlt""
</code></pre>

<p>The TimeDate packages has an function for range, however, converting to the Date class works for an individual instance, but for some reason not for an data frame:</p>

<pre><code>&gt; as.Date(tmpTimes4[1,1], format=""%d-%m-%y"")
[1] ""2007-03-01""
&gt; as.Date(tmpTimes4, format=""%d-%m-%y"")
Error in as.Date.default(tmpTimes4, format = ""%d-%m-%y"") : 
  do not know how to convert 'tmpTimes4' to class ""Date""
</code></pre>

<p>At this point I almost believe its impossible to do, so any thoughts would be highly appreciated! </p>

<p>Regards,</p>
","531257","","2682264","","2018-06-11 12:18:37","2020-05-06 08:44:59","How to find the highest (latest) and lowest (earliest) date [R]","<datetime><r><time>","3","2","10","","","CC BY-SA 4.0","4386154","4452","4452","r","404559","3625322","3607736","",""
"4388566","1","4388991","","2010-12-08 14:27:36","","1","1505","<p>I have the following question:</p>

<p>I have data frame which looks like this. I have prices, 3 X's and 2 R's.</p>

<pre><code>Date    Name  Price  Interest
01.02.10 X  120     0.2
01.02.10 R  120     0.3
01.02.10 X  130     0.8
01.02.10 X  140     0.4
01.02.10 R  130     0.2
etc.
</code></pre>

<p>I would like to tell R to look for pairs of X&amp;Rs with the same price, and delete the rest. So this should result: 2 X's and 2'Rs (in this case).</p>

<pre><code>Date    Name  Price  Interest
01.02.10 X  120     0.2
01.02.10 R  120     0.3
01.02.10 X  130     0.8
01.02.10 R  130     0.2
etc.
</code></pre>

<p>To make it clearer (hopefully): I have a lot of different prices for each date. Each row either has an X or an R in it. There are a lot of pairs on each date, i.e. for example X, Price = 120 &amp; R, Price = 120 on Date 1. But there are also Prices which only match one Name, for example there is a Price = 140 only for Name = X. So what i would like R to do is: check for machting Names for one Price (i.e. there exists the same Price for one X and one R) and delete the rest. What actually would result is the same number of X's and R's because I'm looking for pairs.</p>

<p>I'm sorry not to be able to post something I tried. I just couldn't think of anything.</p>

<p>Now, to the next problem:
If the pairs are there, I would like to tell R to check each line. If the Name is X, I want it to calculate a new price, if not just print the existing price.
I tried</p>

<pre><code>xx &lt;- if(Name == ""X""){Price + 100*interest} else print{Price}
</code></pre>

<p>but it didn't work.</p>

<p>Thanks for help </p>

<p>Cheers
Dani</p>
","513744","","513744","","2010-12-08 15:28:02","2010-12-08 16:23:05","Matching Columns, Creating Loop in R","<r><loops><matching>","1","4","","","","CC BY-SA 2.5","4388566","4452","4452","r","404559","3625322","3607736","",""
"4389070","1","","","2010-12-08 15:15:50","","9","1258","<p>I just tried out Roxygen package. Within R, I can run through the example in the Roxygen Vignette. But In command line, <code>R CMD roxygen</code> is not recognized as a valid command. When I run <code>R CMD --help</code>, I can see all <code>INSTALL, check, ...sweave..., config...</code> command items but not roxygen. can anyone help me out of this? is there addtional installation steps required other than <code>install.packages(""roxygen"")</code>? I use windows 32 with R 2.12.0 and working Rtools environments. Thanks.</p>
","535170","","","","","2013-04-11 18:28:36","R CMD roxygen not recognized","<r><roxygen>","4","1","1","","","CC BY-SA 2.5","4389070","4452","4452","r","404559","3625322","3607736","",""
"4390862","1","4390902","","2010-12-08 18:21:32","","8","37924","<p>I have a vector like this </p>

<pre><code> c(""1"", ""a"",""b"")
</code></pre>

<p>and I'd like to create this list</p>

<pre><code>list(""a""=1,""b""=1)
</code></pre>

<p>is there a way to do it in an ""apply"" style? Thanks.</p>

<p>-k</p>
","205459","","","","","2016-03-21 14:54:21","convert a vector to a list","<r>","4","2","3","","","CC BY-SA 2.5","4390862","4452","4452","r","404559","3625322","3607736","",""
"4391017","1","","","2010-12-08 18:42:23","","9","2121","<p>I found a great project called r-google-analytics that I'd like to use so I can manipulate GA dat in R at this website <a href=""http://code.google.com/p/r-google-analytics/"" rel=""noreferrer"">http://code.google.com/p/r-google-analytics/</a>.</p>

<p>I run this portion of the code:</p>

<pre><code>library(RCurl)

library(XML)

# 1. Create a new Google Analytics API object 
ga &lt;- RGoogleAnalytics()  
# 2. Authorize the object with your Google Analytics Account Credentials
ga$SetCredentials(""INSERT_USER_NAME"", ""INSERT_PASSWORD"") 
</code></pre>

<p>And I get this error message:</p>

<pre><code>Error in postForm(""https://www.google.com/accounts/ClientLogin"", Email = username,  : 
  SSL certificate problem, verify that the CA cert is OK. Details:
error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed
</code></pre>

<p>Any ideas as to what could be causing the error?</p>

<p>Thanks!</p>

<p>Kim</p>
","535429","","155406","","2010-12-09 15:57:32","2019-03-01 10:58:03","Using R with Google Analytics","<r><google-analytics>","6","0","6","","","CC BY-SA 2.5","4391017","4452","4452","r","404559","3625322","3607736","",""
"4391592","1","4393444","","2010-12-08 19:46:58","","2","2937","<p>In R, if I have a function</p>

<pre><code>myfun&lt;-function(ys, T, N, beta, gamma, sigma) {...}
</code></pre>

<p>where beta and gamma are scalars. </p>

<p>If I have fixed values for ys, T, N, and sigma, but a vector of values of beta and a vector of values for gamma, is it possible to run myfun each time with every possible combination of values for beta and gamma?</p>

<p>I am considering lapply, but don't know how to specify if the arguments with many values to try are not the first argument in the function and also are not just one argument.</p>

<p>Or do I have to rewrite the function myfun so that lapply or similar ones can apply to it?</p>

<p>Or I have to use loop?</p>

<p>Thanks and regards!</p>
","156458","","","","","2011-12-16 14:46:45","run a function with multiple values for more than one arguments that are not the first ones","<r>","2","0","2","","","CC BY-SA 2.5","4391592","4452","4452","r","404559","3625322","3607736","",""
"4392042","1","","","2010-12-08 20:35:28","","8","1507","<p>In R Formula package, it introduces notions for multipart formula like <code>y ~ x1 + x2|I(x1^2)</code>.
What's this formula mean mathematically? How's this different from <code>y ~ x1 + x2 + I(x1^2)</code> or two independent <code>y ~ x1 + x2</code> and <code>y ~ I(x1^2)</code>?</p>
","535570","","298389","","2012-04-09 07:58:50","2012-04-09 07:58:50","What does a R multi-part formula mean in mathematical terms?","<math><r><formula>","1","0","1","","","CC BY-SA 3.0","4392042","4452","4452","r","404559","3625322","3607736","",""
"4393551","1","","","2010-12-08 23:54:04","","0","1510","<p>I want to make a f-test to a plm-model and test for</p>

<pre><code>model &lt;- plm(y ~ a + b)
</code></pre>

<p>if</p>

<pre><code># a = b
</code></pre>

<p>and</p>

<pre><code># a = 0 and b = 0
</code></pre>

<p>I tried linearHypothesis like this</p>

<pre><code>linearHypothesis(ur.model, c(""a"", ""b"")) to test for a = 0 and b = 0
</code></pre>

<p>but got the error</p>

<pre><code>Error in constants(lhs, cnames_symb) : 
  The hypothesis ""sgp1"" is not well formed: contains bad coefficient/variable names.
Calls: linearHypothesis ... makeHypothesis -&gt; rbind -&gt; Recall -&gt; makeHypothesis -&gt; constants
In addition: Warning message:
In constants(lhs, cnames_symb) : NAs introduced by coercion
Execution halted
</code></pre>

<p>My example above is with code that is a little simplified if the problem is easy. If the problems is in the details is the actual code here. </p>

<pre><code>model3 &lt;- formula(balance.agr ~ sgp1 + sgp2 + cp + eu + election + gdpchange.imf + ue.ameco)
ur.model&lt;-plm(model3, data=panel.l.fullsample, index=c(""country"",""year""), model=""within"", effect=""twoways"")
linearHypothesis(ur.model, c(""sgp1"", ""sgp2""), vcov.=vcovHC(plmmodel1, method=""arellano"", type = ""HC1"", clustering=""group""))
</code></pre>
","528493","","415864","","2014-08-13 18:23:48","2014-08-13 18:23:48","F-test with plm-model","<r><plm>","2","1","","","","CC BY-SA 2.5","4393551","4452","4452","r","404559","3625322","3607736","",""
"4393780","1","4394685","","2010-12-09 00:33:48","","8","1428","<p>I wish to scrape the following wiki article: <a href=""http://en.wikipedia.org/wiki/Periodic_table"" rel=""noreferrer"">http://en.wikipedia.org/wiki/Periodic_table</a></p>

<p>So that the output of my R code will be a table with the following columns: </p>

<ul>
<li>Chemical elements short name</li>
<li>Chemical elements full name</li>
<li>The URL to the chemical elements wiki page</li>
</ul>

<p>(and with a row for each chemical element, obviously)</p>

<p>I am trying to get to the values inside the page using the XML package, but seems to be stuck in the beginning, so I'd appreciate an example on how to do it (and/or links to relevant examples)</p>

<pre><code>library(XML)
base_url&lt;-""http://en.wikipedia.org/wiki/Periodic_table""
base_html&lt;-getURLContent(base_url)[[1]]
parsed_html &lt;- htmlTreeParse(base_html, useInternalNodes = TRUE)
xmlChildren(parsed_html)
getNodeSet(parsed_html, ""//html"", c(x = base_url))
[[1]]
attr(,""class"")
[1] ""XMLNodeSet""
</code></pre>
","256662","","256662","","2010-12-09 17:11:34","2018-12-05 20:15:32","Scraping a wiki page for the ""Periodic table"" and all the links","<xml><r><web-scraping>","3","7","9","","","CC BY-SA 2.5","4393780","4452","4452","r","404559","3625322","3607736","",""
"4396768","1","22598364","","2010-12-09 09:42:52","","20","3098","<p>Below I posted a mini example in which I want do write documentation for
an <code>[</code> method for a S4 class. Does someone know how to properly document a method for the generic <code>""[""</code> using roxygen and S4?<br>
I get a warning when checking the package after building (see below).</p>

<pre><code>#' An S4 class that stores a string.
#' @slot a contains a string
#' @export
setClass(""testClass"", 
         representation(a=""character""))

#' extract method for testClass
#'
#' @docType methods
#' @rdname extract-methods
setMethod(""["", signature(x = ""testClass"", i = ""ANY"", j=""ANY""),
         function (x, i, j, ..., drop){
             print(""void function"")
         }
)
</code></pre>

<p>Excerpt from  package check:</p>

<pre><code>* checking for missing documentation entries ... WARNING
Undocumented S4 methods:
  generic '[' and siglist 'testClass'
All user-level objects in a package (including S4 classes and methods)
should have documentation entries.
See the chapter 'Writing R documentation files' in manual 'Writing R Extensions'.
</code></pre>
","536198","","2886003","","2019-01-11 15:08:24","2019-01-11 15:08:24","How to properly document S4 ""["" and [<- methods using roxygen?","<r><roxygen><s4>","3","0","8","","","CC BY-SA 4.0","4396768","4452","4452","r","404559","3625322","3607736","",""
"4397876","1","4397988","","2010-12-09 11:51:27","","2","6705","<p>Obviously I dont get the way grep works in R. If I use grep on my OS X terminal, I am able to use the parameter -o which makes grep only return the matching part. In R, I can't find how to do a corresponding thing. Reading the manual I thought values was the right approach, which is better inasmuch that it returns characters not indexes, but still returns the whole string. </p>

<pre><code># some string  fasdjlk465fsdj123 
# R
test &lt;-  fasdjlk465fsdj123 
grep(""[0-9]"",test,value=TRUE) # returns  ""fasdjlk465fsdj123""

# shell
grep -o '[0-9]' fasdjlk465fsdj123
# returns 4 6 5 1 2 3
</code></pre>

<p>What's the parameter I am missing in R ? </p>

<p>EDIT: Joris Meys' suggestions comes really close to what I am trying to do. I get a vector as a result of readLines. And I'd like to check every element of the vector for numbers and return these numbers. I am really surprised there's no standard solution for that. I thought of using some regexp function that works on a string and returns the match like grep -o and then use lapply on that vector. grep.custom comes closest i'll try to make that work for me.</p>
","366256","","10248678","","2020-08-14 10:04:48","2020-08-14 10:04:48","How can I use grep with parameters in R?","<r><regex>","6","6","2","","","CC BY-SA 2.5","4397876","4452","4452","r","404559","3625322","3607736","",""
"4398160","1","","","2010-12-09 12:24:46","","1","427","<p>Y 
I have 6 parameters for which I know maxi and mini values. I have a complex function that includes the 6 parameters and return a 7th value (say Y). I say complex because Y is not directly related to the 6 parameters; there are many embeded functions in between.</p>

<ol>
<li>I would like to find the combination of the 6 parameters which returns the highest Y value. I  first tried to calculate Y for every combination by constructing an hypercube but I have not enough memory in my computer. So I am looking for kinds of markov chains which progress in the delimited parameter space, and are able to overpass local peaks.</li>
<li>when I give one combination of the 6 parameters, I would like to know the highest local Y value. I tried to write a code with an iterative chain like a markov's one, but I am not sure how to process when the chain reach an edge of the parameter space. Obviously, some algorythms should already exist for this.</li>
</ol>

<p>Question: Does anybody know what are the best functions in R to do these two things? I read that optim() could be appropriate to find the global peak but I am not sure that it can deal with complex functions (I prefer asking before engaging in a long (for me) process of code writing). And fot he local peaks? optim() should not be able to do this</p>

<p>In advance, thank you for any lead</p>

<p>Julien from France </p>
","443222","","","","","2010-12-10 01:58:14","optimizing a function to find global and local peaks with R","<optimization><r><global><local>","2","1","","","","CC BY-SA 2.5","4398160","4452","4452","r","404559","3625322","3607736","",""
"4400175","1","","","2010-12-09 15:53:11","","1","1368","<p>Lets say I have a function that is nlogn in space requirements, I want to work out the maximum size of input for that function for a given available space.  i.e. I want to find n where nlogn=c. </p>

<p>I followed <a href=""http://cs-people.bu.edu/lapets/resource/nlogn.pdf"" rel=""nofollow"">an approach</a> to calculate n, that looks like this in R: </p>

<pre><code>step = function(R, z) { log(log(R)-z)} 
guess = function(R) log(log(R))

inverse_nlogn = function(R, accuracy=1e-10) {
 zi_1 = 0
 z = guess(R)
 while(abs(z - zi_1)&gt;accuracy) { 
  zi_1 = z
  z = step(R, z)
 }
 exp(exp(z))
}
</code></pre>

<p>But I can't get understand <em>why</em> it must be solved iteratively.  For the range we are interested (n>1), the function is non singular.</p>
","536662","","","","","2010-12-10 20:35:44","Why is nlogn so hard to invert?","<math><r><complexity-theory><invert>","3","0","","","","CC BY-SA 2.5","4400175","4452","4452","r","404559","3625322","3607736","",""
"4400344","1","4400377","","2010-12-09 16:07:36","","1","1940","<p>I have this matrix (may it be other similar data type) with two columns x and y and I want for each x calculate the mean of all values from y corresponding to this particular x (Of course when there are more than one x with particular value).</p>
","393087","","","","","2010-12-09 16:10:38","how to calculate mean from part or a list/matrix/dataframe ? and which data type is fastest to do it?","<r>","1","0","","","","CC BY-SA 2.5","4400344","4452","4452","r","404559","3625322","3607736","",""
"4400867","1","4401407","","2010-12-09 16:51:04","","4","548","<p>I have some troubles getting a class from an older packages been recognized by the S4 class definition. I keep on getting the error</p>

<pre><code>Error in makePrototypeFromClassDef(properties, ClassDef, immediate, where) : 
  in making the prototype for class ""Tsvmm"" elements of the prototype failed to 
  match the corresponding slot class: dates (class ""dates"" )
In addition: Warning message:
undefined slot classes in definition of ""Tsvmm"": dates(class ""dates"") 
</code></pre>

<p>A reproducible example:</p>

<pre><code>require(chron)

setClass(
  Class=""Tsvmm"",
  representation=representation(
      data  = ""data.frame"",
      dates = ""dates""
  ),
  prototype=prototype(
      data  = data.frame(),
      dates = chron(0)
  )
)
</code></pre>

<p>When trying <code>class(chron(0))</code>, the answer is <code>""dates"" ""times""</code>. using <code>is.numeric(chron(0))</code>, the answer is <code>TRUE</code>. Yet, when I set the class of slot dates as <code>""numeric""</code>, I get the same error without the warning message.</p>

<p>I have the feeling I'm overlooking something obvious, but I couldn't find it in the documentation yet. Anybody any pointers?</p>

<p>PS: I know the <code>chron</code> package is at least peculiar, but I have good reasons to use this. Plus, the problem is likely to occur with other packages. See this as an example for a general question. So please, don't tell me to use the Date or POSIXt classes. That's a hack I'm using now.</p>
","428790","","","","","2011-08-29 14:20:46","Recognizing a S3 (?) class from a package in an S4 class definition","<class><r><definition><s4>","2","0","1","","","CC BY-SA 2.5","4400867","4452","4452","r","404559","3625322","3607736","",""
"4401498","1","4403067","","2010-12-09 17:59:44","","-2","9477","<p>Now I'm doing it by looping trhough a sorted vector, but maybe there is a faster way using internal R functions, and maybe I don't even need to sort. </p>

<pre><code>vect = c(41,42,5,6,3,12,10,15,2,3,4,13,2,33,4,1,1)
vect = sort(vect)
print(vect)
outvect = mat.or.vec(length(vect),1)
outvect[1] = counter = 1
for(i in 2:length(vect)) {
    if (vect[i] != vect[i-1]) { counter = counter + 1 }
    outvect[i] = counter
}

    print(cbind(vect,outvect))

 vect outvect
 [1,]    1       1
 [2,]    1       1
 [3,]    2       2
 [4,]    2       2
 [5,]    3       3
 [6,]    3       3
 [7,]    4       4
 [8,]    4       4
 [9,]    5       5
[10,]    6       6
[11,]   10       7
[12,]   12       8
[13,]   13       9
[14,]   15      10
[15,]   33      11
[16,]   41      12
[17,]   42      13
</code></pre>

<p>The code is used to make charts with integers on the X axis instead of real data because for me distance between the X values is not important.
So in my case the smallest x value is always 1. and the largest is always equal to how many X values are there.</p>

<p>-- edit: due to some misuderstanding about my question I added self sufficient code with output.</p>
","393087","","428790","","2010-12-09 21:46:07","2014-01-24 13:00:18","how to rank values in a vector and give them corresponding values?","<r><vector>","5","6","","","","CC BY-SA 2.5","4401498","4452","4452","r","404559","3625322","3607736","",""
"4402303","1","4402731","","2010-12-09 19:34:41","","1","264","<p>I wish to create (in the R language) a ""decimal HTML decoder"" such as the one implemented in this website:</p>

<p><a href=""http://www.hashemian.com/tools/html-url-encode-decode.php"" rel=""nofollow"">http://www.hashemian.com/tools/html-url-encode-decode.php</a></p>

<p>But I'm not sure where to start, could someone propose any pointers on what to read/which translation table (or formula) to use?</p>

<p>My original motivation for this will be the decoding of Hebrew characters.  (for example, the translation of something like this: </p>

<pre><code>&amp;#x5E9;&amp;#x5DC;&amp;#x5D5;&amp;#x5DD;
</code></pre>

<p>To this: </p>

<pre><code>
</code></pre>

<p>)</p>

<p>(hat tip goes to Matt Shotwell for the pointers)</p>
","256662","","246246","","2012-09-06 21:22:47","2012-09-06 21:22:47","How to program a ""decimal HTML decoder""?","<r><html-encode>","1","0","","","","CC BY-SA 2.5","4402303","4452","4452","r","404559","3625322","3607736","",""
"4402800","1","4402953","","2010-12-09 20:28:10","","1","1129","<p>I have a function foo that takes a data frame as input and returns a ggplot object as output. I need to use the name of the data frame as the title of the plot. I am unable to figure out how to do this. </p>

<p>If I did not pass it to a function, I know that I could use <code>deparse(substitute(df))</code> to get the desired title. But I am unable to do it inside the function.</p>

<p>Any thoughts on how to do this?</p>
","235349","","","","","2010-12-09 20:47:56","Use Name of Data Frame Passed to Function as Plot Title","<r><ggplot2><dataframe>","1","0","","","","CC BY-SA 2.5","4402800","4452","4452","r","404559","3625322","3607736","",""
"4403433","1","4404385","","2010-12-09 21:44:43","","2","4385","<p><strong>Update -- I closed this question and <a href=""https://stats.stackexchange.com/questions/5351/calculate-newey-west-standard-errors-without-an-an-lm-object-in-r"">posted on crossvalidated.com</a>.</strong></p>

<p>I have found some good information on using the <code>sandwich</code> package and the <code>NeweyWest()</code> function to find heteroskedastic autocorrelation consistent (HAC) standard errors.</p>

<p>But <code>NeweyWest()</code> only takes <code>lm</code> objects.</p>

<pre><code>&gt; library(sandwich)
&gt; NeweyWest(rnorm(100))
Error in UseMethod(""estfun"") : 
  no applicable method for 'estfun' applied to an object of class ""c('double', 'numeric')""
&gt; 
</code></pre>

<p>I frequently get vectors of returns unassociated with a linear regression for which I would like to find HAC standard errors. Any ideas? Should I write my own? Thanks!</p>
","334755","","-1","","2017-04-13 12:44:13","2010-12-10 17:40:48","Calculate Newey-West standard errors without an an lm object in R","<r><standard-error>","1","3","2","","","CC BY-SA 2.5","4403433","4452","4452","r","404559","3625322","3607736","",""
"4403583","1","4403682","","2010-12-09 22:00:53","","2","315","<p><strong>Background</strong></p>

<p>I have a dataframe of probability distributions that I would like to calculate statistical summaries for: </p>

<pre><code>priors &lt;- structure(list(name = c(""theta1"", ""theta2"", ""theta3"", ""theta4"", 
  ""theta5""), distn = c(""gamma"", ""beta"", ""lnorm"", ""weibull"", ""gamma""), 
   parama = c(2.68, 4, 1.35, 1.7, 2.3), paramb = c(0.084, 7.2, 0.69, 0.66, 3.9),
   another_col = structure(c(3L, 4L, 5L, 1L, 2L
   ), .Label = c(""1"", ""2"", ""a"", ""b"", ""c""), class = ""factor"")), 
   .Names = c(""name"", ""distn"", ""parama"", ""paramb"", ""another_col""), row.names = c(""1"",
   ""2"", ""3"", ""4"", ""5""), class = ""data.frame"")
</code></pre>

<p><strong>Approach</strong></p>

<p>Step 1: I wrote a function to calculate the summaries and returning <code>mean(lcl, ucl)</code></p>

<pre><code> summary.stats &lt;- function(distn, A, B) {
  if (distn == 'gamma'  ) ans &lt;- c(A*B,                       qgamma(c(0.05, 0.95), A[ ], B))
  if (distn == 'lnorm'  ) ans &lt;- c(exp(A + 1/2 * B^2),        qlnorm(c(0.05, 0.95), A, B))
  if (distn == 'beta'   ) ans &lt;- c(A/(A+B),                   qbeta( c(0.05, 0.95), A, B))
  if (distn == 'weibull') ans &lt;- c(mean(rweibull(10000,A,B)), qweibull(c(0.05, 0.95), A, B))
  if (distn == 'norm'   ) ans &lt;- c(A,                         qnorm( c(0.05, 0.95), A, B))
  ans &lt;- (signif(ans, 2))
  return(paste(ans[1], ' (', ans[2], ', ', ans[3],')', sep = ''))
}
</code></pre>

<p>Step 2: I would like to add a new column to my dataframe called <code>stats</code></p>

<pre><code>priors$stats &lt;- ddply(priors, 
                     .(name, distn, parama, paramb), 
                     function(x)  summary.stats(x$distn, x$parama, x$paramb))$V1
</code></pre>

<p><strong>Question 1:</strong></p>

<p>what is the proper way to do this? I get an error when I try </p>

<pre><code>                ddply(priors, 
                     .(name, distn, parama, paramb),
                     transform, 
                     stats = function(x)  summary.stats(x$distn, x$parama, x$paramb))
</code></pre>

<p><strong>Question 2:</strong> (extra credit)</p>

<p>Is there a more efficient way to code the <code>summary.stats</code> function, i.e., with less 'if's'?</p>

<p><em>update</em></p>

<p>Thanks to Shane and Joshua for clearing this up for me. </p>

<p>I also found a question that should be helpful for others trying to <a href=""https://stackoverflow.com/questions/2074606/doing-a-plyr-operation-on-every-row-of-a-data-frame-in-r"">do a plyr operation on every row of a dataframe</a></p>
","199217","","-1","","2017-05-23 09:58:10","2010-12-10 15:29:19","How can I rewrite this code so that it uses plyr/ddply as intended?","<r><refactoring><plyr>","2","0","","","","CC BY-SA 2.5","4403583","4452","4452","r","404559","3625322","3607736","",""
"4406873","1","","","2010-12-10 08:16:25","","34","4851","<p>The recent questions regarding the use of require versus :: raised the question about which programming styles are used when programming in R, and what their advantages/disadvantages are. Browsing through the source code or browsing on the net, you see a lot of different styles displayed.</p>

<p>The main trends in my code :</p>

<ul>
<li><p><strong>heavy vectorization</strong> I play a lot with the indices (and nested indices), which results in rather obscure code sometimes but is generally a lot faster than other solutions.
eg: <code>x[x &lt; 5] &lt;- 0</code> instead of <code>x &lt;- ifelse(x &lt; 5, x, 0)</code></p></li>
<li><p>I tend to <strong>nest functions</strong> to avoid overloading the memory with temporary objects that I need to clean up. Especially with functions manipulating large datasets this can be a real burden. eg : <code>y &lt;- cbind(x,as.numeric(factor(x)))</code> instead of <code>y &lt;- as.numeric(factor(x)) ; z &lt;- cbind(x,y)</code></p></li>
<li><p>I write a <strong>lot of custom functions</strong>, even if I use the code only once in eg. an <code>sapply</code>. I believe it keeps it more readible without creating objects that can remain lying around.</p></li>
<li><p>I <strong>avoid loops at all costs</strong>, as I consider vectorization to be a lot cleaner (and faster)</p></li>
</ul>

<p>Yet, I've noticed that opinions on this differ, and some people tend to back away from what they would call my ""Perl"" way of programming (or even ""Lisp"", with all those brackets flying around in my code. I wouldn't go that far though). </p>

<p>What do you consider good coding practice in R?</p>

<p>What is your programming style, and how do you see its advantages and disadvantages? </p>
","428790","","202229","","2018-08-30 05:04:44","2018-08-30 05:04:44","Coding practice in R : what are the advantages and disadvantages of different styles?","<r><coding-style><vectorization>","4","1","30","","","CC BY-SA 4.0","4406873","4452","4452","r","404559","3625322","3607736","",""
"4406964","1","","","2010-12-10 08:31:58","","54","783","<p>I have activated ROutputErrors in r.conf and it works as is suppose to 
do. </p>

<p>When I have an error I get this: </p>

<pre><code>Oops!!! rApache has something to tell you. View source and read the 
HTML comments at the end. 
</code></pre>

<p>And in the source code I get the error. </p>

<pre><code>\n&lt;!--\nError in library(micEconAids) : there is no package called 
'micEconAids'\nTraceback:\n5: stop(txt, domain = NA)\n4: 
library(micEconAids)\n3: eval(expr, envir, enclos)\n2: eval(i, envir) 
\n1: sys.source(file = \""\/var\/www\/r\/test\/25.R\"", envir = .rAenv) 
\n--&gt;\n 
</code></pre>

<p>I am trying to build a webservice and I would like to have the errors 
directly. I am trying to do this in r.conf </p>

<pre><code>RApacheOutputErrors(TRUE,""&lt;p&gt;"",""&lt;/p&gt;"")
</code></pre>

<p>But I get this error on restart: </p>

<pre><code>""Invalid command 
'RApacheOutputErrors(TRUE,""&lt;p&gt;"",""&lt;/p&gt;"")', perhaps misspelled or 
defined by a module not included in the server configuration""; 
</code></pre>

<p>How and where can I use this directive? </p>

<p>Thanks</p>
","95353","","1145285","","2012-05-16 18:42:09","2012-06-07 06:17:56","controlling the output with RApacheOutputErrors","<r><rapache>","1","3","1","","","CC BY-SA 2.5","4406964","4452","4452","r","404559","3625322","3607736","",""
"4407761","1","4407794","","2010-12-10 10:13:55","","3","285","<p>Now I'm doing it this way:</p>

<pre><code>d = approx(density(csvdata[,'X'],n=5000),xout=csvdata[,'X'])
dfact = 40/max(d$y)
for(i in 1:nrow(csvdata)) {
  d$y[i] = (d$y[i]*dfact)-20
}
</code></pre>

<p>What I'm doing here is rescaling density function which always be higher than 0 to be displayed under from bottom of my chart which is at -20 and always fit to top that is on +20, so I'm more easisy able to spot any irregularities in the line. Now as you can see I'm doing this by looping, but maybe there are some build in one liners for it ?</p>
","393087","","370756","","2010-12-10 11:43:50","2010-12-10 11:43:50","How to rescale a matrix of points?","<r>","1","0","","","","CC BY-SA 2.5","4407761","4452","4452","r","404559","3625322","3607736","",""
"4408222","1","4409590","","2010-12-10 11:12:29","","3","1061","<p>I have a rather simple question but unfortunately just cannot get to a result:
I would like to apply the GBSVolatility function to each row of my data.frame.</p>

<p>I did the following:</p>

<pre><code>&gt; vol &lt;- function(x) GBSVolatility(x$Price, ""c"", S = 1000, x$Strike, Time = 1/4, 
r = 0.01, b = 0.02, maxiter = 500)
&gt; foo$iv &lt;- apply(foo, 1, vol)
</code></pre>

<p>But this does not work. Can someone tell me why?</p>

<p>Thanks alot</p>

<p>Dani</p>

<p><strong>Update:</strong>
Thank you for your suggestion. My data frame is called foo and looks like this</p>

<pre><code>Date Price Strike Name
1.1  100   1200    X
1.1  120   1500    P
etc.
</code></pre>

<p>I would like to make a new column with the implied volatility. I tried to apply, </p>

<pre><code>vol &lt;- function(x) GBSVolatility(x[""Price""], ""c"", S = 1000, x[""Strike""], 
     Time = 1/4,  r = 0.01, b = 0.02, maxiter = 500)
foo$iv &lt;- apply(foo, 1, vol)
</code></pre>

<p>but it didn't work as well.</p>

<p>Do you have any other suggestions? Thanks</p>
","513744","","513744","","2010-12-10 13:21:27","2010-12-10 23:21:42","Apply GBSVolatility to each row","<r><apply>","3","0","1","","","CC BY-SA 2.5","4408222","4452","4452","r","404559","3625322","3607736","",""
"4408414","1","4408732","","2010-12-10 11:36:14","","6","2515","<p>I have a data frame for which I'm computing a linear model and would like to include the correlation coefficient and its significance using geom_text.</p>

<pre><code>structure(list(ppno = c(1L, 1L, 1L, 10L, 10L, 10L, 2L, 2L, 2L, 
3L, 3L, 3L, 4L, 4L, 4L, 5L, 5L, 5L, 6L, 6L, 6L, 7L, 7L, 7L, 8L, 
8L, 8L, 9L, 9L, 9L), light.color = structure(c(1L, 2L, 3L, 1L, 
2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L, 1L, 2L, 
3L, 1L, 2L, 3L, 1L, 2L, 3L, 1L, 2L, 3L), .Label = c(""B"", ""IR"", 
""IR+B""), class = ""factor""), session = c(2L, 1L, 3L, 2L, 3L, 1L, 
1L, 3L, 2L, 3L, 2L, 1L, 2L, 3L, 1L, 3L, 1L, 2L, 1L, 2L, 3L, 2L, 
1L, 3L, 1L, 3L, 2L, 3L, 2L, 1L), time = structure(c(1L, 1L, 1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L), .Label = c(""pre"", 
""post""), class = ""factor""), pre.pri.s = c(NA, NA, NA, NA, NA, 
NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 
NA, NA, NA, NA, NA, NA, NA, NA, NA), pre.pri.r = c(8L, 4L, 6L, 
2L, 2L, 4L, 10L, 12L, 9L, 24L, 16L, 15L, 15L, 15L, 15L, 3L, 5L, 
7L, 13L, 11L, 12L, 16L, 15L, 14L, 21L, 5L, 8L, 1L, 0L, 0L), pre.nwc = c(5L, 
2L, 4L, 2L, 2L, 4L, 10L, 10L, 9L, 11L, 10L, 11L, 12L, 11L, 11L, 
3L, 5L, 6L, 9L, 11L, 12L, 12L, 11L, 10L, 11L, 5L, 8L, 1L, 0L, 
0L), pre.ppi = structure(c(3L, 2L, 2L, 1L, 1L, 2L, 2L, 3L, 2L, 
3L, 2L, 2L, 3L, 3L, 3L, 1L, 1L, 2L, NA, 2L, 2L, 3L, 3L, 3L, 4L, 
2L, 3L, 1L, 1L, 1L), .Label = c(""1"", ""2"", ""3"", ""4"", ""NULL""), class = ""factor""), 
    pre.pri.nwc = c(1.6, 2, 1.5, 1, 1, 1, 1, 1.2, 1, 2.18181818181818, 
    1.6, 1.36363636363636, 1.25, 1.36363636363636, 1.36363636363636, 
    1, 1, 1.16666666666667, 1.44444444444444, 1, 1, 1.33333333333333, 
    1.36363636363636, 1.4, 1.90909090909091, 1, 1, 1, NaN, NaN
    ), post.pri.s = c(NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 
    NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 
    NA, NA, NA, NA, NA), post.pri.r = c(4L, 4L, 7L, 0L, 0L, 4L, 
    3L, 8L, 7L, 16L, 12L, 19L, 6L, 10L, 4L, 1L, 3L, 0L, 3L, 11L, 
    15L, 8L, 9L, 9L, 8L, 4L, 3L, 0L, 0L, 0L), post.nwc = c(4L, 
    3L, 4L, 0L, 0L, 3L, 3L, 8L, 7L, 10L, 9L, 15L, 5L, 9L, 4L, 
    1L, 3L, 0L, 3L, 8L, 13L, 8L, 9L, 9L, 8L, 4L, 3L, 0L, 0L, 
    0L), post.ppi = structure(c(2L, 2L, 3L, 1L, 1L, 1L, 1L, 2L, 
    2L, 2L, 2L, 2L, 2L, 3L, 2L, 5L, 1L, 1L, NA, 3L, 2L, 1L, 1L, 
    2L, 3L, 2L, 2L, 1L, 1L, 1L), .Label = c(""1"", ""2"", ""3"", ""4"", 
    ""NULL""), class = ""factor""), post.pri.nwc = c(1, 1.33333333333333, 
    1.75, NaN, NaN, 1.33333333333333, 1, 1, 1, 1.6, 1.33333333333333, 
    1.26666666666667, 1.2, 1.11111111111111, 1, 1, 1, NaN, 1, 
    1.375, 1.15384615384615, 1, 1, 1, 1, 1, 1, NaN, NaN, NaN), 
    delta.pri.r = c(4, 0.1, -1, 2, 2, 0.1, 7, 4, 2, 8, 4, -4, 
    9, 5, 11, 2, 2, 7, 10, 0.1, -3, 8, 6, 5, 13, 1, 5, 1, 0.1, 
    0.1), delta.nwc = c(1, -1, 0.1, 2, 2, 1, 7, 2, 2, 1, 1, -4, 
    7, 2, 7, 2, 2, 6, 6, 3, -1, 4, 2, 1, 3, 1, 5, 1, 0.1, 0.1
    ), delta.pri.nwc = c(-0.6, -0.666666666666667, 0.25, NaN, 
    NaN, 0.333333333333333, 0.1, -0.2, 0.1, -0.581818181818182, 
    -0.266666666666667, -0.0969696969696969, -0.05, -0.252525252525252, 
    -0.363636363636364, 0.1, 0.1, NaN, -0.444444444444444, 0.375, 
    0.153846153846154, -0.333333333333333, -0.363636363636364, 
    -0.4, -0.90909090909091, 0.1, 0.1, NaN, NaN, NaN), delta.vas = c(4.081632, 
    -43.877544, -8.163264, -2.040816, 0.510204, 9.183672, 8.163264, 
    8.163264, 11.224488, 0, -14.285712, -11.224488, 19.387752, 
    0, 26.530608, 2.040816, 10.20408, 11.224488, 42.346932, -10.20408, 
    -28.06122, 11.224488, 5.612244, 21.428568, 22.448976, 0, 
    23.469384, 0.510204, -1.020408, 0)), .Names = c(""ppno"", ""light.color"", 
""session"", ""time"", ""pre.pri.s"", ""pre.pri.r"", ""pre.nwc"", ""pre.ppi"", 
""pre.pri.nwc"", ""post.pri.s"", ""post.pri.r"", ""post.nwc"", ""post.ppi"", 
""post.pri.nwc"", ""delta.pri.r"", ""delta.nwc"", ""delta.pri.nwc"", 
""delta.vas""), row.names = c(NA, -30L), class = ""data.frame"")
</code></pre>

<p>Using this code for the plot.</p>

<pre><code>p &lt;- ggplot(data=mpq.vas, mapping=aes(x=delta.vas, y=delta.pri.r, 
    colour=light.color)) +
  geom_point() +
  geom_smooth(aes(group=1), method=""lm"", size=1, colour=""black"")
#
#  Clean up the basics.
pp &lt;- p + geom_hline(yintercept=0, colour=""grey60"") + 
  geom_vline(xintercept=0, colour=""grey60"") +
  scale_colour_manual(name=""Treatment\ncolor"", values=cols) +
  scale_x_continuous(name=
    expression(paste(Delta, "" VAS pain [t(0) - t(60)]"")))+
  scale_y_continuous(name=expression(paste(Delta, ""PRI(r) [pre - post]"")))
#
#  Add correlation info.
val &lt;- cor.test(mpq.vas$delta.vas, mpq.vas$delta.pri.r)
</code></pre>

<p>When I then try to add the correlation coefficient somewhere in the text, I get an <strong>error about an unexpected symbol</strong> at the location of the Q in the label.</p>

<pre><code>pp + geom_text(aes(x=20, y=-5, label=paste(""italic(r) =="", 3, ""Q"", sep="" "")), 
    parse=TRUE, colour=""black"")
</code></pre>

<p>(yes, I know a correlation of 3 is impossible, just an example).</p>

<p>I would like to do:</p>

<pre><code>pp + geom_text(aes(x=20, y=-5, label=paste(""italic(r) =="", round(val$estimate, digits=2), ""\np &lt; 0.0001"", sep="" "")),     parse=TRUE, colour=""black"")
</code></pre>

<p>But this generates the same error, now at the \n thingy. What am I doing wrong?</p>
","503175","","","","","2010-12-13 14:59:42","Cannot concatenate more than 3 elements in an expression for ggplot2's geom_text","<r><ggplot2>","1","0","","","","CC BY-SA 2.5","4408414","4452","4452","r","404559","3625322","3607736","",""
"4410390","1","4410462","","2010-12-10 15:30:15","","18","46118","<p>In R, I met a running error as follows:</p>

<pre><code>&gt; png(""p3_sa_para.png"", 4, 2)
&gt; par(mfrow=c(1,2))
&gt; plot(c(1:10), ylab=""Beta"",xlab=""Iteration"")
Error in plot.new() : figure margins too large
&gt; plot(c(1:10), ylab=""Gamma"",xlab=""Iteration"")
Error in plot.new() : figure margins too large
&gt; dev.off()
X11cairo 
       2 
</code></pre>

<p>I have already made the image size small to be 4 by 2, why it still complains ""figure margins too large""? How can I solve this problem with png?</p>

<p>It is strange that if I change png to pdf, then it will work. I also wonder why?</p>

<p>Thanks and regards!</p>
","156458","","202229","","2011-11-28 10:17:55","2015-03-07 19:49:29","""Error in plot.new() : figure margins too large""","<r><png><plot>","4","4","8","","","CC BY-SA 2.5","4410390","4452","4452","r","404559","3625322","3607736","",""
"4412485","1","4412778","","2010-12-10 19:22:17","","18","643","<p>per the discussion of R programming styles, I saw someone once said he puts all his custom function into a new environment and attach it. I also remember R environment maybe used as a hash table. Is this good style? When do you want to put your data/functions into a new enviroment? Or just use the.GlobalEnv whatever?</p>

<p><strong>EDIT</strong> put my second part of question back:
how to inspect same name variable for different environments? </p>
","538271","","143813","","2011-06-24 12:29:20","2011-06-24 12:29:20","when do you want to set up new environments in R","<r>","3","0","2","","","CC BY-SA 3.0","4412485","4452","4452","r","404559","3625322","3607736","",""
"4413249","1","4413699","","2010-12-10 20:58:12","","2","2519","<p>I have a CSV that starts with 3 columns. A cumulative percentage column of Costs, a Cost column, and a keyword column. The R script works for small files but totally dies (never finishes) when I feed it the actual file (which has a million rows). Can you help me make this script more efficient? The Token.Count is the one I'am having trouble creating. Thank you!</p>

<pre><code># Token Histogram

# Import CSV data from Report Downloader API Feed
Mydf &lt;- read.csv(""Output_test.csv.csv"", sep="","", header = TRUE, stringsAsFactors=FALSE)

# Helps limit the dataframe according the HTT
# Change number to:
# .99 for big picture
# .8 for HEAD
limitor &lt;- Mydf$CumuCost &lt;= .8
# De-comment to ONLY measure TORSO
#limitor &lt;- (Mydf$CumuCost &lt;= .95 &amp; Mydf$CumuCost &gt; .8)
# De-comment to ONLY measure TAIL
#limitor &lt;- (Mydf$CumuCost &lt;= 1 &amp; Mydf$CumuCost &gt; .95)
# De-comment to ONLY measure Non-HEAD
#limitor &lt;- (Mydf$CumuCost &lt;= 1 &amp; Mydf$CumuCost &gt; .8)

# Creates a column with HTT segmentation labels
# Creates a dataframe
HTT &lt;- data.frame()
# Populates dataframe according to conditions
HTT &lt;- ifelse(Mydf$CumuCost &lt;= .8,""HEAD"",ifelse(Mydf$CumuCost &lt;= .95,""TORSO"",""TAIL""))
# Add the column to Mydf and rename it HTT
Mydf &lt;- transform(Mydf, HTT = HTT)

# Count all KWs in account by using the dimension function
KWportfolioSize &lt;- dim(Mydf)[1]

# Percent of portfolio
PercentofPortfolio &lt;- sum(limitor)/KWportfolioSize

# Length of Keyword -- TOO SLOW
# Uses the Tau package
# My function takes the row number and returns the number of tokens
library(tau)
Myfun = function(n) {
  sum(sapply(Mydf$Keyword.text[n], textcnt, split = ""[[:space:][:punct:]]+"", method = ""string"", n = 1L))}
# Creates a dataframe to hold the results
Token.Count &lt;- data.frame()
# Loops until last row and store it in data.frame
for (i in c(1:dim(Mydf)[1])) {Token.Count &lt;- rbind(Token.Count,Myfun(i))}
# Add the column to Mydf
Mydf &lt;- transform(Mydf, Token.Count = Token.Count)
# Not quite sure why but the column needs renaming in this case
colnames(Mydf)[dim(Mydf)[2]] &lt;- ""Token.Count""
</code></pre>
","450889","","","","","2010-12-11 09:20:38","Best and most efficient way to count tokens words","<r>","1","5","","","","CC BY-SA 2.5","4413249","4452","4452","r","404559","3625322","3607736","",""
"4414580","1","4417273","","2010-12-11 01:00:55","","1","550","<p>The following code returns a string called ""GLD"".</p>

<pre><code>CatItUp &lt;- function(x){
    print(x)
}

CatItUp(""GLD"")
</code></pre>

<p>This code returns the tail of GLD prices. But obviously, because I've hard-coded GLD into the function.</p>

<pre><code>IAmMoney &lt;- function(x) {

    require(""quantmod"")

    getSymbols(""GLD"")

    tail(GLD)   

}

IAmMoney(""GLD"")
</code></pre>

<p>This does not return prices like the hard-coded version, but the ""GLD"" string like the CatItUp() example above. I don't know why. </p>

<pre><code>IAmMoney &lt;- function(x) {

    require(""quantmod"")

    getSymbols(""x"")

    tail(x) 

}

IAmMoney(""GLD"")
</code></pre>

<p>How can you pass 'GLD' to the quantmod::getSymbols function, inside the IAmMoney() function?</p>
","296155","","271616","","2017-01-08 15:45:03","2017-01-08 15:45:03","How do you take a string and then call a data frame with name = that string?","<r><quantmod>","3","1","1","","","CC BY-SA 2.5","4414580","4452","4452","r","404559","3625322","3607736","",""
"4414586","1","","","2010-12-11 01:01:39","","4","2360","<p>I am using the forecast package and saved the results of </p>

<pre><code>t &lt;- data.frame(forecast(prod.arima, h=4))
</code></pre>

<p>to a data frame.  The row names represent my dates, which when printed look like</p>

<pre><code>&gt; t
         Point.Forecast    Lo.80    Hi.80    Lo.95     Hi.95
2010.856       812.9849 630.5707 995.3992 534.0064 1091.9634
2010.876       670.3363 485.1885 855.4840 387.1772  953.4953
2010.895       769.4848 584.2552 954.7145 486.2005 1052.7691
2010.914       692.8951 507.6630 878.1272 409.6070  976.1832
</code></pre>

<p>I am not close (yet) to getting this completed, but I am hoping to automate a LaTex report where I will print the forecasts to a report page and a plot of the forecast.  I figure I can pass the dataframe to a LaTex table, but I need the dates to be formatted in a way where the end user will understand that they represent week ends (set to Sundays).</p>

<p>I converted my original time series with ""readable"" dates to a time series object using</p>

<pre><code>ts(prod, start = 2009 +(31+28+31+5)/365, f=52 )
</code></pre>

<p>where the start of my timeseries was on April 5th, 2009 and represented weekly datapoints.  </p>

<p>Any help you can provide will be very much appreciated.  Needless to say I am pretty new to R.</p>
","155406","","","","","2010-12-11 04:45:02","Extract Date forecast package R","<r><time-series>","1","0","","","","CC BY-SA 2.5","4414586","4452","4452","r","404559","3625322","3607736","",""
"4414949","1","4414977","","2010-12-11 02:56:00","","3","282","<p>If I'm having the following vector in R (my levels obviously being A, B, and C)</p>

<pre><code>c(""A_1"", ""A_2"", ""B_1"", ""C_1"", ""C_2"")
</code></pre>

<p>what is the most efficient way to transform it to class vector with numbers like</p>

<pre><code>c(1, 1, 2, 3, 3)
</code></pre>

<p>I feel like this should be a one-liner (likely a combination of factor and grep) but was unable to come up with one.</p>

<p>Thanks!</p>
","538603","","","","","2010-12-11 14:08:50","Fastest way to get class vector from names in R","<r>","2","0","","","","CC BY-SA 2.5","4414949","4452","4452","r","404559","3625322","3607736","",""
"4418076","1","4418164","","2010-12-11 17:49:22","","2","16033","<p>I'm typing for example:</p>

<pre><code>install.packages('TTR')
</code></pre>

<p>output is:</p>

<pre><code>--- Please select a CRAN mirror for use in this session ---
trying URL 'http://mirrors.softliste.de/cran/bin/windows/contrib/2.12/TTR_0.20-2.zip'
Content type 'application/zip' length 237131 bytes (231 Kb)
opened URL
downloaded 231 Kb

package 'TTR' successfully unpacked and MD5 sums checked

The downloaded packages are in
        C:\Documents and Settings\Administrator\Local Settings\Temp\Rtmp33oIzT\downloaded_packages
</code></pre>

<p>But then, even after restarting environment  functions belonging to that package aren't recognized, for example EMA() -> Error: could not find function ""EMA"". Is there any command command to actually install these downloaded packages.</p>

<p>There is ""R CMD INSTALL"" command to use in shell but when I type:</p>

<pre><code>R CMD INSTALL TTR
</code></pre>

<p>I get:</p>

<pre><code>Warning: invalid package 'TTR'
Error: ERROR: no packages specified
</code></pre>
","393087","","370756","","2010-12-12 00:01:08","2010-12-12 00:01:08","How to install cran packages on Windows?","<windows><r>","2","4","","","","CC BY-SA 2.5","4418076","4452","4452","r","404559","3625322","3607736","",""
"4418643","1","4422120","","2010-12-11 19:54:54","","6","4842","<p>how to get two sided ""moving average"" that is a function that averages n numbers from right and left of a vector and gives them weights according to their distance from center value ?</p>

<p>I tried to use TTR but its moving averages works only from left to right and set leftmost values as NA. So I cannot use that smoothed vector as a input to smooth.spline</p>
","393087","","","","","2010-12-19 10:45:53","two-sided moving average?","<r>","3","0","3","","","CC BY-SA 2.5","4418643","4452","4452","r","404559","3625322","3607736","",""
"4419479","1","4419490","","2010-12-11 23:08:30","","4","11333","<p>In R: How do I perform a log operation on every element of a matrix without using a loop?</p>

<p>I have a matrix m and I want each element to be replaced by its log.
log(m) doesn't work.</p>

<pre><code>params = array(list(),c(2, 2))
</code></pre>

<p>then I manually set all elements.</p>

<pre><code>params
</code></pre>

<blockquote>
  <p>[,1] [,2]</p>
  
  <p>[1,]   3      3   </p>
  
  <p>[2,]   3      3   </p>
</blockquote>

<pre><code>log(params)
</code></pre>

<blockquote>
  <p>Error in log(params) : Non-numeric argument to mathematical function</p>
</blockquote>
","378594","","378594","","2015-09-27 01:49:52","2017-07-21 21:34:41","In R: How to perform log on elements of a matrix without a loop","<r>","3","0","","","","CC BY-SA 3.0","4419479","4452","4452","r","404559","3625322","3607736","",""
"4420143","1","","","2010-12-12 02:30:54","","8","12693","<p>How can I insert a comma between each element in paste command in R ?</p>

<pre><code>paste (""X"",1:5,sep="""")

""X1"" ""X2"" ""X3"" ""X4"" ""X5""
</code></pre>

<p>Now I want to insert a comma between each element</p>

<pre><code>Desired Output 

""X1"",""X2"",""X3"",""X4"",""X5""
</code></pre>

<p>Thanks for your help</p>
","488655","","168747","","2011-01-09 21:11:22","2011-01-09 21:11:22","How to insert a comma between each element in paste command in R?","<r>","1","0","","","","CC BY-SA 2.5","4420143","4452","4452","r","404559","3625322","3607736","",""
"4422363","1","4422414","","2010-12-12 15:25:29","","6","7290","<pre><code>input = cbind(c(3,7,3,5,2,9,1,4,6,4,7,3,7,4))
library(zoo)
output = cbind(rollmean(input,4))
print(input)
print(output)
</code></pre>

<p>output:</p>

<pre><code>      [,1]
 [1,]    3
 [2,]    7
 [3,]    3
 [4,]    5
 [5,]    2
 [6,]    9
 [7,]    1
 [8,]    4
 [9,]    6
[10,]    4
[11,]    7
[12,]    3
[13,]    7
[14,]    4
      [,1]
 [1,] 4.50
 [2,] 4.25
 [3,] 4.75
 [4,] 4.25
 [5,] 4.00
 [6,] 5.00
 [7,] 3.75
 [8,] 5.25
 [9,] 5.00
[10,] 5.25
[11,] 5.25
</code></pre>

<p>but when I try to cbind it:</p>

<pre><code>Error in cbind(input, output) :
  number of rows of matrices must match (see arg 2)
Calls: print -&gt; cbind
Execution halted
</code></pre>

<p>I'd like to use a function that would be smart enough and do not give up if it doesn't get data on both ends of a vector and calculating output then according to only the data it is having. so for example in input[1] it will calculate only mean from right</p>
","393087","","7711459","","2018-04-13 15:30:58","2021-01-06 19:21:13","Is there any way to force zoo::rollmean function to return a vector that is the same length as it's input? (or maybe use other function?)","<r><zoo>","3","3","1","","","CC BY-SA 2.5","4422363","4452","4452","r","404559","3625322","3607736","",""
"4423130","1","4423217","","2010-12-12 18:11:37","","27","8319","<p>I'm trying to place the results of a regression (i.e., R2) in a graph, but can't seem to figure out how to call a variable from within an expression (it pastes the variable name).</p>

<p>Here is my code.</p>

<pre><code>R2Val &lt;- signif(summary(sMod_pre90)$r.squared[1], 2)
text(92, 4, expression(paste(R^2, "" = "", R2Val)), adj = 0, cex = 0.85)
</code></pre>
","511548","","680068","","2016-03-08 09:06:53","2020-07-06 12:08:43","Use a variable within a plotmath expression","<r><plotmath>","3","0","7","","","CC BY-SA 3.0","4423130","4452","4452","r","404559","3625322","3607736","",""
"4423460","1","4423489","","2010-12-12 19:14:03","","3","5045","<p>I just wrote one, but I was wondering if one already exists in R.</p>

<p>Here's the function BTW (suggestions for improvement are welcome):</p>

<pre><code>set.seed(50)
x &lt;- sample(c(letters, LETTERS), 7)

is.lower &lt;- function(x)
{
    unlist(sapply(x, function(x2) {x2 %in% letters}))
}

is.lower(x)
</code></pre>
","256662","","","","","2010-12-12 21:11:20","Is there a function to find all lower case letters in a character vector?","<r><case><lowercase>","2","0","1","","","CC BY-SA 2.5","4423460","4452","4452","r","404559","3625322","3607736","",""
"4425186","1","4425270","","2010-12-13 01:29:08","","1","6348","<pre><code>Mac64 R&gt;  install.packages(""quantmod"")
</code></pre>

<p>Yields a discouraging message. Namely, </p>

<pre><code>Warning: unable to access index for repository http://www.ibiblio.org/pub/languages     /R/CRAN/bin/macosx/leopard/contrib/2.12
Warning message:
In getDependencies(pkgs, dependencies, available, lib) :
package quantmod is not available
</code></pre>

<p>No big deal, just pass in a different repo, like this:</p>

<pre><code>Mac64 R&gt; install.packages(""quantmod"", repo=""http://R.research.att.com"")
</code></pre>

<p>And all is well. But how do you set the default repo so you don't need to pass it in every time? In Ubuntu, there is a file that manages this but the documentation for Mac OS X is a bit sparse. </p>
","296155","","","","","2012-08-20 22:47:50","Setting default url for R to look for packages in Mac OS X","<r><packages>","3","1","1","","","CC BY-SA 2.5","4425186","4452","4452","r","404559","3625322","3607736","",""
"4427234","1","4427459","","2010-12-13 09:09:31","","85","192751","<p>Say we have the following data frame:</p>

<pre><code>&gt; df
  A B C
1 1 2 3
2 4 5 6
3 7 8 9
</code></pre>

<p>We can select column 'B' from its index:</p>

<pre><code>&gt; df[,2]
[1] 2 5 8
</code></pre>

<p>Is there a way to get the index (2) from the column label ('B')?</p>
","488719","","","","","2021-01-11 20:48:15","Get column index from label in a data frame","<r>","8","1","43","","","CC BY-SA 2.5","4427234","4452","4452","r","404559","3625322","3607736","",""
"4428255","1","","","2010-12-13 11:17:03","","3","258","<p>my recode attempts </p>

<pre><code>df$test[(df$1st==(1:3) &amp; df$2nd &lt;= 4)] &lt;- 1
df$test[(df$1st==(1:3) &amp; df$2nd &lt;= 5)] &lt;- 2
df$test[(df$1st==(1:3) &amp; df$2nd &lt;= 6)] &lt;- 3
</code></pre>

<p>result in a <code>""longer object length is not a multiple of shorter object length""</code> warning and a lot of <code>NA</code>s in <code>df$test</code>, even though some recodes work correctly.<br>
What am I missing? Any help appreciated.</p>

<p>dw</p>
","540438","","168747","","2010-12-13 11:33:03","2010-12-13 14:16:16","Combining conditions","<r>","3","0","","","","CC BY-SA 2.5","4428255","4452","4452","r","404559","3625322","3607736","",""
"4429361","1","","","2010-12-13 13:42:22","","3","545","<p>What I want to do is to make a condition for if there is a certain variable in linear model</p>

<p>Example. If there is a B in a linear model</p>

<pre><code>model &lt;- lm(Y ~ A + B + C)
</code></pre>

<p>I want to do something. I have used the summary function before to refer to R-squared.</p>

<pre><code>summary(model)$r.squared
</code></pre>

<p>Probably I am looking for something like this</p>

<pre><code>if (B %in% summary(model)$xxx)
</code></pre>

<p>or</p>

<pre><code>if (B %in% summary(model)[xxx])
</code></pre>

<p>But I can't find xxx. Please help =)</p>
","528493","","","","","2010-12-13 14:39:22","Conditional expression for if variable present in model","<r>","5","0","","","","CC BY-SA 2.5","4429361","4452","4452","r","404559","3625322","3607736","",""
"4430763","1","","","2010-12-13 16:03:26","","1","263","<p>Does anyone know of an XPath expression which will allow me to extract all the search results returned from baidu.com?</p>

<p>For example, in R, I would usually do something like this this:</p>

<pre><code># load libraries    
library(RCurl)
library(XML)

# get webpage
doc &lt;- getURL(""http://www.baidu.com/s?rn=100&amp;bs=chivas+regal&amp;f=8&amp;wd=chivas+regal"")

# html structure
html &lt;- htmlTreeParse(doc, useInternalNodes = TRUE, error=function(...){})

# use xpath expression to get links
nodes &lt;- getNodeSet(html, ""//a[@href]"")
</code></pre>

<p>However this only gets about 10 links, when I should have around 100. So I think this means there is something about the baidu html structure which is not clear to me.</p>

<p>Many thanks in advance for your time.</p>
","385607","","","user357812","2010-12-13 16:20:27","2010-12-13 20:19:16","XPath expression to extract weblinks from a chinese search (baidu.com)","<r><xpath>","1","1","2","","","CC BY-SA 2.5","4430763","4452","4452","r","404559","3625322","3607736","",""
"4430778","1","4431117","","2010-12-13 16:05:09","","4","2425","<p>I've imported a ClustalW2 tree in R using the ape function and <code>read.tree</code> function of the ape package. I estimate molecular ages using the chronopl function, resulting in a ultrametric, binary tree. From which I want to create a R build in dendrogram object. </p>

<p>The tree plots fine, and is a real phylo object. However i'm running into problems when trying to convert it:</p>

<p><strong>Minimal Working Example:</strong></p>

<pre><code>require(ape)
test.tree &lt;- read.tree(file = ""testree.phylip"", text = NULL, tree.names = NULL, skip = 0,
    comment.char = ""#"", keep.multi = FALSE)

test.tree.nu &lt;- chronopl(test.tree, 0, age.min = 1, age.max = NULL,
node = ""root"", S = 1, tol = 1e-8,
CV = FALSE, eval.max = 500, iter.max = 500)

is.ultrametric(test.tree.nu)
is.binary.tree(test.tree.nu)
treeclust &lt;- as.hclust.phylo(test.tree.nu)
</code></pre>

<p>The resulting tree ""looks"" fine,
I test to make sure the tree is not ultrametric and binary, and want to convert it into a hclust object, to make eventually a dendrogram object of it.</p>

<pre><code>&gt; is.binary.tree(test.tree.nu)
[1] TRUE
&gt; is.ultrametric(test.tree.nu)
[1] TRUE
</code></pre>

<p>After trying to make a hclust object out of the tree, I get an error:</p>

<pre><code>&gt; tree.phylo &lt;- as.hclust.phylo(test.tree.nu)
Error in if (tmp &lt;= n) -tmp else nm[tmp] : 
  missing value where TRUE/FALSE needed
In addition: Warning message:
In nm[inode] &lt;- 1:N :
  number of items to replace is not a multiple of replacement length
</code></pre>

<p>I realize this is a very detailed question, and perhaps such questions which are specifically related to certain packages are better asked somewhere else, but I hope someone is able to help me.</p>

<p>All help is much appreciated,</p>

<p>Regards,</p>

<p><strong>File download</strong></p>

<p>The Phylip file can be downloaded here 
<a href=""http://www.box.net/shared/rnbdk973ja"" rel=""nofollow"">http://www.box.net/shared/rnbdk973ja</a></p>
","369565","","2486357","","2016-06-11 03:33:54","2016-06-11 03:33:54","R: ape/phylobase: unable to convert ultrametric, binary tree to hclust object (warning message)","<r><bioinformatics><ape-phylo>","2","4","","","","CC BY-SA 2.5","4430778","4452","4452","r","404559","3625322","3607736","",""
"4432975","1","4433261","","2010-12-13 20:04:58","","0","1363","<p>I usually install R packages using the command below, but it will not work for the network graph ad-on iGraph. T think this is because I am using the new version of R (2.12) which seems to have changed package installation (now split between i386/x64).</p>

<p>My question is, what is the easiest way to get up and running with iGraph. Should I get up to speed troubleshooting compiling in windows, or should i downgrade to an earlier version of R?</p>

<pre><code>&gt; install.packages('igraph', type='source')
trying URL 'http://ftp.heanet.ie/mirrors/cran.r-project.org/src/contrib/igraph_0.5.5.tar.gz'
Content type 'application/x-gzip' length 1135577 bytes (1.1 Mb)
opened URL
downloaded 1.1 Mb

* installing *source* package 'igraph' ...
ERROR: configuration failed for package 'igraph'
* removing 'C:/PROGRA~1/R/R-212~1.0/library/igraph'

The downloaded packages are in
        C:\Users\SSSS\AppData\Local\Temp\RtmpN4LiQG\downloaded_packages
Warning message:
In install.packages(""igraph"", type = ""source"") :
  installation of package 'igraph' had non-zero exit status
</code></pre>
","490130","","490130","","2011-12-08 08:46:51","2011-12-08 08:46:51","Trouble Installing iGraph on Windows (i386 and x64)","<python><windows><r><compiler-construction>","2","0","","","","CC BY-SA 3.0","4432975","4452","4452","r","404559","3625322","3607736","",""
"4433490","1","","","2010-12-13 21:06:08","","15","9602","<p>I am trying to learn R after using Stata and I must say that I love it. But now I am having some trouble. I am about to do some multiple regressions with Panel Data so I am using the <code>plm</code> package.</p>

<p>Now I want to have the same results with <code>plm</code> in R as when I use the <code>lm</code> function and Stata when I perform a heteroscedasticity robust and entity fixed regression.</p>

<p>Let's say that I have a panel dataset with the variables <code>Y</code>, <code>ENTITY</code>, <code>TIME</code>, <code>V1</code>.</p>

<p>I get the same standard errors in R with this code</p>

<pre><code>lm.model&lt;-lm(Y ~ V1 + factor(ENTITY), data=data)
coeftest(lm.model, vcov.=vcovHC(lm.model, type=""HC1))
</code></pre>

<p>as when I perform this regression in Stata </p>

<pre><code>xi: reg Y V1 i.ENTITY, robust
</code></pre>

<p>But when I perform this regression with the <code>plm</code> package I get other standard errors</p>

<pre><code>plm.model&lt;-plm(Y ~ V1 , index=C(""ENTITY"",""YEAR""), model=""within"", effect=""individual"", data=data)
coeftest(plm.model, vcov.=vcovHC(plm.model, type=""HC1))
</code></pre>

<ul>
<li>Have I missed setting some options?</li>
<li>Does the <code>plm</code> model use some other kind of estimation and if so how?</li>
<li>Can I in some way have the same standard errors with <code>plm</code> as in Stata with <code>, robust</code> </li>
</ul>
","528493","","1820446","","2016-02-24 13:24:57","2016-08-07 09:37:42","Heteroscedasticity robust standard errors with the PLM package","<r><stata><robustness><standard-error><plm>","2","2","6","","","CC BY-SA 3.0","4433490","4452","4452","r","404559","3625322","3607736","",""
"4434783","1","4441373","","2010-12-14 00:20:37","","0","1628","<p>I am trying to run rpart through RPY2 using Python 2.6.5 and R 10.0.</p>

<p>I create a data frame in python and pass it along but I get an error stating:</p>

<pre><code>Error in function (x)  : binary operation on non-conformable arrays
Traceback (most recent call last):
  File ""partitioningSANDBOX.py"", line 86, in &lt;module&gt;
    model=r.rpart(**rpart_params)
  File ""build/bdist.macosx-10.3-fat/egg/rpy2/robjects/functions.py"", line 83, in __call__
  File ""build/bdist.macosx-10.3-fat/egg/rpy2/robjects/functions.py"", line 35, in __call__
rpy2.rinterface.RRuntimeError: Error in function (x)  : binary operation on non-conformable arrays
</code></pre>

<p>Can anyone help me determine what I am doing wrong to throw this error?</p>

<p>the relevant part of my code is this:</p>

<pre><code>import numpy as np
import rpy2
import rpy2.robjects as rob
import rpy2.robjects.numpy2ri


#Fire up the interface to R
r = rob.r
r.library(""rpart"")

datadict = dict(zip(['responsev','predictorv'],[cLogEC,csplitData]))
Rdata = r['data.frame'](**datadict)
Rformula = r['as.formula']('responsev ~.')
#Generate an RPART model in R.
Rpcontrol = r['rpart.control'](minsplit=10, xval=10)
rpart_params = {'formula' : Rformula, \
       'data' : Rdata,
       'control' : Rpcontrol}
model=r.rpart(**rpart_params)
</code></pre>

<p>The two variables cLogEC and csplitData are numpy arrays of float type.</p>

<p>Also, my data frame looks like this:</p>

<pre><code>In [2]: print Rdata
------&gt; print(Rdata)
   responsev predictorv
1  0.6020600        312
2  0.3010300        300
3  0.4771213        303
4  0.4771213        249
5  0.9242793        239
6  1.1986571        297
7  0.7075702        287
8  1.8115750        270
9  0.6020600        296
10 1.3856063        248
11 0.6127839        295
12 0.3010300        283
13 1.1931246        345
14 0.3010300        270
15 0.3010300        251
16 0.3010300        246
17 0.3010300        273
18 0.7075702        252
19 0.4771213        252
20 0.9294189        223
21 0.6127839        252
22 0.7075702        267
23 0.9294189        252
24 0.3010300        378
25 0.3010300        282
</code></pre>

<p>and the formula looks like this:</p>

<pre><code>In [3]: print Rformula
------&gt; print(Rformula)
responsev ~ .
</code></pre>
","541262","","","","","2010-12-14 17:45:32","trouble with rpy2, rpart passing data correctly from python to r","<python><r><rpy2>","1","2","3","","","CC BY-SA 2.5","4434783","4452","4452","r","404559","3625322","3607736","",""
"4435011","1","","","2010-12-14 01:04:01","","6","3572","<p>Build an xts object with two rows.   </p>

<pre><code>library(xts)   
junk&lt;-xts(c(1,2),as.Date(c(""2010-01-01"",""2010-05-01"")))   
junk   
&gt;            [,1]
&gt; 2010-01-01    1   
&gt; 2010-05-01    2   
</code></pre>

<p>Why doesn't the following change the index for the first row?   </p>

<pre><code>time(junk[1])&lt;-as.Date(""2010-02-01"")   
junk   
&gt;            [,1]
&gt; 2010-01-01    1   
&gt; 2010-05-01    2   
</code></pre>

<p>I realize that the following works, but why doesn't the above work?   </p>

<pre><code>time(junk)[1]&lt;-as.Date(""2010-02-01"")   
junk   
&gt;            [,1]
&gt; 2010-02-01    1   
&gt; 2010-05-01    2   
</code></pre>

<p>Thanks,<br>
Bill   </p>
","541314","","","","","2011-01-28 22:37:13","Setting an xts Index","<r><xts>","3","0","0","","","CC BY-SA 2.5","4435011","4452","4452","r","404559","3625322","3607736","",""
"4440363","1","20577728","","2010-12-14 14:47:22","","7","1455","<p>Is there a way to define what happens when the argument of a method is <strong>missing or NULL</strong>? </p>

<p>In the example below, I'd like to call the same function no matter whether I type <code>foo()</code> or <code>foo(NULL)</code>. Of course I know that I can have a method <code>setMethod(""foo"",""NULL"",function(x) foo())</code>  but that that's code replication and a possible source of mistakes.</p>

<p>Thanks!</p>

<pre><code>setGeneric(""foo"",function(x) standardGeneric(""foo""))
setMethod(""foo"",""numeric"",function(x) ""numeric"")
setMethod(""foo"",""NULL"",function(x) ""NULL"")
setMethod(""foo"",""missing"",function(x) ""missing"")

R&gt; foo(1)
[1] ""numeric""
R&gt; foo()
[1] ""missing""
R&gt; foo(NULL)
[1] ""NULL""
</code></pre>
","299878","","","","","2013-12-13 23:27:27","S4 missing or NULL arguments to methods?","<r><s4>","3","0","5","","","CC BY-SA 2.5","4440363","4452","4452","r","404559","3625322","3607736","",""
"4442397","1","4442789","","2010-12-14 17:55:15","","4","1117","<p>R has fold function <code>Reduce</code>. is there a corresponding unfold function? say, given a starting value and apply a function recursively to get an array? The for loop will do the job, just wondering if there is more R-like way for this. thanks,</p>

<p>An example, the code below plot lorenz attractor in 8 lines (mimic <a href=""http://fsharpnews.blogspot.com/2010/07/lorenz-attractor.html"" rel=""nofollow"">F# Lorenz Attractor in 35 lines</a>. But the for loop looks ugly. Can we do better?</p>

<pre><code>s &lt;- 10; b &lt;- 8/3; p &lt;- 28
dt &lt;- 0.003; n&lt;-2000
x &lt;- matrix(0,n,3); x[1,] &lt;- c(10,0,20)
for (i in 2:n){
    x[i,] &lt;- x[i-1,] + c(s * (x[i-1,2] - x[i-1,1]),x[i-1,1] * (p - x[i-1,3]) - x[i-1,2],x[i-1,1] * x[i-1,2] - b * x[i-1,3]) * dt
}
library(rgl)
plot3d(x,type= 'l',col = 'red')
</code></pre>
","542325","","","","","2011-09-14 01:33:26","unfold function in R?","<r>","1","0","1","","","CC BY-SA 2.5","4442397","4452","4452","r","404559","3625322","3607736","",""
"4442518","1","1882765","","2010-12-14 18:07:16","","123","44840","<p>I get an error when using an R function that I wrote:</p>

<pre><code>Warning messages:
1: glm.fit: algorithm did not converge 
2: glm.fit: algorithm did not converge 
</code></pre>

<p><strong>What I have done:</strong></p>

<ol>
<li>Step through the function</li>
<li>Adding print to find out at what line the error occurs suggests two functions that should not use <code>glm.fit</code>.  They are <code>window()</code> and <code>save()</code>.</li>
</ol>

<p>My general approaches include adding <code>print</code> and <code>stop</code> commands, and stepping through a function line by line until I can locate the exception.</p>

<p>However, it is not clear to me using those techniques where this error comes from in the code. I am not even certain which functions within the code depend on <code>glm.fit</code>.  How do I go about diagnosing this problem?</p>
","199217","","199217","","2015-12-25 08:05:19","2018-09-04 02:20:25","General suggestions for debugging in R","<r><debugging><r-faq>","13","10","187","","","CC BY-SA 3.0","4442518","4452","4452","r","404559","3625322","3607736","",""
"4443751","1","4444108","","2010-12-14 20:17:35","","5","1242","<p>I am trying to use <a href=""http://aws.amazon.com/elasticmapreduce/"" rel=""nofollow"">Amazon Elastic Map Reduce</a> to run a series of simulations of several million cases. This is an Rscript streaming job with no reducer. I am using the Identity Reducer in my EMR call <code>--reducer org.apache.hadoop.mapred.lib.IdentityReducer</code>. </p>

<p>The script file works fine when tested and run locally from the command line on a Linux box when passing one line of string manually <code>echo ""1,2443,2442,1,5"" | ./mapper.R</code> and I get the one line of results that I am expecting. However, when I tested my simulation using about 10,000 cases (lines) from the input file on EMR, I only got output for a dozen lines or so out of 10k input lines. I've tried several times and I cannot figure out why. The Hadoop job runs fine without any errors. It seems like input lines are being skipped, or perhaps something is happening with the Identity reducer. The results are correct for the cases where there is output.</p>

<p>My input file is a csv with the following data format, a series of five integers separated by commas:</p>

<pre><code>1,2443,2442,1,5
2,2743,4712,99,8
3,2443,861,282,3177
etc...
</code></pre>

<p>Here is my R script for <strong>mapper.R</strong></p>

<pre><code>#! /usr/bin/env Rscript

# Define Functions
trimWhiteSpace &lt;- function(line) gsub(""(^ +)|( +$)"", """", line)
splitIntoWords &lt;- function(line) unlist(strsplit(line, ""[[:space:]]+""))
# function to read in the relevant data from needed data files
get.data &lt;- function(casename) {
    list &lt;- lapply(casename, function(x) {
        read.csv(file = paste(""./inputdata/"",x, "".csv"", sep = """"),
                 header = TRUE,
        stringsAsFactors = FALSE)})
    return(data.frame(list))
}

con &lt;- file(""stdin"")            
line &lt;- readLines(con, n = 1, warn = FALSE) 
line &lt;- trimWhiteSpace(line)
values &lt;- unlist(strsplit(line, "",""))
lv &lt;- length(values)
cases &lt;- as.numeric(values[2:lv])
simid &lt;- paste(""sim"", values[1], "":"", sep = """")
l &lt;- length(cases)                      # for indexing

## create a vector for the case names
names.vector &lt;- paste(""case"", cases, sep = ""."")

## read in metadata and necessary data columns using get.data function
metadata &lt;- read.csv(file = ""./inputdata/metadata.csv"", header = TRUE,
                     stringsAsFactors = FALSE)
d &lt;- cbind(metadata[,1:3], get.data(names.vector))

## Calculations that use df d and produce a string called 'output' 
## in the form of ""id: value1 value2 value3 ..."" to be used at a 
## later time for agregation.

cat(output, ""\n"")
close(con)
</code></pre>

<p>The (generalized) EMR call for this simulation is:</p>

<pre><code>ruby elastic-mapreduce --create --stream --input s3n://bucket/project/input.txt --output s3n://bucket/project/output --mapper s3n://bucket/project/mapper.R --reducer org.apache.hadoop.mapred.lib.IdentityReducer --cache-archive s3n://bucket/project/inputdata.tar.gz#inputdata --name Simulation --num-instances 2
</code></pre>

<p>If anyone has any insights as to why I might be experiencing these issues, I am open to suggestions, as well as any changes/optimization to the R script. </p>

<p>My other option is to turn the script into a function and run a parallelized apply using R multicore packages, but I haven't tried it yet. I'd like to get this working on EMR. I used <a href=""http://www.vcasmo.com/video/drewconway/8468"" rel=""nofollow"">JD Long's</a> and <a href=""https://forums.aws.amazon.com/thread.jspa?messageID=128995&#128995"" rel=""nofollow"">Pete Skomoroch's</a> R/EMR examples as a basis for creating the script. </p>
","142068","","","","","2010-12-15 15:48:04","Troubleshooting R mapper script on Amazon Elastic MapReduce - Results not as expected","<r><hadoop><simulation><amazon-emr>","1","0","5","","","CC BY-SA 2.5","4443751","4452","4452","r","404559","3625322","3607736","",""
"4444727","1","","","2010-12-14 22:01:24","","4","5225","<p>I want compare two curves, it's possible with R to draw a plot and then draw another plot over it ? how ?</p>

<p>thanks.</p>
","157872","","","","","2010-12-16 18:22:45","draw one or more plots in the same window","<r><plot>","6","1","2","","","CC BY-SA 2.5","4444727","4452","4452","r","404559","3625322","3607736","",""
"4445293","1","4445317","","2010-12-14 23:20:10","","1","2215","<p><em>note:</em> much of the information in the problem statement is irrelevant, and the problem has been resolved with no apparent reason through the debugging steps that are listed in the <strong>resolution</strong> section</p>

<p><em>I apologize for asking a question about an error that I can not reproduce.</em></p>

<p><strong>Problem</strong></p>

<p>I have a test function 'foo.R' in my package 'PKG'; foo.R consists of:</p>

<pre><code>foo &lt;- function (filename, n) {
  text &lt;- scan(file = filename, what = ""character"")
  if (n==1) text &lt;- gsub(""\\#GGG"", '\\#', text)
  if (n&gt;1)  text &lt;- gsub(""\\#GGG"", '', text)
  writeLines(text, con = 'newfn.R')
}
</code></pre>

<p>The intent of foo is to either uncomment lines by replacing ""#GGG"" with """" when n>1 or to leave the line commented if n == 1</p>

<p>The minimal code required to produce this error is:</p>

<pre><code>foo &lt;- function (string) {
    gsub(""\\#GGG"", '', string)
}
</code></pre>

<p>However, when I run <code>R CMD INSTALL PKG</code> I get the following error:</p>

<pre><code>Error in parse(outFile) : 
  /tmp/RtmpLbFQF0/R.INSTALL2edd9a07/PKG/R/foo.R:3:1: unexpected '}'
2:   gsub(""\\#GGG"", '\\#', string)
3: }
   ^
</code></pre>

<p><strong>UPDATES</strong></p>

<ol>
<li><p>Based on the answers, '\#' is not the culprit.</p></li>
<li><p>I have found that the problem is during install (not build), and I have changed the question to reflect this. I have also fixed the curly braces from my test case.</p></li>
<li><p>Also, I have found that not only does the function work, e.g. when loaded with source(), </p>

<ul>
<li><p>When I make a new project (e.g. 'newproject') and move the function there, it installs without error, i.e. this works:</p>

<ol>
<li>move foo.R to newproject/R/foo.R</li>
<li>make a newproject/DESCRIPTION </li>
<li>R CMD build newproject</li>
<li>R CMD INSTALL newproject</li>
</ol></li>
<li><p>This gives the error above:</p>

<ol>
<li>R CMD build PKG</li>
<li>R CMD INSTALL PKG</li>
</ol></li>
</ul></li>
<li><p>In response to the request for the error output log, the output from <code>R CMD check PKG</code> is the same as the error from the <code>R CMD INSTALL PKG</code>,</p></li>
</ol>

<blockquote>
  <ul>
  <li>installing <em>source</em> package PKG ...
  ** R Error in parse(outFile) :    /home/user/PKG/R/foo.R:24:0:
  unexpected end of input 22:<br>
  writeLines(model.text, con = outfile)
  23: }    ^ ERROR: unable to collate
  files for package PKG</li>
  <li>removing /home/user/PKG.Rcheck/PKG</li>
  </ul>
</blockquote>

<p><strong>Resolution</strong></p>

<p>The resolution of the error is inexplicable, but I reproduced the same seemingly magical method on two functions with the same error. </p>

<ol>
<li><code>mv /PKG/R/foo.R PKG/foo.R</code></li>
<li>Visit new <code>PKG/R/foo.R</code> in emacs</li>
<li>for (i in misc bits of function
<ol>
<li>cut-and-paste i</li>
<li><code>R CMD check PKG</code></li>
<li>if <code>PKG</code> can install</li>
<li>return to <code>1</code></li>
<li>else remove bits and return to <code>3</code></li>
</ol></li>
<li><code>diff PKG/foo.R PKG/R/foo.R</code></li>
<li>if no difference except that function now works
<ol>
<li>update question on SO</li>
<li>consider previous error a fluke</li>
<li>continue as if nothing happened</li>
</ol></li>
</ol>

<h2>UPDATE 2: culprit found!</h2>

<p>The problem was an errant 'e' stuck to the left of the comment symbols ## coming before a function</p>
","199217","","199217","","2011-01-12 21:18:10","2011-01-12 21:18:10","R CMD INSTALL is stuck on a function that works... how can I debug this further?","<r><installation>","3","9","","2010-12-16 22:24:36","","CC BY-SA 2.5","4445293","4452","4452","r","404559","3625322","3607736","",""
"4445873","1","4445906","","2010-12-15 01:12:38","","9","9199","<p>Suppose I have a data.frame called SLV and I apply the tail()function. I will get this:</p>

<pre><code>&gt; tail(SLV)

       SLV.Open SLV.High SLV.Low SLV.Close SLV.Volume SLV.Adjusted
2010-12-06    28.99    29.64   28.88     29.51   57561800        29.51
2010-12-07    29.95    30.00   28.03     28.08   69143800        28.08
2010-12-08    28.33    28.46   27.34     27.70   58203800        27.70
2010-12-09    28.10    28.36   27.83     28.03   36759200        28.03
2010-12-10    27.80    28.11   27.38     27.98   30602700        27.98
2010-12-13    28.84    29.04   28.59     28.87   25901800        28.87
</code></pre>

<p>tail() defaults to the last 6 values, but it's easy to get just the last 1 value.</p>

<pre><code>&gt;tail(SLV, n=1)

       SLV.Open SLV.High SLV.Low SLV.Close SLV.Volume SLV.Adjusted
2010-12-13    28.84    29.04   28.59     28.87   25901800        28.87
</code></pre>

<p>But what is the best way to return the second to last day? In our SLV example, it would be the line that is dated 2010-12-10.</p>
","296155","","","","","2010-12-15 12:27:06","What is the best way to access the second to last value in an R data.frame?","<r><dataframe>","4","0","1","","","CC BY-SA 2.5","4445873","4452","4452","r","404559","3625322","3607736","",""
"4452039","1","4452276","","2010-12-15 16:04:24","","15","5900","<p>Let's say you have a matrix</p>
<pre><code>m &lt;- matrix(1:25*2, nrow = 5, ncol=5)
</code></pre>
<p>How do you go from matrix subscripts (row index, column index) to a linear index you can use on the matrix. For example you can extract values of the matrix with either of these two methods</p>
<pre><code>m[2,3] == 24
m[12] == 24
</code></pre>
<p>How do you go from (2,3) =&gt; 12 or 12 =&gt; (2,3) in R</p>
<p>In Matlab the functions you would use for converting matrix subscripts to linear indices and vice versa are <code>ind2sub</code> and `sub2ind</p>
<p>Is there an equivalent way in R?</p>
","472592","","2372064","","2020-09-09 03:49:08","2020-09-09 03:49:08","Converting between matrix subscripts and linear indices (like ind2sub/sub2ind in matlab)","<r><matlab>","6","1","3","","","CC BY-SA 4.0","4452039","4452","4452","r","404559","3625322","3607736","",""
"4453020","1","4453083","","2010-12-15 17:33:27","","30","68150","<p>Using R, I want to produce multiple character strings such as:</p>

<pre><code>""modelCheck(""var1_d.bug"")""  
""modelCheck(""var2_d.bug"")""  
...  
""modelCheck(""var10_d.bug"")""
</code></pre>

<p>I would usually use a for loop and paste (if I did not have to worry about the double quotation marks) as such:</p>

<pre><code>for(i in 1:10){
    str&lt;-paste(""modelCheck(var"",i,""_d.bug)"",sep="""")
    print(str)
}
</code></pre>

<p>However, I need to include the double quotation marks within the character string, hence the appeal for help?    </p>
","513463","","415282","","2011-05-26 17:39:19","2011-05-26 17:39:19","paste quotation marks into character string, within a loop","<r>","1","0","8","","","CC BY-SA 3.0","4453020","4452","4452","r","404559","3625322","3607736","",""
"4453260","1","","","2010-12-15 17:59:41","","0","3229","<p>I've installed a R package (PathRanker) that depends on packages (xml,Rgraphviz,Rcurl). I've noticed that the all the packages' folders inside the library shows some sort of a locked sign. 
I tried to remove PathRanker using the R CMD REMOVE but it didnt works. I tried to reinstall the package (which I kindda mess around with the code) it also didnt works. So I think it got something to do with the dependency packages. Can someone help me? thanks...</p>
","543723","","","","","2011-01-05 21:21:27","How to remove R package that has dependencies on other packages?","<r><dependencies><packages>","1","3","1","","","CC BY-SA 2.5","4453260","4452","4452","r","404559","3625322","3607736","",""
"4454435","1","4454984","","2010-12-15 20:15:40","","0","283","<p>I'm reading weekly data from a .csv data file.   A sample of the data is:    </p>

<pre><code>Date,Demand    
""Feb 08, 1991"",6621    
""Feb 15, 1991"",6433    
""Feb 22, 1991"",6582   
""Mar 01, 1991"",7224   
""Mar 08, 1991"",6875   
""Mar 15, 1991"",6947   
""Mar 22, 1991"",7328   
""Mar 29, 1991"",6777   
""Apr 05, 1991"",7503
.....  
</code></pre>

<p>My code is:</p>

<pre><code>&gt; temp&lt;-read.table(file=""E:\\Data\\Demand_00.csv"",header=TRUE, sep="","")
&gt; stadat&lt;-strptime(as.character(temp[,1]),""%b %d, %Y"")[1]
&gt; statim&lt;-as.numeric(strftime(stadat,""%Y""))+(as.numeric(strftime(stadat,""%j""))/366)
&gt; temdat&lt;-ts(temp[,2],start=statim,frequency=52)
&gt; plot(temp2&lt;- stl(log(temdat), ""per""))
</code></pre>

<p>My question is:  Is there a better/cleaner way to build statim (the start required in the above ts object)?   Notice that this is weekly data that may or may not start at the first week of the year.   </p>

<p>Thanks,<br>
Bill</p>
","543835","","","","","2010-12-15 21:19:01","Calculating Start for stl()","<r><time-series>","1","0","2","","","CC BY-SA 2.5","4454435","4452","4452","r","404559","3625322","3607736","",""
"4455643","1","","","2010-12-15 22:32:27","","1","1311","<p>I am setting up a new Dell Precision workstation with an NVidia Tesla 2050 GPU card. I would like to install R's package gputools. My OS is openSuse 11.3 with KDE 4.4.</p>

<p>I downloaded NVidia's CUDA Toolkit 3.2 and installed it in /usr/local/cuda, I also downloaded the latest version of the CULA Tools set (version R10) and installed it in /usr/local/cula.</p>

<p>When trying to install gputools from within R using:
install.packages(""gputools"")
I get the following error message:</p>

<pre><code>classification.cu(735): error: argument of type ""unsigned int *"" is incompatible with parameter of type ""size_t *""

classification.cu(735): error: argument of type ""unsigned int *"" is incompatible with parameter of type ""size_t *""

classification.cu(1042): error: argument of type ""unsigned int *"" is incompatible with parameter of type ""size_t *""

classification.cu(1042): error: argument of type ""unsigned int *"" is incompatible with parameter of type ""size_t *""

4 errors detected in the compilation of ""/tmp/tmpxft_00003d8d_00000000-12_classification.compute_12.cpp1.ii"".
make: *** [classification.o] Error 2
ERROR: compilation failed for package gputools
* removing /home/moswald/R/x86_64-unknown-linux-gnu-library/2.12/gputools

The downloaded packages are in
        /tmp/RtmphI30zE/downloaded_packages
Warning message:
In install.packages(""gputools"", dependencies = TRUE) :
  installation of package 'gputools' had non-zero exit status
</code></pre>

<p>Using older versions of the CULA and CUDA toolsets does not help either. </p>
","544012","","636656","","2012-07-25 12:36:43","2012-07-25 12:36:43","gputools: error in installation","<r><cuda><gpu><opensuse><cula>","2","0","","","","CC BY-SA 2.5","4455643","4452","4452","r","404559","3625322","3607736","",""
"4455670","1","4459562","","2010-12-15 22:36:25","","1","937","<p>Suppose I have a data.frame named TLT whose last line is this:</p>

<pre><code>           TLT.Open  TLT.Close 
2010-12-14     92.4      92.14   
</code></pre>

<p>And I want to add an extra vector called TLT.BarColor so it looks like this:</p>

<pre><code>           TLT.Open  TLT.Close  TLT.BarColor
2010-12-14     92.4      92.14       ""Green""
</code></pre>

<p>Here is a function that ""prints"" whether it was a green or red bar day.</p>

<pre><code>bar_color &lt;- function(ticker) {

require(""quantmod"")

x &lt;- getSymbols(ticker, auto.assign=FALSE)

open        &lt;- x[,1]                       
close       &lt;- x[,2]                       

last_open   &lt;- tail(open,  n=1)            
last_close  &lt;- tail(close, n=1)            



if       (last_open &gt; last_close)    
           {print(""Red Bar"")} 

else if  (last_open &lt; last_close)          
           {print(""Green Bar"")}   

 else       {print(""Doji Bar"")}    
</code></pre>

<p>Instead of using the print() R function (which only prints to console), what R function would you use to send the output to populate a new vector?</p>

<pre><code>super_dataframe &lt;- cbind(TLT, apply(TLT, 1, valid_function))
</code></pre>

<p>The sample function does not work in this solution. But if the function were valid, it's output could be attached in this manner.</p>
","296155","","271616","","2012-08-31 03:06:09","2012-08-31 03:06:09","What R function sends output to a new vector?","<r><xts>","2","2","","","","CC BY-SA 2.5","4455670","4452","4452","r","404559","3625322","3607736","",""
"4459969","1","4460089","","2010-12-16 10:53:21","","12","5591","<p>To create a path to a file in a platform independent way, you are <em>supposed to</em> use <code>file.path</code>.  It bugs me a little that, e.g., </p>

<pre><code>file.path(""some dir"", ""some other dir"", ""my file"")
</code></pre>

<p>is more characters and less readable than</p>

<pre><code>""some dir/some other dir/my file""
</code></pre>

<p>I want to know if there are any platforms for which the second version will fail.  Certainly the path separator (<code>.Platform$file.sep</code>) is <code>/</code> for Linux, Mac and Windows.  </p>

<p>Are there any platforms (that R runs on) which have a different value of <code>.Platform$file.sep</code>?</p>

<p>EDIT:
The the only current platforms from the <a href=""https://secure.wikimedia.org/wikipedia/en/wiki/Path_%28computing%29#Representations_of_paths_by_operating_system_and_shell"" rel=""noreferrer"">Wikipedia list</a> (thanks darioo) that don't use <code>/</code> are OpenVMS, Stratus VOS and Symbian.  The <a href=""http://cran.r-project.org/doc/FAQ/R-FAQ.html#What-machines-does-R-run-on_003f"" rel=""noreferrer"">FAQ on R</a> states that R is developed for</p>

<blockquote>
  <p>the Unix-like, Windows and Mac
  families of operating systems</p>
</blockquote>

<p>So there is no official support for any of these platforms.  I don't have a good feel for whether or not there's an army of hackers running R on their Nokia phones.  Can you guesstimate a probability that anyone uses R on these systems?</p>
","134830","","134830","","2010-12-16 11:42:53","2010-12-16 13:16:16","Are there any platforms for which the file separator isn't ""/""?","<r><cross-platform>","2","3","2","","","CC BY-SA 2.5","4459969","4452","4452","r","404559","3625322","3607736","",""
"4460275","1","4460429","","2010-12-16 11:28:00","","4","19900","<p>I'm iterating over a vector, for each element I look something up in a table by rowname and copy the return into a different vector. The following code is used for that</p>

<pre><code>gs1 = function(p)
{
output &lt;- character() #empty vector to which results will be forwarded

for (i in 1:length(p)) {
test &lt;- p[i]
index &lt;- which(rownames(conditions) == test)
toappend &lt;- conditions[index,3] #working
output[i] &lt;- toappend
print(paste(p[i],index,toappend,output[i]))
}   
return(output)
}
</code></pre>

<p>All it spits out is a vector with numbers....while all other variables seems to contain the correct information (as checked by the print function)
I have the feeling I'm doing something terribly wrong in filling the output vector... I could also use</p>

<pre><code>output &lt;- c(output,toappend)
</code></pre>

<p>But that gives me exactly the same, wrong and strange output.</p>

<p>All help is very much appreciated!</p>

<p><strong>Output example</strong></p>

<pre><code>&gt; gs1 = function(p)
+ {
+ output &lt;- character() #empty vector to which results will be pasted
+ 
+ for (i in 1:length(p)) {
+ test &lt;- p[i]
+ index &lt;- which(rownames(conditions) == test)
+ toappend &lt;- conditions[index,3] #working
+ 
+ output &lt;- c(output,toappend)
+ output[i] &lt;- toappend
+ print(paste(p[i],index,toappend,output[i],sep="",""))
+ }
+ return(output)
+ }
&gt; ###########################
&gt; test &lt;- colnames(tri.data.1)
&gt; gs1(test)
[1] ""Row.names,,,NA""
[1] ""GSM235482,1,Glc A,5""
[1] ""GSM235484,2,Glc A,5""
[1] ""GSM235485,3,Glc A,5""
[1] ""GSM235487,4,Xyl A,21""
[1] ""GSM235489,5,Xyl A,21""
[1] ""GSM235491,6,Xyl A,21""
[1] ""GSM297399,7,pH 2.5,12""
[1] ""GSM297400,8,pH 2.5,12""
[1] ""GSM297401,9,pH 2.5,12""
[1] ""GSM297402,10,pH 4.5,13""
[1] ""GSM297403,11,pH 4.5,13""
[1] ""GSM297404,12,pH 4.5,13""
[1] ""GSM297563,13,pH 6.0,14""
[1] ""GSM297564,14,pH 6.0,14""
[1] ""GSM297565,15,pH 6.0,14""
 [1] ""5""  ""5""  ""5""  ""5""  ""21"" ""21"" ""21"" ""12"" ""12"" ""12"" ""13"" ""13"" ""13"" ""14"" ""14"" ""14""
</code></pre>
","369565","","369565","","2010-12-16 12:16:34","2010-12-16 12:16:34","R problems with filling a vector using a for-loop","<r><for-loop>","2","3","","","","CC BY-SA 2.5","4460275","4452","4452","r","404559","3625322","3607736","",""
"4460381","1","4461225","","2010-12-16 11:40:38","","4","1270","<p>I just moved to Eclipse/StatET to code in R. My understanding is that syntax completions appears with Ctrl + Space and you should get some basic functions/argurments information. But </p>

<p>I get almost nothing: </p>

<p>Simple functions as 'plot' are not even listed.
Actually no function starting with the letter p is listed... It just displays a minimum of syntax for loops for instance.</p>

<p>Is it normal ? Is there a way to link it to the R online syntax documentation?</p>
","437863","","180892","","2011-01-01 13:27:57","2011-01-05 21:17:12","R Syntax Auto-completion for Stat ET / Eclipse?","<eclipse><r><code-completion>","2","0","2","","","CC BY-SA 2.5","4460381","4452","4452","r","404559","3625322","3607736","",""
"4462118","1","","","2010-12-16 15:00:15","","9","20205","<p>unfortunately I have problems using predict() in the following simple example:</p>

<pre><code>library(e1071)

x &lt;- c(1:10)
y &lt;- c(0,0,0,0,1,0,1,1,1,1)
test &lt;- c(11:15)

mod &lt;- svm(y ~ x, kernel = ""linear"", gamma = 1, cost = 2, type=""C-classification"")

predict(mod, newdata = test)
</code></pre>

<p>The result is as follows:</p>

<pre><code>&gt; predict(mod, newdata = test)
   1    2    3    4 &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; &lt;NA&gt; 
   0    0    0    0    0    1    1    1    1    1 
</code></pre>

<p>Can anybody explain why predict() only gives the fitted values of the training sample (x,y) and does not care about the test-data?</p>

<p>Thank you very much for your help!</p>

<p>Richard</p>
","544925","","429846","","2012-10-21 13:17:04","2012-10-21 13:18:03","predict.svm does not predict new data","<r><svm><libsvm><predict>","2","1","3","","","CC BY-SA 3.0","4462118","4452","4452","r","404559","3625322","3607736","",""
"4463087","1","4463291","","2010-12-16 16:36:45","","55","8862","<p>I was wondering how to automatically detect operating system in R, for example to place things in the .Rprofile.</p>
","519634","","1717729","","2016-11-05 02:19:55","2016-11-05 02:19:55","detecting operating system in R (e.g. for adaptive .Rprofile files)","<r><operating-system>","4","1","13","","","CC BY-SA 2.5","4463087","4452","4452","r","404559","3625322","3607736","",""
"4467501","1","4467627","","2010-12-17 03:49:05","","0","2593","<p>I have a data set with 100 inputs, they are either called X or Y. I am trying to use the anova function to compare these categorical X's and Y's to a quantitative variable (length). How do I convert my categorical variable to something quantitative? Thanks </p>
","506141","","","","","2010-12-17 06:25:19","How to convert categorical variables into quantitative variables in R","<r>","1","0","","","","CC BY-SA 2.5","4467501","4452","4452","r","404559","3625322","3607736","",""
"4469409","1","4472182","","2010-12-17 10:04:37","","0","875","<p>I would describe myself as an intermediate R user, but a total C/C+/C# novice.  My current task involves pulling data out of a commercial system using the vendors provided SDK.  This is provided as a dll file and I also have some documentation and examples of C+ and C# code.</p>

<p>What is the best way to call these C functions from R and get the data in.  Can anyone recomend some good (introductory) reading material or examples ?</p>
","74658","","","","","2010-12-17 18:37:50","How to call an SDK provided as a C# .net COM dll file in R","<.net><r><dll><com>","4","0","","","","CC BY-SA 2.5","4469409","4452","4452","r","404559","3625322","3607736","",""
"4470735","1","4471379","","2010-12-17 13:10:42","","4","3703","<p>When converting a data frame with mixed factor and numeric columns to an xts, all of my data gets converted to strings. This isn't a problem with the factors, but it's extremely annoying with the numerics. Is there a workaround?</p>

<p>For example:</p>

<pre><code>&gt; x

          marketTimestamp price  id
1 2010-12-17 11:38:31.100 83.89 b-0
2 2010-12-17 11:38:31.100 83.88 b-1
3 2010-12-17 11:38:31.100 83.87 b-2
4 2010-12-17 11:38:31.300 83.91 o-0
5 2010-12-17 11:38:31.300 83.92 o-1
6 2010-12-17 11:38:31.300 83.93 o-2

&gt; as.xts(x[,-1],as.POSIXct(x[,1]))

                    price   id   
2010-12-17 11:38:31 ""83.89"" ""b-0""
2010-12-17 11:38:31 ""83.88"" ""b-1""
2010-12-17 11:38:31 ""83.87"" ""b-2""
2010-12-17 11:38:31 ""83.91"" ""o-0""
2010-12-17 11:38:31 ""83.92"" ""o-1""
2010-12-17 11:38:31 ""83.93"" ""o-2""
</code></pre>

<p>Ideally I want the first column to remain numeric, whilst the second is converted to a string. The solution needs to be fully automated, as I am working with data sets with a large number of columns, and I can't always predict which ones will be factor and which will be numeric.</p>

<p>--</p>

<p>Edit:</p>

<p>I've tried to get around this problem by defining the following function:</p>

<pre><code>to.xts &lt;- function(data) {

    timestamp &lt;- as.POSIXct(data[,1])
    coredata &lt;- data[,-1]

    headers &lt;- names(coredata)
    data.type &lt;- c()

    for (header in headers) {
        data.type[headers==header] &lt;- class(coredata[[header]])
    }

    data.factor  &lt;- xts(coredata[,data.type==""factor""],timestamp)
    data.numeric &lt;- xts(coredata[,data.type==""numeric""],timestamp)

    data.xts &lt;- cbind(data.factor,data.numeric)

}
</code></pre>

<p>but when merging the two XTS objects, the string data is converted to NAs:</p>

<pre><code>&gt; x
                    id    side 
2010-12-17 11:38:31 ""b-0"" ""BID""
2010-12-17 11:38:31 ""b-1"" ""BID""
2010-12-17 11:38:31 ""b-2"" ""BID""
&gt; y
                    price
2010-12-17 11:38:31 83.89
2010-12-17 11:38:31 83.88
2010-12-17 11:38:31 83.87
&gt; merge(x,y)
                    id side price
2010-12-17 11:38:31 NA   NA 83.89
2010-12-17 11:38:31 NA   NA 83.88
2010-12-17 11:38:31 NA   NA 83.87
Warning message:
In merge.xts(x, y) : NAs introduced by coercion
</code></pre>

<p>Is this a known problem with the XTS package, or am I doing something wrong?</p>
","546084","","271616","","2011-08-13 17:51:02","2011-08-13 17:51:02","R: Converting data frame (mixed factor and numeric) to XTS in R","<r><dataframe><xts>","2","0","3","","","CC BY-SA 2.5","4470735","4452","4452","r","404559","3625322","3607736","",""
"4472044","1","4472094","","2010-12-17 15:35:37","","3","8928","<p>When I assign a POSIXct object into a data frame, it converts it into the integer equivalent, for example:</p>

<pre><code>&gt; x&lt;-as.data.frame(matrix(nrow=1,ncol=2))
&gt; x
  V1 V2
1 NA NA
&gt; x[1,1]&lt;-as.POSIXct(""2010-12-07 08:00:00"")
&gt; x
          V1 V2
1 1291708800 NA
</code></pre>

<p>Is there a way to stop this behaviour, or to easily convert the integers back into POSIXct once I have done all the assignments?</p>
","546084","","","","","2014-05-21 05:39:39","R: Assigning POSIXct class to a data frame","<r>","2","0","2","","","CC BY-SA 2.5","4472044","4452","4452","r","404559","3625322","3607736","",""
"4472691","1","4474289","","2010-12-17 16:38:29","","12","22215","<p>I'm trying to get a time series of returns for holding a certain asset for a specific time.</p>

<p>My dataframe looks like this:</p>

<pre><code>Date          Price
1998-01-01     20
1998-01-02     22
1998-01-03     21
1998-01-04     25
...
1998-01-20     25
1998-01-21     19
1998-01-21     20
....
1998-02-01     30
1998-02-02     28
1998-02-03     25
1998-02-04     26
etc.
</code></pre>

<p>I have 1 observation for each day and my time series goes from 1998-1999.</p>

<p>What I would like to do now is calculate a return for holding my asset for 20 days (i.e. buying it at the first day and selling it at day 20), and do this for each day. So I would like to calculate this: </p>

<p>1.day: Return(20days) = log (Price(t=20) / Price (t=0)), </p>

<p>2.day: Return(20days) = log (Price(t=21) / Price (t=1)), </p>

<p>3.day: Return(20days) = log (Price(t=22) / Price (t=2))</p>

<p>etc., i.e. do this for every day in my sample.</p>

<p>So, my resulting dataframe would look like this:</p>

<pre><code>Date          Return
1998-01-01     0.2
1998-01-02     0.4
1998-01-03     0.6
1998-01-04     0.1
...
1998-01-20     0.1
1998-01-21     0.2
1998-01-21     0.5
....
1998-02-01     0.1
1998-02-02     0.2
1998-02-03     0.5
1998-02-04     0.01
etc.
</code></pre>

<p>Is there a way in R to say: take the first 20 observations, calculate the return. Take observation 2-21, calculate the return. Take observation 3-22, calculate the return etc.?</p>

<p>I'm totally stuck and would appreciate some help. Thanks!
Dani</p>
","513744","","","","","2014-08-05 12:43:56","Calculate Returns over Period of Time","<r><return><time-series>","6","0","6","","","CC BY-SA 2.5","4472691","4452","4452","r","404559","3625322","3607736","",""
"4473123","1","4473285","","2010-12-17 17:23:52","","4","485","<p>I'm working on Amazon's Elastic Map Reduce service and I want to bootstrap the latest version of R on to every node. Each node is a pretty basic install of Debian Lenny. I've written a simple shell script that seems to get the job done, but I'm curious if there are better ways or other things I should consider in my script below:</p>

<pre><code>#!/bin/bash

# Change these lines if you don't want to use the main CRAN mirror.
# debian R upgrade
echo ""deb http://cran.r-project.org/bin/linux/debian lenny-cran/"" | sudo tee -a /etc/apt/sources.list
echo ""deb-src http://cran.r-project.org/bin/linux/debian lenny-cran/"" | sudo tee -a /etc/apt/sources.list

# add key to keyring so it doesn't complain 
gpg --keyserver pgp.mit.edu --recv-key 381BA480
gpg -a --export 381BA480 &gt; jranke_cran.asc
sudo apt-key add jranke_cran.asc

# install the latest R
sudo apt-get update
sudo apt-get -t lenny-cran install --yes --force-yes r-base r-base-dev
</code></pre>
","37751","","143305","","2010-12-17 17:39:29","2010-12-17 17:43:36","Script to load latest R onto a fresh Debian Machine","<r><debian>","1","0","4","","","CC BY-SA 2.5","4473123","4452","4452","r","404559","3625322","3607736","",""
"4473569","1","4475487","","2010-12-17 18:19:03","","4","382","<p>I'm using rJava to speak to the Amazon Web Services Java API from inside of R. After some initial pain I have it working. But the API is VERY chatty and feedbacks to R a huge amount of info that is great for debugging, but now that my code works, I'd like to silence this info chatter. How would I go about getting rid of this chatter? I'm not even sure where to look. The API? rJava? A switch in R? </p>

<p>Any help in where to look would be appreciated. Here's an example of the info chatter:</p>

<pre><code>R&gt; result &lt;- uploadS3File(clusterObject$s3TempDir, streamFile)
Dec 17, 2010 12:12:52 PM com.amazonaws.http.HttpClient execute
INFO: Sending Request: PUT https://rtmphgdfkoughcboh8kl.s3.amazonaws.com /stream.txt Headers: (Authorization: AWS AKIAIC2FRTLFVNIOTMAQ:E++Z54SQsgoAntZ7JAd6aWJ2ZVs=, Date: Fri, 17 Dec 2010 18:12:52 GMT, Content-Length: 255579, Content-MD5: pMFNOWPJswXpAEULjfOclw==, Content-Type: text/plain, ) 
Dec 17, 2010 12:12:53 PM com.amazonaws.http.HttpClient handleResponse
INFO: Received successful response: 200, AWS Request ID: FC4113F003FCF631
R&gt; 
</code></pre>
","37751","","37751","","2010-12-17 21:27:08","2010-12-17 22:57:58","R: getting chatty Java processes to STFU","<java><r><rjava>","4","3","1","","","CC BY-SA 2.5","4473569","4452","4452","r","404559","3625322","3607736","",""
"4474077","1","4474134","","2010-12-17 19:30:57","","0","614","<p>I don't have much experience in R, so correct me if I'm making an elementary mistake:</p>

<p>I have a function:</p>

<pre><code>ctree_result &lt;- function(yval, training, testing) {
    print(yval)
    trained_tree &lt;- ctree(formula = ordered(yval) ~ ., subset=training, data=ealls)
    print(""here"")
    tree_cor &lt;- cor(yval[testing], as.numeric(predict(trained_tree, ealls[testing])))
    c_mat &lt;- rbind(yval[testing], as.numeric(predict(trained_tree, ealls[testing])))
    tree_kappa &lt;- cohen.kappa(t(c_mat))
    return(c(tree_cor, tree_kappa))
}
</code></pre>

<p>When I call it (with any data, but for example):</p>

<pre><code>ctree_result(emean.data$mean.Shape, 1:70, 71:80)
</code></pre>

<p>I get the error <code>Error in factor(x, ..., ordered = TRUE) : object 'yval' not found</code>.  However, the first print statement works, the vector is printed out.  The second print statement never runs. <code>yval</code> doesn't seem to be getting passed through to ctree.</p>

<p>I can run the <code>ctree</code> function manually as:</p>

<pre><code>yval &lt;- emean.data$mean.Shape
sauc_tree = ctree(formula = ordered(yval) ~ . , data=ealls)
</code></pre>

<p>with no problems.  <code>ealls</code> and <code>emean.data</code> are global datasets I define earlier.</p>
","185175","","185175","","2010-12-17 19:53:04","2010-12-17 21:32:33","Problem passing data to function in R","<r>","2","4","","","","CC BY-SA 2.5","4474077","4452","4452","r","404559","3625322","3607736","",""
"4474217","1","","","2010-12-17 19:48:18","","1","2773","<p>I have two dependents that both depent on two variables AND on each other, can this be modelled in R (must be!) but I can't figure out how, anyone a hint?</p>

<p>In clear terms:</p>

<p>I want to model my data with the following model:</p>

<pre><code>Y1=X1*coef1+X2*coef2
Y2=X1*coef2+X2*coef3
</code></pre>

<p>Note: coef2 appears in both lines
Xi, Yi is input and output data respectively</p>

<p>I got this far:</p>

<pre><code>lm(Y1~X1+X2,mydata)
</code></pre>

<p>now how do I add the second line of the model including the cross dependency?</p>

<p>Your help is greatly appreciated!
Cheers, Bastiaan</p>
","546465","","","","","2010-12-21 02:05:00","multivariate regression","<r><model><regression><linear-regression><lm>","1","3","1","","","CC BY-SA 2.5","4474217","4452","4452","r","404559","3625322","3607736","",""
"4474671","1","4474711","","2010-12-17 20:53:04","","6","1977","<p>This should be an easy thing to do.  The similar examples I have read on here have been a bit more complex and the techniques are not really working for me.  </p>

<p>I have a variable called id_string</p>

<pre><code>&gt; typeof(id_string)
[1] ""character""
</code></pre>

<p>and</p>

<pre><code>&gt; id_string
[1] ""1,2,5,6,10""
</code></pre>

<p>What I want to do is split these values out and store them in a new variable.  Such that, for example:</p>

<pre><code>x[1] = 1
x[4] = 6
x[5] = 10
</code></pre>

<p>I tried to do </p>

<pre><code>x &lt;- strsplit(id_string,"","") 
</code></pre>

<p>to split it by comma but I just get <code>x = ""1 2 5 6 10""</code></p>

<p>I read through <a href=""https://stackoverflow.com/questions/1676990/split-a-string-vector-r"">this post</a> on here which is similar and thought that something like </p>

<pre><code>x &lt;- read.csv(textConnection(id_string))
</code></pre>

<p>would work but to no avail.  </p>

<p>Perhaps I am over thinking this.  Please let me know if you have any ideas.  Thank you.</p>
","546497","","-1","","2017-05-23 12:22:31","2010-12-20 09:50:59","R strsplit problem (easy fix?)","<r>","2","0","","","","CC BY-SA 2.5","4474671","4452","4452","r","404559","3625322","3607736","",""
"4476191","1","4476494","","2010-12-18 01:56:42","","2","5308","<p>Suppose we create a data.frame like this:</p>

<pre><code>&gt; hugs_per_day &lt;- rnorm(10)
&gt; hugs_per_day &lt;- as.data.frame(hugs_per_day)
&gt; hugs_per_day
   hugs_per_day
1  -2.500457495
2  -0.204545274
3  -0.955424927
4   0.320184701
5   1.822908001
6  -0.058679520
7  -0.276004919
8   0.175341993
9  -0.137404974
10  0.005096691
</code></pre>

<p>And we want to run a function on each day to return a value based on the results, something like this:</p>

<pre><code>nested_ifelse &lt;- function(x){

ifelse (x &gt; 1,     mood &lt;- ""happy"",
    ifelse(x &lt; 0,  mood &lt;- ""sad"", 
                   mood &lt;- ""same as yesterday"" ))

   return(mood)
}
</code></pre>

<p>The nested_ifelse() example does what I want and I'm sure sapply() is the correct R function to populate a new column with results from the function, but I just can't put the two together. </p>
","296155","","296155","","2010-12-18 02:31:52","2010-12-18 03:49:53","Nested ifelse R function passed to sapply() to create new data.frame","<r><dataframe>","3","0","","","","CC BY-SA 2.5","4476191","4452","4452","r","404559","3625322","3607736","",""
"4477436","1","","","2010-12-18 09:13:08","","1","4298","<p>The computer I used in office has been recently upgraded to a quad-core one, which is a blessing to me, as sometimes I need to do some explicit loops using R, which the outcomes are based one some logical rules, which I can't figure out how to work this out other than a explicit loop.</p>

<p>For some background information, sometimes I have about 10000-20000 rows, which I need to look at 2 column, and base on their values and some logical rules, to generate value for a new column.</p>

<p>I am trying to use the <code>doSNOW</code> package to better utilize the unused CPU power, I have written a demo script as below, based on the example from <a href=""http://decisionstats.com/2010/09/24/parallel-programming-using-r-in-windows/"" rel=""nofollow"">here</a>:</p>

<pre><code>library(doSNOW)
# rm(list=ls())

cl&lt;-makeCluster(2) # I have two cores
registerDoSNOW(cl)

table &lt;- data.frame(a=rnorm(1000),b=rnorm(1000))

process &lt;- function(table)
              {for (loop in (1:nrow(table)))
                   {table[loop,""c""] &lt;- with(table[loop,], a*b)
                    assign(""table"",table,envir=.GlobalEnv)
                   }
              }


system.time(process(table))

system.time(foreach(j=1:2 ) %dopar% process(table))

stopCluster(cl)
</code></pre>

<p>I am using a netbook with ATOM CPU inside to try this out, but the result is weird:</p>

<pre><code>system.time(process(table))
user  system elapsed 
2.336   0.028   2.308 

system.time(foreach(j=1:2 ) %dopar% process(table))
user  system elapsed 
0.160   0.032   3.646 
</code></pre>

<p>After using doSNOW, time needed for result is even longer than without using doSNOW, I wonder if this is the problem of my ATOM netbook, or did I make anything wrong in the code?</p>

<p>Thanks!</p>
","373908","","163053","","2010-12-18 13:47:21","2011-04-04 04:57:44","use doSNOW to speed up explicit loop in R","<r><parallel-processing>","3","5","1","","","CC BY-SA 2.5","4477436","4452","4452","r","404559","3625322","3607736","",""
"4477638","1","4479478","","2010-12-18 10:20:02","","4","13853","<p>How to grep with <code>fixed=T</code>, but only at the beginning of the string?</p>

<pre><code>grep(""a."", c(""a.b"", ""cac"", ""sss"", ""ca.f""), fixed = T)
# 1 4
</code></pre>

<p>I would like to get only the first occurrence. 
[Edit: the string to match is not known in advance, and can be anything. ""a."" is just for the sake of example]</p>

<p>Thanks.</p>

<p>[Edit: I sort of solved it now, but any other ideas are highly welcome. I will accept as an answer any alternative solution.</p>

<pre><code>s &lt;- ""a.""
res &lt;- grep(s, c(""a.b"", ""cac"", ""sss"", ""ca.f""), fixed = T, value = T)
res[substring(res, 1, nchar(s)) == s]
</code></pre>

<p>]</p>
","453735","","10248678","","2020-08-14 10:05:02","2020-08-14 10:05:02","grep at the beginning of the string with fixed =T in R?","<r><regex>","5","0","1","","","CC BY-SA 2.5","4477638","4452","4452","r","404559","3625322","3607736","",""
"4480049","1","4480613","","2010-12-18 20:38:43","","2","592","<p>I have written a program that works with the 3n + 1 problem (aka ""wondrous numbers"" and various other things).  But it has a double loop.  How could I vectorize it?</p>

<p>the code is</p>

<pre><code>count &lt;- vector(""numeric"", 100000)
L &lt;- length(count)

for (i in 1:L)
{
x &lt;- i
   while (x &gt; 1)
   {
   if (round(x/2) == x/2) 
     {
     x &lt;- x/2
     count[i] &lt;- count[i] + 1 
     } else
     {
     x &lt;- 3*x + 1
     count[i] &lt;- count[i] + 1
     }
   }
}
</code></pre>

<p>Thanks!</p>
","228220","","","","","2010-12-20 08:49:51","Advice wanted on getting rid of loops","<r><loops><vectorization>","3","1","","","","CC BY-SA 2.5","4480049","4452","4452","r","404559","3625322","3607736","",""
"4485564","1","4485762","","2010-12-19 22:47:29","","3","318","<h2>Background</h2>

<p>Provide an example of R programming.</p>

<h2>Problem</h2>

<p>Create a distribution of values that, when modeled, produces a curve that resembles:</p>

<p><img src=""https://i.stack.imgur.com/BEFXK.png"" /></p>

<p>Essentially, I would like to do something like:</p>

<pre><code>x &lt;- seq( 0, 2, by=0.01 )
y &lt;- sin( 2 * pi * cos( x - 1/2 ) )
plot( x, y * runif( x ) )
</code></pre>

<p>But without the clump of data points around 0.5:</p>

<p><img src=""https://i.stack.imgur.com/FbAMx.png"" /></p>

<h2>Question</h2>

<p>How would you create such a distribution?</p>

<p>Thank you!</p>
","59087","","","","","2010-12-19 23:32:48","Random, curvy distribution of data points","<r><random><package><distribution><curve-fitting>","3","0","","","","CC BY-SA 2.5","4485564","4452","4452","r","404559","3625322","3607736","",""
"4485943","1","4486145","","2010-12-20 00:22:10","","14","19999","<p>I have a C# program that generates some R code. Right now I save the script to file and then copy/paste it into the R console. I know there is a COM interface to R, but it doesn't seem to work with the latest version of R (or any version after 2.7.8). Is there some way I can just programmatically execute the R script from C# after saving it to file?</p>
","330561","","","","","2018-10-29 22:04:39","Executing R script programmatically","<c#><r><com>","5","0","4","","","CC BY-SA 2.5","4485943","4452","4452","r","404559","3625322","3607736","",""
"4487065","1","","","2010-12-20 05:11:56","","11","26175","<p>I need to convert an rda file to csv. I've tried to load it in R , but I get the following error:</p>

<pre><code>In readChar(con, 5L, useBytes = TRUE) :
  cannot open compressed file file 'data/matrix.rda', probable reason 'No such file or directory'
</code></pre>

<p>Here is a <a href=""http://elisacarli.altervista.org/matrix.rda"" rel=""noreferrer"">link</a> to rda file (<a href=""http://elisacarli.altervista.org/matrix.rda"" rel=""noreferrer"">http://elisacarli.altervista.org/matrix.rda</a>)</p>

<p>Thanks in advance for any suggestion</p>
","548227","","2886003","","2017-04-08 14:59:49","2017-04-08 14:59:49","Convert RDA to csv","<r>","2","0","2","","","CC BY-SA 3.0","4487065","4452","4452","r","404559","3625322","3607736","",""
"4487683","1","4488217","","2010-12-20 07:34:39","","1","2499","<p>Thanks everybody for the reply! Now I fixed the problem by R 2.12.1 and NpptoR (version 2.5.2), without setting the registry.</p>

<p>After a while of my updating of R from 2.11.1 to 2.12.0, I was now completely unable to pass scripts to R from Notepad++ (working together with nppToR).</p>

<p>when I installed nppToR, I always get the same dialogue of <code>""Could not find the Rgui.exe file. Aborting""</code>, and it will not ready for use. I thought it is caused by the updating of R.2.11.1 to R.2.12.0 because the Rgui.exe were located in different location. Then, for a while, the nppToR works after I edit the nppToR.ini file, from this:</p>

<pre><code>[install]
global=1
</code></pre>

<p>into this, which is also from the previous version of the nppToR files:</p>

<pre><code>[executables]
R=C:\Program Files\R\R-2.12.0\bin\i386\Rgui.exe  --max-mem-size=2047M
Rcmdparms=
Npp=
NppConfig=
[hotkeys]
passline=F8
passfile=^F8
evaltocursor=+F8
batchrun=^!F8
rhelp=^F1
[putty]
activateputty=1
puttyline=F9
puttyfile=^F9
[controls]
Rpastewait=50
Rrunwait=10
restoreclipboard=1
appendnewline=1
[silent]
enablesilent=1
silentkey=!F8
[install]
global=1
</code></pre>

<p>However, in these days, this modification never work for me, even though I uninstalled the R.2.12.0 and installed R.2.11.1. And I really have no idea the reason for that. Is there some one had the same experiences? Or, can some one help me out?</p>

<p>PS.: I also tried Tinn-R as an alternative, but after some time of use, the cursor usually appear in some position just like it is going mad, and when I input the code, each line can have only one single letter, and the cursor will move to the next line automatically.Do any body know why?</p>

<p>Thank in advance~</p>

<p>Best Regards~</p>

<p>Marco</p>
","548334","","548334","","2011-02-19 05:14:40","2013-07-31 11:39:20","Problem using nppToR or Tinn-R","<r><tinn-r>","5","5","","","","CC BY-SA 2.5","4487683","4452","4452","r","404559","3625322","3607736","",""
"4488888","1","4488953","","2010-12-20 10:48:33","","4","3222","<p>I have a dataframe ""foo"" looking like this</p>

<pre><code>Date       Return
1998-01-01  0.02
1998-01-02  0.04
1998-01-03 -0.02
1998-01-04 -0.01
1998-01-05  0.02
...
1998-02-01  0.1
1998-02-02 -0.2
1998-02-03 -0.1
etc.
</code></pre>

<p>I would like to add to this dataframe a new column showing me the density value of the corresponding return. I tried:</p>

<pre><code>foo$density &lt;- for(i in 1:length(foo$Return)) density(foo$Return, 
from = foo$Return[i], to = foo$Return[i], n = 1)$y
</code></pre>

<p>But it didn't work. I really have difficulty applying a ""function"" to each row. But maybe there is also another way to do it, not using density()?</p>

<p>What I essentially would like to do is to extract the fitted density values from density() to the returns in foo. If I just do plot(density(foo$Return)) it gives me the curve, however I would like to have the density values attached to the returns.</p>

<p>@Joris: </p>

<pre><code>foo$density &lt;- density(foo$Return, n=nrow(foo$Return))$y 
</code></pre>

<p>calculates something, however seems to return wrong density values.</p>

<p>Thank you for helping me out!
Dani</p>
","513744","","429846","","2013-01-02 09:29:44","2020-10-05 16:45:58","Density Value for each Return","<r><kernel-density>","4","4","","","","CC BY-SA 3.0","4488888","4452","4452","r","404559","3625322","3607736","",""
"4490273","1","4490302","","2010-12-20 13:54:58","","4","11482","<p>I was using R to make some plots for a report. I see that the plots don't seem to be so smooth. I am new to R so don't know much. But how do I get smooth plots?</p>

<p>Also by default the plots are filled with solid colors but I want to have hatched fills in my pie charts and bar plots. Is there a way to do that in R, I couldn't find it through a basic google search so I put this question here.</p>
","213334","","","","","2013-05-18 11:46:44","R: using hatched fill in plots","<r><plot><fill><hatchstyle>","3","5","1","","","CC BY-SA 2.5","4490273","4452","4452","r","404559","3625322","3607736","",""
"4493287","1","4494863","","2010-12-20 19:47:55","","6","4253","<p>I have a vector x of 1,344 unique strings. I want to generate a matrix that gives me all possible groups of three values, regardless of order, and export that to a csv. </p>

<p>I'm running R on EC2 on a m1.large instance w 64bit Ubuntu. When using combn(x, 3) I get an out of memory error: </p>

<pre><code>Error: cannot allocate vector of size 9.0 Gb
</code></pre>

<p>The size of the resulting matrix is C1344,3 = 403,716,544 rows and three columns - which is the transpose of the result of combn() function.</p>

<p>I thought of using the bigmemory package to create a file backed big.matrix so I can then assign the results of the combn() function. I can create a preallocated big matrix:</p>

<pre><code>library(bigmemory)
x &lt;- as.character(1:1344)
combos &lt;- 403716544
test &lt;- filebacked.big.matrix(nrow = combos, ncol = 3, 
        init = 0, backingfile = ""test.matrix"")
</code></pre>

<p>But when I try to allocate the values <code>test &lt;- combn(x, 3)</code> I still get the same: <code>Error: cannot allocate vector of size 9.0 Gb</code></p>

<p>I even tried coercing the result of <code>combn(x,3)</code> but I think that because the combn() function is returning an error, the big.matrix function doesn't work either.</p>

<pre><code>test &lt;- as.big.matrix(matrix(combn(x, 3)), backingfile = ""abc"")
Error: cannot allocate vector of size 9.0 Gb
Error in as.big.matrix(matrix(combn(x, 3)), backingfile = ""abc"") : 
  error in evaluating the argument 'x' in selecting a method for function 'as.big.matrix'
</code></pre>

<p>Is there a way to combine these two functions together to get what I need? Are there any other ways of achieving this? Thanks.</p>
","142068","","","","","2010-12-21 10:26:51","Generating a very large matrix of string combinations using combn() and bigmemory package","<r><combinatorics><bigdata>","3","3","4","","","CC BY-SA 2.5","4493287","4452","4452","r","404559","3625322","3607736","",""
"4494294","1","4508479","","2010-12-20 21:50:16","","2","1753","<p>I use the gplots package to output barplots. I use it inside a for-loop, so rest of the code is omitted to make it more clear:</p>

<pre><code>library(""gplots"")
pdf(file = ""/Users/Tim/desktop/pgax.pdf"", onefile = TRUE, paper = ""special"")
par(mfrow = c(4,2)) #figures arranged in 2 rows and 2 columns
par(las=2) #perpendicular labels on x-axis

barplot2(expression,ylab = expression(expression),main = graph.header, cex.names =0.85, beside = TRUE, offset = 0, xpd = FALSE,axis.lty = 0, cex.axis = 0.85, plot.ci = TRUE,ci.l = expression - sd.value, ci.u = expression + sd.value, col = colors,width = 1,names.arg = c(etc))
</code></pre>

<p>Now when I specify the papersize at a4, and print out in two columns the bars are made so they fill up the full space assigned. If I only have a few bars in each graws, the width is too big compared to the height. I know I should be using <code>xlimit and width</code> = amongst and perhaps even the aspect ratio?, but I can't get the results I wanted. And unconvenient way is to specify the height and width output of the paper, and manually I adjust it for the number of bars in the plots each time. But this doesnt seem appropiate. Does someone know a convenient way to fix width bars in my plots?</p>

<p>All help is much appreciated!</p>
","369565","","","","","2010-12-22 11:00:33","R: gplots, barplots: how to fix bar width independent of paper setting?","<r><graph>","1","0","1","","","CC BY-SA 2.5","4494294","4452","4452","r","404559","3625322","3607736","",""
"4494861","1","4495071","","2010-12-20 23:03:12","","1","328","<p>I have the following function:</p>

<pre><code>library (reshape)
phenotype &lt;- rnorm (100)
data &lt;- matrix(rnorm(1000), nrow = 10, ncol=100)

spearman.p &lt;-
             reshape(
                     melt(
                          apply(data, 1, function(y){
                                        cor.test(y,phenotype,method=""spearman"")
                                                    }[c(""p.value"", ""estimate"")]
                               )
                          ), timevar=""L2"", idvar=""L1"", direction=""wide""
                       )
</code></pre>

<p>that I would like to know if there is a more efficent way of getting out the p.value and estimate from a ""apply""ed cor.test</p>

<p>Can anyone provide some suggestions?</p>
","","please delete me","","please delete me","2010-12-23 20:22:44","2010-12-23 20:22:44","Optimizing apply function output","<r>","2","2","1","","","CC BY-SA 2.5","4494861","4452","4452","r","404559","3625322","3607736","",""
"4495528","1","4495881","","2010-12-21 01:10:05","","2","6063","<p>I found this <a href=""https://stackoverflow.com/questions/3367393/how-to-control-the-dimension-size-of-a-plot-with-ggplot2"">question</a> about changing the size of a ggplot2 plot in Sweave. I added the <code>Sweaveopts{width=3, height=3}</code> and it does shrink the size of the plot, but it doesn't scale down the text. So in the end, all of the numbers on the axes overlap.</p>

<p>Is there a way to scale the entire ggplot2 plot in Sweave so that I don't have to manually scale every component in the original ggplot2 call? It seems like something I should be able to do, but I can't find it in the ggplot2 book or on the website. Thanks!</p>

<p>FWIW, here's my call in Sweave:</p>

<pre><code>\SweaveOpts{width=3, height=3}
\begin{figure}
\begin{center}
&lt;&lt;fig=TRUE&gt;&gt;=
print(plot.m)
@
\end{center}
\caption{stuff}
\label{fig:stuff}
\end{figure}
</code></pre>

<p>And the call that generates the ggplot2 plot:</p>

<pre><code>plot.m &lt;- ggplot(temp, aes(date, spread)) + geom_bar(stat=""identity"") + scale_x_date(major=""years"", minor=""months"")
</code></pre>
","334755","","-1","","2017-05-23 11:47:49","2010-12-21 02:48:03","Change the size of ggplot2 plot in Sweave without making the text/numbers disproportionately large","<r><ggplot2><sweave>","1","2","2","","","CC BY-SA 2.5","4495528","4452","4452","r","404559","3625322","3607736","",""
"4497592","1","4497772","","2010-12-21 08:51:32","","1","944","<p>I am wondering if it is possible to specify grid viewports with double like this:</p>

<pre><code>pushViewport(viewport(layout.pos.row=1, layout.pos.col=1.5))
popViewport() 
</code></pre>

<p>When I'm trying this I get row 1 and col 1.</p>

<p>But I want to have half of col 1 and half of col 2.</p>

<p>Has anyone a hint for me?</p>
","1848552","","134830","","2015-01-14 18:30:00","2015-01-14 18:30:00","pushViewport -> layout.pos.col possible with doubles?","<r><r-grid>","1","0","1","","","CC BY-SA 2.5","4497592","4452","4452","r","404559","3625322","3607736","",""
"4497747","1","44504477","","2010-12-21 09:19:28","","9","14684","<p>(I've tried asking this on <a href=""https://www.biostars.org/p/4491/"" rel=""nofollow noreferrer"">BioStars</a>, but for the slight chance that someone from text mining would think there is a better solution, I am also reposting this here)</p>

<p>The task I'm trying to achieve is to align several sequences.</p>

<p>I don't have a basic pattern to match to.  All that I know is that the ""True"" pattern should be of length ""30"" and that the sequences I have had missing values introduced to them at random points.</p>

<p>Here is an example of such sequences, were on the left we see what is the real location of the missing values, and on the right we see the sequence that we will be able to observe.</p>

<p>My goal is to reconstruct the left column using only the sequences I've got on the right column (based on the fact that many of the letters in each position are the same)</p>

<pre><code>                     Real_sequence           The_sequence_we_see
1   CGCAATACTAAC-AGCTGACTTACGCACCG CGCAATACTAACAGCTGACTTACGCACCG
2   CGCAATACTAGC-AGGTGACTTCC-CT-CG   CGCAATACTAGCAGGTGACTTCCCTCG
3   CGCAATGATCAC--GGTGGCTCCCGGTGCG  CGCAATGATCACGGTGGCTCCCGGTGCG
4   CGCAATACTAACCA-CTAACT--CGCTGCG   CGCAATACTAACCACTAACTCGCTGCG
5   CGCACGGGTAAGAACGTGA-TTACGCTCAG CGCACGGGTAAGAACGTGATTACGCTCAG
6   CGCTATACTAACAA-GTG-CTTAGGC-CTG   CGCTATACTAACAAGTGCTTAGGCCTG
7   CCCA-C-CTAA-ACGGTGACTTACGCTCCG   CCCACCTAAACGGTGACTTACGCTCCG
</code></pre>

<p>Here is an example code to reproduce the above example:</p>

<pre><code>ATCG &lt;- c(""A"",""T"",""C"",""G"")
set.seed(40)
original.seq &lt;- sample(ATCG, 30, T)
seqS &lt;- matrix(original.seq,200,30, T)
change.letters &lt;- function(x, number.of.changes = 15, letters.to.change.with = ATCG) 
{
    number.of.changes &lt;- sample(seq_len(number.of.changes), 1)
    new.letters &lt;- sample(letters.to.change.with , number.of.changes, T)
    where.to.change.the.letters &lt;- sample(seq_along(x) , number.of.changes, F)
    x[where.to.change.the.letters] &lt;- new.letters
    return(x)
}
change.letters(original.seq)
insert.missing.values &lt;- function(x) change.letters(x, 3, ""-"") 
insert.missing.values(original.seq)

seqS2 &lt;- t(apply(seqS, 1, change.letters))
seqS3 &lt;- t(apply(seqS2, 1, insert.missing.values))

seqS4 &lt;- apply(seqS3,1, function(x) {paste(x, collapse = """")})
require(stringr)
# library(help=stringr)
all.seqS &lt;- str_replace(seqS4,""-"" , """")

# how do we allign this?
data.frame(Real_sequence = seqS4, The_sequence_we_see = all.seqS)
</code></pre>

<p>I understand that if all I had was a string and a pattern I would be able to use </p>

<pre><code>library(Biostrings)
pairwiseAlignment(...)
</code></pre>

<p>But in the case I present we are dealing with many sequences to align to one another (instead of aligning them to one pattern).</p>

<p>Is there a known method for doing this in R?</p>
","256662","","680068","","2019-02-11 07:05:19","2019-02-11 07:05:19","How to perform basic Multiple Sequence Alignments in R?","<r><alignment><sequence><bioinformatics><text-alignment>","4","0","2","","","CC BY-SA 4.0","4497747","4452","4452","r","404559","3625322","3607736","",""
"4498830","1","4499083","","2010-12-21 11:38:15","","1","1045","<p>I'm trying to create a plot with errorbars from the following data (dput of the dataframe in the end). I'd like to create errorbars for the ""est A"" and ""est B"" variables for each ""loc"", but I cannot figure out the right way to melt/cast the data so that each ""loc"" would have two rows with several columns.</p>

<p>I.e. I'd like to convert the dataframe into</p>

<p>loc est value  lb     ub</p>

<p>a    A   0.56   0.26  1.20</p>

<p>a    B   0.26   0.11  0.60</p>

<p>b    A   0.13   </p>

<p>b    B   0.03</p>

<p>c    A</p>

<p>c    B</p>

<pre><code>ggplot(test,aes(x=Loc,y=value,color=est))+geom_point()+geom_errorbar(aes(ymax=ub,ymin=lb))


&gt; dput(test)
structure(list(Loc = c(""a"", ""b"", ""c"", ""d"", ""e"", ""f"", ""g"", ""h"", 
""i"", ""j"", ""k"", ""l"", ""m"", ""n"", ""o"", ""p"", ""q"", ""r"", ""s""), `est A` = c(0.563270934055709, 
0.137109873453407, 0.0946514679398302, 0.185103062070327, 0.0322566231880829, 
0.122509922923046, 0.120243043198876, 0.496530499385046, 0.469200921538171, 
0.0605252215342125, 0.102364314964088, 0.115500654388976, 0.226320301860998, 
0.553299923910439, 0.0284461712437990, 0.161231809656951, 0.129270683014873, 
0.0691902563736868, 4.22775563209408e-10), `est B` = c(0.261222076585074, 
0.0361169058045732, 0.0389295009573361, 0.0341489915400374, 0.00722206105211422, 
0.0756192543690879, 0.0638910584951127, 0.112923798991901, 0.169215410079679, 
0.0235142527703486, 0.0347964005083873, 0.0485649792804626, 0.057534910753763, 
0.142573116854277, 0.0221769276223588, 0.104198059736499, 0.0234801538140553, 
0.072563099770018, 1.93211916678252e-10), `A lb` = c(0.262976608413878, 
0.0724138165552355, 0.0496821188642757, 0.083935851825787, 0.00630380846921399, 
0.0490562081838664, 0.0467393615329014, 0.20284436584412, 0.178474018619480, 
0.0171506568665928, 0.0503363150211533, 0.0600281091658352, 0.0747597162489745, 
0.276929613768523, 0.00665167561787145, 0.0580348444006193, 0.0516432163190537, 
0.0228220757228112, 0), `A ub` = c(1.20647287629726, 0.259606775235633, 
0.180324442434493, 0.408206300913301, 0.165057321233572, 0.305948661143090, 
0.309340756132258, 1.21542708762748, 1.23351010121895, 0.213595459944227, 
0.208168853315217, 0.222235904972905, 0.685140094216929, 1.10548237017075, 
0.121651250740107, 0.447932560408103, 0.323583825296458, 0.209765826526966, 
Inf), `B lb` = c(0.111866193520147, 0.0169169666997800, 0.0186761266424921, 
0.0121471488870159, 0.00126380823047679, 0.0279532804037691, 
0.0225442254744942, 0.0369377660459994, 0.0509571176650792, 0.00592607390737984, 
0.0157043256006381, 0.0231925392578512, 0.0153998561264800, 0.0612241780775462, 
0.00507024995333768, 0.0364091610491575, 0.00745586930827693, 
0.0243798413908829, 0), `B ub` = c(0.609987442570209, 0.0771078472899858, 
0.0811466999446844, 0.0960022499146318, 0.0412706331409062, 0.204565315724654, 
0.181069310198491, 0.345223486522794, 0.561920617187038, 0.0933029341161755, 
0.0770991075408484, 0.101694652159027, 0.214954342966326, 0.332010886676128, 
0.0970003694676995, 0.298200654450461, 0.0739441103828987, 0.215973654783605, 
Inf)), .Names = c(""Loc"", ""est A"", ""est B"", ""A lb"", ""A ub"", ""B lb"", 
""B ub""), row.names = c(NA, -19L), class = ""data.frame"")
</code></pre>
","338745","","","","","2014-08-20 19:56:40","ggplot and errorbars","<r><ggplot2>","2","0","","","","CC BY-SA 2.5","4498830","4452","4452","r","404559","3625322","3607736","",""
"4500106","1","4500191","","2010-12-21 14:08:46","","20","21156","<p>I'd like to know how I can iterate over a key/value pair from a list object in R, like the example below:</p>

<pre><code>toto &lt;- list(a=""my name is"",b=""I'm called"",c=""name:"")
myfun &lt;- function(key,value) paste(value,key)
for( key in names(toto) ) toto[key] &lt;- myfun(key,toto[[key]])
</code></pre>

<p>Is there a way to avoid the for loop (using lapply() or such). Would it be faster?</p>

<p>Thanks!</p>
","339761","","","","","2010-12-21 14:29:44","Iterate over key/value pair from a list()","<r>","2","1","3","","","CC BY-SA 2.5","4500106","4452","4452","r","404559","3625322","3607736","",""
"4501404","1","4502822","","2010-12-21 16:19:26","","2","602","<p>When running Sweave from emacs-ess, errors are provided with a code chunk number. Is there an easy way to navigate among the code chunks by number? Otherwise, they are difficult to identify.</p>
","199217","","199217","","2010-12-22 15:50:55","2011-02-18 17:28:29","How do I identify which Sweave code chunk gives an error?","<r><emacs><sweave><ess><noweb>","3","0","1","","","CC BY-SA 2.5","4501404","4452","4452","r","404559","3625322","3607736","",""
"4502660","1","4503103","","2010-12-21 18:32:36","","4","3533","<p>I have several data frames, <code>a</code> <code>b</code> <code>c</code> <code>d</code>, each with the same column names.  I want to find the mean and median of those data frames.  In other words, construct new <code>mean</code> and <code>median</code> data frames that are the same size as <code>a</code>, <code>b</code>, etc.</p>

<p>I could use a couple of <code>for</code> loops, but I bet there is a slick way of doing this using the R built-in functions that would be faster.</p>
","185175","","","","","2010-12-21 19:33:20","Finding means and medians across data frames in r","<r><functional-programming>","3","0","","","","CC BY-SA 2.5","4502660","4452","4452","r","404559","3625322","3607736","",""
"4504059","1","","","2010-12-21 21:27:19","","6","3237","<p>Here's the scenario:</p>

<p>I have JBoss serving a web service with JBossWS providing me with a wsdl.  I have connected and used it from both .NET and Java so far (and it has been quite easy once I figured it out).  I am now trying to do the same with R.</p>

<p>Is there anything out there considered to be ""the right way"" for doing this?  I am not that familiar with R, and my searches have not turned up much, so I figured I'd ask and maybe spare my head and the wall a bit of damage.</p>
","807","","","","","2010-12-21 21:36:58","Consume a web service in R","<r><webservice-client>","2","0","2","","","CC BY-SA 2.5","4504059","4452","4452","r","404559","3625322","3607736","",""
"4504244","1","4504307","","2010-12-21 21:48:11","","16","2193","<p>I have two sessions open in Emacs-ESS: one on my desktop and one on a server using tramp. How can I tell ESS which session to use?</p>
","199217","","","","","2010-12-23 13:22:21","How can I switch between R sessions in emacs-ess?","<r><emacs><ess><tramp>","1","0","1","","","CC BY-SA 2.5","4504244","4452","4452","r","404559","3625322","3607736","",""
"4504317","1","5071810","","2010-12-21 21:56:14","","1","477","<p>So I have a large dataset (see my previous question) where I need to subset it based on an ID which I have in another table</p>

<p>I use a statement like:</p>

<pre><code>vars &lt;- dbListFields(db, ""UNIVERSE"")
ids &lt;- dbGetQuery(db, ""SELECT ID FROM LIST1""

dbGetQuery(db,
    paste(""CREATE TABLE SUB1 ("",
    paste(vars,collapse="" int,""),
    "")""
)   )

dbGetQuery(db,
    paste(""INSERT INTO SUB1 ("",
        paste(vars,collapse="",""),
        "") SELECT * FROM UNIVERSE WHERE
        UNIVERSE.ID IN ("",
        paste(t(ids),collapse="",""),
        "")""
)   )
</code></pre>

<p>The code runs (I may have missed a parenthesis above) but it takes a while since my table UNIVERSE is about 10 gigs in size. The major problem is I'm going to have to run this for many different tables ""LIST#"" to make ""SUB#"" and the subsets are not disjoint so I can't just delete the record from UNIVERSE when I'm done with it.</p>

<p>I'm wondering if I've gone about subsetting the wrong way or if there's other ways I can speed this up?</p>

<p>Thanks for the help.</p>
","529900","","168747","","2010-12-21 22:02:17","2011-02-21 22:08:04","RSQLite Faster Subsetting of large Table?","<sqlite><r>","2","2","","","","CC BY-SA 2.5","4504317","4452","4452","r","404559","3625322","3607736","",""
"4504498","1","4505341","","2010-12-21 22:20:50","","16","18873","<p>I would like to fit my data using spline(y~x) but all of the examples  that I can find use a spline with smoothing,  e.g. lm(y~ns(x), df=_). </p>

<p>I want to use <code>spline()</code> specifically because I am using this to do the analysis represented by the plot that I am making.</p>

<p>Is there a simple way to use spline() in ggplot?</p>

<p>I have considered the hackish approach of fitting a line using </p>

<pre><code>geom_smooth(aes(x=(spline(y~x)$x, y=spline(y~x)$y))
</code></pre>

<p>but I would prefer not to have to resort to this.</p>

<p>Thanks!</p>
","199217","","429846","","2010-12-21 23:01:57","2010-12-22 00:58:21","How can I use spline() with ggplot?","<r><ggplot2><spline>","1","0","7","","","CC BY-SA 2.5","4504498","4452","4452","r","404559","3625322","3607736","",""
"4509269","1","","","2010-12-22 12:42:12","","2","262","<p>I have a table showing variable flows for each 15-minute period of the day and each day of the month, eg:</p>

<pre><code>date,00:00,00:15,00:30,  
01-Nov,123,345,456,  
02-Nov,234,567,890  
</code></pre>

<p>I want to get this into the form  </p>

<pre><code>date,value  
01-Nov 00:00,123  
01-Nov 00:15,345  
...  
02-Nov 00:00,234 
</code></pre>

<p>and so on. I have tried <code>reshape</code> but I don't understand how to specify ""varying"" and keep getting failure messages.</p>
","551192","","1270695","","2017-12-14 07:53:42","2017-12-14 07:53:42","openAir, 96x31 time/date data into stacked data","<r><reshape>","4","2","","","","CC BY-SA 3.0","4509269","4452","4452","r","404559","3625322","3607736","",""
"4512465","1","4512539","","2010-12-22 18:38:54","","47","59472","<p>Very often I want to convert a list wherein each index has identical element types to a data frame.  For example, I may have a list:</p>

<pre><code>&gt; my.list
[[1]]
[[1]]$global_stdev_ppb
[1] 24267673

[[1]]$range
[1] 0.03114799

[[1]]$tok
[1] ""hello""

[[1]]$global_freq_ppb
[1] 211592.6


[[2]]
[[2]]$global_stdev_ppb
[1] 11561448

[[2]]$range
[1] 0.08870838

[[2]]$tok
[1] ""world""

[[2]]$global_freq_ppb
[1] 1002043
</code></pre>

<p>I want to convert this list to a data frame where each index element is a column.  The natural (to me) thing to go is to is use <code>do.call</code>:</p>

<pre><code>&gt; my.matrix&lt;-do.call(""rbind"", my.list)
&gt; my.matrix
     global_stdev_ppb range      tok     global_freq_ppb
[1,] 24267673         0.03114799 ""hello"" 211592.6       
[2,] 11561448         0.08870838 ""world"" 1002043
</code></pre>

<p>Straightforward enough, but when I attempt to cast this matrix as a data frame, the columns remain list elements, rather than vectors:</p>

<pre><code>&gt; my.df&lt;-as.data.frame(my.matrix, stringsAsFactors=FALSE)
&gt; my.df[,1]
[[1]]
[1] 24267673

[[2]]
[1] 11561448
</code></pre>

<p>Currently, to get the data frame cast properly I am iterating over each column using <code>unlist</code> and <code>as.vector</code>, then recasting the data frame as such:</p>

<pre><code>new.list&lt;-lapply(1:ncol(my.matrix), function(x) as.vector(unlist(my.matrix[,x])))
my.df&lt;-as.data.frame(do.call(cbind, new.list), stringsAsFactors=FALSE)
</code></pre>

<p>This, however, seem very inefficient.  Is there are better way to do this?</p>
","144537","","","","","2018-07-14 12:07:33","What is the most efficient way to cast a list as a data frame?","<list><r><dataframe>","7","2","36","","","CC BY-SA 2.5","4512465","4452","4452","r","404559","3625322","3607736","",""
"4518144","1","","","2010-12-23 11:00:43","","1","512","<p>I have a <code>data.frame</code> in R with 40 series and I want to select pairwise series to apply a function, (ie serie 1 and serie 21, serie 2 and serie 22) . However I'm getting error with the following code:</p>

<pre><code>for(i in 1:ncol(Date)) {
    pairwise &lt;-Date[, c(i,i+20)]
}
</code></pre>

<p>I want to use <code>pairwise</code> in other function. </p>

<p>Could someone please help me?</p>

<p>Thank in advance</p>
","552298","","168747","","2010-12-23 13:51:03","2010-12-23 13:51:03","Loop to select pairwise series","<r><iteration>","1","4","","","","CC BY-SA 2.5","4518144","4452","4452","r","404559","3625322","3607736","",""
"4520594","1","4521070","","2010-12-23 16:28:50","","0","238","<p>I have some data with some hard to deal with properties. There are two vectors that are taking a measure of quality (from 0-1) at points along a physical object. These measurements are indexed according to the distance the measurement was taken from the bottom of the object. Then, a quality improving transformation is applied to the object, and measurements are taken again. However, the number of measurements are not the same, nor are the points on which they are taken.</p>

<p>In R, the data looks something like this (but with many more points)</p>

<p>Before transformation:</p>

<pre><code>     value index
[1,]   0.3     6
[2,]   0.6    16
[3,]   0.1    25
[4,]   0.8    37
[5,]   0.2    46
[6,]   0.4    58
[7,]   0.4    64
[8,]   0.2    76
</code></pre>

<p>After transformation:</p>

<pre><code>      value index
 [1,]   0.3     1
 [2,]   0.5     9
 [3,]   0.7    18
 [4,]   0.4    30
 [5,]   0.9    44
 [6,]   0.3    48
 [7,]   0.4    61
 [8,]   0.5    66
 [9,]   0.3    76
[10,]   0.1    85
</code></pre>

<p>Under the assumption that quality along the object is continuous (if not observed at every point), and that the ammount of improvement during the tranformation is dependent on the point along the object, I would like to be able to show the distribution of quality improvement.</p>

<p>Since there are different numbers of measurements, and different indexes, I don't think</p>

<pre><code>plot(density(after$value - before$value)) 
</code></pre>

<p>is what I'm looking for. My question is, is there a sane way to take that difference such that I have a number of observations for how much quality improved? Or am I going to be stuck looking at the difference in means?</p>
","173292","","","","","2010-12-23 18:57:57","R: Comparing oddly indexed vectors","<r><vector><comparison><indexing>","1","3","","","","CC BY-SA 2.5","4520594","4452","4452","r","404559","3625322","3607736","",""
"4521422","1","4522271","","2010-12-23 18:29:29","","1","1097","<p>I'm trying to fit a nonlinear least squares problem with BFGS (and L-BFGS-B) using optim.  When I supply the analytical gradients, the linesearch terminates abnormally, and the final solution is always very close to the starting point.  However, when I don't supply the gradients, it seems to converge fine.  Does this suggest any numerical problems to anybody?  I'm pretty sure the gradients are correct.  Could it be a scaling issue?
Thanks for any help.</p>
","509085","","","","","2010-12-23 21:58:49","lnsrch problem with optim - R, BFGS","<optimization><r><statistics><numerical>","1","2","","","","CC BY-SA 2.5","4521422","4452","4452","r","404559","3625322","3607736","",""
"4522237","1","4522490","","2010-12-23 20:27:29","","2","3014","<p>I am writing a function in R that will evaluate the fit of a model, but each model takes the same arguments. How can I avoid repeating the same argument to each call to a model?</p>

<p>It is probably more clear here, where the arguments</p>

<pre><code>  data=data,
  na.action = na.exclude,
  subset = block == site)
</code></pre>

<p>Are repeated.</p>

<pre><code>modelfit &lt;- function(order, response, predictor, site) {
   if(order == 0) {
     m &lt;- lm(response ~ 1, 
             data=data,
             na.action = na.exclude,
             subset = block == site)
   } else if (is.numeric(order)) {
     m &lt;- lm(response ~ poly(predictor, order), 
             data=data,
             na.action = na.exclude,
             subset = block == site)
   } else if (order == 'monod') {
     x&lt;-predictor
     m &lt;- nls(response ~ a*x/(b+x),
              start = list(a=1, b=1),
              data=data,
              na.action = na.exclude,
              subset = block == site)
   } else if (order == 'log') {
     m &lt;- lm(response ~ poly(log(predictor), 1),
             data=data,
             na.action = na.exclude,
              subset = block == site)
   }
   AIC(m)
 }
</code></pre>

<p>Additional suggestions for better approaches to this question always appreciated.</p>
","513006","","429846","","2010-12-23 21:09:17","2010-12-24 09:25:48","How do I write a function that passes arguments to functions within?","<function><r>","2","4","2","","","CC BY-SA 2.5","4522237","4452","4452","r","404559","3625322","3607736","",""
"4523205","1","4523580","","2010-12-23 23:27:22","","4","4732","<p>I have created a scatter plot of two vectors, using R, combined with a line (using <em>abline</em>) which represents the x=y diagonal. I wish to calculate the standard deviation of the dots from the diagonal, and color the area which is found between the first and third quantiles.<br>
I have no idea how to do this, and would appreciate all help!!!
Thanks in advance.
Haj. </p>
","552868","","","","","2010-12-24 00:53:35","Calculation of scatterplot Standard Deviation in R","<r><standard-deviation>","1","3","2","","","CC BY-SA 2.5","4523205","4452","4452","r","404559","3625322","3607736","",""
"4523212","1","4523294","","2010-12-23 23:28:48","","0","214","<p>I would like to add an image to a plot. I can sucessfully place the image in the range [0 1] using the image function, but I would like to be able to plot it in an alternate location. Here is an example:</p>

<pre><code>require(rgdal)
require(RgoogleMaps)
bb &lt;- qbbox(c(40.702147,40.711614,40.718217),c(-74.015794,-74.012318,-73.998284), TYPE = ""all"", margin = list(m=rep(5,4), TYPE = c(""perc"", ""abs"")[1]));

MyMap &lt;- GetMap.bbox(bb$lonR, bb$latR,destfile = ""MyTile3.png"", maptype = ""satellite"")
plot(0:20,0:20)
image(MyMap$myTile,col=attr(MyMap$myTile,""COL""),add=TRUE)
</code></pre>

<p>This creates a tiny map located at the origin, I would like to have it span a range of my choosing (In reality it's actual latitude/longitude).</p>
","160314","","","","","2010-12-24 02:58:45","Plotting an image at an arbitrary location","<r>","2","0","","","","CC BY-SA 2.5","4523212","4452","4452","r","404559","3625322","3607736","",""
"4523284","1","4523308","","2010-12-23 23:42:38","","2","181","<p>Given a vector of variables, transform the vector so that each variable is repeated</p>

<p>For example, I could</p>

<pre><code>sort(rep(c('a', 'c', 'b')))
</code></pre>

<p>except that I don't want to sort them; I want it to return  <code>c('a', 'a', 'c', 'c', 'b', 'b')</code></p>
","513006","","","","","2010-12-23 23:45:53","Convert c('a' 'c', 'b') to c('a', 'a', 'c', 'c', 'b', 'b') in R?","<r><text><vector>","1","1","1","","","CC BY-SA 2.5","4523284","4452","4452","r","404559","3625322","3607736","",""
"4523513","1","4523826","","2010-12-24 00:39:45","","21","2643","<p>Other than the excellent SO answer <a href=""https://stackoverflow.com/questions/2310409/how-can-i-document-data-sets-with-roxygen"">here</a>, and the Roxygen <a href=""http://roxygen.org/roxygen-manual.pdf"" rel=""nofollow noreferrer"">manual</a> and <a href=""http://roxygen.org/roxygen.pdf"" rel=""nofollow noreferrer"">vignette</a>, is there any particularly thorough guide to using Roxygen? </p>
","199217","","-1","","2017-05-23 12:03:53","2014-09-02 18:52:14","Good reference for Roxygen?","<r><documentation><reference><roxygen>","3","0","7","2017-12-13 19:13:54","","CC BY-SA 2.5","4523513","4452","4452","r","404559","3625322","3607736","",""
"4528161","1","4528436","","2010-12-24 20:12:06","","16","18994","<p>I've finally started to get into Hadley Wickham's impressive ggplot2 package, and am working my way through his book.</p>

<p>In my work, I frequently display scatterplots using text labels. That's meant a <code>plot()</code> command, followed by <code>text()</code>. I used <code>cex</code> to adjust to font size to what I wanted it very quickly.</p>

<p>I created a text scatterplot very quickly using <code>qplot</code>. But I can't adjust the size fast. Here's a silly code example:</p>

<pre><code>data(state)
qplot(Income,Population,data=as.data.frame(state.x77),geom=c(""smooth"",""text""),method=""lm"",label=state.abb)
</code></pre>

<p>Whereas in the old days I'd do:</p>

<pre><code>plot(xlim=range(Income),ylim=range(Population),data=state.x77,type=""n"")
text(Income,Population,state.abb,data=state.x77, cex=.5)
</code></pre>

<p>If I wanted the text size halved from what I saw at the defaults (oh, and I'd have to do a linear regression manually and add abline() to get the regression line -- nice to do it all in one via ggplot2).</p>

<p>I know I can add a size adjustment with size, but it's not a relative size adjustment like I'm used to. Hadley tweeted me to say that size is measured in mm, which isn't fully intuitive to me. Since I often adjust the size of the plot, either in R or in LaTeX, an absolute scale isn't as useful to me.</p>

<p>I must be missing something really simple. What is it?</p>

<p>Oh -- and I know I havn't really used the powerful ggplot2 commands yet -- just wanted to get the simple stuff down first.</p>
","170408","","","","","2018-08-02 08:00:16","cex equivalent in ggplot2","<r><ggplot2>","3","0","2","","","CC BY-SA 2.5","4528161","4452","4452","r","404559","3625322","3607736","",""
"4529119","1","4529377","","2010-12-25 02:43:03","","5","6029","<p>I've installed R on my OS X machine via the .pkg method. I'm trying to get a Ruby gem called RSRuby to work and though it installed correctly, it's throwing an error when I try to invoke the gem. </p>

<pre><code>Fatal error: R home directory is not defined
</code></pre>

<p>The RSRuby documentation states that R should be installed with the option --enable-R-shlib. But the R documentation states that the Mac OS X installation does this by default. How can you verify that this option is enabled on an installation if you don't know it was explicitly called during installation?</p>

<p>I'm chasing down why RSRuby can't find R home directory and this seems like the most likely problem. </p>

<p>Per RSRuby documentation, I copied this into my home directory</p>

<pre><code>[~]$ R_HOME=/Library/Frameworks/R.framework/Resource
</code></pre>

<p>And from the R console, this is the output:</p>

<pre><code>&gt; R.home()
[1] ""/Library/Frameworks/R.framework/Resources""
</code></pre>

<p>And during gem install, I ran this command:</p>

<pre><code>gem install rsruby -- --with-R-dir=$R_HOME=/Library/Frameworks/R.framework/Resources
</code></pre>

<p>Also, these are the contents of my /Library/Frameworks/R.framework/Libraries folder:</p>

<pre><code>[Libraries]$ ls
i386                    libRblas.dylib.dSYM     libgfortran.2.dylib
libR.dylib              libRblas.vecLib.dylib   libreadline.5.2.dylib
libR.dylib.dSYM         libRlapack.dylib        libreadline.dylib
libRblas.0.dylib        libRlapack.dylib.dSYM   ppc
libRblas.dylib          libgcc_s.1.dylib        x86_64
</code></pre>
","296155","","296155","","2010-12-25 13:53:32","2010-12-25 15:05:53","How do I determine if my R installation on OS X has the ""--enable-R-shlib"" option enabled?","<ruby><r><installation><gem>","1","0","4","","","CC BY-SA 2.5","4529119","4452","4452","r","404559","3625322","3607736","",""
"4529838","1","4530154","","2010-12-25 09:11:57","","2","5675","<p>I'm trying to do something similar I was asking for <a href=""https://stackoverflow.com/questions/4472691/calculate-returns-over-period-of-time"">here</a> and unfortunately I cannot work it out.</p>

<p>This is my data frame (data), a time series of prices:</p>

<pre><code>Date          Price   Vol
1998-01-01     200      0.3
1998-01-02     400      0.4
1998-01-03     600     -0.2
1998-01-04     100      0.1
...
1998-01-20     100      0.1
1998-01-21     200     -0.4
1998-01-21     500      0.06
....
1998-02-01     100      0.2
1998-02-02     200      0.4
1998-02-03     500      0.3
1998-02-04     100      0.1
etc.
</code></pre>

<p>I would like to tell R, to </p>

<ul>
<li>take the 1st value of ""Vol"" and divide it by the 20th value of ""Price"", then</li>
<li>take the 2st value of ""Vol"" and divide it by the 21th value of ""Price"", then.</li>
<li>take the 3st value of ""Vol"" and divide it by the 22th value of ""Price"", then</li>
<li>etc.</li>
</ul>

<p>In my other post, I was able to use this function to calculate a return over a holding period of 20 days:</p>

<pre><code>&gt; data.xts &lt;- xts(data[, -1], data[, 1])
&gt; hold &lt;- 20
&gt; f &lt;- function(x) log(tail(x, 1)) - log(head(x, 1))
&gt; data.xts$returns.xts &lt;- rollapply(data.xts$Price, FUN=f, 
  width=hold+1, align=""left"", na.pad=T)
</code></pre>

<p>Is there a way to do something very similar for the problem stated above? So something like</p>

<pre><code>f1 &lt;- function(x,y) head(x, 1) / tail(y,1)
</code></pre>

<p>where x is ""Vol"" and y is ""Price"" and then apply ""rollapply""?</p>

<p>Thank you very much</p>

<p>UPDATE: @ Dr G:
Thanks for your suggestions. With a slight change, it did what I wanted!</p>

<pre><code>data.xts &lt;- xts(data[, -1], data[, 1])
hold &lt;- 20
data.xts$quo &lt;- lag(data.xts[,2], hold) / data.xts[,1]
</code></pre>

<p>Now my problem is, that the resulting data frame looks like this:</p>

<pre><code>    Date          Price   Vol     quo
1 1998-01-01     200      0.3     NA
2 1998-01-02     400      0.4     NA
3 1998-01-03     600     -0.2     NA
4 1998-01-04     100      0.1     NA
...
21 1998-01-20    180      0.2     0.003 
</code></pre>

<p>I know that there must be NA's as an outcome, but only for the last 20 observations, not the first 20 ones. The formula stated above calculates the correct values, however puts them starting at the 21st row instead of the first row. Do you know how I could change that? </p>
","513744","","-1","","2017-05-23 12:04:14","2013-03-16 23:40:37","Using Rollapply on two columns","<r><time-series><xts><zoo>","3","1","","","","CC BY-SA 3.0","4529838","4452","4452","r","404559","3625322","3607736","",""
"4530799","1","4530885","","2010-12-25 16:31:22","","1","785","<p>I am trying to analyze some probability data with R. The data I have gives the frequency of certain outcomes (<em>A</em> and <em>B</em>)  for a given probability <em>p</em> and what I want is a model that will allow me to estimate <em>p</em> from only the frequency data.</p>

<p>Right now I am just running a linear regression (something like <code>lm(p ~ A + B)</code>) which works more or less but I know that this is not the ""right way"" to do it. In particular, my current model will, for some values of <em>A</em> or <em>B</em>, return values that do not lie within the interval <code>[0, 1]</code>, i.e. that are not valid for a probability.</p>

<p>I am pretty sure there is a way to do this, but I can't for the life of me figure out what the model was called or how to run it in R. Can anybody give me a hint?</p>
","466857","","93922","","2014-06-18 21:56:51","2014-06-18 21:56:51","Estimating Probabilities in R","<r><model><probability>","2","1","","","","CC BY-SA 2.5","4530799","4452","4452","r","404559","3625322","3607736","",""
"4531812","1","4532842","","2010-12-25 21:50:30","","1","400","<p>What I want to do sounds simple. I want to plot a normal IQ curve with R with a mean of 100 and a standard deviation of 15. Then, I'd like to be able to overlay a scatter plot of data on top of it. </p>

<p>Anybody know how to do this?</p>
","500367","","","","","2010-12-27 15:00:20","Reverse Statistics with R","<r><statistics><mean><population>","4","0","","","","CC BY-SA 2.5","4531812","4452","4452","r","404559","3625322","3607736","",""
"4534644","1","4534725","","2010-12-26 16:59:27","","5","162","<p>I have a string in R, e.g. x &lt;- ""c:\tmp\rest.zip"".  How can I detect that it has escape sequences in it, vis. \t and \r?  Us DOS/Windows guys have a habit of using backslashes that R doesn't like and I'm writing a function where I would like to be able to protect the user from themselves.</p>

<p>Thanks.</p>
","169095","","","","","2011-01-15 16:39:31","In R how can you tell if a string includes escape sequences?","<r><escaping>","1","0","","","","CC BY-SA 2.5","4534644","4452","4452","r","404559","3625322","3607736","",""
"4536835","1","4537050","","2010-12-27 05:50:49","","8","3526","<p>How does one change user agent strings in http requests made in R? And how do I figure out what my current user agent string looks like?</p>

<p>Thanks in advance.</p>
","505493","","","","","2020-06-30 20:38:25","Changing user agent string in a http request in R","<url><r><httpwebrequest><http-headers><user-agent>","2","0","1","","","CC BY-SA 2.5","4536835","4452","4452","r","404559","3625322","3607736","",""
"4539013","1","4539370","","2010-12-27 13:28:58","","3","1914","<p>Is there a function in R that matches regexp and returns only the matched parts? 
Something like <code>grep -o</code>, so:</p>

<pre><code>&gt; ogrep('.b.',c('abc','1b2b3b4'))
[[1]]
[1] abc

[[2]]
[1] 1b2 3b4
</code></pre>
","370756","","","","","2019-04-12 20:51:09","Getting only matched part of the string in R","<r><string>","4","0","2","","","CC BY-SA 2.5","4539013","4452","4452","r","404559","3625322","3607736","",""
"4540649","1","4540752","","2010-12-27 17:54:06","","5","8703","<p>When I create a dataframe from numeric vectors, R seems to truncate the value below the precision that I require in my analysis:</p>

<pre><code>data.frame(x=0.99999996)
</code></pre>

<p>returns <code>1</code> (*but see update 1)</p>

<p>I am stuck when fitting <code>spline(x,y)</code> and two of the x values are set to 1 due to rounding while y changes. I could hack around this but I would prefer to use a standard solution if available.</p>

<p><strong>example</strong></p>

<p>Here is an example data set</p>

<pre><code>d &lt;- data.frame(x = c(0.668732936336141, 0.95351462456867,
0.994620622127435, 0.999602102672081, 0.999987126195509, 0.999999955814133,
0.999999999999966), y = c(38.3026509783688, 11.5895099585560,
10.0443344234229, 9.86152339768516, 9.84461434575695, 9.81648333804257,
9.83306725758297))
</code></pre>

<p>The following solution works, but I would prefer something that is less subjective:</p>

<pre><code>plot(d$x, d$y, ylim=c(0,50))
lines(spline(d$x, d$y),col='grey') #bad fit
lines(spline(d[-c(4:6),]$x, d[-c(4:6),]$y),col='red') #reasonable fit
</code></pre>

<p><strong>Update 1</strong> </p>

<p>*Since posting this question, I realize that this will return <code>1</code> even though the data frame still contains the original value, e.g. </p>

<pre><code>&gt; dput(data.frame(x=0.99999999996))
</code></pre>

<p>returns</p>

<pre><code>structure(list(x = 0.99999999996), .Names = ""x"", row.names = c(NA, 
-1L), class = ""data.frame"")
</code></pre>

<p><strong>Update 2</strong></p>

<p>After using dput to post this example data set, and some pointers from Dirk,  I can see that the problem is not in the truncation of the <code>x</code> values but the limits of the numerical errors in the model that I have used to calculate <code>y</code>. This justifies dropping a few of the equivalent data points (as in the example red line).</p>
","199217","","1505120","","2015-09-20 11:12:31","2015-09-20 11:12:31","Retain numerical precision in an R data frame?","<r>","2","0","","","","CC BY-SA 2.5","4540649","4452","4452","r","404559","3625322","3607736","",""
"4542438","1","4542637","","2010-12-27 22:55:57","","8","11869","<p>I have a density plot and I would like to add some summary information such as placing a line at the median and shading the 90% credible intervals (5th and 95th quantiles). Is there a way to do this in ggplot? </p>

<p>This is the type of plot that I would like to summarize:</p>

<p>I can figure out how to draw a line from the y=0 to y= density(median(x)), but it is not clear to me if I can shade the plot with a 90% CI. Alternatively, I could add a horizontal boxplot above the density plot, but it is not clear how to rotate the boxplot by itself, without rotating the density plot along with it. </p>

<pre><code>x &lt;- as.vector(rnorm(10000))
d &lt;- as.data.frame(x=x)
library(ggplot2)
ggplot(data = d) + theme_bw() + 
  geom_density(aes(x=x, y = ..density..), color = 'black')
</code></pre>

<p><img src=""https://i.stack.imgur.com/NOGdN.png"" alt=""alt text""></p>
","199217","","199217","","2010-12-27 23:05:56","2017-04-09 03:17:32","Adding summary information to a density plot created with ggplot","<r><statistics><visualization><ggplot2>","3","0","10","","","CC BY-SA 2.5","4542438","4452","4452","r","404559","3625322","3607736","",""
"4543272","1","4543308","","2010-12-28 02:35:37","","1","1699","<p>I just upgraded R and rgl to the following versions.    Now, rgl.snapshot() no longer works.   It worked in previous versions.   Is there a way around this?</p>

<p>R version 2.12.1 (2010-12-16)<br>
rgl version 0.92.798   </p>

<pre><code>&gt; library(rgl)   
&gt; x&lt;-rnorm(100)   
&gt; y&lt;-rnorm(100)   
&gt; z&lt;-rnorm(100)   
&gt; r&lt;-0.2   
&gt; p &lt;- plot3d(x, y, z, axes=FALSE, box=FALSE, radius=r, type='s',    
  + xlab="""", ylab="""", zlab="""", col=rainbow(100))   
&gt; rgl.snapshot(""C:\\Temp\\pic.png"", fmt=""png"", top=TRUE )    

Error in rgl.snapshot(""C:\\Temp\\pic.png"") :     
pixmap save format not supported in this build     
</code></pre>
","543835","","","","","2010-12-28 02:45:54","rgl.snapshot() No Longer Works","<r><rgl>","1","1","","","","CC BY-SA 2.5","4543272","4452","4452","r","404559","3625322","3607736","",""
"4543806","1","4545161","","2010-12-28 05:10:31","","4","437","<h2>Background</h2>

<p>Using R to predict the next values in a series.</p>

<h2>Problem</h2>

<p>The following code generates and plots a model for a curve with some uniform noise:</p>

<pre><code>slope = 0.55
offset = -0.5
amplitude = 0.22
frequency = 3
noise = 0.75
x &lt;- seq( 0, 200 )
y &lt;- offset + (slope * x / 100) + (amplitude * sin( frequency * x / 100 ))
yn &lt;- y + (noise * runif( length( x ) ))

gam.object &lt;- gam( yn ~ s( x ) + 0 )
plot( gam.object, col = rgb( 1.0, 0.392, 0.0 ) )
points( x, yn, col = rgb( 0.121, 0.247, 0.506 ) )
</code></pre>

<p>The model reveals the trend, as expected. The trouble is predicting subsequent values:</p>

<pre><code>p &lt;- predict( gam.object, data.frame( x=201:210 ) )
</code></pre>

<p>The predictions do not look correct when plotted:</p>

<pre><code>df &lt;- data.frame( fit=c( fitted( gam.object ), p ) )
plot( seq( 1:211 ), df[,], col=""blue"" )
points( yn, col=""orange"" )
</code></pre>

<p>The predicted values (from 201 onwards) appear to be too low.</p>

<h2>Questions</h2>

<ol>
<li>Are the predicted values, as shown, actually the most accurate predictions?</li>
<li>If not, how can the accuracy be improved?</li>
<li>What is a better way to concatenate the two data sets (<code>fitted.values( gam.object )</code> and <code>p</code>)?</li>
</ol>
","59087","","59087","","2014-10-28 20:29:15","2014-10-29 10:28:21","Predict values from sinusoidal noise","<r><plot><prediction><gam>","1","1","1","","","CC BY-SA 3.0","4543806","4452","4452","r","404559","3625322","3607736","",""
"4545368","1","","","2010-12-28 10:32:32","","3","3749","<p>I have just started working with the integration of R into SPSS and I have problems with loading some R packages in SPSS. I can load e.g. <code>library(foreign)</code> or <code>library(graphics)</code> but it does not work for <code>library(xlsReadWrite)</code> or <code>library(FactoMineR)</code>. I have installed these packages into R already and I can load them in R also.</p>

<p>When using this syntax in SPSS:</p>

<pre><code>BEGIN PROGRAM R.

library(xlsReadWrite)

END PROGRAM.
</code></pre>

<p>I am getting error <code>Error in library(xlsReadWrite) : there is no package called 'xlsReadWrite'</code>. </p>

<p>Many thanks,</p>

<p>Lakuca</p>
","555878","","168747","","2010-12-28 12:16:47","2010-12-31 04:06:27","Load R package in SPSS","<r><spss>","2","4","","","","CC BY-SA 2.5","4545368","4452","4452","r","404559","3625322","3607736","",""
"4547193","1","","","2010-12-28 15:40:33","","1","449","<p>FURTHER UPDATE</p>

<p>There's no input, because the program creates data.</p>

<p>The code below works for the first two patients, but I want to put it in a loop; there will be 200 patients eventually.  Sorry about length. </p>

<pre><code>    s &lt;- 42 #SHOULD BE 42
    p &lt;- 30 #SHOULD BE 400
    p1 &lt;- 8 #Should be 8
    m &lt;- 2 #shou;ld be higher
    w &lt;- 2
    #CAPITAL LETTERS are counting versions of the lowercase
    numses &lt;- 12
    mult &lt;- 1
    maxses &lt;- round(mult*numses,0)
    drop = .3; titrate = .2;  complete = .3; noise = .5; other = .1
    dropskip = .3; titrateskip = .2; completeskip = .3; noiseskip = .5; otherskip = .1;
    dropnew = .3; titratenew = .2; completenew = .9; noisenew = .5; othernew = .1;
    name = ""Basic"";
    pdrop = .1;  ptitrate = .2;  pcomplete =.7; pnoise = .9; pother = 1;

    #  THESE HAVE TO BE ASCENDING.  
    w = 10 
    ######################################################################################################################

    patients &lt;- matrix(nrow = p, ncol = s, ""NA"") #all patients attendance
    invited  &lt;- matrix(nrow = p, ncol = s, 0)  #number of sessions A or S
    missinrow &lt;- matrix(nrow = p, ncol = s, 0) #number of sessions missed in a row
    insess &lt;- vector(""numeric"", s) #number of people in a session
    set.seed(83877201)
    addlist &lt;- rpois(s, w)

# Set up waitlist
waitlist &lt;- vector(""numeric"", s)
waitlist[1] &lt;- addlist[1]
for(i in 2:s)
{
 waitlist[i] &lt;- waitlist[i-1] + addlist[i]
}
for (i in 1:p)
{
    for (j in 1:s)
    {  
    if (i &lt; waitlist[j]) patients[i,j] &lt;- ""W""
    }
}


#Assign all patients to classes
classlist &lt;- cut(runif(p), c(0, pdrop, ptitrate, pnoise, pcomplete, 1), labels = c(""D"", ""T"", ""C"", ""N"", ""O""))


#First patient
#first session
{
   invited[1,1] &lt;- 1
   insess[1] &lt;- 1
   if (classlist[1] == ""D"")
   {
      if (runif(1) &lt; dropnew) {patients[1, 1] &lt;- 'A'} else
      {
        patients[1, 1] &lt;- 'S'
        missinrow[1, 1] &lt;- 1
      }
   }
   if (classlist[1] == ""T"")
   {
        if (runif(1) &lt; titratenew) {patients[1, 1] &lt;- 'A'} else 
        {
          patients[1, 1] &lt;- 'S'
          missinrow[1, 1] &lt;- 1
        }
    }
    if (classlist[1] == ""C"")
    {
        if (runif(1) &lt; completenew) {patients[1, 1] &lt;- 'A'} else 
        {
        patients[1, 1] &lt;- 'S'
        missinrow[1, 1] &lt;- 1
        }
    }
    if (classlist[1] == ""N"")
    {
        if (runif(1) &lt; noisenew) {patients[1, 1] &lt;- 'A'} else 
        {
        patients[1, 1] &lt;- 'S'
        missinrow[1, 1] &lt;- 1
        }
    }
    if (classlist[1] == ""O"")
    {
    if (runif(1) &lt; othernew) {patients[1, 1] &lt;- 'A'} else 
        {
        patients[1, 1] &lt;- 'S'
        missinrow[1, 1] &lt;- 1
        }
    }
}
#Later sessions
for (j in 2 : s)
{
    if (patients[1,(j-1)] == 'A'|patients[1,(j-1)] == 'S')
    {
       invited[1,j] &lt;- invited[1,(j-1)] + 1
    } else
    {
       invited[1,j] &lt;- invited[1,(j-1)]
    }
       if (invited[1,j] &lt;= maxses &amp; missinrow[1,j] &lt; m)
    {
    # Skip or attend
    # If attended previous session    
        if (patients[1, (j-1)] == 'A')
        {
            if (classlist[1] == ""D"")
            {if (runif(1) &lt; drop) {patients[1, j] &lt;- 'A'} else
                {
                   patients[1, j] &lt;- 'S'
                   missinrow[1, j] &lt;- 1
                }
            } 
            if (classlist[1] == ""T"")
            {if (runif(1) &lt; titrate) {patients[1, j] &lt;- 'A'} else
                {
                   patients[1, j] &lt;- 'S'
                   missinrow[1, j] &lt;- 1
                }
            }
            if (classlist[1] == ""C"")
            {if (runif(1) &lt; complete) {patients[1, j] &lt;- 'A'} else
                {
                   patients[1, j] &lt;- 'S'
                   missinrow[1, j] &lt;- 1
                }
            }
            if (classlist[1] == ""N"")
            {
               if (runif(1) &lt; noise) {patients[1, j] &lt;- 'A'} else 
               {
                   patients[1, j] &lt;- 'S'
                   missinrow[1, j] &lt;- 1
               }
            }
            if (classlist[1] == ""O"")
            {
               if (runif(1) &lt; other) {patients[1, j] &lt;- 'A'} else 
               {
                    patients[1, j] &lt;- 'S'
                    missinrow[1, j] &lt;- 1
                }
            }            
        } else
        # If skipped previous session
        if (patients[1, (j-1)] == 'S')
        {
            if (classlist[1] == ""D"")
            {
               if (runif(1) &lt; drop) {patients[1, j] &lt;- 'A'} else
               {
                  patients[1, j] &lt;- 'S'
                  missinrow[1, j] &lt;- missinrow[1, (j-1)] + 1
               }
            } 
            if (classlist[1] == ""T"")
            {
               if (runif(1) &lt; titrate) {patients[1, j] &lt;- 'A'} else
               {
                 patients[1, j] &lt;- 'S'
                 missinrow[1, j] &lt;- missinrow[1, (j-1)] + 1
               }
            }
            if (classlist[1] == ""C"")
            {if (runif(1) &lt; complete) {patients[1, j] &lt;- 'A'} else
                {
                   patients[1, j] &lt;- 'S'
                   missinrow[1, j] &lt;- missinrow[1, (j-1)] + 1
                }
            }
            if (classlist[1] == ""N"")
            {if (runif(1) &lt; noise) {patients[1, j] &lt;- 'A'} else 
                {
                   patients[1, j] &lt;- 'S'
                   missinrow[1, j] &lt;- missinrow[1, (j-1)] + 1
                }
            }
            if (classlist[1] == ""O"")
            {
               if (runif(1) &lt; other) {patients[1, j] &lt;- 'A'} else 
               {
                    patients[1, j] &lt;- 'S'
                    missinrow[1, j] &lt;- missinrow[1, (j-1)] + 1
               }
            }            
        }
    } else {patients[1,j] &lt;- 'D'}   
    # check for number of attended or missed sessions
    if (patients[1,(j-1)] == 'A' | patients[1,(j-1)] == 'S')
    {
        insess[j] &lt;- 1
    }   else
    {
        insess[j] &lt;- 0
    }
}


#Second patients
#Patient is waiting and there is space
  #First session
if (insess[1] &lt; maxses &amp; waitlist[1] &gt; 0)  #THIS MAY NEED TO BE A WHILE LOOP, FOR MULTIPLE PATIENTS
{
   invited[2,1] &lt;- 1
   insess[1] &lt;- insess[1] + 1
   if (classlist[2] == ""D"")
   {
      if (runif(1) &lt; dropnew) {patients[1, 1] &lt;- 'A'} else
      {
        patients[2, 1] &lt;- 'S'
        missinrow[2, 1] &lt;- 1
      }
   }
   if (classlist[2] == ""T"")
   {
        if (runif(1) &lt; titratenew) {patients[2, 1] &lt;- 'A'} else 
        {
          patients[2, 1] &lt;- 'S'
          missinrow[2, 1] &lt;- 1
        }
    }
    if (classlist[2] == ""C"")
    {
        if (runif(1) &lt; completenew) {patients[2, 1] &lt;- 'A'} else 
        {
        patients[2, 1] &lt;- 'S'
        missinrow[2, 1] &lt;- 1
        }
    }
    if (classlist[2] == ""N"")
    {
        if (runif(1) &lt; noisenew) {patients[2, 1] &lt;- 'A'} else 
        {
        patients[2, 1] &lt;- 'S'
        missinrow[2, 1] &lt;- 1
        }
    }
    if (classlist[2] == ""O"")
    {
    if (runif(1) &lt; othernew) {patients[2, 1] &lt;- 'A'} else 
        {
        patients[2, 1] &lt;- 'S'
        missinrow[2, 1] &lt;- 1
        }
    }
}


  #Later sessions


#Patient invited previous session
for (j in 2 : s)
{
    if (patients[2,(j-1)] == 'A'|patients[2,(j-1)] == 'S')
    {
       invited[2,j] &lt;- invited[2,(j-1)] + 1
    } else
    {
       invited[2,j] &lt;- invited[2,(j-1)]
    } 
       if (invited[2,j] &lt;= maxses &amp; missinrow[2,j] &lt; m)
    {
    # Skip or attend
    # If attended previous session    
        if (patients[2, (j-1)] == 'A')
        {
            if (classlist[2] == ""D"")
            {if (runif(1) &lt; drop) {patients[2, j] &lt;- 'A'} else
                {
                   patients[2, j] &lt;- 'S'
                   missinrow[2, j] &lt;- 1
                }
            } 
            if (classlist[2] == ""T"")
            {if (runif(1) &lt; titrate) {patients[2, j] &lt;- 'A'} else
                {
                   patients[2, j] &lt;- 'S'
                   missinrow[2, j] &lt;- 1
                }
            }
            if (classlist[2] == ""C"")
            {if (runif(1) &lt; complete) {patients[2, j] &lt;- 'A'} else
                {
                   patients[2, j] &lt;- 'S'
                   missinrow[2, j] &lt;- 1
                }
            }
            if (classlist[2] == ""N"")
            {
               if (runif(1) &lt; noise) {patients[2, j] &lt;- 'A'} else 
               {
                   patients[2, j] &lt;- 'S'
                   missinrow[2, j] &lt;- 1
               }
            }
            if (classlist[2] == ""O"")
            {
               if (runif(1) &lt; other) {patients[2, j] &lt;- 'A'} else 
               {
                    patients[2, j] &lt;- 'S'
                    missinrow[2, j] &lt;- 1
                }
            }            
        } else
        # If skipped previous session
        if (patients[2, (j-1)] == 'S')
        {
            if (classlist[2] == ""D"")
            {
               if (runif(1) &lt; drop) {patients[2, j] &lt;- 'A'} else
               {
                  patients[2, j] &lt;- 'S'
                  missinrow[2, j] &lt;- missinrow[2, (j-1)] + 1
               }
            } 
            if (classlist[2] == ""T"")
            {
               if (runif(1) &lt; titrate) {patients[2, j] &lt;- 'A'} else
               {
                 patients[2, j] &lt;- 'S'
                 missinrow[2, j] &lt;- missinrow[2, (j-1)] + 1
               }
            }
            if (classlist[2] == ""C"")
            {if (runif(1) &lt; complete) {patients[2, j] &lt;- 'A'} else
                {
                   patients[2, j] &lt;- 'S'
                   missinrow[2, j] &lt;- missinrow[2, (j-1)] + 1
                }
            }
            if (classlist[2] == ""N"")
            {if (runif(1) &lt; noise) {patients[2, j] &lt;- 'A'} else 
                {
                   patients[2, j] &lt;- 'S'
                   missinrow[2, j] &lt;- missinrow[2, (j-1)] + 1
                }
            }
            if (classlist[2] == ""O"")
            {
               if (runif(1) &lt; other) {patients[2, j] &lt;- 'A'} else 
               {
                    patients[2, j] &lt;- 'S'
                    missinrow[2, j] &lt;- missinrow[2, (j-1)] + 1
               }
            }            
        }
    } else {patients[2,j] &lt;- 'D'}   
    # check for number of attended or missed sessions
    if (patients[2,(j-1)] == 'A' | patients[2,(j-1)] == 'S')
    {
        insess[j] &lt;- insess[j] + 1
    }   else
    {
        insess[j] &lt;- insess[j]
    }
}
</code></pre>

<p>UPDATED with additional information
Thanks, Joshua, for your help so far.</p>

<p>Joshua asked for additional information in order to be able to help further.</p>

<p>The overall problem is to create a dataset of patients who attend different sessions of therapy.  Whether they attend or not depends on a number of parameters, including whether they attended the previous session (which is in <code>patients</code>), what ""class"" of patient they are (which is in <code>classlist</code>), how many sessions they have already either attended or skipped (<code>invited</code>) and how many sessions in a row they have missed (<code>missinrow</code>); all of those will vary.  If the previous session is less than full, additional patients get assigned to the new session (provided someone is waiting (<code>waitlist</code>). </p>

<p>When I do this one patient at a time, it works well.  But when I try to loop over all patients, I run into the </p>

<p>Hello</p>

<p>This is one part of a larger program.  I cannot figure out why it doesn't work as I thought it would. The code is</p>

<pre><code>for(i in 2:p)
{  
   while (insess[1] &lt; maxses &amp; waitlist[1] &gt; 0)  
   {
      invited[i,1] &lt;- 1
      waitlist[1] &lt;- waitlist[1] - 1
      insess[1] &lt;- insess[1] + 1
      if (classlist[i] == ""D"")
      {
         if (runif(1) &lt; dropnew) {patients[i, 1] &lt;- 'A'} else
         {
           patients[i, 1] &lt;- 'S'
           missinrow[i, 1] &lt;- 1
         }
      }
      if (classlist[i] == ""T"")
      {
           if (runif(1) &lt; titratenew) {patients[i, 1] &lt;- 'A'} else 
           {
             patients[i, 1] &lt;- 'S'
             missinrow[i, 1] &lt;- 1
           }
       }
       if (classlist[i] == ""C"")
       {
           if (runif(1) &lt; completenew) {patients[i, 1] &lt;- 'A'} else 
           {
           patients[i, 1] &lt;- 'S'
           missinrow[i, 1] &lt;- 1
           }
       }
       if (classlist[i] == ""N"")
       {
           if (runif(1) &lt; noisenew) {patients[i, 1] &lt;- 'A'} else 
           {
           patients[i, 1] &lt;- 'S'
           missinrow[i, 1] &lt;- 1
           }
       }
       if (classlist[i] == ""O"")
       {
       if (runif(1) &lt; othernew) {patients[i, 1] &lt;- 'A'} else 
           {
           patients[i, 1] &lt;- 'S'
           missinrow[i, 1] &lt;- 1
           }
       }
   }
}
</code></pre>

<p>When I run this, i goes to 30 (which is right), insess[1] goes to 10 (also right), waitlist[1] goes to 0 (also right) but the patients matrix is only updated for i = 2.  I also checked that classlist has appropriate values.</p>

<p>I don't see where it is leaving the loop.  I think I'm using while incorrectly, but not sure how.</p>

<p>thanks!</p>
","228220","","228220","","2010-12-29 20:54:47","2010-12-29 20:54:47","Question about while loops in R","<r>","1","2","","","","CC BY-SA 2.5","4547193","4452","4452","r","404559","3625322","3607736","",""
"4547789","1","4574903","","2010-12-28 17:05:08","","18","19712","<p>I have a bash script that creates a csv file and an R file that creates graphs from that.</p>

<p>At the end of the bash script I call <code>Rscript Graphs.R 10</code></p>

<p>The response I get is as follows:</p>

<pre><code>Error in is.vector(X) : subscript out of bounds
Calls: print ... &lt;Anonymous&gt; -&gt; lapply -&gt; FUN -&gt; lapply -&gt; is.vector
Execution halted
</code></pre>

<p>The first few lines of my Graphs.R are:</p>

<pre><code>#!/bin/Rscript
args &lt;- commandArgs(TRUE)
CorrAns = args[1]
</code></pre>

<p>No idea what I am doing wrong? The advice on the net appears to me to say that this should work. Its very hard to make sense of <code>commandArgs</code></p>
","556211","","89806","","2010-12-28 17:07:34","2012-11-29 06:11:03","command line arguments in bash to Rscript","<bash><r><arguments>","4","0","3","","","CC BY-SA 2.5","4547789","4452","4452","r","404559","3625322","3607736","",""
"4551424","1","4554977","","2010-12-29 04:15:38","","27","53147","<p>In <code>ggplot2</code>, how do I refer to a variable name with spaces?</p>

<p>Why do <code>qplot()</code> and <code>ggplot()</code> break when used on variable names with quotes?</p>

<p>For example, this works:</p>

<pre><code>qplot(x,y,data=a)
</code></pre>

<p>But this does not:</p>

<pre><code>qplot(""x"",""y"",data=a)
</code></pre>

<p>I ask because I often have data matrices with spaces in the name. Eg, ""State Income"". ggplot2 needs data frames; ok, I can convert. So I'd want to try something like:</p>

<pre><code>qplot(""State Income"",""State Ideology"",data=as.data.frame(a.matrix))
</code></pre>

<p>That fails.</p>

<p>Whereas in base R graphics, I'd do:</p>

<pre><code>plot(a.matrix[,""State Income""],a.matrix[,""State Ideology""])
</code></pre>

<p>Which would work.</p>

<p>Any ideas?</p>
","170408","","563329","","2013-03-11 20:06:39","2016-06-25 07:14:53","How to refer to a variable name with spaces?","<r><plot><ggplot2>","3","3","10","","","CC BY-SA 3.0","4551424","4452","4452","r","404559","3625322","3607736","",""
"4551582","1","4551809","","2010-12-29 04:56:15","","24","12042","<p>I am trying to combine a histogram and boxplot for visualizing a continuous variable. Here is the code I have so far</p>

<pre><code>require(ggplot2)
require(gridExtra)
p1 = qplot(x = 1, y = mpg, data = mtcars, xlab = """", geom = 'boxplot') + 
     coord_flip()
p2 = qplot(x = mpg, data = mtcars, geom = 'histogram')
grid.arrange(p2, p1, widths = c(1, 2))
</code></pre>

<p><img src=""https://i.stack.imgur.com/zxZh1.png"" alt=""plot""></p>

<p>It looks fine except for the alignment of the x axes. Can anyone tell me how I can align them?
Alternately, if someone has a better way of making this graph using <code>ggplot2</code>, that would be appreciated as well.</p>
","235349","","3604745","","2016-09-08 02:14:30","2018-04-25 15:25:45","Combination Boxplot and Histogram using ggplot2","<r><ggplot2><histogram><boxplot>","4","1","14","","","CC BY-SA 3.0","4551582","4452","4452","r","404559","3625322","3607736","",""
"4551656","1","","","2010-12-29 05:17:39","","16","22371","<p>I am a newbie. I've an R file ,containing a function with a parameter.
I' d like to perform the two following distinct operations:</p>

<ol>
<li>Run the function</li>
<li>Execute step by step and debug it</li>
</ol>

<p>suppose to have a simple function in an R file</p>

<pre><code>""exampleSum""&lt;-
function(x,y){
 x&lt;-x+1
 return(x+y)
}
</code></pre>

<p>Could you tell me which are R commands to perform what I asked.</p>
","556756","","1033808","","2012-01-30 15:37:10","2012-01-30 15:37:10","Running and debugging a script and function in R","<debugging><r>","2","1","8","","","CC BY-SA 3.0","4551656","4452","4452","r","404559","3625322","3607736","",""
"4552000","1","4552067","","2010-12-29 06:34:43","","2","701","<p>I am trying to capture the first string from a list using an explicit loop, as shown in the following code:</p>

<pre><code>for (loop.temp in (1:nrow(temp)))
    {temp[loop.temp,""drug_name_mod""] &lt;- unlist(strsplit(temp[loop.temp,""drug_name""],"" ""))[1]
     print(paste(loop.temp,nrow(temp),sep=""/""))
     flush.console()
    }
</code></pre>

<p>But I think it is not very efficient, anyway of improving it? Thanks!</p>
","373908","","","","","2010-12-29 06:47:49","speeding up ""pick up first string from unlist"" in R","<list><r><loops>","1","2","","","","CC BY-SA 2.5","4552000","4452","4452","r","404559","3625322","3607736","",""
"4558277","1","4558397","","2010-12-29 22:05:48","","6","10690","<p>I have a sparse matrix (<code>dgCMatrix</code>) as the result of fitting a <code>glmnet</code>. I want to write this result to a <code>.csv</code> but can't use <code>write.table()</code> the matrix because it can't coerced into a <code>data.frame</code>.</p>

<p>Is there a way to coerce the sparse matrix to either a <code>data.frame</code> or a regular matrix? Or is there a way to write it to a file while keeping the coefficient names which are probably row names?</p>
","260533","","3621464","","2015-01-30 20:22:40","2016-06-29 15:49:40","Write a Sparse Matrix to a CSV in R","<r><statistics><matrix><sparse-matrix>","4","0","4","","","CC BY-SA 3.0","4558277","4452","4452","r","404559","3625322","3607736","",""
"4559175","1","4564253","","2010-12-30 00:52:00","","7","6161","<p>I have several years of data (only for business days (no weekends or holidays)) in an [r]  data frame and would like to find the difference between the data on the 2nd and 5th business day of each month.  So the solution needs to go thru the list, determine the 2nd and 5th business day, get the data <strong>and the full date</strong> for the corresponding dates and then  find the difference.</p>

<p>the data looks like:</p>

<pre><code>1/19/1990  1.22

1/20/1990  1.25

1/23/1990  1.26   ## (Gap in date is weekend)

...

2/1/1990   1.34

2/2/1990   1.36

2/5/1990   1.22   ## (Gap in date is weekend)
</code></pre>

<p>I have tried using dateTime() but it doesn't handicap for weekends and holidays. Any suggestions would be appreciated, thanks.</p>
","557769","","3001626","","2014-08-20 10:47:31","2017-03-08 21:24:18","r -- finding difference between business days","<r>","4","2","1","","","CC BY-SA 3.0","4559175","4452","4452","r","404559","3625322","3607736","",""
"4559229","1","4559610","","2010-12-30 01:05:47","","22","15680","<p>I need to draw a pyramid plot, like the one attached.</p>

<p><img src=""https://i.stack.imgur.com/4upMI.png"" alt=""alt text""></p>

<p>I found an example using R (but not ggplot) from <a href=""http://sas-and-r.blogspot.com/2010/08/example-83-pyramid-plots.html?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+SASandR+%28SAS+and+R%29"" rel=""noreferrer"">here</a>, can anyone give me some hint on doing this using ggplot? Thanks!</p>
","373908","","108518","","2011-01-27 03:15:32","2020-06-23 20:18:19","drawing pyramid plot using R and ggplot2","<r><ggplot2>","5","1","19","","","CC BY-SA 2.5","4559229","4452","4452","r","404559","3625322","3607736","",""
"4559255","1","4559489","","2010-12-30 01:10:00","","1","1517","<h2>Background</h2>

<p>Distinguish between model values and predicted values.</p>

<h2>Problem</h2>

<p>Consider the following code:</p>

<pre><code>library( 'gam' )

slope = 0.55
amplitude = 0.22
frequency = 3
noise = 0.75
x &lt;- 1:200
y &lt;- (slope * x / 100) + (amplitude * sin( frequency * x / 100 ))
ynoise &lt;- y + (noise * runif( length( x ) ))

gam.object &lt;- gam( ynoise ~ s( x ) )
p &lt;- predict( gam.object, data.frame( x = 1:210 ) )

df &lt;- data.frame( value=p, model='y' )
</code></pre>

<h2>Question</h2>

<p>What is the R syntax to set some <code>model</code> rows of the data frame (<code>df</code>) to <code>'n'</code>?:</p>

<pre><code>df[201:210,2] &lt;- 'n'
</code></pre>

<p>Doesn't work, nor do any of the variations I have tried.</p>

<h2>Related</h2>

<p><a href=""http://stat.ethz.ch/R-manual/R-patched/library/base/html/Extract.data.frame.html"" rel=""nofollow"">http://stat.ethz.ch/R-manual/R-patched/library/base/html/Extract.data.frame.html</a></p>

<p>Thank you!</p>
","59087","","59087","","2010-12-30 03:30:54","2010-12-30 14:39:53","Change data.frame values","<r><dataframe>","2","0","","","","CC BY-SA 2.5","4559255","4452","4452","r","404559","3625322","3607736","",""
"4560459","1","4561534","","2010-12-30 06:18:17","","70","55650","<p>I have a <code>data.frame</code> consisting of numeric and factor variables as seen below.</p>

<pre><code>testFrame &lt;- data.frame(First=sample(1:10, 20, replace=T),
           Second=sample(1:20, 20, replace=T), Third=sample(1:10, 20, replace=T),
           Fourth=rep(c(""Alice"",""Bob"",""Charlie"",""David""), 5),
           Fifth=rep(c(""Edward"",""Frank"",""Georgia"",""Hank"",""Isaac""),4))
</code></pre>

<p>I want to build out a <code>matrix</code> that assigns dummy variables to the factor and leaves the numeric variables alone.</p>

<pre><code>model.matrix(~ First + Second + Third + Fourth + Fifth, data=testFrame)
</code></pre>

<p>As expected when running <code>lm</code> this leaves out one level of each factor as the reference level.  However, I want to build out a <code>matrix</code> with a dummy/indicator variable for every level of all the factors.  I am building this matrix for <code>glmnet</code> so I am not worried about multicollinearity.</p>

<p>Is there a way to have <code>model.matrix</code> create the dummy for every level of the factor?</p>
","260533","","1013393","","2013-12-07 09:38:41","2020-03-27 02:15:15","All Levels of a Factor in a Model Matrix in R","<r><matrix><model><indicator>","10","0","45","","","CC BY-SA 2.5","4560459","4452","4452","r","404559","3625322","3607736","",""
"4562257","1","4562291","","2010-12-30 11:35:58","","4","4869","<p>I'd appreciate any idea on how to do it, so we can compare them with each other.</p>

<p>Here is one to start out with:</p>

<pre><code>is.natural &lt;- function(x)
{
     x&gt;0 &amp;&amp; identical(round(x), x)
}
</code></pre>
","256662","","792066","","2021-05-10 15:49:30","2021-05-10 15:49:30","How to check if a number is a positive natural number?","<r>","5","2","","","","CC BY-SA 4.0","4562257","4452","4452","r","404559","3625322","3607736","",""
"4562547","1","4562655","","2010-12-30 12:21:20","","6","7456","<p>I have imported data from a file into a data frame in R. It is something like this.</p>

<pre><code>Name      Count   Category
A         100     Cat1
C         10      Cat2
D         40      Cat1 
E         30      Cat3
H         3       Cat3
Z         20      Cat2
M         50      Cat10
</code></pre>

<p>So now i want to add the <strong>Category</strong> column depending on the values in the column <strong>Name</strong>. So something like if Name = (A, D), Category = 'Cat1' etc.</p>

<p>This is only a simple example I am giving. I have a large number of Names and Categories so I want a compact syntax. How can I do this?</p>

<p>Edit: I've changed the example to better suit my needs as the name can be anything not numeric. Sorry for not being too clear before.</p>
","213334","","1317221","","2012-05-27 10:14:16","2013-10-24 12:31:50","How do add a column in a data frame in R","<r>","5","0","5","","","CC BY-SA 2.5","4562547","4452","4452","r","404559","3625322","3607736","",""
"4566003","1","","","2010-12-30 20:26:40","","4","669","<p>I am learning Roxygen and making good progress so far. I've been able to document most of the package that I'm working on, but I've got a few places that I can't seem to get right. Please consider the following minimal R:</p>

<pre><code>##' Test Roxygen Comments
##'
##' This is a test of the Roxygen System. Had this been actual
##' documentation, it may have contained information about the
##' directives and/or structures below.
##'
##' @name simple
##' @docType data
##' @rdname simple

variable &lt;- list(
                 ##' itema comments
                 itema &lt;- c(""bing"", ""bang"", ""bong""),

                 ##' itemb comments
                 itemb &lt;- ""fooflakes""
)

##' More info abuot variable!
##' @rdname simple
</code></pre>

<p>The comments that are inside the <code>list()</code> are just dropped by Roxygen I've confirmed this with:</p>

<pre><code>&gt; parse.file(""package-test/R/simple.R"")
$`1`
$`1`$description
[1] ""Test Roxygen Comments\n\nThis is a test of the Roxygen System. Had this been actual\ndocumentation, it may have contained information about the\ndirectives and/or structures below.\n\n""

$`1`$name
[1] ""simple\n""

$`1`$docType
[1] ""data""

$`1`$rdname
[1] ""simple""

$`1`$assignee
[1] ""variable""

$`1`$srcref
$`1`$srcref$filename
[1] ""package-test/R/simple.R""

$`1`$srcref$lloc
[1] 11  1 17  1  1  1
</code></pre>

<p>I have an options setting infrastructure, for which I'd like to use Roxygen to document the individual options.  It doesn't seem to matter whether or not I indent the comments, moving them flush-left doesn't seem to help. Adding @rdname to every block doesn't seem to help either.  Am I just expecting behavior that doesn't exist? In another question, the accepted answer said we could put Roxygen comments anywhere and that they would be collected.</p>

<p>So two fold: what am I missing above, and how do other people document individual data items if not like my attempt?</p>

<p>Thank you!</p>
","450862","","","","","2010-12-31 02:35:57","Roxygen documentation of list items","<r><roxygen>","1","2","0","","","CC BY-SA 2.5","4566003","4452","4452","r","404559","3625322","3607736","",""
"4566864","1","4567016","","2010-12-30 22:47:12","","0","1201","<p>I have a quite long and (for me) complex question. I have voting data from the Council of the European Union, where the voting behaviour for each country has been coded according to a nominal scale:</p>

<pre><code>0: yes
1: no
2: Abstention
3: no with a negative statement
4: Abstention with a negative statement
5: yes with a negative statement
</code></pre>

<p>The data is in the following format (see the end of the post for a dump of 20 observations from the data set):</p>

<pre><code>Country1 Country2 Country3 ... Date
1        0        0        ... 2004-12-12
1        2        0        ... 2003-02-14
2        0        1        ... 2004-05-22
...      ...      ...      ... ...
</code></pre>

<p>First of all I would like to aggregate the data into monthly intervals, where for each month we have a sum of how many 0,1,2 etc there were for each country. Ideally the data should look like this:</p>

<pre><code>Month    Country   sum of 0s    sum of 1s   Sum of 2s
January  Country1  2            0           1  
January  Country2  4            0           0
...      ...       ...          ...         ...
</code></pre>

<p>Once this has been done I would like to put the data into panel format like this:</p>

<pre><code>Country   Month    sum of 0s   sum of 1s   sum of 2s
Country1  January  2           0           1 
Country1  February 0           1           3
...       ...      ...         ...         ...
Country2  January  4           0           0
Country2  February 2           2           0
...       ...      ...         ...         ...
</code></pre>

<p>I am sorry if this is a very time consuming question, but I have been playing around with aggregate, by and different apply functions forever, without being able to get the desired result. Any help will be greatly appreciated!</p>

<p>20 observations from the data set (output from the dput() function):</p>

<pre><code>    structure(list(Recitals = c(29L, 13L, 2L, 20L, 10L, 18L, 29L, 
6L, 4L, 16L, 7L, 6L, 12L, 23L, 6L, 10L, 2L, 6L, 9L, 8L, 7L), 
    Voting_Rule = structure(c(4L, 4L, 5L, 5L, 5L, 5L, 5L, 4L, 
    4L, 4L, 5L, 4L, 5L, 4L, 5L, 4L, 4L, 5L, 4L, 4L, 4L), .Label = c(""0"", 
    ""Qualified Majority"", ""Simple Majority"", ""Unanimity"", ""Qualified majority"", 
    ""Simple majority""), class = ""factor""), Belgium = c(0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L), Denmark = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 1L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), 
    Czech.Republic = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Germany = c(0L, 
    0L, 0L, 0L, 0L, 4L, 0L, 0L, 0L, 0L, 0L, 0L, 2L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L), Estonia = c(0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L
    ), Greece = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 2L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Spain = c(0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L), France = c(0L, 0L, 0L, 3L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Ireland = c(0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L), Italy = c(0L, 0L, 0L, 0L, 0L, 0L, 5L, 
    0L, 0L, 0L, 0L, 0L, 2L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), 
    Cyprus = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Latvia = c(0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L), Lithuania = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Luxembourg = c(0L, 
    0L, 0L, 0L, 0L, 4L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L), Hungary = c(0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L
    ), Malta = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Netherlands = c(0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L), Austria = c(0L, 0L, 0L, 1L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L
    ), Poland = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Portugal = c(0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L), Slovenia = c(0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L
    ), Slovakia = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Finland = c(0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L), Sweden = c(0L, 0L, 0L, 0L, 0L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 2L, 0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), 
    UK = c(0L, 0L, 0L, 0L, 0L, 0L, 5L, 0L, 0L, 0L, 5L, 0L, 0L, 
    0L, 0L, 0L, 0L, 0L, 0L, 0L, 0L), Dates = structure(c(12716, 
    12716, 12716, 12674, 12674, 12698, 12705, 12724, 12738, 12738, 
    12716, 12741, 12744, 12754, 12754, 12758, 12758, 12758, 12759, 
    12759, 12759), class = ""Date"")), .Names = c(""Recitals"", ""Voting_Rule"", 
""Belgium"", ""Denmark"", ""Czech.Republic"", ""Germany"", ""Estonia"", 
""Greece"", ""Spain"", ""France"", ""Ireland"", ""Italy"", ""Cyprus"", ""Latvia"", 
""Lithuania"", ""Luxembourg"", ""Hungary"", ""Malta"", ""Netherlands"", 
""Austria"", ""Poland"", ""Portugal"", ""Slovenia"", ""Slovakia"", ""Finland"", 
""Sweden"", ""UK"", ""Dates""), row.names = c(752L, 753L, 762L, 774L, 
775L, 776L, 777L, 780L, 789L, 790L, 793L, 794L, 797L, 816L, 817L, 
818L, 819L, 820L, 824L, 825L, 826L), class = ""data.frame"")
</code></pre>
","363268","","4370109","","2015-12-03 21:07:40","2015-12-03 21:07:40","Reshaping data into panel format in R","<r><dataset><panel><aggregate><reshape>","1","0","1","","","CC BY-SA 3.0","4566864","4452","4452","r","404559","3625322","3607736","",""
"11995832","1","11995833","","2010-11-20 00:40:53","","94","241080","<p>I was wondering what is your recommended way to compute the inverse of a matrix?</p>

<p>The ways I found seem not satisfactory. For example, </p>

<pre><code>&gt; c=rbind(c(1, -1/4), c(-1/4, 1))  
&gt; c  
      [,1]  [,2]  
[1,]  1.00 -0.25  
[2,] -0.25  1.00  
&gt; inv(c)  
Error: could not find function ""inv""  
&gt; solve(c)    
          [,1]      [,2]  
[1,] 1.0666667 0.2666667  
[2,] 0.2666667 1.0666667  
&gt; solve(c)*c  
            [,1]        [,2]  
[1,]  1.06666667 -0.06666667  
[2,] -0.06666667  1.06666667  
&gt; qr.solve(c)*c  
            [,1]        [,2]  
[1,]  1.06666667 -0.06666667  
[2,] -0.06666667  1.06666667  
</code></pre>

<p>Thanks!</p>
","156458","Tim","","","","2016-12-10 12:44:50","Inverse of matrix in R","<r><matrix-inverse>","3","1","20","","","CC BY-SA 2.5","11995832","4452","4452","r","404559","3625322","3607736","",""
"12040197","1","12040198","","2010-08-03 09:14:22","","18","134585","<p>I don't understand why R gives me a warning about &quot;Longer object length is not a multiple of shorter object length&quot;</p>
<p>I have this object which is generated by doing an aggregate over an xts series giving the weekday median:</p>
<pre><code>u &lt;- aggregate(d, list(Ukedag = format(index(d),&quot;%w&quot;)), median)

1 314.0
2 282.5
3 270.0
4 267.0
5 240.5
</code></pre>
<p>Then I try to apply this to my original xts series, which looks like this (only a lot longer)</p>
<pre><code>head(d)
2009-01-02 116
2009-01-05 256
2009-01-06 286
</code></pre>
<p>Using:</p>
<pre><code>coredata(d) &lt;- coredat(d) - u[format(index(d),&quot;%w&quot;)];
</code></pre>
<p>Which results in a warning.</p>
<p>The intent is to subtract the weekday mean. It appears to work despite the warning, but what should I worry about?</p>
<h2>Revised solution: Attempt 2</h2>
<pre><code>apply.daily(d, function(x) coredata(x) - u[format(index(x), &quot;%w&quot;)] )
</code></pre>
<p>I did indeed have a serious error. This doesn't give any warnings and I tested it by doing:</p>
<pre><code>apply.daily(d, function(x) u[format(index(x), &quot;%w&quot;)] )
</code></pre>
<p>Then checking some dates, and it appeared that is was in alignment with the calendar.</p>
","12677","tovare","-1","","2020-06-20 09:12:55","2012-08-31 02:59:26","Longer object length is not a multiple of shorter object length?","<r><xts>","1","5","4","2016-10-11 21:21:46","","CC BY-SA 2.5","12040197","4452","4452","r","404559","3625322","3607736","",""
"12092369","1","12092379","","2010-09-28 21:21:07","","19","17291","<p>The task is to create a file (word, rtf, pdf, html, or whatever) that will capture the output of R (e.g: not the code that created the output), into that format (including text <strong>and</strong> images).</p>

<p>The way of doing this should involve as little change to the original R script as possible.</p>

<p>If I had cared only for the text or images, then I would use ?sink, or ?pdf.  But I don't know how to combine the two into one output in an easy way.</p>

<p>I know there is a way to <a href=""http://www.r-statistics.com/2010/05/exporting-r-output-to-ms-word-with-r2wd-an-example-session/"">export R output using r2wd</a>, but it involves too much medaling in the original code for my taste (I imagine the same is true for the sweave solution, although I don't have experience with it to tell)</p>

<p>Here is a sample code for future examples:</p>

<pre><code>START.text.and.image.recording(""output.file"") # this is the function I am looking for
x &lt;- rnorm(100)
y &lt;- jitter(x)
print(summary(x))
print(head(data.frame(x,y)))
cor(x,y)
plot(x,y)
print(summary(lm(y~x)))
STOP.text.and.image.recording(""output.file"") # this is the function I am looking for
</code></pre>

<p><strong>Update</strong>:  I was asked way not Sweave, or other options from <a href=""http://cran.r-project.org/web/views/ReproducibleResearch.html"">ReproducibleResearch task view</a>.</p>

<p>The reasons are:</p>

<ol>
<li>I don't (yet) know LaTeX</li>
<li>Even knowing LaTeX, I want something with simple defaults to <strong>simply</strong> dump all the outputs together, and in order.  ""simply"" means - as little extra code/file management overhead as possible.</li>
</ol>

<p>I understand that something like sweave or brew are more scalable, but I am looking to see if there is a more ""simple"" solution for smaller projects/scripts.</p>
","256662","Tal Galili","180892","","2012-08-24 00:18:15","2014-02-20 18:06:23","How to capture R text+image output into one file (html, doc, pdf etc)?","<r><sweave><knitr>","11","0","1","","","CC BY-SA 2.5","12092369","4452","4452","r","404559","3625322","3607736","",""
"12235677","1","12235678","","2010-12-04 18:18:59","","4","18318","<p>Does anybody know how to embolden the <code>x</code> and <code>y</code> axis labels (""Single sample"" and ""Value axis"") in an R boxplot?</p>

<p>This is what my boxplot looks like:
<img src=""https://i.stack.imgur.com/k7WHI.png"" alt=""http://img822.imageshack.us/img822/331/23807704.png""></p>
","530871","Avatar","5113071","","2017-04-11 17:33:15","2017-04-11 17:33:15","Bold boxplot labels in R","<r><label><boxplot>","1","0","1","","","CC BY-SA 3.0","12235677","4452","4452","r","404559","3625322","3607736","",""
"12342790","1","","","2010-09-08 02:08:55","","9","93887","<p>I'm a new user to R, sorry if my question is too basic.
I've installed  the newest version of R on windows 7 and as a practice, i tried to open a .txt file using </p>

<pre><code>students&lt;-read.table(""students.txt"",header=T,sep=""\t"")
</code></pre>

<p>but there's always an error message as follows:</p>

<pre><code>Error in file(file, ""rt"") : cannot open the connection
In addition: Warning message:
In file(file, ""rt"") :
  cannot open file 'students.txt': No such file or directory
</code></pre>

<p>I've already changed the directory to where the students.txt resides; but it just doesn't work. Please help!</p>

<p>Thank you very much in advance if anyone can help me solve the problem.</p>
","","user1209","","","","2015-04-29 18:08:01","How to import files into R?","<r>","4","2","2","","","CC BY-SA 2.5","12342790","4452","4452","r","404559","3625322","3607736","",""
"12481361","1","12481362","","2010-10-01 00:48:40","","5","654","<p>I would like to plot two functions f1 and f2 on the same graph. With the following code, I found that the scale of the y axes for the two plots are different. Is there a way to make the scales same?</p>

<pre><code>plot(f1, 0, 1)
par(new=TRUE)
plot(f2, 0, 1)
</code></pre>
","156458","Tim","","","","2012-09-18 16:40:42","Multiple Plots in the Same Figure [R]","<r><data-visualization>","1","0","","","","CC BY-SA 2.5","12481361","4452","4452","r","404559","3625322","3607736","",""
"12481371","1","12481372","","2010-09-24 05:58:56","","5","147","<blockquote>
  <p><strong>Possible Duplicate:</strong><br>
  <a href=""https://stackoverflow.com/questions/3784617/how-to-read-logical-data-from-a-file-in-r"">How to read logical data from a file in R</a>  </p>
</blockquote>



<p>I generated a file which contains a logical value either a ""TRUE"" or a ""FALSE"" on each line. Now I would like to read the logical data from the file into R. However the data that are read in are of mode ""character"" not logical values. I was wondering how to read the data as logical values from the file.</p>

<p>My R code is</p>

<pre><code>cat(FALSE,""\n"", file=""1.txt"", append=FALSE);
for (i in 2:5) cat(TRUE,""\n"",file=""1.txt"", append=TRUE);
a=scan(file=""1.txt"", what=""logical"")
</code></pre>

<p>The output is:</p>

<pre><code>&gt; mode(a)
1] ""character""
&gt; mode(a[1])
[1] ""character""
&gt; a[1]
[1] ""FALSE""
</code></pre>

<p>I want a[1] to be logical value.</p>

<p>Thanks and regards!</p>
","156458","Tim","-1","","2017-05-23 10:25:08","2012-09-18 16:41:16","How to read logical data from a file in R","<r>","2","0","","2012-09-23 04:35:02","","CC BY-SA 2.5","12481371","4452","4452","r","404559","3625322","3607736","",""
"12481404","1","12481405","","2010-10-21 08:42:45","","16","10884","<p>I would like to create a vector of functions using a two agruments function 'func', for instance this one:</p>

<pre><code>func = function(number, coefficient) {  
     return(coefficient*number)  
}
</code></pre>

<p>here is how I create the vector of functions:</p>

<pre><code>vector_of_functions = NULL  
for (i in 1:4) {  
     vector_of_functions = c(vector_of_functions, 
                             function(number) func(number=number, coefficient=i))  
}
</code></pre>

<p>My issue is that all functions that compose my vector are the same, even if they have been created using different <code>i</code> through the loop. It seams that they are evaluated using the last value of <code>i</code> (which is a global variable here).</p>

<p>Does anybody have an idea?</p>
","482711","RockScience","","","","2012-09-18 16:43:33","How to create a vector of functions?","<r>","1","0","4","","","CC BY-SA 2.5","12481404","4452","4452","r","404559","3625322","3607736","",""
"12481415","1","12481416","","2010-12-20 02:40:39","","4","46","<p>Suppose I have a vector and I don't know, apriori, its unique elements (here: 1 and 2).</p>

<pre><code>vec &lt;-
  c(1, 1, 1, 2, 2, 2, 2)
</code></pre>

<p>I was interested in knowing is there a better way (or elegant way) of getting the number of unique elements in <code>vec</code> i.e. the same result as <code>table(vec)</code>. It doesn't matter if its a data.frame or a named vector. </p>

<pre><code>R&gt; table(vec)
vec
1 2 
3 4 
</code></pre>

<p><em>Reason:</em> I was curious to know if there is a better way. Also, I noticed that there is a <code>for</code> loop in the <code>base</code> implementation (in addition to .C call). I don't know if it's a big concern, but when I do something like </p>

<pre><code>R&gt; table(rep(1:1000,100000))
</code></pre>

<p>R takes really long time. I am sure it's because of the huge number 100000. But is there a way of making it faster?</p>

<p><strong>EDIT</strong> This also does a good job in addition to <code>Chase's</code> answer.</p>

<pre><code>R&gt; rle(sort(sampData))
</code></pre>
","455175","suncoolsu","","","","2012-09-18 16:44:10","Is there a better way of obtaining the same output as table(vec) where vec is a vector?","<r>","1","0","1","","","CC BY-SA 2.5","12481415","4452","4452","r","404559","3625322","3607736","",""
"12496684","1","12496685","","2010-08-27 14:30:36","","19","22359","<p>Thank you for reading. I find that I am unable to draw lines/points or add text outside of the plot area. If I draw a line from inside the plot (within the axis) area to the area of the xlab main title areas only the part within the plot shows. In a multiple plot graph (mfrow) the line/point will only be drawn inside the last active plot.</p>

<pre><code>plot(0);
l=locator(2,type='n');
lines(l, type='l'); 
</code></pre>

<p>Any solution to this problem? Thanks!</p>
","409828","Adam SO","","","","2012-09-19 14:17:59","How to draw a line or add a text outside of the plot area in R?","<r><data-visualization>","1","0","10","","","CC BY-SA 2.5","12496684","4452","4452","r","404559","3625322","3607736","",""
"12496709","1","12496711","","2010-09-01 13:39:53","","11","5237","<p>I just came by the following plot:</p>

<p><img src=""https://i.stack.imgur.com/kQ6ke.png"" alt=""alt text""></p>

<p>And wondered how can it be done in R?  (or other softwares)</p>

<p><strong>Update 10.03.11</strong>: Thank you everyone who participated in answering this question - you gave wonderful solutions!  I've compiled all the solution presented here (as well as some others I've came by online) in <a href=""http://www.r-statistics.com/2011/03/beeswarm-boxplot-and-plotting-it-with-r/"" rel=""noreferrer"">a post on my blog</a>.</p>
","256662","Tal Galili","","","","2019-08-07 05:22:04","How to plot a violin scatter boxplot (in R)?","<r><data-visualization>","5","11","3","","","CC BY-SA 2.5","12496709","4452","4452","r","404559","3625322","3607736","",""